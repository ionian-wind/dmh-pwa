const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B8IMej3f.js","assets/index-BLj-w7Rl.js","assets/index-BnRQntLi.js","assets/index-CUJ2ZwIl.js","assets/index-IIqnekr7.js","assets/index-C6k4OsxE.js","assets/index-CKOIJbkl.js","assets/index-DKXzOsyr.js","assets/index-CQr2Esza.js","assets/index-DI18Cm3u.js","assets/index-vOorZOUn.js","assets/index-CENMd7FR.js","assets/index-B1RC5t3i.js","assets/index-BwLonodZ.js","assets/index-CCDXFXVR.js","assets/index-lH0WRoWF.js","assets/index-lkF9FtKD.js","assets/index-xlm5Ad-_.js","assets/index-L6k2Z6El.js","assets/dockerfile-BU1Ap__c.js","assets/simple-mode-CKxFYdZi.js","assets/factor-BPndPnYX.js","assets/nsis-ClDXqMnM.js","assets/pug-DukmZTjD.js","assets/javascript-qCveANmP.js","assets/index-CxmknPlN.js","assets/index-BGZgXiam.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function No(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const qn={},pm=[],Mo=()=>{},Mg=()=>!1,G0=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),E8=t=>t.startsWith("onUpdate:"),Un=Object.assign,A8=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},q5e=Object.prototype.hasOwnProperty,or=(t,e)=>q5e.call(t,e),xt=Array.isArray,mm=t=>f1(t)==="[object Map]",K0=t=>f1(t)==="[object Set]",eM=t=>f1(t)==="[object Date]",hne=t=>f1(t)==="[object RegExp]",nn=t=>typeof t=="function",un=t=>typeof t=="string",is=t=>typeof t=="symbol",mr=t=>t!==null&&typeof t=="object",T8=t=>(mr(t)||nn(t))&&nn(t.then)&&nn(t.catch),lI=Object.prototype.toString,f1=t=>lI.call(t),pne=t=>f1(t).slice(8,-1),Bw=t=>f1(t)==="[object Object]",M8=t=>un(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,kd=No(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mne=No("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),D8=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},V5e=/-(\w)/g,Jr=D8(t=>t.replace(V5e,(e,n)=>n?n.toUpperCase():"")),H5e=/\B([A-Z])/g,va=D8(t=>t.replace(H5e,"-$1").toLowerCase()),X0=D8(t=>t.charAt(0).toUpperCase()+t.slice(1)),gm=D8(t=>t?`on${X0(t)}`:""),ma=(t,e)=>!Object.is(t,e),vm=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},m_=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},f3=t=>{const e=parseFloat(t);return isNaN(e)?t:e},d3=t=>{const e=un(t)?Number(t):NaN;return isNaN(e)?t:e};let uz;const zw=()=>uz||(uz=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),U5e=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function j5e(t){return U5e.test(t)?`__props.${t}`:`__props[${JSON.stringify(t)}]`}function W5e(t,e){return t+JSON.stringify(e,(n,r)=>typeof r=="function"?r.toString():r)}const G5e={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},K5e={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"CACHED",[-2]:"BAIL"},X5e={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},Y5e={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},Z5e={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},J5e="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",uI=No(J5e),Q5e=uI,cz=2;function gne(t,e=0,n=t.length){if(e=Math.max(0,Math.min(e,t.length)),n=Math.max(0,Math.min(n,t.length)),e>n)return"";let r=t.split(/(\r?\n)/);const i=r.filter((s,l)=>l%2===1);r=r.filter((s,l)=>l%2===0);let o=0;const a=[];for(let s=0;s<r.length;s++)if(o+=r[s].length+(i[s]&&i[s].length||0),o>=e){for(let l=s-cz;l<=s+cz||n>o;l++){if(l<0||l>=r.length)continue;const u=l+1;a.push(`${u}${" ".repeat(Math.max(3-String(u).length,0))}|  ${r[l]}`);const c=r[l].length,f=i[l]&&i[l].length||0;if(l===s){const d=e-(o-(c+f)),h=Math.max(1,n>o?c-d:n-e);a.push("   |  "+" ".repeat(d)+"^".repeat(h))}else if(l>s){if(n>o){const d=Math.max(Math.min(n-o,c),1);a.push("   |  "+"^".repeat(d))}o+=c+f}}break}return a.join(`
`)}function Al(t){if(xt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=un(r)?cI(r):Al(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(un(t)||mr(t))return t}const e6e=/;(?![^(]*\))/g,t6e=/:([^]+)/,n6e=/\/\*[^]*?\*\//g;function cI(t){const e={};return t.replace(n6e,"").split(e6e).forEach(n=>{if(n){const r=n.split(t6e);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function r6e(t){if(!t)return"";if(un(t))return t;let e="";for(const n in t){const r=t[n];if(un(r)||typeof r=="number"){const i=n.startsWith("--")?n:va(n);e+=`${i}:${r};`}}return e}function Qr(t){let e="";if(un(t))e=t;else if(xt(t))for(let n=0;n<t.length;n++){const r=Qr(t[n]);r&&(e+=r+" ")}else if(mr(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Xc(t){if(!t)return null;let{class:e,style:n}=t;return e&&!un(e)&&(t.class=Qr(e)),n&&(t.style=Al(n)),t}const i6e="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",o6e="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",a6e="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",s6e="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",vne=No(i6e),yne=No(o6e),bne=No(a6e),wne=No(s6e),xne="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sne=No(xne),l6e=No(xne+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function fI(t){return!!t||t===""}const u6e=/[>/="'\u0009\u000a\u000c\u0020]/,CE={};function c6e(t){if(CE.hasOwnProperty(t))return CE[t];const e=u6e.test(t);return e&&console.error(`unsafe attribute name: ${t}`),CE[t]=!e}const f6e={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},d6e=No("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),h6e=No("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),p6e=No("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function m6e(t){if(t==null)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"}const g6e=/["'&<>]/;function v6e(t){const e=""+t,n=g6e.exec(e);if(!n)return e;let r="",i,o,a=0;for(o=n.index;o<e.length;o++){switch(e.charCodeAt(o)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}a!==o&&(r+=e.slice(a,o)),a=o+1,r+=i}return a!==o?r+e.slice(a,o):r}const y6e=/^-?>|<!--|-->|--!>|<!-$/g;function b6e(t){return t.replace(y6e,"")}const _ne=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function w6e(t,e){return t.replace(_ne,n=>e?n==='"'?'\\\\\\"':`\\\\${n}`:`\\${n}`)}function x6e(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Ld(t[r],e[r]);return n}function Ld(t,e){if(t===e)return!0;let n=eM(t),r=eM(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=is(t),r=is(e),n||r)return t===e;if(n=xt(t),r=xt(e),n||r)return n&&r?x6e(t,e):!1;if(n=mr(t),r=mr(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const a in t){const s=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(s&&!l||!s&&l||!Ld(t[a],e[a]))return!1}}return String(t)===String(e)}function qw(t,e){return t.findIndex(n=>Ld(n,e))}const Cne=t=>!!(t&&t.__v_isRef===!0),$e=t=>un(t)?t:t==null?"":xt(t)||mr(t)&&(t.toString===lI||!nn(t.toString))?Cne(t)?$e(t.value):JSON.stringify(t,kne,2):String(t),kne=(t,e)=>Cne(e)?kne(t,e.value):mm(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],o)=>(n[kE(r,o)+" =>"]=i,n),{})}:K0(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>kE(n))}:is(e)?kE(e):mr(e)&&!xt(e)&&!Bw(e)?String(e):e,kE=(t,e="")=>{var n;return is(t)?`Symbol(${(n=t.description)!=null?n:e})`:t},S6e=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:pm,EMPTY_OBJ:qn,NO:Mg,NOOP:Mo,PatchFlagNames:K5e,PatchFlags:G5e,ShapeFlags:X5e,SlotFlags:Y5e,camelize:Jr,capitalize:X0,cssVarNameEscapeSymbolsRE:_ne,def:m_,escapeHtml:v6e,escapeHtmlComment:b6e,extend:Un,genCacheKey:W5e,genPropsAccessExp:j5e,generateCodeFrame:gne,getEscapedCssVarName:w6e,getGlobalThis:zw,hasChanged:ma,hasOwn:or,hyphenate:va,includeBooleanAttr:fI,invokeArrayFns:vm,isArray:xt,isBooleanAttr:l6e,isBuiltInDirective:mne,isDate:eM,isFunction:nn,isGloballyAllowed:uI,isGloballyWhitelisted:Q5e,isHTMLTag:vne,isIntegerKey:M8,isKnownHtmlAttr:d6e,isKnownMathMLAttr:p6e,isKnownSvgAttr:h6e,isMap:mm,isMathMLTag:bne,isModelListener:E8,isObject:mr,isOn:G0,isPlainObject:Bw,isPromise:T8,isRegExp:hne,isRenderableAttrValue:m6e,isReservedProp:kd,isSSRSafeAttrName:c6e,isSVGTag:yne,isSet:K0,isSpecialBooleanAttr:Sne,isString:un,isSymbol:is,isVoidTag:wne,looseEqual:Ld,looseIndexOf:qw,looseToNumber:f3,makeMap:No,normalizeClass:Qr,normalizeProps:Xc,normalizeStyle:Al,objectToString:lI,parseStringStyle:cI,propsToAttrMap:f6e,remove:A8,slotFlagsText:Z5e,stringifyStyle:r6e,toDisplayString:$e,toHandlerKey:gm,toNumber:d3,toRawType:pne,toTypeString:f1},Symbol.toStringTag,{value:"Module"}));/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fa;class dI{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=fa,!e&&fa&&(this.index=(fa.scopes||(fa.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=fa;try{return fa=this,e()}finally{fa=n}}}on(){++this._on===1&&(this.prevScope=fa,fa=this)}off(){this._on>0&&--this._on===0&&(fa=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Vw(t){return new dI(t)}function N8(){return fa}function hI(t,e=!1){fa&&fa.cleanups.push(t)}let Kr;const EE=new WeakSet;class h3{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,fa&&fa.active&&fa.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,EE.has(this)&&(EE.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ane(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,fz(this),Tne(this);const e=Kr,n=Ku;Kr=this,Ku=!0;try{return this.fn()}finally{Mne(this),Kr=e,Ku=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)gI(e);this.deps=this.depsTail=void 0,fz(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?EE.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){tM(this)&&this.run()}get dirty(){return tM(this)}}let Ene=0,S2,_2;function Ane(t,e=!1){if(t.flags|=8,e){t.next=_2,_2=t;return}t.next=S2,S2=t}function pI(){Ene++}function mI(){if(--Ene>0)return;if(_2){let e=_2;for(_2=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;S2;){let e=S2;for(S2=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Tne(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Mne(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),gI(r),_6e(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function tM(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Dne(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Dne(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===p3)||(t.globalVersion=p3,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!tM(t))))return;t.flags|=2;const e=t.dep,n=Kr,r=Ku;Kr=t,Ku=!0;try{Tne(t);const i=t.fn(t._value);(e.version===0||ma(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Kr=n,Ku=r,Mne(t),t.flags&=-3}}function gI(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)gI(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function _6e(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function C6e(t,e){t.effect instanceof h3&&(t=t.effect.fn);const n=new h3(t);e&&Un(n,e);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function k6e(t){t.effect.stop()}let Ku=!0;const Nne=[];function $d(){Nne.push(Ku),Ku=!1}function Bd(){const t=Nne.pop();Ku=t===void 0?!0:t}function fz(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Kr;Kr=void 0;try{e()}finally{Kr=n}}}let p3=0;class E6e{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class O8{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Kr||!Ku||Kr===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Kr)n=this.activeLink=new E6e(Kr,this),Kr.deps?(n.prevDep=Kr.depsTail,Kr.depsTail.nextDep=n,Kr.depsTail=n):Kr.deps=Kr.depsTail=n,One(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Kr.depsTail,n.nextDep=void 0,Kr.depsTail.nextDep=n,Kr.depsTail=n,Kr.deps===n&&(Kr.deps=r)}return n}trigger(e){this.version++,p3++,this.notify(e)}notify(e){pI();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{mI()}}}function One(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)One(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const g_=new WeakMap,ym=Symbol(""),nM=Symbol(""),m3=Symbol("");function ga(t,e,n){if(Ku&&Kr){let r=g_.get(t);r||g_.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new O8),i.map=r,i.key=n),i.track()}}function fd(t,e,n,r,i,o){const a=g_.get(t);if(!a){p3++;return}const s=l=>{l&&l.trigger()};if(pI(),e==="clear")a.forEach(s);else{const l=xt(t),u=l&&M8(n);if(l&&n==="length"){const c=Number(r);a.forEach((f,d)=>{(d==="length"||d===m3||!is(d)&&d>=c)&&s(f)})}else switch((n!==void 0||a.has(void 0))&&s(a.get(n)),u&&s(a.get(m3)),e){case"add":l?u&&s(a.get("length")):(s(a.get(ym)),mm(t)&&s(a.get(nM)));break;case"delete":l||(s(a.get(ym)),mm(t)&&s(a.get(nM)));break;case"set":mm(t)&&s(a.get(ym));break}}mI()}function A6e(t,e){const n=g_.get(t);return n&&n.get(e)}function $1(t){const e=vn(t);return e===t?e:(ga(e,"iterate",m3),_l(t)?e:e.map(Vo))}function I8(t){return ga(t=vn(t),"iterate",m3),t}const T6e={__proto__:null,[Symbol.iterator](){return AE(this,Symbol.iterator,Vo)},concat(...t){return $1(this).concat(...t.map(e=>xt(e)?$1(e):e))},entries(){return AE(this,"entries",t=>(t[1]=Vo(t[1]),t))},every(t,e){return qf(this,"every",t,e,void 0,arguments)},filter(t,e){return qf(this,"filter",t,e,n=>n.map(Vo),arguments)},find(t,e){return qf(this,"find",t,e,Vo,arguments)},findIndex(t,e){return qf(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return qf(this,"findLast",t,e,Vo,arguments)},findLastIndex(t,e){return qf(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return qf(this,"forEach",t,e,void 0,arguments)},includes(...t){return TE(this,"includes",t)},indexOf(...t){return TE(this,"indexOf",t)},join(t){return $1(this).join(t)},lastIndexOf(...t){return TE(this,"lastIndexOf",t)},map(t,e){return qf(this,"map",t,e,void 0,arguments)},pop(){return Zy(this,"pop")},push(...t){return Zy(this,"push",t)},reduce(t,...e){return dz(this,"reduce",t,e)},reduceRight(t,...e){return dz(this,"reduceRight",t,e)},shift(){return Zy(this,"shift")},some(t,e){return qf(this,"some",t,e,void 0,arguments)},splice(...t){return Zy(this,"splice",t)},toReversed(){return $1(this).toReversed()},toSorted(t){return $1(this).toSorted(t)},toSpliced(...t){return $1(this).toSpliced(...t)},unshift(...t){return Zy(this,"unshift",t)},values(){return AE(this,"values",Vo)}};function AE(t,e,n){const r=I8(t),i=r[e]();return r!==t&&!_l(t)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=n(o.value)),o}),i}const M6e=Array.prototype;function qf(t,e,n,r,i,o){const a=I8(t),s=a!==t&&!_l(t),l=a[e];if(l!==M6e[e]){const f=l.apply(t,o);return s?Vo(f):f}let u=n;a!==t&&(s?u=function(f,d){return n.call(this,Vo(f),d,t)}:n.length>2&&(u=function(f,d){return n.call(this,f,d,t)}));const c=l.call(a,u,r);return s&&i?i(c):c}function dz(t,e,n,r){const i=I8(t);let o=n;return i!==t&&(_l(t)?n.length>3&&(o=function(a,s,l){return n.call(this,a,s,l,t)}):o=function(a,s,l){return n.call(this,a,Vo(s),l,t)}),i[e](o,...r)}function TE(t,e,n){const r=vn(t);ga(r,"iterate",m3);const i=r[e](...n);return(i===-1||i===!1)&&L8(n[0])?(n[0]=vn(n[0]),r[e](...n)):i}function Zy(t,e,n=[]){$d(),pI();const r=vn(t)[e].apply(t,n);return mI(),Bd(),r}const D6e=No("__proto__,__v_isRef,__isVue"),Ine=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(is));function N6e(t){is(t)||(t=String(t));const e=vn(this);return ga(e,"has",t),e.hasOwnProperty(t)}class Pne{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?zne:Bne:o?$ne:Lne).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=xt(e);if(!i){let l;if(a&&(l=T6e[n]))return l;if(n==="hasOwnProperty")return N6e}const s=Reflect.get(e,n,li(e)?e:r);return(is(n)?Ine.has(n):D6e(n))||(i||ga(e,"get",n),o)?s:li(s)?a&&M8(n)?s:s.value:mr(s)?i?g3(s):Ps(s):s}}class Rne extends Pne{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._isShallow){const l=zd(o);if(!_l(r)&&!zd(r)&&(o=vn(o),r=vn(r)),!xt(e)&&li(o)&&!li(r))return l?!1:(o.value=r,!0)}const a=xt(e)&&M8(n)?Number(n)<e.length:or(e,n),s=Reflect.set(e,n,r,li(e)?e:i);return e===vn(i)&&(a?ma(r,o)&&fd(e,"set",n,r):fd(e,"add",n,r)),s}deleteProperty(e,n){const r=or(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&fd(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!is(n)||!Ine.has(n))&&ga(e,"has",n),r}ownKeys(e){return ga(e,"iterate",xt(e)?"length":ym),Reflect.ownKeys(e)}}class Fne extends Pne{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const O6e=new Rne,I6e=new Fne,P6e=new Rne(!0),R6e=new Fne(!0),rM=t=>t,Y4=t=>Reflect.getPrototypeOf(t);function F6e(t,e,n){return function(...r){const i=this.__v_raw,o=vn(i),a=mm(o),s=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=i[t](...r),c=n?rM:e?v_:Vo;return!e&&ga(o,"iterate",l?nM:ym),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function Z4(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function L6e(t,e){const n={get(i){const o=this.__v_raw,a=vn(o),s=vn(i);t||(ma(i,s)&&ga(a,"get",i),ga(a,"get",s));const{has:l}=Y4(a),u=e?rM:t?v_:Vo;if(l.call(a,i))return u(o.get(i));if(l.call(a,s))return u(o.get(s));o!==a&&o.get(i)},get size(){const i=this.__v_raw;return!t&&ga(vn(i),"iterate",ym),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,a=vn(o),s=vn(i);return t||(ma(i,s)&&ga(a,"has",i),ga(a,"has",s)),i===s?o.has(i):o.has(i)||o.has(s)},forEach(i,o){const a=this,s=a.__v_raw,l=vn(s),u=e?rM:t?v_:Vo;return!t&&ga(l,"iterate",ym),s.forEach((c,f)=>i.call(o,u(c),u(f),a))}};return Un(n,t?{add:Z4("add"),set:Z4("set"),delete:Z4("delete"),clear:Z4("clear")}:{add(i){!e&&!_l(i)&&!zd(i)&&(i=vn(i));const o=vn(this);return Y4(o).has.call(o,i)||(o.add(i),fd(o,"add",i,i)),this},set(i,o){!e&&!_l(o)&&!zd(o)&&(o=vn(o));const a=vn(this),{has:s,get:l}=Y4(a);let u=s.call(a,i);u||(i=vn(i),u=s.call(a,i));const c=l.call(a,i);return a.set(i,o),u?ma(o,c)&&fd(a,"set",i,o):fd(a,"add",i,o),this},delete(i){const o=vn(this),{has:a,get:s}=Y4(o);let l=a.call(o,i);l||(i=vn(i),l=a.call(o,i)),s&&s.call(o,i);const u=o.delete(i);return l&&fd(o,"delete",i,void 0),u},clear(){const i=vn(this),o=i.size!==0,a=i.clear();return o&&fd(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=F6e(i,t,e)}),n}function P8(t,e){const n=L6e(t,e);return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(or(n,i)&&i in r?n:r,i,o)}const $6e={get:P8(!1,!1)},B6e={get:P8(!1,!0)},z6e={get:P8(!0,!1)},q6e={get:P8(!0,!0)},Lne=new WeakMap,$ne=new WeakMap,Bne=new WeakMap,zne=new WeakMap;function V6e(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function H6e(t){return t.__v_skip||!Object.isExtensible(t)?0:V6e(pne(t))}function Ps(t){return zd(t)?t:F8(t,!1,O6e,$6e,Lne)}function R8(t){return F8(t,!1,P6e,B6e,$ne)}function g3(t){return F8(t,!0,I6e,z6e,Bne)}function U6e(t){return F8(t,!0,R6e,q6e,zne)}function F8(t,e,n,r,i){if(!mr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=H6e(t);if(o===0)return t;const a=i.get(t);if(a)return a;const s=new Proxy(t,o===2?r:n);return i.set(t,s),s}function Yc(t){return zd(t)?Yc(t.__v_raw):!!(t&&t.__v_isReactive)}function zd(t){return!!(t&&t.__v_isReadonly)}function _l(t){return!!(t&&t.__v_isShallow)}function L8(t){return t?!!t.__v_raw:!1}function vn(t){const e=t&&t.__v_raw;return e?vn(e):t}function Y0(t){return!or(t,"__v_skip")&&Object.isExtensible(t)&&m_(t,"__v_skip",!0),t}const Vo=t=>mr(t)?Ps(t):t,v_=t=>mr(t)?g3(t):t;function li(t){return t?t.__v_isRef===!0:!1}function we(t){return qne(t,!1)}function fr(t){return qne(t,!0)}function qne(t,e){return li(t)?t:new j6e(t,e)}class j6e{constructor(e,n){this.dep=new O8,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:vn(e),this._value=n?e:Vo(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||_l(e)||zd(e);e=r?e:vn(e),ma(e,n)&&(this._rawValue=e,this._value=r?e:Vo(e),this.dep.trigger())}}function W6e(t){t.dep&&t.dep.trigger()}function le(t){return li(t)?t.value:t}function y0(t){return nn(t)?t():le(t)}const G6e={get:(t,e,n)=>e==="__v_raw"?t:le(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return li(i)&&!li(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function vI(t){return Yc(t)?t:new Proxy(t,G6e)}class K6e{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new O8,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Vne(t){return new K6e(t)}function Hne(t){const e=xt(t)?new Array(t.length):{};for(const n in t)e[n]=Une(t,n);return e}class X6e{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return A6e(vn(this._object),this._key)}}class Y6e{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Z6e(t,e,n){return li(t)?t:nn(t)?new Y6e(t):mr(t)&&arguments.length>1?Une(t,e,n):we(t)}function Une(t,e,n){const r=t[e];return li(r)?r:new X6e(t,e,n)}class J6e{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new O8(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=p3-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Kr!==this)return Ane(this,!0),!0}get value(){const e=this.dep.track();return Dne(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Q6e(t,e,n=!1){let r,i;return nn(t)?r=t:(r=t.get,i=t.set),new J6e(r,i,n)}const eSe={GET:"get",HAS:"has",ITERATE:"iterate"},tSe={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},J4={},y_=new WeakMap;let $h;function nSe(){return $h}function jne(t,e=!1,n=$h){if(n){let r=y_.get(n);r||y_.set(n,r=[]),r.push(t)}}function rSe(t,e,n=qn){const{immediate:r,deep:i,once:o,scheduler:a,augmentJob:s,call:l}=n,u=w=>i?w:_l(w)||i===!1||i===0?dd(w,1):dd(w);let c,f,d,h,p=!1,m=!1;if(li(t)?(f=()=>t.value,p=_l(t)):Yc(t)?(f=()=>u(t),p=!0):xt(t)?(m=!0,p=t.some(w=>Yc(w)||_l(w)),f=()=>t.map(w=>{if(li(w))return w.value;if(Yc(w))return u(w);if(nn(w))return l?l(w,2):w()})):nn(t)?e?f=l?()=>l(t,2):t:f=()=>{if(d){$d();try{d()}finally{Bd()}}const w=$h;$h=c;try{return l?l(t,3,[h]):t(h)}finally{$h=w}}:f=Mo,e&&i){const w=f,x=i===!0?1/0:i;f=()=>dd(w(),x)}const g=N8(),v=()=>{c.stop(),g&&g.active&&A8(g.effects,c)};if(o&&e){const w=e;e=(...x)=>{w(...x),v()}}let y=m?new Array(t.length).fill(J4):J4;const b=w=>{if(!(!(c.flags&1)||!c.dirty&&!w))if(e){const x=c.run();if(i||p||(m?x.some((S,_)=>ma(S,y[_])):ma(x,y))){d&&d();const S=$h;$h=c;try{const _=[x,y===J4?void 0:m&&y[0]===J4?[]:y,h];y=x,l?l(e,3,_):e(..._)}finally{$h=S}}}else c.run()};return s&&s(b),c=new h3(f),c.scheduler=a?()=>a(b,!1):b,h=w=>jne(w,!1,c),d=c.onStop=()=>{const w=y_.get(c);if(w){if(l)l(w,4);else for(const x of w)x();y_.delete(c)}},e?r?b(!0):y=c.run():a?a(b.bind(null,!0),!0):c.run(),v.pause=c.pause.bind(c),v.resume=c.resume.bind(c),v.stop=v,v}function dd(t,e=1/0,n){if(e<=0||!mr(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,li(t))dd(t.value,e,n);else if(xt(t))for(let r=0;r<t.length;r++)dd(t[r],e,n);else if(K0(t)||mm(t))t.forEach(r=>{dd(r,e,n)});else if(Bw(t)){for(const r in t)dd(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&dd(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Wne=[];function iSe(t){Wne.push(t)}function oSe(){Wne.pop()}function aSe(t,e){}const sSe={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},lSe={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function ry(t,e,n,r){try{return r?t(...r):t()}catch(i){d1(i,e,n)}}function hu(t,e,n,r){if(nn(t)){const i=ry(t,e,n,r);return i&&T8(i)&&i.catch(o=>{d1(o,e,n)}),i}if(xt(t)){const i=[];for(let o=0;o<t.length;o++)i.push(hu(t[o],e,n,r));return i}}function d1(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||qn;if(e){let s=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const c=s.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}s=s.parent}if(o){$d(),ry(o,null,10,[t,l,u]),Bd();return}}uSe(t,n,i,r,a)}function uSe(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Va=[];let Oc=-1;const Lg=[];let Bh=null,cg=0;const Gne=Promise.resolve();let b_=null;function Tn(t){const e=b_||Gne;return t?e.then(this?t.bind(this):t):e}function cSe(t){let e=Oc+1,n=Va.length;for(;e<n;){const r=e+n>>>1,i=Va[r],o=y3(i);o<t||o===t&&i.flags&2?e=r+1:n=r}return e}function yI(t){if(!(t.flags&1)){const e=y3(t),n=Va[Va.length-1];!n||!(t.flags&2)&&e>=y3(n)?Va.push(t):Va.splice(cSe(e),0,t),t.flags|=1,Kne()}}function Kne(){b_||(b_=Gne.then(Xne))}function v3(t){xt(t)?Lg.push(...t):Bh&&t.id===-1?Bh.splice(cg+1,0,t):t.flags&1||(Lg.push(t),t.flags|=1),Kne()}function hz(t,e,n=Oc+1){for(;n<Va.length;n++){const r=Va[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Va.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function w_(t){if(Lg.length){const e=[...new Set(Lg)].sort((n,r)=>y3(n)-y3(r));if(Lg.length=0,Bh){Bh.push(...e);return}for(Bh=e,cg=0;cg<Bh.length;cg++){const n=Bh[cg];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Bh=null,cg=0}}const y3=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Xne(t){try{for(Oc=0;Oc<Va.length;Oc++){const e=Va[Oc];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ry(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Oc<Va.length;Oc++){const e=Va[Oc];e&&(e.flags&=-2)}Oc=-1,Va.length=0,w_(),b_=null,(Va.length||Lg.length)&&Xne()}}let fg,Q4=[];function Yne(t,e){var n,r;fg=t,fg?(fg.enabled=!0,Q4.forEach(({event:i,args:o})=>fg.emit(i,...o)),Q4=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{Yne(o,e)}),setTimeout(()=>{fg||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Q4=[])},3e3)):Q4=[]}let co=null,$8=null;function b3(t){const e=co;return co=t,$8=t&&t.type.__scopeId||null,e}function Zne(t){$8=t}function Jne(){$8=null}const Qne=t=>De;function De(t,e=co,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&fM(-1);const o=b3(e);let a;try{a=t(...i)}finally{b3(o),r._d&&fM(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function fo(t,e){if(co===null)return t;const n=Gw(co),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,s,l=qn]=e[i];o&&(nn(o)&&(o={mounted:o,updated:o}),o.deep&&dd(a),r.push({dir:o,instance:n,value:a,oldValue:void 0,arg:s,modifiers:l}))}return t}function Rc(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);let l=s.dir[r];l&&($d(),hu(l,n,8,[t.el,s,t,e]),Bd())}}const ere=Symbol("_vte"),tre=t=>t.__isTeleport,C2=t=>t&&(t.disabled||t.disabled===""),pz=t=>t&&(t.defer||t.defer===""),mz=t=>typeof SVGElement<"u"&&t instanceof SVGElement,gz=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,iM=(t,e)=>{const n=t&&t.to;return un(n)?e?e(n):null:n},nre={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,o,a,s,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:m,createComment:g}}=u,v=C2(e.props);let{shapeFlag:y,children:b,dynamicChildren:w}=e;if(t==null){const x=e.el=m(""),S=e.anchor=m("");h(x,n,r),h(S,n,r);const _=(C,E)=>{y&16&&(i&&i.isCE&&(i.ce._teleportTarget=C),c(b,C,E,i,o,a,s,l))},k=()=>{const C=e.target=iM(e.props,p),E=ire(C,e,m,h);C&&(a!=="svg"&&mz(C)?a="svg":a!=="mathml"&&gz(C)&&(a="mathml"),v||(_(C,E),P6(e,!1)))};v&&(_(n,S),P6(e,!0)),pz(e.props)?(e.el.__isMounted=!1,ao(()=>{k(),delete e.el.__isMounted},o)):k()}else{if(pz(e.props)&&t.el.__isMounted===!1){ao(()=>{nre.process(t,e,n,r,i,o,a,s,l,u)},o);return}e.el=t.el,e.targetStart=t.targetStart;const x=e.anchor=t.anchor,S=e.target=t.target,_=e.targetAnchor=t.targetAnchor,k=C2(t.props),C=k?n:S,E=k?x:_;if(a==="svg"||mz(S)?a="svg":(a==="mathml"||gz(S))&&(a="mathml"),w?(d(t.dynamicChildren,w,C,i,o,a,s),DI(t,e,!0)):l||f(t,e,C,E,i,o,a,s,!1),v)k?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ex(e,n,x,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const M=e.target=iM(e.props,p);M&&ex(e,M,null,u,0)}else k&&ex(e,S,_,u,1);P6(e,v)}},remove(t,e,n,{um:r,o:{remove:i}},o){const{shapeFlag:a,children:s,anchor:l,targetStart:u,targetAnchor:c,target:f,props:d}=t;if(f&&(i(u),i(c)),o&&i(l),a&16){const h=o||!C2(d);for(let p=0;p<s.length;p++){const m=s[p];r(m,e,n,h,!!m.dynamicChildren)}}},move:ex,hydrate:fSe};function ex(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:a,anchor:s,shapeFlag:l,children:u,props:c}=t,f=o===2;if(f&&r(a,e,n),(!f||C2(c))&&l&16)for(let d=0;d<u.length;d++)i(u[d],e,n,2);f&&r(s,e,n)}function fSe(t,e,n,r,i,o,{o:{nextSibling:a,parentNode:s,querySelector:l,insert:u,createText:c}},f){const d=e.target=iM(e.props,l);if(d){const h=C2(e.props),p=d._lpa||d.firstChild;if(e.shapeFlag&16)if(h)e.anchor=f(a(t),e,s(t),n,r,i,o),e.targetStart=p,e.targetAnchor=p&&a(p);else{e.anchor=a(t);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,d._lpa=e.targetAnchor&&a(e.targetAnchor);break}}m=a(m)}e.targetAnchor||ire(d,e,c,u),f(p&&a(p),e,d,n,r,i,o)}P6(e,h)}return e.anchor&&a(e.anchor)}const rre=nre;function P6(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function ire(t,e,n,r){const i=e.targetStart=n(""),o=e.targetAnchor=n("");return i[ere]=o,t&&(r(i,t),r(o,t)),o}const zh=Symbol("_leaveCb"),tx=Symbol("_enterCb");function bI(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return kt(()=>{t.isMounted=!0}),On(()=>{t.isUnmounting=!0}),t}const zl=[Function,Array],wI={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:zl,onEnter:zl,onAfterEnter:zl,onEnterCancelled:zl,onBeforeLeave:zl,onLeave:zl,onAfterLeave:zl,onLeaveCancelled:zl,onBeforeAppear:zl,onAppear:zl,onAfterAppear:zl,onAppearCancelled:zl},ore=t=>{const e=t.subTree;return e.component?ore(e.component):e},dSe={name:"BaseTransition",props:wI,setup(t,{slots:e}){const n=Lt(),r=bI();return()=>{const i=e.default&&B8(e.default(),!0);if(!i||!i.length)return;const o=are(i),a=vn(t),{mode:s}=a;if(r.isLeaving)return ME(o);const l=vz(o);if(!l)return ME(o);let u=uv(l,a,r,n,f=>u=f);l.type!==Fi&&qd(l,u);let c=n.subTree&&vz(n.subTree);if(c&&c.type!==Fi&&!Uu(l,c)&&ore(n).type!==Fi){let f=uv(c,a,r,n);if(qd(c,f),s==="out-in"&&l.type!==Fi)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,c=void 0},ME(o);s==="in-out"&&l.type!==Fi?f.delayLeave=(d,h,p)=>{const m=lre(r,c);m[String(c.key)]=c,d[zh]=()=>{h(),d[zh]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return o}}};function are(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Fi){e=n;break}}return e}const sre=dSe;function lre(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function uv(t,e,n,r,i){const{appear:o,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:g,onAppear:v,onAfterAppear:y,onAppearCancelled:b}=e,w=String(t.key),x=lre(n,t),S=(C,E)=>{C&&hu(C,r,9,E)},_=(C,E)=>{const M=E[1];S(C,E),xt(C)?C.every(A=>A.length<=1)&&M():C.length<=1&&M()},k={mode:a,persisted:s,beforeEnter(C){let E=l;if(!n.isMounted)if(o)E=g||l;else return;C[zh]&&C[zh](!0);const M=x[w];M&&Uu(t,M)&&M.el[zh]&&M.el[zh](),S(E,[C])},enter(C){let E=u,M=c,A=f;if(!n.isMounted)if(o)E=v||u,M=y||c,A=b||f;else return;let N=!1;const T=C[tx]=I=>{N||(N=!0,I?S(A,[C]):S(M,[C]),k.delayedLeave&&k.delayedLeave(),C[tx]=void 0)};E?_(E,[C,T]):T()},leave(C,E){const M=String(t.key);if(C[tx]&&C[tx](!0),n.isUnmounting)return E();S(d,[C]);let A=!1;const N=C[zh]=T=>{A||(A=!0,E(),T?S(m,[C]):S(p,[C]),C[zh]=void 0,x[M]===t&&delete x[M])};x[M]=t,h?_(h,[C,N]):N()},clone(C){const E=uv(C,e,n,r,i);return i&&i(E),E}};return k}function ME(t){if(Hw(t))return t=rf(t),t.children=null,t}function vz(t){if(!Hw(t))return tre(t.type)&&t.children?are(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&nn(n.default))return n.default()}}function qd(t,e){t.shapeFlag&6&&t.component?(t.transition=e,qd(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function B8(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let a=t[o];const s=n==null?a.key:String(n)+String(a.key!=null?a.key:o);a.type===Tt?(a.patchFlag&128&&i++,r=r.concat(B8(a.children,e,s))):(e||a.type!==Fi)&&r.push(s!=null?rf(a,{key:s}):a)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function nt(t,e){return nn(t)?Un({name:t.name},e,{setup:t}):t}function ure(){const t=Lt();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function xI(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function hSe(t){const e=Lt(),n=fr(null);if(e){const i=e.refs===qn?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:o=>n.value=o})}return n}function $g(t,e,n,r,i=!1){if(xt(t)){t.forEach((p,m)=>$g(p,e&&(xt(e)?e[m]:e),n,r,i));return}if(b0(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&$g(t,e,n,r.component.subTree);return}const o=r.shapeFlag&4?Gw(r.component):r.el,a=i?null:o,{i:s,r:l}=t,u=e&&e.r,c=s.refs===qn?s.refs={}:s.refs,f=s.setupState,d=vn(f),h=f===qn?()=>!1:p=>or(d,p);if(u!=null&&u!==l&&(un(u)?(c[u]=null,h(u)&&(f[u]=null)):li(u)&&(u.value=null)),nn(l))ry(l,s,12,[a,c]);else{const p=un(l),m=li(l);if(p||m){const g=()=>{if(t.f){const v=p?h(l)?f[l]:c[l]:l.value;i?xt(v)&&A8(v,o):xt(v)?v.includes(o)||v.push(o):p?(c[l]=[o],h(l)&&(f[l]=c[l])):(l.value=[o],t.k&&(c[t.k]=l.value))}else p?(c[l]=a,h(l)&&(f[l]=a)):m&&(l.value=a,t.k&&(c[t.k]=a))};a?(g.id=-1,ao(g,n)):g()}}}let yz=!1;const B1=()=>{yz||(console.error("Hydration completed but contains mismatches."),yz=!0)},pSe=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",mSe=t=>t.namespaceURI.includes("MathML"),nx=t=>{if(t.nodeType===1){if(pSe(t))return"svg";if(mSe(t))return"mathml"}},Dg=t=>t.nodeType===8;function gSe(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:o,parentNode:a,remove:s,insert:l,createComment:u}}=t,c=(b,w)=>{if(!w.hasChildNodes()){n(null,b,w),w_(),w._vnode=b;return}f(w.firstChild,b,null,null,null),w_(),w._vnode=b},f=(b,w,x,S,_,k=!1)=>{k=k||!!w.dynamicChildren;const C=Dg(b)&&b.data==="[",E=()=>m(b,w,x,S,_,C),{type:M,ref:A,shapeFlag:N,patchFlag:T}=w;let I=b.nodeType;w.el=b,T===-2&&(k=!1,w.dynamicChildren=null);let O=null;switch(M){case Ed:I!==3?w.children===""?(l(w.el=i(""),a(b),b),O=b):O=E():(b.data!==w.children&&(B1(),b.data=w.children),O=o(b));break;case Fi:y(b)?(O=o(b),v(w.el=b.content.firstChild,b,x)):I!==8||C?O=E():O=o(b);break;case wm:if(C&&(b=o(b),I=b.nodeType),I===1||I===3){O=b;const q=!w.children.length;for(let L=0;L<w.staticCount;L++)q&&(w.children+=O.nodeType===1?O.outerHTML:O.data),L===w.staticCount-1&&(w.anchor=O),O=o(O);return C?o(O):O}else E();break;case Tt:C?O=p(b,w,x,S,_,k):O=E();break;default:if(N&1)(I!==1||w.type.toLowerCase()!==b.tagName.toLowerCase())&&!y(b)?O=E():O=d(b,w,x,S,_,k);else if(N&6){w.slotScopeIds=_;const q=a(b);if(C?O=g(b):Dg(b)&&b.data==="teleport start"?O=g(b,b.data,"teleport end"):O=o(b),e(w,q,null,x,S,nx(q),k),b0(w)&&!w.type.__asyncResolved){let L;C?(L=xe(Tt),L.anchor=O?O.previousSibling:q.lastChild):L=b.nodeType===3?vt(""):xe("div"),L.el=b,w.component.subTree=L}}else N&64?I!==8?O=E():O=w.type.hydrate(b,w,x,S,_,k,t,h):N&128&&(O=w.type.hydrate(b,w,x,S,nx(a(b)),_,k,t,f))}return A!=null&&$g(A,null,S,w),O},d=(b,w,x,S,_,k)=>{k=k||!!w.dynamicChildren;const{type:C,props:E,patchFlag:M,shapeFlag:A,dirs:N,transition:T}=w,I=C==="input"||C==="option";if(I||M!==-1){N&&Rc(w,null,x,"created");let O=!1;if(y(b)){O=Fre(null,T)&&x&&x.vnode.props&&x.vnode.props.appear;const L=b.content.firstChild;if(O){const Y=L.getAttribute("class");Y&&(L.$cls=Y),T.beforeEnter(L)}v(L,b,x),w.el=b=L}if(A&16&&!(E&&(E.innerHTML||E.textContent))){let L=h(b.firstChild,w,b,x,S,_,k);for(;L;){rx(b,1)||B1();const Y=L;L=L.nextSibling,s(Y)}}else if(A&8){let L=w.children;L[0]===`
`&&(b.tagName==="PRE"||b.tagName==="TEXTAREA")&&(L=L.slice(1)),b.textContent!==L&&(rx(b,0)||B1(),b.textContent=w.children)}if(E){if(I||!k||M&48){const L=b.tagName.includes("-");for(const Y in E)(I&&(Y.endsWith("value")||Y==="indeterminate")||G0(Y)&&!kd(Y)||Y[0]==="."||L)&&r(b,Y,null,E[Y],void 0,x)}else if(E.onClick)r(b,"onClick",null,E.onClick,void 0,x);else if(M&4&&Yc(E.style))for(const L in E.style)E.style[L]}let q;(q=E&&E.onVnodeBeforeMount)&&Cs(q,x,w),N&&Rc(w,null,x,"beforeMount"),((q=E&&E.onVnodeMounted)||N||O)&&jre(()=>{q&&Cs(q,x,w),O&&T.enter(b),N&&Rc(w,null,x,"mounted")},S)}return b.nextSibling},h=(b,w,x,S,_,k,C)=>{C=C||!!w.dynamicChildren;const E=w.children,M=E.length;for(let A=0;A<M;A++){const N=C?E[A]:E[A]=As(E[A]),T=N.type===Ed;b?(T&&!C&&A+1<M&&As(E[A+1]).type===Ed&&(l(i(b.data.slice(N.children.length)),x,o(b)),b.data=N.children),b=f(b,N,S,_,k,C)):T&&!N.children?l(N.el=i(""),x):(rx(x,1)||B1(),n(null,N,x,null,S,_,nx(x),k))}return b},p=(b,w,x,S,_,k)=>{const{slotScopeIds:C}=w;C&&(_=_?_.concat(C):C);const E=a(b),M=h(o(b),w,E,x,S,_,k);return M&&Dg(M)&&M.data==="]"?o(w.anchor=M):(B1(),l(w.anchor=u("]"),E,M),M)},m=(b,w,x,S,_,k)=>{if(rx(b.parentElement,1)||B1(),w.el=null,k){const M=g(b);for(;;){const A=o(b);if(A&&A!==M)s(A);else break}}const C=o(b),E=a(b);return s(b),n(null,w,E,C,x,S,nx(E),_),x&&(x.vnode.el=w.el,V8(x,w.el)),C},g=(b,w="[",x="]")=>{let S=0;for(;b;)if(b=o(b),b&&Dg(b)&&(b.data===w&&S++,b.data===x)){if(S===0)return o(b);S--}return b},v=(b,w,x)=>{const S=w.parentNode;S&&S.replaceChild(b,w);let _=x;for(;_;)_.vnode.el===w&&(_.vnode.el=_.subTree.el=b),_=_.parent},y=b=>b.nodeType===1&&b.tagName==="TEMPLATE";return[c,f]}const bz="data-allow-mismatch",vSe={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function rx(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(bz);)t=t.parentElement;const n=t&&t.getAttribute(bz);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:r.includes(vSe[e])}}const ySe=zw().requestIdleCallback||(t=>setTimeout(t,1)),bSe=zw().cancelIdleCallback||(t=>clearTimeout(t)),wSe=(t=1e4)=>e=>{const n=ySe(e,{timeout:t});return()=>bSe(n)};function xSe(t){const{top:e,left:n,bottom:r,right:i}=t.getBoundingClientRect(),{innerHeight:o,innerWidth:a}=window;return(e>0&&e<o||r>0&&r<o)&&(n>0&&n<a||i>0&&i<a)}const SSe=t=>(e,n)=>{const r=new IntersectionObserver(i=>{for(const o of i)if(o.isIntersecting){r.disconnect(),e();break}},t);return n(i=>{if(i instanceof Element){if(xSe(i))return e(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},_Se=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},CSe=(t=[])=>(e,n)=>{un(t)&&(t=[t]);let r=!1;const i=a=>{r||(r=!0,o(),e(),a.target.dispatchEvent(new a.constructor(a.type,a)))},o=()=>{n(a=>{for(const s of t)a.removeEventListener(s,i)})};return n(a=>{for(const s of t)a.addEventListener(s,i,{once:!0})}),o};function kSe(t,e){if(Dg(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(Dg(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const b0=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function ESe(t){nn(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:o,timeout:a,suspensible:s=!0,onError:l}=t;let u=null,c,f=0;const d=()=>(f++,u=null,h()),h=()=>{let p;return u||(p=u=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),l)return new Promise((g,v)=>{l(m,()=>g(d()),()=>v(m),f+1)});throw m}).then(m=>p!==u&&u?u:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),c=m,m)))};return nt({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(p,m,g){const v=o?()=>{const b=o(()=>{g()},w=>kSe(p,w));b&&(m.bum||(m.bum=[])).push(b),(m.u||(m.u=[])).push(()=>!0)}:g;c?v():h().then(()=>!m.isUnmounted&&v())},get __asyncResolved(){return c},setup(){const p=uo;if(xI(p),c)return()=>DE(c,p);const m=b=>{u=null,d1(b,p,13,!r)};if(s&&p.suspense||cv)return h().then(b=>()=>DE(b,p)).catch(b=>(m(b),()=>r?xe(r,{error:b}):null));const g=we(!1),v=we(),y=we(!!i);return i&&setTimeout(()=>{y.value=!1},i),a!=null&&setTimeout(()=>{if(!g.value&&!v.value){const b=new Error(`Async component timed out after ${a}ms.`);m(b),v.value=b}},a),h().then(()=>{g.value=!0,p.parent&&Hw(p.parent.vnode)&&p.parent.update()}).catch(b=>{m(b),v.value=b}),()=>{if(g.value&&c)return DE(c,p);if(v.value&&r)return xe(r,{error:v.value});if(n&&!y.value)return xe(n)}}})}function DE(t,e){const{ref:n,props:r,children:i,ce:o}=e.vnode,a=xe(t,r,i);return a.ref=n,a.ce=o,delete e.vnode.ce,a}const Hw=t=>t.type.__isKeepAlive,ASe={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Lt(),r=n.ctx;if(!r.renderer)return()=>{const y=e.default&&e.default();return y&&y.length===1?y[0]:y};const i=new Map,o=new Set;let a=null;const s=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:f}}}=r,d=f("div");r.activate=(y,b,w,x,S)=>{const _=y.component;u(y,b,w,0,s),l(_.vnode,y,b,w,_,s,x,y.slotScopeIds,S),ao(()=>{_.isDeactivated=!1,_.a&&vm(_.a);const k=y.props&&y.props.onVnodeMounted;k&&Cs(k,_.parent,y)},s)},r.deactivate=y=>{const b=y.component;S_(b.m),S_(b.a),u(y,d,null,1,s),ao(()=>{b.da&&vm(b.da);const w=y.props&&y.props.onVnodeUnmounted;w&&Cs(w,b.parent,y),b.isDeactivated=!0},s)};function h(y){NE(y),c(y,n,s,!0)}function p(y){i.forEach((b,w)=>{const x=gM(b.type);x&&!y(x)&&m(w)})}function m(y){const b=i.get(y);b&&(!a||!Uu(b,a))?h(b):a&&NE(a),i.delete(y),o.delete(y)}We(()=>[t.include,t.exclude],([y,b])=>{y&&p(w=>Db(y,w)),b&&p(w=>!Db(b,w))},{flush:"post",deep:!0});let g=null;const v=()=>{g!=null&&(__(n.subTree.type)?ao(()=>{i.set(g,ix(n.subTree))},n.subTree.suspense):i.set(g,ix(n.subTree)))};return kt(v),jw(v),On(()=>{i.forEach(y=>{const{subTree:b,suspense:w}=n,x=ix(b);if(y.type===x.type&&y.key===x.key){NE(x);const S=x.component.da;S&&ao(S,w);return}h(y)})}),()=>{if(g=null,!e.default)return a=null;const y=e.default(),b=y[0];if(y.length>1)return a=null,y;if(!Vd(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return a=null,b;let w=ix(b);if(w.type===Fi)return a=null,w;const x=w.type,S=gM(b0(w)?w.type.__asyncResolved||{}:x),{include:_,exclude:k,max:C}=t;if(_&&(!S||!Db(_,S))||k&&S&&Db(k,S))return w.shapeFlag&=-257,a=w,b;const E=w.key==null?x:w.key,M=i.get(E);return w.el&&(w=rf(w),b.shapeFlag&128&&(b.ssContent=w)),g=E,M?(w.el=M.el,w.component=M.component,w.transition&&qd(w,w.transition),w.shapeFlag|=512,o.delete(E),o.add(E)):(o.add(E),C&&o.size>parseInt(C,10)&&m(o.values().next().value)),w.shapeFlag|=256,a=w,__(b.type)?b:w}}},cre=ASe;function Db(t,e){return xt(t)?t.some(n=>Db(n,e)):un(t)?t.split(",").includes(e):hne(t)?(t.lastIndex=0,t.test(e)):!1}function iy(t,e){fre(t,"a",e)}function Z0(t,e){fre(t,"da",e)}function fre(t,e,n=uo){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(z8(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Hw(i.parent.vnode)&&TSe(r,e,n,i),i=i.parent}}function TSe(t,e,n,r){const i=z8(e,t,r,!0);Oo(()=>{A8(r[e],i)},n)}function NE(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ix(t){return t.shapeFlag&128?t.ssContent:t}function z8(t,e,n=uo,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...a)=>{$d();const s=Hm(n),l=hu(e,n,t,a);return s(),Bd(),l});return r?i.unshift(o):i.push(o),o}}const ih=t=>(e,n=uo)=>{(!cv||t==="sp")&&z8(t,(...r)=>e(...r),n)},SI=ih("bm"),kt=ih("m"),Uw=ih("bu"),jw=ih("u"),On=ih("bum"),Oo=ih("um"),dre=ih("sp"),hre=ih("rtg"),pre=ih("rtc");function mre(t,e=uo){z8("ec",t,e)}const _I="components",MSe="directives";function h1(t,e){return CI(_I,t,!0,e)||t}const gre=Symbol.for("v-ndc");function ya(t){return un(t)?CI(_I,t,!1)||t:t||gre}function vre(t){return CI(MSe,t)}function CI(t,e,n=!0,r=!1){const i=co||uo;if(i){const o=i.type;if(t===_I){const s=gM(o,!1);if(s&&(s===e||s===Jr(e)||s===X0(Jr(e))))return o}const a=wz(i[t]||o[t],e)||wz(i.appContext[t],e);return!a&&r?o:a}}function wz(t,e){return t&&(t[e]||t[Jr(e)]||t[X0(Jr(e))])}function Gn(t,e,n,r){let i;const o=n&&n[r],a=xt(t);if(a||un(t)){const s=a&&Yc(t);let l=!1,u=!1;s&&(l=!_l(t),u=zd(t),t=I8(t)),i=new Array(t.length);for(let c=0,f=t.length;c<f;c++)i[c]=e(l?u?v_(Vo(t[c])):Vo(t[c]):t[c],c,void 0,o&&o[c])}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o&&o[s])}else if(mr(t))if(t[Symbol.iterator])i=Array.from(t,(s,l)=>e(s,l,void 0,o&&o[l]));else{const s=Object.keys(t);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];i[l]=e(t[c],c,l,o&&o[l])}}else i=[];return n&&(n[r]=i),i}function yre(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(xt(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return t}function Vr(t,e,n={},r,i){if(co.ce||co.parent&&b0(co.parent)&&co.parent.ce)return e!=="default"&&(n.name=e),ye(),He(Tt,null,[xe("slot",n,r&&r())],64);let o=t[e];o&&o._c&&(o._d=!1),ye();const a=o&&kI(o(n)),s=n.key||a&&a.key,l=He(Tt,{key:(s&&!is(s)?s:`_${e}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function kI(t){return t.some(e=>Vd(e)?!(e.type===Fi||e.type===Tt&&!kI(e.children)):!0)?t:null}function bre(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:gm(r)]=t[r];return n}const oM=t=>t?Zre(t)?Gw(t):oM(t.parent):null,k2=Un(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>oM(t.parent),$root:t=>oM(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>AI(t),$forceUpdate:t=>t.f||(t.f=()=>{yI(t.update)}),$nextTick:t=>t.n||(t.n=Tn.bind(t.proxy)),$watch:t=>r_e.bind(t)}),OE=(t,e)=>t!==qn&&!t.__isScriptSetup&&or(t,e),aM={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:a,type:s,appContext:l}=t;let u;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(OE(r,e))return a[e]=1,r[e];if(i!==qn&&or(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&or(u,e))return a[e]=3,o[e];if(n!==qn&&or(n,e))return a[e]=4,n[e];sM&&(a[e]=0)}}const c=k2[e];let f,d;if(c)return e==="$attrs"&&ga(t.attrs,"get",""),c(t);if((f=s.__cssModules)&&(f=f[e]))return f;if(n!==qn&&or(n,e))return a[e]=4,n[e];if(d=l.config.globalProperties,or(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return OE(i,e)?(i[e]=n,!0):r!==qn&&or(r,e)?(r[e]=n,!0):or(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},a){let s;return!!n[a]||t!==qn&&or(t,a)||OE(e,a)||(s=o[0])&&or(s,a)||or(r,a)||or(k2,a)||or(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:or(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},DSe=Un({},aM,{get(t,e){if(e!==Symbol.unscopables)return aM.get(t,e,t)},has(t,e){return e[0]!=="_"&&!uI(e)}});function NSe(){return null}function OSe(){return null}function ISe(t){}function PSe(t){}function RSe(){return null}function FSe(){}function LSe(t,e){return null}function EI(){return xre().slots}function wre(){return xre().attrs}function xre(){const t=Lt();return t.setupContext||(t.setupContext=eie(t))}function w3(t){return xt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function $Se(t,e){const n=w3(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?xt(i)||nn(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function BSe(t,e){return!t||!e?t||e:xt(t)&&xt(e)?t.concat(e):Un({},w3(t),w3(e))}function zSe(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function qSe(t){const e=Lt();let n=t();return hM(),T8(n)&&(n=n.catch(r=>{throw Hm(e),r})),[n,()=>Hm(e)]}let sM=!0;function VSe(t){const e=AI(t),n=t.proxy,r=t.ctx;sM=!1,e.beforeCreate&&xz(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:a,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:m,deactivated:g,beforeDestroy:v,beforeUnmount:y,destroyed:b,unmounted:w,render:x,renderTracked:S,renderTriggered:_,errorCaptured:k,serverPrefetch:C,expose:E,inheritAttrs:M,components:A,directives:N,filters:T}=e;if(u&&HSe(u,r,null),a)for(const q in a){const L=a[q];nn(L)&&(r[q]=L.bind(n))}if(i){const q=i.call(n,n);mr(q)&&(t.data=Ps(q))}if(sM=!0,o)for(const q in o){const L=o[q],Y=nn(L)?L.bind(n,n):nn(L.get)?L.get.bind(n,n):Mo,R=!nn(L)&&nn(L.set)?L.set.bind(n):Mo,B=re({get:Y,set:R});Object.defineProperty(r,q,{enumerable:!0,configurable:!0,get:()=>B.value,set:z=>B.value=z})}if(s)for(const q in s)Sre(s[q],r,n,q);if(l){const q=nn(l)?l.call(n):l;Reflect.ownKeys(q).forEach(L=>{Cl(L,q[L])})}c&&xz(c,t,"c");function O(q,L){xt(L)?L.forEach(Y=>q(Y.bind(n))):L&&q(L.bind(n))}if(O(SI,f),O(kt,d),O(Uw,h),O(jw,p),O(iy,m),O(Z0,g),O(mre,k),O(pre,S),O(hre,_),O(On,y),O(Oo,w),O(dre,C),xt(E))if(E.length){const q=t.exposed||(t.exposed={});E.forEach(L=>{Object.defineProperty(q,L,{get:()=>n[L],set:Y=>n[L]=Y})})}else t.exposed||(t.exposed={});x&&t.render===Mo&&(t.render=x),M!=null&&(t.inheritAttrs=M),A&&(t.components=A),N&&(t.directives=N),C&&xI(t)}function HSe(t,e,n=Mo){xt(t)&&(t=lM(t));for(const r in t){const i=t[r];let o;mr(i)?"default"in i?o=rr(i.from||r,i.default,!0):o=rr(i.from||r):o=rr(i),li(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function xz(t,e,n){hu(xt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Sre(t,e,n,r){let i=r.includes(".")?qre(n,r):()=>n[r];if(un(t)){const o=e[t];nn(o)&&We(i,o)}else if(nn(t))We(i,t.bind(n));else if(mr(t))if(xt(t))t.forEach(o=>Sre(o,e,n,r));else{const o=nn(t.handler)?t.handler.bind(n):e[t.handler];nn(o)&&We(i,o,t)}}function AI(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,s=o.get(e);let l;return s?l=s:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>x_(l,u,a,!0)),x_(l,e,a)),mr(e)&&o.set(e,l),l}function x_(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&x_(t,o,n,!0),i&&i.forEach(a=>x_(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const s=USe[a]||n&&n[a];t[a]=s?s(t[a],e[a]):e[a]}return t}const USe={data:Sz,props:_z,emits:_z,methods:Nb,computed:Nb,beforeCreate:Ba,created:Ba,beforeMount:Ba,mounted:Ba,beforeUpdate:Ba,updated:Ba,beforeDestroy:Ba,beforeUnmount:Ba,destroyed:Ba,unmounted:Ba,activated:Ba,deactivated:Ba,errorCaptured:Ba,serverPrefetch:Ba,components:Nb,directives:Nb,watch:WSe,provide:Sz,inject:jSe};function Sz(t,e){return e?t?function(){return Un(nn(t)?t.call(this,this):t,nn(e)?e.call(this,this):e)}:e:t}function jSe(t,e){return Nb(lM(t),lM(e))}function lM(t){if(xt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ba(t,e){return t?[...new Set([].concat(t,e))]:e}function Nb(t,e){return t?Un(Object.create(null),t,e):e}function _z(t,e){return t?xt(t)&&xt(e)?[...new Set([...t,...e])]:Un(Object.create(null),w3(t),w3(e??{})):e}function WSe(t,e){if(!t)return e;if(!e)return t;const n=Un(Object.create(null),t);for(const r in e)n[r]=Ba(t[r],e[r]);return n}function _re(){return{app:null,config:{isNativeTag:Mg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let GSe=0;function KSe(t,e){return function(r,i=null){nn(r)||(r=Un({},r)),i!=null&&!mr(i)&&(i=null);const o=_re(),a=new WeakSet,s=[];let l=!1;const u=o.app={_uid:GSe++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:nie,get config(){return o.config},set config(c){},use(c,...f){return a.has(c)||(c&&nn(c.install)?(a.add(c),c.install(u,...f)):nn(c)&&(a.add(c),c(u,...f))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,f){return f?(o.components[c]=f,u):o.components[c]},directive(c,f){return f?(o.directives[c]=f,u):o.directives[c]},mount(c,f,d){if(!l){const h=u._ceVNode||xe(r,i);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),f&&e?e(h,c):t(h,c,d),l=!0,u._container=c,c.__vue_app__=u,Gw(h.component)}},onUnmount(c){s.push(c)},unmount(){l&&(hu(s,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return o.provides[c]=f,u},runWithContext(c){const f=bm;bm=u;try{return c()}finally{bm=f}}};return u}}let bm=null;function Cl(t,e){if(uo){let n=uo.provides;const r=uo.parent&&uo.parent.provides;r===n&&(n=uo.provides=Object.create(r)),n[t]=e}}function rr(t,e,n=!1){const r=uo||co;if(r||bm){let i=bm?bm._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&nn(e)?e.call(r&&r.proxy):e}}function Cre(){return!!(uo||co||bm)}const kre={},Ere=()=>Object.create(kre),Are=t=>Object.getPrototypeOf(t)===kre;function XSe(t,e,n,r=!1){const i={},o=Ere();t.propsDefaults=Object.create(null),Tre(t,e,i,o);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:R8(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function YSe(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=t,s=vn(i),[l]=t.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(q8(t.emitsOptions,d))continue;const h=e[d];if(l)if(or(o,d))h!==o[d]&&(o[d]=h,u=!0);else{const p=Jr(d);i[p]=uM(l,s,p,h,t,!1)}else h!==o[d]&&(o[d]=h,u=!0)}}}else{Tre(t,e,i,o)&&(u=!0);let c;for(const f in s)(!e||!or(e,f)&&((c=va(f))===f||!or(e,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(i[f]=uM(l,s,f,void 0,t,!0)):delete i[f]);if(o!==s)for(const f in o)(!e||!or(e,f))&&(delete o[f],u=!0)}u&&fd(t.attrs,"set","")}function Tre(t,e,n,r){const[i,o]=t.propsOptions;let a=!1,s;if(e)for(let l in e){if(kd(l))continue;const u=e[l];let c;i&&or(i,c=Jr(l))?!o||!o.includes(c)?n[c]=u:(s||(s={}))[c]=u:q8(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(o){const l=vn(n),u=s||qn;for(let c=0;c<o.length;c++){const f=o[c];n[f]=uM(i,l,f,u[f],t,!or(u,f))}}return a}function uM(t,e,n,r,i,o){const a=t[n];if(a!=null){const s=or(a,"default");if(s&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&nn(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=Hm(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}a[0]&&(o&&!s?r=!1:a[1]&&(r===""||r===va(n))&&(r=!0))}return r}const ZSe=new WeakMap;function Mre(t,e,n=!1){const r=n?ZSe:e.propsCache,i=r.get(t);if(i)return i;const o=t.props,a={},s=[];let l=!1;if(!nn(t)){const c=f=>{l=!0;const[d,h]=Mre(f,e,!0);Un(a,d),h&&s.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!l)return mr(t)&&r.set(t,pm),pm;if(xt(o))for(let c=0;c<o.length;c++){const f=Jr(o[c]);Cz(f)&&(a[f]=qn)}else if(o)for(const c in o){const f=Jr(c);if(Cz(f)){const d=o[c],h=a[f]=xt(d)||nn(d)?{type:d}:Un({},d),p=h.type;let m=!1,g=!0;if(xt(p))for(let v=0;v<p.length;++v){const y=p[v],b=nn(y)&&y.name;if(b==="Boolean"){m=!0;break}else b==="String"&&(g=!1)}else m=nn(p)&&p.name==="Boolean";h[0]=m,h[1]=g,(m||or(h,"default"))&&s.push(f)}}const u=[a,s];return mr(t)&&r.set(t,u),u}function Cz(t){return t[0]!=="$"&&!kd(t)}const TI=t=>t[0]==="_"||t==="$stable",MI=t=>xt(t)?t.map(As):[As(t)],JSe=(t,e,n)=>{if(e._n)return e;const r=De((...i)=>MI(e(...i)),n);return r._c=!1,r},Dre=(t,e,n)=>{const r=t._ctx;for(const i in t){if(TI(i))continue;const o=t[i];if(nn(o))e[i]=JSe(i,o,r);else if(o!=null){const a=MI(o);e[i]=()=>a}}},Nre=(t,e)=>{const n=MI(e);t.slots.default=()=>n},Ore=(t,e,n)=>{for(const r in e)(n||!TI(r))&&(t[r]=e[r])},QSe=(t,e,n)=>{const r=t.slots=Ere();if(t.vnode.shapeFlag&32){const i=e.__;i&&m_(r,"__",i,!0);const o=e._;o?(Ore(r,e,n),n&&m_(r,"_",o,!0)):Dre(e,r)}else e&&Nre(t,e)},e_e=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,a=qn;if(r.shapeFlag&32){const s=e._;s?n&&s===1?o=!1:Ore(i,e,n):(o=!e.$stable,Dre(e,i)),a=e}else e&&(Nre(t,e),a={default:1});if(o)for(const s in i)!TI(s)&&a[s]==null&&delete i[s]},ao=jre;function Ire(t){return Rre(t)}function Pre(t){return Rre(t,gSe)}function Rre(t,e){const n=zw();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:a,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=Mo,insertStaticContent:p}=t,m=(ee,D,oe,W=null,V=null,F=null,j=void 0,se=null,pe=!!D.dynamicChildren)=>{if(ee===D)return;ee&&!Uu(ee,D)&&(W=Z(ee),z(ee,V,F,!0),ee=null),D.patchFlag===-2&&(pe=!1,D.dynamicChildren=null);const{type:ae,ref:H,shapeFlag:Q}=D;switch(ae){case Ed:g(ee,D,oe,W);break;case Fi:v(ee,D,oe,W);break;case wm:ee==null&&y(D,oe,W,j);break;case Tt:A(ee,D,oe,W,V,F,j,se,pe);break;default:Q&1?x(ee,D,oe,W,V,F,j,se,pe):Q&6?N(ee,D,oe,W,V,F,j,se,pe):(Q&64||Q&128)&&ae.process(ee,D,oe,W,V,F,j,se,pe,fe)}H!=null&&V?$g(H,ee&&ee.ref,F,D||ee,!D):H==null&&ee&&ee.ref!=null&&$g(ee.ref,null,F,ee,!0)},g=(ee,D,oe,W)=>{if(ee==null)r(D.el=s(D.children),oe,W);else{const V=D.el=ee.el;D.children!==ee.children&&u(V,D.children)}},v=(ee,D,oe,W)=>{ee==null?r(D.el=l(D.children||""),oe,W):D.el=ee.el},y=(ee,D,oe,W)=>{[ee.el,ee.anchor]=p(ee.children,D,oe,W,ee.el,ee.anchor)},b=({el:ee,anchor:D},oe,W)=>{let V;for(;ee&&ee!==D;)V=d(ee),r(ee,oe,W),ee=V;r(D,oe,W)},w=({el:ee,anchor:D})=>{let oe;for(;ee&&ee!==D;)oe=d(ee),i(ee),ee=oe;i(D)},x=(ee,D,oe,W,V,F,j,se,pe)=>{D.type==="svg"?j="svg":D.type==="math"&&(j="mathml"),ee==null?S(D,oe,W,V,F,j,se,pe):C(ee,D,V,F,j,se,pe)},S=(ee,D,oe,W,V,F,j,se)=>{let pe,ae;const{props:H,shapeFlag:Q,transition:ie,dirs:ce}=ee;if(pe=ee.el=a(ee.type,F,H&&H.is,H),Q&8?c(pe,ee.children):Q&16&&k(ee.children,pe,null,W,V,IE(ee,F),j,se),ce&&Rc(ee,null,W,"created"),_(pe,ee,ee.scopeId,j,W),H){for(const Te in H)Te!=="value"&&!kd(Te)&&o(pe,Te,null,H[Te],F,W);"value"in H&&o(pe,"value",null,H.value,F),(ae=H.onVnodeBeforeMount)&&Cs(ae,W,ee)}ce&&Rc(ee,null,W,"beforeMount");const ve=Fre(V,ie);ve&&ie.beforeEnter(pe),r(pe,D,oe),((ae=H&&H.onVnodeMounted)||ve||ce)&&ao(()=>{ae&&Cs(ae,W,ee),ve&&ie.enter(pe),ce&&Rc(ee,null,W,"mounted")},V)},_=(ee,D,oe,W,V)=>{if(oe&&h(ee,oe),W)for(let F=0;F<W.length;F++)h(ee,W[F]);if(V){let F=V.subTree;if(D===F||__(F.type)&&(F.ssContent===D||F.ssFallback===D)){const j=V.vnode;_(ee,j,j.scopeId,j.slotScopeIds,V.parent)}}},k=(ee,D,oe,W,V,F,j,se,pe=0)=>{for(let ae=pe;ae<ee.length;ae++){const H=ee[ae]=se?qh(ee[ae]):As(ee[ae]);m(null,H,D,oe,W,V,F,j,se)}},C=(ee,D,oe,W,V,F,j)=>{const se=D.el=ee.el;let{patchFlag:pe,dynamicChildren:ae,dirs:H}=D;pe|=ee.patchFlag&16;const Q=ee.props||qn,ie=D.props||qn;let ce;if(oe&&Cp(oe,!1),(ce=ie.onVnodeBeforeUpdate)&&Cs(ce,oe,D,ee),H&&Rc(D,ee,oe,"beforeUpdate"),oe&&Cp(oe,!0),(Q.innerHTML&&ie.innerHTML==null||Q.textContent&&ie.textContent==null)&&c(se,""),ae?E(ee.dynamicChildren,ae,se,oe,W,IE(D,V),F):j||L(ee,D,se,null,oe,W,IE(D,V),F,!1),pe>0){if(pe&16)M(se,Q,ie,oe,V);else if(pe&2&&Q.class!==ie.class&&o(se,"class",null,ie.class,V),pe&4&&o(se,"style",Q.style,ie.style,V),pe&8){const ve=D.dynamicProps;for(let Te=0;Te<ve.length;Te++){const be=ve[Te],_e=Q[be],ge=ie[be];(ge!==_e||be==="value")&&o(se,be,_e,ge,V,oe)}}pe&1&&ee.children!==D.children&&c(se,D.children)}else!j&&ae==null&&M(se,Q,ie,oe,V);((ce=ie.onVnodeUpdated)||H)&&ao(()=>{ce&&Cs(ce,oe,D,ee),H&&Rc(D,ee,oe,"updated")},W)},E=(ee,D,oe,W,V,F,j)=>{for(let se=0;se<D.length;se++){const pe=ee[se],ae=D[se],H=pe.el&&(pe.type===Tt||!Uu(pe,ae)||pe.shapeFlag&198)?f(pe.el):oe;m(pe,ae,H,null,W,V,F,j,!0)}},M=(ee,D,oe,W,V)=>{if(D!==oe){if(D!==qn)for(const F in D)!kd(F)&&!(F in oe)&&o(ee,F,D[F],null,V,W);for(const F in oe){if(kd(F))continue;const j=oe[F],se=D[F];j!==se&&F!=="value"&&o(ee,F,se,j,V,W)}"value"in oe&&o(ee,"value",D.value,oe.value,V)}},A=(ee,D,oe,W,V,F,j,se,pe)=>{const ae=D.el=ee?ee.el:s(""),H=D.anchor=ee?ee.anchor:s("");let{patchFlag:Q,dynamicChildren:ie,slotScopeIds:ce}=D;ce&&(se=se?se.concat(ce):ce),ee==null?(r(ae,oe,W),r(H,oe,W),k(D.children||[],oe,H,V,F,j,se,pe)):Q>0&&Q&64&&ie&&ee.dynamicChildren?(E(ee.dynamicChildren,ie,oe,V,F,j,se),(D.key!=null||V&&D===V.subTree)&&DI(ee,D,!0)):L(ee,D,oe,H,V,F,j,se,pe)},N=(ee,D,oe,W,V,F,j,se,pe)=>{D.slotScopeIds=se,ee==null?D.shapeFlag&512?V.ctx.activate(D,oe,W,j,pe):T(D,oe,W,V,F,j,pe):I(ee,D,pe)},T=(ee,D,oe,W,V,F,j)=>{const se=ee.component=Yre(ee,W,V);if(Hw(ee)&&(se.ctx.renderer=fe),Jre(se,!1,j),se.asyncDep){if(V&&V.registerDep(se,O,j),!ee.el){const pe=se.subTree=xe(Fi);v(null,pe,D,oe)}}else O(se,ee,D,oe,V,F,j)},I=(ee,D,oe)=>{const W=D.component=ee.component;if(u_e(ee,D,oe))if(W.asyncDep&&!W.asyncResolved){q(W,D,oe);return}else W.next=D,W.update();else D.el=ee.el,W.vnode=D},O=(ee,D,oe,W,V,F,j)=>{const se=()=>{if(ee.isMounted){let{next:Q,bu:ie,u:ce,parent:ve,vnode:Te}=ee;{const Me=Lre(ee);if(Me){Q&&(Q.el=Te.el,q(ee,Q,j)),Me.asyncDep.then(()=>{ee.isUnmounted||se()});return}}let be=Q,_e;Cp(ee,!1),Q?(Q.el=Te.el,q(ee,Q,j)):Q=Te,ie&&vm(ie),(_e=Q.props&&Q.props.onVnodeBeforeUpdate)&&Cs(_e,ve,Q,Te),Cp(ee,!0);const ge=R6(ee),Ae=ee.subTree;ee.subTree=ge,m(Ae,ge,f(Ae.el),Z(Ae),ee,V,F),Q.el=ge.el,be===null&&V8(ee,ge.el),ce&&ao(ce,V),(_e=Q.props&&Q.props.onVnodeUpdated)&&ao(()=>Cs(_e,ve,Q,Te),V)}else{let Q;const{el:ie,props:ce}=D,{bm:ve,m:Te,parent:be,root:_e,type:ge}=ee,Ae=b0(D);if(Cp(ee,!1),ve&&vm(ve),!Ae&&(Q=ce&&ce.onVnodeBeforeMount)&&Cs(Q,be,D),Cp(ee,!0),ie&&de){const Me=()=>{ee.subTree=R6(ee),de(ie,ee.subTree,ee,V,null)};Ae&&ge.__asyncHydrate?ge.__asyncHydrate(ie,ee,Me):Me()}else{_e.ce&&_e.ce._def.shadowRoot!==!1&&_e.ce._injectChildStyle(ge);const Me=ee.subTree=R6(ee);m(null,Me,oe,W,ee,V,F),D.el=Me.el}if(Te&&ao(Te,V),!Ae&&(Q=ce&&ce.onVnodeMounted)){const Me=D;ao(()=>Cs(Q,be,Me),V)}(D.shapeFlag&256||be&&b0(be.vnode)&&be.vnode.shapeFlag&256)&&ee.a&&ao(ee.a,V),ee.isMounted=!0,D=oe=W=null}};ee.scope.on();const pe=ee.effect=new h3(se);ee.scope.off();const ae=ee.update=pe.run.bind(pe),H=ee.job=pe.runIfDirty.bind(pe);H.i=ee,H.id=ee.uid,pe.scheduler=()=>yI(H),Cp(ee,!0),ae()},q=(ee,D,oe)=>{D.component=ee;const W=ee.vnode.props;ee.vnode=D,ee.next=null,YSe(ee,D.props,W,oe),e_e(ee,D.children,oe),$d(),hz(ee),Bd()},L=(ee,D,oe,W,V,F,j,se,pe=!1)=>{const ae=ee&&ee.children,H=ee?ee.shapeFlag:0,Q=D.children,{patchFlag:ie,shapeFlag:ce}=D;if(ie>0){if(ie&128){R(ae,Q,oe,W,V,F,j,se,pe);return}else if(ie&256){Y(ae,Q,oe,W,V,F,j,se,pe);return}}ce&8?(H&16&&K(ae,V,F),Q!==ae&&c(oe,Q)):H&16?ce&16?R(ae,Q,oe,W,V,F,j,se,pe):K(ae,V,F,!0):(H&8&&c(oe,""),ce&16&&k(Q,oe,W,V,F,j,se,pe))},Y=(ee,D,oe,W,V,F,j,se,pe)=>{ee=ee||pm,D=D||pm;const ae=ee.length,H=D.length,Q=Math.min(ae,H);let ie;for(ie=0;ie<Q;ie++){const ce=D[ie]=pe?qh(D[ie]):As(D[ie]);m(ee[ie],ce,oe,null,V,F,j,se,pe)}ae>H?K(ee,V,F,!0,!1,Q):k(D,oe,W,V,F,j,se,pe,Q)},R=(ee,D,oe,W,V,F,j,se,pe)=>{let ae=0;const H=D.length;let Q=ee.length-1,ie=H-1;for(;ae<=Q&&ae<=ie;){const ce=ee[ae],ve=D[ae]=pe?qh(D[ae]):As(D[ae]);if(Uu(ce,ve))m(ce,ve,oe,null,V,F,j,se,pe);else break;ae++}for(;ae<=Q&&ae<=ie;){const ce=ee[Q],ve=D[ie]=pe?qh(D[ie]):As(D[ie]);if(Uu(ce,ve))m(ce,ve,oe,null,V,F,j,se,pe);else break;Q--,ie--}if(ae>Q){if(ae<=ie){const ce=ie+1,ve=ce<H?D[ce].el:W;for(;ae<=ie;)m(null,D[ae]=pe?qh(D[ae]):As(D[ae]),oe,ve,V,F,j,se,pe),ae++}}else if(ae>ie)for(;ae<=Q;)z(ee[ae],V,F,!0),ae++;else{const ce=ae,ve=ae,Te=new Map;for(ae=ve;ae<=ie;ae++){const G=D[ae]=pe?qh(D[ae]):As(D[ae]);G.key!=null&&Te.set(G.key,ae)}let be,_e=0;const ge=ie-ve+1;let Ae=!1,Me=0;const Fe=new Array(ge);for(ae=0;ae<ge;ae++)Fe[ae]=0;for(ae=ce;ae<=Q;ae++){const G=ee[ae];if(_e>=ge){z(G,V,F,!0);continue}let Se;if(G.key!=null)Se=Te.get(G.key);else for(be=ve;be<=ie;be++)if(Fe[be-ve]===0&&Uu(G,D[be])){Se=be;break}Se===void 0?z(G,V,F,!0):(Fe[Se-ve]=ae+1,Se>=Me?Me=Se:Ae=!0,m(G,D[Se],oe,null,V,F,j,se,pe),_e++)}const Ue=Ae?t_e(Fe):pm;for(be=Ue.length-1,ae=ge-1;ae>=0;ae--){const G=ve+ae,Se=D[G],Ie=G+1<H?D[G+1].el:W;Fe[ae]===0?m(null,Se,oe,Ie,V,F,j,se,pe):Ae&&(be<0||ae!==Ue[be]?B(Se,oe,Ie,2):be--)}}},B=(ee,D,oe,W,V=null)=>{const{el:F,type:j,transition:se,children:pe,shapeFlag:ae}=ee;if(ae&6){B(ee.component.subTree,D,oe,W);return}if(ae&128){ee.suspense.move(D,oe,W);return}if(ae&64){j.move(ee,D,oe,fe);return}if(j===Tt){r(F,D,oe);for(let Q=0;Q<pe.length;Q++)B(pe[Q],D,oe,W);r(ee.anchor,D,oe);return}if(j===wm){b(ee,D,oe);return}if(W!==2&&ae&1&&se)if(W===0)se.beforeEnter(F),r(F,D,oe),ao(()=>se.enter(F),V);else{const{leave:Q,delayLeave:ie,afterLeave:ce}=se,ve=()=>{ee.ctx.isUnmounted?i(F):r(F,D,oe)},Te=()=>{Q(F,()=>{ve(),ce&&ce()})};ie?ie(F,ve,Te):Te()}else r(F,D,oe)},z=(ee,D,oe,W=!1,V=!1)=>{const{type:F,props:j,ref:se,children:pe,dynamicChildren:ae,shapeFlag:H,patchFlag:Q,dirs:ie,cacheIndex:ce}=ee;if(Q===-2&&(V=!1),se!=null&&($d(),$g(se,null,oe,ee,!0),Bd()),ce!=null&&(D.renderCache[ce]=void 0),H&256){D.ctx.deactivate(ee);return}const ve=H&1&&ie,Te=!b0(ee);let be;if(Te&&(be=j&&j.onVnodeBeforeUnmount)&&Cs(be,D,ee),H&6)X(ee.component,oe,W);else{if(H&128){ee.suspense.unmount(oe,W);return}ve&&Rc(ee,null,D,"beforeUnmount"),H&64?ee.type.remove(ee,D,oe,fe,W):ae&&!ae.hasOnce&&(F!==Tt||Q>0&&Q&64)?K(ae,D,oe,!1,!0):(F===Tt&&Q&384||!V&&H&16)&&K(pe,D,oe),W&&P(ee)}(Te&&(be=j&&j.onVnodeUnmounted)||ve)&&ao(()=>{be&&Cs(be,D,ee),ve&&Rc(ee,null,D,"unmounted")},oe)},P=ee=>{const{type:D,el:oe,anchor:W,transition:V}=ee;if(D===Tt){$(oe,W);return}if(D===wm){w(ee);return}const F=()=>{i(oe),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(ee.shapeFlag&1&&V&&!V.persisted){const{leave:j,delayLeave:se}=V,pe=()=>j(oe,F);se?se(ee.el,F,pe):pe()}else F()},$=(ee,D)=>{let oe;for(;ee!==D;)oe=d(ee),i(ee),ee=oe;i(D)},X=(ee,D,oe)=>{const{bum:W,scope:V,job:F,subTree:j,um:se,m:pe,a:ae,parent:H,slots:{__:Q}}=ee;S_(pe),S_(ae),W&&vm(W),H&&xt(Q)&&Q.forEach(ie=>{H.renderCache[ie]=void 0}),V.stop(),F&&(F.flags|=8,z(j,ee,D,oe)),se&&ao(se,D),ao(()=>{ee.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&ee.asyncDep&&!ee.asyncResolved&&ee.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},K=(ee,D,oe,W=!1,V=!1,F=0)=>{for(let j=F;j<ee.length;j++)z(ee[j],D,oe,W,V)},Z=ee=>{if(ee.shapeFlag&6)return Z(ee.component.subTree);if(ee.shapeFlag&128)return ee.suspense.next();const D=d(ee.anchor||ee.el),oe=D&&D[ere];return oe?d(oe):D};let te=!1;const J=(ee,D,oe)=>{ee==null?D._vnode&&z(D._vnode,null,null,!0):m(D._vnode||null,ee,D,null,null,null,oe),D._vnode=ee,te||(te=!0,hz(),w_(),te=!1)},fe={p:m,um:z,m:B,r:P,mt:T,mc:k,pc:L,pbc:E,n:Z,o:t};let ue,de;return e&&([ue,de]=e(fe)),{render:J,hydrate:ue,createApp:KSe(J,ue)}}function IE({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Cp({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Fre(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function DI(t,e,n=!1){const r=t.children,i=e.children;if(xt(r)&&xt(i))for(let o=0;o<r.length;o++){const a=r[o];let s=i[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[o]=qh(i[o]),s.el=a.el),!n&&s.patchFlag!==-2&&DI(a,s)),s.type===Ed&&(s.el=a.el),s.type===Fi&&!s.el&&(s.el=a.el)}}function t_e(t){const e=t.slice(),n=[0];let r,i,o,a,s;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)s=o+a>>1,t[n[s]]<u?o=s+1:a=s;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=e[a];return n}function Lre(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Lre(e)}function S_(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const $re=Symbol.for("v-scx"),Bre=()=>rr($re);function J0(t,e){return Ww(t,null,e)}function n_e(t,e){return Ww(t,null,{flush:"post"})}function zre(t,e){return Ww(t,null,{flush:"sync"})}function We(t,e,n){return Ww(t,e,n)}function Ww(t,e,n=qn){const{immediate:r,deep:i,flush:o,once:a}=n,s=Un({},n),l=e&&r||!e&&o!=="post";let u;if(cv){if(o==="sync"){const h=Bre();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Mo,h.resume=Mo,h.pause=Mo,h}}const c=uo;s.call=(h,p,m)=>hu(h,c,p,m);let f=!1;o==="post"?s.scheduler=h=>{ao(h,c&&c.suspense)}:o!=="sync"&&(f=!0,s.scheduler=(h,p)=>{p?h():yI(h)}),s.augmentJob=h=>{e&&(h.flags|=4),f&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const d=rSe(t,e,s);return cv&&(u?u.push(d):l&&d()),d}function r_e(t,e,n){const r=this.proxy,i=un(t)?t.includes(".")?qre(r,t):()=>r[t]:t.bind(r,r);let o;nn(e)?o=e:(o=e.handler,n=e);const a=Hm(this),s=Ww(i,o.bind(r),n);return a(),s}function qre(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function i_e(t,e,n=qn){const r=Lt(),i=Jr(e),o=va(e),a=Vre(t,i),s=Vne((l,u)=>{let c,f=qn,d;return zre(()=>{const h=t[i];ma(c,h)&&(c=h,u())}),{get(){return l(),n.get?n.get(c):c},set(h){const p=n.set?n.set(h):h;if(!ma(p,c)&&!(f!==qn&&ma(h,f)))return;const m=r.vnode.props;m&&(e in m||i in m||o in m)&&(`onUpdate:${e}`in m||`onUpdate:${i}`in m||`onUpdate:${o}`in m)||(c=h,u()),r.emit(`update:${e}`,p),ma(h,p)&&ma(h,f)&&!ma(p,d)&&u(),f=h,d=p}}});return s[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?a||qn:s,done:!1}:{done:!0}}}},s}const Vre=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Jr(e)}Modifiers`]||t[`${va(e)}Modifiers`];function o_e(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||qn;let i=n;const o=e.startsWith("update:"),a=o&&Vre(r,e.slice(7));a&&(a.trim&&(i=n.map(c=>un(c)?c.trim():c)),a.number&&(i=n.map(f3)));let s,l=r[s=gm(e)]||r[s=gm(Jr(e))];!l&&o&&(l=r[s=gm(va(e))]),l&&hu(l,t,6,i);const u=r[s+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,hu(u,t,6,i)}}function Hre(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let a={},s=!1;if(!nn(t)){const l=u=>{const c=Hre(u,e,!0);c&&(s=!0,Un(a,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!s?(mr(t)&&r.set(t,null),null):(xt(o)?o.forEach(l=>a[l]=null):Un(a,o),mr(t)&&r.set(t,a),a)}function q8(t,e){return!t||!G0(e)?!1:(e=e.slice(2).replace(/Once$/,""),or(t,e[0].toLowerCase()+e.slice(1))||or(t,va(e))||or(t,e))}function R6(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:a,attrs:s,emit:l,render:u,renderCache:c,props:f,data:d,setupState:h,ctx:p,inheritAttrs:m}=t,g=b3(t);let v,y;try{if(n.shapeFlag&4){const w=i||r,x=w;v=As(u.call(x,w,c,f,h,d,p)),y=s}else{const w=e;v=As(w.length>1?w(f,{attrs:s,slots:a,emit:l}):w(f,null)),y=e.props?s:s_e(s)}}catch(w){E2.length=0,d1(w,t,1),v=xe(Fi)}let b=v;if(y&&m!==!1){const w=Object.keys(y),{shapeFlag:x}=b;w.length&&x&7&&(o&&w.some(E8)&&(y=l_e(y,o)),b=rf(b,y,!1,!0))}return n.dirs&&(b=rf(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&qd(b,n.transition),v=b,b3(g),v}function a_e(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(Vd(i)){if(i.type!==Fi||i.children==="v-if"){if(n)return;n=i}}else return}return n}const s_e=t=>{let e;for(const n in t)(n==="class"||n==="style"||G0(n))&&((e||(e={}))[n]=t[n]);return e},l_e=(t,e)=>{const n={};for(const r in t)(!E8(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function u_e(t,e,n){const{props:r,children:i,component:o}=t,{props:a,children:s,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?kz(r,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(a[d]!==r[d]&&!q8(u,d))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===a?!1:r?a?kz(r,a,u):!0:!!a;return!1}function kz(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!q8(n,o))return!0}return!1}function V8({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const __=t=>t.__isSuspense;let cM=0;const c_e={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,o,a,s,l,u){if(t==null)d_e(e,n,r,i,o,a,s,l,u);else{if(o&&o.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}h_e(t,e,n,r,i,a,s,l,u)}},hydrate:p_e,normalize:m_e},f_e=c_e;function x3(t,e){const n=t.props&&t.props[e];nn(n)&&n()}function d_e(t,e,n,r,i,o,a,s,l){const{p:u,o:{createElement:c}}=l,f=c("div"),d=t.suspense=Ure(t,i,r,e,f,n,o,a,s,l);u(null,d.pendingBranch=t.ssContent,f,null,r,d,o,a),d.deps>0?(x3(t,"onPending"),x3(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,o,a),Bg(d,t.ssFallback)):d.resolve(!1,!0)}function h_e(t,e,n,r,i,o,a,s,{p:l,um:u,o:{createElement:c}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const d=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:g,isHydrating:v}=f;if(m)f.pendingBranch=d,Uu(d,m)?(l(m,d,f.hiddenContainer,null,i,f,o,a,s),f.deps<=0?f.resolve():g&&(v||(l(p,h,n,r,i,null,o,a,s),Bg(f,h)))):(f.pendingId=cM++,v?(f.isHydrating=!1,f.activeBranch=m):u(m,i,f),f.deps=0,f.effects.length=0,f.hiddenContainer=c("div"),g?(l(null,d,f.hiddenContainer,null,i,f,o,a,s),f.deps<=0?f.resolve():(l(p,h,n,r,i,null,o,a,s),Bg(f,h))):p&&Uu(d,p)?(l(p,d,n,r,i,f,o,a,s),f.resolve(!0)):(l(null,d,f.hiddenContainer,null,i,f,o,a,s),f.deps<=0&&f.resolve()));else if(p&&Uu(d,p))l(p,d,n,r,i,f,o,a,s),Bg(f,d);else if(x3(e,"onPending"),f.pendingBranch=d,d.shapeFlag&512?f.pendingId=d.component.suspenseId:f.pendingId=cM++,l(null,d,f.hiddenContainer,null,i,f,o,a,s),f.deps<=0)f.resolve();else{const{timeout:y,pendingId:b}=f;y>0?setTimeout(()=>{f.pendingId===b&&f.fallback(h)},y):y===0&&f.fallback(h)}}function Ure(t,e,n,r,i,o,a,s,l,u,c=!1){const{p:f,m:d,um:h,n:p,o:{parentNode:m,remove:g}}=u;let v;const y=g_e(t);y&&e&&e.pendingBranch&&(v=e.pendingId,e.deps++);const b=t.props?d3(t.props.timeout):void 0,w=o,x={vnode:t,parent:e,parentComponent:n,namespace:a,container:r,hiddenContainer:i,deps:0,pendingId:cM++,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(S=!1,_=!1){const{vnode:k,activeBranch:C,pendingBranch:E,pendingId:M,effects:A,parentComponent:N,container:T}=x;let I=!1;x.isHydrating?x.isHydrating=!1:S||(I=C&&E.transition&&E.transition.mode==="out-in",I&&(C.transition.afterLeave=()=>{M===x.pendingId&&(d(E,T,o===w?p(C):o,0),v3(A))}),C&&(m(C.el)===T&&(o=p(C)),h(C,N,x,!0)),I||d(E,T,o,0)),Bg(x,E),x.pendingBranch=null,x.isInFallback=!1;let O=x.parent,q=!1;for(;O;){if(O.pendingBranch){O.effects.push(...A),q=!0;break}O=O.parent}!q&&!I&&v3(A),x.effects=[],y&&e&&e.pendingBranch&&v===e.pendingId&&(e.deps--,e.deps===0&&!_&&e.resolve()),x3(k,"onResolve")},fallback(S){if(!x.pendingBranch)return;const{vnode:_,activeBranch:k,parentComponent:C,container:E,namespace:M}=x;x3(_,"onFallback");const A=p(k),N=()=>{x.isInFallback&&(f(null,S,E,A,C,null,M,s,l),Bg(x,S))},T=S.transition&&S.transition.mode==="out-in";T&&(k.transition.afterLeave=N),x.isInFallback=!0,h(k,C,null,!0),T||N()},move(S,_,k){x.activeBranch&&d(x.activeBranch,S,_,k),x.container=S},next(){return x.activeBranch&&p(x.activeBranch)},registerDep(S,_,k){const C=!!x.pendingBranch;C&&x.deps++;const E=S.vnode.el;S.asyncDep.catch(M=>{d1(M,S,0)}).then(M=>{if(S.isUnmounted||x.isUnmounted||x.pendingId!==S.suspenseId)return;S.asyncResolved=!0;const{vnode:A}=S;pM(S,M,!1),E&&(A.el=E);const N=!E&&S.subTree.el;_(S,A,m(E||S.subTree.el),E?null:p(S.subTree),x,a,k),N&&g(N),V8(S,A.el),C&&--x.deps===0&&x.resolve()})},unmount(S,_){x.isUnmounted=!0,x.activeBranch&&h(x.activeBranch,n,S,_),x.pendingBranch&&h(x.pendingBranch,n,S,_)}};return x}function p_e(t,e,n,r,i,o,a,s,l){const u=e.suspense=Ure(e,r,n,t.parentNode,document.createElement("div"),null,i,o,a,s,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,o,a);return u.deps===0&&u.resolve(!1,!0),c}function m_e(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Ez(r?n.default:n),t.ssFallback=r?Ez(n.fallback):xe(Fi)}function Ez(t){let e;if(nn(t)){const n=qm&&t._c;n&&(t._d=!1,ye()),t=t(),n&&(t._d=!0,e=xa,Wre())}return xt(t)&&(t=a_e(t)),t=As(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function jre(t,e){e&&e.pendingBranch?xt(t)?e.effects.push(...t):e.effects.push(t):v3(t)}function Bg(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,V8(r,i))}function g_e(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Tt=Symbol.for("v-fgt"),Ed=Symbol.for("v-txt"),Fi=Symbol.for("v-cmt"),wm=Symbol.for("v-stc"),E2=[];let xa=null;function ye(t=!1){E2.push(xa=t?null:[])}function Wre(){E2.pop(),xa=E2[E2.length-1]||null}let qm=1;function fM(t,e=!1){qm+=t,t<0&&xa&&e&&(xa.hasOnce=!0)}function Gre(t){return t.dynamicChildren=qm>0?xa||pm:null,Wre(),qm>0&&xa&&xa.push(t),t}function Le(t,e,n,r,i,o){return Gre(Ee(t,e,n,r,i,o,!0))}function He(t,e,n,r,i){return Gre(xe(t,e,n,r,i,!0))}function Vd(t){return t?t.__v_isVNode===!0:!1}function Uu(t,e){return t.type===e.type&&t.key===e.key}function v_e(t){}const Kre=({key:t})=>t??null,F6=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?un(t)||li(t)||nn(t)?{i:co,r:t,k:e,f:!!n}:t:null);function Ee(t,e=null,n=null,r=0,i=null,o=t===Tt?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Kre(e),ref:e&&F6(e),scopeId:$8,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:co};return s?(NI(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=un(n)?8:16),qm>0&&!a&&xa&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&xa.push(l),l}const xe=y_e;function y_e(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===gre)&&(t=Fi),Vd(t)){const s=rf(t,e,!0);return n&&NI(s,n),qm>0&&!o&&xa&&(s.shapeFlag&6?xa[xa.indexOf(t)]=s:xa.push(s)),s.patchFlag=-2,s}if(k_e(t)&&(t=t.__vccOpts),e){e=Vm(e);let{class:s,style:l}=e;s&&!un(s)&&(e.class=Qr(s)),mr(l)&&(L8(l)&&!xt(l)&&(l=Un({},l)),e.style=Al(l))}const a=un(t)?1:__(t)?128:tre(t)?64:mr(t)?4:nn(t)?2:0;return Ee(t,e,n,r,i,a,o,!0)}function Vm(t){return t?L8(t)||Are(t)?Un({},t):t:null}function rf(t,e,n=!1,r=!1){const{props:i,ref:o,patchFlag:a,children:s,transition:l}=t,u=e?Ka(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Kre(u),ref:e&&e.ref?n&&o?xt(o)?o.concat(F6(e)):[o,F6(e)]:F6(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Tt?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&rf(t.ssContent),ssFallback:t.ssFallback&&rf(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&qd(c,l.clone(c)),c}function vt(t=" ",e=0){return xe(Ed,null,t,e)}function Xre(t,e){const n=xe(wm,null,t);return n.staticCount=e,n}function ot(t="",e=!1){return e?(ye(),He(Fi,null,t)):xe(Fi,null,t)}function As(t){return t==null||typeof t=="boolean"?xe(Fi):xt(t)?xe(Tt,null,t.slice()):Vd(t)?qh(t):xe(Ed,null,String(t))}function qh(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:rf(t)}function NI(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(xt(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),NI(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Are(e)?e._ctx=co:i===3&&co&&(co.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else nn(e)?(e={default:e,_ctx:co},n=32):(e=String(e),r&64?(n=16,e=[vt(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ka(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Qr([e.class,r.class]));else if(i==="style")e.style=Al([e.style,r.style]);else if(G0(i)){const o=e[i],a=r[i];a&&o!==a&&!(xt(o)&&o.includes(a))&&(e[i]=o?[].concat(o,a):a)}else i!==""&&(e[i]=r[i])}return e}function Cs(t,e,n,r=null){hu(t,e,7,[n,r])}const b_e=_re();let w_e=0;function Yre(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||b_e,o={uid:w_e++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new dI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mre(r,i),emitsOptions:Hre(r,i),emit:null,emitted:null,propsDefaults:qn,inheritAttrs:r.inheritAttrs,ctx:qn,data:qn,props:qn,attrs:qn,slots:qn,refs:qn,setupState:qn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=o_e.bind(null,o),t.ce&&t.ce(o),o}let uo=null;const Lt=()=>uo||co;let C_,dM;{const t=zw(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(a=>a(o)):i[0](o)}};C_=e("__VUE_INSTANCE_SETTERS__",n=>uo=n),dM=e("__VUE_SSR_SETTERS__",n=>cv=n)}const Hm=t=>{const e=uo;return C_(t),t.scope.on(),()=>{t.scope.off(),C_(e)}},hM=()=>{uo&&uo.scope.off(),C_(null)};function Zre(t){return t.vnode.shapeFlag&4}let cv=!1;function Jre(t,e=!1,n=!1){e&&dM(e);const{props:r,children:i}=t.vnode,o=Zre(t);XSe(t,r,o,e),QSe(t,i,n||e);const a=o?x_e(t,e):void 0;return e&&dM(!1),a}function x_e(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,aM);const{setup:r}=n;if(r){$d();const i=t.setupContext=r.length>1?eie(t):null,o=Hm(t),a=ry(r,t,0,[t.props,i]),s=T8(a);if(Bd(),o(),(s||t.sp)&&!b0(t)&&xI(t),s){if(a.then(hM,hM),e)return a.then(l=>{pM(t,l,e)}).catch(l=>{d1(l,t,0)});t.asyncDep=a}else pM(t,a,e)}else Qre(t,e)}function pM(t,e,n){nn(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:mr(e)&&(t.setupState=vI(e)),Qre(t,n)}let k_,mM;function S_e(t){k_=t,mM=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,DSe))}}const __e=()=>!k_;function Qre(t,e,n){const r=t.type;if(!t.render){if(!e&&k_&&!r.render){const i=r.template||AI(t).template;if(i){const{isCustomElement:o,compilerOptions:a}=t.appContext.config,{delimiters:s,compilerOptions:l}=r,u=Un(Un({isCustomElement:o,delimiters:s},a),l);r.render=k_(i,u)}}t.render=r.render||Mo,mM&&mM(t)}{const i=Hm(t);$d();try{VSe(t)}finally{Bd(),i()}}}const C_e={get(t,e){return ga(t,"get",""),t[e]}};function eie(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,C_e),slots:t.slots,emit:t.emit,expose:e}}function Gw(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(vI(Y0(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in k2)return k2[n](t)},has(e,n){return n in e||n in k2}})):t.proxy}function gM(t,e=!0){return nn(t)?t.displayName||t.name:t.name||e&&t.__name}function k_e(t){return nn(t)&&"__vccOpts"in t}const re=(t,e)=>Q6e(t,e,cv);function he(t,e,n){const r=arguments.length;return r===2?mr(e)&&!xt(e)?Vd(e)?xe(t,null,[e]):xe(t,e):xe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Vd(n)&&(n=[n]),xe(t,e,n))}function E_e(){}function A_e(t,e,n,r){const i=n[r];if(i&&tie(i,t))return i;const o=e();return o.memo=t.slice(),o.cacheIndex=r,n[r]=o}function tie(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(ma(n[r],e[r]))return!1;return qm>0&&xa&&xa.push(t),!0}const nie="3.5.17",T_e=Mo,M_e=lSe,D_e=fg,N_e=Yne,O_e={createComponentInstance:Yre,setupComponent:Jre,renderComponentRoot:R6,setCurrentRenderingInstance:b3,isVNode:Vd,normalizeVNode:As,getComponentPublicInstance:Gw,ensureValidVNode:kI,pushWarningContext:iSe,popWarningContext:oSe},I_e=O_e,P_e=null,R_e=null,F_e=null;/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vM;const Az=typeof window<"u"&&window.trustedTypes;if(Az)try{vM=Az.createPolicy("vue",{createHTML:t=>t})}catch{}const rie=vM?t=>vM.createHTML(t):t=>t,L_e="http://www.w3.org/2000/svg",$_e="http://www.w3.org/1998/Math/MathML",sd=typeof document<"u"?document:null,Tz=sd&&sd.createElement("template"),B_e={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?sd.createElementNS(L_e,t):e==="mathml"?sd.createElementNS($_e,t):n?sd.createElement(t,{is:n}):sd.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>sd.createTextNode(t),createComment:t=>sd.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>sd.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const a=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Tz.innerHTML=rie(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const s=Tz.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},bh="transition",Jy="animation",fv=Symbol("_vtc"),iie={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},oie=Un({},wI,iie),z_e=t=>(t.displayName="Transition",t.props=oie,t),Hd=z_e((t,{slots:e})=>he(sre,aie(t),e)),kp=(t,e=[])=>{xt(t)?t.forEach(n=>n(...e)):t&&t(...e)},Mz=t=>t?xt(t)?t.some(e=>e.length>1):t.length>1:!1;function aie(t){const e={};for(const A in t)A in iie||(e[A]=t[A]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=a,appearToClass:c=s,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=q_e(i),m=p&&p[0],g=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:w,onLeaveCancelled:x,onBeforeAppear:S=v,onAppear:_=y,onAppearCancelled:k=b}=e,C=(A,N,T,I)=>{A._enterCancelled=I,Nh(A,N?c:s),Nh(A,N?u:a),T&&T()},E=(A,N)=>{A._isLeaving=!1,Nh(A,f),Nh(A,h),Nh(A,d),N&&N()},M=A=>(N,T)=>{const I=A?_:y,O=()=>C(N,A,T);kp(I,[N,O]),Dz(()=>{Nh(N,A?l:o),Ac(N,A?c:s),Mz(I)||Nz(N,r,m,O)})};return Un(e,{onBeforeEnter(A){kp(v,[A]),Ac(A,o),Ac(A,a)},onBeforeAppear(A){kp(S,[A]),Ac(A,l),Ac(A,u)},onEnter:M(!1),onAppear:M(!0),onLeave(A,N){A._isLeaving=!0;const T=()=>E(A,N);Ac(A,f),A._enterCancelled?(Ac(A,d),yM()):(yM(),Ac(A,d)),Dz(()=>{A._isLeaving&&(Nh(A,f),Ac(A,h),Mz(w)||Nz(A,r,g,T))}),kp(w,[A,T])},onEnterCancelled(A){C(A,!1,void 0,!0),kp(b,[A])},onAppearCancelled(A){C(A,!0,void 0,!0),kp(k,[A])},onLeaveCancelled(A){E(A),kp(x,[A])}})}function q_e(t){if(t==null)return null;if(mr(t))return[PE(t.enter),PE(t.leave)];{const e=PE(t);return[e,e]}}function PE(t){return d3(t)}function Ac(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[fv]||(t[fv]=new Set)).add(e)}function Nh(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[fv];n&&(n.delete(e),n.size||(t[fv]=void 0))}function Dz(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let V_e=0;function Nz(t,e,n,r){const i=t._endId=++V_e,o=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:a,timeout:s,propCount:l}=sie(t,e);if(!a)return r();const u=a+"end";let c=0;const f=()=>{t.removeEventListener(u,d),o()},d=h=>{h.target===t&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},s+1),t.addEventListener(u,d)}function sie(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${bh}Delay`),o=r(`${bh}Duration`),a=Oz(i,o),s=r(`${Jy}Delay`),l=r(`${Jy}Duration`),u=Oz(s,l);let c=null,f=0,d=0;e===bh?a>0&&(c=bh,f=a,d=o.length):e===Jy?u>0&&(c=Jy,f=u,d=l.length):(f=Math.max(a,u),c=f>0?a>u?bh:Jy:null,d=c?c===bh?o.length:l.length:0);const h=c===bh&&/\b(transform|all)(,|$)/.test(r(`${bh}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function Oz(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Iz(n)+Iz(t[r])))}function Iz(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function yM(){return document.body.offsetHeight}function H_e(t,e,n){const r=t[fv];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const E_=Symbol("_vod"),lie=Symbol("_vsh"),A_={beforeMount(t,{value:e},{transition:n}){t[E_]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Qy(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Qy(t,!0),r.enter(t)):r.leave(t,()=>{Qy(t,!1)}):Qy(t,e))},beforeUnmount(t,{value:e}){Qy(t,e)}};function Qy(t,e){t.style.display=e?t[E_]:"none",t[lie]=!e}function U_e(){A_.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const uie=Symbol("");function j_e(t){const e=Lt();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(o=>T_(o,i))},r=()=>{const i=t(e.proxy);e.ce?T_(e.ce,i):bM(e.subTree,i),n(i)};Uw(()=>{v3(r)}),kt(()=>{We(r,Mo,{flush:"post"});const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Oo(()=>i.disconnect())})}function bM(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{bM(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)T_(t.el,e);else if(t.type===Tt)t.children.forEach(n=>bM(n,e));else if(t.type===wm){let{el:n,anchor:r}=t;for(;n&&(T_(n,e),n!==r);)n=n.nextSibling}}function T_(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[uie]=r}}const W_e=/(^|;)\s*display\s*:/;function G_e(t,e,n){const r=t.style,i=un(n);let o=!1;if(n&&!i){if(e)if(un(e))for(const a of e.split(";")){const s=a.slice(0,a.indexOf(":")).trim();n[s]==null&&L6(r,s,"")}else for(const a in e)n[a]==null&&L6(r,a,"");for(const a in n)a==="display"&&(o=!0),L6(r,a,n[a])}else if(i){if(e!==n){const a=r[uie];a&&(n+=";"+a),r.cssText=n,o=W_e.test(n)}}else e&&t.removeAttribute("style");E_ in t&&(t[E_]=o?r.display:"",t[lie]&&(r.display="none"))}const Pz=/\s*!important$/;function L6(t,e,n){if(xt(n))n.forEach(r=>L6(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=K_e(t,e);Pz.test(n)?t.setProperty(va(r),n.replace(Pz,""),"important"):t[r]=n}}const Rz=["Webkit","Moz","ms"],RE={};function K_e(t,e){const n=RE[e];if(n)return n;let r=Jr(e);if(r!=="filter"&&r in t)return RE[e]=r;r=X0(r);for(let i=0;i<Rz.length;i++){const o=Rz[i]+r;if(o in t)return RE[e]=o}return e}const Fz="http://www.w3.org/1999/xlink";function Lz(t,e,n,r,i,o=Sne(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Fz,e.slice(6,e.length)):t.setAttributeNS(Fz,e,n):n==null||o&&!fI(n)?t.removeAttribute(e):t.setAttribute(e,o?"":is(n)?String(n):n)}function $z(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?rie(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const s=o==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(s!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const s=typeof t[e];s==="boolean"?n=fI(n):n==null&&s==="string"?(n="",a=!0):s==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(i||e)}function hd(t,e,n,r){t.addEventListener(e,n,r)}function X_e(t,e,n,r){t.removeEventListener(e,n,r)}const Bz=Symbol("_vei");function Y_e(t,e,n,r,i=null){const o=t[Bz]||(t[Bz]={}),a=o[e];if(r&&a)a.value=r;else{const[s,l]=Z_e(e);if(r){const u=o[e]=eCe(r,i);hd(t,s,u,l)}else a&&(X_e(t,s,a,l),o[e]=void 0)}}const zz=/(?:Once|Passive|Capture)$/;function Z_e(t){let e;if(zz.test(t)){e={};let r;for(;r=t.match(zz);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):va(t.slice(2)),e]}let FE=0;const J_e=Promise.resolve(),Q_e=()=>FE||(J_e.then(()=>FE=0),FE=Date.now());function eCe(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;hu(tCe(r,n.value),e,5,[r])};return n.value=t,n.attached=Q_e(),n}function tCe(t,e){if(xt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const qz=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,nCe=(t,e,n,r,i,o)=>{const a=i==="svg";e==="class"?H_e(t,r,a):e==="style"?G_e(t,n,r):G0(e)?E8(e)||Y_e(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):rCe(t,e,r,a))?($z(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Lz(t,e,r,a,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!un(r))?$z(t,Jr(e),r,o,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Lz(t,e,r,a))};function rCe(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&qz(e)&&nn(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return qz(e)&&un(n)?!1:e in t}const Vz={};/*! #__NO_SIDE_EFFECTS__ */function cie(t,e,n){const r=nt(t,e);Bw(r)&&Un(r,e);class i extends H8{constructor(a){super(r,a,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const iCe=(t,e)=>cie(t,e,Sie),oCe=typeof HTMLElement<"u"?HTMLElement:class{};class H8 extends oCe{constructor(e,n={},r=Aa){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Aa?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof H8){this._parent=e;break}this._instance||(this._resolved?this._mount(this._def):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._inheritParentContext(e))}_inheritParentContext(e=this._parent){e&&this._app&&Object.setPrototypeOf(this._app._context.provides,e._instance.provides)}disconnectedCallback(){this._connected=!1,Tn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:o,styles:a}=r;let s;if(o&&!xt(o))for(const l in o){const u=o[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=d3(this._props[l])),(s||(s=Object.create(null)))[Jr(l)]=!0)}this._numberProps=s,this._resolveProps(r),this.shadowRoot&&this._applyStyles(a),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>{r.configureApp=this._def.configureApp,e(this._def=r,!0)}):e(this._def)}_mount(e){this._app=this._createApp(e),this._inheritParentContext(),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)or(this,r)||Object.defineProperty(this,r,{get:()=>le(n[r])})}_resolveProps(e){const{props:n}=e,r=xt(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(Jr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(o){this._setProp(i,o,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):Vz;const i=Jr(e);n&&this._numberProps&&this._numberProps[i]&&(r=d3(r)),this._setProp(i,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!1){if(n!==this._props[e]&&(n===Vz?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r)){const o=this._ob;o&&o.disconnect(),n===!0?this.setAttribute(va(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(va(e),n+""):n||this.removeAttribute(va(e)),o&&o.observe(this,{attributes:!0})}}_update(){const e=this._createVNode();this._app&&(e.appContext=this._app._context),D_(e,this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=xe(this._def,Un(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(o,a)=>{this.dispatchEvent(new CustomEvent(o,Bw(a[0])?Un({detail:a},a[0]):{detail:a}))};r.emit=(o,...a)=>{i(o,a),va(o)!==o&&i(va(o),a)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=e.length-1;i>=0;i--){const o=document.createElement("style");r&&o.setAttribute("nonce",r),o.textContent=e[i],this.shadowRoot.prepend(o)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const i=e[r],o=i.getAttribute("name")||"default",a=this._slots[o],s=i.parentNode;if(a)for(const l of a){if(n&&l.nodeType===1){const u=n+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let f;for(;f=c.nextNode();)f.setAttribute(u,"")}s.insertBefore(l,i)}else for(;i.firstChild;)s.insertBefore(i.firstChild,i);s.removeChild(i)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function fie(t){const e=Lt(),n=e&&e.ce;return n||null}function aCe(){const t=fie();return t&&t.shadowRoot}function sCe(t="$style"){{const e=Lt();if(!e)return qn;const n=e.type.__cssModules;if(!n)return qn;const r=n[t];return r||qn}}const die=new WeakMap,hie=new WeakMap,M_=Symbol("_moveCb"),Hz=Symbol("_enterCb"),lCe=t=>(delete t.props.mode,t),uCe=lCe({name:"TransitionGroup",props:Un({},oie,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Lt(),r=bI();let i,o;return jw(()=>{if(!i.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!hCe(i[0].el,n.vnode.el,a)){i=[];return}i.forEach(cCe),i.forEach(fCe);const s=i.filter(dCe);yM(),s.forEach(l=>{const u=l.el,c=u.style;Ac(u,a),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[M_]=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u[M_]=null,Nh(u,a))};u.addEventListener("transitionend",f)}),i=[]}),()=>{const a=vn(t),s=aie(a);let l=a.tag||Tt;if(i=[],o)for(let u=0;u<o.length;u++){const c=o[u];c.el&&c.el instanceof Element&&(i.push(c),qd(c,uv(c,s,r,n)),die.set(c,c.el.getBoundingClientRect()))}o=e.default?B8(e.default()):[];for(let u=0;u<o.length;u++){const c=o[u];c.key!=null&&qd(c,uv(c,s,r,n))}return xe(l,null,o)}}}),pie=uCe;function cCe(t){const e=t.el;e[M_]&&e[M_](),e[Hz]&&e[Hz]()}function fCe(t){hie.set(t,t.el.getBoundingClientRect())}function dCe(t){const e=die.get(t),n=hie.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",t}}function hCe(t,e,n){const r=t.cloneNode(),i=t[fv];i&&i.forEach(s=>{s.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:a}=sie(r);return o.removeChild(r),a}const A0=t=>{const e=t.props["onUpdate:modelValue"]||!1;return xt(e)?n=>vm(e,n):e};function pCe(t){t.target.composing=!0}function Uz(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const au=Symbol("_assign"),S3={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[au]=A0(i);const o=r||i.props&&i.props.type==="number";hd(t,e?"change":"input",a=>{if(a.target.composing)return;let s=t.value;n&&(s=s.trim()),o&&(s=f3(s)),t[au](s)}),n&&hd(t,"change",()=>{t.value=t.value.trim()}),e||(hd(t,"compositionstart",pCe),hd(t,"compositionend",Uz),hd(t,"change",Uz))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:o}},a){if(t[au]=A0(a),t.composing)return;const s=(o||t.type==="number")&&!/^0\d/.test(t.value)?f3(t.value):t.value,l=e??"";s!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},OI={deep:!0,created(t,e,n){t[au]=A0(n),hd(t,"change",()=>{const r=t._modelValue,i=dv(t),o=t.checked,a=t[au];if(xt(r)){const s=qw(r,i),l=s!==-1;if(o&&!l)a(r.concat(i));else if(!o&&l){const u=[...r];u.splice(s,1),a(u)}}else if(K0(r)){const s=new Set(r);o?s.add(i):s.delete(i),a(s)}else a(gie(t,o))})},mounted:jz,beforeUpdate(t,e,n){t[au]=A0(n),jz(t,e,n)}};function jz(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if(xt(e))i=qw(e,r.props.value)>-1;else if(K0(e))i=e.has(r.props.value);else{if(e===n)return;i=Ld(e,gie(t,!0))}t.checked!==i&&(t.checked=i)}const II={created(t,{value:e},n){t.checked=Ld(e,n.props.value),t[au]=A0(n),hd(t,"change",()=>{t[au](dv(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[au]=A0(r),e!==n&&(t.checked=Ld(e,r.props.value))}},mie={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=K0(e);hd(t,"change",()=>{const o=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?f3(dv(a)):dv(a));t[au](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,Tn(()=>{t._assigning=!1})}),t[au]=A0(r)},mounted(t,{value:e}){Wz(t,e)},beforeUpdate(t,e,n){t[au]=A0(n)},updated(t,{value:e}){t._assigning||Wz(t,e)}};function Wz(t,e){const n=t.multiple,r=xt(e);if(!(n&&!r&&!K0(e))){for(let i=0,o=t.options.length;i<o;i++){const a=t.options[i],s=dv(a);if(n)if(r){const l=typeof s;l==="string"||l==="number"?a.selected=e.some(u=>String(u)===String(s)):a.selected=qw(e,s)>-1}else a.selected=e.has(s);else if(Ld(dv(a),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function dv(t){return"_value"in t?t._value:t.value}function gie(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const vie={created(t,e,n){ox(t,e,n,null,"created")},mounted(t,e,n){ox(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){ox(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){ox(t,e,n,r,"updated")}};function yie(t,e){switch(t){case"SELECT":return mie;case"TEXTAREA":return S3;default:switch(e){case"checkbox":return OI;case"radio":return II;default:return S3}}}function ox(t,e,n,r,i){const a=yie(t.tagName,n.props&&n.props.type)[i];a&&a(t,e,n,r)}function mCe(){S3.getSSRProps=({value:t})=>({value:t}),II.getSSRProps=({value:t},e)=>{if(e.props&&Ld(e.props.value,t))return{checked:!0}},OI.getSSRProps=({value:t},e)=>{if(xt(t)){if(e.props&&qw(t,e.props.value)>-1)return{checked:!0}}else if(K0(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},vie.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=yie(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const gCe=["ctrl","shift","alt","meta"],vCe={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>gCe.some(n=>t[`${n}Key`]&&!e.includes(n))},Wo=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...o)=>{for(let a=0;a<e.length;a++){const s=vCe[e[a]];if(s&&s(i,e))return}return t(i,...o)})},yCe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Zp=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=va(i.key);if(e.some(a=>a===o||yCe[a]===o))return t(i)})},bie=Un({patchProp:nCe},B_e);let A2,Gz=!1;function wie(){return A2||(A2=Ire(bie))}function xie(){return A2=Gz?A2:Pre(bie),Gz=!0,A2}const D_=(...t)=>{wie().render(...t)},bCe=(...t)=>{xie().hydrate(...t)},Aa=(...t)=>{const e=wie().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Cie(r);if(!i)return;const o=e._component;!nn(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=n(i,!1,_ie(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e},Sie=(...t)=>{const e=xie().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Cie(r);if(i)return n(i,!0,_ie(i))},e};function _ie(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Cie(t){return un(t)?document.querySelector(t):t}let Kz=!1;const wCe=()=>{Kz||(Kz=!0,mCe(),U_e())},xCe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:sre,BaseTransitionPropsValidators:wI,Comment:Fi,DeprecationTypes:F_e,EffectScope:dI,ErrorCodes:sSe,ErrorTypeStrings:M_e,Fragment:Tt,KeepAlive:cre,ReactiveEffect:h3,Static:wm,Suspense:f_e,Teleport:rre,Text:Ed,TrackOpTypes:eSe,Transition:Hd,TransitionGroup:pie,TriggerOpTypes:tSe,VueElement:H8,assertNumber:aSe,callWithAsyncErrorHandling:hu,callWithErrorHandling:ry,camelize:Jr,capitalize:X0,cloneVNode:rf,compatUtils:R_e,computed:re,createApp:Aa,createBlock:He,createCommentVNode:ot,createElementBlock:Le,createElementVNode:Ee,createHydrationRenderer:Pre,createPropsRestProxy:zSe,createRenderer:Ire,createSSRApp:Sie,createSlots:yre,createStaticVNode:Xre,createTextVNode:vt,createVNode:xe,customRef:Vne,defineAsyncComponent:ESe,defineComponent:nt,defineCustomElement:cie,defineEmits:OSe,defineExpose:ISe,defineModel:FSe,defineOptions:PSe,defineProps:NSe,defineSSRCustomElement:iCe,defineSlots:RSe,devtools:D_e,effect:C6e,effectScope:Vw,getCurrentInstance:Lt,getCurrentScope:N8,getCurrentWatcher:nSe,getTransitionRawChildren:B8,guardReactiveProps:Vm,h:he,handleError:d1,hasInjectionContext:Cre,hydrate:bCe,hydrateOnIdle:wSe,hydrateOnInteraction:CSe,hydrateOnMediaQuery:_Se,hydrateOnVisible:SSe,initCustomFormatter:E_e,initDirectivesForSSR:wCe,inject:rr,isMemoSame:tie,isProxy:L8,isReactive:Yc,isReadonly:zd,isRef:li,isRuntimeOnly:__e,isShallow:_l,isVNode:Vd,markRaw:Y0,mergeDefaults:$Se,mergeModels:BSe,mergeProps:Ka,nextTick:Tn,normalizeClass:Qr,normalizeProps:Xc,normalizeStyle:Al,onActivated:iy,onBeforeMount:SI,onBeforeUnmount:On,onBeforeUpdate:Uw,onDeactivated:Z0,onErrorCaptured:mre,onMounted:kt,onRenderTracked:pre,onRenderTriggered:hre,onScopeDispose:hI,onServerPrefetch:dre,onUnmounted:Oo,onUpdated:jw,onWatcherCleanup:jne,openBlock:ye,popScopeId:Jne,provide:Cl,proxyRefs:vI,pushScopeId:Zne,queuePostFlushCb:v3,reactive:Ps,readonly:g3,ref:we,registerRuntimeCompiler:S_e,render:D_,renderList:Gn,renderSlot:Vr,resolveComponent:h1,resolveDirective:vre,resolveDynamicComponent:ya,resolveFilter:P_e,resolveTransitionHooks:uv,setBlockTracking:fM,setDevtoolsHook:N_e,setTransitionHooks:qd,shallowReactive:R8,shallowReadonly:U6e,shallowRef:fr,ssrContextKey:$re,ssrUtils:I_e,stop:k6e,toDisplayString:$e,toHandlerKey:gm,toHandlers:bre,toRaw:vn,toRef:Z6e,toRefs:Hne,toValue:y0,transformVNodeArgs:v_e,triggerRef:W6e,unref:le,useAttrs:wre,useCssModule:sCe,useCssVars:j_e,useHost:fie,useId:ure,useModel:i_e,useSSRContext:Bre,useShadowRoot:aCe,useSlots:EI,useTemplateRef:hSe,useTransitionState:bI,vModelCheckbox:OI,vModelDynamic:vie,vModelRadio:II,vModelSelect:mie,vModelText:S3,vShow:A_,version:nie,warn:T_e,watch:We,watchEffect:J0,watchPostEffect:n_e,watchSyncEffect:zre,withAsyncContext:qSe,withCtx:De,withDefaults:LSe,withDirectives:fo,withKeys:Zp,withMemo:A_e,withModifiers:Wo,withScopeId:Qne},Symbol.toStringTag,{value:"Module"}));/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let kie;const U8=t=>kie=t,Eie=Symbol();function wM(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var T2;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(T2||(T2={}));function SCe(){const t=Vw(!0),e=t.run(()=>we({}));let n=[],r=[];const i=Y0({install(o){U8(i),i._a=o,o.provide(Eie,i),o.config.globalProperties.$pinia=i,r.forEach(a=>n.push(a)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Aie=()=>{};function Xz(t,e,n,r=Aie){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&N8()&&hI(i),i}function z1(t,...e){t.slice().forEach(n=>{n(...e)})}const _Ce=t=>t(),Yz=Symbol(),LE=Symbol();function xM(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];wM(i)&&wM(r)&&t.hasOwnProperty(n)&&!li(r)&&!Yc(r)?t[n]=xM(i,r):t[n]=r}return t}const CCe=Symbol();function kCe(t){return!wM(t)||!Object.prototype.hasOwnProperty.call(t,CCe)}const{assign:Oh}=Object;function ECe(t){return!!(li(t)&&t.effect)}function ACe(t,e,n,r){const{state:i,actions:o,getters:a}=e,s=n.state.value[t];let l;function u(){s||(n.state.value[t]=i?i():{});const c=Hne(n.state.value[t]);return Oh(c,o,Object.keys(a||{}).reduce((f,d)=>(f[d]=Y0(re(()=>{U8(n);const h=n._s.get(t);return a[d].call(h,h)})),f),{}))}return l=Tie(t,u,e,n,r,!0),l}function Tie(t,e,n={},r,i,o){let a;const s=Oh({actions:{}},n),l={deep:!0};let u,c,f=[],d=[],h;const p=r.state.value[t];!o&&!p&&(r.state.value[t]={}),we({});let m;function g(k){let C;u=c=!1,typeof k=="function"?(k(r.state.value[t]),C={type:T2.patchFunction,storeId:t,events:h}):(xM(r.state.value[t],k),C={type:T2.patchObject,payload:k,storeId:t,events:h});const E=m=Symbol();Tn().then(()=>{m===E&&(u=!0)}),c=!0,z1(f,C,r.state.value[t])}const v=o?function(){const{state:C}=n,E=C?C():{};this.$patch(M=>{Oh(M,E)})}:Aie;function y(){a.stop(),f=[],d=[],r._s.delete(t)}const b=(k,C="")=>{if(Yz in k)return k[LE]=C,k;const E=function(){U8(r);const M=Array.from(arguments),A=[],N=[];function T(q){A.push(q)}function I(q){N.push(q)}z1(d,{args:M,name:E[LE],store:x,after:T,onError:I});let O;try{O=k.apply(this&&this.$id===t?this:x,M)}catch(q){throw z1(N,q),q}return O instanceof Promise?O.then(q=>(z1(A,q),q)).catch(q=>(z1(N,q),Promise.reject(q))):(z1(A,O),O)};return E[Yz]=!0,E[LE]=C,E},w={_p:r,$id:t,$onAction:Xz.bind(null,d),$patch:g,$reset:v,$subscribe(k,C={}){const E=Xz(f,k,C.detached,()=>M()),M=a.run(()=>We(()=>r.state.value[t],A=>{(C.flush==="sync"?c:u)&&k({storeId:t,type:T2.direct,events:h},A)},Oh({},l,C)));return E},$dispose:y},x=Ps(w);r._s.set(t,x);const _=(r._a&&r._a.runWithContext||_Ce)(()=>r._e.run(()=>(a=Vw()).run(()=>e({action:b}))));for(const k in _){const C=_[k];if(li(C)&&!ECe(C)||Yc(C))o||(p&&kCe(C)&&(li(C)?C.value=p[k]:xM(C,p[k])),r.state.value[t][k]=C);else if(typeof C=="function"){const E=b(C,k);_[k]=E,s.actions[k]=C}}return Oh(x,_),Oh(vn(x),_),Object.defineProperty(x,"$state",{get:()=>r.state.value[t],set:k=>{g(C=>{Oh(C,k)})}}),r._p.forEach(k=>{Oh(x,a.run(()=>k({store:x,app:r._a,pinia:r,options:s})))}),p&&o&&n.hydrate&&n.hydrate(x.$state,p),u=!0,c=!0,x}/*! #__NO_SIDE_EFFECTS__ */function Ks(t,e,n){let r;const i=typeof e=="function";r=i?n:e;function o(a,s){const l=Cre();return a=a||(l?rr(Eie,null):null),a&&U8(a),a=kie,a._s.has(t)||(i?Tie(t,e,r,a):ACe(t,r,a)),a._s.get(t)}return o.$id=t,o}function TCe(t){return t&&typeof t.then=="function"}Promise.resolve(!1);Promise.resolve(!0);var xm=Promise.resolve();function Mie(t,e){return t||(t=0),new Promise(function(n){return setTimeout(function(){return n(e)},t)})}function MCe(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function PI(){return Math.random().toString(36).substring(2)}var $E=0;function Kw(){var t=Date.now()*1e3;return t<=$E&&(t=$E+1),$E=t,t}var DCe=Kw,NCe="native";function OCe(t){var e={time:Kw(),messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=function(n){e.messagesCallback&&e.messagesCallback(n.data)},e}function ICe(t){t.bc.close(),t.subFns=[]}function PCe(t,e){try{return t.bc.postMessage(e,!1),xm}catch(n){return Promise.reject(n)}}function RCe(t,e){t.messagesCallback=e}function FCe(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function LCe(){return 150}var $Ce={create:OCe,close:ICe,onMessage:RCe,postMessage:PCe,canBeUsed:FCe,type:NCe,averageResponseTime:LCe,microSeconds:DCe};class Die{ttl;map=new Map;_to=!1;constructor(e){this.ttl=e}has(e){return this.map.has(e)}add(e){this.map.set(e,Nie()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,BCe(this)},0))}clear(){this.map.clear()}}function BCe(t){const e=Nie()-t.ttl,n=t.map[Symbol.iterator]();for(;;){const r=n.next().value;if(!r)return;const i=r[0];if(r[1]<e)t.map.delete(i);else return}}function Nie(){return Date.now()}function RI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=JSON.parse(JSON.stringify(t));return typeof e.webWorkerSupport>"u"&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=1e3*45),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=1e3*60),t.methods&&(e.methods=t.methods),e.node||(e.node={}),e.node.ttl||(e.node.ttl=1e3*60*2),e.node.maxParallelWrites||(e.node.maxParallelWrites=2048),typeof e.node.useFastPath>"u"&&(e.node.useFastPath=!0),e}var zCe=Kw,qCe="pubkey.broadcast-channel-0-",Ud="messages",j8={durability:"relaxed"},VCe="idb";function Oie(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function FI(t){t.commit&&t.commit()}function HCe(t){var e=Oie(),n=qCe+t,r=e.open(n);return r.onupgradeneeded=function(i){var o=i.target.result;o.createObjectStore(Ud,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,o){r.onerror=function(a){return o(a)},r.onsuccess=function(){i(r.result)}})}function UCe(t,e,n){var r=Date.now(),i={uuid:e,time:r,data:n},o=t.transaction([Ud],"readwrite",j8);return new Promise(function(a,s){o.oncomplete=function(){return a()},o.onerror=function(u){return s(u)};var l=o.objectStore(Ud);l.add(i),FI(o)})}function jCe(t,e){var n=t.transaction(Ud,"readonly",j8),r=n.objectStore(Ud),i=[],o=IDBKeyRange.bound(e+1,1/0);if(r.getAll){var a=r.getAll(o);return new Promise(function(l,u){a.onerror=function(c){return u(c)},a.onsuccess=function(c){l(c.target.result)}})}function s(){try{return o=IDBKeyRange.bound(e+1,1/0),r.openCursor(o)}catch{return r.openCursor()}}return new Promise(function(l,u){var c=s();c.onerror=function(f){return u(f)},c.onsuccess=function(f){var d=f.target.result;d?d.value.id<e+1?d.continue(e+1):(i.push(d.value),d.continue()):(FI(n),l(i))}})}function WCe(t,e){if(t.closed)return Promise.resolve([]);var n=t.db.transaction(Ud,"readwrite",j8),r=n.objectStore(Ud);return Promise.all(e.map(function(i){var o=r.delete(i);return new Promise(function(a){o.onsuccess=function(){return a()}})}))}function GCe(t,e){var n=Date.now()-e,r=t.transaction(Ud,"readonly",j8),i=r.objectStore(Ud),o=[];return new Promise(function(a){i.openCursor().onsuccess=function(s){var l=s.target.result;if(l){var u=l.value;u.time<n?(o.push(u),l.continue()):(FI(r),a(o))}else a(o)}})}function KCe(t){return GCe(t.db,t.options.idb.ttl).then(function(e){return WCe(t,e.map(function(n){return n.id}))})}function XCe(t,e){return e=RI(e),HCe(t).then(function(n){var r={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:PI(),eMIs:new Die(e.idb.ttl*2),writeBlockPromise:xm,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,e.idb.onclose&&e.idb.onclose()},Iie(r),r})}function Iie(t){t.closed||Pie(t).then(function(){return Mie(t.options.idb.fallbackInterval)}).then(function(){return Iie(t)})}function YCe(t,e){return!(t.uuid===e.uuid||e.eMIs.has(t.id)||t.data.time<e.messagesCallbackTime)}function Pie(t){return t.closed||!t.messagesCallback?xm:jCe(t.db,t.lastCursorId).then(function(e){var n=e.filter(function(r){return!!r}).map(function(r){return r.id>t.lastCursorId&&(t.lastCursorId=r.id),r}).filter(function(r){return YCe(r,t)}).sort(function(r,i){return r.time-i.time});return n.forEach(function(r){t.messagesCallback&&(t.eMIs.add(r.id),t.messagesCallback(r.data))}),xm})}function ZCe(t){t.closed=!0,t.db.close()}function JCe(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return UCe(t.db,t.uuid,e)}).then(function(){MCe(0,10)===0&&KCe(t)}),t.writeBlockPromise}function QCe(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e,Pie(t)}function e8e(){return!!Oie()}function t8e(t){return t.idb.fallbackInterval*2}var n8e={create:XCe,close:ZCe,onMessage:QCe,postMessage:JCe,canBeUsed:e8e,type:VCe,averageResponseTime:t8e,microSeconds:zCe},r8e=Kw,i8e="pubkey.broadcastChannel-",o8e="localstorage";function Rie(){var t;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return t}function Fie(t){return i8e+t}function a8e(t,e){return new Promise(function(n){Mie().then(function(){var r=Fie(t.channelName),i={token:PI(),time:Date.now(),data:e,uuid:t.uuid},o=JSON.stringify(i);Rie().setItem(r,o);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=o,window.dispatchEvent(a),n()})})}function s8e(t,e){var n=Fie(t),r=function(o){o.key===n&&e(JSON.parse(o.newValue))};return window.addEventListener("storage",r),r}function l8e(t){window.removeEventListener("storage",t)}function u8e(t,e){if(e=RI(e),!Lie())throw new Error("BroadcastChannel: localstorage cannot be used");var n=PI(),r=new Die(e.localstorage.removeTimeout),i={channelName:t,uuid:n,eMIs:r};return i.listener=s8e(t,function(o){i.messagesCallback&&o.uuid!==n&&(!o.token||r.has(o.token)||o.data.time&&o.data.time<i.messagesCallbackTime||(r.add(o.token),i.messagesCallback(o.data)))}),i}function c8e(t){l8e(t.listener)}function f8e(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e}function Lie(){var t=Rie();if(!t)return!1;try{var e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch{return!1}return!0}function d8e(){var t=120,e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?t*2:t}var h8e={create:u8e,close:c8e,onMessage:f8e,postMessage:a8e,canBeUsed:Lie,type:o8e,averageResponseTime:d8e,microSeconds:r8e},$ie=Kw,p8e="simulate",LI=new Set;function m8e(t){var e={time:$ie(),name:t,messagesCallback:null};return LI.add(e),e}function g8e(t){LI.delete(t)}var Bie=5;function v8e(t,e){return new Promise(function(n){return setTimeout(function(){var r=Array.from(LI);r.forEach(function(i){i.name===t.name&&i!==t&&i.messagesCallback&&i.time<e.time&&i.messagesCallback(e)}),n()},Bie)})}function y8e(t,e){t.messagesCallback=e}function b8e(){return!0}function w8e(){return Bie}var x8e={create:m8e,close:g8e,onMessage:y8e,postMessage:v8e,canBeUsed:b8e,type:p8e,averageResponseTime:w8e,microSeconds:$ie},Zz=[$Ce,n8e,h8e];function S8e(t){var e=[].concat(t.methods,Zz).filter(Boolean);if(t.type){if(t.type==="simulate")return x8e;var n=e.find(function(i){return i.type===t.type});if(n)return n;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||(e=e.filter(function(i){return i.type!=="idb"}));var r=e.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(Zz.map(function(i){return i.type})))}var zie=new Set,_8e=0,$I=function(e,n){this.id=_8e++,zie.add(this),this.name=e,this.options=RI(n),this.method=S8e(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,C8e(this)};$I._pubkey=!0;$I.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return Jz(this,"message",e)},postInternal:function(e){return Jz(this,"internal",e)},set onmessage(t){var e=this.method.microSeconds(),n={time:e,fn:t};eq(this,"message",this._onML),t&&typeof t=="function"?(this._onML=n,Qz(this,"message",n)):this._onML=null},addEventListener:function(e,n){var r=this.method.microSeconds(),i={time:r,fn:n};Qz(this,e,i)},removeEventListener:function(e,n){var r=this._addEL[e].find(function(i){return i.fn===n});eq(this,e,r)},close:function(){var e=this;if(!this.closed){zie.delete(this),this.closed=!0;var n=this._prepP?this._prepP:xm;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(e._uMP))}).then(function(){return Promise.all(e._befC.map(function(r){return r()}))}).then(function(){return e.method.close(e._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Jz(t,e,n){var r=t.method.microSeconds(),i={time:r,type:e,data:n},o=t._prepP?t._prepP:xm;return o.then(function(){var a=t.method.postMessage(t._state,i);return t._uMP.add(a),a.catch().then(function(){return t._uMP.delete(a)}),a})}function C8e(t){var e=t.method.create(t.name,t.options);TCe(e)?(t._prepP=e,e.then(function(n){t._state=n})):t._state=e}function qie(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function Qz(t,e,n){t._addEL[e].push(n),k8e(t)}function eq(t,e,n){t._addEL[e]=t._addEL[e].filter(function(r){return r!==n}),E8e(t)}function k8e(t){if(!t._iL&&qie(t)){var e=function(i){t._addEL[i.type].forEach(function(o){i.time>=o.time&&o.fn(i.data)})},n=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,e,n)}):(t._iL=!0,t.method.onMessage(t._state,e,n))}}function E8e(t){if(t._iL&&!qie(t)){t._iL=!1;var e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}function tq(t,e={serialize:JSON.stringify,deserialize:JSON.parse}){return e.deserialize(e.serialize(t))}function A8e(t,e){return Object.keys(e).includes(t)}function T8e({enable:t=!0,initialize:e=!0,type:n,serializer:r}){return({store:i,options:o})=>{const a=o?.share?.enable??t,s=o?.share?.omit??[];if(!a)return;const l=new $I(i.$id,{type:n});let u=0,c=!1;const f=Object.keys(i.$state).filter(h=>!s.includes(h)&&A8e(h,i.$state));l.onmessage=h=>{if(h===void 0){l.postMessage({timestamp:u,state:tq(i.$state,r)});return}h.timestamp<=u||(c=!0,u=h.timestamp,i.$patch(p=>{f.forEach(m=>{p[m]=h.state[m]})}))},(o?.share?.initialize??e)&&l.postMessage(void 0),i.$subscribe((h,p)=>{c||(u=Date.now(),l.postMessage({timestamp:u,state:tq(p,r)})),c=!1})}}const SM={xs:18,sm:24,md:32,lg:38,xl:46},oy={size:String};function ay(t,e=SM){return re(()=>t.size!==void 0?{fontSize:t.size in e?`${e[t.size]}px`:t.size}:null)}function Q0(t,e,n,r){return Object.defineProperty(t,e,{get:n,set:r,enumerable:!0}),t}function cn(t){return Y0(nt(t))}function W8(t){return Y0(t)}const G8=(t,e)=>{const n=Ps(t);for(const r in t)Q0(e,r,()=>n[r],i=>{n[r]=i});return e};function Mr(t,e){return t!==void 0&&t()||e}function Vie(t,e){if(t!==void 0){const n=t();if(n!=null)return n.slice()}return e}function Ql(t,e){return t!==void 0?e.concat(t()):e}function Hie(t,e){return t===void 0?e:e!==void 0?e.concat(t()):t()}function _3(t,e,n,r,i,o){e.key=r+i;const a=he(t,e,n);return i===!0?fo(a,o()):a}const nq="0 0 24 24",BE=t=>t,zE=t=>`ionicons ${t}`,Uie={"mdi-":t=>`mdi ${t}`,"icon-":BE,"bt-":t=>`bt ${t}`,"eva-":t=>`eva ${t}`,"ion-md":zE,"ion-ios":zE,"ion-logo":zE,"iconfont ":BE,"ti-":t=>`themify-icon ${t}`,"bi-":t=>`bootstrap-icons ${t}`,"i-":BE},jie={o_:"-outlined",r_:"-round",s_:"-sharp"},Wie={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},M8e=new RegExp("^("+Object.keys(Uie).join("|")+")"),D8e=new RegExp("^("+Object.keys(jie).join("|")+")"),rq=new RegExp("^("+Object.keys(Wie).join("|")+")"),N8e=/^[Mm]\s?[-+]?\.?\d/,O8e=/^img:/,I8e=/^svguse:/,P8e=/^ion-/,R8e=/^(fa-(classic|sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /,Jo=cn({name:"QIcon",props:{...oy,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=Lt(),r=ay(t),i=re(()=>"q-icon"+(t.left===!0?" on-left":"")+(t.right===!0?" on-right":"")+(t.color!==void 0?` text-${t.color}`:"")),o=re(()=>{let a,s=t.name;if(s==="none"||!s)return{none:!0};if(n.iconMapFn!==null){const c=n.iconMapFn(s);if(c!==void 0)if(c.icon!==void 0){if(s=c.icon,s==="none"||!s)return{none:!0}}else return{cls:c.cls,content:c.content!==void 0?c.content:" "}}if(N8e.test(s)===!0){const[c,f=nq]=s.split("|");return{svg:!0,viewBox:f,nodes:c.split("&&").map(d=>{const[h,p,m]=d.split("@@");return he("path",{style:p,d:h,transform:m})})}}if(O8e.test(s)===!0)return{img:!0,src:s.substring(4)};if(I8e.test(s)===!0){const[c,f=nq]=s.split("|");return{svguse:!0,src:c.substring(7),viewBox:f}}let l=" ";const u=s.match(M8e);if(u!==null)a=Uie[u[1]](s);else if(R8e.test(s)===!0)a=s;else if(P8e.test(s)===!0)a=`ionicons ion-${n.platform.is.ios===!0?"ios":"md"}${s.substring(3)}`;else if(rq.test(s)===!0){a="notranslate material-symbols";const c=s.match(rq);c!==null&&(s=s.substring(6),a+=Wie[c[1]]),l=s}else{a="notranslate material-icons";const c=s.match(D8e);c!==null&&(s=s.substring(2),a+=jie[c[1]]),l=s}return{cls:a,content:l}});return()=>{const a={class:i.value,style:r.value,"aria-hidden":"true"};return o.value.none===!0?he(t.tag,a,Mr(e.default)):o.value.img===!0?he(t.tag,a,Ql(e.default,[he("img",{src:o.value.src})])):o.value.svg===!0?he(t.tag,a,Ql(e.default,[he("svg",{viewBox:o.value.viewBox||"0 0 24 24"},o.value.nodes)])):o.value.svguse===!0?he(t.tag,a,Ql(e.default,[he("svg",{viewBox:o.value.viewBox},[he("use",{"xlink:href":o.value.src})])])):(o.value.cls!==void 0&&(a.class+=" "+o.value.cls),he(t.tag,a,Ql(e.default,[o.value.content])))}}}),F8e={size:{type:[String,Number],default:"1em"},color:String};function L8e(t){return{cSize:re(()=>t.size in SM?`${SM[t.size]}px`:t.size),classes:re(()=>"q-spinner"+(t.color?` text-${t.color}`:""))}}const C3=cn({name:"QSpinner",props:{...F8e,thickness:{type:Number,default:5}},setup(t){const{cSize:e,classes:n}=L8e(t);return()=>he("svg",{class:n.value+" q-spinner-mat",width:e.value,height:e.value,viewBox:"25 25 50 50"},[he("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":t.thickness,"stroke-miterlimit":"10"})])}});function _M(t,e){const n=t.style;for(const r in e)n[r]=e[r]}function $8e(t){if(t==null)return;if(typeof t=="string")try{return document.querySelector(t)||void 0}catch{return}const e=le(t);if(e)return e.$el||e}function Gie(t,e){if(t==null||t.contains(e)===!0)return!0;for(let n=t.nextElementSibling;n!==null;n=n.nextElementSibling)if(n.contains(e))return!0;return!1}const Zi={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const t=Object.defineProperty({},"passive",{get(){Object.assign(Zi,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,t),window.removeEventListener("qtest",null,t)}catch{}function of(){}function Kie(t){return t.button===0}function jd(t){return t.touches&&t.touches[0]?t=t.touches[0]:t.changedTouches&&t.changedTouches[0]?t=t.changedTouches[0]:t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),{top:t.clientY,left:t.clientX}}function B8e(t){if(t.path)return t.path;if(t.composedPath)return t.composedPath();const e=[];let n=t.target;for(;n;){if(e.push(n),n.tagName==="HTML")return e.push(document),e.push(window),e;n=n.parentElement}}function ml(t){t.stopPropagation()}function Ua(t){t.cancelable!==!1&&t.preventDefault()}function zr(t){t.cancelable!==!1&&t.preventDefault(),t.stopPropagation()}function zg(t,e){if(t===void 0||e===!0&&t.__dragPrevented===!0)return;const n=e===!0?r=>{r.__dragPrevented=!0,r.addEventListener("dragstart",Ua,Zi.notPassiveCapture)}:r=>{delete r.__dragPrevented,r.removeEventListener("dragstart",Ua,Zi.notPassiveCapture)};t.querySelectorAll("a, img").forEach(n)}function Wu(t,e,n){const r=`__q_${e}_evt`;t[r]=t[r]!==void 0?t[r].concat(n):n,n.forEach(i=>{i[0].addEventListener(i[1],t[i[2]],Zi[i[3]])})}function w0(t,e){const n=`__q_${e}_evt`;t[n]!==void 0&&(t[n].forEach(r=>{r[0].removeEventListener(r[1],t[r[2]],Zi[r[3]])}),t[n]=void 0)}let Xie=!1;function z8e(t){Xie=t.isComposing===!0}function K8(t){return Xie===!0||t!==Object(t)||t.isComposing===!0||t.qKeyEvent===!0}function af(t,e){return K8(t)===!0?!1:[].concat(e).includes(t.keyCode)}function q8e(t,e=250){let n=!1,r;return function(){return n===!1&&(n=!0,setTimeout(()=>{n=!1},e),r=t.apply(this,arguments)),r}}function iq(t,e,n,r){n.modifiers.stop===!0&&ml(t);const i=n.modifiers.color;let o=n.modifiers.center;o=o===!0||r===!0;const a=document.createElement("span"),s=document.createElement("span"),l=jd(t),{left:u,top:c,width:f,height:d}=e.getBoundingClientRect(),h=Math.sqrt(f*f+d*d),p=h/2,m=`${(f-h)/2}px`,g=o?m:`${l.left-u-p}px`,v=`${(d-h)/2}px`,y=o?v:`${l.top-c-p}px`;s.className="q-ripple__inner",_M(s,{height:`${h}px`,width:`${h}px`,transform:`translate3d(${g},${y},0) scale3d(.2,.2,1)`,opacity:0}),a.className=`q-ripple${i?" text-"+i:""}`,a.setAttribute("dir","ltr"),a.appendChild(s),e.appendChild(a);const b=()=>{a.remove(),clearTimeout(w)};n.abort.push(b);let w=setTimeout(()=>{s.classList.add("q-ripple__inner--enter"),s.style.transform=`translate3d(${m},${v},0) scale3d(1,1,1)`,s.style.opacity=.2,w=setTimeout(()=>{s.classList.remove("q-ripple__inner--enter"),s.classList.add("q-ripple__inner--leave"),s.style.opacity=0,w=setTimeout(()=>{a.remove(),n.abort.splice(n.abort.indexOf(b),1)},275)},250)},50)}function oq(t,{modifiers:e,value:n,arg:r}){const i=Object.assign({},t.cfg.ripple,e,n);t.modifiers={early:i.early===!0,stop:i.stop===!0,center:i.center===!0,color:i.color||r,keyCodes:[].concat(i.keyCodes||13)}}const vd=W8({name:"ripple",beforeMount(t,e){const n=e.instance.$.appContext.config.globalProperties.$q.config||{};if(n.ripple===!1)return;const r={cfg:n,enabled:e.value!==!1,modifiers:{},abort:[],start(i){r.enabled===!0&&i.qSkipRipple!==!0&&i.type===(r.modifiers.early===!0?"pointerdown":"click")&&iq(i,t,r,i.qKeyEvent===!0)},keystart:q8e(i=>{r.enabled===!0&&i.qSkipRipple!==!0&&af(i,r.modifiers.keyCodes)===!0&&i.type===`key${r.modifiers.early===!0?"down":"up"}`&&iq(i,t,r,!0)},300)};oq(r,e),t.__qripple=r,Wu(r,"main",[[t,"pointerdown","start","passive"],[t,"click","start","passive"],[t,"keydown","keystart","passive"],[t,"keyup","keystart","passive"]])},updated(t,e){if(e.oldValue!==e.value){const n=t.__qripple;n!==void 0&&(n.enabled=e.value!==!1,n.enabled===!0&&Object(e.value)===e.value&&oq(n,e))}},beforeUnmount(t){const e=t.__qripple;e!==void 0&&(e.abort.forEach(n=>{n()}),w0(e,"main"),delete t._qripple)}}),Yie={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},V8e=Object.keys(Yie),Zie={align:{type:String,validator:t=>V8e.includes(t)}};function Jie(t){return re(()=>{const e=t.align===void 0?t.vertical===!0?"stretch":"left":t.align;return`${t.vertical===!0?"items":"justify"}-${Yie[e]}`})}function $6(t){if(Object(t.$parent)===t.$parent)return t.$parent;let{parent:e}=t.$;for(;Object(e)===e;){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function Qie(t,e){typeof e.type=="symbol"?Array.isArray(e.children)===!0&&e.children.forEach(n=>{Qie(t,n)}):t.add(e)}function H8e(t){const e=new Set;return t.forEach(n=>{Qie(e,n)}),Array.from(e)}function eoe(t){return t.appContext.config.globalProperties.$router!==void 0}function BI(t){return t.isUnmounted===!0||t.isDeactivated===!0}function aq(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}function sq(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function U8e(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(Array.isArray(i)===!1||i.length!==r.length||r.some((o,a)=>o!==i[a]))return!1}return!0}function lq(t,e){return Array.isArray(e)===!0?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function j8e(t,e){return Array.isArray(t)===!0?lq(t,e):Array.isArray(e)===!0?lq(e,t):t===e}function W8e(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(j8e(t[n],e[n])===!1)return!1;return!0}const toe={to:[String,Object],replace:Boolean,href:String,target:String,disable:Boolean},G8e={...toe,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"}};function noe({fallbackTag:t,useDisableForRouterLinkProps:e=!0}={}){const n=Lt(),{props:r,proxy:i,emit:o}=n,a=eoe(n),s=re(()=>r.disable!==!0&&r.href!==void 0),l=re(e===!0?()=>a===!0&&r.disable!==!0&&s.value!==!0&&r.to!==void 0&&r.to!==null&&r.to!=="":()=>a===!0&&s.value!==!0&&r.to!==void 0&&r.to!==null&&r.to!==""),u=re(()=>l.value===!0?y(r.to):null),c=re(()=>u.value!==null),f=re(()=>s.value===!0||c.value===!0),d=re(()=>r.type==="a"||f.value===!0?"a":r.tag||t||"div"),h=re(()=>s.value===!0?{href:r.href,target:r.target}:c.value===!0?{href:u.value.href,target:r.target}:{}),p=re(()=>{if(c.value===!1)return-1;const{matched:x}=u.value,{length:S}=x,_=x[S-1];if(_===void 0)return-1;const k=i.$route.matched;if(k.length===0)return-1;const C=k.findIndex(sq.bind(null,_));if(C!==-1)return C;const E=aq(x[S-2]);return S>1&&aq(_)===E&&k[k.length-1].path!==E?k.findIndex(sq.bind(null,x[S-2])):C}),m=re(()=>c.value===!0&&p.value!==-1&&U8e(i.$route.params,u.value.params)),g=re(()=>m.value===!0&&p.value===i.$route.matched.length-1&&W8e(i.$route.params,u.value.params)),v=re(()=>c.value===!0?g.value===!0?` ${r.exactActiveClass} ${r.activeClass}`:r.exact===!0?"":m.value===!0?` ${r.activeClass}`:"":"");function y(x){try{return i.$router.resolve(x)}catch{}return null}function b(x,{returnRouterError:S,to:_=r.to,replace:k=r.replace}={}){if(r.disable===!0)return x.preventDefault(),Promise.resolve(!1);if(x.metaKey||x.altKey||x.ctrlKey||x.shiftKey||x.button!==void 0&&x.button!==0||r.target==="_blank")return Promise.resolve(!1);x.preventDefault();const C=i.$router[k===!0?"replace":"push"](_);return S===!0?C:C.then(()=>{}).catch(()=>{})}function w(x){if(c.value===!0){const S=_=>b(x,_);o("click",x,S),x.defaultPrevented!==!0&&S()}else o("click",x)}return{hasRouterLink:c,hasHrefLink:s,hasLink:f,linkTag:d,resolvedLink:u,linkIsActive:m,linkIsExactActive:g,linkClass:v,linkAttrs:h,getLink:y,navigateToRouterLink:b,navigateOnClick:w}}const uq={none:0,xs:4,sm:8,md:16,lg:24,xl:32},K8e={xs:8,sm:10,md:14,lg:20,xl:24},X8e=["button","submit","reset"],Y8e=/[^\s]\/[^\s]/,Z8e=["flat","outline","push","unelevated"];function J8e(t,e){return t.flat===!0?"flat":t.outline===!0?"outline":t.push===!0?"push":t.unelevated===!0?"unelevated":e}const Q8e={...oy,...toe,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...Z8e.reduce((t,e)=>(t[e]=Boolean)&&t,{}),square:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...Zie.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean},eke={...Q8e,round:Boolean};function tke(t){const e=ay(t,K8e),n=Jie(t),{hasRouterLink:r,hasLink:i,linkTag:o,linkAttrs:a,navigateOnClick:s}=noe({fallbackTag:"button"}),l=re(()=>{const g=t.fab===!1&&t.fabMini===!1?e.value:{};return t.padding!==void 0?Object.assign({},g,{padding:t.padding.split(/\s+/).map(v=>v in uq?uq[v]+"px":v).join(" "),minWidth:"0",minHeight:"0"}):g}),u=re(()=>t.rounded===!0||t.fab===!0||t.fabMini===!0),c=re(()=>t.disable!==!0&&t.loading!==!0),f=re(()=>c.value===!0?t.tabindex||0:-1),d=re(()=>J8e(t,"standard")),h=re(()=>{const g={tabindex:f.value};return i.value===!0?Object.assign(g,a.value):X8e.includes(t.type)===!0&&(g.type=t.type),o.value==="a"?(t.disable===!0?g["aria-disabled"]="true":g.href===void 0&&(g.role="button"),r.value!==!0&&Y8e.test(t.type)===!0&&(g.type=t.type)):t.disable===!0&&(g.disabled="",g["aria-disabled"]="true"),t.loading===!0&&t.percentage!==void 0&&Object.assign(g,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":t.percentage}),g}),p=re(()=>{let g;t.color!==void 0?t.flat===!0||t.outline===!0?g=`text-${t.textColor||t.color}`:g=`bg-${t.color} text-${t.textColor||"white"}`:t.textColor&&(g=`text-${t.textColor}`);const v=t.round===!0?"round":`rectangle${u.value===!0?" q-btn--rounded":t.square===!0?" q-btn--square":""}`;return`q-btn--${d.value} q-btn--${v}`+(g!==void 0?" "+g:"")+(c.value===!0?" q-btn--actionable q-focusable q-hoverable":t.disable===!0?" disabled":"")+(t.fab===!0?" q-btn--fab":t.fabMini===!0?" q-btn--fab-mini":"")+(t.noCaps===!0?" q-btn--no-uppercase":"")+(t.dense===!0?" q-btn--dense":"")+(t.stretch===!0?" no-border-radius self-stretch":"")+(t.glossy===!0?" glossy":"")+(t.square?" q-btn--square":"")}),m=re(()=>n.value+(t.stack===!0?" column":" row")+(t.noWrap===!0?" no-wrap text-no-wrap":"")+(t.loading===!0?" q-btn__content--hidden":""));return{classes:p,style:l,innerClasses:m,attributes:h,hasLink:i,linkTag:o,navigateOnClick:s,isActionable:c}}const{passiveCapture:ql}=Zi;let q1=null,V1=null,H1=null;const Ct=cn({name:"QBtn",props:{...eke,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(t,{slots:e,emit:n}){const{proxy:r}=Lt(),{classes:i,style:o,innerClasses:a,attributes:s,hasLink:l,linkTag:u,navigateOnClick:c,isActionable:f}=tke(t),d=we(null),h=we(null);let p=null,m,g=null;const v=re(()=>t.label!==void 0&&t.label!==null&&t.label!==""),y=re(()=>t.disable===!0||t.ripple===!1?!1:{keyCodes:l.value===!0?[13,32]:[13],...t.ripple===!0?{}:t.ripple}),b=re(()=>({center:t.round})),w=re(()=>{const T=Math.max(0,Math.min(100,t.percentage));return T>0?{transition:"transform 0.6s",transform:`translateX(${T-100}%)`}:{}}),x=re(()=>{if(t.loading===!0)return{onMousedown:N,onTouchstart:N,onClick:N,onKeydown:N,onKeyup:N};if(f.value===!0){const T={onClick:_,onKeydown:k,onMousedown:E};if(r.$q.platform.has.touch===!0){const I=t.onTouchstart!==void 0?"":"Passive";T[`onTouchstart${I}`]=C}return T}return{onClick:zr}}),S=re(()=>({ref:d,class:"q-btn q-btn-item non-selectable no-outline "+i.value,style:o.value,...s.value,...x.value}));function _(T){if(d.value!==null){if(T!==void 0){if(T.defaultPrevented===!0)return;const I=document.activeElement;if(t.type==="submit"&&I!==document.body&&d.value.contains(I)===!1&&I.contains(d.value)===!1){T.qAvoidFocus!==!0&&d.value.focus();const O=()=>{document.removeEventListener("keydown",zr,!0),document.removeEventListener("keyup",O,ql),d.value?.removeEventListener("blur",O,ql)};document.addEventListener("keydown",zr,!0),document.addEventListener("keyup",O,ql),d.value.addEventListener("blur",O,ql)}}c(T)}}function k(T){d.value!==null&&(n("keydown",T),af(T,[13,32])===!0&&V1!==d.value&&(V1!==null&&A(),T.defaultPrevented!==!0&&(T.qAvoidFocus!==!0&&d.value.focus(),V1=d.value,d.value.classList.add("q-btn--active"),document.addEventListener("keyup",M,!0),d.value.addEventListener("blur",M,ql)),zr(T)))}function C(T){d.value!==null&&(n("touchstart",T),T.defaultPrevented!==!0&&(q1!==d.value&&(q1!==null&&A(),q1=d.value,p=T.target,p.addEventListener("touchcancel",M,ql),p.addEventListener("touchend",M,ql)),m=!0,g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,m=!1},200)))}function E(T){d.value!==null&&(T.qSkipRipple=m===!0,n("mousedown",T),T.defaultPrevented!==!0&&H1!==d.value&&(H1!==null&&A(),H1=d.value,d.value.classList.add("q-btn--active"),document.addEventListener("mouseup",M,ql)))}function M(T){if(d.value!==null&&!(T?.type==="blur"&&document.activeElement===d.value)){if(T?.type==="keyup"){if(V1===d.value&&af(T,[13,32])===!0){const I=new MouseEvent("click",T);I.qKeyEvent=!0,T.defaultPrevented===!0&&Ua(I),T.cancelBubble===!0&&ml(I),d.value.dispatchEvent(I),zr(T),T.qKeyEvent=!0}n("keyup",T)}A()}}function A(T){const I=h.value;T!==!0&&(q1===d.value||H1===d.value)&&I!==null&&I!==document.activeElement&&(I.setAttribute("tabindex",-1),I.focus()),q1===d.value&&(p!==null&&(p.removeEventListener("touchcancel",M,ql),p.removeEventListener("touchend",M,ql)),q1=p=null),H1===d.value&&(document.removeEventListener("mouseup",M,ql),H1=null),V1===d.value&&(document.removeEventListener("keyup",M,!0),d.value?.removeEventListener("blur",M,ql),V1=null),d.value?.classList.remove("q-btn--active")}function N(T){zr(T),T.qSkipRipple=!0}return On(()=>{A(!0)}),Object.assign(r,{click:T=>{f.value===!0&&_(T)}}),()=>{let T=[];t.icon!==void 0&&T.push(he(Jo,{name:t.icon,left:t.stack!==!0&&v.value===!0,role:"img"})),v.value===!0&&T.push(he("span",{class:"block"},[t.label])),T=Ql(e.default,T),t.iconRight!==void 0&&t.round===!1&&T.push(he(Jo,{name:t.iconRight,right:t.stack!==!0&&v.value===!0,role:"img"}));const I=[he("span",{class:"q-focus-helper",ref:h})];return t.loading===!0&&t.percentage!==void 0&&I.push(he("span",{class:"q-btn__progress absolute-full overflow-hidden"+(t.darkPercentage===!0?" q-btn__progress--dark":"")},[he("span",{class:"q-btn__progress-indicator fit block",style:w.value})])),I.push(he("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+a.value},T)),t.loading!==null&&I.push(he(Hd,{name:"q-transition--fade"},()=>t.loading===!0?[he("span",{key:"loading",class:"absolute-full flex flex-center"},e.loading!==void 0?e.loading():[he(C3)])]:null)),fo(he(u.value,S.value,I),[[vd,y.value,void 0,b.value]])}}}),ra={dark:{type:Boolean,default:null}};function ia(t,e){return re(()=>t.dark===null?e.dark.isActive:t.dark)}const nke={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},qE={xs:2,sm:4,md:8,lg:16,xl:24},sf=cn({name:"QSeparator",props:{...ra,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(t){const e=Lt(),n=ia(t,e.proxy.$q),r=re(()=>t.vertical===!0?"vertical":"horizontal"),i=re(()=>` q-separator--${r.value}`),o=re(()=>t.inset!==!1?`${i.value}-${nke[t.inset]}`:""),a=re(()=>`q-separator${i.value}${o.value}`+(t.color!==void 0?` bg-${t.color}`:"")+(n.value===!0?" q-separator--dark":"")),s=re(()=>{const l={};if(t.size!==void 0&&(l[t.vertical===!0?"width":"height"]=t.size),t.spaced!==!1){const u=t.spaced===!0?`${qE.md}px`:t.spaced in qE?`${qE[t.spaced]}px`:t.spaced,c=t.vertical===!0?["Left","Right"]:["Top","Bottom"];l[`margin${c[0]}`]=l[`margin${c[1]}`]=u}return l});return()=>he("hr",{class:a.value,style:s.value,"aria-orientation":r.value})}}),Sm=cn({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:e}){const n=re(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>he("div",{class:n.value,role:"toolbar"},Mr(e.default))}}),Qu=we(!1);let CM;function rke(t,e){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(vivaldi)[\/]([\w.]+)/.exec(t)||/(chrome|crios)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(firefox|fxios)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(t)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[4]||n[2]||"0",platform:e[0]||""}}function ike(t){return/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[]}const roe="ontouchstart"in window||window.navigator.maxTouchPoints>0;function oke(t){const e=t.toLowerCase(),n=ike(e),r=rke(e,n),i={mobile:!1,desktop:!1,cordova:!1,capacitor:!1,nativeMobile:!1,electron:!1,bex:!1,linux:!1,mac:!1,win:!1,cros:!1,chrome:!1,firefox:!1,opera:!1,safari:!1,vivaldi:!1,edge:!1,edgeChromium:!1,ie:!1,webkit:!1,android:!1,ios:!1,ipad:!1,iphone:!1,ipod:!1,kindle:!1,winphone:!1,blackberry:!1,playbook:!1,silk:!1};r.browser&&(i[r.browser]=!0,i.version=r.version,i.versionNumber=parseInt(r.version,10)),r.platform&&(i[r.platform]=!0);const o=i.android||i.ios||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"];if(o===!0||e.indexOf("mobile")!==-1?i.mobile=!0:i.desktop=!0,i["windows phone"]&&(i.winphone=!0,delete i["windows phone"]),i.edga||i.edgios||i.edg?(i.edge=!0,r.browser="edge"):i.crios?(i.chrome=!0,r.browser="chrome"):i.fxios&&(i.firefox=!0,r.browser="firefox"),(i.ipod||i.ipad||i.iphone)&&(i.ios=!0),i.vivaldi&&(r.browser="vivaldi",i.vivaldi=!0),(i.chrome||i.opr||i.safari||i.vivaldi||i.mobile===!0&&i.ios!==!0&&o!==!0)&&(i.webkit=!0),i.opr&&(r.browser="opera",i.opera=!0),i.safari&&(i.blackberry||i.bb?(r.browser="blackberry",i.blackberry=!0):i.playbook?(r.browser="playbook",i.playbook=!0):i.android?(r.browser="android",i.android=!0):i.kindle?(r.browser="kindle",i.kindle=!0):i.silk&&(r.browser="silk",i.silk=!0)),i.name=r.browser,i.platform=r.platform,e.indexOf("electron")!==-1)i.electron=!0;else if(document.location.href.indexOf("-extension://")!==-1)i.bex=!0;else{if(window.Capacitor!==void 0?(i.capacitor=!0,i.nativeMobile=!0,i.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(i.cordova=!0,i.nativeMobile=!0,i.nativeMobileWrapper="cordova"),Qu.value===!0&&(CM={is:{...i}}),roe===!0&&i.mac===!0&&(i.desktop===!0&&i.safari===!0||i.nativeMobile===!0&&i.android!==!0&&i.ios!==!0&&i.ipad!==!0)){delete i.mac,delete i.desktop;const a=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(i,{mobile:!0,ios:!0,platform:a,[a]:!0})}i.mobile!==!0&&window.navigator.userAgentData&&window.navigator.userAgentData.mobile&&(delete i.desktop,i.mobile=!0)}return i}const cq=navigator.userAgent||navigator.vendor||window.opera,ake={has:{touch:!1,webStorage:!1},within:{iframe:!1}},_r={userAgent:cq,is:oke(cq),has:{touch:roe},within:{iframe:window.self!==window.top}},N_={install(t){const{$q:e}=t;Qu.value===!0?(t.onSSRHydrated.push(()=>{Object.assign(e.platform,_r),Qu.value=!1}),e.platform=Ps(this)):e.platform=this}};{let t;Q0(_r.has,"webStorage",()=>{if(t!==void 0)return t;try{if(window.localStorage)return t=!0,!0}catch{}return t=!1,!1}),Object.assign(N_,_r),Qu.value===!0&&(Object.assign(N_,CM,ake),CM=null)}function ske(){const t=we(!Qu.value);return t.value===!1&&kt(()=>{t.value=!0}),{isHydrated:t}}const ioe=typeof ResizeObserver<"u",fq=ioe===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},Um=cn({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:e}){let n=null,r,i={width:-1,height:-1};function o(l){l===!0||t.debounce===0||t.debounce==="0"?a():n===null&&(n=setTimeout(a,t.debounce))}function a(){if(n!==null&&(clearTimeout(n),n=null),r){const{offsetWidth:l,offsetHeight:u}=r;(l!==i.width||u!==i.height)&&(i={width:l,height:u},e("resize",i))}}const{proxy:s}=Lt();if(s.trigger=o,ioe===!0){let l;const u=c=>{r=s.$el.parentNode,r?(l=new ResizeObserver(o),l.observe(r),a()):c!==!0&&Tn(()=>{u(!0)})};return kt(()=>{u()}),On(()=>{n!==null&&clearTimeout(n),l!==void 0&&(l.disconnect!==void 0?l.disconnect():r&&l.unobserve(r))}),of}else{let l=function(){n!==null&&(clearTimeout(n),n=null),f!==void 0&&(f.removeEventListener!==void 0&&f.removeEventListener("resize",o,Zi.passive),f=void 0)},u=function(){l(),r?.contentDocument&&(f=r.contentDocument.defaultView,f.addEventListener("resize",o,Zi.passive),a())};const{isHydrated:c}=ske();let f;return kt(()=>{Tn(()=>{r=s.$el,r&&u()})}),On(l),()=>{if(c.value===!0)return he("object",{class:"q--avoid-card-border",style:fq.style,tabindex:-1,type:"text/html",data:fq.url,"aria-hidden":"true",onLoad:u})}}}}),lke="_q_",sy="_q_l_",ooe="_q_pc_",uke="_q_fo_",aoe="_q_tabs_";function Hi(){}const cke=cn({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:e,emit:n}){const{proxy:{$q:r}}=Lt(),i=rr(sy,Hi);if(i===Hi)return console.error("QHeader needs to be child of QLayout"),Hi;const o=we(parseInt(t.heightHint,10)),a=we(!0),s=re(()=>t.reveal===!0||i.view.value.indexOf("H")!==-1||r.platform.is.ios&&i.isContainer.value===!0),l=re(()=>{if(t.modelValue!==!0)return 0;if(s.value===!0)return a.value===!0?o.value:0;const y=o.value-i.scroll.value.position;return y>0?y:0}),u=re(()=>t.modelValue!==!0||s.value===!0&&a.value!==!0),c=re(()=>t.modelValue===!0&&u.value===!0&&t.reveal===!0),f=re(()=>"q-header q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(u.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),d=re(()=>{const y=i.rows.value.top,b={};return y[0]==="l"&&i.left.space===!0&&(b[r.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),y[2]==="r"&&i.right.space===!0&&(b[r.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),b});function h(y,b){i.update("header",y,b)}function p(y,b){y.value!==b&&(y.value=b)}function m({height:y}){p(o,y),h("size",y)}function g(y){c.value===!0&&p(a,!0),n("focusin",y)}We(()=>t.modelValue,y=>{h("space",y),p(a,!0),i.animate()}),We(l,y=>{h("offset",y)}),We(()=>t.reveal,y=>{y===!1&&p(a,t.modelValue)}),We(a,y=>{i.animate(),n("reveal",y)}),We(i.scroll,y=>{t.reveal===!0&&p(a,y.direction==="up"||y.position<=t.revealOffset||y.position-y.inflectionPoint<100)});const v={};return i.instances.header=v,t.modelValue===!0&&h("size",o.value),h("space",t.modelValue),h("offset",l.value),On(()=>{i.instances.header===v&&(i.instances.header=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const y=Vie(e.default,[]);return t.elevated===!0&&y.push(he("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),y.push(he(Um,{debounce:0,onResize:m})),he("header",{class:f.value,style:d.value,onFocusin:g},y)}}}),Er=cn({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(t,{slots:e}){const n=re(()=>`q-item__section column q-item__section--${t.avatar===!0||t.side===!0||t.thumbnail===!0?"side":"main"}`+(t.top===!0?" q-item__section--top justify-start":" justify-center")+(t.avatar===!0?" q-item__section--avatar":"")+(t.thumbnail===!0?" q-item__section--thumbnail":"")+(t.noWrap===!0?" q-item__section--nowrap":""));return()=>he("div",{class:n.value},Mr(e.default))}}),eu=cn({name:"QItem",props:{...ra,...G8e,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(t,{slots:e,emit:n}){const{proxy:{$q:r}}=Lt(),i=ia(t,r),{hasLink:o,linkAttrs:a,linkClass:s,linkTag:l,navigateOnClick:u}=noe(),c=we(null),f=we(null),d=re(()=>t.clickable===!0||o.value===!0||t.tag==="label"),h=re(()=>t.disable!==!0&&d.value===!0),p=re(()=>"q-item q-item-type row no-wrap"+(t.dense===!0?" q-item--dense":"")+(i.value===!0?" q-item--dark":"")+(o.value===!0&&t.active===null?s.value:t.active===!0?` q-item--active${t.activeClass!==void 0?` ${t.activeClass}`:""}`:"")+(t.disable===!0?" disabled":"")+(h.value===!0?" q-item--clickable q-link cursor-pointer "+(t.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(t.focused===!0?" q-manual-focusable--focused":""):"")),m=re(()=>t.insetLevel===void 0?null:{["padding"+(r.lang.rtl===!0?"Right":"Left")]:16+t.insetLevel*56+"px"});function g(b){h.value===!0&&(f.value!==null&&b.qAvoidFocus!==!0&&(b.qKeyEvent!==!0&&document.activeElement===c.value?f.value.focus():document.activeElement===f.value&&c.value.focus()),u(b))}function v(b){if(h.value===!0&&af(b,[13,32])===!0){zr(b),b.qKeyEvent=!0;const w=new MouseEvent("click",b);w.qKeyEvent=!0,c.value.dispatchEvent(w)}n("keyup",b)}function y(){const b=Vie(e.default,[]);return h.value===!0&&b.unshift(he("div",{class:"q-focus-helper",tabindex:-1,ref:f})),b}return()=>{const b={ref:c,class:p.value,style:m.value,role:"listitem",onClick:g,onKeyup:v};return h.value===!0?(b.tabindex=t.tabindex||"0",Object.assign(b,a.value)):d.value===!0&&(b["aria-disabled"]="true"),he(l.value,b,y())}}}),fke=["ul","ol"],hv=cn({name:"QList",props:{...ra,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(t,{slots:e}){const n=Lt(),r=ia(t,n.proxy.$q),i=re(()=>fke.includes(t.tag)?null:"list"),o=re(()=>"q-list"+(t.bordered===!0?" q-list--bordered":"")+(t.dense===!0?" q-list--dense":"")+(t.separator===!0?" q-list--separator":"")+(r.value===!0?" q-list--dark":"")+(t.padding===!0?" q-list--padding":""));return()=>he(t.tag,{class:o.value,role:i.value},Mr(e.default))}}),soe=()=>!0;function dke(t){return typeof t=="string"&&t!==""&&t!=="/"&&t!=="#/"}function hke(t){return t.startsWith("#")===!0&&(t=t.substring(1)),t.startsWith("/")===!1&&(t="/"+t),t.endsWith("/")===!0&&(t=t.substring(0,t.length-1)),"#"+t}function pke(t){if(t.backButtonExit===!1)return()=>!1;if(t.backButtonExit==="*")return soe;const e=["#/"];return Array.isArray(t.backButtonExit)===!0&&e.push(...t.backButtonExit.filter(dke).map(hke)),()=>e.includes(window.location.hash)}const kM={__history:[],add:of,remove:of,install({$q:t}){if(this.__installed===!0)return;const{cordova:e,capacitor:n}=_r.is;if(e!==!0&&n!==!0)return;const r=t.config[e===!0?"cordova":"capacitor"];if(r?.backButton===!1||n===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=a=>{a.condition===void 0&&(a.condition=soe),this.__history.push(a)},this.remove=a=>{const s=this.__history.indexOf(a);s>=0&&this.__history.splice(s,1)};const i=pke(Object.assign({backButtonExit:!0},r)),o=()=>{if(this.__history.length){const a=this.__history[this.__history.length-1];a.condition()===!0&&(this.__history.pop(),a.handler())}else i()===!0?navigator.app.exitApp():window.history.back()};e===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",o,!1)}):window.Capacitor.Plugins.App.addListener("backButton",o)}};function loe(t,e,n){let r;function i(){r!==void 0&&(kM.remove(r),r=void 0)}return On(()=>{t.value===!0&&i()}),{removeFromHistory:i,addToHistory(){r={condition:()=>n.value===!0,handler:e},kM.add(r)}}}const zI={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},qI=["beforeShow","show","beforeHide","hide"];function VI({showing:t,canShow:e,hideOnRouteChange:n,handleShow:r,handleHide:i,processOnMount:o}){const a=Lt(),{props:s,emit:l,proxy:u}=a;let c;function f(y){t.value===!0?p(y):d(y)}function d(y){if(s.disable===!0||y?.qAnchorHandled===!0||e!==void 0&&e(y)!==!0)return;const b=s["onUpdate:modelValue"]!==void 0;b===!0&&(l("update:modelValue",!0),c=y,Tn(()=>{c===y&&(c=void 0)})),(s.modelValue===null||b===!1)&&h(y)}function h(y){t.value!==!0&&(t.value=!0,l("beforeShow",y),r!==void 0?r(y):l("show",y))}function p(y){if(s.disable===!0)return;const b=s["onUpdate:modelValue"]!==void 0;b===!0&&(l("update:modelValue",!1),c=y,Tn(()=>{c===y&&(c=void 0)})),(s.modelValue===null||b===!1)&&m(y)}function m(y){t.value!==!1&&(t.value=!1,l("beforeHide",y),i!==void 0?i(y):l("hide",y))}function g(y){s.disable===!0&&y===!0?s["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):y===!0!==t.value&&(y===!0?h:m)(c)}We(()=>s.modelValue,g),n!==void 0&&eoe(a)===!0&&We(()=>u.$route.fullPath,()=>{n.value===!0&&t.value===!0&&p()}),o===!0&&kt(()=>{g(s.modelValue)});const v={show:d,hide:p,toggle:f};return Object.assign(u,v),v}const uoe=[Element,String],mke=[null,document,document.body,document.scrollingElement,document.documentElement];function coe(t,e){let n=$8e(e);if(n===void 0){if(t==null)return window;n=t.closest(".scroll,.scroll-y,.overflow-auto")}return mke.includes(n)?window:n}function HI(t){return t===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:t.scrollTop}function UI(t){return t===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:t.scrollLeft}function foe(t,e,n=0){const r=arguments[3]===void 0?performance.now():arguments[3],i=HI(t);if(n<=0){i!==e&&EM(t,e);return}requestAnimationFrame(o=>{const a=o-r,s=i+(e-i)/Math.max(a,n)*a;EM(t,s),s!==e&&foe(t,e,n-a,o)})}function doe(t,e,n=0){const r=arguments[3]===void 0?performance.now():arguments[3],i=UI(t);if(n<=0){i!==e&&AM(t,e);return}requestAnimationFrame(o=>{const a=o-r,s=i+(e-i)/Math.max(a,n)*a;AM(t,s),s!==e&&doe(t,e,n-a,o)})}function EM(t,e){if(t===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,e);return}t.scrollTop=e}function AM(t,e){if(t===window){window.scrollTo(e,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}t.scrollLeft=e}function dq(t,e,n){if(n){foe(t,e,n);return}EM(t,e)}function VE(t,e,n){if(n){doe(t,e,n);return}AM(t,e)}let ax;function B6(){if(ax!==void 0)return ax;const t=document.createElement("p"),e=document.createElement("div");_M(t,{width:"100%",height:"200px"}),_M(e,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);const n=t.offsetWidth;e.style.overflow="scroll";let r=t.offsetWidth;return n===r&&(r=e.clientWidth),e.remove(),ax=n-r,ax}function gke(t,e=!0){return!t||t.nodeType!==Node.ELEMENT_NODE?!1:e?t.scrollHeight>t.clientHeight&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-y"])):t.scrollWidth>t.clientWidth&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-x"]))}let eb=0,HE,UE,Ob,jE=!1,hq,pq,mq,Ep=null;function vke(t){yke(t)&&zr(t)}function yke(t){if(t.target===document.body||t.target.classList.contains("q-layout__backdrop"))return!0;const e=B8e(t),n=t.shiftKey&&!t.deltaX,r=!n&&Math.abs(t.deltaX)<=Math.abs(t.deltaY),i=n||r?t.deltaY:t.deltaX;for(let o=0;o<e.length;o++){const a=e[o];if(gke(a,r))return r?i<0&&a.scrollTop===0?!0:i>0&&a.scrollTop+a.clientHeight===a.scrollHeight:i<0&&a.scrollLeft===0?!0:i>0&&a.scrollLeft+a.clientWidth===a.scrollWidth}return!0}function gq(t){t.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function sx(t){jE!==!0&&(jE=!0,requestAnimationFrame(()=>{jE=!1;const{height:e}=t.target,{clientHeight:n,scrollTop:r}=document.scrollingElement;(Ob===void 0||e!==window.innerHeight)&&(Ob=n-e,document.scrollingElement.scrollTop=r),r>Ob&&(document.scrollingElement.scrollTop-=Math.ceil((r-Ob)/8))}))}function vq(t){const e=document.body,n=window.visualViewport!==void 0;if(t==="add"){const{overflowY:r,overflowX:i}=window.getComputedStyle(e);HE=UI(window),UE=HI(window),hq=e.style.left,pq=e.style.top,mq=window.location.href,e.style.left=`-${HE}px`,e.style.top=`-${UE}px`,i!=="hidden"&&(i==="scroll"||e.scrollWidth>window.innerWidth)&&e.classList.add("q-body--force-scrollbar-x"),r!=="hidden"&&(r==="scroll"||e.scrollHeight>window.innerHeight)&&e.classList.add("q-body--force-scrollbar-y"),e.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,_r.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",sx,Zi.passiveCapture),window.visualViewport.addEventListener("scroll",sx,Zi.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",gq,Zi.passiveCapture))}_r.is.desktop===!0&&_r.is.mac===!0&&window[`${t}EventListener`]("wheel",vke,Zi.notPassive),t==="remove"&&(_r.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",sx,Zi.passiveCapture),window.visualViewport.removeEventListener("scroll",sx,Zi.passiveCapture)):window.removeEventListener("scroll",gq,Zi.passiveCapture)),e.classList.remove("q-body--prevent-scroll"),e.classList.remove("q-body--force-scrollbar-x"),e.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,e.style.left=hq,e.style.top=pq,window.location.href===mq&&window.scrollTo(HE,UE),Ob=void 0)}function bke(t){let e="add";if(t===!0){if(eb++,Ep!==null){clearTimeout(Ep),Ep=null;return}if(eb>1)return}else{if(eb===0||(eb--,eb>0))return;if(e="remove",_r.is.ios===!0&&_r.is.nativeMobile===!0){Ep!==null&&clearTimeout(Ep),Ep=setTimeout(()=>{vq(e),Ep=null},100);return}}vq(e)}function hoe(){let t;return{preventBodyScroll(e){e!==t&&(t!==void 0||e===!0)&&(t=e,bke(e))}}}function pv(){let t=null;const e=Lt();function n(){t!==null&&(clearTimeout(t),t=null)}return Z0(n),On(n),{removeTimeout:n,registerTimeout(r,i){n(),BI(e)===!1&&(t=setTimeout(()=>{t=null,r()},i))}}}const jI={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},wke=Object.keys(jI);jI.all=!0;function O_(t){const e={};for(const n of wke)t[n]===!0&&(e[n]=!0);return Object.keys(e).length===0?jI:(e.horizontal===!0?e.left=e.right=!0:e.left===!0&&e.right===!0&&(e.horizontal=!0),e.vertical===!0?e.up=e.down=!0:e.up===!0&&e.down===!0&&(e.vertical=!0),e.horizontal===!0&&e.vertical===!0&&(e.all=!0),e)}const xke=["INPUT","TEXTAREA"];function I_(t,e){return e.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof e.handler=="function"&&xke.includes(t.target.nodeName.toUpperCase())===!1&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(e.uid)===-1)}function WI(){if(window.getSelection!==void 0){const t=window.getSelection();t.empty!==void 0?t.empty():t.removeAllRanges!==void 0&&(t.removeAllRanges(),N_.is.mobile!==!0&&t.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function WE(t,e,n){const r=jd(t);let i,o=r.left-e.event.x,a=r.top-e.event.y,s=Math.abs(o),l=Math.abs(a);const u=e.direction;u.horizontal===!0&&u.vertical!==!0?i=o<0?"left":"right":u.horizontal!==!0&&u.vertical===!0?i=a<0?"up":"down":u.up===!0&&a<0?(i="up",s>l&&(u.left===!0&&o<0?i="left":u.right===!0&&o>0&&(i="right"))):u.down===!0&&a>0?(i="down",s>l&&(u.left===!0&&o<0?i="left":u.right===!0&&o>0&&(i="right"))):u.left===!0&&o<0?(i="left",s<l&&(u.up===!0&&a<0?i="up":u.down===!0&&a>0&&(i="down"))):u.right===!0&&o>0&&(i="right",s<l&&(u.up===!0&&a<0?i="up":u.down===!0&&a>0&&(i="down")));let c=!1;if(i===void 0&&n===!1){if(e.event.isFirst===!0||e.event.lastDir===void 0)return{};i=e.event.lastDir,c=!0,i==="left"||i==="right"?(r.left-=o,s=0,o=0):(r.top-=a,l=0,a=0)}return{synthetic:c,payload:{evt:t,touch:e.event.mouse!==!0,mouse:e.event.mouse===!0,position:r,direction:i,isFirst:e.event.isFirst,isFinal:n===!0,duration:Date.now()-e.event.time,distance:{x:s,y:l},offset:{x:o,y:a},delta:{x:r.left-e.event.lastX,y:r.top-e.event.lastY}}}}let Ske=0;const _m=W8({name:"touch-pan",beforeMount(t,{value:e,modifiers:n}){if(n.mouse!==!0&&_r.has.touch!==!0)return;function r(o,a){n.mouse===!0&&a===!0?zr(o):(n.stop===!0&&ml(o),n.prevent===!0&&Ua(o))}const i={uid:"qvtp_"+Ske++,handler:e,modifiers:n,direction:O_(n),noop:of,mouseStart(o){I_(o,i)&&Kie(o)&&(Wu(i,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),i.start(o,!0))},touchStart(o){if(I_(o,i)){const a=o.target;Wu(i,"temp",[[a,"touchmove","move","notPassiveCapture"],[a,"touchcancel","end","passiveCapture"],[a,"touchend","end","passiveCapture"]]),i.start(o)}},start(o,a){if(_r.is.firefox===!0&&zg(t,!0),i.lastEvt=o,a===!0||n.stop===!0){if(i.direction.all!==!0&&(a!==!0||i.modifiers.mouseAllDir!==!0&&i.modifiers.mousealldir!==!0)){const u=o.type.indexOf("mouse")!==-1?new MouseEvent(o.type,o):new TouchEvent(o.type,o);o.defaultPrevented===!0&&Ua(u),o.cancelBubble===!0&&ml(u),Object.assign(u,{qKeyEvent:o.qKeyEvent,qClickOutside:o.qClickOutside,qAnchorHandled:o.qAnchorHandled,qClonedBy:o.qClonedBy===void 0?[i.uid]:o.qClonedBy.concat(i.uid)}),i.initialEvent={target:o.target,event:u}}ml(o)}const{left:s,top:l}=jd(o);i.event={x:s,y:l,time:Date.now(),mouse:a===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:s,lastY:l}},move(o){if(i.event===void 0)return;const a=jd(o),s=a.left-i.event.x,l=a.top-i.event.y;if(s===0&&l===0)return;i.lastEvt=o;const u=i.event.mouse===!0,c=()=>{r(o,u);let h;n.preserveCursor!==!0&&n.preservecursor!==!0&&(h=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),u===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),WI(),i.styleCleanup=p=>{if(i.styleCleanup=void 0,h!==void 0&&(document.documentElement.style.cursor=h),document.body.classList.remove("non-selectable"),u===!0){const m=()=>{document.body.classList.remove("no-pointer-events--children")};p!==void 0?setTimeout(()=>{m(),p()},50):m()}else p!==void 0&&p()}};if(i.event.detected===!0){i.event.isFirst!==!0&&r(o,i.event.mouse);const{payload:h,synthetic:p}=WE(o,i,!1);h!==void 0&&(i.handler(h)===!1?i.end(o):(i.styleCleanup===void 0&&i.event.isFirst===!0&&c(),i.event.lastX=h.position.left,i.event.lastY=h.position.top,i.event.lastDir=p===!0?void 0:h.direction,i.event.isFirst=!1));return}if(i.direction.all===!0||u===!0&&(i.modifiers.mouseAllDir===!0||i.modifiers.mousealldir===!0)){c(),i.event.detected=!0,i.move(o);return}const f=Math.abs(s),d=Math.abs(l);f!==d&&(i.direction.horizontal===!0&&f>d||i.direction.vertical===!0&&f<d||i.direction.up===!0&&f<d&&l<0||i.direction.down===!0&&f<d&&l>0||i.direction.left===!0&&f>d&&s<0||i.direction.right===!0&&f>d&&s>0?(i.event.detected=!0,i.move(o)):i.end(o,!0))},end(o,a){if(i.event!==void 0){if(w0(i,"temp"),_r.is.firefox===!0&&zg(t,!1),a===!0)i.styleCleanup?.(),i.event.detected!==!0&&i.initialEvent!==void 0&&i.initialEvent.target.dispatchEvent(i.initialEvent.event);else if(i.event.detected===!0){i.event.isFirst===!0&&i.handler(WE(o===void 0?i.lastEvt:o,i).payload);const{payload:s}=WE(o===void 0?i.lastEvt:o,i,!0),l=()=>{i.handler(s)};i.styleCleanup!==void 0?i.styleCleanup(l):l()}i.event=void 0,i.initialEvent=void 0,i.lastEvt=void 0}}};if(t.__qtouchpan=i,n.mouse===!0){const o=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";Wu(i,"main",[[t,"mousedown","mouseStart",`passive${o}`]])}_r.has.touch===!0&&Wu(i,"main",[[t,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const n=t.__qtouchpan;n!==void 0&&(e.oldValue!==e.value&&(typeof value!="function"&&n.end(),n.handler=e.value),n.direction=O_(e.modifiers))},beforeUnmount(t){const e=t.__qtouchpan;e!==void 0&&(e.event!==void 0&&e.end(),w0(e,"main"),w0(e,"temp"),_r.is.firefox===!0&&zg(t,!1),e.styleCleanup?.(),delete t.__qtouchpan)}});function ja(t,e,n){return n<=e?e:Math.min(n,Math.max(e,t))}function yq(t,e,n){if(n<=e)return e;const r=n-e+1;let i=e+(t-e)%r;return i<e&&(i=r+i),i===0?0:i}function Or(t,e=2,n="0"){if(t==null)return t;const r=""+t;return r.length>=e?r:new Array(e-r.length+1).join(n)+r}const bq=150,wq=cn({name:"QDrawer",inheritAttrs:!1,props:{...zI,...ra,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...qI,"onLayout","miniState"],setup(t,{slots:e,emit:n,attrs:r}){const i=Lt(),{proxy:{$q:o}}=i,a=ia(t,o),{preventBodyScroll:s}=hoe(),{registerTimeout:l,removeTimeout:u}=pv(),c=rr(sy,Hi);if(c===Hi)return console.error("QDrawer needs to be child of QLayout"),Hi;let f,d=null,h;const p=we(t.behavior==="mobile"||t.behavior!=="desktop"&&c.totalWidth.value<=t.breakpoint),m=re(()=>t.mini===!0&&p.value!==!0),g=re(()=>m.value===!0?t.miniWidth:t.width),v=we(t.showIfAbove===!0&&p.value===!1?!0:t.modelValue===!0),y=re(()=>t.persistent!==!0&&(p.value===!0||R.value===!0));function b(H,Q){if(_(),H!==!1&&c.animate(),ee(0),p.value===!0){const ie=c.instances[O.value];ie?.belowBreakpoint===!0&&ie.hide(!1),D(1),c.isContainer.value!==!0&&s(!0)}else D(0),H!==!1&&oe(!1);l(()=>{H!==!1&&oe(!0),Q!==!0&&n("show",H)},bq)}function w(H,Q){k(),H!==!1&&c.animate(),D(0),ee(M.value*g.value),j(),Q!==!0?l(()=>{n("hide",H)},bq):u()}const{show:x,hide:S}=VI({showing:v,hideOnRouteChange:y,handleShow:b,handleHide:w}),{addToHistory:_,removeFromHistory:k}=loe(v,S,y),C={belowBreakpoint:p,hide:S},E=re(()=>t.side==="right"),M=re(()=>(o.lang.rtl===!0?-1:1)*(E.value===!0?1:-1)),A=we(0),N=we(!1),T=we(!1),I=we(g.value*M.value),O=re(()=>E.value===!0?"left":"right"),q=re(()=>v.value===!0&&p.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:g.value:0),L=re(()=>t.overlay===!0||t.miniToOverlay===!0||c.view.value.indexOf(E.value?"R":"L")!==-1||o.platform.is.ios===!0&&c.isContainer.value===!0),Y=re(()=>t.overlay===!1&&v.value===!0&&p.value===!1),R=re(()=>t.overlay===!0&&v.value===!0&&p.value===!1),B=re(()=>"fullscreen q-drawer__backdrop"+(v.value===!1&&N.value===!1?" hidden":"")),z=re(()=>({backgroundColor:`rgba(0,0,0,${A.value*.4})`})),P=re(()=>E.value===!0?c.rows.value.top[2]==="r":c.rows.value.top[0]==="l"),$=re(()=>E.value===!0?c.rows.value.bottom[2]==="r":c.rows.value.bottom[0]==="l"),X=re(()=>{const H={};return c.header.space===!0&&P.value===!1&&(L.value===!0?H.top=`${c.header.offset}px`:c.header.space===!0&&(H.top=`${c.header.size}px`)),c.footer.space===!0&&$.value===!1&&(L.value===!0?H.bottom=`${c.footer.offset}px`:c.footer.space===!0&&(H.bottom=`${c.footer.size}px`)),H}),K=re(()=>{const H={width:`${g.value}px`,transform:`translateX(${I.value}px)`};return p.value===!0?H:Object.assign(H,X.value)}),Z=re(()=>"q-drawer__content fit "+(c.isContainer.value!==!0?"scroll":"overflow-auto")),te=re(()=>`q-drawer q-drawer--${t.side}`+(T.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(a.value===!0?" q-drawer--dark q-dark":"")+(N.value===!0?" no-transition":v.value===!0?"":" q-layout--prevent-focus")+(p.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${m.value===!0?"mini":"standard"}`+(L.value===!0||Y.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(P.value===!0?" q-drawer--top-padding":""))),J=re(()=>{const H=o.lang.rtl===!0?t.side:O.value;return[[_m,V,void 0,{[H]:!0,mouse:!0}]]}),fe=re(()=>{const H=o.lang.rtl===!0?O.value:t.side;return[[_m,F,void 0,{[H]:!0,mouse:!0}]]}),ue=re(()=>{const H=o.lang.rtl===!0?O.value:t.side;return[[_m,F,void 0,{[H]:!0,mouse:!0,mouseAllDir:!0}]]});function de(){pe(p,t.behavior==="mobile"||t.behavior!=="desktop"&&c.totalWidth.value<=t.breakpoint)}We(p,H=>{H===!0?(f=v.value,v.value===!0&&S(!1)):t.overlay===!1&&t.behavior!=="mobile"&&f!==!1&&(v.value===!0?(ee(0),D(0),j()):x(!1))}),We(()=>t.side,(H,Q)=>{c.instances[Q]===C&&(c.instances[Q]=void 0,c[Q].space=!1,c[Q].offset=0),c.instances[H]=C,c[H].size=g.value,c[H].space=Y.value,c[H].offset=q.value}),We(c.totalWidth,()=>{(c.isContainer.value===!0||document.qScrollPrevented!==!0)&&de()}),We(()=>t.behavior+t.breakpoint,de),We(c.isContainer,H=>{v.value===!0&&s(H!==!0),H===!0&&de()}),We(c.scrollbarWidth,()=>{ee(v.value===!0?0:void 0)}),We(q,H=>{se("offset",H)}),We(Y,H=>{n("onLayout",H),se("space",H)}),We(E,()=>{ee()}),We(g,H=>{ee(),ae(t.miniToOverlay,H)}),We(()=>t.miniToOverlay,H=>{ae(H,g.value)}),We(()=>o.lang.rtl,()=>{ee()}),We(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(W(),c.animate())}),We(m,H=>{n("miniState",H)});function ee(H){H===void 0?Tn(()=>{H=v.value===!0?0:g.value,ee(M.value*H)}):(c.isContainer.value===!0&&E.value===!0&&(p.value===!0||Math.abs(H)===g.value)&&(H+=M.value*c.scrollbarWidth.value),I.value=H)}function D(H){A.value=H}function oe(H){const Q=H===!0?"remove":c.isContainer.value!==!0?"add":"";Q!==""&&document.body.classList[Q]("q-body--drawer-toggle")}function W(){d!==null&&clearTimeout(d),i.proxy&&i.proxy.$el&&i.proxy.$el.classList.add("q-drawer--mini-animate"),T.value=!0,d=setTimeout(()=>{d=null,T.value=!1,i?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function V(H){if(v.value!==!1)return;const Q=g.value,ie=ja(H.distance.x,0,Q);if(H.isFinal===!0){ie>=Math.min(75,Q)===!0?x():(c.animate(),D(0),ee(M.value*Q)),N.value=!1;return}ee((o.lang.rtl===!0?E.value!==!0:E.value)?Math.max(Q-ie,0):Math.min(0,ie-Q)),D(ja(ie/Q,0,1)),H.isFirst===!0&&(N.value=!0)}function F(H){if(v.value!==!0)return;const Q=g.value,ie=H.direction===t.side,ce=(o.lang.rtl===!0?ie!==!0:ie)?ja(H.distance.x,0,Q):0;if(H.isFinal===!0){Math.abs(ce)<Math.min(75,Q)===!0?(c.animate(),D(1),ee(0)):S(),N.value=!1;return}ee(M.value*ce),D(ja(1-ce/Q,0,1)),H.isFirst===!0&&(N.value=!0)}function j(){s(!1),oe(!0)}function se(H,Q){c.update(t.side,H,Q)}function pe(H,Q){H.value!==Q&&(H.value=Q)}function ae(H,Q){se("size",H===!0?t.miniWidth:Q)}return c.instances[t.side]=C,ae(t.miniToOverlay,g.value),se("space",Y.value),se("offset",q.value),t.showIfAbove===!0&&t.modelValue!==!0&&v.value===!0&&t["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),kt(()=>{n("onLayout",Y.value),n("miniState",m.value),f=t.showIfAbove===!0;const H=()=>{(v.value===!0?b:w)(!1,!0)};if(c.totalWidth.value!==0){Tn(H);return}h=We(c.totalWidth,()=>{h(),h=void 0,v.value===!1&&t.showIfAbove===!0&&p.value===!1?x(!1):H()})}),On(()=>{h?.(),d!==null&&(clearTimeout(d),d=null),v.value===!0&&j(),c.instances[t.side]===C&&(c.instances[t.side]=void 0,se("size",0),se("offset",0),se("space",!1))}),()=>{const H=[];p.value===!0&&(t.noSwipeOpen===!1&&H.push(fo(he("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),J.value)),H.push(_3("div",{ref:"backdrop",class:B.value,style:z.value,"aria-hidden":"true",onClick:S},void 0,"backdrop",t.noSwipeBackdrop!==!0&&v.value===!0,()=>ue.value)));const Q=m.value===!0&&e.mini!==void 0,ie=[he("div",{...r,key:""+Q,class:[Z.value,r.class]},Q===!0?e.mini():Mr(e.default))];return t.elevated===!0&&v.value===!0&&ie.push(he("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),H.push(_3("aside",{ref:"content",class:te.value,style:K.value},ie,"contentclose",t.noSwipeClose!==!0&&p.value===!0,()=>fe.value)),he("div",{class:"q-drawer-container"},H)}}}),poe=cn({name:"QPageContainer",setup(t,{slots:e}){const{proxy:{$q:n}}=Lt(),r=rr(sy,Hi);if(r===Hi)return console.error("QPageContainer needs to be child of QLayout"),Hi;Cl(ooe,!0);const i=re(()=>{const o={};return r.header.space===!0&&(o.paddingTop=`${r.header.size}px`),r.right.space===!0&&(o[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${r.right.size}px`),r.footer.space===!0&&(o.paddingBottom=`${r.footer.size}px`),r.left.space===!0&&(o[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${r.left.size}px`),o});return()=>he("div",{class:"q-page-container",style:i.value},Mr(e.default))}}),_ke=cn({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:e,emit:n}){const{proxy:{$q:r}}=Lt(),i=rr(sy,Hi);if(i===Hi)return console.error("QFooter needs to be child of QLayout"),Hi;const o=we(parseInt(t.heightHint,10)),a=we(!0),s=we(Qu.value===!0||i.isContainer.value===!0?0:window.innerHeight),l=re(()=>t.reveal===!0||i.view.value.indexOf("F")!==-1||r.platform.is.ios&&i.isContainer.value===!0),u=re(()=>i.isContainer.value===!0?i.containerHeight.value:s.value),c=re(()=>{if(t.modelValue!==!0)return 0;if(l.value===!0)return a.value===!0?o.value:0;const x=i.scroll.value.position+u.value+o.value-i.height.value;return x>0?x:0}),f=re(()=>t.modelValue!==!0||l.value===!0&&a.value!==!0),d=re(()=>t.modelValue===!0&&f.value===!0&&t.reveal===!0),h=re(()=>"q-footer q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-bottom"+(t.bordered===!0?" q-footer--bordered":"")+(f.value===!0?" q-footer--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus"+(l.value!==!0?" hidden":""):"")),p=re(()=>{const x=i.rows.value.bottom,S={};return x[0]==="l"&&i.left.space===!0&&(S[r.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),x[2]==="r"&&i.right.space===!0&&(S[r.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),S});function m(x,S){i.update("footer",x,S)}function g(x,S){x.value!==S&&(x.value=S)}function v({height:x}){g(o,x),m("size",x)}function y(){if(t.reveal!==!0)return;const{direction:x,position:S,inflectionPoint:_}=i.scroll.value;g(a,x==="up"||S-_<100||i.height.value-u.value-S-o.value<300)}function b(x){d.value===!0&&g(a,!0),n("focusin",x)}We(()=>t.modelValue,x=>{m("space",x),g(a,!0),i.animate()}),We(c,x=>{m("offset",x)}),We(()=>t.reveal,x=>{x===!1&&g(a,t.modelValue)}),We(a,x=>{i.animate(),n("reveal",x)}),We([o,i.scroll,i.height],y),We(()=>r.screen.height,x=>{i.isContainer.value!==!0&&g(s,x)});const w={};return i.instances.footer=w,t.modelValue===!0&&m("size",o.value),m("space",t.modelValue),m("offset",c.value),On(()=>{i.instances.footer===w&&(i.instances.footer=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const x=Ql(e.default,[he(Um,{debounce:0,onResize:v})]);return t.elevated===!0&&x.push(he("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),he("footer",{class:h.value,style:p.value,onFocusin:b},x)}}}),{passive:xq}=Zi,Cke=["both","horizontal","vertical"],moe=cn({name:"QScrollObserver",props:{axis:{type:String,validator:t=>Cke.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:uoe},emits:["scroll"],setup(t,{emit:e}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let r=null,i,o;We(()=>t.scrollTarget,()=>{l(),s()});function a(){r?.();const f=Math.max(0,HI(i)),d=UI(i),h={top:f-n.position.top,left:d-n.position.left};if(t.axis==="vertical"&&h.top===0||t.axis==="horizontal"&&h.left===0)return;const p=Math.abs(h.top)>=Math.abs(h.left)?h.top<0?"up":"down":h.left<0?"left":"right";n.position={top:f,left:d},n.directionChanged=n.direction!==p,n.delta=h,n.directionChanged===!0&&(n.direction=p,n.inflectionPoint=n.position),e("scroll",{...n})}function s(){i=coe(o,t.scrollTarget),i.addEventListener("scroll",u,xq),u(!0)}function l(){i!==void 0&&(i.removeEventListener("scroll",u,xq),i=void 0)}function u(f){if(f===!0||t.debounce===0||t.debounce==="0")a();else if(r===null){const[d,h]=t.debounce?[setTimeout(a,t.debounce),clearTimeout]:[requestAnimationFrame(a),cancelAnimationFrame];r=()=>{h(d),r=null}}}const{proxy:c}=Lt();return We(()=>c.$q.lang.rtl,a),kt(()=>{o=c.$el.parentNode,s()}),On(()=>{r?.(),l()}),Object.assign(c,{trigger:u,getPosition:()=>n}),of}}),goe=cn({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:e,emit:n}){const{proxy:{$q:r}}=Lt(),i=we(null),o=we(r.screen.height),a=we(t.container===!0?0:r.screen.width),s=we({position:0,direction:"down",inflectionPoint:0}),l=we(0),u=we(Qu.value===!0?0:B6()),c=re(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),f=re(()=>t.container===!1?{minHeight:r.screen.height+"px"}:null),d=re(()=>u.value!==0?{[r.lang.rtl===!0?"left":"right"]:`${u.value}px`}:null),h=re(()=>u.value!==0?{[r.lang.rtl===!0?"right":"left"]:0,[r.lang.rtl===!0?"left":"right"]:`-${u.value}px`,width:`calc(100% + ${u.value}px)`}:null);function p(w){if(t.container===!0||document.qScrollPrevented!==!0){const x={position:w.position.top,direction:w.direction,directionChanged:w.directionChanged,inflectionPoint:w.inflectionPoint.top,delta:w.delta.top};s.value=x,t.onScroll!==void 0&&n("scroll",x)}}function m(w){const{height:x,width:S}=w;let _=!1;o.value!==x&&(_=!0,o.value=x,t.onScrollHeight!==void 0&&n("scrollHeight",x),v()),a.value!==S&&(_=!0,a.value=S),_===!0&&t.onResize!==void 0&&n("resize",w)}function g({height:w}){l.value!==w&&(l.value=w,v())}function v(){if(t.container===!0){const w=o.value>l.value?B6():0;u.value!==w&&(u.value=w)}}let y=null;const b={instances:{},view:re(()=>t.view),isContainer:re(()=>t.container),rootRef:i,height:o,containerHeight:l,scrollbarWidth:u,totalWidth:re(()=>a.value+u.value),rows:re(()=>{const w=t.view.toLowerCase().split(" ");return{top:w[0].split(""),middle:w[1].split(""),bottom:w[2].split("")}}),header:Ps({size:0,offset:0,space:!1}),right:Ps({size:300,offset:0,space:!1}),footer:Ps({size:0,offset:0,space:!1}),left:Ps({size:300,offset:0,space:!1}),scroll:s,animate(){y!==null?clearTimeout(y):document.body.classList.add("q-body--layout-animate"),y=setTimeout(()=>{y=null,document.body.classList.remove("q-body--layout-animate")},155)},update(w,x,S){b[w][x]=S}};if(Cl(sy,b),B6()>0){let w=function(){_=null,k.classList.remove("hide-scrollbar")},x=function(){if(_===null){if(k.scrollHeight>r.screen.height)return;k.classList.add("hide-scrollbar")}else clearTimeout(_);_=setTimeout(w,300)},S=function(C){_!==null&&C==="remove"&&(clearTimeout(_),w()),window[`${C}EventListener`]("resize",x)},_=null;const k=document.body;We(()=>t.container!==!0?"add":"remove",S),t.container!==!0&&S("add"),Oo(()=>{S("remove")})}return()=>{const w=Ql(e.default,[he(moe,{onScroll:p}),he(Um,{onResize:m})]),x=he("div",{class:c.value,style:f.value,ref:t.container===!0?void 0:i,tabindex:-1},w);return t.container===!0?he("div",{class:"q-layout-container overflow-hidden",ref:i},[he(Um,{onResize:g}),he("div",{class:"absolute-full",style:d.value},[he("div",{class:"scroll",style:h.value},[x])])]):x}}}),T0=cn({name:"QCard",props:{...ra,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=Lt(),r=ia(t,n),i=re(()=>"q-card"+(r.value===!0?" q-card--dark q-dark":"")+(t.bordered===!0?" q-card--bordered":"")+(t.square===!0?" q-card--square no-border-radius":"")+(t.flat===!0?" q-card--flat no-shadow":""));return()=>he(t.tag,{class:i.value},Mr(e.default))}});function M2(){let t;const e=Lt();function n(){t=void 0}return Z0(n),On(n),{removeTick:n,registerTick(r){t=r,Tn(()=>{t===r&&(BI(e)===!1&&t(),t=void 0)})}}}const voe={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function yoe(t,e=()=>{},n=()=>{}){return{transitionProps:re(()=>{const r=`q-transition--${t.transitionShow||e()}`,i=`q-transition--${t.transitionHide||n()}`;return{appear:!0,enterFromClass:`${r}-enter-from`,enterActiveClass:`${r}-enter-active`,enterToClass:`${r}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:re(()=>`--q-transition-duration: ${t.transitionDuration}ms`)}}let rm=[],k3=[];function boe(t){k3=k3.filter(e=>e!==t)}function kke(t){boe(t),k3.push(t)}function Sq(t){boe(t),k3.length===0&&rm.length!==0&&(rm[rm.length-1](),rm=[])}function X8(t){k3.length===0?t():rm.push(t)}function Eke(t){rm=rm.filter(e=>e!==t)}const P_={};let woe=!1;function Ake(){woe=!0}let Tke=1,Mke=document.body;function GI(t,e){const n=document.createElement("div");if(n.id=e!==void 0?`q-portal--${e}--${Tke++}`:t,P_.globalNodes!==void 0){const r=P_.globalNodes.class;r!==void 0&&(n.className=r)}return Mke.appendChild(n),n}function xoe(t){t.remove()}const qg=[];function Dke(t){return qg.find(e=>e.contentEl!==null&&e.contentEl.contains(t))}function Soe(t,e){do{if(t.$options.name==="QMenu"){if(t.hide(e),t.$props.separateClosePopup===!0)return $6(t)}else if(t.__qPortal===!0){const n=$6(t);return n?.$options.name==="QPopupProxy"?(t.hide(e),n):t}t=$6(t)}while(t!=null)}function Nke(t,e,n){for(;n!==0&&t!==void 0&&t!==null;){if(t.__qPortal===!0){if(n--,t.$options.name==="QMenu"){t=Soe(t,e);continue}t.hide(e)}t=$6(t)}}const Oke=cn({name:"QPortal",setup(t,{slots:e}){return()=>e.default()}});function Ike(t){for(t=t.parent;t!=null;){if(t.type.name==="QGlobalDialog")return!0;if(t.type.name==="QDialog"||t.type.name==="QMenu")return!1;t=t.parent}return!1}function _oe(t,e,n,r){const i=we(!1),o=we(!1);let a=null;const s={},l=r==="dialog"&&Ike(t);function u(f){if(f===!0){Sq(s),o.value=!0;return}o.value=!1,i.value===!1&&(l===!1&&a===null&&(a=GI(!1,r)),i.value=!0,qg.push(t.proxy),kke(s))}function c(f){if(o.value=!1,f!==!0)return;Sq(s),i.value=!1;const d=qg.indexOf(t.proxy);d!==-1&&qg.splice(d,1),a!==null&&(xoe(a),a=null)}return Oo(()=>{c(!0)}),t.proxy.__qPortal=!0,Q0(t.proxy,"contentEl",()=>e.value),{showPortal:u,hidePortal:c,portalIsActive:i,portalIsAccessible:o,renderPortal:()=>l===!0?n():i.value===!0?[he(rre,{to:a},he(Oke,n))]:void 0}}const Cm=[];let mv;function Pke(t){mv=t.keyCode===27}function Rke(){mv===!0&&(mv=!1)}function Fke(t){mv===!0&&(mv=!1,af(t,27)===!0&&Cm[Cm.length-1](t))}function Coe(t){window[t]("keydown",Pke),window[t]("blur",Rke),window[t]("keyup",Fke),mv=!1}function koe(t){_r.is.desktop===!0&&(Cm.push(t),Cm.length===1&&Coe("addEventListener"))}function R_(t){const e=Cm.indexOf(t);e!==-1&&(Cm.splice(e,1),Cm.length===0&&Coe("removeEventListener"))}const km=[];function Eoe(t){km[km.length-1](t)}function Aoe(t){_r.is.desktop===!0&&(km.push(t),km.length===1&&document.body.addEventListener("focusin",Eoe))}function TM(t){const e=km.indexOf(t);e!==-1&&(km.splice(e,1),km.length===0&&document.body.removeEventListener("focusin",Eoe))}let lx=0;const Lke={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},_q={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},ly=cn({name:"QDialog",inheritAttrs:!1,props:{...zI,...voe,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:t=>["standard","top","bottom","left","right"].includes(t)}},emits:[...qI,"shake","click","escapeKey"],setup(t,{slots:e,emit:n,attrs:r}){const i=Lt(),o=we(null),a=we(!1),s=we(!1);let l=null,u=null,c,f;const d=re(()=>t.persistent!==!0&&t.noRouteDismiss!==!0&&t.seamless!==!0),{preventBodyScroll:h}=hoe(),{registerTimeout:p}=pv(),{registerTick:m,removeTick:g}=M2(),{transitionProps:v,transitionStyle:y}=yoe(t,()=>_q[t.position][0],()=>_q[t.position][1]),b=re(()=>y.value+(t.backdropFilter!==void 0?`;backdrop-filter:${t.backdropFilter};-webkit-backdrop-filter:${t.backdropFilter}`:"")),{showPortal:w,hidePortal:x,portalIsAccessible:S,renderPortal:_}=_oe(i,o,X,"dialog"),{hide:k}=VI({showing:a,hideOnRouteChange:d,handleShow:I,handleHide:O,processOnMount:!0}),{addToHistory:C,removeFromHistory:E}=loe(a,k,d),M=re(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${t.maximized===!0?"maximized":"minimized"} q-dialog__inner--${t.position} ${Lke[t.position]}`+(s.value===!0?" q-dialog__inner--animating":"")+(t.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(t.fullHeight===!0?" q-dialog__inner--fullheight":"")+(t.square===!0?" q-dialog__inner--square":"")),A=re(()=>a.value===!0&&t.seamless!==!0),N=re(()=>t.autoClose===!0?{onClick:z}:{}),T=re(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${A.value===!0?"modal":"seamless"}`,r.class]);We(()=>t.maximized,K=>{a.value===!0&&B(K)}),We(A,K=>{h(K),K===!0?(Aoe($),koe(Y)):(TM($),R_(Y))});function I(K){C(),u=t.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,B(t.maximized),w(),s.value=!0,t.noFocus!==!0?(document.activeElement?.blur(),m(q)):g(),p(()=>{if(i.proxy.$q.platform.is.ios===!0){if(t.seamless!==!0&&document.activeElement){const{top:Z,bottom:te}=document.activeElement.getBoundingClientRect(),{innerHeight:J}=window,fe=window.visualViewport!==void 0?window.visualViewport.height:J;Z>0&&te>fe/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-fe,te>=J?1/0:Math.ceil(document.scrollingElement.scrollTop+te-fe/2))),document.activeElement.scrollIntoView()}f=!0,o.value.click(),f=!1}w(!0),s.value=!1,n("show",K)},t.transitionDuration)}function O(K){g(),E(),R(!0),s.value=!0,x(),u!==null&&(((K?.type.indexOf("key")===0?u.closest('[tabindex]:not([tabindex^="-"])'):void 0)||u).focus(),u=null),p(()=>{x(!0),s.value=!1,n("hide",K)},t.transitionDuration)}function q(K){X8(()=>{let Z=o.value;if(Z!==null){if(K!==void 0){const te=Z.querySelector(K);if(te!==null){te.focus({preventScroll:!0});return}}Z.contains(document.activeElement)!==!0&&(Z=Z.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||Z.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||Z.querySelector("[autofocus], [data-autofocus]")||Z,Z.focus({preventScroll:!0}))}})}function L(K){K&&typeof K.focus=="function"?K.focus({preventScroll:!0}):q(),n("shake");const Z=o.value;Z!==null&&(Z.classList.remove("q-animate--scale"),Z.classList.add("q-animate--scale"),l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,o.value!==null&&(Z.classList.remove("q-animate--scale"),q())},170))}function Y(){t.seamless!==!0&&(t.persistent===!0||t.noEscDismiss===!0?t.maximized!==!0&&t.noShake!==!0&&L():(n("escapeKey"),k()))}function R(K){l!==null&&(clearTimeout(l),l=null),(K===!0||a.value===!0)&&(B(!1),t.seamless!==!0&&(h(!1),TM($),R_(Y))),K!==!0&&(u=null)}function B(K){K===!0?c!==!0&&(lx<1&&document.body.classList.add("q-body--dialog"),lx++,c=!0):c===!0&&(lx<2&&document.body.classList.remove("q-body--dialog"),lx--,c=!1)}function z(K){f!==!0&&(k(K),n("click",K))}function P(K){t.persistent!==!0&&t.noBackdropDismiss!==!0?k(K):t.noShake!==!0&&L()}function $(K){t.allowFocusOutside!==!0&&S.value===!0&&Gie(o.value,K.target)!==!0&&q('[tabindex]:not([tabindex="-1"])')}Object.assign(i.proxy,{focus:q,shake:L,__updateRefocusTarget(K){u=K||null}}),On(R);function X(){return he("div",{role:"dialog","aria-modal":A.value===!0?"true":"false",...r,class:T.value},[he(Hd,{name:"q-transition--fade",appear:!0},()=>A.value===!0?he("div",{class:"q-dialog__backdrop fixed-full",style:b.value,"aria-hidden":"true",tabindex:-1,onClick:P}):null),he(Hd,v.value,()=>a.value===!0?he("div",{ref:o,class:M.value,style:y.value,tabindex:-1,...N.value},Mr(e.default)):null)])}return _}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const dg=typeof document<"u";function Toe(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function $ke(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Toe(t.default)}const br=Object.assign;function GE(t,e){const n={};for(const r in e){const i=e[r];n[r]=ec(i)?i.map(t):t(i)}return n}const D2=()=>{},ec=Array.isArray,Moe=/#/g,Bke=/&/g,zke=/\//g,qke=/=/g,Vke=/\?/g,Doe=/\+/g,Hke=/%5B/g,Uke=/%5D/g,Noe=/%5E/g,jke=/%60/g,Ooe=/%7B/g,Wke=/%7C/g,Ioe=/%7D/g,Gke=/%20/g;function KI(t){return encodeURI(""+t).replace(Wke,"|").replace(Hke,"[").replace(Uke,"]")}function Kke(t){return KI(t).replace(Ooe,"{").replace(Ioe,"}").replace(Noe,"^")}function MM(t){return KI(t).replace(Doe,"%2B").replace(Gke,"+").replace(Moe,"%23").replace(Bke,"%26").replace(jke,"`").replace(Ooe,"{").replace(Ioe,"}").replace(Noe,"^")}function Xke(t){return MM(t).replace(qke,"%3D")}function Yke(t){return KI(t).replace(Moe,"%23").replace(Vke,"%3F")}function Zke(t){return t==null?"":Yke(t).replace(zke,"%2F")}function E3(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Jke=/\/$/,Qke=t=>t.replace(Jke,"");function KE(t,e,n="/"){let r,i={},o="",a="";const s=e.indexOf("#");let l=e.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,s>-1?s:e.length),i=t(o)),s>-1&&(r=r||e.slice(0,s),a=e.slice(s,e.length)),r=r7e(r??e,n),{fullPath:r+(o&&"?")+o+a,path:r,query:i,hash:E3(a)}}function e7e(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Cq(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function t7e(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&gv(e.matched[r],n.matched[i])&&Poe(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function gv(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Poe(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!n7e(t[n],e[n]))return!1;return!0}function n7e(t,e){return ec(t)?kq(t,e):ec(e)?kq(e,t):t===e}function kq(t,e){return ec(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function r7e(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,a,s;for(a=0;a<r.length;a++)if(s=r[a],s!==".")if(s==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(a).join("/")}const wh={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var A3;(function(t){t.pop="pop",t.push="push"})(A3||(A3={}));var N2;(function(t){t.back="back",t.forward="forward",t.unknown=""})(N2||(N2={}));function i7e(t){if(!t)if(dg){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Qke(t)}const o7e=/^[^#]+#/;function a7e(t,e){return t.replace(o7e,"#")+e}function s7e(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Y8=()=>({left:window.scrollX,top:window.scrollY});function l7e(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=s7e(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Eq(t,e){return(history.state?history.state.position-e:-1)+t}const DM=new Map;function u7e(t,e){DM.set(t,e)}function c7e(t){const e=DM.get(t);return DM.delete(t),e}let f7e=()=>location.protocol+"//"+location.host;function Roe(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let s=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(s);return l[0]!=="/"&&(l="/"+l),Cq(l,"")}return Cq(n,t)+r+i}function d7e(t,e,n,r){let i=[],o=[],a=null;const s=({state:d})=>{const h=Roe(t,location),p=n.value,m=e.value;let g=0;if(d){if(n.value=h,e.value=d,a&&a===p){a=null;return}g=m?d.position-m.position:0}else r(h);i.forEach(v=>{v(n.value,p,{delta:g,type:A3.pop,direction:g?g>0?N2.forward:N2.back:N2.unknown})})};function l(){a=n.value}function u(d){i.push(d);const h=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return o.push(h),h}function c(){const{history:d}=window;d.state&&d.replaceState(br({},d.state,{scroll:Y8()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function Aq(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Y8():null}}function h7e(t){const{history:e,location:n}=window,r={value:Roe(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,u,c){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:f7e()+t+l;try{e[c?"replaceState":"pushState"](u,"",d),i.value=u}catch(h){console.error(h),n[c?"replace":"assign"](d)}}function a(l,u){const c=br({},e.state,Aq(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});o(l,c,!0),r.value=l}function s(l,u){const c=br({},i.value,e.state,{forward:l,scroll:Y8()});o(c.current,c,!0);const f=br({},Aq(r.value,l,null),{position:c.position+1},u);o(l,f,!1),r.value=l}return{location:r,state:i,push:s,replace:a}}function p7e(t){t=i7e(t);const e=h7e(t),n=d7e(t,e.state,e.location,e.replace);function r(o,a=!0){a||n.pauseListeners(),history.go(o)}const i=br({location:"",base:t,go:r,createHref:a7e.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function m7e(t){return typeof t=="string"||t&&typeof t=="object"}function Foe(t){return typeof t=="string"||typeof t=="symbol"}const Loe=Symbol("");var Tq;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Tq||(Tq={}));function vv(t,e){return br(new Error,{type:t,[Loe]:!0},e)}function Vf(t,e){return t instanceof Error&&Loe in t&&(e==null||!!(t.type&e))}const Mq="[^/]+?",g7e={sensitive:!1,strict:!1,start:!0,end:!0},v7e=/[.+*?^${}()[\]/\\]/g;function y7e(t,e){const n=br({},g7e,e),r=[];let i=n.start?"^":"";const o=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const d=u[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(v7e,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:m,optional:g,regexp:v}=d;o.push({name:p,repeatable:m,optional:g});const y=v||Mq;if(y!==Mq){h+=10;try{new RegExp(`(${y})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+w.message)}}let b=m?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(b=g&&u.length<2?`(?:/${b})`:"/"+b),g&&(b+="?"),i+=b,h+=20,g&&(h+=-8),m&&(h+=-20),y===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function s(u){const c=u.match(a),f={};if(!c)return null;for(let d=1;d<c.length;d++){const h=c[d]||"",p=o[d-1];f[p.name]=h&&p.repeatable?h.split("/"):h}return f}function l(u){let c="",f=!1;for(const d of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of d)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:g}=h,v=p in u?u[p]:"";if(ec(v)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=ec(v)?v.join("/"):v;if(!y)if(g)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);c+=y}}return c||"/"}return{re:a,score:r,keys:o,parse:s,stringify:l}}function b7e(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function $oe(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=b7e(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(Dq(r))return 1;if(Dq(i))return-1}return i.length-r.length}function Dq(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const w7e={type:0,value:""},x7e=/[a-zA-Z0-9_]/;function S7e(t){if(!t)return[[]];if(t==="/")return[[w7e]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let s=0,l,u="",c="";function f(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;s<t.length;){if(l=t[s++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),a()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:x7e.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),a(),i}function _7e(t,e,n){const r=y7e(S7e(t.path),n),i=br(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function C7e(t,e){const n=[],r=new Map;e=Pq({strict:!1,end:!0,sensitive:!1},e);function i(f){return r.get(f)}function o(f,d,h){const p=!h,m=Oq(f);m.aliasOf=h&&h.record;const g=Pq(e,f),v=[m];if("alias"in f){const w=typeof f.alias=="string"?[f.alias]:f.alias;for(const x of w)v.push(Oq(br({},m,{components:h?h.record.components:m.components,path:x,aliasOf:h?h.record:m})))}let y,b;for(const w of v){const{path:x}=w;if(d&&x[0]!=="/"){const S=d.record.path,_=S[S.length-1]==="/"?"":"/";w.path=d.record.path+(x&&_+x)}if(y=_7e(w,d,g),h?h.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),p&&f.name&&!Iq(y)&&a(f.name)),Boe(y)&&l(y),m.children){const S=m.children;for(let _=0;_<S.length;_++)o(S[_],y,h&&h.children[_])}h=h||y}return b?()=>{a(b)}:D2}function a(f){if(Foe(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(a),d.alias.forEach(a))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function s(){return n}function l(f){const d=A7e(f,n);n.splice(d,0,f),f.record.name&&!Iq(f)&&r.set(f.record.name,f)}function u(f,d){let h,p={},m,g;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw vv(1,{location:f});g=h.record.name,p=br(Nq(d.params,h.keys.filter(b=>!b.optional).concat(h.parent?h.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),f.params&&Nq(f.params,h.keys.map(b=>b.name))),m=h.stringify(p)}else if(f.path!=null)m=f.path,h=n.find(b=>b.re.test(m)),h&&(p=h.parse(m),g=h.record.name);else{if(h=d.name?r.get(d.name):n.find(b=>b.re.test(d.path)),!h)throw vv(1,{location:f,currentLocation:d});g=h.record.name,p=br({},d.params,f.params),m=h.stringify(p)}const v=[];let y=h;for(;y;)v.unshift(y.record),y=y.parent;return{name:g,path:m,params:p,matched:v,meta:E7e(v)}}t.forEach(f=>o(f));function c(){n.length=0,r.clear()}return{addRoute:o,resolve:u,removeRoute:a,clearRoutes:c,getRoutes:s,getRecordMatcher:i}}function Nq(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Oq(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:k7e(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function k7e(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Iq(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function E7e(t){return t.reduce((e,n)=>br(e,n.meta),{})}function Pq(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function A7e(t,e){let n=0,r=e.length;for(;n!==r;){const o=n+r>>1;$oe(t,e[o])<0?r=o:n=o+1}const i=T7e(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function T7e(t){let e=t;for(;e=e.parent;)if(Boe(e)&&$oe(t,e)===0)return e}function Boe({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function M7e(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(Doe," "),a=o.indexOf("="),s=E3(a<0?o:o.slice(0,a)),l=a<0?null:E3(o.slice(a+1));if(s in e){let u=e[s];ec(u)||(u=e[s]=[u]),u.push(l)}else e[s]=l}return e}function Rq(t){let e="";for(let n in t){const r=t[n];if(n=Xke(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ec(r)?r.map(o=>o&&MM(o)):[r&&MM(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function D7e(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ec(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const N7e=Symbol(""),Fq=Symbol(""),Z8=Symbol(""),XI=Symbol(""),NM=Symbol("");function tb(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Vh(t,e,n,r,i,o=a=>a()){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const u=d=>{d===!1?l(vv(4,{from:n,to:e})):d instanceof Error?l(d):m7e(d)?l(vv(2,{from:e,to:d})):(a&&r.enterCallbacks[i]===a&&typeof d=="function"&&a.push(d),s())},c=o(()=>t.call(r&&r.instances[i],e,n,u));let f=Promise.resolve(c);t.length<3&&(f=f.then(u)),f.catch(d=>l(d))})}function XE(t,e,n,r,i=o=>o()){const o=[];for(const a of t)for(const s in a.components){let l=a.components[s];if(!(e!=="beforeRouteEnter"&&!a.instances[s]))if(Toe(l)){const c=(l.__vccOpts||l)[e];c&&o.push(Vh(c,n,r,a,s,i))}else{let u=l();o.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${s}" at "${a.path}"`);const f=$ke(c)?c.default:c;a.mods[s]=c,a.components[s]=f;const h=(f.__vccOpts||f)[e];return h&&Vh(h,n,r,a,s,i)()}))}}return o}function Lq(t){const e=rr(Z8),n=rr(XI),r=re(()=>{const l=le(t.to);return e.resolve(l)}),i=re(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(gv.bind(null,c));if(d>-1)return d;const h=$q(l[u-2]);return u>1&&$q(c)===h&&f[f.length-1].path!==h?f.findIndex(gv.bind(null,l[u-2])):d}),o=re(()=>i.value>-1&&F7e(n.params,r.value.params)),a=re(()=>i.value>-1&&i.value===n.matched.length-1&&Poe(n.params,r.value.params));function s(l={}){if(R7e(l)){const u=e[le(t.replace)?"replace":"push"](le(t.to)).catch(D2);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:re(()=>r.value.href),isActive:o,isExactActive:a,navigate:s}}function O7e(t){return t.length===1?t[0]:t}const I7e=nt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Lq,setup(t,{slots:e}){const n=Ps(Lq(t)),{options:r}=rr(Z8),i=re(()=>({[Bq(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Bq(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&O7e(e.default(n));return t.custom?o:he("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),P7e=I7e;function R7e(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function F7e(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ec(i)||i.length!==r.length||r.some((o,a)=>o!==i[a]))return!1}return!0}function $q(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Bq=(t,e,n)=>t??e??n,L7e=nt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=rr(NM),i=re(()=>t.route||r.value),o=rr(Fq,0),a=re(()=>{let u=le(o);const{matched:c}=i.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),s=re(()=>i.value.matched[a.value]);Cl(Fq,re(()=>a.value+1)),Cl(N7e,s),Cl(NM,i);const l=we();return We(()=>[l.value,s.value,t.name],([u,c,f],[d,h,p])=>{c&&(c.instances[f]=u,h&&h!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!gv(c,h)||!d)&&(c.enterCallbacks[f]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,f=s.value,d=f&&f.components[c];if(!d)return zq(n.default,{Component:d,route:u});const h=f.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,g=he(d,br({},p,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return zq(n.default,{Component:g,route:u})||g}}});function zq(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const zoe=L7e;function $7e(t){const e=C7e(t.routes,t),n=t.parseQuery||M7e,r=t.stringifyQuery||Rq,i=t.history,o=tb(),a=tb(),s=tb(),l=fr(wh);let u=wh;dg&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=GE.bind(null,Z=>""+Z),f=GE.bind(null,Zke),d=GE.bind(null,E3);function h(Z,te){let J,fe;return Foe(Z)?(J=e.getRecordMatcher(Z),fe=te):fe=Z,e.addRoute(fe,J)}function p(Z){const te=e.getRecordMatcher(Z);te&&e.removeRoute(te)}function m(){return e.getRoutes().map(Z=>Z.record)}function g(Z){return!!e.getRecordMatcher(Z)}function v(Z,te){if(te=br({},te||l.value),typeof Z=="string"){const D=KE(n,Z,te.path),oe=e.resolve({path:D.path},te),W=i.createHref(D.fullPath);return br(D,oe,{params:d(oe.params),hash:E3(D.hash),redirectedFrom:void 0,href:W})}let J;if(Z.path!=null)J=br({},Z,{path:KE(n,Z.path,te.path).path});else{const D=br({},Z.params);for(const oe in D)D[oe]==null&&delete D[oe];J=br({},Z,{params:f(D)}),te.params=f(te.params)}const fe=e.resolve(J,te),ue=Z.hash||"";fe.params=c(d(fe.params));const de=e7e(r,br({},Z,{hash:Kke(ue),path:fe.path})),ee=i.createHref(de);return br({fullPath:de,hash:ue,query:r===Rq?D7e(Z.query):Z.query||{}},fe,{redirectedFrom:void 0,href:ee})}function y(Z){return typeof Z=="string"?KE(n,Z,l.value.path):br({},Z)}function b(Z,te){if(u!==Z)return vv(8,{from:te,to:Z})}function w(Z){return _(Z)}function x(Z){return w(br(y(Z),{replace:!0}))}function S(Z){const te=Z.matched[Z.matched.length-1];if(te&&te.redirect){const{redirect:J}=te;let fe=typeof J=="function"?J(Z):J;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=y(fe):{path:fe},fe.params={}),br({query:Z.query,hash:Z.hash,params:fe.path!=null?{}:Z.params},fe)}}function _(Z,te){const J=u=v(Z),fe=l.value,ue=Z.state,de=Z.force,ee=Z.replace===!0,D=S(J);if(D)return _(br(y(D),{state:typeof D=="object"?br({},ue,D.state):ue,force:de,replace:ee}),te||J);const oe=J;oe.redirectedFrom=te;let W;return!de&&t7e(r,fe,J)&&(W=vv(16,{to:oe,from:fe}),B(fe,fe,!0,!1)),(W?Promise.resolve(W):E(oe,fe)).catch(V=>Vf(V)?Vf(V,2)?V:R(V):L(V,oe,fe)).then(V=>{if(V){if(Vf(V,2))return _(br({replace:ee},y(V.to),{state:typeof V.to=="object"?br({},ue,V.to.state):ue,force:de}),te||oe)}else V=A(oe,fe,!0,ee,ue);return M(oe,fe,V),V})}function k(Z,te){const J=b(Z,te);return J?Promise.reject(J):Promise.resolve()}function C(Z){const te=$.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(Z):Z()}function E(Z,te){let J;const[fe,ue,de]=B7e(Z,te);J=XE(fe.reverse(),"beforeRouteLeave",Z,te);for(const D of fe)D.leaveGuards.forEach(oe=>{J.push(Vh(oe,Z,te))});const ee=k.bind(null,Z,te);return J.push(ee),K(J).then(()=>{J=[];for(const D of o.list())J.push(Vh(D,Z,te));return J.push(ee),K(J)}).then(()=>{J=XE(ue,"beforeRouteUpdate",Z,te);for(const D of ue)D.updateGuards.forEach(oe=>{J.push(Vh(oe,Z,te))});return J.push(ee),K(J)}).then(()=>{J=[];for(const D of de)if(D.beforeEnter)if(ec(D.beforeEnter))for(const oe of D.beforeEnter)J.push(Vh(oe,Z,te));else J.push(Vh(D.beforeEnter,Z,te));return J.push(ee),K(J)}).then(()=>(Z.matched.forEach(D=>D.enterCallbacks={}),J=XE(de,"beforeRouteEnter",Z,te,C),J.push(ee),K(J))).then(()=>{J=[];for(const D of a.list())J.push(Vh(D,Z,te));return J.push(ee),K(J)}).catch(D=>Vf(D,8)?D:Promise.reject(D))}function M(Z,te,J){s.list().forEach(fe=>C(()=>fe(Z,te,J)))}function A(Z,te,J,fe,ue){const de=b(Z,te);if(de)return de;const ee=te===wh,D=dg?history.state:{};J&&(fe||ee?i.replace(Z.fullPath,br({scroll:ee&&D&&D.scroll},ue)):i.push(Z.fullPath,ue)),l.value=Z,B(Z,te,J,ee),R()}let N;function T(){N||(N=i.listen((Z,te,J)=>{if(!X.listening)return;const fe=v(Z),ue=S(fe);if(ue){_(br(ue,{replace:!0,force:!0}),fe).catch(D2);return}u=fe;const de=l.value;dg&&u7e(Eq(de.fullPath,J.delta),Y8()),E(fe,de).catch(ee=>Vf(ee,12)?ee:Vf(ee,2)?(_(br(y(ee.to),{force:!0}),fe).then(D=>{Vf(D,20)&&!J.delta&&J.type===A3.pop&&i.go(-1,!1)}).catch(D2),Promise.reject()):(J.delta&&i.go(-J.delta,!1),L(ee,fe,de))).then(ee=>{ee=ee||A(fe,de,!1),ee&&(J.delta&&!Vf(ee,8)?i.go(-J.delta,!1):J.type===A3.pop&&Vf(ee,20)&&i.go(-1,!1)),M(fe,de,ee)}).catch(D2)}))}let I=tb(),O=tb(),q;function L(Z,te,J){R(Z);const fe=O.list();return fe.length?fe.forEach(ue=>ue(Z,te,J)):console.error(Z),Promise.reject(Z)}function Y(){return q&&l.value!==wh?Promise.resolve():new Promise((Z,te)=>{I.add([Z,te])})}function R(Z){return q||(q=!Z,T(),I.list().forEach(([te,J])=>Z?J(Z):te()),I.reset()),Z}function B(Z,te,J,fe){const{scrollBehavior:ue}=t;if(!dg||!ue)return Promise.resolve();const de=!J&&c7e(Eq(Z.fullPath,0))||(fe||!J)&&history.state&&history.state.scroll||null;return Tn().then(()=>ue(Z,te,de)).then(ee=>ee&&l7e(ee)).catch(ee=>L(ee,Z,te))}const z=Z=>i.go(Z);let P;const $=new Set,X={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:g,getRoutes:m,resolve:v,options:t,push:w,replace:x,go:z,back:()=>z(-1),forward:()=>z(1),beforeEach:o.add,beforeResolve:a.add,afterEach:s.add,onError:O.add,isReady:Y,install(Z){const te=this;Z.component("RouterLink",P7e),Z.component("RouterView",zoe),Z.config.globalProperties.$router=te,Object.defineProperty(Z.config.globalProperties,"$route",{enumerable:!0,get:()=>le(l)}),dg&&!P&&l.value===wh&&(P=!0,w(i.location).catch(ue=>{}));const J={};for(const ue in wh)Object.defineProperty(J,ue,{get:()=>l.value[ue],enumerable:!0});Z.provide(Z8,te),Z.provide(XI,R8(J)),Z.provide(NM,l);const fe=Z.unmount;$.add(Z),Z.unmount=function(){$.delete(Z),$.size<1&&(u=wh,N&&N(),N=null,l.value=wh,P=!1,q=!1),fe()}}};function K(Z){return Z.reduce((te,J)=>te.then(()=>C(J)),Promise.resolve())}return X}function B7e(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let a=0;a<o;a++){const s=e.matched[a];s&&(t.matched.find(u=>gv(u,s))?r.push(s):n.push(s));const l=t.matched[a];l&&(e.matched.find(u=>gv(u,l))||i.push(l))}return[n,r,i]}function go(){return rr(Z8)}function ep(t){return rr(XI)}/*!
  * shared v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const F_=typeof window<"u",tp=(t,e=!1)=>e?Symbol.for(t):Symbol(t),z7e=(t,e,n)=>q7e({l:t,k:e,s:n}),q7e=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),eo=t=>typeof t=="number"&&isFinite(t),V7e=t=>YI(t)==="[object Date]",yv=t=>YI(t)==="[object RegExp]",J8=t=>Vn(t)&&Object.keys(t).length===0,po=Object.assign,H7e=Object.create,Pr=(t=null)=>H7e(t);let qq;const im=()=>qq||(qq=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Pr());function Vq(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const U7e=Object.prototype.hasOwnProperty;function Gu(t,e){return U7e.call(t,e)}const Pi=Array.isArray,oi=t=>typeof t=="function",Nt=t=>typeof t=="string",ar=t=>typeof t=="boolean",pr=t=>t!==null&&typeof t=="object",j7e=t=>pr(t)&&oi(t.then)&&oi(t.catch),qoe=Object.prototype.toString,YI=t=>qoe.call(t),Vn=t=>YI(t)==="[object Object]",W7e=t=>t==null?"":Pi(t)||Vn(t)&&t.toString===qoe?JSON.stringify(t,null,2):String(t);function ZI(t,e=""){return t.reduce((n,r,i)=>i===0?n+r:n+e+r,"")}function G7e(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const ux=t=>!pr(t)||Pi(t);function z6(t,e){if(ux(t)||ux(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:i}=n.pop();Object.keys(r).forEach(o=>{o!=="__proto__"&&(pr(r[o])&&!pr(i[o])&&(i[o]=Array.isArray(r[o])?[]:Pr()),ux(i[o])||ux(r[o])?i[o]=r[o]:n.push({src:r[o],des:i[o]}))})}}/*!
  * message-compiler v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function K7e(t,e,n){return{line:t,column:e,offset:n}}function OM(t,e,n){return{start:t,end:e}}const kr={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},X7e=17;function Q8(t,e,n={}){const{domain:r,messages:i,args:o}=n,a=t,s=new SyntaxError(String(a));return s.code=t,e&&(s.location=e),s.domain=r,s}function Y7e(t){throw t}const Hf=" ",Z7e="\r",qa=`
`,J7e="\u2028",Q7e="\u2029";function eEe(t){const e=t;let n=0,r=1,i=1,o=0;const a=_=>e[_]===Z7e&&e[_+1]===qa,s=_=>e[_]===qa,l=_=>e[_]===Q7e,u=_=>e[_]===J7e,c=_=>a(_)||s(_)||l(_)||u(_),f=()=>n,d=()=>r,h=()=>i,p=()=>o,m=_=>a(_)||l(_)||u(_)?qa:e[_],g=()=>m(n),v=()=>m(n+o);function y(){return o=0,c(n)&&(r++,i=0),a(n)&&n++,n++,i++,e[n]}function b(){return a(n+o)&&o++,o++,e[n+o]}function w(){n=0,r=1,i=1,o=0}function x(_=0){o=_}function S(){const _=n+o;for(;_!==n;)y();o=0}return{index:f,line:d,column:h,peekOffset:p,charAt:m,currentChar:g,currentPeek:v,next:y,peek:b,reset:w,resetPeek:x,skipToPeek:S}}const xh=void 0,tEe=".",Hq="'",nEe="tokenizer";function rEe(t,e={}){const n=e.location!==!1,r=eEe(t),i=()=>r.index(),o=()=>K7e(r.line(),r.column(),r.index()),a=o(),s=i(),l={currentType:13,offset:s,startLoc:a,endLoc:a,lastType:13,lastOffset:s,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=e;function f(F,j,se,...pe){const ae=u();if(j.column+=se,j.offset+=se,c){const H=n?OM(ae.startLoc,j):null,Q=Q8(F,H,{domain:nEe,args:pe});c(Q)}}function d(F,j,se){F.endLoc=o(),F.currentType=j;const pe={type:j};return n&&(pe.loc=OM(F.startLoc,F.endLoc)),se!=null&&(pe.value=se),pe}const h=F=>d(F,13);function p(F,j){return F.currentChar()===j?(F.next(),j):(f(kr.EXPECTED_TOKEN,o(),0,j),"")}function m(F){let j="";for(;F.currentPeek()===Hf||F.currentPeek()===qa;)j+=F.currentPeek(),F.peek();return j}function g(F){const j=m(F);return F.skipToPeek(),j}function v(F){if(F===xh)return!1;const j=F.charCodeAt(0);return j>=97&&j<=122||j>=65&&j<=90||j===95}function y(F){if(F===xh)return!1;const j=F.charCodeAt(0);return j>=48&&j<=57}function b(F,j){const{currentType:se}=j;if(se!==2)return!1;m(F);const pe=v(F.currentPeek());return F.resetPeek(),pe}function w(F,j){const{currentType:se}=j;if(se!==2)return!1;m(F);const pe=F.currentPeek()==="-"?F.peek():F.currentPeek(),ae=y(pe);return F.resetPeek(),ae}function x(F,j){const{currentType:se}=j;if(se!==2)return!1;m(F);const pe=F.currentPeek()===Hq;return F.resetPeek(),pe}function S(F,j){const{currentType:se}=j;if(se!==7)return!1;m(F);const pe=F.currentPeek()===".";return F.resetPeek(),pe}function _(F,j){const{currentType:se}=j;if(se!==8)return!1;m(F);const pe=v(F.currentPeek());return F.resetPeek(),pe}function k(F,j){const{currentType:se}=j;if(!(se===7||se===11))return!1;m(F);const pe=F.currentPeek()===":";return F.resetPeek(),pe}function C(F,j){const{currentType:se}=j;if(se!==9)return!1;const pe=()=>{const H=F.currentPeek();return H==="{"?v(F.peek()):H==="@"||H==="|"||H===":"||H==="."||H===Hf||!H?!1:H===qa?(F.peek(),pe()):M(F,!1)},ae=pe();return F.resetPeek(),ae}function E(F){m(F);const j=F.currentPeek()==="|";return F.resetPeek(),j}function M(F,j=!0){const se=(ae=!1,H="")=>{const Q=F.currentPeek();return Q==="{"||Q==="@"||!Q?ae:Q==="|"?!(H===Hf||H===qa):Q===Hf?(F.peek(),se(!0,Hf)):Q===qa?(F.peek(),se(!0,qa)):!0},pe=se();return j&&F.resetPeek(),pe}function A(F,j){const se=F.currentChar();return se===xh?xh:j(se)?(F.next(),se):null}function N(F){const j=F.charCodeAt(0);return j>=97&&j<=122||j>=65&&j<=90||j>=48&&j<=57||j===95||j===36}function T(F){return A(F,N)}function I(F){const j=F.charCodeAt(0);return j>=97&&j<=122||j>=65&&j<=90||j>=48&&j<=57||j===95||j===36||j===45}function O(F){return A(F,I)}function q(F){const j=F.charCodeAt(0);return j>=48&&j<=57}function L(F){return A(F,q)}function Y(F){const j=F.charCodeAt(0);return j>=48&&j<=57||j>=65&&j<=70||j>=97&&j<=102}function R(F){return A(F,Y)}function B(F){let j="",se="";for(;j=L(F);)se+=j;return se}function z(F){let j="";for(;;){const se=F.currentChar();if(se==="{"||se==="}"||se==="@"||se==="|"||!se)break;if(se===Hf||se===qa)if(M(F))j+=se,F.next();else{if(E(F))break;j+=se,F.next()}else j+=se,F.next()}return j}function P(F){g(F);let j="",se="";for(;j=O(F);)se+=j;return F.currentChar()===xh&&f(kr.UNTERMINATED_CLOSING_BRACE,o(),0),se}function $(F){g(F);let j="";return F.currentChar()==="-"?(F.next(),j+=`-${B(F)}`):j+=B(F),F.currentChar()===xh&&f(kr.UNTERMINATED_CLOSING_BRACE,o(),0),j}function X(F){return F!==Hq&&F!==qa}function K(F){g(F),p(F,"'");let j="",se="";for(;j=A(F,X);)j==="\\"?se+=Z(F):se+=j;const pe=F.currentChar();return pe===qa||pe===xh?(f(kr.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),pe===qa&&(F.next(),p(F,"'")),se):(p(F,"'"),se)}function Z(F){const j=F.currentChar();switch(j){case"\\":case"'":return F.next(),`\\${j}`;case"u":return te(F,j,4);case"U":return te(F,j,6);default:return f(kr.UNKNOWN_ESCAPE_SEQUENCE,o(),0,j),""}}function te(F,j,se){p(F,j);let pe="";for(let ae=0;ae<se;ae++){const H=R(F);if(!H){f(kr.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${j}${pe}${F.currentChar()}`);break}pe+=H}return`\\${j}${pe}`}function J(F){return F!=="{"&&F!=="}"&&F!==Hf&&F!==qa}function fe(F){g(F);let j="",se="";for(;j=A(F,J);)se+=j;return se}function ue(F){let j="",se="";for(;j=T(F);)se+=j;return se}function de(F){const j=se=>{const pe=F.currentChar();return pe==="{"||pe==="@"||pe==="|"||pe==="("||pe===")"||!pe||pe===Hf?se:(se+=pe,F.next(),j(se))};return j("")}function ee(F){g(F);const j=p(F,"|");return g(F),j}function D(F,j){let se=null;switch(F.currentChar()){case"{":return j.braceNest>=1&&f(kr.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),F.next(),se=d(j,2,"{"),g(F),j.braceNest++,se;case"}":return j.braceNest>0&&j.currentType===2&&f(kr.EMPTY_PLACEHOLDER,o(),0),F.next(),se=d(j,3,"}"),j.braceNest--,j.braceNest>0&&g(F),j.inLinked&&j.braceNest===0&&(j.inLinked=!1),se;case"@":return j.braceNest>0&&f(kr.UNTERMINATED_CLOSING_BRACE,o(),0),se=oe(F,j)||h(j),j.braceNest=0,se;default:{let ae=!0,H=!0,Q=!0;if(E(F))return j.braceNest>0&&f(kr.UNTERMINATED_CLOSING_BRACE,o(),0),se=d(j,1,ee(F)),j.braceNest=0,j.inLinked=!1,se;if(j.braceNest>0&&(j.currentType===4||j.currentType===5||j.currentType===6))return f(kr.UNTERMINATED_CLOSING_BRACE,o(),0),j.braceNest=0,W(F,j);if(ae=b(F,j))return se=d(j,4,P(F)),g(F),se;if(H=w(F,j))return se=d(j,5,$(F)),g(F),se;if(Q=x(F,j))return se=d(j,6,K(F)),g(F),se;if(!ae&&!H&&!Q)return se=d(j,12,fe(F)),f(kr.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,se.value),g(F),se;break}}return se}function oe(F,j){const{currentType:se}=j;let pe=null;const ae=F.currentChar();switch((se===7||se===8||se===11||se===9)&&(ae===qa||ae===Hf)&&f(kr.INVALID_LINKED_FORMAT,o(),0),ae){case"@":return F.next(),pe=d(j,7,"@"),j.inLinked=!0,pe;case".":return g(F),F.next(),d(j,8,".");case":":return g(F),F.next(),d(j,9,":");default:return E(F)?(pe=d(j,1,ee(F)),j.braceNest=0,j.inLinked=!1,pe):S(F,j)||k(F,j)?(g(F),oe(F,j)):_(F,j)?(g(F),d(j,11,ue(F))):C(F,j)?(g(F),ae==="{"?D(F,j)||pe:d(j,10,de(F))):(se===7&&f(kr.INVALID_LINKED_FORMAT,o(),0),j.braceNest=0,j.inLinked=!1,W(F,j))}}function W(F,j){let se={type:13};if(j.braceNest>0)return D(F,j)||h(j);if(j.inLinked)return oe(F,j)||h(j);switch(F.currentChar()){case"{":return D(F,j)||h(j);case"}":return f(kr.UNBALANCED_CLOSING_BRACE,o(),0),F.next(),d(j,3,"}");case"@":return oe(F,j)||h(j);default:{if(E(F))return se=d(j,1,ee(F)),j.braceNest=0,j.inLinked=!1,se;if(M(F))return d(j,0,z(F));break}}return se}function V(){const{currentType:F,offset:j,startLoc:se,endLoc:pe}=l;return l.lastType=F,l.lastOffset=j,l.lastStartLoc=se,l.lastEndLoc=pe,l.offset=i(),l.startLoc=o(),r.currentChar()===xh?d(l,13):W(r,l)}return{nextToken:V,currentOffset:i,currentPosition:o,context:u}}const iEe="parser",oEe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function aEe(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function sEe(t={}){const e=t.location!==!1,{onError:n}=t;function r(v,y,b,w,...x){const S=v.currentPosition();if(S.offset+=w,S.column+=w,n){const _=e?OM(b,S):null,k=Q8(y,_,{domain:iEe,args:x});n(k)}}function i(v,y,b){const w={type:v};return e&&(w.start=y,w.end=y,w.loc={start:b,end:b}),w}function o(v,y,b,w){e&&(v.end=y,v.loc&&(v.loc.end=b))}function a(v,y){const b=v.context(),w=i(3,b.offset,b.startLoc);return w.value=y,o(w,v.currentOffset(),v.currentPosition()),w}function s(v,y){const b=v.context(),{lastOffset:w,lastStartLoc:x}=b,S=i(5,w,x);return S.index=parseInt(y,10),v.nextToken(),o(S,v.currentOffset(),v.currentPosition()),S}function l(v,y){const b=v.context(),{lastOffset:w,lastStartLoc:x}=b,S=i(4,w,x);return S.key=y,v.nextToken(),o(S,v.currentOffset(),v.currentPosition()),S}function u(v,y){const b=v.context(),{lastOffset:w,lastStartLoc:x}=b,S=i(9,w,x);return S.value=y.replace(oEe,aEe),v.nextToken(),o(S,v.currentOffset(),v.currentPosition()),S}function c(v){const y=v.nextToken(),b=v.context(),{lastOffset:w,lastStartLoc:x}=b,S=i(8,w,x);return y.type!==11?(r(v,kr.UNEXPECTED_EMPTY_LINKED_MODIFIER,b.lastStartLoc,0),S.value="",o(S,w,x),{nextConsumeToken:y,node:S}):(y.value==null&&r(v,kr.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Sc(y)),S.value=y.value||"",o(S,v.currentOffset(),v.currentPosition()),{node:S})}function f(v,y){const b=v.context(),w=i(7,b.offset,b.startLoc);return w.value=y,o(w,v.currentOffset(),v.currentPosition()),w}function d(v){const y=v.context(),b=i(6,y.offset,y.startLoc);let w=v.nextToken();if(w.type===8){const x=c(v);b.modifier=x.node,w=x.nextConsumeToken||v.nextToken()}switch(w.type!==9&&r(v,kr.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Sc(w)),w=v.nextToken(),w.type===2&&(w=v.nextToken()),w.type){case 10:w.value==null&&r(v,kr.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Sc(w)),b.key=f(v,w.value||"");break;case 4:w.value==null&&r(v,kr.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Sc(w)),b.key=l(v,w.value||"");break;case 5:w.value==null&&r(v,kr.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Sc(w)),b.key=s(v,w.value||"");break;case 6:w.value==null&&r(v,kr.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Sc(w)),b.key=u(v,w.value||"");break;default:{r(v,kr.UNEXPECTED_EMPTY_LINKED_KEY,y.lastStartLoc,0);const x=v.context(),S=i(7,x.offset,x.startLoc);return S.value="",o(S,x.offset,x.startLoc),b.key=S,o(b,x.offset,x.startLoc),{nextConsumeToken:w,node:b}}}return o(b,v.currentOffset(),v.currentPosition()),{node:b}}function h(v){const y=v.context(),b=y.currentType===1?v.currentOffset():y.offset,w=y.currentType===1?y.endLoc:y.startLoc,x=i(2,b,w);x.items=[];let S=null;do{const C=S||v.nextToken();switch(S=null,C.type){case 0:C.value==null&&r(v,kr.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Sc(C)),x.items.push(a(v,C.value||""));break;case 5:C.value==null&&r(v,kr.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Sc(C)),x.items.push(s(v,C.value||""));break;case 4:C.value==null&&r(v,kr.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Sc(C)),x.items.push(l(v,C.value||""));break;case 6:C.value==null&&r(v,kr.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Sc(C)),x.items.push(u(v,C.value||""));break;case 7:{const E=d(v);x.items.push(E.node),S=E.nextConsumeToken||null;break}}}while(y.currentType!==13&&y.currentType!==1);const _=y.currentType===1?y.lastOffset:v.currentOffset(),k=y.currentType===1?y.lastEndLoc:v.currentPosition();return o(x,_,k),x}function p(v,y,b,w){const x=v.context();let S=w.items.length===0;const _=i(1,y,b);_.cases=[],_.cases.push(w);do{const k=h(v);S||(S=k.items.length===0),_.cases.push(k)}while(x.currentType!==13);return S&&r(v,kr.MUST_HAVE_MESSAGES_IN_PLURAL,b,0),o(_,v.currentOffset(),v.currentPosition()),_}function m(v){const y=v.context(),{offset:b,startLoc:w}=y,x=h(v);return y.currentType===13?x:p(v,b,w,x)}function g(v){const y=rEe(v,po({},t)),b=y.context(),w=i(0,b.offset,b.startLoc);return e&&w.loc&&(w.loc.source=v),w.body=m(y),t.onCacheKey&&(w.cacheKey=t.onCacheKey(v)),b.currentType!==13&&r(y,kr.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,v[b.offset]||""),o(w,y.currentOffset(),y.currentPosition()),w}return{parse:g}}function Sc(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function lEe(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:o=>(n.helpers.add(o),o)}}function Uq(t,e){for(let n=0;n<t.length;n++)JI(t[n],e)}function JI(t,e){switch(t.type){case 1:Uq(t.cases,e),e.helper("plural");break;case 2:Uq(t.items,e);break;case 6:{JI(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function uEe(t,e={}){const n=lEe(t);n.helper("normalize"),t.body&&JI(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function cEe(t){const e=t.body;return e.type===2?jq(e):e.cases.forEach(n=>jq(n)),t}function jq(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=ZI(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}function hg(t){switch(t.t=t.type,t.type){case 0:{const e=t;hg(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)hg(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)hg(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;hg(e.key),e.k=e.key,delete e.key,e.modifier&&(hg(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function fEe(t,e){const{filename:n,breakLineCode:r,needIndent:i}=e,o=e.location!==!1,a={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:i,indentLevel:0};o&&t.loc&&(a.source=t.loc.source);const s=()=>a;function l(m,g){a.code+=m}function u(m,g=!0){const v=g?r:"";l(i?v+"  ".repeat(m):v)}function c(m=!0){const g=++a.indentLevel;m&&u(g)}function f(m=!0){const g=--a.indentLevel;m&&u(g)}function d(){u(a.indentLevel)}return{context:s,push:l,indent:c,deindent:f,newline:d,helper:m=>`_${m}`,needIndent:()=>a.needIndent}}function dEe(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),bv(t,e.key),e.modifier?(t.push(", "),bv(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function hEe(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const i=e.items.length;for(let o=0;o<i&&(bv(t,e.items[o]),o!==i-1);o++)t.push(", ");t.deindent(r()),t.push("])")}function pEe(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const i=e.cases.length;for(let o=0;o<i&&(bv(t,e.cases[o]),o!==i-1);o++)t.push(", ");t.deindent(r()),t.push("])")}}function mEe(t,e){e.body?bv(t,e.body):t.push("null")}function bv(t,e){const{helper:n}=t;switch(e.type){case 0:mEe(t,e);break;case 1:pEe(t,e);break;case 2:hEe(t,e);break;case 6:dEe(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const gEe=(t,e={})=>{const n=Nt(e.mode)?e.mode:"normal",r=Nt(e.filename)?e.filename:"message.intl";e.sourceMap;const i=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,o=e.needIndent?e.needIndent:n!=="arrow",a=t.helpers||[],s=fEe(t,{filename:r,breakLineCode:i,needIndent:o});s.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),s.indent(o),a.length>0&&(s.push(`const { ${ZI(a.map(c=>`${c}: _${c}`),", ")} } = ctx`),s.newline()),s.push("return "),bv(s,t),s.deindent(o),s.push("}"),delete t.helpers;const{code:l,map:u}=s.context();return{ast:t,code:l,map:u?u.toJSON():void 0}};function vEe(t,e={}){const n=po({},e),r=!!n.jit,i=!!n.minify,o=n.optimize==null?!0:n.optimize,s=sEe(n).parse(t);return r?(o&&cEe(s),i&&hg(s),{ast:s,code:""}):(uEe(s,n),gEe(s,n))}/*!
  * core-base v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function yEe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(im().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(im().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Zc(t){return pr(t)&&QI(t)===0&&(Gu(t,"b")||Gu(t,"body"))}const Voe=["b","body"];function bEe(t){return np(t,Voe)}const Hoe=["c","cases"];function wEe(t){return np(t,Hoe,[])}const Uoe=["s","static"];function xEe(t){return np(t,Uoe)}const joe=["i","items"];function SEe(t){return np(t,joe,[])}const Woe=["t","type"];function QI(t){return np(t,Woe)}const Goe=["v","value"];function cx(t,e){const n=np(t,Goe);if(n!=null)return n;throw T3(e)}const Koe=["m","modifier"];function _Ee(t){return np(t,Koe)}const Xoe=["k","key"];function CEe(t){const e=np(t,Xoe);if(e)return e;throw T3(6)}function np(t,e,n){for(let r=0;r<e.length;r++){const i=e[r];if(Gu(t,i)&&t[i]!=null)return t[i]}return n}const Yoe=[...Voe,...Hoe,...Uoe,...joe,...Xoe,...Koe,...Goe,...Woe];function T3(t){return new Error(`unhandled node type: ${t}`)}function YE(t){return n=>kEe(n,t)}function kEe(t,e){const n=bEe(e);if(n==null)throw T3(0);if(QI(n)===1){const o=wEe(n);return t.plural(o.reduce((a,s)=>[...a,Wq(t,s)],[]))}else return Wq(t,n)}function Wq(t,e){const n=xEe(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=SEe(e).reduce((i,o)=>[...i,IM(t,o)],[]);return t.normalize(r)}}function IM(t,e){const n=QI(e);switch(n){case 3:return cx(e,n);case 9:return cx(e,n);case 4:{const r=e;if(Gu(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(Gu(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw T3(n)}case 5:{const r=e;if(Gu(r,"i")&&eo(r.i))return t.interpolate(t.list(r.i));if(Gu(r,"index")&&eo(r.index))return t.interpolate(t.list(r.index));throw T3(n)}case 6:{const r=e,i=_Ee(r),o=CEe(r);return t.linked(IM(t,o),i?IM(t,i):void 0,t.type)}case 7:return cx(e,n);case 8:return cx(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const EEe=t=>t;let fx=Pr();function AEe(t,e={}){let n=!1;const r=e.onError||Y7e;return e.onError=i=>{n=!0,r(i)},{...vEe(t,e),detectError:n}}function TEe(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&Nt(t)){ar(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||EEe)(t),i=fx[r];if(i)return i;const{ast:o,detectError:a}=AEe(t,{...e,location:!1,jit:!0}),s=YE(o);return a?s:fx[r]=s}else{const n=t.cacheKey;if(n){const r=fx[n];return r||(fx[n]=YE(t))}else return YE(t)}}let M3=null;function MEe(t){M3=t}function DEe(t,e,n){M3&&M3.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const NEe=OEe("function:translate");function OEe(t){return e=>M3&&M3.emit(t,e)}const yd={INVALID_ARGUMENT:X7e,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},IEe=24;function bd(t){return Q8(t,null,void 0)}function eP(t,e){return e.locale!=null?Gq(e.locale):Gq(t.locale)}let ZE;function Gq(t){if(Nt(t))return t;if(oi(t)){if(t.resolvedOnce&&ZE!=null)return ZE;if(t.constructor.name==="Function"){const e=t();if(j7e(e))throw bd(yd.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return ZE=e}else throw bd(yd.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw bd(yd.NOT_SUPPORT_LOCALE_TYPE)}function PEe(t,e,n){return[...new Set([n,...Pi(e)?e:pr(e)?Object.keys(e):Nt(e)?[e]:[n]])]}function Zoe(t,e,n){const r=Nt(n)?n:D3,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let o=i.__localeChainCache.get(r);if(!o){o=[];let a=[n];for(;Pi(a);)a=Kq(o,a,e);const s=Pi(e)||!Vn(e)?e:e.default?e.default:null;a=Nt(s)?[s]:s,Pi(a)&&Kq(o,a,!1),i.__localeChainCache.set(r,o)}return o}function Kq(t,e,n){let r=!0;for(let i=0;i<e.length&&ar(r);i++){const o=e[i];Nt(o)&&(r=REe(t,e[i],n))}return r}function REe(t,e,n){let r;const i=e.split("-");do{const o=i.join("-");r=FEe(t,o,n),i.splice(-1,1)}while(i.length&&r===!0);return r}function FEe(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(Pi(n)||Vn(n))&&n[i]&&(r=n[i])}return r}const rp=[];rp[0]={w:[0],i:[3,0],"[":[4],o:[7]};rp[1]={w:[1],".":[2],"[":[4],o:[7]};rp[2]={w:[2],i:[3,0],0:[3,0]};rp[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};rp[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};rp[5]={"'":[4,0],o:8,l:[5,0]};rp[6]={'"':[4,0],o:8,l:[6,0]};const LEe=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function $Ee(t){return LEe.test(t)}function BEe(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function zEe(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function qEe(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:$Ee(e)?BEe(e):"*"+e}function VEe(t){const e=[];let n=-1,r=0,i=0,o,a,s,l,u,c,f;const d=[];d[0]=()=>{a===void 0?a=s:a+=s},d[1]=()=>{a!==void 0&&(e.push(a),a=void 0)},d[2]=()=>{d[0](),i++},d[3]=()=>{if(i>0)i--,r=4,d[0]();else{if(i=0,a===void 0||(a=qEe(a),a===!1))return!1;d[1]()}};function h(){const p=t[n+1];if(r===5&&p==="'"||r===6&&p==='"')return n++,s="\\"+p,d[0](),!0}for(;r!==null;)if(n++,o=t[n],!(o==="\\"&&h())){if(l=zEe(o),f=rp[r],u=f[l]||f.l||8,u===8||(r=u[0],u[1]!==void 0&&(c=d[u[1]],c&&(s=o,c()===!1))))return;if(r===7)return e}}const Xq=new Map;function HEe(t,e){return pr(t)?t[e]:null}function UEe(t,e){if(!pr(t))return null;let n=Xq.get(e);if(n||(n=VEe(e),n&&Xq.set(e,n)),!n)return null;const r=n.length;let i=t,o=0;for(;o<r;){const a=n[o];if(Yoe.includes(a)&&Zc(i))return null;const s=i[a];if(s===void 0||oi(i))return null;i=s,o++}return i}const jEe="11.1.9",ek=-1,D3="en-US",Yq="",Zq=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function WEe(){return{upper:(t,e)=>e==="text"&&Nt(t)?t.toUpperCase():e==="vnode"&&pr(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Nt(t)?t.toLowerCase():e==="vnode"&&pr(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Nt(t)?Zq(t):e==="vnode"&&pr(t)&&"__v_isVNode"in t?Zq(t.children):t}}let Joe;function GEe(t){Joe=t}let Qoe;function KEe(t){Qoe=t}let eae;function XEe(t){eae=t}let tae=null;const YEe=t=>{tae=t},ZEe=()=>tae;let nae=null;const Jq=t=>{nae=t},JEe=()=>nae;let Qq=0;function QEe(t={}){const e=oi(t.onWarn)?t.onWarn:G7e,n=Nt(t.version)?t.version:jEe,r=Nt(t.locale)||oi(t.locale)?t.locale:D3,i=oi(r)?D3:r,o=Pi(t.fallbackLocale)||Vn(t.fallbackLocale)||Nt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,a=Vn(t.messages)?t.messages:JE(i),s=Vn(t.datetimeFormats)?t.datetimeFormats:JE(i),l=Vn(t.numberFormats)?t.numberFormats:JE(i),u=po(Pr(),t.modifiers,WEe()),c=t.pluralRules||Pr(),f=oi(t.missing)?t.missing:null,d=ar(t.missingWarn)||yv(t.missingWarn)?t.missingWarn:!0,h=ar(t.fallbackWarn)||yv(t.fallbackWarn)?t.fallbackWarn:!0,p=!!t.fallbackFormat,m=!!t.unresolving,g=oi(t.postTranslation)?t.postTranslation:null,v=Vn(t.processor)?t.processor:null,y=ar(t.warnHtmlMessage)?t.warnHtmlMessage:!0,b=!!t.escapeParameter,w=oi(t.messageCompiler)?t.messageCompiler:Joe,x=oi(t.messageResolver)?t.messageResolver:Qoe||HEe,S=oi(t.localeFallbacker)?t.localeFallbacker:eae||PEe,_=pr(t.fallbackContext)?t.fallbackContext:void 0,k=t,C=pr(k.__datetimeFormatters)?k.__datetimeFormatters:new Map,E=pr(k.__numberFormatters)?k.__numberFormatters:new Map,M=pr(k.__meta)?k.__meta:{};Qq++;const A={version:n,cid:Qq,locale:r,fallbackLocale:o,messages:a,modifiers:u,pluralRules:c,missing:f,missingWarn:d,fallbackWarn:h,fallbackFormat:p,unresolving:m,postTranslation:g,processor:v,warnHtmlMessage:y,escapeParameter:b,messageCompiler:w,messageResolver:x,localeFallbacker:S,fallbackContext:_,onWarn:e,__meta:M};return A.datetimeFormats=s,A.numberFormats=l,A.__datetimeFormatters=C,A.__numberFormatters=E,__INTLIFY_PROD_DEVTOOLS__&&DEe(A,n,M),A}const JE=t=>({[t]:Pr()});function tP(t,e,n,r,i){const{missing:o,onWarn:a}=t;if(o!==null){const s=o(t,n,e,i);return Nt(s)?s:e}else return e}function nb(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function eAe(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function tAe(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(eAe(t,e[r]))return!0;return!1}function eV(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:o,localeFallbacker:a}=t,{__datetimeFormatters:s}=t,[l,u,c,f]=PM(...e),d=ar(c.missingWarn)?c.missingWarn:t.missingWarn;ar(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const h=!!c.part,p=eP(t,c),m=a(t,i,p);if(!Nt(l)||l==="")return new Intl.DateTimeFormat(p,f).format(u);let g={},v,y=null;const b="datetime format";for(let S=0;S<m.length&&(v=m[S],g=n[v]||{},y=g[l],!Vn(y));S++)tP(t,l,v,d,b);if(!Vn(y)||!Nt(v))return r?ek:l;let w=`${v}__${l}`;J8(f)||(w=`${w}__${JSON.stringify(f)}`);let x=s.get(w);return x||(x=new Intl.DateTimeFormat(v,po({},y,f)),s.set(w,x)),h?x.formatToParts(u):x.format(u)}const rae=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function PM(...t){const[e,n,r,i]=t,o=Pr();let a=Pr(),s;if(Nt(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw bd(yd.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();s=new Date(u);try{s.toISOString()}catch{throw bd(yd.INVALID_ISO_DATE_ARGUMENT)}}else if(V7e(e)){if(isNaN(e.getTime()))throw bd(yd.INVALID_DATE_ARGUMENT);s=e}else if(eo(e))s=e;else throw bd(yd.INVALID_ARGUMENT);return Nt(n)?o.key=n:Vn(n)&&Object.keys(n).forEach(l=>{rae.includes(l)?a[l]=n[l]:o[l]=n[l]}),Nt(r)?o.locale=r:Vn(r)&&(a=r),Vn(i)&&(a=i),[o.key||"",s,o,a]}function tV(t,e,n){const r=t;for(const i in n){const o=`${e}__${i}`;r.__datetimeFormatters.has(o)&&r.__datetimeFormatters.delete(o)}}function nV(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:o,localeFallbacker:a}=t,{__numberFormatters:s}=t,[l,u,c,f]=RM(...e),d=ar(c.missingWarn)?c.missingWarn:t.missingWarn;ar(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const h=!!c.part,p=eP(t,c),m=a(t,i,p);if(!Nt(l)||l==="")return new Intl.NumberFormat(p,f).format(u);let g={},v,y=null;const b="number format";for(let S=0;S<m.length&&(v=m[S],g=n[v]||{},y=g[l],!Vn(y));S++)tP(t,l,v,d,b);if(!Vn(y)||!Nt(v))return r?ek:l;let w=`${v}__${l}`;J8(f)||(w=`${w}__${JSON.stringify(f)}`);let x=s.get(w);return x||(x=new Intl.NumberFormat(v,po({},y,f)),s.set(w,x)),h?x.formatToParts(u):x.format(u)}const iae=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function RM(...t){const[e,n,r,i]=t,o=Pr();let a=Pr();if(!eo(e))throw bd(yd.INVALID_ARGUMENT);const s=e;return Nt(n)?o.key=n:Vn(n)&&Object.keys(n).forEach(l=>{iae.includes(l)?a[l]=n[l]:o[l]=n[l]}),Nt(r)?o.locale=r:Vn(r)&&(a=r),Vn(i)&&(a=i),[o.key||"",s,o,a]}function rV(t,e,n){const r=t;for(const i in n){const o=`${e}__${i}`;r.__numberFormatters.has(o)&&r.__numberFormatters.delete(o)}}const nAe=t=>t,rAe=t=>"",iAe="text",oAe=t=>t.length===0?"":ZI(t),aAe=W7e;function iV(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function sAe(t){const e=eo(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(eo(t.named.count)||eo(t.named.n))?eo(t.named.count)?t.named.count:eo(t.named.n)?t.named.n:e:e}function lAe(t,e){e.count||(e.count=t),e.n||(e.n=t)}function uAe(t={}){const e=t.locale,n=sAe(t),r=pr(t.pluralRules)&&Nt(e)&&oi(t.pluralRules[e])?t.pluralRules[e]:iV,i=pr(t.pluralRules)&&Nt(e)&&oi(t.pluralRules[e])?iV:void 0,o=v=>v[r(n,v.length,i)],a=t.list||[],s=v=>a[v],l=t.named||Pr();eo(t.pluralIndex)&&lAe(n,l);const u=v=>l[v];function c(v,y){const b=oi(t.messages)?t.messages(v,!!y):pr(t.messages)?t.messages[v]:!1;return b||(t.parent?t.parent.message(v):rAe)}const f=v=>t.modifiers?t.modifiers[v]:nAe,d=Vn(t.processor)&&oi(t.processor.normalize)?t.processor.normalize:oAe,h=Vn(t.processor)&&oi(t.processor.interpolate)?t.processor.interpolate:aAe,p=Vn(t.processor)&&Nt(t.processor.type)?t.processor.type:iAe,g={list:s,named:u,plural:o,linked:(v,...y)=>{const[b,w]=y;let x="text",S="";y.length===1?pr(b)?(S=b.modifier||S,x=b.type||x):Nt(b)&&(S=b||S):y.length===2&&(Nt(b)&&(S=b||S),Nt(w)&&(x=w||x));const _=c(v,!0)(g),k=x==="vnode"&&Pi(_)&&S?_[0]:_;return S?f(S)(k,x):k},message:c,type:p,interpolate:h,normalize:d,values:po(Pr(),a,l)};return g}const oV=()=>"",Kl=t=>oi(t);function aV(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:o,fallbackLocale:a,messages:s}=t,[l,u]=FM(...e),c=ar(u.missingWarn)?u.missingWarn:t.missingWarn,f=ar(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn,d=ar(u.escapeParameter)?u.escapeParameter:t.escapeParameter,h=!!u.resolvedMessage,p=Nt(u.default)||ar(u.default)?ar(u.default)?o?l:()=>l:u.default:n?o?l:()=>l:null,m=n||p!=null&&(Nt(p)||oi(p)),g=eP(t,u);d&&cAe(u);let[v,y,b]=h?[l,g,s[g]||Pr()]:oae(t,l,g,a,f,c),w=v,x=l;if(!h&&!(Nt(w)||Zc(w)||Kl(w))&&m&&(w=p,x=w),!h&&(!(Nt(w)||Zc(w)||Kl(w))||!Nt(y)))return i?ek:l;let S=!1;const _=()=>{S=!0},k=Kl(w)?w:aae(t,l,y,w,x,_);if(S)return w;const C=hAe(t,y,b,u),E=uAe(C),M=fAe(t,k,E),A=r?r(M,l):M;if(__INTLIFY_PROD_DEVTOOLS__){const N={timestamp:Date.now(),key:Nt(l)?l:Kl(w)?w.key:"",locale:y||(Kl(w)?w.locale:""),format:Nt(w)?w:Kl(w)?w.source:"",message:A};N.meta=po({},t.__meta,ZEe()||{}),NEe(N)}return A}function cAe(t){Pi(t.list)?t.list=t.list.map(e=>Nt(e)?Vq(e):e):pr(t.named)&&Object.keys(t.named).forEach(e=>{Nt(t.named[e])&&(t.named[e]=Vq(t.named[e]))})}function oae(t,e,n,r,i,o){const{messages:a,onWarn:s,messageResolver:l,localeFallbacker:u}=t,c=u(t,r,n);let f=Pr(),d,h=null;const p="translate";for(let m=0;m<c.length&&(d=c[m],f=a[d]||Pr(),(h=l(f,e))===null&&(h=f[e]),!(Nt(h)||Zc(h)||Kl(h)));m++)if(!tAe(d,c)){const g=tP(t,e,d,o,p);g!==e&&(h=g)}return[h,d,f]}function aae(t,e,n,r,i,o){const{messageCompiler:a,warnHtmlMessage:s}=t;if(Kl(r)){const u=r;return u.locale=u.locale||n,u.key=u.key||e,u}if(a==null){const u=()=>r;return u.locale=n,u.key=e,u}const l=a(r,dAe(t,n,i,r,s,o));return l.locale=n,l.key=e,l.source=r,l}function fAe(t,e,n){return e(n)}function FM(...t){const[e,n,r]=t,i=Pr();if(!Nt(e)&&!eo(e)&&!Kl(e)&&!Zc(e))throw bd(yd.INVALID_ARGUMENT);const o=eo(e)?String(e):(Kl(e),e);return eo(n)?i.plural=n:Nt(n)?i.default=n:Vn(n)&&!J8(n)?i.named=n:Pi(n)&&(i.list=n),eo(r)?i.plural=r:Nt(r)?i.default=r:Vn(r)&&po(i,r),[o,i]}function dAe(t,e,n,r,i,o){return{locale:e,key:n,warnHtmlMessage:i,onError:a=>{throw o&&o(a),a},onCacheKey:a=>z7e(e,n,a)}}function hAe(t,e,n,r){const{modifiers:i,pluralRules:o,messageResolver:a,fallbackLocale:s,fallbackWarn:l,missingWarn:u,fallbackContext:c}=t,d={locale:e,modifiers:i,pluralRules:o,messages:(h,p)=>{let m=a(n,h);if(m==null&&(c||p)){const[,,g]=oae(c||t,h,e,s,l,u);m=a(g,h)}if(Nt(m)||Zc(m)){let g=!1;const y=aae(t,h,e,m,h,()=>{g=!0});return g?oV:y}else return Kl(m)?m:oV}};return t.processor&&(d.processor=t.processor),r.list&&(d.list=r.list),r.named&&(d.named=r.named),eo(r.plural)&&(d.pluralIndex=r.plural),d}yEe();/*!
  * vue-i18n v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const pAe="11.1.9";function mAe(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(im().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(im().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(im().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(im().__INTLIFY_PROD_DEVTOOLS__=!1)}const js={UNEXPECTED_RETURN_TYPE:IEe,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Tl(t,...e){return Q8(t,null,void 0)}const LM=tp("__translateVNode"),$M=tp("__datetimeParts"),BM=tp("__numberParts"),sae=tp("__setPluralRules"),lae=tp("__injectWithOption"),zM=tp("__dispose");function N3(t){if(!pr(t)||Zc(t))return t;for(const e in t)if(Gu(t,e))if(!e.includes("."))pr(t[e])&&N3(t[e]);else{const n=e.split("."),r=n.length-1;let i=t,o=!1;for(let a=0;a<r;a++){if(n[a]==="__proto__")throw new Error(`unsafe key: ${n[a]}`);if(n[a]in i||(i[n[a]]=Pr()),!pr(i[n[a]])){o=!0;break}i=i[n[a]]}if(o||(Zc(i)?Yoe.includes(n[r])||delete t[e]:(i[n[r]]=t[e],delete t[e])),!Zc(i)){const a=i[n[r]];pr(a)&&N3(a)}}return t}function nP(t,e){const{messages:n,__i18n:r,messageResolver:i,flatJson:o}=e,a=Vn(n)?n:Pi(r)?Pr():{[t]:Pr()};if(Pi(r)&&r.forEach(s=>{if("locale"in s&&"resource"in s){const{locale:l,resource:u}=s;l?(a[l]=a[l]||Pr(),z6(u,a[l])):z6(u,a)}else Nt(s)&&z6(JSON.parse(s),a)}),i==null&&o)for(const s in a)Gu(a,s)&&N3(a[s]);return a}function uae(t){return t.type}function cae(t,e,n){let r=pr(e.messages)?e.messages:Pr();"__i18nGlobal"in n&&(r=nP(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);i.length&&i.forEach(o=>{t.mergeLocaleMessage(o,r[o])});{if(pr(e.datetimeFormats)){const o=Object.keys(e.datetimeFormats);o.length&&o.forEach(a=>{t.mergeDateTimeFormat(a,e.datetimeFormats[a])})}if(pr(e.numberFormats)){const o=Object.keys(e.numberFormats);o.length&&o.forEach(a=>{t.mergeNumberFormat(a,e.numberFormats[a])})}}}function sV(t){return xe(Ed,null,t,0)}const lV="__INTLIFY_META__",uV=()=>[],gAe=()=>!1;let cV=0;function fV(t){return(e,n,r,i)=>t(n,r,Lt()||void 0,i)}const vAe=()=>{const t=Lt();let e=null;return t&&(e=uae(t)[lV])?{[lV]:e}:null};function rP(t={}){const{__root:e,__injectWithOption:n}=t,r=e===void 0,i=t.flatJson,o=F_?we:fr;let a=ar(t.inheritLocale)?t.inheritLocale:!0;const s=o(e&&a?e.locale.value:Nt(t.locale)?t.locale:D3),l=o(e&&a?e.fallbackLocale.value:Nt(t.fallbackLocale)||Pi(t.fallbackLocale)||Vn(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s.value),u=o(nP(s.value,t)),c=o(Vn(t.datetimeFormats)?t.datetimeFormats:{[s.value]:{}}),f=o(Vn(t.numberFormats)?t.numberFormats:{[s.value]:{}});let d=e?e.missingWarn:ar(t.missingWarn)||yv(t.missingWarn)?t.missingWarn:!0,h=e?e.fallbackWarn:ar(t.fallbackWarn)||yv(t.fallbackWarn)?t.fallbackWarn:!0,p=e?e.fallbackRoot:ar(t.fallbackRoot)?t.fallbackRoot:!0,m=!!t.fallbackFormat,g=oi(t.missing)?t.missing:null,v=oi(t.missing)?fV(t.missing):null,y=oi(t.postTranslation)?t.postTranslation:null,b=e?e.warnHtmlMessage:ar(t.warnHtmlMessage)?t.warnHtmlMessage:!0,w=!!t.escapeParameter;const x=e?e.modifiers:Vn(t.modifiers)?t.modifiers:{};let S=t.pluralRules||e&&e.pluralRules,_;_=(()=>{r&&Jq(null);const Q={version:pAe,locale:s.value,fallbackLocale:l.value,messages:u.value,modifiers:x,pluralRules:S,missing:v===null?void 0:v,missingWarn:d,fallbackWarn:h,fallbackFormat:m,unresolving:!0,postTranslation:y===null?void 0:y,warnHtmlMessage:b,escapeParameter:w,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};Q.datetimeFormats=c.value,Q.numberFormats=f.value,Q.__datetimeFormatters=Vn(_)?_.__datetimeFormatters:void 0,Q.__numberFormatters=Vn(_)?_.__numberFormatters:void 0;const ie=QEe(Q);return r&&Jq(ie),ie})(),nb(_,s.value,l.value);function C(){return[s.value,l.value,u.value,c.value,f.value]}const E=re({get:()=>s.value,set:Q=>{_.locale=Q,s.value=Q}}),M=re({get:()=>l.value,set:Q=>{_.fallbackLocale=Q,l.value=Q,nb(_,s.value,Q)}}),A=re(()=>u.value),N=re(()=>c.value),T=re(()=>f.value);function I(){return oi(y)?y:null}function O(Q){y=Q,_.postTranslation=Q}function q(){return g}function L(Q){Q!==null&&(v=fV(Q)),g=Q,_.missing=v}const Y=(Q,ie,ce,ve,Te,be)=>{C();let _e;try{__INTLIFY_PROD_DEVTOOLS__,r||(_.fallbackContext=e?JEe():void 0),_e=Q(_)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(_.fallbackContext=void 0)}if(ce!=="translate exists"&&eo(_e)&&_e===ek||ce==="translate exists"&&!_e){const[ge,Ae]=ie();return e&&p?ve(e):Te(ge)}else{if(be(_e))return _e;throw Tl(js.UNEXPECTED_RETURN_TYPE)}};function R(...Q){return Y(ie=>Reflect.apply(aV,null,[ie,...Q]),()=>FM(...Q),"translate",ie=>Reflect.apply(ie.t,ie,[...Q]),ie=>ie,ie=>Nt(ie))}function B(...Q){const[ie,ce,ve]=Q;if(ve&&!pr(ve))throw Tl(js.INVALID_ARGUMENT);return R(ie,ce,po({resolvedMessage:!0},ve||{}))}function z(...Q){return Y(ie=>Reflect.apply(eV,null,[ie,...Q]),()=>PM(...Q),"datetime format",ie=>Reflect.apply(ie.d,ie,[...Q]),()=>Yq,ie=>Nt(ie)||Pi(ie))}function P(...Q){return Y(ie=>Reflect.apply(nV,null,[ie,...Q]),()=>RM(...Q),"number format",ie=>Reflect.apply(ie.n,ie,[...Q]),()=>Yq,ie=>Nt(ie)||Pi(ie))}function $(Q){return Q.map(ie=>Nt(ie)||eo(ie)||ar(ie)?sV(String(ie)):ie)}const K={normalize:$,interpolate:Q=>Q,type:"vnode"};function Z(...Q){return Y(ie=>{let ce;const ve=ie;try{ve.processor=K,ce=Reflect.apply(aV,null,[ve,...Q])}finally{ve.processor=null}return ce},()=>FM(...Q),"translate",ie=>ie[LM](...Q),ie=>[sV(ie)],ie=>Pi(ie))}function te(...Q){return Y(ie=>Reflect.apply(nV,null,[ie,...Q]),()=>RM(...Q),"number format",ie=>ie[BM](...Q),uV,ie=>Nt(ie)||Pi(ie))}function J(...Q){return Y(ie=>Reflect.apply(eV,null,[ie,...Q]),()=>PM(...Q),"datetime format",ie=>ie[$M](...Q),uV,ie=>Nt(ie)||Pi(ie))}function fe(Q){S=Q,_.pluralRules=S}function ue(Q,ie){return Y(()=>{if(!Q)return!1;const ce=Nt(ie)?ie:s.value,ve=D(ce),Te=_.messageResolver(ve,Q);return Zc(Te)||Kl(Te)||Nt(Te)},()=>[Q],"translate exists",ce=>Reflect.apply(ce.te,ce,[Q,ie]),gAe,ce=>ar(ce))}function de(Q){let ie=null;const ce=Zoe(_,l.value,s.value);for(let ve=0;ve<ce.length;ve++){const Te=u.value[ce[ve]]||{},be=_.messageResolver(Te,Q);if(be!=null){ie=be;break}}return ie}function ee(Q){const ie=de(Q);return ie??(e?e.tm(Q)||{}:{})}function D(Q){return u.value[Q]||{}}function oe(Q,ie){if(i){const ce={[Q]:ie};for(const ve in ce)Gu(ce,ve)&&N3(ce[ve]);ie=ce[Q]}u.value[Q]=ie,_.messages=u.value}function W(Q,ie){u.value[Q]=u.value[Q]||{};const ce={[Q]:ie};if(i)for(const ve in ce)Gu(ce,ve)&&N3(ce[ve]);ie=ce[Q],z6(ie,u.value[Q]),_.messages=u.value}function V(Q){return c.value[Q]||{}}function F(Q,ie){c.value[Q]=ie,_.datetimeFormats=c.value,tV(_,Q,ie)}function j(Q,ie){c.value[Q]=po(c.value[Q]||{},ie),_.datetimeFormats=c.value,tV(_,Q,ie)}function se(Q){return f.value[Q]||{}}function pe(Q,ie){f.value[Q]=ie,_.numberFormats=f.value,rV(_,Q,ie)}function ae(Q,ie){f.value[Q]=po(f.value[Q]||{},ie),_.numberFormats=f.value,rV(_,Q,ie)}cV++,e&&F_&&(We(e.locale,Q=>{a&&(s.value=Q,_.locale=Q,nb(_,s.value,l.value))}),We(e.fallbackLocale,Q=>{a&&(l.value=Q,_.fallbackLocale=Q,nb(_,s.value,l.value))}));const H={id:cV,locale:E,fallbackLocale:M,get inheritLocale(){return a},set inheritLocale(Q){a=Q,Q&&e&&(s.value=e.locale.value,l.value=e.fallbackLocale.value,nb(_,s.value,l.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:A,get modifiers(){return x},get pluralRules(){return S||{}},get isGlobal(){return r},get missingWarn(){return d},set missingWarn(Q){d=Q,_.missingWarn=d},get fallbackWarn(){return h},set fallbackWarn(Q){h=Q,_.fallbackWarn=h},get fallbackRoot(){return p},set fallbackRoot(Q){p=Q},get fallbackFormat(){return m},set fallbackFormat(Q){m=Q,_.fallbackFormat=m},get warnHtmlMessage(){return b},set warnHtmlMessage(Q){b=Q,_.warnHtmlMessage=Q},get escapeParameter(){return w},set escapeParameter(Q){w=Q,_.escapeParameter=Q},t:R,getLocaleMessage:D,setLocaleMessage:oe,mergeLocaleMessage:W,getPostTranslationHandler:I,setPostTranslationHandler:O,getMissingHandler:q,setMissingHandler:L,[sae]:fe};return H.datetimeFormats=N,H.numberFormats=T,H.rt=B,H.te=ue,H.tm=ee,H.d=z,H.n=P,H.getDateTimeFormat=V,H.setDateTimeFormat=F,H.mergeDateTimeFormat=j,H.getNumberFormat=se,H.setNumberFormat=pe,H.mergeNumberFormat=ae,H[lae]=n,H[LM]=Z,H[$M]=J,H[BM]=te,H}function yAe(t){const e=Nt(t.locale)?t.locale:D3,n=Nt(t.fallbackLocale)||Pi(t.fallbackLocale)||Vn(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=oi(t.missing)?t.missing:void 0,i=ar(t.silentTranslationWarn)||yv(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,o=ar(t.silentFallbackWarn)||yv(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,a=ar(t.fallbackRoot)?t.fallbackRoot:!0,s=!!t.formatFallbackMessages,l=Vn(t.modifiers)?t.modifiers:{},u=t.pluralizationRules,c=oi(t.postTranslation)?t.postTranslation:void 0,f=Nt(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,d=!!t.escapeParameterHtml,h=ar(t.sync)?t.sync:!0;let p=t.messages;if(Vn(t.sharedMessages)){const x=t.sharedMessages;p=Object.keys(x).reduce((_,k)=>{const C=_[k]||(_[k]={});return po(C,x[k]),_},p||{})}const{__i18n:m,__root:g,__injectWithOption:v}=t,y=t.datetimeFormats,b=t.numberFormats,w=t.flatJson;return{locale:e,fallbackLocale:n,messages:p,flatJson:w,datetimeFormats:y,numberFormats:b,missing:r,missingWarn:i,fallbackWarn:o,fallbackRoot:a,fallbackFormat:s,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:f,escapeParameter:d,messageResolver:t.messageResolver,inheritLocale:h,__i18n:m,__root:g,__injectWithOption:v}}function qM(t={}){const e=rP(yAe(t)),{__extender:n}=t,r={id:e.id,get locale(){return e.locale.value},set locale(i){e.locale.value=i},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(i){e.fallbackLocale.value=i},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(i){e.setMissingHandler(i)},get silentTranslationWarn(){return ar(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(i){e.missingWarn=ar(i)?!i:i},get silentFallbackWarn(){return ar(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(i){e.fallbackWarn=ar(i)?!i:i},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(i){e.fallbackFormat=i},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(i){e.setPostTranslationHandler(i)},get sync(){return e.inheritLocale},set sync(i){e.inheritLocale=i},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){e.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(i){e.escapeParameter=i},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...i){return Reflect.apply(e.t,e,[...i])},rt(...i){return Reflect.apply(e.rt,e,[...i])},te(i,o){return e.te(i,o)},tm(i){return e.tm(i)},getLocaleMessage(i){return e.getLocaleMessage(i)},setLocaleMessage(i,o){e.setLocaleMessage(i,o)},mergeLocaleMessage(i,o){e.mergeLocaleMessage(i,o)},d(...i){return Reflect.apply(e.d,e,[...i])},getDateTimeFormat(i){return e.getDateTimeFormat(i)},setDateTimeFormat(i,o){e.setDateTimeFormat(i,o)},mergeDateTimeFormat(i,o){e.mergeDateTimeFormat(i,o)},n(...i){return Reflect.apply(e.n,e,[...i])},getNumberFormat(i){return e.getNumberFormat(i)},setNumberFormat(i,o){e.setNumberFormat(i,o)},mergeNumberFormat(i,o){e.mergeNumberFormat(i,o)}};return r.__extender=n,r}function bAe(t,e,n){return{beforeCreate(){const r=Lt();if(!r)throw Tl(js.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const o=i.i18n;if(i.__i18n&&(o.__i18n=i.__i18n),o.__root=e,this===this.$root)this.$i18n=dV(t,o);else{o.__injectWithOption=!0,o.__extender=n.__vueI18nExtend,this.$i18n=qM(o);const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=dV(t,i);else{this.$i18n=qM({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&cae(e,i,i),this.$t=(...o)=>this.$i18n.t(...o),this.$rt=(...o)=>this.$i18n.rt(...o),this.$te=(o,a)=>this.$i18n.te(o,a),this.$d=(...o)=>this.$i18n.d(...o),this.$n=(...o)=>this.$i18n.n(...o),this.$tm=o=>this.$i18n.tm(o),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Lt();if(!r)throw Tl(js.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),n.__deleteInstance(r),delete this.$i18n}}}function dV(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[sae](e.pluralizationRules||t.pluralizationRules);const n=nP(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const iP={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function wAe({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,i)=>[...r,...i.type===Tt?i.children:[i]],[]):e.reduce((n,r)=>{const i=t[r];return i&&(n[r]=i()),n},Pr())}function fae(){return Tt}const xAe=nt({name:"i18n-t",props:po({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>eo(t)||!isNaN(t)}},iP),setup(t,e){const{slots:n,attrs:r}=e,i=t.i18n||Ut({useScope:t.scope,__useComponent:!0});return()=>{const o=Object.keys(n).filter(f=>f[0]!=="_"),a=Pr();t.locale&&(a.locale=t.locale),t.plural!==void 0&&(a.plural=Nt(t.plural)?+t.plural:t.plural);const s=wAe(e,o),l=i[LM](t.keypath,s,a),u=po(Pr(),r),c=Nt(t.tag)||pr(t.tag)?t.tag:fae();return he(c,u,l)}}}),hV=xAe;function SAe(t){return Pi(t)&&!Nt(t[0])}function dae(t,e,n,r){const{slots:i,attrs:o}=e;return()=>{const a={part:!0};let s=Pr();t.locale&&(a.locale=t.locale),Nt(t.format)?a.key=t.format:pr(t.format)&&(Nt(t.format.key)&&(a.key=t.format.key),s=Object.keys(t.format).reduce((d,h)=>n.includes(h)?po(Pr(),d,{[h]:t.format[h]}):d,Pr()));const l=r(t.value,a,s);let u=[a.key];Pi(l)?u=l.map((d,h)=>{const p=i[d.type],m=p?p({[d.type]:d.value,index:h,parts:l}):[d.value];return SAe(m)&&(m[0].key=`${d.type}-${h}`),m}):Nt(l)&&(u=[l]);const c=po(Pr(),o),f=Nt(t.tag)||pr(t.tag)?t.tag:fae();return he(f,c,u)}}const _Ae=nt({name:"i18n-n",props:po({value:{type:Number,required:!0},format:{type:[String,Object]}},iP),setup(t,e){const n=t.i18n||Ut({useScope:t.scope,__useComponent:!0});return dae(t,e,iae,(...r)=>n[BM](...r))}}),pV=_Ae;function CAe(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function kAe(t){const e=a=>{const{instance:s,value:l}=a;if(!s||!s.$)throw Tl(js.UNEXPECTED_ERROR);const u=CAe(t,s.$),c=mV(l);return[Reflect.apply(u.t,u,[...gV(c)]),u]};return{created:(a,s)=>{const[l,u]=e(s);F_&&t.global===u&&(a.__i18nWatcher=We(u.locale,()=>{s.instance&&s.instance.$forceUpdate()})),a.__composer=u,a.textContent=l},unmounted:a=>{F_&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:s})=>{if(a.__composer){const l=a.__composer,u=mV(s);a.textContent=Reflect.apply(l.t,l,[...gV(u)])}},getSSRProps:a=>{const[s]=e(a);return{textContent:s}}}}function mV(t){if(Nt(t))return{path:t};if(Vn(t)){if(!("path"in t))throw Tl(js.REQUIRED_VALUE,"path");return t}else throw Tl(js.INVALID_VALUE)}function gV(t){const{path:e,locale:n,args:r,choice:i,plural:o}=t,a={},s=r||{};return Nt(n)&&(a.locale=n),eo(i)&&(a.plural=i),eo(o)&&(a.plural=o),[e,s,a]}function EAe(t,e,...n){const r=Vn(n[0])?n[0]:{};(ar(r.globalInstall)?r.globalInstall:!0)&&([hV.name,"I18nT"].forEach(o=>t.component(o,hV)),[pV.name,"I18nN"].forEach(o=>t.component(o,pV)),[yV.name,"I18nD"].forEach(o=>t.component(o,yV))),t.directive("t",kAe(e))}const AAe=tp("global-vue-i18n");function TAe(t={}){const e=__VUE_I18N_LEGACY_API__&&ar(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=ar(t.globalInjection)?t.globalInjection:!0,r=new Map,[i,o]=MAe(t,e),a=tp("");function s(f){return r.get(f)||null}function l(f,d){r.set(f,d)}function u(f){r.delete(f)}const c={get mode(){return __VUE_I18N_LEGACY_API__&&e?"legacy":"composition"},async install(f,...d){if(f.__VUE_I18N_SYMBOL__=a,f.provide(f.__VUE_I18N_SYMBOL__,c),Vn(d[0])){const m=d[0];c.__composerExtend=m.__composerExtend,c.__vueI18nExtend=m.__vueI18nExtend}let h=null;!e&&n&&(h=LAe(f,c.global)),__VUE_I18N_FULL_INSTALL__&&EAe(f,c,...d),__VUE_I18N_LEGACY_API__&&e&&f.mixin(bAe(o,o.__composer,c));const p=f.unmount;f.unmount=()=>{h&&h(),c.dispose(),p()}},get global(){return o},dispose(){i.stop()},__instances:r,__getInstance:s,__setInstance:l,__deleteInstance:u};return c}function Ut(t={}){const e=Lt();if(e==null)throw Tl(js.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Tl(js.NOT_INSTALLED);const n=DAe(e),r=OAe(n),i=uae(e),o=NAe(t,i);if(o==="global")return cae(r,t,i),r;if(o==="parent"){let l=IAe(n,e,t.__useComponent);return l==null&&(l=r),l}const a=n;let s=a.__getInstance(e);if(s==null){const l=po({},t);"__i18n"in i&&(l.__i18n=i.__i18n),r&&(l.__root=r),s=rP(l),a.__composerExtend&&(s[zM]=a.__composerExtend(s)),RAe(a,e,s),a.__setInstance(e,s)}return s}function MAe(t,e){const n=Vw(),r=__VUE_I18N_LEGACY_API__&&e?n.run(()=>qM(t)):n.run(()=>rP(t));if(r==null)throw Tl(js.UNEXPECTED_ERROR);return[n,r]}function DAe(t){const e=rr(t.isCE?AAe:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Tl(t.isCE?js.NOT_INSTALLED_WITH_PROVIDE:js.UNEXPECTED_ERROR);return e}function NAe(t,e){return J8(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function OAe(t){return t.mode==="composition"?t.global:t.global.__composer}function IAe(t,e,n=!1){let r=null;const i=e.root;let o=PAe(e,n);for(;o!=null;){const a=t;if(t.mode==="composition")r=a.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const s=a.__getInstance(o);s!=null&&(r=s.__composer,n&&r&&!r[lae]&&(r=null))}if(r!=null||i===o)break;o=o.parent}return r}function PAe(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function RAe(t,e,n){kt(()=>{},e),Oo(()=>{const r=n;t.__deleteInstance(e);const i=r[zM];i&&(i(),delete r[zM])},e)}const FAe=["locale","fallbackLocale","availableLocales"],vV=["t","rt","d","n","tm","te"];function LAe(t,e){const n=Object.create(null);return FAe.forEach(i=>{const o=Object.getOwnPropertyDescriptor(e,i);if(!o)throw Tl(js.UNEXPECTED_ERROR);const a=li(o.value)?{get(){return o.value.value},set(s){o.value.value=s}}:{get(){return o.get&&o.get()}};Object.defineProperty(n,i,a)}),t.config.globalProperties.$i18n=n,vV.forEach(i=>{const o=Object.getOwnPropertyDescriptor(e,i);if(!o||!o.value)throw Tl(js.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,o)}),()=>{delete t.config.globalProperties.$i18n,vV.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}const $Ae=nt({name:"i18n-d",props:po({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},iP),setup(t,e){const n=t.i18n||Ut({useScope:t.scope,__useComponent:!0});return dae(t,e,rae,(...r)=>n[$M](...r))}}),yV=$Ae;mAe();GEe(TEe);KEe(UEe);XEe(Zoe);if(__INTLIFY_PROD_DEVTOOLS__){const t=im();t.__INTLIFY__=!0,MEe(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const oP=cn({name:"QAvatar",props:{...oy,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(t,{slots:e}){const n=ay(t),r=re(()=>"q-avatar"+(t.color?` bg-${t.color}`:"")+(t.textColor?` text-${t.textColor} q-chip--colored`:"")+(t.square===!0?" q-avatar--square":t.rounded===!0?" rounded-borders":"")),i=re(()=>t.fontSize?{fontSize:t.fontSize}:null);return()=>{const o=t.icon!==void 0?[he(Jo,{name:t.icon})]:void 0;return he("div",{class:r.value,style:n.value},[he("div",{class:"q-avatar__content row flex-center overflow-hidden",style:i.value},Hie(e.default,o))])}}}),BAe=cn({name:"QBanner",props:{...ra,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=Lt(),r=ia(t,n),i=re(()=>"q-banner row items-center"+(t.dense===!0?" q-banner--dense":"")+(r.value===!0?" q-banner--dark q-dark":"")+(t.rounded===!0?" rounded-borders":"")),o=re(()=>`q-banner__actions row items-center justify-end col-${t.inlineActions===!0?"auto":"all"}`);return()=>{const a=[he("div",{class:"q-banner__avatar col-auto row items-center self-start"},Mr(e.avatar)),he("div",{class:"q-banner__content col text-body2"},Mr(e.default))],s=Mr(e.action);return s!==void 0&&a.push(he("div",{class:o.value},s)),he("div",{class:i.value+(t.inlineActions===!1&&s!==void 0?" q-banner--top-padding":""),role:"alert"},a)}}});/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bV={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(t,e,n,r)=>({color:i="currentColor",size:o=24,stroke:a=2,title:s,class:l,...u},{attrs:c,slots:f})=>{let d=[...r.map(h=>he(...h)),...f.default?[f.default()]:[]];return s&&(d=[he("title",s),...d]),he("svg",{...bV[t],width:o,height:o,...c,class:["tabler-icon",`tabler-icon-${e}`],...t==="filled"?{fill:i}:{"stroke-width":a??bV[t]["stroke-width"],stroke:i},...u},d)};/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zAe=Pt("outline","alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qAe=Pt("outline","arrows-maximize","IconArrowsMaximize",[["path",{d:"M16 4l4 0l0 4",key:"svg-0"}],["path",{d:"M14 10l6 -6",key:"svg-1"}],["path",{d:"M8 20l-4 0l0 -4",key:"svg-2"}],["path",{d:"M4 20l6 -6",key:"svg-3"}],["path",{d:"M16 20l4 0l0 -4",key:"svg-4"}],["path",{d:"M14 14l6 6",key:"svg-5"}],["path",{d:"M8 4l-4 0l0 4",key:"svg-6"}],["path",{d:"M4 4l6 6",key:"svg-7"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VAe=Pt("outline","arrows-minimize","IconArrowsMinimize",[["path",{d:"M5 9l4 0l0 -4",key:"svg-0"}],["path",{d:"M3 3l6 6",key:"svg-1"}],["path",{d:"M5 15l4 0l0 4",key:"svg-2"}],["path",{d:"M3 21l6 -6",key:"svg-3"}],["path",{d:"M19 9l-4 0l0 -4",key:"svg-4"}],["path",{d:"M15 9l6 -6",key:"svg-5"}],["path",{d:"M19 15l-4 0l0 4",key:"svg-6"}],["path",{d:"M15 15l6 6",key:"svg-7"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var HAe=Pt("outline","arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var UAe=Pt("outline","backspace","IconBackspace",[["path",{d:"M20 6a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-11l-5 -5a1.5 1.5 0 0 1 0 -2l5 -5z",key:"svg-0"}],["path",{d:"M12 10l4 4m0 -4l-4 4",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jAe=Pt("outline","bolt","IconBolt",[["path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var WAe=Pt("outline","book","IconBook",[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hae=Pt("outline","bookmark","IconBookmark",[["path",{d:"M18 7v14l-6 -4l-6 4v-14a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4z",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pae=Pt("outline","calculator","IconCalculator",[["path",{d:"M4 3m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 7m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v1a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M8 14l0 .01",key:"svg-2"}],["path",{d:"M12 14l0 .01",key:"svg-3"}],["path",{d:"M16 14l0 .01",key:"svg-4"}],["path",{d:"M8 17l0 .01",key:"svg-5"}],["path",{d:"M12 17l0 .01",key:"svg-6"}],["path",{d:"M16 17l0 .01",key:"svg-7"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var GAe=Pt("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var KAe=Pt("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XAe=Pt("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var q6=Pt("outline","circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var YAe=Pt("outline","clock-hour-1","IconClockHour1",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5",key:"svg-1"}],["path",{d:"M12 12l2 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZAe=Pt("outline","clock-hour-10","IconClockHour10",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 12l-3 -2",key:"svg-1"}],["path",{d:"M12 7v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var JAe=Pt("outline","clock-hour-11","IconClockHour11",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 12l-2 -3",key:"svg-1"}],["path",{d:"M12 7v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var QAe=Pt("outline","clock-hour-12","IconClockHour12",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var e9e=Pt("outline","clock-hour-2","IconClockHour2",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 12l3 -2",key:"svg-1"}],["path",{d:"M12 7v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var t9e=Pt("outline","clock-hour-3","IconClockHour3",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 12h3.5",key:"svg-1"}],["path",{d:"M12 7v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wV=Pt("outline","clock-hour-4","IconClockHour4",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 12l3 2",key:"svg-1"}],["path",{d:"M12 7v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var n9e=Pt("outline","clock-hour-5","IconClockHour5",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 12l2 3",key:"svg-1"}],["path",{d:"M12 7v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var r9e=Pt("outline","clock-hour-6","IconClockHour6",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 12v3.5",key:"svg-1"}],["path",{d:"M12 7v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var i9e=Pt("outline","clock-hour-7","IconClockHour7",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 12l-2 3",key:"svg-1"}],["path",{d:"M12 7v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var o9e=Pt("outline","clock-hour-8","IconClockHour8",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 12l-3 2",key:"svg-1"}],["path",{d:"M12 7v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var a9e=Pt("outline","clock-hour-9","IconClockHour9",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 12h-3.5",key:"svg-1"}],["path",{d:"M12 7v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mae=Pt("outline","clock","IconClock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var s9e=Pt("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var l9e=Pt("outline","device-mobile","IconDeviceMobile",[["path",{d:"M6 5a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M11 4h2",key:"svg-1"}],["path",{d:"M12 17v.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var u9e=Pt("outline","divide","IconDivide",[["circle",{cx:"12",cy:"6",r:"1",fill:"currentColor",key:"svg-0"}],["circle",{cx:"12",cy:"18",r:"1",fill:"currentColor",key:"svg-1"}],["path",{d:"M5 12l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aP=Pt("outline","download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var c9e=Pt("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var f9e=Pt("outline","equal","IconEqual",[["path",{d:"M5 10h14",key:"svg-0"}],["path",{d:"M5 14h14",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var d9e=Pt("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var h9e=Pt("outline","eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xV=Pt("outline","flag","IconFlag",[["path",{d:"M5 5a5 5 0 0 1 7 0a5 5 0 0 0 7 0v9a5 5 0 0 1 -7 0a5 5 0 0 0 -7 0v-9z",key:"svg-0"}],["path",{d:"M5 21v-7",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gae=Pt("outline","ghost-3","IconGhost3",[["path",{d:"M5 11a7 7 0 0 1 14 0v7a1.78 1.78 0 0 1 -3.1 1.4a1.65 1.65 0 0 0 -2.6 0a1.65 1.65 0 0 1 -2.6 0a1.65 1.65 0 0 0 -2.6 0a1.78 1.78 0 0 1 -3.1 -1.4v-7",key:"svg-0"}],["path",{d:"M10 10h.01",key:"svg-1"}],["path",{d:"M14 10h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var p9e=Pt("outline","gift","IconGift",[["path",{d:"M3 8m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M12 8l0 13",key:"svg-1"}],["path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7",key:"svg-2"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5",key:"svg-3"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var m9e=Pt("outline","list-numbers","IconListNumbers",[["path",{d:"M11 6h9",key:"svg-0"}],["path",{d:"M11 12h9",key:"svg-1"}],["path",{d:"M12 18h8",key:"svg-2"}],["path",{d:"M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4",key:"svg-3"}],["path",{d:"M6 10v-6l-2 2",key:"svg-4"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var g9e=Pt("outline","menu-2","IconMenu2",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var v9e=Pt("outline","minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var L_=Pt("outline","music","IconMusic",[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M13 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M9 17v-13h10v13",key:"svg-2"}],["path",{d:"M9 8h10",key:"svg-3"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var y9e=Pt("outline","note","IconNote",[["path",{d:"M13 20l7 -7",key:"svg-0"}],["path",{d:"M13 20v-6a1 1 0 0 1 1 -1h6v-7a2 2 0 0 0 -2 -2h-12a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var b9e=Pt("outline","parentheses","IconParentheses",[["path",{d:"M7 4a12.25 12.25 0 0 0 0 16",key:"svg-0"}],["path",{d:"M17 4a12.25 12.25 0 0 1 0 16",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xw=Pt("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var w9e=Pt("outline","percentage","IconPercentage",[["path",{d:"M17 17m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M7 7m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M6 18l12 -12",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vae=Pt("outline","player-pause","IconPlayerPause",[["path",{d:"M6 5m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M14 5m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yae=Pt("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var x9e=Pt("outline","player-skip-back","IconPlayerSkipBack",[["path",{d:"M20 5v14l-12 -7z",key:"svg-0"}],["path",{d:"M4 5l0 14",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var S9e=Pt("outline","player-skip-forward","IconPlayerSkipForward",[["path",{d:"M4 5v14l12 -7z",key:"svg-0"}],["path",{d:"M20 5l0 14",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wv=Pt("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _9e=Pt("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var C9e=Pt("outline","repeat-once","IconRepeatOnce",[["path",{d:"M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3",key:"svg-0"}],["path",{d:"M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3 -3l3 -3",key:"svg-1"}],["path",{d:"M11 11l1 -1v4",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var SV=Pt("outline","repeat","IconRepeat",[["path",{d:"M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3",key:"svg-0"}],["path",{d:"M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3 -3l3 -3",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var k9e=Pt("outline","signal-3g","IconSignal3g",[["path",{d:"M17 8h-2a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2v-4h-1",key:"svg-0"}],["path",{d:"M6 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var O3=Pt("outline","swords","IconSwords",[["path",{d:"M21 3v5l-11 9l-4 4l-3 -3l4 -4l9 -11z",key:"svg-0"}],["path",{d:"M5 13l6 6",key:"svg-1"}],["path",{d:"M14.32 17.32l3.68 3.68l3 -3l-3.365 -3.365",key:"svg-2"}],["path",{d:"M10 5.5l-2 -2.5h-5v5l3 2.5",key:"svg-3"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var E9e=Pt("outline","transform","IconTransform",[["path",{d:"M3 6a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M21 11v-3a2 2 0 0 0 -2 -2h-6l3 3m0 -6l-3 3",key:"svg-1"}],["path",{d:"M3 13v3a2 2 0 0 0 2 2h6l-3 -3m0 6l3 -3",key:"svg-2"}],["path",{d:"M15 18a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-3"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tk=Pt("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var A9e=Pt("outline","trophy","IconTrophy",[["path",{d:"M8 21l8 0",key:"svg-0"}],["path",{d:"M12 17l0 4",key:"svg-1"}],["path",{d:"M7 4l10 0",key:"svg-2"}],["path",{d:"M17 4v8a5 5 0 0 1 -10 0v-8",key:"svg-3"}],["path",{d:"M5 9m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}],["path",{d:"M19 9m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var T9e=Pt("outline","user-plus","IconUserPlus",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bae=Pt("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var M9e=Pt("outline","users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var D9e=Pt("outline","volume-off","IconVolumeOff",[["path",{d:"M15 8a5 5 0 0 1 1.912 4.934m-1.377 2.602a5 5 0 0 1 -.535 .464",key:"svg-0"}],["path",{d:"M17.7 5a9 9 0 0 1 2.362 11.086m-1.676 2.299a9 9 0 0 1 -.686 .615",key:"svg-1"}],["path",{d:"M9.069 5.054l.431 -.554a.8 .8 0 0 1 1.5 .5v2m0 4v8a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l1.294 -1.664",key:"svg-2"}],["path",{d:"M3 3l18 18",key:"svg-3"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var N9e=Pt("outline","volume","IconVolume",[["path",{d:"M15 8a5 5 0 0 1 0 8",key:"svg-0"}],["path",{d:"M17.7 5a9 9 0 0 1 0 14",key:"svg-1"}],["path",{d:"M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pu=Pt("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);const O9e="modulepreload",I9e=function(t){return"/dmh-pwa/"+t},_V={},Ge=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=a?.nonce||a?.getAttribute("nonce");i=l(n.map(u=>{if(u=I9e(u),u in _V)return;_V[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":O9e,c||(d.as="script"),d.crossOrigin="",d.href=u,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})},$t=(...t)=>{console.log(...t)},V6=(...t)=>{console.warn(...t)},Bs=(...t)=>{console.error(...t)},P9e={key:0,class:"pwa-install-banner-float shadow-1 absolute-bottom"},R9e={key:0},F9e={key:1},L9e=nt({__name:"PWAInstallPrompt",setup(t){const e=we(!1),n=we(null),r=we(!1),i=async()=>{if(n.value)try{await n.value.prompt();const{outcome:a}=await n.value.userChoice;$t(a==="accepted"?"User accepted the install prompt":"User dismissed the install prompt")}catch(a){Bs("Error showing install prompt:",a)}finally{n.value=null,e.value=!1,r.value=!1}},o=()=>{e.value=!1,n.value=null,r.value=!1};return kt(()=>{}),(a,s)=>e.value?(ye(),Le("div",P9e,[xe(BAe,{class:Qr("bg-secondary")},{avatar:De(()=>[xe(oP,{size:"75px",style:"square"},{default:De(()=>s[0]||(s[0]=[Ee("img",{src:"/dmh-pwa/icon-192.png",alt:"Owlbear's DMH"},null,-1)])),_:1,__:[0]})]),action:De(()=>[xe(Ct,{onClick:i,color:"positive",size:"small"},{default:De(()=>[xe(le(aP)),s[1]||(s[1]=vt(" Install "))]),_:1,__:[1]}),xe(Ct,{onClick:o,color:"primary",size:"small"},{default:De(()=>[xe(le(pu)),s[2]||(s[2]=vt(" Not now "))]),_:1,__:[2]})]),default:De(()=>[s[3]||(s[3]=Ee("h5",null,"Install Owlbear's Dungeon Master Helper",-1)),r.value?(ye(),Le("p",R9e," You dismissed the install prompt. Would you like to try again? ")):(ye(),Le("p",F9e," Add this app to your home screen for quick access and offline use. "))]),_:1,__:[3]})])):ot("",!0)}}),vr=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},$9e=vr(L9e,[["__scopeId","data-v-08db74a3"]]),B9e={class:"pwa-status"},z9e={key:0,class:"pwa-update-prompt"},q9e={class:"pwa-update-content"},V9e={class:"pwa-update-icon"},H9e={class:"pwa-update-text"},U9e={class:"pwa-update-actions"},j9e={class:"pwa-status-indicators"},W9e={key:0,class:"pwa-status-item offline"},G9e={class:"pwa-status-text"},K9e={key:1,class:"pwa-status-item standalone"},X9e={class:"pwa-status-text"},Y9e=nt({__name:"PWAStatus",setup(t){const{t:e}=Ut(),n=we(navigator.onLine),r=we(!1),i=we(!1),o=we(!1),a=()=>{r.value=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,n.value=navigator.onLine},s=()=>{window.location.reload()},l=()=>{o.value=!1};return kt(()=>{a(),window.addEventListener("online",()=>{n.value=!0}),window.addEventListener("offline",()=>{n.value=!1}),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{i.value=!0,o.value=!0})}),(u,c)=>(ye(),Le("div",B9e,[o.value?(ye(),Le("div",z9e,[Ee("div",q9e,[Ee("div",V9e,[xe(le(p9e))]),Ee("div",H9e,[Ee("h3",null,$e(le(e)("pwa.updateAvailable")),1),Ee("p",null,$e(le(e)("pwa.updateMessage")),1)]),Ee("div",U9e,[xe(Ct,{flat:"",onClick:s,color:"positive"},{default:De(()=>[xe(le(aP)),Ee("span",null,$e(le(e)("pwa.updateNow")),1)]),_:1}),xe(Ct,{flat:"",onClick:l},{default:De(()=>[xe(le(pu)),Ee("span",null,$e(le(e)("pwa.later")),1)]),_:1})])])])):ot("",!0),Ee("div",j9e,[n.value?ot("",!0):(ye(),Le("div",W9e,[xe(le(k9e),{class:"pwa-status-icon"}),Ee("span",G9e,$e(le(e)("pwa.offlineMode")),1)])),r.value?(ye(),Le("div",K9e,[xe(le(l9e),{class:"pwa-status-icon"}),Ee("span",X9e,$e(le(e)("pwa.appMode")),1)])):ot("",!0)])]))}}),Z9e=vr(Y9e,[["__scopeId","data-v-765255c4"]]);let QE,dx=0;const Fo=new Array(256);for(let t=0;t<256;t++)Fo[t]=(t+256).toString(16).substring(1);const J9e=(()=>{const t=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(t!==void 0){if(t.randomBytes!==void 0)return t.randomBytes;if(t.getRandomValues!==void 0)return e=>{const n=new Uint8Array(e);return t.getRandomValues(n),n}}return e=>{const n=[];for(let r=e;r>0;r--)n.push(Math.floor(Math.random()*256));return n}})(),CV=4096;function VM(){(QE===void 0||dx+16>CV)&&(dx=0,QE=J9e(CV));const t=Array.prototype.slice.call(QE,dx,dx+=16);return t[6]=t[6]&15|64,t[8]=t[8]&63|128,Fo[t[0]]+Fo[t[1]]+Fo[t[2]]+Fo[t[3]]+"-"+Fo[t[4]]+Fo[t[5]]+"-"+Fo[t[6]]+Fo[t[7]]+"-"+Fo[t[8]]+Fo[t[9]]+"-"+Fo[t[10]]+Fo[t[11]]+Fo[t[12]]+Fo[t[13]]+Fo[t[14]]+Fo[t[15]]}function pd(t,e){if(t===e)return!0;if(t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(t.constructor===Array){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(pd(t[r],e[r])!==!0)return!1;return!0}if(t.constructor===Map){if(t.size!==e.size)return!1;let o=t.entries();for(r=o.next();r.done!==!0;){if(e.has(r.value[0])!==!0)return!1;r=o.next()}for(o=t.entries(),r=o.next();r.done!==!0;){if(pd(r.value[1],e.get(r.value[0]))!==!0)return!1;r=o.next()}return!0}if(t.constructor===Set){if(t.size!==e.size)return!1;const o=t.entries();for(r=o.next();r.done!==!0;){if(e.has(r.value[0])!==!0)return!1;r=o.next()}return!0}if(t.buffer!=null&&t.buffer.constructor===ArrayBuffer){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t).filter(o=>t[o]!==void 0);if(n=i.length,n!==Object.keys(e).filter(o=>e[o]!==void 0).length)return!1;for(r=n;r--!==0;){const o=i[r];if(pd(t[o],e[o])!==!0)return!1}return!0}return t!==t&&e!==e}function Is(t){return t!==null&&typeof t=="object"&&Array.isArray(t)!==!0}function Q9e(t){return typeof t=="number"&&isFinite(t)}let eTe=0;const tTe=["click","keydown"],nTe={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${eTe++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function rTe(t,e,n,r){const i=rr(aoe,Hi);if(i===Hi)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Hi;const{proxy:o}=Lt(),a=we(null),s=we(null),l=we(null),u=re(()=>t.disable===!0||t.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},t.ripple===!0?{}:t.ripple)),c=re(()=>i.currentModel.value===t.name),f=re(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(c.value===!0?" q-tab--active"+(i.tabProps.value.activeClass?" "+i.tabProps.value.activeClass:"")+(i.tabProps.value.activeColor?` text-${i.tabProps.value.activeColor}`:"")+(i.tabProps.value.activeBgColor?` bg-${i.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(t.icon&&t.label&&i.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(t.noCaps===!0||i.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(t.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),d=re(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(i.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(t.contentClass!==void 0?` ${t.contentClass}`:"")),h=re(()=>t.disable===!0||i.hasFocus.value===!0||c.value===!1&&i.hasActiveTab.value===!0?-1:t.tabindex||0);function p(b,w){if(w!==!0&&b?.qAvoidFocus!==!0&&a.value?.focus(),t.disable!==!0){i.updateModel({name:t.name}),n("click",b);return}}function m(b){af(b,[13,32])?p(b,!0):K8(b)!==!0&&b.keyCode>=35&&b.keyCode<=40&&b.altKey!==!0&&b.metaKey!==!0&&i.onKbdNavigate(b.keyCode,o.$el)===!0&&zr(b),n("keydown",b)}function g(){const b=i.tabProps.value.narrowIndicator,w=[],x=he("div",{ref:l,class:["q-tab__indicator",i.tabProps.value.indicatorClass]});t.icon!==void 0&&w.push(he(Jo,{class:"q-tab__icon",name:t.icon})),t.label!==void 0&&w.push(he("div",{class:"q-tab__label"},t.label)),t.alert!==!1&&w.push(t.alertIcon!==void 0?he(Jo,{class:"q-tab__alert-icon",color:t.alert!==!0?t.alert:void 0,name:t.alertIcon}):he("div",{class:"q-tab__alert"+(t.alert!==!0?` text-${t.alert}`:"")})),b===!0&&w.push(x);const S=[he("div",{class:"q-focus-helper",tabindex:-1,ref:a}),he("div",{class:d.value},Ql(e.default,w))];return b===!1&&S.push(x),S}const v={name:re(()=>t.name),rootRef:s,tabIndicatorRef:l,routeData:r};On(()=>{i.unregisterTab(v)}),kt(()=>{i.registerTab(v)});function y(b,w){const x={ref:s,class:f.value,tabindex:h.value,role:"tab","aria-selected":c.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:p,onKeydown:m,...w};return fo(he(b,x,g()),[[vd,u.value]])}return{renderTab:y,$tabs:i}}const Vg=cn({name:"QTab",props:nTe,emits:tTe,setup(t,{slots:e,emit:n}){const{renderTab:r}=rTe(t,e,n);return()=>r("div")}});let I3=!1;{const t=document.createElement("div");t.setAttribute("dir","rtl"),Object.assign(t.style,{width:"1px",height:"1px",overflow:"auto"});const e=document.createElement("div");Object.assign(e.style,{width:"1000px",height:"1px"}),document.body.appendChild(t),t.appendChild(e),t.scrollLeft=-1e3,I3=t.scrollLeft>=0,t.remove()}function iTe(t,e,n){const r=n===!0?["left","right"]:["top","bottom"];return`absolute-${e===!0?r[0]:r[1]}${t?` text-${t}`:""}`}const oTe=["left","center","right","justify"],sP=cn({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:t=>oTe.includes(t)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(t,{slots:e,emit:n}){const{proxy:r}=Lt(),{$q:i}=r,{registerTick:o}=M2(),{registerTick:a}=M2(),{registerTick:s}=M2(),{registerTimeout:l,removeTimeout:u}=pv(),{registerTimeout:c,removeTimeout:f}=pv(),d=we(null),h=we(null),p=we(t.modelValue),m=we(!1),g=we(!0),v=we(!1),y=we(!1),b=[],w=we(0),x=we(!1);let S=null,_=null,k;const C=re(()=>({activeClass:t.activeClass,activeColor:t.activeColor,activeBgColor:t.activeBgColor,indicatorClass:iTe(t.indicatorColor,t.switchIndicator,t.vertical),narrowIndicator:t.narrowIndicator,inlineLabel:t.inlineLabel,noCaps:t.noCaps})),E=re(()=>{const ae=w.value,H=p.value;for(let Q=0;Q<ae;Q++)if(b[Q].name.value===H)return!0;return!1}),M=re(()=>`q-tabs__content--align-${m.value===!0?"left":y.value===!0?"justify":t.align}`),A=re(()=>`q-tabs row no-wrap items-center q-tabs--${m.value===!0?"":"not-"}scrollable q-tabs--${t.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${t.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${t.mobileArrows===!0?"":"out"}-arrows`+(t.dense===!0?" q-tabs--dense":"")+(t.shrink===!0?" col-shrink":"")+(t.stretch===!0?" self-stretch":"")),N=re(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+M.value+(t.contentClass!==void 0?` ${t.contentClass}`:"")),T=re(()=>t.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),I=re(()=>t.vertical!==!0&&i.lang.rtl===!0),O=re(()=>I3===!1&&I.value===!0);We(I,z),We(()=>t.modelValue,ae=>{q({name:ae,setCurrent:!0,skipEmit:!0})}),We(()=>t.outsideArrows,L);function q({name:ae,setCurrent:H,skipEmit:Q}){p.value!==ae&&(Q!==!0&&t["onUpdate:modelValue"]!==void 0&&n("update:modelValue",ae),(H===!0||t["onUpdate:modelValue"]===void 0)&&(R(p.value,ae),p.value=ae))}function L(){o(()=>{d.value&&Y({width:d.value.offsetWidth,height:d.value.offsetHeight})})}function Y(ae){if(T.value===void 0||h.value===null)return;const H=ae[T.value.container],Q=Math.min(h.value[T.value.scroll],Array.prototype.reduce.call(h.value.children,(ce,ve)=>ce+(ve[T.value.content]||0),0)),ie=H>0&&Q>H;m.value=ie,ie===!0&&a(z),y.value=H<parseInt(t.breakpoint,10)}function R(ae,H){const Q=ae!=null&&ae!==""?b.find(ce=>ce.name.value===ae):null,ie=H!=null&&H!==""?b.find(ce=>ce.name.value===H):null;if(pe===!0)pe=!1;else if(Q&&ie){const ce=Q.tabIndicatorRef.value,ve=ie.tabIndicatorRef.value;S!==null&&(clearTimeout(S),S=null),ce.style.transition="none",ce.style.transform="none",ve.style.transition="none",ve.style.transform="none";const Te=ce.getBoundingClientRect(),be=ve.getBoundingClientRect();ve.style.transform=t.vertical===!0?`translate3d(0,${Te.top-be.top}px,0) scale3d(1,${be.height?Te.height/be.height:1},1)`:`translate3d(${Te.left-be.left}px,0,0) scale3d(${be.width?Te.width/be.width:1},1,1)`,s(()=>{S=setTimeout(()=>{S=null,ve.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",ve.style.transform="none"},70)})}ie&&m.value===!0&&B(ie.rootRef.value)}function B(ae){const{left:H,width:Q,top:ie,height:ce}=h.value.getBoundingClientRect(),ve=ae.getBoundingClientRect();let Te=t.vertical===!0?ve.top-ie:ve.left-H;if(Te<0){h.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(Te),z();return}Te+=t.vertical===!0?ve.height-ce:ve.width-Q,Te>0&&(h.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(Te),z())}function z(){const ae=h.value;if(ae===null)return;const H=ae.getBoundingClientRect(),Q=t.vertical===!0?ae.scrollTop:Math.abs(ae.scrollLeft);I.value===!0?(g.value=Math.ceil(Q+H.width)<ae.scrollWidth-1,v.value=Q>0):(g.value=Q>0,v.value=t.vertical===!0?Math.ceil(Q+H.height)<ae.scrollHeight:Math.ceil(Q+H.width)<ae.scrollWidth)}function P(ae){_!==null&&clearInterval(_),_=setInterval(()=>{J(ae)===!0&&K()},5)}function $(){P(O.value===!0?Number.MAX_SAFE_INTEGER:0)}function X(){P(O.value===!0?0:Number.MAX_SAFE_INTEGER)}function K(){_!==null&&(clearInterval(_),_=null)}function Z(ae,H){const Q=Array.prototype.filter.call(h.value.children,be=>be===H||be.matches&&be.matches(".q-tab.q-focusable")===!0),ie=Q.length;if(ie===0)return;if(ae===36)return B(Q[0]),Q[0].focus(),!0;if(ae===35)return B(Q[ie-1]),Q[ie-1].focus(),!0;const ce=ae===(t.vertical===!0?38:37),ve=ae===(t.vertical===!0?40:39),Te=ce===!0?-1:ve===!0?1:void 0;if(Te!==void 0){const be=I.value===!0?-1:1,_e=Q.indexOf(H)+Te*be;return _e>=0&&_e<ie&&(B(Q[_e]),Q[_e].focus({preventScroll:!0})),!0}}const te=re(()=>O.value===!0?{get:ae=>Math.abs(ae.scrollLeft),set:(ae,H)=>{ae.scrollLeft=-H}}:t.vertical===!0?{get:ae=>ae.scrollTop,set:(ae,H)=>{ae.scrollTop=H}}:{get:ae=>ae.scrollLeft,set:(ae,H)=>{ae.scrollLeft=H}});function J(ae){const H=h.value,{get:Q,set:ie}=te.value;let ce=!1,ve=Q(H);const Te=ae<ve?-1:1;return ve+=Te*5,ve<0?(ce=!0,ve=0):(Te===-1&&ve<=ae||Te===1&&ve>=ae)&&(ce=!0,ve=ae),ie(H,ve),z(),ce}function fe(ae,H){for(const Q in ae)if(ae[Q]!==H[Q])return!1;return!0}function ue(){let ae=null,H={matchedLen:0,queryDiff:9999,hrefLen:0};const Q=b.filter(Te=>Te.routeData?.hasRouterLink.value===!0),{hash:ie,query:ce}=r.$route,ve=Object.keys(ce).length;for(const Te of Q){const be=Te.routeData.exact.value===!0;if(Te.routeData[be===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:_e,query:ge,matched:Ae,href:Me}=Te.routeData.resolvedLink.value,Fe=Object.keys(ge).length;if(be===!0){if(_e!==ie||Fe!==ve||fe(ce,ge)===!1)continue;ae=Te.name.value;break}if(_e!==""&&_e!==ie||Fe!==0&&fe(ge,ce)===!1)continue;const Ue={matchedLen:Ae.length,queryDiff:ve-Fe,hrefLen:Me.length-_e.length};if(Ue.matchedLen>H.matchedLen){ae=Te.name.value,H=Ue;continue}else if(Ue.matchedLen!==H.matchedLen)continue;if(Ue.queryDiff<H.queryDiff)ae=Te.name.value,H=Ue;else if(Ue.queryDiff!==H.queryDiff)continue;Ue.hrefLen>H.hrefLen&&(ae=Te.name.value,H=Ue)}if(ae===null&&b.some(Te=>Te.routeData===void 0&&Te.name.value===p.value)===!0){pe=!1;return}q({name:ae,setCurrent:!0})}function de(ae){if(u(),x.value!==!0&&d.value!==null&&ae.target&&typeof ae.target.closest=="function"){const H=ae.target.closest(".q-tab");H&&d.value.contains(H)===!0&&(x.value=!0,m.value===!0&&B(H))}}function ee(){l(()=>{x.value=!1},30)}function D(){F.avoidRouteWatcher===!1?c(ue):f()}function oe(){if(k===void 0){const ae=We(()=>r.$route.fullPath,D);k=()=>{ae(),k=void 0}}}function W(ae){b.push(ae),w.value++,L(),ae.routeData===void 0||r.$route===void 0?c(()=>{if(m.value===!0){const H=p.value,Q=H!=null&&H!==""?b.find(ie=>ie.name.value===H):null;Q&&B(Q.rootRef.value)}}):(oe(),ae.routeData.hasRouterLink.value===!0&&D())}function V(ae){b.splice(b.indexOf(ae),1),w.value--,L(),k!==void 0&&ae.routeData!==void 0&&(b.every(H=>H.routeData===void 0)===!0&&k(),D())}const F={currentModel:p,tabProps:C,hasFocus:x,hasActiveTab:E,registerTab:W,unregisterTab:V,verifyRouteModel:D,updateModel:q,onKbdNavigate:Z,avoidRouteWatcher:!1};Cl(aoe,F);function j(){S!==null&&clearTimeout(S),K(),k?.()}let se,pe;return On(j),Z0(()=>{se=k!==void 0,j()}),iy(()=>{se===!0&&(oe(),pe=!0,D()),L()}),()=>he("div",{ref:d,class:A.value,role:"tablist",onFocusin:de,onFocusout:ee},[he(Um,{onResize:Y}),he("div",{ref:h,class:N.value,onScroll:z},Mr(e.default)),he(Jo,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(g.value===!0?"":" q-tabs__arrow--faded"),name:t.leftIcon||i.iconSet.tabs[t.vertical===!0?"up":"left"],onMousedownPassive:$,onTouchstartPassive:$,onMouseupPassive:K,onMouseleavePassive:K,onTouchendPassive:K}),he(Jo,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(v.value===!0?"":" q-tabs__arrow--faded"),name:t.rightIcon||i.iconSet.tabs[t.vertical===!0?"down":"right"],onMousedownPassive:X,onTouchstartPassive:X,onMouseupPassive:K,onMouseleavePassive:K,onTouchendPassive:K})])}}),Wa=cn({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(t,{slots:e}){const n=re(()=>`q-card__section q-card__section--${t.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>he(t.tag,{class:n.value},Mr(e.default))}});function aTe(t){const e=[.06,6,50];return typeof t=="string"&&t.length&&t.split(":").forEach((n,r)=>{const i=parseFloat(n);i&&(e[r]=i)}),e}const sTe=W8({name:"touch-swipe",beforeMount(t,{value:e,arg:n,modifiers:r}){if(r.mouse!==!0&&_r.has.touch!==!0)return;const i=r.mouseCapture===!0?"Capture":"",o={handler:e,sensitivity:aTe(n),direction:O_(r),noop:of,mouseStart(a){I_(a,o)&&Kie(a)&&(Wu(o,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),o.start(a,!0))},touchStart(a){if(I_(a,o)){const s=a.target;Wu(o,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),o.start(a)}},start(a,s){_r.is.firefox===!0&&zg(t,!0);const l=jd(a);o.event={x:l.left,y:l.top,time:Date.now(),mouse:s===!0,dir:!1}},move(a){if(o.event===void 0)return;if(o.event.dir!==!1){zr(a);return}const s=Date.now()-o.event.time;if(s===0)return;const l=jd(a),u=l.left-o.event.x,c=Math.abs(u),f=l.top-o.event.y,d=Math.abs(f);if(o.event.mouse!==!0){if(c<o.sensitivity[1]&&d<o.sensitivity[1]){o.end(a);return}}else if(window.getSelection().toString()!==""){o.end(a);return}else if(c<o.sensitivity[2]&&d<o.sensitivity[2])return;const h=c/s,p=d/s;o.direction.vertical===!0&&c<d&&c<100&&p>o.sensitivity[0]&&(o.event.dir=f<0?"up":"down"),o.direction.horizontal===!0&&c>d&&d<100&&h>o.sensitivity[0]&&(o.event.dir=u<0?"left":"right"),o.direction.up===!0&&c<d&&f<0&&c<100&&p>o.sensitivity[0]&&(o.event.dir="up"),o.direction.down===!0&&c<d&&f>0&&c<100&&p>o.sensitivity[0]&&(o.event.dir="down"),o.direction.left===!0&&c>d&&u<0&&d<100&&h>o.sensitivity[0]&&(o.event.dir="left"),o.direction.right===!0&&c>d&&u>0&&d<100&&h>o.sensitivity[0]&&(o.event.dir="right"),o.event.dir!==!1?(zr(a),o.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),WI(),o.styleCleanup=m=>{o.styleCleanup=void 0,document.body.classList.remove("non-selectable");const g=()=>{document.body.classList.remove("no-pointer-events--children")};m===!0?setTimeout(g,50):g()}),o.handler({evt:a,touch:o.event.mouse!==!0,mouse:o.event.mouse,direction:o.event.dir,duration:s,distance:{x:c,y:d}})):o.end(a)},end(a){o.event!==void 0&&(w0(o,"temp"),_r.is.firefox===!0&&zg(t,!1),o.styleCleanup?.(!0),a!==void 0&&o.event.dir!==!1&&zr(a),o.event=void 0)}};if(t.__qtouchswipe=o,r.mouse===!0){const a=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";Wu(o,"main",[[t,"mousedown","mouseStart",`passive${a}`]])}_r.has.touch===!0&&Wu(o,"main",[[t,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const n=t.__qtouchswipe;n!==void 0&&(e.oldValue!==e.value&&(typeof e.value!="function"&&n.end(),n.handler=e.value),n.direction=O_(e.modifiers))},beforeUnmount(t){const e=t.__qtouchswipe;e!==void 0&&(w0(e,"main"),w0(e,"temp"),_r.is.firefox===!0&&zg(t,!1),e.styleCleanup?.(),delete t.__qtouchswipe)}});function lTe(){let t=Object.create(null);return{getCache:(e,n)=>t[e]===void 0?t[e]=typeof n=="function"?n():n:t[e],setCache(e,n){t[e]=n},hasCache(e){return Object.hasOwnProperty.call(t,e)},clearCache(e){e!==void 0?delete t[e]:t=Object.create(null)}}}const uTe={name:{required:!0},disable:Boolean},kV={setup(t,{slots:e}){return()=>he("div",{class:"q-panel scroll",role:"tabpanel"},Mr(e.default))}},cTe={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},fTe=["update:modelValue","beforeTransition","transition"];function dTe(){const{props:t,emit:e,proxy:n}=Lt(),{getCache:r}=lTe(),{registerTimeout:i}=pv();let o,a;const s=we(null),l={value:null};function u(T){const I=t.vertical===!0?"up":"left";k((n.$q.lang.rtl===!0?-1:1)*(T.direction===I?1:-1))}const c=re(()=>[[sTe,u,void 0,{horizontal:t.vertical!==!0,vertical:t.vertical,mouse:!0}]]),f=re(()=>t.transitionPrev||`slide-${t.vertical===!0?"down":"right"}`),d=re(()=>t.transitionNext||`slide-${t.vertical===!0?"up":"left"}`),h=re(()=>`--q-transition-duration: ${t.transitionDuration}ms`),p=re(()=>typeof t.modelValue=="string"||typeof t.modelValue=="number"?t.modelValue:String(t.modelValue)),m=re(()=>({include:t.keepAliveInclude,exclude:t.keepAliveExclude,max:t.keepAliveMax})),g=re(()=>t.keepAliveInclude!==void 0||t.keepAliveExclude!==void 0);We(()=>t.modelValue,(T,I)=>{const O=w(T)===!0?x(T):-1;a!==!0&&_(O===-1?0:O<x(I)?-1:1),l.value!==O&&(l.value=O,e("beforeTransition",T,I),i(()=>{e("transition",T,I)},t.transitionDuration))});function v(){k(1)}function y(){k(-1)}function b(T){e("update:modelValue",T)}function w(T){return T!=null&&T!==""}function x(T){return o.findIndex(I=>I.props.name===T&&I.props.disable!==""&&I.props.disable!==!0)}function S(){return o.filter(T=>T.props.disable!==""&&T.props.disable!==!0)}function _(T){const I=T!==0&&t.animated===!0&&l.value!==-1?"q-transition--"+(T===-1?f.value:d.value):null;s.value!==I&&(s.value=I)}function k(T,I=l.value){let O=I+T;for(;O!==-1&&O<o.length;){const q=o[O];if(q!==void 0&&q.props.disable!==""&&q.props.disable!==!0){_(T),a=!0,e("update:modelValue",q.props.name),setTimeout(()=>{a=!1});return}O+=T}t.infinite===!0&&o.length!==0&&I!==-1&&I!==o.length&&k(T,T===-1?o.length:-1)}function C(){const T=x(t.modelValue);return l.value!==T&&(l.value=T),!0}function E(){const T=w(t.modelValue)===!0&&C()&&o[l.value];return t.keepAlive===!0?[he(cre,m.value,[he(g.value===!0?r(p.value,()=>({...kV,name:p.value})):kV,{key:p.value,style:h.value},()=>T)])]:[he("div",{class:"q-panel scroll",style:h.value,key:p.value,role:"tabpanel"},[T])]}function M(){if(o.length!==0)return t.animated===!0?[he(Hd,{name:s.value},E)]:E()}function A(T){return o=H8e(Mr(T.default,[])).filter(I=>I.props!==null&&I.props.slot===void 0&&w(I.props.name)===!0),o.length}function N(){return o}return Object.assign(n,{next:v,previous:y,goTo:b}),{panelIndex:l,panelDirectives:c,updatePanelsList:A,updatePanelIndex:C,getPanelContent:M,getEnabledPanels:S,getPanels:N,isValidPanelName:w,keepAliveProps:m,needsUniqueKeepAliveWrapper:g,goToPanelByOffset:k,goToPanel:b,nextPanel:v,previousPanel:y}}const HM=cn({name:"QTabPanel",props:uTe,setup(t,{slots:e}){return()=>he("div",{class:"q-tab-panel",role:"tabpanel"},Mr(e.default))}});function hTe(t){return t??null}function EV(t,e){return t??(e===!0?`f_${VM()}`:null)}function pTe({getValue:t,required:e=!0}={}){if(Qu.value===!0){const n=we(t!==void 0?hTe(t()):null);return e===!0&&n.value===null&&kt(()=>{n.value=`f_${VM()}`}),t!==void 0&&We(t,r=>{n.value=EV(r,e)}),n}return t!==void 0?re(()=>EV(t(),e)):we(`f_${VM()}`)}const AV=/^on[A-Z]/;function mTe(){const{attrs:t,vnode:e}=Lt(),n={listeners:we({}),attributes:we({})};function r(){const i={},o={};for(const a in t)a!=="class"&&a!=="style"&&AV.test(a)===!1&&(i[a]=t[a]);for(const a in e.props)AV.test(a)===!0&&(o[a]=e.props[a]);n.attributes.value=i,n.listeners.value=o}return Uw(r),r(),n}function gTe({validate:t,resetValidation:e,requiresQForm:n}){const r=rr(uke,!1);if(r!==!1){const{props:i,proxy:o}=Lt();Object.assign(o,{validate:t,resetValidation:e}),We(()=>i.disable,a=>{a===!0?(typeof e=="function"&&e(),r.unbindComponent(o)):r.bindComponent(o)}),kt(()=>{i.disable!==!0&&r.bindComponent(o)}),On(()=>{i.disable!==!0&&r.unbindComponent(o)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const TV=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,MV=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,DV=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,hx=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,px=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,eA={date:t=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(t),time:t=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(t),fulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(t),timeOrFulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(t),email:t=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),hexColor:t=>TV.test(t),hexaColor:t=>MV.test(t),hexOrHexaColor:t=>DV.test(t),rgbColor:t=>hx.test(t),rgbaColor:t=>px.test(t),rgbOrRgbaColor:t=>hx.test(t)||px.test(t),hexOrRgbColor:t=>TV.test(t)||hx.test(t),hexaOrRgbaColor:t=>MV.test(t)||px.test(t),anyColor:t=>DV.test(t)||hx.test(t)||px.test(t)};function nk(t,e=250,n){let r=null;function i(){const o=arguments,a=()=>{r=null,t.apply(this,o)};r!==null&&clearTimeout(r),r=setTimeout(a,e)}return i.cancel=()=>{r!==null&&clearTimeout(r)},i}const vTe=[!0,!1,"ondemand"],yTe={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:t=>vTe.includes(t)}};function bTe(t,e){const{props:n,proxy:r}=Lt(),i=we(!1),o=we(null),a=we(!1);gTe({validate:m,resetValidation:p});let s=0,l;const u=re(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),c=re(()=>n.disable!==!0&&u.value===!0&&e.value===!1),f=re(()=>n.error===!0||i.value===!0),d=re(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:o.value);We(()=>n.modelValue,()=>{a.value=!0,c.value===!0&&n.lazyRules===!1&&g()});function h(){n.lazyRules!=="ondemand"&&c.value===!0&&a.value===!0&&g()}We(()=>n.reactiveRules,v=>{v===!0?l===void 0&&(l=We(()=>n.rules,h,{immediate:!0,deep:!0})):l!==void 0&&(l(),l=void 0)},{immediate:!0}),We(()=>n.lazyRules,h),We(t,v=>{v===!0?a.value=!0:c.value===!0&&n.lazyRules!=="ondemand"&&g()});function p(){s++,e.value=!1,a.value=!1,i.value=!1,o.value=null,g.cancel()}function m(v=n.modelValue){if(n.disable===!0||u.value===!1)return!0;const y=++s,b=e.value!==!0?()=>{a.value=!0}:()=>{},w=(S,_)=>{S===!0&&b(),i.value=S,o.value=_||null,e.value=!1},x=[];for(let S=0;S<n.rules.length;S++){const _=n.rules[S];let k;if(typeof _=="function"?k=_(v,eA):typeof _=="string"&&eA[_]!==void 0&&(k=eA[_](v)),k===!1||typeof k=="string")return w(!0,k),!1;k!==!0&&k!==void 0&&x.push(k)}return x.length===0?(w(!1),!0):(e.value=!0,Promise.all(x).then(S=>{if(S===void 0||Array.isArray(S)===!1||S.length===0)return y===s&&w(!1),!0;const _=S.find(k=>k===!1||typeof k=="string");return y===s&&w(_!==void 0,_),_===void 0},S=>(y===s&&(console.error(S),w(!0)),!1)))}const g=nk(m,0);return On(()=>{l?.(),g.cancel()}),Object.assign(r,{resetValidation:p,validate:m}),Q0(r,"hasError",()=>f.value),{isDirtyModel:a,hasRules:u,hasError:f,errorMessage:d,validate:m,resetValidation:p}}function P3(t){return t!=null&&(""+t).length!==0}const wTe={...ra,...yTe,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},rk={...wTe,maxlength:[Number,String]},lP=["update:modelValue","clear","focus","blur"];function uP({requiredForAttr:t=!0,tagProp:e,changeEvent:n=!1}={}){const{props:r,proxy:i}=Lt(),o=ia(r,i.$q),a=pTe({required:t,getValue:()=>r.for});return{requiredForAttr:t,changeEvent:n,tag:e===!0?re(()=>r.tag):{value:"label"},isDark:o,editable:re(()=>r.disable!==!0&&r.readonly!==!0),innerLoading:we(!1),focused:we(!1),hasPopupOpen:!1,splitAttrs:mTe(),targetUid:a,rootRef:we(null),targetRef:we(null),controlRef:we(null)}}function cP(t){const{props:e,emit:n,slots:r,attrs:i,proxy:o}=Lt(),{$q:a}=o;let s=null;t.hasValue===void 0&&(t.hasValue=re(()=>P3(e.modelValue))),t.emitValue===void 0&&(t.emitValue=L=>{n("update:modelValue",L)}),t.controlEvents===void 0&&(t.controlEvents={onFocusin:C,onFocusout:E}),Object.assign(t,{clearValue:M,onControlFocusin:C,onControlFocusout:E,focus:_}),t.computedCounter===void 0&&(t.computedCounter=re(()=>{if(e.counter!==!1){const L=typeof e.modelValue=="string"||typeof e.modelValue=="number"?(""+e.modelValue).length:Array.isArray(e.modelValue)===!0?e.modelValue.length:0,Y=e.maxlength!==void 0?e.maxlength:e.maxValues;return L+(Y!==void 0?" / "+Y:"")}}));const{isDirtyModel:l,hasRules:u,hasError:c,errorMessage:f,resetValidation:d}=bTe(t.focused,t.innerLoading),h=t.floatingLabel!==void 0?re(()=>e.stackLabel===!0||t.focused.value===!0||t.floatingLabel.value===!0):re(()=>e.stackLabel===!0||t.focused.value===!0||t.hasValue.value===!0),p=re(()=>e.bottomSlots===!0||e.hint!==void 0||u.value===!0||e.counter===!0||e.error!==null),m=re(()=>e.filled===!0?"filled":e.outlined===!0?"outlined":e.borderless===!0?"borderless":e.standout?"standout":"standard"),g=re(()=>`q-field row no-wrap items-start q-field--${m.value}`+(t.fieldClass!==void 0?` ${t.fieldClass.value}`:"")+(e.rounded===!0?" q-field--rounded":"")+(e.square===!0?" q-field--square":"")+(h.value===!0?" q-field--float":"")+(y.value===!0?" q-field--labeled":"")+(e.dense===!0?" q-field--dense":"")+(e.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(t.isDark.value===!0?" q-field--dark":"")+(t.getControl===void 0?" q-field--auto-height":"")+(t.focused.value===!0?" q-field--focused":"")+(c.value===!0?" q-field--error":"")+(c.value===!0||t.focused.value===!0?" q-field--highlighted":"")+(e.hideBottomSpace!==!0&&p.value===!0?" q-field--with-bottom":"")+(e.disable===!0?" q-field--disabled":e.readonly===!0?" q-field--readonly":"")),v=re(()=>"q-field__control relative-position row no-wrap"+(e.bgColor!==void 0?` bg-${e.bgColor}`:"")+(c.value===!0?" text-negative":typeof e.standout=="string"&&e.standout.length!==0&&t.focused.value===!0?` ${e.standout}`:e.color!==void 0?` text-${e.color}`:"")),y=re(()=>e.labelSlot===!0||e.label!==void 0),b=re(()=>"q-field__label no-pointer-events absolute ellipsis"+(e.labelColor!==void 0&&c.value!==!0?` text-${e.labelColor}`:"")),w=re(()=>({id:t.targetUid.value,editable:t.editable.value,focused:t.focused.value,floatingLabel:h.value,modelValue:e.modelValue,emitValue:t.emitValue})),x=re(()=>{const L={};return t.targetUid.value&&(L.for=t.targetUid.value),e.disable===!0&&(L["aria-disabled"]="true"),L});function S(){const L=document.activeElement;let Y=t.targetRef?.value;Y&&(L===null||L.id!==t.targetUid.value)&&(Y.hasAttribute("tabindex")===!0||(Y=Y.querySelector("[tabindex]")),Y!==L&&Y?.focus({preventScroll:!0}))}function _(){X8(S)}function k(){Eke(S);const L=document.activeElement;L!==null&&t.rootRef.value.contains(L)&&L.blur()}function C(L){s!==null&&(clearTimeout(s),s=null),t.editable.value===!0&&t.focused.value===!1&&(t.focused.value=!0,n("focus",L))}function E(L,Y){s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,!(document.hasFocus()===!0&&(t.hasPopupOpen===!0||t.controlRef===void 0||t.controlRef.value===null||t.controlRef.value.contains(document.activeElement)!==!1))&&(t.focused.value===!0&&(t.focused.value=!1,n("blur",L)),Y?.())})}function M(L){zr(L),a.platform.is.mobile!==!0?(t.targetRef?.value||t.rootRef.value).focus():t.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),e.type==="file"&&(t.inputRef.value.value=null),n("update:modelValue",null),t.changeEvent===!0&&n("change",null),n("clear",e.modelValue),Tn(()=>{const Y=l.value;d(),l.value=Y})}function A(L){[13,32].includes(L.keyCode)&&M(L)}function N(){const L=[];return r.prepend!==void 0&&L.push(he("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Ua},r.prepend())),L.push(he("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},T())),c.value===!0&&e.noErrorIcon===!1&&L.push(O("error",[he(Jo,{name:a.iconSet.field.error,color:"negative"})])),e.loading===!0||t.innerLoading.value===!0?L.push(O("inner-loading-append",r.loading!==void 0?r.loading():[he(C3,{color:e.color})])):e.clearable===!0&&t.hasValue.value===!0&&t.editable.value===!0&&L.push(O("inner-clearable-append",[he(Jo,{class:"q-field__focusable-action",name:e.clearIcon||a.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":a.lang.label.clear,onKeyup:A,onClick:M})])),r.append!==void 0&&L.push(he("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Ua},r.append())),t.getInnerAppend!==void 0&&L.push(O("inner-append",t.getInnerAppend())),t.getControlChild!==void 0&&L.push(t.getControlChild()),L}function T(){const L=[];return e.prefix!==void 0&&e.prefix!==null&&L.push(he("div",{class:"q-field__prefix no-pointer-events row items-center"},e.prefix)),t.getShadowControl!==void 0&&t.hasShadow.value===!0&&L.push(t.getShadowControl()),t.getControl!==void 0?L.push(t.getControl()):r.rawControl!==void 0?L.push(r.rawControl()):r.control!==void 0&&L.push(he("div",{ref:t.targetRef,class:"q-field__native row",tabindex:-1,...t.splitAttrs.attributes.value,"data-autofocus":e.autofocus===!0||void 0},r.control(w.value))),y.value===!0&&L.push(he("div",{class:b.value},Mr(r.label,e.label))),e.suffix!==void 0&&e.suffix!==null&&L.push(he("div",{class:"q-field__suffix no-pointer-events row items-center"},e.suffix)),L.concat(Mr(r.default))}function I(){let L,Y;c.value===!0?f.value!==null?(L=[he("div",{role:"alert"},f.value)],Y=`q--slot-error-${f.value}`):(L=Mr(r.error),Y="q--slot-error"):(e.hideHint!==!0||t.focused.value===!0)&&(e.hint!==void 0?(L=[he("div",e.hint)],Y=`q--slot-hint-${e.hint}`):(L=Mr(r.hint),Y="q--slot-hint"));const R=e.counter===!0||r.counter!==void 0;if(e.hideBottomSpace===!0&&R===!1&&L===void 0)return;const B=he("div",{key:Y,class:"q-field__messages col"},L);return he("div",{class:"q-field__bottom row items-start q-field__bottom--"+(e.hideBottomSpace!==!0?"animated":"stale"),onClick:Ua},[e.hideBottomSpace===!0?B:he(Hd,{name:"q-transition--field-message"},()=>B),R===!0?he("div",{class:"q-field__counter"},r.counter!==void 0?r.counter():t.computedCounter.value):null])}function O(L,Y){return Y===null?null:he("div",{key:L,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},Y)}let q=!1;return Z0(()=>{q=!0}),iy(()=>{q===!0&&e.autofocus===!0&&o.focus()}),e.autofocus===!0&&kt(()=>{o.focus()}),On(()=>{s!==null&&clearTimeout(s)}),Object.assign(o,{focus:_,blur:k}),function(){const Y=t.getControl===void 0&&r.control===void 0?{...t.splitAttrs.attributes.value,"data-autofocus":e.autofocus===!0||void 0,...x.value}:x.value;return he(t.tag.value,{ref:t.rootRef,class:[g.value,i.class],style:i.style,...Y},[r.before!==void 0?he("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Ua},r.before()):null,he("div",{class:"q-field__inner relative-position col self-stretch"},[he("div",{ref:t.controlRef,class:v.value,tabindex:-1,...t.controlEvents},N()),p.value===!0?I():null]),r.after!==void 0?he("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Ua},r.after()):null])}}const xTe=cn({name:"QField",inheritAttrs:!1,props:{...rk,tag:{type:String,default:"label"}},emits:lP,setup(){return cP(uP({tagProp:!0}))}}),STe={xs:8,sm:10,md:14,lg:20,xl:24},_Te=cn({name:"QChip",props:{...ra,...oy,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(t,{slots:e,emit:n}){const{proxy:{$q:r}}=Lt(),i=ia(t,r),o=ay(t,STe),a=re(()=>t.selected===!0||t.icon!==void 0),s=re(()=>t.selected===!0?t.iconSelected||r.iconSet.chip.selected:t.icon),l=re(()=>t.iconRemove||r.iconSet.chip.remove),u=re(()=>t.disable===!1&&(t.clickable===!0||t.selected!==null)),c=re(()=>{const g=t.outline===!0&&t.color||t.textColor;return"q-chip row inline no-wrap items-center"+(t.outline===!1&&t.color!==void 0?` bg-${t.color}`:"")+(g?` text-${g} q-chip--colored`:"")+(t.disable===!0?" disabled":"")+(t.dense===!0?" q-chip--dense":"")+(t.outline===!0?" q-chip--outline":"")+(t.selected===!0?" q-chip--selected":"")+(u.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(t.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),f=re(()=>{const g=t.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0},v={...g,role:"button","aria-hidden":"false","aria-label":t.removeAriaLabel||r.lang.label.remove};return{chip:g,remove:v}});function d(g){g.keyCode===13&&h(g)}function h(g){t.disable||(n("update:selected",!t.selected),n("click",g))}function p(g){(g.keyCode===void 0||g.keyCode===13)&&(zr(g),t.disable===!1&&(n("update:modelValue",!1),n("remove")))}function m(){const g=[];u.value===!0&&g.push(he("div",{class:"q-focus-helper"})),a.value===!0&&g.push(he(Jo,{class:"q-chip__icon q-chip__icon--left",name:s.value}));const v=t.label!==void 0?[he("div",{class:"ellipsis"},[t.label])]:void 0;return g.push(he("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Hie(e.default,v))),t.iconRight&&g.push(he(Jo,{class:"q-chip__icon q-chip__icon--right",name:t.iconRight})),t.removable===!0&&g.push(he(Jo,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:l.value,...f.value.remove,onClick:p,onKeyup:p})),g}return()=>{if(t.modelValue===!1)return;const g={class:c.value,style:o.value};return u.value===!0&&Object.assign(g,f.value.chip,{onClick:h,onKeyup:d}),_3("div",g,m(),"ripple",t.ripple!==!1&&t.disable!==!0,()=>[[vd,t.ripple]])}}}),CTe=cn({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(t,{slots:e}){const n=re(()=>parseInt(t.lines,10)),r=re(()=>"q-item__label"+(t.overline===!0?" q-item__label--overline text-overline":"")+(t.caption===!0?" q-item__label--caption text-caption":"")+(t.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),i=re(()=>t.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>he("div",{style:i.value,class:r.value},Mr(e.default))}}),kTe={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},wae={...kTe,contextMenu:Boolean};function xae({showing:t,avoidEmit:e,configureAnchorEl:n}){const{props:r,proxy:i,emit:o}=Lt(),a=we(null);let s=null;function l(h){return a.value===null?!1:h===void 0||h.touches===void 0||h.touches.length<=1}const u={};n===void 0&&(Object.assign(u,{hide(h){i.hide(h)},toggle(h){i.toggle(h),h.qAnchorHandled=!0},toggleKey(h){af(h,13)===!0&&u.toggle(h)},contextClick(h){i.hide(h),Ua(h),Tn(()=>{i.show(h),h.qAnchorHandled=!0})},prevent:Ua,mobileTouch(h){if(u.mobileCleanup(h),l(h)!==!0)return;i.hide(h),a.value.classList.add("non-selectable");const p=h.target;Wu(u,"anchor",[[p,"touchmove","mobileCleanup","passive"],[p,"touchend","mobileCleanup","passive"],[p,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,i.show(h),h.qAnchorHandled=!0},300)},mobileCleanup(h){a.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),t.value===!0&&h!==void 0&&WI()}}),n=function(h=r.contextMenu){if(r.noParentEvent===!0||a.value===null)return;let p;h===!0?i.$q.platform.is.mobile===!0?p=[[a.value,"touchstart","mobileTouch","passive"]]:p=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:p=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],Wu(u,"anchor",p)});function c(){w0(u,"anchor")}function f(h){for(a.value=h;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;n()}function d(){if(r.target===!1||r.target===""||i.$el.parentNode===null)a.value=null;else if(r.target===!0)f(i.$el.parentNode);else{let h=r.target;if(typeof r.target=="string")try{h=document.querySelector(r.target)}catch{h=void 0}h!=null?(a.value=h.$el||h,n()):(a.value=null,console.error(`Anchor: target "${r.target}" not found`))}}return We(()=>r.contextMenu,h=>{a.value!==null&&(c(),n(h))}),We(()=>r.target,()=>{a.value!==null&&c(),d()}),We(()=>r.noParentEvent,h=>{a.value!==null&&(h===!0?c():n())}),kt(()=>{d(),e!==!0&&r.modelValue===!0&&a.value===null&&o("update:modelValue",!1)}),On(()=>{s!==null&&clearTimeout(s),c()}),{anchorEl:a,canShow:l,anchorEvents:u}}function ETe(t,e){const n=we(null);let r;function i(s,l){const u=`${l!==void 0?"add":"remove"}EventListener`,c=l!==void 0?l:r;s!==window&&s[u]("scroll",c,Zi.passive),window[u]("scroll",c,Zi.passive),r=l}function o(){n.value!==null&&(i(n.value),n.value=null)}const a=We(()=>t.noParentEvent,()=>{n.value!==null&&(o(),e())});return On(a),{localScrollTarget:n,unconfigureScrollTarget:o,changeScrollEvent:i}}const{notPassiveCapture:$_}=Zi,Em=[];function B_(t){const e=t.target;if(e===void 0||e.nodeType===8||e.classList.contains("no-pointer-events")===!0)return;let n=qg.length-1;for(;n>=0;){const r=qg[n].$;if(r.type.name==="QTooltip"){n--;continue}if(r.type.name!=="QDialog")break;if(r.props.seamless!==!0)return;n--}for(let r=Em.length-1;r>=0;r--){const i=Em[r];if((i.anchorEl.value===null||i.anchorEl.value.contains(e)===!1)&&(e===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(e)===!1))t.qClickOutside=!0,i.onClickOutside(t);else return}}function ATe(t){Em.push(t),Em.length===1&&(document.addEventListener("mousedown",B_,$_),document.addEventListener("touchstart",B_,$_))}function NV(t){const e=Em.findIndex(n=>n===t);e!==-1&&(Em.splice(e,1),Em.length===0&&(document.removeEventListener("mousedown",B_,$_),document.removeEventListener("touchstart",B_,$_)))}let OV,IV;function PV(t){const e=t.split(" ");return e.length!==2?!1:["top","center","bottom"].includes(e[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(e[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function TTe(t){return t?!(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number"):!0}const UM={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(t=>{UM[`${t}#ltr`]=t,UM[`${t}#rtl`]=t});function RV(t,e){const n=t.split(" ");return{vertical:n[0],horizontal:UM[`${n[1]}#${e===!0?"rtl":"ltr"}`]}}function MTe(t,e){let{top:n,left:r,right:i,bottom:o,width:a,height:s}=t.getBoundingClientRect();return e!==void 0&&(n-=e[1],r-=e[0],o+=e[1],i+=e[0],a+=e[0],s+=e[1]),{top:n,bottom:o,height:s,left:r,right:i,width:a,middle:r+(i-r)/2,center:n+(o-n)/2}}function DTe(t,e,n){let{top:r,left:i}=t.getBoundingClientRect();return r+=e.top,i+=e.left,n!==void 0&&(r+=n[1],i+=n[0]),{top:r,bottom:r+1,height:1,left:i,right:i+1,width:1,middle:i,center:r}}function NTe(t,e){return{top:0,center:e/2,bottom:e,left:0,middle:t/2,right:t}}function FV(t,e,n,r){return{top:t[n.vertical]-e[r.vertical],left:t[n.horizontal]-e[r.horizontal]}}function Sae(t,e=0){if(t.targetEl===null||t.anchorEl===null||e>5)return;if(t.targetEl.offsetHeight===0||t.targetEl.offsetWidth===0){setTimeout(()=>{Sae(t,e+1)},10);return}const{targetEl:n,offset:r,anchorEl:i,anchorOrigin:o,selfOrigin:a,absoluteOffset:s,fit:l,cover:u,maxHeight:c,maxWidth:f}=t;if(_r.is.ios===!0&&window.visualViewport!==void 0){const S=document.body.style,{offsetLeft:_,offsetTop:k}=window.visualViewport;_!==OV&&(S.setProperty("--q-pe-left",_+"px"),OV=_),k!==IV&&(S.setProperty("--q-pe-top",k+"px"),IV=k)}const{scrollLeft:d,scrollTop:h}=n,p=s===void 0?MTe(i,u===!0?[0,0]:r):DTe(i,s,r);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:f,maxHeight:c,visibility:"visible"});const{offsetWidth:m,offsetHeight:g}=n,{elWidth:v,elHeight:y}=l===!0||u===!0?{elWidth:Math.max(p.width,m),elHeight:u===!0?Math.max(p.height,g):g}:{elWidth:m,elHeight:g};let b={maxWidth:f,maxHeight:c};(l===!0||u===!0)&&(b.minWidth=p.width+"px",u===!0&&(b.minHeight=p.height+"px")),Object.assign(n.style,b);const w=NTe(v,y);let x=FV(p,w,o,a);if(s===void 0||r===void 0)tA(x,p,w,o,a);else{const{top:S,left:_}=x;tA(x,p,w,o,a);let k=!1;if(x.top!==S){k=!0;const C=2*r[1];p.center=p.top-=C,p.bottom-=C+2}if(x.left!==_){k=!0;const C=2*r[0];p.middle=p.left-=C,p.right-=C+2}k===!0&&(x=FV(p,w,o,a),tA(x,p,w,o,a))}b={top:x.top+"px",left:x.left+"px"},x.maxHeight!==void 0&&(b.maxHeight=x.maxHeight+"px",p.height>x.maxHeight&&(b.minHeight=b.maxHeight)),x.maxWidth!==void 0&&(b.maxWidth=x.maxWidth+"px",p.width>x.maxWidth&&(b.minWidth=b.maxWidth)),Object.assign(n.style,b),n.scrollTop!==h&&(n.scrollTop=h),n.scrollLeft!==d&&(n.scrollLeft=d)}function tA(t,e,n,r,i){const o=n.bottom,a=n.right,s=B6(),l=window.innerHeight-s,u=document.body.clientWidth;if(t.top<0||t.top+o>l)if(i.vertical==="center")t.top=e[r.vertical]>l/2?Math.max(0,l-o):0,t.maxHeight=Math.min(o,l);else if(e[r.vertical]>l/2){const c=Math.min(l,r.vertical==="center"?e.center:r.vertical===i.vertical?e.bottom:e.top);t.maxHeight=Math.min(o,c),t.top=Math.max(0,c-o)}else t.top=Math.max(0,r.vertical==="center"?e.center:r.vertical===i.vertical?e.top:e.bottom),t.maxHeight=Math.min(o,l-t.top);if(t.left<0||t.left+a>u)if(t.maxWidth=Math.min(a,u),i.horizontal==="middle")t.left=e[r.horizontal]>u/2?Math.max(0,u-a):0;else if(e[r.horizontal]>u/2){const c=Math.min(u,r.horizontal==="middle"?e.middle:r.horizontal===i.horizontal?e.right:e.left);t.maxWidth=Math.min(a,c),t.left=Math.max(0,c-t.maxWidth)}else t.left=Math.max(0,r.horizontal==="middle"?e.middle:r.horizontal===i.horizontal?e.left:e.right),t.maxWidth=Math.min(a,u-t.left)}const fP=cn({name:"QMenu",inheritAttrs:!1,props:{...wae,...zI,...ra,...voe,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:PV},self:{type:String,validator:PV},offset:{type:Array,validator:TTe},scrollTarget:uoe,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...qI,"click","escapeKey"],setup(t,{slots:e,emit:n,attrs:r}){let i=null,o,a,s;const l=Lt(),{proxy:u}=l,{$q:c}=u,f=we(null),d=we(!1),h=re(()=>t.persistent!==!0&&t.noRouteDismiss!==!0),p=ia(t,c),{registerTick:m,removeTick:g}=M2(),{registerTimeout:v}=pv(),{transitionProps:y,transitionStyle:b}=yoe(t),{localScrollTarget:w,changeScrollEvent:x,unconfigureScrollTarget:S}=ETe(t,P),{anchorEl:_,canShow:k}=xae({showing:d}),{hide:C}=VI({showing:d,canShow:k,handleShow:R,handleHide:B,hideOnRouteChange:h,processOnMount:!0}),{showPortal:E,hidePortal:M,renderPortal:A}=_oe(l,f,te,"menu"),N={anchorEl:_,innerRef:f,onClickOutside(J){if(t.persistent!==!0&&d.value===!0)return C(J),(J.type==="touchstart"||J.target.classList.contains("q-dialog__backdrop"))&&zr(J),!0}},T=re(()=>RV(t.anchor||(t.cover===!0?"center middle":"bottom start"),c.lang.rtl)),I=re(()=>t.cover===!0?T.value:RV(t.self||"top start",c.lang.rtl)),O=re(()=>(t.square===!0?" q-menu--square":"")+(p.value===!0?" q-menu--dark q-dark":"")),q=re(()=>t.autoClose===!0?{onClick:$}:{}),L=re(()=>d.value===!0&&t.persistent!==!0);We(L,J=>{J===!0?(koe(K),ATe(N)):(R_(K),NV(N))});function Y(){X8(()=>{let J=f.value;J&&J.contains(document.activeElement)!==!0&&(J=J.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||J.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||J.querySelector("[autofocus], [data-autofocus]")||J,J.focus({preventScroll:!0}))})}function R(J){if(i=t.noRefocus===!1?document.activeElement:null,Aoe(X),E(),P(),o=void 0,J!==void 0&&(t.touchPosition||t.contextMenu)){const fe=jd(J);if(fe.left!==void 0){const{top:ue,left:de}=_.value.getBoundingClientRect();o={left:fe.left-de,top:fe.top-ue}}}a===void 0&&(a=We(()=>c.screen.width+"|"+c.screen.height+"|"+t.self+"|"+t.anchor+"|"+c.lang.rtl,Z)),t.noFocus!==!0&&document.activeElement.blur(),m(()=>{Z(),t.noFocus!==!0&&Y()}),v(()=>{c.platform.is.ios===!0&&(s=t.autoClose,f.value.click()),Z(),E(!0),n("show",J)},t.transitionDuration)}function B(J){g(),M(),z(!0),i!==null&&(J===void 0||J.qClickOutside!==!0)&&(((J?.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),v(()=>{M(!0),n("hide",J)},t.transitionDuration)}function z(J){o=void 0,a!==void 0&&(a(),a=void 0),(J===!0||d.value===!0)&&(TM(X),S(),NV(N),R_(K)),J!==!0&&(i=null)}function P(){(_.value!==null||t.scrollTarget!==void 0)&&(w.value=coe(_.value,t.scrollTarget),x(w.value,Z))}function $(J){s!==!0?(Soe(u,J),n("click",J)):s=!1}function X(J){L.value===!0&&t.noFocus!==!0&&Gie(f.value,J.target)!==!0&&Y()}function K(J){t.noEscDismiss!==!0&&(n("escapeKey"),C(J))}function Z(){Sae({targetEl:f.value,offset:t.offset,anchorEl:_.value,anchorOrigin:T.value,selfOrigin:I.value,absoluteOffset:o,fit:t.fit,cover:t.cover,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function te(){return he(Hd,y.value,()=>d.value===!0?he("div",{role:"menu",...r,ref:f,tabindex:-1,class:["q-menu q-position-engine scroll"+O.value,r.class],style:[r.style,b.value],...q.value},Mr(e.default)):null)}return On(z),Object.assign(u,{focus:Y,updatePosition:Z}),A}}),Vu=1e3,OTe=["start","center","end","start-force","center-force","end-force"],_ae=Array.prototype.filter,ITe=window.getComputedStyle(document.body).overflowAnchor===void 0?of:function(t,e){t!==null&&(t._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(t._qOverflowAnimationFrame),t._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(t===null)return;t._qOverflowAnimationFrame=void 0;const n=t.children||[];_ae.call(n,i=>i.dataset&&i.dataset.qVsAnchor!==void 0).forEach(i=>{delete i.dataset.qVsAnchor});const r=n[e];r?.dataset&&(r.dataset.qVsAnchor="")}))};function Hg(t,e){return t+e}function nA(t,e,n,r,i,o,a,s){const l=t===window?document.scrollingElement||document.documentElement:t,u=i===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-a-s,scrollMaxSize:0,offsetStart:-a,offsetEnd:-s};if(i===!0?(t===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=l.scrollLeft,c.scrollViewSize+=l.clientWidth),c.scrollMaxSize=l.scrollWidth,o===!0&&(c.scrollStart=(I3===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(t===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=l.scrollTop,c.scrollViewSize+=l.clientHeight),c.scrollMaxSize=l.scrollHeight),n!==null)for(let f=n.previousElementSibling;f!==null;f=f.previousElementSibling)f.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=f[u]);if(r!==null)for(let f=r.nextElementSibling;f!==null;f=f.nextElementSibling)f.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=f[u]);if(e!==t){const f=l.getBoundingClientRect(),d=e.getBoundingClientRect();i===!0?(c.offsetStart+=d.left-f.left,c.offsetEnd-=d.width):(c.offsetStart+=d.top-f.top,c.offsetEnd-=d.height),t!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function LV(t,e,n,r){e==="end"&&(e=(t===window?document.body:t)[n===!0?"scrollWidth":"scrollHeight"]),t===window?n===!0?(r===!0&&(e=(I3===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-e),window.scrollTo(e,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,e):n===!0?(r===!0&&(e=(I3===!0?t.scrollWidth-t.offsetWidth:0)-e),t.scrollLeft=e):t.scrollTop=e}function rb(t,e,n,r){if(n>=r)return 0;const i=e.length,o=Math.floor(n/Vu),a=Math.floor((r-1)/Vu)+1;let s=t.slice(o,a).reduce(Hg,0);return n%Vu!==0&&(s-=e.slice(o*Vu,n).reduce(Hg,0)),r%Vu!==0&&r!==i&&(s-=e.slice(r,a*Vu).reduce(Hg,0)),s}const PTe={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},$V={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...PTe};function RTe({virtualScrollLength:t,getVirtualScrollTarget:e,getVirtualScrollEl:n,virtualScrollItemSizeComputed:r}){const i=Lt(),{props:o,emit:a,proxy:s}=i,{$q:l}=s;let u,c,f,d=[],h;const p=we(0),m=we(0),g=we({}),v=we(null),y=we(null),b=we(null),w=we({from:0,to:0}),x=re(()=>o.tableColspan!==void 0?o.tableColspan:100);r===void 0&&(r=re(()=>o.virtualScrollItemSize));const S=re(()=>r.value+";"+o.virtualScrollHorizontal),_=re(()=>S.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);We(_,()=>{O()}),We(S,k);function k(){I(c,!0)}function C(B){I(B===void 0?c:B)}function E(B,z){const P=e();if(P==null||P.nodeType===8)return;const $=nA(P,n(),v.value,y.value,o.virtualScrollHorizontal,l.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);f!==$.scrollViewSize&&O($.scrollViewSize),A(P,$,Math.min(t.value-1,Math.max(0,parseInt(B,10)||0)),0,OTe.indexOf(z)!==-1?z:c!==-1&&B>c?"end":"start")}function M(){const B=e();if(B==null||B.nodeType===8)return;const z=nA(B,n(),v.value,y.value,o.virtualScrollHorizontal,l.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),P=t.value-1,$=z.scrollMaxSize-z.offsetStart-z.offsetEnd-m.value;if(u===z.scrollStart)return;if(z.scrollMaxSize<=0){A(B,z,0,0);return}f!==z.scrollViewSize&&O(z.scrollViewSize),N(w.value.from);const X=Math.floor(z.scrollMaxSize-Math.max(z.scrollViewSize,z.offsetEnd)-Math.min(h[P],z.scrollViewSize/2));if(X>0&&Math.ceil(z.scrollStart)>=X){A(B,z,P,z.scrollMaxSize-z.offsetEnd-d.reduce(Hg,0));return}let K=0,Z=z.scrollStart-z.offsetStart,te=Z;if(Z<=$&&Z+z.scrollViewSize>=p.value)Z-=p.value,K=w.value.from,te=Z;else for(let J=0;Z>=d[J]&&K<P;J++)Z-=d[J],K+=Vu;for(;Z>0&&K<P;)Z-=h[K],Z>-z.scrollViewSize?(K++,te=Z):te=h[K]+Z;A(B,z,K,te)}function A(B,z,P,$,X){const K=typeof X=="string"&&X.indexOf("-force")!==-1,Z=K===!0?X.replace("-force",""):X,te=Z!==void 0?Z:"start";let J=Math.max(0,P-g.value[te]),fe=J+g.value.total;fe>t.value&&(fe=t.value,J=Math.max(0,fe-g.value.total)),u=z.scrollStart;const ue=J!==w.value.from||fe!==w.value.to;if(ue===!1&&Z===void 0){L(P);return}const{activeElement:de}=document,ee=b.value;ue===!0&&ee!==null&&ee!==de&&ee.contains(de)===!0&&(ee.addEventListener("focusout",T),setTimeout(()=>{ee?.removeEventListener("focusout",T)})),ITe(ee,P-J);const D=Z!==void 0?h.slice(J,P).reduce(Hg,0):0;if(ue===!0){const oe=fe>=w.value.from&&J<=w.value.to?w.value.to:fe;w.value={from:J,to:oe},p.value=rb(d,h,0,J),m.value=rb(d,h,fe,t.value),requestAnimationFrame(()=>{w.value.to!==fe&&u===z.scrollStart&&(w.value={from:w.value.from,to:fe},m.value=rb(d,h,fe,t.value))})}requestAnimationFrame(()=>{if(u!==z.scrollStart)return;ue===!0&&N(J);const oe=h.slice(J,P).reduce(Hg,0),W=oe+z.offsetStart+p.value,V=W+h[P];let F=W+$;if(Z!==void 0){const j=oe-D,se=z.scrollStart+j;F=K!==!0&&se<W&&V<se+z.scrollViewSize?se:Z==="end"?V-z.scrollViewSize:W-(Z==="start"?0:Math.round((z.scrollViewSize-h[P])/2))}u=F,LV(B,F,o.virtualScrollHorizontal,l.lang.rtl),L(P)})}function N(B){const z=b.value;if(z){const P=_ae.call(z.children,J=>J.classList&&J.classList.contains("q-virtual-scroll--skip")===!1),$=P.length,X=o.virtualScrollHorizontal===!0?J=>J.getBoundingClientRect().width:J=>J.offsetHeight;let K=B,Z,te;for(let J=0;J<$;){for(Z=X(P[J]),J++;J<$&&P[J].classList.contains("q-virtual-scroll--with-prev")===!0;)Z+=X(P[J]),J++;te=Z-h[K],te!==0&&(h[K]+=te,d[Math.floor(K/Vu)]+=te),K++}}}function T(){b.value?.focus()}function I(B,z){const P=1*r.value;(z===!0||Array.isArray(h)===!1)&&(h=[]);const $=h.length;h.length=t.value;for(let K=t.value-1;K>=$;K--)h[K]=P;const X=Math.floor((t.value-1)/Vu);d=[];for(let K=0;K<=X;K++){let Z=0;const te=Math.min((K+1)*Vu,t.value);for(let J=K*Vu;J<te;J++)Z+=h[J];d.push(Z)}c=-1,u=void 0,p.value=rb(d,h,0,w.value.from),m.value=rb(d,h,w.value.to,t.value),B>=0?(N(w.value.from),Tn(()=>{E(B)})):Y()}function O(B){if(B===void 0&&typeof window<"u"){const Z=e();Z!=null&&Z.nodeType!==8&&(B=nA(Z,n(),v.value,y.value,o.virtualScrollHorizontal,l.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}f=B;const z=parseFloat(o.virtualScrollSliceRatioBefore)||0,P=parseFloat(o.virtualScrollSliceRatioAfter)||0,$=1+z+P,X=B===void 0||B<=0?1:Math.ceil(B/r.value),K=Math.max(1,X,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/$));g.value={total:Math.ceil(K*$),start:Math.ceil(K*z),center:Math.ceil(K*(.5+z)),end:Math.ceil(K*(1+z)),view:X}}function q(B,z){const P=o.virtualScrollHorizontal===!0?"width":"height",$={["--q-virtual-scroll-item-"+P]:r.value+"px"};return[B==="tbody"?he(B,{class:"q-virtual-scroll__padding",key:"before",ref:v},[he("tr",[he("td",{style:{[P]:`${p.value}px`,...$},colspan:x.value})])]):he(B,{class:"q-virtual-scroll__padding",key:"before",ref:v,style:{[P]:`${p.value}px`,...$}}),he(B,{class:"q-virtual-scroll__content",key:"content",ref:b,tabindex:-1},z.flat()),B==="tbody"?he(B,{class:"q-virtual-scroll__padding",key:"after",ref:y},[he("tr",[he("td",{style:{[P]:`${m.value}px`,...$},colspan:x.value})])]):he(B,{class:"q-virtual-scroll__padding",key:"after",ref:y,style:{[P]:`${m.value}px`,...$}})]}function L(B){c!==B&&(o.onVirtualScroll!==void 0&&a("virtualScroll",{index:B,from:w.value.from,to:w.value.to-1,direction:B<c?"decrease":"increase",ref:s}),c=B)}O();const Y=nk(M,l.platform.is.ios===!0?120:35);SI(()=>{O()});let R=!1;return Z0(()=>{R=!0}),iy(()=>{if(R!==!0)return;const B=e();u!==void 0&&B!==void 0&&B!==null&&B.nodeType!==8?LV(B,u,o.virtualScrollHorizontal,l.lang.rtl):E(c)}),On(()=>{Y.cancel()}),Object.assign(s,{scrollTo:E,reset:k,refresh:C}),{virtualScrollSliceRange:w,virtualScrollSliceSizeComputed:g,setVirtualScrollSize:O,onVirtualScrollEvt:Y,localResetVirtualScroll:I,padVirtualScroll:q,scrollTo:E,reset:k,refresh:C}}const uy={name:String};function Cae(t){return re(()=>({type:"hidden",name:t.name,value:t.modelValue}))}function ik(t={}){return(e,n,r)=>{e[n](he("input",{class:"hidden"+(r||""),...t.value}))}}function kae(t){return re(()=>t.name||t.for)}const FTe=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,LTe=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,$Te=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,BTe=/[a-z0-9_ -]$/i;function Eae(t){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,t(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(_r.is.firefox===!0?BTe.test(n.data)===!1:FTe.test(n.data)===!0||LTe.test(n.data)===!0||$Te.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const BV=t=>["add","add-unique","toggle"].includes(t),zTe=".*+?^${}()|[]\\",qTe=Object.keys(rk);function rA(t,e){if(typeof t=="function")return t;const n=t!==void 0?t:e;return r=>r!==null&&typeof r=="object"&&n in r?r[n]:r}const R3=cn({name:"QSelect",inheritAttrs:!1,props:{...$V,...uy,...rk,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:BV},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:t=>["default","menu","dialog"].includes(t),default:"default"},virtualScrollItemSize:$V.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...lP,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(t,{slots:e,emit:n}){const{proxy:r}=Lt(),{$q:i}=r,o=we(!1),a=we(!1),s=we(-1),l=we(""),u=we(!1),c=we(!1);let f=null,d=null,h,p,m,g=null,v,y,b,w;const x=we(null),S=we(null),_=we(null),k=we(null),C=we(null),E=kae(t),M=Eae(Nr),A=re(()=>Array.isArray(t.options)?t.options.length:0),N=re(()=>t.virtualScrollItemSize===void 0?t.optionsDense===!0?24:48:t.virtualScrollItemSize),{virtualScrollSliceRange:T,virtualScrollSliceSizeComputed:I,localResetVirtualScroll:O,padVirtualScroll:q,onVirtualScrollEvt:L,scrollTo:Y,setVirtualScrollSize:R}=RTe({virtualScrollLength:A,getVirtualScrollTarget:ft,getVirtualScrollEl:Ze,virtualScrollItemSizeComputed:N}),B=uP(),z=re(()=>{const Ne=t.mapOptions===!0&&t.multiple!==!0,st=t.modelValue!==void 0&&(t.modelValue!==null||Ne===!0)?t.multiple===!0&&Array.isArray(t.modelValue)?t.modelValue:[t.modelValue]:[];if(t.mapOptions===!0&&Array.isArray(t.options)===!0){const dt=t.mapOptions===!0&&h!==void 0?h:[],pt=st.map(qt=>Me(qt,dt));return t.modelValue===null&&Ne===!0?pt.filter(qt=>qt!==null):pt}return st}),P=re(()=>{const Ne={};return qTe.forEach(st=>{const dt=t[st];dt!==void 0&&(Ne[st]=dt)}),Ne}),$=re(()=>t.optionsDark===null?B.isDark.value:t.optionsDark),X=re(()=>P3(z.value)),K=re(()=>{let Ne="q-field__input q-placeholder col";return t.hideSelected===!0||z.value.length===0?[Ne,t.inputClass]:(Ne+=" q-field__input--padding",t.inputClass===void 0?Ne:[Ne,t.inputClass])}),Z=re(()=>(t.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(t.popupContentClass?" "+t.popupContentClass:"")),te=re(()=>A.value===0),J=re(()=>z.value.map(Ne=>ae.value(Ne)).join(", ")),fe=re(()=>t.displayValue!==void 0?t.displayValue:J.value),ue=re(()=>t.optionsHtml===!0?()=>!0:Ne=>Ne?.html===!0),de=re(()=>t.displayValueHtml===!0||t.displayValue===void 0&&(t.optionsHtml===!0||z.value.some(ue.value))),ee=re(()=>B.focused.value===!0?t.tabindex:-1),D=re(()=>{const Ne={tabindex:t.tabindex,role:"combobox","aria-label":t.label,"aria-readonly":t.readonly===!0?"true":"false","aria-autocomplete":t.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${B.targetUid.value}_lb`};return s.value>=0&&(Ne["aria-activedescendant"]=`${B.targetUid.value}_${s.value}`),Ne}),oe=re(()=>({id:`${B.targetUid.value}_lb`,role:"listbox","aria-multiselectable":t.multiple===!0?"true":"false"})),W=re(()=>z.value.map((Ne,st)=>({index:st,opt:Ne,html:ue.value(Ne),selected:!0,removeAtIndex:Te,toggleOption:_e,tabindex:ee.value}))),V=re(()=>{if(A.value===0)return[];const{from:Ne,to:st}=T.value;return t.options.slice(Ne,st).map((dt,pt)=>{const qt=H.value(dt)===!0,Cn=Fe(dt)===!0,ur=Ne+pt,Jn={clickable:!0,active:Cn,activeClass:se.value,manualFocus:!0,focused:!1,disable:qt,tabindex:-1,dense:t.optionsDense,dark:$.value,role:"option","aria-selected":Cn===!0?"true":"false",id:`${B.targetUid.value}_${ur}`,onClick:()=>{_e(dt)}};return qt!==!0&&(s.value===ur&&(Jn.focused=!0),i.platform.is.desktop===!0&&(Jn.onMousemove=()=>{o.value===!0&&ge(ur)})),{index:ur,opt:dt,html:ue.value(dt),label:ae.value(dt),selected:Jn.active,focused:Jn.focused,toggleOption:_e,setOptionIndex:ge,itemProps:Jn}})}),F=re(()=>t.dropdownIcon!==void 0?t.dropdownIcon:i.iconSet.arrow.dropdown),j=re(()=>t.optionsCover===!1&&t.outlined!==!0&&t.standout!==!0&&t.borderless!==!0&&t.rounded!==!0),se=re(()=>t.optionsSelectedClass!==void 0?t.optionsSelectedClass:t.color!==void 0?`text-${t.color}`:""),pe=re(()=>rA(t.optionValue,"value")),ae=re(()=>rA(t.optionLabel,"label")),H=re(()=>rA(t.optionDisable,"disable")),Q=re(()=>z.value.map(pe.value)),ie=re(()=>{const Ne={onInput:Nr,onChange:M,onKeydown:qe,onKeyup:Se,onKeypress:Ie,onFocus:Ue,onClick(st){p===!0&&ml(st)}};return Ne.onCompositionstart=Ne.onCompositionupdate=Ne.onCompositionend=M,Ne});We(z,Ne=>{h=Ne,t.useInput===!0&&t.fillInput===!0&&t.multiple!==!0&&B.innerLoading.value!==!0&&(a.value!==!0&&o.value!==!0||X.value!==!0)&&(m!==!0&&ys(),(a.value===!0||o.value===!0)&&gs(""))},{immediate:!0}),We(()=>t.fillInput,ys),We(o,Mu),We(A,Bf);function ce(Ne){return t.emitValue===!0?pe.value(Ne):Ne}function ve(Ne){if(Ne!==-1&&Ne<z.value.length)if(t.multiple===!0){const st=t.modelValue.slice();n("remove",{index:Ne,value:st.splice(Ne,1)[0]}),n("update:modelValue",st)}else n("update:modelValue",null)}function Te(Ne){ve(Ne),B.focus()}function be(Ne,st){const dt=ce(Ne);if(t.multiple!==!0){t.fillInput===!0&&Bl(ae.value(Ne),!0,!0),n("update:modelValue",dt);return}if(z.value.length===0){n("add",{index:0,value:dt}),n("update:modelValue",t.multiple===!0?[dt]:dt);return}if(st===!0&&Fe(Ne)===!0||t.maxValues!==void 0&&t.modelValue.length>=t.maxValues)return;const pt=t.modelValue.slice();n("add",{index:pt.length,value:dt}),pt.push(dt),n("update:modelValue",pt)}function _e(Ne,st){if(B.editable.value!==!0||Ne===void 0||H.value(Ne)===!0)return;const dt=pe.value(Ne);if(t.multiple!==!0){st!==!0&&(Bl(t.fillInput===!0?ae.value(Ne):"",!0,!0),Ra()),S.value?.focus(),(z.value.length===0||pd(pe.value(z.value[0]),dt)!==!0)&&n("update:modelValue",t.emitValue===!0?dt:Ne);return}if((p!==!0||u.value===!0)&&B.focus(),Ue(),z.value.length===0){const Cn=t.emitValue===!0?dt:Ne;n("add",{index:0,value:Cn}),n("update:modelValue",t.multiple===!0?[Cn]:Cn);return}const pt=t.modelValue.slice(),qt=Q.value.findIndex(Cn=>pd(Cn,dt));if(qt!==-1)n("remove",{index:qt,value:pt.splice(qt,1)[0]});else{if(t.maxValues!==void 0&&pt.length>=t.maxValues)return;const Cn=t.emitValue===!0?dt:Ne;n("add",{index:pt.length,value:Cn}),pt.push(Cn)}n("update:modelValue",pt)}function ge(Ne){if(i.platform.is.desktop!==!0)return;const st=Ne!==-1&&Ne<A.value?Ne:-1;s.value!==st&&(s.value=st)}function Ae(Ne=1,st){if(o.value===!0){let dt=s.value;do dt=yq(dt+Ne,-1,A.value-1);while(dt!==-1&&dt!==s.value&&H.value(t.options[dt])===!0);s.value!==dt&&(ge(dt),Y(dt),st!==!0&&t.useInput===!0&&t.fillInput===!0&&Bi(dt>=0?ae.value(t.options[dt]):v,!0))}}function Me(Ne,st){const dt=pt=>pd(pe.value(pt),Ne);return t.options.find(dt)||st.find(dt)||Ne}function Fe(Ne){const st=pe.value(Ne);return Q.value.find(dt=>pd(dt,st))!==void 0}function Ue(Ne){t.useInput===!0&&S.value!==null&&(Ne===void 0||S.value===Ne.target&&Ne.target.value===J.value)&&S.value.select()}function G(Ne){af(Ne,27)===!0&&o.value===!0&&(ml(Ne),Ra(),ys()),n("keyup",Ne)}function Se(Ne){const{value:st}=Ne.target;if(Ne.keyCode!==void 0){G(Ne);return}if(Ne.target.value="",f!==null&&(clearTimeout(f),f=null),d!==null&&(clearTimeout(d),d=null),ys(),typeof st=="string"&&st.length!==0){const dt=st.toLocaleLowerCase(),pt=Cn=>{const ur=t.options.find(Jn=>String(Cn.value(Jn)).toLocaleLowerCase()===dt);return ur===void 0?!1:(z.value.indexOf(ur)===-1?_e(ur):Ra(),!0)},qt=Cn=>{pt(pe)!==!0&&Cn!==!0&&pt(ae)!==!0&&gs(st,!0,()=>qt(!0))};qt()}else B.clearValue(Ne)}function Ie(Ne){n("keypress",Ne)}function qe(Ne){if(n("keydown",Ne),K8(Ne)===!0)return;const st=l.value.length!==0&&(t.newValueMode!==void 0||t.onNewValue!==void 0),dt=Ne.shiftKey!==!0&&t.disableTabSelection!==!0&&t.multiple!==!0&&(s.value!==-1||st===!0);if(Ne.keyCode===27){Ua(Ne);return}if(Ne.keyCode===9&&dt===!1){vs();return}if(Ne.target===void 0||Ne.target.id!==B.targetUid.value||B.editable.value!==!0)return;if(Ne.keyCode===40&&B.innerLoading.value!==!0&&o.value===!1){zr(Ne),zi();return}if(Ne.keyCode===8&&(t.useChips===!0||t.clearable===!0)&&t.hideSelected!==!0&&l.value.length===0){t.multiple===!0&&Array.isArray(t.modelValue)===!0?ve(t.modelValue.length-1):t.multiple!==!0&&t.modelValue!==null&&n("update:modelValue",null);return}(Ne.keyCode===35||Ne.keyCode===36)&&(typeof l.value!="string"||l.value.length===0)&&(zr(Ne),s.value=-1,Ae(Ne.keyCode===36?1:-1,t.multiple)),(Ne.keyCode===33||Ne.keyCode===34)&&I.value!==void 0&&(zr(Ne),s.value=Math.max(-1,Math.min(A.value,s.value+(Ne.keyCode===33?-1:1)*I.value.view)),Ae(Ne.keyCode===33?1:-1,t.multiple)),(Ne.keyCode===38||Ne.keyCode===40)&&(zr(Ne),Ae(Ne.keyCode===38?-1:1,t.multiple));const pt=A.value;if((b===void 0||w<Date.now())&&(b=""),pt>0&&t.useInput!==!0&&Ne.key!==void 0&&Ne.key.length===1&&Ne.altKey===!1&&Ne.ctrlKey===!1&&Ne.metaKey===!1&&(Ne.keyCode!==32||b.length!==0)){o.value!==!0&&zi(Ne);const qt=Ne.key.toLocaleLowerCase(),Cn=b.length===1&&b[0]===qt;w=Date.now()+1500,Cn===!1&&(zr(Ne),b+=qt);const ur=new RegExp("^"+b.split("").map(ti=>zTe.indexOf(ti)!==-1?"\\"+ti:ti).join(".*"),"i");let Jn=s.value;if(Cn===!0||Jn<0||ur.test(ae.value(t.options[Jn]))!==!0)do Jn=yq(Jn+1,-1,pt-1);while(Jn!==s.value&&(H.value(t.options[Jn])===!0||ur.test(ae.value(t.options[Jn]))!==!0));s.value!==Jn&&Tn(()=>{ge(Jn),Y(Jn),Jn>=0&&t.useInput===!0&&t.fillInput===!0&&Bi(ae.value(t.options[Jn]),!0)});return}if(!(Ne.keyCode!==13&&(Ne.keyCode!==32||t.useInput===!0||b!=="")&&(Ne.keyCode!==9||dt===!1))){if(Ne.keyCode!==9&&zr(Ne),s.value!==-1&&s.value<pt){_e(t.options[s.value]);return}if(st===!0){const qt=(Cn,ur)=>{if(ur){if(BV(ur)!==!0)return}else ur=t.newValueMode;if(Bl("",t.multiple!==!0,!0),Cn==null)return;(ur==="toggle"?_e:be)(Cn,ur==="add-unique"),t.multiple!==!0&&(S.value?.focus(),Ra())};if(t.onNewValue!==void 0?n("newValue",l.value,qt):qt(l.value),t.multiple!==!0)return}o.value===!0?vs():B.innerLoading.value!==!0&&zi()}}function Ze(){return p===!0?C.value:_.value!==null&&_.value.contentEl!==null?_.value.contentEl:void 0}function ft(){return Ze()}function Ot(){return t.hideSelected===!0?[]:e["selected-item"]!==void 0?W.value.map(Ne=>e["selected-item"](Ne)).slice():e.selected!==void 0?[].concat(e.selected()):t.useChips===!0?W.value.map((Ne,st)=>he(_Te,{key:"option-"+st,removable:B.editable.value===!0&&H.value(Ne.opt)!==!0,dense:!0,textColor:t.color,tabindex:ee.value,onRemove(){Ne.removeAtIndex(st)}},()=>he("span",{class:"ellipsis",[Ne.html===!0?"innerHTML":"textContent"]:ae.value(Ne.opt)}))):[he("span",{class:"ellipsis",[de.value===!0?"innerHTML":"textContent"]:fe.value})]}function lr(){if(te.value===!0)return e["no-option"]!==void 0?e["no-option"]({inputValue:l.value}):void 0;const Ne=e.option!==void 0?e.option:dt=>he(eu,{key:dt.index,...dt.itemProps},()=>he(Er,()=>he(CTe,()=>he("span",{[dt.html===!0?"innerHTML":"textContent"]:dt.label}))));let st=q("div",V.value.map(Ne));return e["before-options"]!==void 0&&(st=e["before-options"]().concat(st)),Ql(e["after-options"],st)}function $l(Ne,st){const dt=st===!0?{...D.value,...B.splitAttrs.attributes.value}:void 0,pt={ref:st===!0?S:void 0,key:"i_t",class:K.value,style:t.inputStyle,value:l.value!==void 0?l.value:"",type:"search",...dt,id:st===!0?B.targetUid.value:void 0,maxlength:t.maxlength,autocomplete:t.autocomplete,"data-autofocus":Ne===!0||t.autofocus===!0||void 0,disabled:t.disable===!0,readonly:t.readonly===!0,...ie.value};return Ne!==!0&&p===!0&&(Array.isArray(pt.class)===!0?pt.class=[...pt.class,"no-pointer-events"]:pt.class+=" no-pointer-events"),he("input",pt)}function Nr(Ne){f!==null&&(clearTimeout(f),f=null),d!==null&&(clearTimeout(d),d=null),!(Ne&&Ne.target&&Ne.target.qComposing===!0)&&(Bi(Ne.target.value||""),m=!0,v=l.value,B.focused.value!==!0&&(p!==!0||u.value===!0)&&B.focus(),t.onFilter!==void 0&&(f=setTimeout(()=>{f=null,gs(l.value)},t.inputDebounce)))}function Bi(Ne,st){l.value!==Ne&&(l.value=Ne,st===!0||t.inputDebounce===0||t.inputDebounce==="0"?n("inputValue",Ne):d=setTimeout(()=>{d=null,n("inputValue",Ne)},t.inputDebounce))}function Bl(Ne,st,dt){m=dt!==!0,t.useInput===!0&&(Bi(Ne,!0),(st===!0||dt!==!0)&&(v=Ne),st!==!0&&gs(Ne))}function gs(Ne,st,dt){if(t.onFilter===void 0||st!==!0&&B.focused.value!==!0)return;B.innerLoading.value===!0?n("filterAbort"):(B.innerLoading.value=!0,c.value=!0),Ne!==""&&t.multiple!==!0&&z.value.length!==0&&m!==!0&&Ne===ae.value(z.value[0])&&(Ne="");const pt=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);g!==null&&clearTimeout(g),g=pt,n("filter",Ne,(qt,Cn)=>{(st===!0||B.focused.value===!0)&&g===pt&&(clearTimeout(g),typeof qt=="function"&&qt(),c.value=!1,Tn(()=>{B.innerLoading.value=!1,B.editable.value===!0&&(st===!0?o.value===!0&&Ra():o.value===!0?Mu(!0):o.value=!0),typeof Cn=="function"&&Tn(()=>{Cn(r)}),typeof dt=="function"&&Tn(()=>{dt(r)})}))},()=>{B.focused.value===!0&&g===pt&&(clearTimeout(g),B.innerLoading.value=!1,c.value=!1),o.value===!0&&(o.value=!1)})}function wc(){return he(fP,{ref:_,class:Z.value,style:t.popupContentStyle,modelValue:o.value,fit:t.menuShrink!==!0,cover:t.optionsCover===!0&&te.value!==!0&&t.useInput!==!0,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,dark:$.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:t.popupNoRouteDismiss,square:j.value,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,separateClosePopup:!0,...oe.value,onScrollPassive:L,onBeforeShow:Rt,onBeforeHide:Rf,onShow:Ff},lr)}function Rf(Ne){Be(Ne),vs()}function Ff(){R()}function yh(Ne){ml(Ne),S.value?.focus(),u.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Po(Ne){ml(Ne),Tn(()=>{u.value=!1})}function tl(){const Ne=[he(xTe,{class:`col-auto ${B.fieldClass.value}`,...P.value,for:B.targetUid.value,dark:$.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:l.value.length!==0,...B.splitAttrs.listeners.value,onFocus:yh,onBlur:Po},{...e,rawControl:()=>B.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&Ne.push(he("div",{ref:C,class:Z.value+" scroll",style:t.popupContentStyle,...oe.value,onClick:Ua,onScrollPassive:L},lr())),he(ly,{ref:k,modelValue:a.value,position:t.useInput===!0?"top":void 0,transitionShow:y,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,noRouteDismiss:t.popupNoRouteDismiss,onBeforeShow:Rt,onBeforeHide:Lf,onHide:$f,onShow:xc},()=>he("div",{class:"q-select__dialog"+($.value===!0?" q-select__dialog--dark q-dark":"")+(u.value===!0?" q-select__dialog--focused":"")},Ne))}function Lf(Ne){Be(Ne),k.value!==null&&k.value.__updateRefocusTarget(B.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),B.focused.value=!1}function $f(Ne){Ra(),B.focused.value===!1&&n("blur",Ne),ys()}function xc(){const Ne=document.activeElement;(Ne===null||Ne.id!==B.targetUid.value)&&S.value!==null&&S.value!==Ne&&S.value.focus(),R()}function vs(){a.value!==!0&&(s.value=-1,o.value===!0&&(o.value=!1),B.focused.value===!1&&(g!==null&&(clearTimeout(g),g=null),B.innerLoading.value===!0&&(n("filterAbort"),B.innerLoading.value=!1,c.value=!1)))}function zi(Ne){B.editable.value===!0&&(p===!0?(B.onControlFocusin(Ne),a.value=!0,Tn(()=>{B.focus()})):B.focus(),t.onFilter!==void 0?gs(l.value):(te.value!==!0||e["no-option"]!==void 0)&&(o.value=!0))}function Ra(){a.value=!1,vs()}function ys(){t.useInput===!0&&Bl(t.multiple!==!0&&t.fillInput===!0&&z.value.length!==0&&ae.value(z.value[0])||"",!0,!0)}function Mu(Ne){let st=-1;if(Ne===!0){if(z.value.length!==0){const dt=pe.value(z.value[0]);st=t.options.findIndex(pt=>pd(pe.value(pt),dt))}O(st)}ge(st)}function Bf(Ne,st){o.value===!0&&B.innerLoading.value===!1&&(O(-1,!0),Tn(()=>{o.value===!0&&B.innerLoading.value===!1&&(Ne>st?O():Mu(!0))}))}function zf(){a.value===!1&&_.value!==null&&_.value.updatePosition()}function Rt(Ne){Ne!==void 0&&ml(Ne),n("popupShow",Ne),B.hasPopupOpen=!0,B.onControlFocusin(Ne)}function Be(Ne){Ne!==void 0&&ml(Ne),n("popupHide",Ne),B.hasPopupOpen=!1,B.onControlFocusout(Ne)}function at(){p=i.platform.is.mobile!==!0&&t.behavior!=="dialog"?!1:t.behavior!=="menu"&&(t.useInput===!0?e["no-option"]!==void 0||t.onFilter!==void 0||te.value===!1:!0),y=i.platform.is.ios===!0&&p===!0&&t.useInput===!0?"fade":t.transitionShow}return Uw(at),jw(zf),at(),On(()=>{f!==null&&clearTimeout(f),d!==null&&clearTimeout(d)}),Object.assign(r,{showPopup:zi,hidePopup:Ra,removeAtIndex:ve,add:be,toggleOption:_e,getOptionIndex:()=>s.value,setOptionIndex:ge,moveOptionSelection:Ae,filter:gs,updateMenuPosition:zf,updateInputValue:Bl,isOptionSelected:Fe,getEmittingOptionValue:ce,isOptionDisabled:(...Ne)=>H.value.apply(null,Ne)===!0,getOptionValue:(...Ne)=>pe.value.apply(null,Ne),getOptionLabel:(...Ne)=>ae.value.apply(null,Ne)}),Object.assign(B,{innerValue:z,fieldClass:re(()=>`q-select q-field--auto-height q-select--with${t.useInput!==!0?"out":""}-input q-select--with${t.useChips!==!0?"out":""}-chips q-select--${t.multiple===!0?"multiple":"single"}`),inputRef:x,targetRef:S,hasValue:X,showPopup:zi,floatingLabel:re(()=>t.hideSelected!==!0&&X.value===!0||typeof l.value=="number"||l.value.length!==0||P3(t.displayValue)),getControlChild:()=>{if(B.editable.value!==!1&&(a.value===!0||te.value!==!0||e["no-option"]!==void 0))return p===!0?tl():wc();B.hasPopupOpen===!0&&(B.hasPopupOpen=!1)},controlEvents:{onFocusin(Ne){B.onControlFocusin(Ne)},onFocusout(Ne){B.onControlFocusout(Ne,()=>{ys(),vs()})},onClick(Ne){if(Ua(Ne),p!==!0&&o.value===!0){vs(),S.value?.focus();return}zi(Ne)}},getControl:Ne=>{const st=Ot(),dt=Ne===!0||a.value!==!0||p!==!0;if(t.useInput===!0)st.push($l(Ne,dt));else if(B.editable.value===!0){const qt=dt===!0?D.value:void 0;st.push(he("input",{ref:dt===!0?S:void 0,key:"d_t",class:"q-select__focus-target",id:dt===!0?B.targetUid.value:void 0,value:fe.value,readonly:!0,"data-autofocus":Ne===!0||t.autofocus===!0||void 0,...qt,onKeydown:qe,onKeyup:G,onKeypress:Ie})),dt===!0&&typeof t.autocomplete=="string"&&t.autocomplete.length!==0&&st.push(he("input",{class:"q-select__autocomplete-input",autocomplete:t.autocomplete,tabindex:-1,onKeyup:Se}))}if(E.value!==void 0&&t.disable!==!0&&Q.value.length!==0){const qt=Q.value.map(Cn=>he("option",{value:Cn,selected:!0}));st.push(he("select",{class:"hidden",name:E.value,multiple:t.multiple},qt))}const pt=t.useInput===!0||dt!==!0?void 0:B.splitAttrs.attributes.value;return he("div",{class:"q-field__native row items-center",...pt,...B.splitAttrs.listeners.value},st)},getInnerAppend:()=>t.loading!==!0&&c.value!==!0&&t.hideDropdownIcon!==!0?[he(Jo,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:F.value})]:null}),cP(B)}}),VTe=cn({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(t){return()=>[he("div",{class:t.store.scroll.vertical.barClass.value,style:[t.barStyle,t.verticalBarStyle],"aria-hidden":"true",onMousedown:t.store.onVerticalMousedown}),he("div",{class:t.store.scroll.horizontal.barClass.value,style:[t.barStyle,t.horizontalBarStyle],"aria-hidden":"true",onMousedown:t.store.onHorizontalMousedown}),fo(he("div",{ref:t.store.scroll.vertical.ref,class:t.store.scroll.vertical.thumbClass.value,style:t.store.scroll.vertical.style.value,"aria-hidden":"true"}),t.store.thumbVertDir),fo(he("div",{ref:t.store.scroll.horizontal.ref,class:t.store.scroll.horizontal.thumbClass.value,style:t.store.scroll.horizontal.style.value,"aria-hidden":"true"}),t.store.thumbHorizDir)]}}),zV=["vertical","horizontal"],iA={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},qV={prevent:!0,mouse:!0,mouseAllDir:!0},VV=t=>t>=250?50:Math.ceil(t/5),dP=cn({name:"QScrollArea",props:{...ra,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(t,{slots:e,emit:n}){const r=we(!1),i=we(!1),o=we(!1),a={vertical:we(0),horizontal:we(0)},s={vertical:{ref:we(null),position:we(0),size:we(0)},horizontal:{ref:we(null),position:we(0),size:we(0)}},{proxy:l}=Lt(),u=ia(t,l.$q);let c=null,f;const d=we(null),h=re(()=>"q-scrollarea"+(u.value===!0?" q-scrollarea--dark":""));Object.assign(a,{verticalInner:re(()=>a.vertical.value-t.verticalOffset[0]-t.verticalOffset[1]),horizontalInner:re(()=>a.horizontal.value-t.horizontalOffset[0]-t.horizontalOffset[1])}),s.vertical.percentage=re(()=>{const T=s.vertical.size.value-a.vertical.value;if(T<=0)return 0;const I=ja(s.vertical.position.value/T,0,1);return Math.round(I*1e4)/1e4}),s.vertical.thumbHidden=re(()=>(t.visible===null?o.value:t.visible)!==!0&&r.value===!1&&i.value===!1||s.vertical.size.value<=a.vertical.value+1),s.vertical.thumbStart=re(()=>t.verticalOffset[0]+s.vertical.percentage.value*(a.verticalInner.value-s.vertical.thumbSize.value)),s.vertical.thumbSize=re(()=>Math.round(ja(a.verticalInner.value*a.verticalInner.value/s.vertical.size.value,VV(a.verticalInner.value),a.verticalInner.value))),s.vertical.style=re(()=>({...t.thumbStyle,...t.verticalThumbStyle,top:`${s.vertical.thumbStart.value}px`,height:`${s.vertical.thumbSize.value}px`,right:`${t.horizontalOffset[1]}px`})),s.vertical.thumbClass=re(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(s.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),s.vertical.barClass=re(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(s.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),s.horizontal.percentage=re(()=>{const T=s.horizontal.size.value-a.horizontal.value;if(T<=0)return 0;const I=ja(Math.abs(s.horizontal.position.value)/T,0,1);return Math.round(I*1e4)/1e4}),s.horizontal.thumbHidden=re(()=>(t.visible===null?o.value:t.visible)!==!0&&r.value===!1&&i.value===!1||s.horizontal.size.value<=a.horizontal.value+1),s.horizontal.thumbStart=re(()=>t.horizontalOffset[0]+s.horizontal.percentage.value*(a.horizontalInner.value-s.horizontal.thumbSize.value)),s.horizontal.thumbSize=re(()=>Math.round(ja(a.horizontalInner.value*a.horizontalInner.value/s.horizontal.size.value,VV(a.horizontalInner.value),a.horizontalInner.value))),s.horizontal.style=re(()=>({...t.thumbStyle,...t.horizontalThumbStyle,[l.$q.lang.rtl===!0?"right":"left"]:`${s.horizontal.thumbStart.value}px`,width:`${s.horizontal.thumbSize.value}px`,bottom:`${t.verticalOffset[1]}px`})),s.horizontal.thumbClass=re(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(s.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),s.horizontal.barClass=re(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(s.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const p=re(()=>s.vertical.thumbHidden.value===!0&&s.horizontal.thumbHidden.value===!0?t.contentStyle:t.contentActiveStyle);function m(){const T={};return zV.forEach(I=>{const O=s[I];Object.assign(T,{[I+"Position"]:O.position.value,[I+"Percentage"]:O.percentage.value,[I+"Size"]:O.size.value,[I+"ContainerSize"]:a[I].value,[I+"ContainerInnerSize"]:a[I+"Inner"].value})}),T}const g=nk(()=>{const T=m();T.ref=l,n("scroll",T)},0);function v(T,I,O){if(zV.includes(T)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(T==="vertical"?dq:VE)(d.value,I,O)}function y({height:T,width:I}){let O=!1;a.vertical.value!==T&&(a.vertical.value=T,O=!0),a.horizontal.value!==I&&(a.horizontal.value=I,O=!0),O===!0&&_()}function b({position:T}){let I=!1;s.vertical.position.value!==T.top&&(s.vertical.position.value=T.top,I=!0),s.horizontal.position.value!==T.left&&(s.horizontal.position.value=T.left,I=!0),I===!0&&_()}function w({height:T,width:I}){s.horizontal.size.value!==I&&(s.horizontal.size.value=I,_()),s.vertical.size.value!==T&&(s.vertical.size.value=T,_())}function x(T,I){const O=s[I];if(T.isFirst===!0){if(O.thumbHidden.value===!0)return;f=O.position.value,i.value=!0}else if(i.value!==!0)return;T.isFinal===!0&&(i.value=!1);const q=iA[I],L=(O.size.value-a[I].value)/(a[I+"Inner"].value-O.thumbSize.value),Y=T.distance[q.dist],R=f+(T.direction===q.dir?1:-1)*Y*L;k(R,I)}function S(T,I){const O=s[I];if(O.thumbHidden.value!==!0){const q=I==="vertical"?t.verticalOffset[0]:t.horizontalOffset[0],L=T[iA[I].offset]-q,Y=O.thumbStart.value-q;if(L<Y||L>Y+O.thumbSize.value){const R=L-O.thumbSize.value/2,B=ja(R/(a[I+"Inner"].value-O.thumbSize.value),0,1);k(B*Math.max(0,O.size.value-a[I].value),I)}O.ref.value!==null&&O.ref.value.dispatchEvent(new MouseEvent(T.type,T))}}function _(){r.value=!0,c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,r.value=!1},t.delay),t.onScroll!==void 0&&g()}function k(T,I){d.value[iA[I].scroll]=T}let C=null;function E(){C!==null&&clearTimeout(C),C=setTimeout(()=>{C=null,o.value=!0},l.$q.platform.is.ios?50:0)}function M(){C!==null&&(clearTimeout(C),C=null),o.value=!1}let A=null;We(()=>l.$q.lang.rtl,T=>{d.value!==null&&VE(d.value,Math.abs(s.horizontal.position.value)*(T===!0?-1:1))}),Z0(()=>{A={top:s.vertical.position.value,left:s.horizontal.position.value}}),iy(()=>{if(A===null)return;const T=d.value;T!==null&&(VE(T,A.left),dq(T,A.top))}),On(g.cancel),Object.assign(l,{getScrollTarget:()=>d.value,getScroll:m,getScrollPosition:()=>({top:s.vertical.position.value,left:s.horizontal.position.value}),getScrollPercentage:()=>({top:s.vertical.percentage.value,left:s.horizontal.percentage.value}),setScrollPosition:v,setScrollPercentage(T,I,O){v(T,I*(s[T].size.value-a[T].value)*(T==="horizontal"&&l.$q.lang.rtl===!0?-1:1),O)}});const N={scroll:s,thumbVertDir:[[_m,T=>{x(T,"vertical")},void 0,{vertical:!0,...qV}]],thumbHorizDir:[[_m,T=>{x(T,"horizontal")},void 0,{horizontal:!0,...qV}]],onVerticalMousedown(T){S(T,"vertical")},onHorizontalMousedown(T){S(T,"horizontal")}};return()=>he("div",{class:h.value,onMouseenter:E,onMouseleave:M},[he("div",{ref:d,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:t.tabindex!==void 0?t.tabindex:void 0},[he("div",{class:"q-scrollarea__content absolute",style:p.value},Ql(e.default,[he(Um,{debounce:0,onResize:w})])),he(moe,{axis:"both",onScroll:b})]),he(Um,{debounce:0,onResize:y}),he(VTe,{store:N,barStyle:t.barStyle,verticalBarStyle:t.verticalBarStyle,horizontalBarStyle:t.horizontalBarStyle})])}}),Aae=cn({name:"QTabPanels",props:{...cTe,...ra},emits:fTe,setup(t,{slots:e}){const n=Lt(),r=ia(t,n.proxy.$q),{updatePanelsList:i,getPanelContent:o,panelDirectives:a}=dTe(),s=re(()=>"q-tab-panels q-panel-parent"+(r.value===!0?" q-tab-panels--dark q-dark":""));return()=>(i(e),_3("div",{class:s.value},o(),"pan",t.swipeable,()=>a.value))}});function Ji(){return Ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ji.apply(null,arguments)}var ok={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Ja(t,e){if(z_(t,e))return t[e];throw typeof t[e]=="function"&&hP(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function xv(t,e,n){if(z_(t,e))return t[e]=n,n;throw new Error('No access to property "'+e+'"')}function z_(t,e){return!UTe(t)&&!Array.isArray(t)?!1:wt(jTe,e)?!0:!(e in Object.prototype||e in Function.prototype)}function HTe(t,e){if(!hP(t,e))throw new Error('No access to method "'+e+'"');return t[e]}function hP(t,e){return t==null||typeof t[e]!="function"||wt(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:wt(WTe,e)?!0:!(e in Object.prototype||e in Function.prototype)}function UTe(t){return typeof t=="object"&&t&&t.constructor===Object}var jTe={length:!0,name:!0},WTe={toString:!0,valueOf:!0,toLocaleString:!0};class ak{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return Ja(this.wrappedObject,e)}set(e,n){return xv(this.wrappedObject,e,n),this}has(e){return z_(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return Mae(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var n of this.keys())e(this.get(n),n,this)}delete(e){z_(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}class Tae{constructor(e,n,r){this.a=e,this.b=n,this.bKeys=r,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,n){return this.bKeys.has(e)?this.b.set(e,n):this.a.set(e,n),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return Mae(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var n of this.keys())e(this.get(n),n,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function Mae(t,e){return{next:()=>{var n=t.next();return n.done?n:{value:e(n.value),done:!1}}}}function F3(){return new Map}function Ug(t){if(!t)return F3();if(Am(t))return t;if(m1(t))return new ak(t);throw new Error("createMap can create maps from objects or Maps")}function GTe(t){if(t instanceof ak)return t.wrappedObject;var e={};for(var n of t.keys()){var r=t.get(n);xv(e,n,r)}return e}function mn(t){return typeof t=="number"}function hn(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function jg(t){return typeof t=="bigint"}function Xu(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function p1(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function Ts(t){return t&&t.constructor.prototype.isUnit===!0||!1}function Ho(t){return typeof t=="string"}var wr=Array.isArray;function Ht(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function Ml(t){return Array.isArray(t)||Ht(t)}function L3(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function i0(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function sk(t){return t&&t.constructor.prototype.isRange===!0||!1}function Yw(t){return t&&t.constructor.prototype.isIndex===!0||!1}function Dae(t){return typeof t=="boolean"}function Nae(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function pP(t){return t&&t.constructor.prototype.isHelp===!0||!1}function Oae(t){return typeof t=="function"}function Iae(t){return t instanceof Date}function Pae(t){return t instanceof RegExp}function m1(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!Xu(t)&&!p1(t))}function Am(t){return t?t instanceof Map||t instanceof ak||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function KTe(t){return Am(t)&&Am(t.a)&&Am(t.b)}function XTe(t){return Am(t)&&m1(t.wrappedObject)}function Rae(t){return t===null}function Fae(t){return t===void 0}function M0(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function hl(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function Lae(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function $ae(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function Bae(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Fn(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function jM(t){return Fn(t)||Ni(t)&&t.args.length===1&&Fn(t.args[0])&&"-+~".includes(t.op)}function cy(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Wd(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function g1(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function hr(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function Zw(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ni(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function lf(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function zae(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function qae(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function ho(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function mP(t){return t&&t.constructor.prototype.isChain===!0||!1}function Tr(t){var e=typeof t;return e==="object"?t===null?"null":hn(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function Qt(t){var e=typeof t;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(n){return Qt(n)});if(t instanceof Date)return new Date(t.valueOf());if(hn(t))return t;if(m1(t))return YTe(t,Qt);if(e==="function")return t;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function YTe(t,e){var n={};for(var r in t)wt(t,r)&&(n[r]=e(t[r]));return n}function Vae(t,e){for(var n in e)wt(e,n)&&(t[n]=e[n]);return t}function Hae(t,e){if(Array.isArray(e))throw new TypeError("Arrays are not supported by deepExtend");for(var n in e)if(wt(e,n)&&!(n in Object.prototype)&&!(n in Function.prototype))if(e[n]&&e[n].constructor===Object)t[n]===void 0&&(t[n]={}),t[n]&&t[n].constructor===Object?Hae(t[n],e[n]):t[n]=e[n];else{if(Array.isArray(e[n]))throw new TypeError("Arrays are not supported by deepExtend");t[n]=e[n]}return t}function Gd(t,e){var n,r,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(r=0,i=t.length;r<i;r++)if(!Gd(t[r],e[r]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!(n in e)||!Gd(t[n],e[n]))return!1;for(n in e)if(!(n in t))return!1;return!0}else return t===e}}function ZTe(t){var e={};return Uae(t,e),e}function Uae(t,e){for(var n in t)if(wt(t,n)){var r=t[n];typeof r=="object"&&r!==null?Uae(r,e):e[n]=r}}function Vp(t,e,n){var r=!0,i;Object.defineProperty(t,e,{get:function(){return r&&(i=n(),r=!1),i},set:function(a){i=a,r=!1},configurable:!0,enumerable:!0})}function wt(t,e){return t&&Object.hasOwnProperty.call(t,e)}function JTe(t){return t&&typeof t.factory=="function"}function QTe(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],o=t[i];o!==void 0&&(n[i]=o)}return n}var WM=["Matrix","Array"],GM=["number","BigNumber","Fraction"];function eMe(t,e){function n(r){if(r){if(r.epsilon!==void 0){console.warn('Warning: The configuration option "epsilon" is deprecated. Use "relTol" and "absTol" instead.');var i=Qt(r);return i.relTol=r.epsilon,i.absTol=r.epsilon*.001,delete i.epsilon,n(i)}var o=Qt(t);HV(r,"matrix",WM),HV(r,"number",GM),Hae(t,r);var a=Qt(t),s=Qt(r);return e("config",a,o,s),a}else return Qt(t)}return n.MATRIX_OPTIONS=WM,n.NUMBER_OPTIONS=GM,Object.keys(ok).forEach(r=>{Object.defineProperty(n,r,{get:()=>t[r],enumerable:!0,configurable:!0})}),n}function HV(t,e,n){t[e]!==void 0&&!n.includes(t[e])&&console.warn('Warning: Unknown value "'+t[e]+'" for configuration option "'+e+'". Available options: '+n.map(r=>JSON.stringify(r)).join(", ")+".")}var Xe=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(ok)};Ji(Xe,ok,{MATRIX_OPTIONS:WM,NUMBER_OPTIONS:GM});function UV(){return!0}function Vl(){return!1}function U1(){}const jV="Argument is not a typed-function.";function jae(){function t(H){return typeof H=="object"&&H!==null&&H.constructor===Object}const e=[{name:"number",test:function(H){return typeof H=="number"}},{name:"string",test:function(H){return typeof H=="string"}},{name:"boolean",test:function(H){return typeof H=="boolean"}},{name:"Function",test:function(H){return typeof H=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(H){return H instanceof Date}},{name:"RegExp",test:function(H){return H instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(H){return H===null}},{name:"undefined",test:function(H){return H===void 0}}],n={name:"any",test:UV,isAny:!0};let r,i,o=0,a={createCount:0};function s(H){const Q=r.get(H);if(Q)return Q;let ie='Unknown type "'+H+'"';const ce=H.toLowerCase();let ve;for(ve of i)if(ve.toLowerCase()===ce){ie+='. Did you mean "'+ve+'" ?';break}throw new TypeError(ie)}function l(H){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const ie=Q?s(Q).index:i.length,ce=[];for(let Te=0;Te<H.length;++Te){if(!H[Te]||typeof H[Te].name!="string"||typeof H[Te].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const be=H[Te].name;if(r.has(be))throw new TypeError('Duplicate type name "'+be+'"');ce.push(be),r.set(be,{name:be,test:H[Te].test,isAny:H[Te].isAny,index:ie+Te,conversionsTo:[]})}const ve=i.slice(ie);i=i.slice(0,ie).concat(ce).concat(ve);for(let Te=ie+ce.length;Te<i.length;++Te)r.get(i[Te]).index=Te}function u(){r=new Map,i=[],o=0,l([n],!1)}u(),l(e);function c(){let H;for(H of i)r.get(H).conversionsTo=[];o=0}function f(H){const Q=i.filter(ie=>{const ce=r.get(ie);return!ce.isAny&&ce.test(H)});return Q.length?Q:["any"]}function d(H){return H&&typeof H=="function"&&"_typedFunctionData"in H}function h(H,Q,ie){if(!d(H))throw new TypeError(jV);const ce=ie&&ie.exact,ve=Array.isArray(Q)?Q.join(","):Q,Te=w(ve),be=g(Te);if(!ce||be in H.signatures){const Me=H._typedFunctionData.signatureMap.get(be);if(Me)return Me}const _e=Te.length;let ge;if(ce){ge=[];let Me;for(Me in H.signatures)ge.push(H._typedFunctionData.signatureMap.get(Me))}else ge=H._typedFunctionData.signatures;for(let Me=0;Me<_e;++Me){const Fe=Te[Me],Ue=[];let G;for(G of ge){const Se=k(G.params,Me);if(!(!Se||Fe.restParam&&!Se.restParam)){if(!Se.hasAny){const Ie=b(Se);if(Fe.types.some(qe=>!Ie.has(qe.name)))continue}Ue.push(G)}}if(ge=Ue,ge.length===0)break}let Ae;for(Ae of ge)if(Ae.params.length<=_e)return Ae;throw new TypeError("Signature not found (signature: "+(H.name||"unnamed")+"("+g(Te,", ")+"))")}function p(H,Q,ie){return h(H,Q,ie).implementation}function m(H,Q){const ie=s(Q);if(ie.test(H))return H;const ce=ie.conversionsTo;if(ce.length===0)throw new Error("There are no conversions to "+Q+" defined.");for(let ve=0;ve<ce.length;ve++)if(s(ce[ve].from).test(H))return ce[ve].convert(H);throw new Error("Cannot convert "+H+" to "+Q)}function g(H){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return H.map(ie=>ie.name).join(Q)}function v(H){const Q=H.indexOf("...")===0,ce=(Q?H.length>3?H.slice(3):"any":H).split("|").map(_e=>s(_e.trim()));let ve=!1,Te=Q?"...":"";return{types:ce.map(function(_e){return ve=_e.isAny||ve,Te+=_e.name+"|",{name:_e.name,typeIndex:_e.index,test:_e.test,isAny:_e.isAny,conversion:null,conversionIndex:-1}}),name:Te.slice(0,-1),hasAny:ve,hasConversion:!1,restParam:Q}}function y(H){const Q=H.types.map(be=>be.name),ie=q(Q);let ce=H.hasAny,ve=H.name;const Te=ie.map(function(be){const _e=s(be.from);return ce=_e.isAny||ce,ve+="|"+be.from,{name:be.from,typeIndex:_e.index,test:_e.test,isAny:_e.isAny,conversion:be,conversionIndex:be.index}});return{types:H.types.concat(Te),name:ve,hasAny:ce,hasConversion:Te.length>0,restParam:H.restParam}}function b(H){return H.typeSet||(H.typeSet=new Set,H.types.forEach(Q=>H.typeSet.add(Q.name))),H.typeSet}function w(H){const Q=[];if(typeof H!="string")throw new TypeError("Signatures must be strings");const ie=H.trim();if(ie==="")return Q;const ce=ie.split(",");for(let ve=0;ve<ce.length;++ve){const Te=v(ce[ve].trim());if(Te.restParam&&ve!==ce.length-1)throw new SyntaxError('Unexpected rest parameter "'+ce[ve]+'": only allowed for the last parameter');if(Te.types.length===0)return null;Q.push(Te)}return Q}function x(H){const Q=J(H);return Q?Q.restParam:!1}function S(H){if(!H||H.types.length===0)return UV;if(H.types.length===1)return s(H.types[0].name).test;if(H.types.length===2){const Q=s(H.types[0].name).test,ie=s(H.types[1].name).test;return function(ve){return Q(ve)||ie(ve)}}else{const Q=H.types.map(function(ie){return s(ie.name).test});return function(ce){for(let ve=0;ve<Q.length;ve++)if(Q[ve](ce))return!0;return!1}}}function _(H){let Q,ie,ce;if(x(H)){Q=te(H).map(S);const ve=Q.length,Te=S(J(H)),be=function(_e){for(let ge=ve;ge<_e.length;ge++)if(!Te(_e[ge]))return!1;return!0};return function(ge){for(let Ae=0;Ae<Q.length;Ae++)if(!Q[Ae](ge[Ae]))return!1;return be(ge)&&ge.length>=ve+1}}else return H.length===0?function(Te){return Te.length===0}:H.length===1?(ie=S(H[0]),function(Te){return ie(Te[0])&&Te.length===1}):H.length===2?(ie=S(H[0]),ce=S(H[1]),function(Te){return ie(Te[0])&&ce(Te[1])&&Te.length===2}):(Q=H.map(S),function(Te){for(let be=0;be<Q.length;be++)if(!Q[be](Te[be]))return!1;return Te.length===Q.length})}function k(H,Q){return Q<H.length?H[Q]:x(H)?J(H):null}function C(H,Q){const ie=k(H,Q);return ie?b(ie):new Set}function E(H){return H.conversion===null||H.conversion===void 0}function M(H,Q){const ie=new Set;return H.forEach(ce=>{const ve=C(ce.params,Q);let Te;for(Te of ve)ie.add(Te)}),ie.has("any")?["any"]:Array.from(ie)}function A(H,Q,ie){let ce,ve;const Te=H||"unnamed";let be=ie,_e;for(_e=0;_e<Q.length;_e++){const Fe=[];if(be.forEach(Ue=>{const G=k(Ue.params,_e),Se=S(G);(_e<Ue.params.length||x(Ue.params))&&Se(Q[_e])&&Fe.push(Ue)}),Fe.length===0){if(ve=M(be,_e),ve.length>0){const Ue=f(Q[_e]);return ce=new TypeError("Unexpected type of argument in function "+Te+" (expected: "+ve.join(" or ")+", actual: "+Ue.join(" | ")+", index: "+_e+")"),ce.data={category:"wrongType",fn:Te,index:_e,actual:Ue,expected:ve},ce}}else be=Fe}const ge=be.map(function(Fe){return x(Fe.params)?1/0:Fe.params.length});if(Q.length<Math.min.apply(null,ge))return ve=M(be,_e),ce=new TypeError("Too few arguments in function "+Te+" (expected: "+ve.join(" or ")+", index: "+Q.length+")"),ce.data={category:"tooFewArgs",fn:Te,index:Q.length,expected:ve},ce;const Ae=Math.max.apply(null,ge);if(Q.length>Ae)return ce=new TypeError("Too many arguments in function "+Te+" (expected: "+Ae+", actual: "+Q.length+")"),ce.data={category:"tooManyArgs",fn:Te,index:Q.length,expectedLength:Ae},ce;const Me=[];for(let Fe=0;Fe<Q.length;++Fe)Me.push(f(Q[Fe]).join("|"));return ce=new TypeError('Arguments of type "'+Me.join(", ")+'" do not match any of the defined signatures of function '+Te+"."),ce.data={category:"mismatch",actual:Me},ce}function N(H){let Q=i.length+1;for(let ie=0;ie<H.types.length;ie++)E(H.types[ie])&&(Q=Math.min(Q,H.types[ie].typeIndex));return Q}function T(H){let Q=o+1;for(let ie=0;ie<H.types.length;ie++)E(H.types[ie])||(Q=Math.min(Q,H.types[ie].conversionIndex));return Q}function I(H,Q){if(H.hasAny){if(!Q.hasAny)return 1}else if(Q.hasAny)return-1;if(H.restParam){if(!Q.restParam)return 1}else if(Q.restParam)return-1;if(H.hasConversion){if(!Q.hasConversion)return 1}else if(Q.hasConversion)return-1;const ie=N(H)-N(Q);if(ie<0)return-1;if(ie>0)return 1;const ce=T(H)-T(Q);return ce<0?-1:ce>0?1:0}function O(H,Q){const ie=H.params,ce=Q.params,ve=J(ie),Te=J(ce),be=x(ie),_e=x(ce);if(be&&ve.hasAny){if(!_e||!Te.hasAny)return 1}else if(_e&&Te.hasAny)return-1;let ge=0,Ae=0,Me;for(Me of ie)Me.hasAny&&++ge,Me.hasConversion&&++Ae;let Fe=0,Ue=0;for(Me of ce)Me.hasAny&&++Fe,Me.hasConversion&&++Ue;if(ge!==Fe)return ge-Fe;if(be&&ve.hasConversion){if(!_e||!Te.hasConversion)return 1}else if(_e&&Te.hasConversion)return-1;if(Ae!==Ue)return Ae-Ue;if(be){if(!_e)return 1}else if(_e)return-1;const G=(ie.length-ce.length)*(be?-1:1);if(G!==0)return G;const Se=[];let Ie=0;for(let Ze=0;Ze<ie.length;++Ze){const ft=I(ie[Ze],ce[Ze]);Se.push(ft),Ie+=ft}if(Ie!==0)return Ie;let qe;for(qe of Se)if(qe!==0)return qe;return 0}function q(H){if(H.length===0)return[];const Q=H.map(s);H.length>1&&Q.sort((ve,Te)=>ve.index-Te.index);let ie=Q[0].conversionsTo;if(H.length===1)return ie;ie=ie.concat([]);const ce=new Set(H);for(let ve=1;ve<Q.length;++ve){let Te;for(Te of Q[ve].conversionsTo)ce.has(Te.from)||(ie.push(Te),ce.add(Te.from))}return ie}function L(H,Q){let ie=Q;if(H.some(ve=>ve.hasConversion)){const ve=x(H),Te=H.map(Y);ie=function(){const _e=[],ge=ve?arguments.length-1:arguments.length;for(let Ae=0;Ae<ge;Ae++)_e[Ae]=Te[Ae](arguments[Ae]);return ve&&(_e[ge]=arguments[ge].map(Te[ge])),Q.apply(this,_e)}}let ce=ie;if(x(H)){const ve=H.length-1;ce=function(){return ie.apply(this,fe(arguments,0,ve).concat([fe(arguments,ve)]))}}return ce}function Y(H){let Q,ie,ce,ve;const Te=[],be=[];switch(H.types.forEach(function(_e){_e.conversion&&(Te.push(s(_e.conversion.from).test),be.push(_e.conversion.convert))}),be.length){case 0:return function(ge){return ge};case 1:return Q=Te[0],ce=be[0],function(ge){return Q(ge)?ce(ge):ge};case 2:return Q=Te[0],ie=Te[1],ce=be[0],ve=be[1],function(ge){return Q(ge)?ce(ge):ie(ge)?ve(ge):ge};default:return function(ge){for(let Ae=0;Ae<be.length;Ae++)if(Te[Ae](ge))return be[Ae](ge);return ge}}}function R(H){function Q(ie,ce,ve){if(ce<ie.length){const Te=ie[ce];let be=[];if(Te.restParam){const _e=Te.types.filter(E);_e.length<Te.types.length&&be.push({types:_e,name:"..."+_e.map(ge=>ge.name).join("|"),hasAny:_e.some(ge=>ge.isAny),hasConversion:!1,restParam:!0}),be.push(Te)}else be=Te.types.map(function(_e){return{types:[_e],name:_e.name,hasAny:_e.isAny,hasConversion:_e.conversion,restParam:!1}});return de(be,function(_e){return Q(ie,ce+1,ve.concat([_e]))})}else return[ve]}return Q(H,0,[])}function B(H,Q){const ie=Math.max(H.length,Q.length);for(let _e=0;_e<ie;_e++){const ge=C(H,_e),Ae=C(Q,_e);let Me=!1,Fe;for(Fe of Ae)if(ge.has(Fe)){Me=!0;break}if(!Me)return!1}const ce=H.length,ve=Q.length,Te=x(H),be=x(Q);return Te?be?ce===ve:ve>=ce:be?ce>=ve:ce===ve}function z(H){return H.map(Q=>V(Q)?oe(Q.referToSelf.callback):W(Q)?D(Q.referTo.references,Q.referTo.callback):Q)}function P(H,Q,ie){const ce=[];let ve;for(ve of H){let Te=ie[ve];if(typeof Te!="number")throw new TypeError('No definition for referenced signature "'+ve+'"');if(Te=Q[Te],typeof Te!="function")return!1;ce.push(Te)}return ce}function $(H,Q,ie){const ce=z(H),ve=new Array(ce.length).fill(!1);let Te=!0;for(;Te;){Te=!1;let be=!0;for(let _e=0;_e<ce.length;++_e){if(ve[_e])continue;const ge=ce[_e];if(V(ge))ce[_e]=ge.referToSelf.callback(ie),ce[_e].referToSelf=ge.referToSelf,ve[_e]=!0,be=!1;else if(W(ge)){const Ae=P(ge.referTo.references,ce,Q);Ae?(ce[_e]=ge.referTo.callback.apply(this,Ae),ce[_e].referTo=ge.referTo,ve[_e]=!0,be=!1):Te=!0}}if(be&&Te)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return ce}function X(H){const Q=/\bthis(\(|\.signatures\b)/;Object.keys(H).forEach(ie=>{const ce=H[ie];if(Q.test(ce.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function K(H,Q){if(a.createCount++,Object.keys(Q).length===0)throw new SyntaxError("No signatures provided");a.warnAgainstDeprecatedThis&&X(Q);const ie=[],ce=[],ve={},Te=[];let be;for(be in Q){if(!Object.prototype.hasOwnProperty.call(Q,be))continue;const pt=w(be);if(!pt)continue;ie.forEach(function(Jn){if(B(Jn,pt))throw new TypeError('Conflicting signatures "'+g(Jn)+'" and "'+g(pt)+'".')}),ie.push(pt);const qt=ce.length;ce.push(Q[be]);const Cn=pt.map(y);let ur;for(ur of R(Cn)){const Jn=g(ur);Te.push({params:ur,name:Jn,fn:qt}),ur.every(ti=>!ti.hasConversion)&&(ve[Jn]=qt)}}Te.sort(O);const _e=$(ce,ve,dt);let ge;for(ge in ve)Object.prototype.hasOwnProperty.call(ve,ge)&&(ve[ge]=_e[ve[ge]]);const Ae=[],Me=new Map;for(ge of Te)Me.has(ge.name)||(ge.fn=_e[ge.fn],Ae.push(ge),Me.set(ge.name,ge));const Fe=Ae[0]&&Ae[0].params.length<=2&&!x(Ae[0].params),Ue=Ae[1]&&Ae[1].params.length<=2&&!x(Ae[1].params),G=Ae[2]&&Ae[2].params.length<=2&&!x(Ae[2].params),Se=Ae[3]&&Ae[3].params.length<=2&&!x(Ae[3].params),Ie=Ae[4]&&Ae[4].params.length<=2&&!x(Ae[4].params),qe=Ae[5]&&Ae[5].params.length<=2&&!x(Ae[5].params),Ze=Fe&&Ue&&G&&Se&&Ie&&qe;for(let pt=0;pt<Ae.length;++pt)Ae[pt].test=_(Ae[pt].params);const ft=Fe?S(Ae[0].params[0]):Vl,Ot=Ue?S(Ae[1].params[0]):Vl,lr=G?S(Ae[2].params[0]):Vl,$l=Se?S(Ae[3].params[0]):Vl,Nr=Ie?S(Ae[4].params[0]):Vl,Bi=qe?S(Ae[5].params[0]):Vl,Bl=Fe?S(Ae[0].params[1]):Vl,gs=Ue?S(Ae[1].params[1]):Vl,wc=G?S(Ae[2].params[1]):Vl,Rf=Se?S(Ae[3].params[1]):Vl,Ff=Ie?S(Ae[4].params[1]):Vl,yh=qe?S(Ae[5].params[1]):Vl;for(let pt=0;pt<Ae.length;++pt)Ae[pt].implementation=L(Ae[pt].params,Ae[pt].fn);const Po=Fe?Ae[0].implementation:U1,tl=Ue?Ae[1].implementation:U1,Lf=G?Ae[2].implementation:U1,$f=Se?Ae[3].implementation:U1,xc=Ie?Ae[4].implementation:U1,vs=qe?Ae[5].implementation:U1,zi=Fe?Ae[0].params.length:-1,Ra=Ue?Ae[1].params.length:-1,ys=G?Ae[2].params.length:-1,Mu=Se?Ae[3].params.length:-1,Bf=Ie?Ae[4].params.length:-1,zf=qe?Ae[5].params.length:-1,Rt=Ze?6:0,Be=Ae.length,at=Ae.map(pt=>pt.test),Ne=Ae.map(pt=>pt.implementation),st=function(){for(let qt=Rt;qt<Be;qt++)if(at[qt](arguments))return Ne[qt].apply(this,arguments);return a.onMismatch(H,arguments,Ae)};function dt(pt,qt){return arguments.length===zi&&ft(pt)&&Bl(qt)?Po.apply(this,arguments):arguments.length===Ra&&Ot(pt)&&gs(qt)?tl.apply(this,arguments):arguments.length===ys&&lr(pt)&&wc(qt)?Lf.apply(this,arguments):arguments.length===Mu&&$l(pt)&&Rf(qt)?$f.apply(this,arguments):arguments.length===Bf&&Nr(pt)&&Ff(qt)?xc.apply(this,arguments):arguments.length===zf&&Bi(pt)&&yh(qt)?vs.apply(this,arguments):st.apply(this,arguments)}try{Object.defineProperty(dt,"name",{value:H})}catch{}return dt.signatures=ve,dt._typedFunctionData={signatures:Ae,signatureMap:Me},dt}function Z(H,Q,ie){throw A(H,Q,ie)}function te(H){return fe(H,0,H.length-1)}function J(H){return H[H.length-1]}function fe(H,Q,ie){return Array.prototype.slice.call(H,Q,ie)}function ue(H,Q){for(let ie=0;ie<H.length;ie++)if(Q(H[ie]))return H[ie]}function de(H,Q){return Array.prototype.concat.apply([],H.map(Q))}function ee(){const H=te(arguments).map(ie=>g(w(ie))),Q=J(arguments);if(typeof Q!="function")throw new TypeError("Callback function expected as last argument");return D(H,Q)}function D(H,Q){return{referTo:{references:H,callback:Q}}}function oe(H){if(typeof H!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:H}}}function W(H){return H&&typeof H.referTo=="object"&&Array.isArray(H.referTo.references)&&typeof H.referTo.callback=="function"}function V(H){return H&&typeof H.referToSelf=="object"&&typeof H.referToSelf.callback=="function"}function F(H,Q){if(!H)return Q;if(Q&&Q!==H){const ie=new Error("Function names do not match (expected: "+H+", actual: "+Q+")");throw ie.data={actual:Q,expected:H},ie}return H}function j(H){let Q;for(const ie in H)Object.prototype.hasOwnProperty.call(H,ie)&&(d(H[ie])||typeof H[ie].signature=="string")&&(Q=F(Q,H[ie].name));return Q}function se(H,Q){let ie;for(ie in Q)if(Object.prototype.hasOwnProperty.call(Q,ie)){if(ie in H&&Q[ie]!==H[ie]){const ce=new Error('Signature "'+ie+'" is defined twice');throw ce.data={signature:ie,sourceFunction:Q[ie],destFunction:H[ie]},ce}H[ie]=Q[ie]}}const pe=a;a=function(H){const Q=typeof H=="string",ie=Q?1:0;let ce=Q?H:"";const ve={};for(let Te=ie;Te<arguments.length;++Te){const be=arguments[Te];let _e={},ge;if(typeof be=="function"?(ge=be.name,typeof be.signature=="string"?_e[be.signature]=be:d(be)&&(_e=be.signatures)):t(be)&&(_e=be,Q||(ge=j(be))),Object.keys(_e).length===0){const Ae=new TypeError("Argument to 'typed' at index "+Te+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Ae.data={index:Te,argument:be},Ae}Q||(ce=F(ce,ge)),se(ve,_e)}return K(ce||"",ve)},a.create=jae,a.createCount=pe.createCount,a.onMismatch=Z,a.throwMismatchError=Z,a.createError=A,a.clear=u,a.clearConversions=c,a.addTypes=l,a._findType=s,a.referTo=ee,a.referToSelf=oe,a.convert=m,a.findSignature=h,a.find=p,a.isTypedFunction=d,a.warnAgainstDeprecatedThis=!0,a.addType=function(H,Q){let ie="any";Q!==!1&&r.has("Object")&&(ie="Object"),a.addTypes([H],ie)};function ae(H){if(!H||typeof H.from!="string"||typeof H.to!="string"||typeof H.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(H.to===H.from)throw new SyntaxError('Illegal to define conversion from "'+H.from+'" to itself.')}return a.addConversion=function(H){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};ae(H);const ie=s(H.to),ce=ie.conversionsTo.find(ve=>ve.from===H.from);if(ce)if(Q&&Q.override)a.removeConversion({from:ce.from,to:H.to,convert:ce.convert});else throw new Error('There is already a conversion from "'+H.from+'" to "'+ie.name+'"');ie.conversionsTo.push({from:H.from,convert:H.convert,index:o++})},a.addConversions=function(H,Q){H.forEach(ie=>a.addConversion(ie,Q))},a.removeConversion=function(H){ae(H);const Q=s(H.to),ie=ue(Q.conversionsTo,ve=>ve.from===H.from);if(!ie)throw new Error("Attempt to remove nonexistent conversion from "+H.from+" to "+H.to);if(ie.convert!==H.convert)throw new Error("Conversion to remove does not match existing conversion");const ce=Q.conversionsTo.indexOf(ie);Q.conversionsTo.splice(ce,1)},a.resolve=function(H,Q){if(!d(H))throw new TypeError(jV);const ie=H._typedFunctionData.signatures;for(let ce=0;ce<ie.length;++ce)if(ie[ce].test(Q))return ie[ce];return null},a}const $3=jae();function Ce(t,e,n,r){function i(o){var a=QTe(o,e.map(Wae));return tMe(t,e,o),n(a)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function O2(t){return typeof t=="function"&&typeof t.fn=="string"&&Array.isArray(t.dependencies)}function tMe(t,e,n){var r=e.filter(o=>!nMe(o)).every(o=>n[o]!==void 0);if(!r){var i=e.filter(o=>n[o]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function nMe(t){return t&&t[0]==="?"}function Wae(t){return t&&t[0]==="?"?t.slice(1):t}function Ft(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}function ip(t,e){if(e.number==="bigint")try{BigInt(t)}catch{return e.numberFallback}return e.number}var o0=Math.sign||function(t){return t>0?1:t<0?-1:0},rMe=Math.log2||function(e){return Math.log(e)/Math.LN2},iMe=Math.log10||function(e){return Math.log(e)/Math.LN10},oMe=Math.log1p||function(t){return Math.log(t+1)},aMe=Math.cbrt||function(e){if(e===0)return e;var n=e<0,r;return n&&(e=-e),isFinite(e)?(r=Math.exp(Math.log(e)/3),r=(e/(r*r)+2*r)/3):r=e,n?-r:r},sMe=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function oA(t,e,n){var r={2:"0b",8:"0o",16:"0x"},i=r[e],o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Ft(n))throw new Error("size must be an integer");if(t>2**(n-1)-1||t<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Ft(t))throw new Error("Value must be an integer");t<0&&(t=t+2**n),o="i".concat(n)}var a="";return t<0&&(t=-t,a="-"),"".concat(a).concat(i).concat(t.toString(e)).concat(o)}function Tm(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var{notation:n,precision:r,wordSize:i}=Gae(e);switch(n){case"fixed":return Kae(t,r);case"exponential":return Xae(t,r);case"engineering":return lMe(t,r);case"bin":return oA(t,2,i);case"oct":return oA(t,8,i);case"hex":return oA(t,16,i);case"auto":return uMe(t,r,e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],a=arguments[4];return o!=="."?o+a:a});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Gae(t){var e="auto",n,r;if(t!==void 0)if(mn(t))n=t;else if(hn(t))n=t.toNumber();else if(m1(t))t.precision!==void 0&&(n=WV(t.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),t.wordSize!==void 0&&(r=WV(t.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),t.notation&&(e=t.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:n,wordSize:r}}function Jw(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=o!==-1?o-1:r.length-1;var a=r.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return a.length===0&&(a.push(0),i++),{sign:n,coefficients:a,exponent:i}}function lMe(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Jw(t),r=lk(n,e),i=r.exponent,o=r.coefficients,a=i%3===0?i:i<0?i-3-i%3:i-i%3;if(mn(e))for(;e>o.length||i-a+1>o.length;)o.push(0);else for(var s=Math.abs(i-a)-(o.length-1),l=0;l<s;l++)o.push(0);for(var u=Math.abs(i-a),c=1;u>0;)c++,u--;var f=o.slice(c).join(""),d=mn(e)&&f.length||f.match(/[1-9]/)?"."+f:"",h=o.slice(0,c).join("")+d+"e"+(i>=0?"+":"")+a.toString();return r.sign+h}function Kae(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Jw(t),r=typeof e=="number"?lk(n,n.exponent+1+e):n,i=r.coefficients,o=r.exponent+1,a=o+(e||0);return i.length<a&&(i=i.concat(Wg(a-i.length))),o<0&&(i=Wg(-o+1).concat(i),o=1),o<i.length&&i.splice(o,0,o===0?"0.":"."),r.sign+i.join("")}function Xae(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Jw(t),r=e?lk(n,e):n,i=r.coefficients,o=r.exponent;i.length<e&&(i=i.concat(Wg(e-i.length)));var a=i.shift();return r.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function uMe(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var r=GV(n?.lowerExp,-3),i=GV(n?.upperExp,5),o=Jw(t),a=e?lk(o,e):o;if(a.exponent<r||a.exponent>=i)return Xae(t,e);var s=a.coefficients,l=a.exponent;s.length<e&&(s=s.concat(Wg(e-s.length))),s=s.concat(Wg(l-s.length+1+(s.length<e?e-s.length:0))),s=Wg(-l).concat(s);var u=l>0?l:0;return u<s.length-1&&s.splice(u+1,0,"."),a.sign+s.join("")}function lk(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e){var i=r.splice(e,r.length-e);if(i[0]>=5){var o=e-1;for(r[o]++;r[o]===10;)r.pop(),o===0&&(r.unshift(0),n.exponent++,o++),o--,r[o]++}}return n}function Wg(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}function cMe(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function ea(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(n<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(t)||isNaN(e)?!1:!isFinite(t)||!isFinite(e)?t===e:t===e?!0:Math.abs(t-e)<=Math.max(n*Math.max(Math.abs(t),Math.abs(e)),r)}var fMe=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},dMe=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},hMe=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},pMe=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},mMe=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},gMe=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};function vMe(t,e){var n=!0,r=e>0?!0:e<0?!1:1/e===1/0;return n^r?-t:t}function WV(t,e){if(mn(t))return t;if(hn(t))return t.toNumber();e()}function GV(t,e){return mn(t)?t:hn(t)?t.toNumber():e}var Yae=function(){return Yae=$3.create,$3},yMe=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Zae=Ce("typed",yMe,function(e){var{BigNumber:n,Complex:r,DenseMatrix:i,Fraction:o}=e,a=Yae();return a.clear(),a.addTypes([{name:"number",test:mn},{name:"Complex",test:Xu},{name:"BigNumber",test:hn},{name:"bigint",test:jg},{name:"Fraction",test:p1},{name:"Unit",test:Ts},{name:"identifier",test:s=>Ho&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:Ho},{name:"Chain",test:mP},{name:"Array",test:wr},{name:"Matrix",test:Ht},{name:"DenseMatrix",test:L3},{name:"SparseMatrix",test:i0},{name:"Range",test:sk},{name:"Index",test:Yw},{name:"boolean",test:Dae},{name:"ResultSet",test:Nae},{name:"Help",test:pP},{name:"function",test:Oae},{name:"Date",test:Iae},{name:"RegExp",test:Pae},{name:"null",test:Rae},{name:"undefined",test:Fae},{name:"AccessorNode",test:M0},{name:"ArrayNode",test:hl},{name:"AssignmentNode",test:Lae},{name:"BlockNode",test:$ae},{name:"ConditionalNode",test:Bae},{name:"ConstantNode",test:Fn},{name:"FunctionNode",test:Wd},{name:"FunctionAssignmentNode",test:cy},{name:"IndexNode",test:g1},{name:"Node",test:hr},{name:"ObjectNode",test:Zw},{name:"OperatorNode",test:Ni},{name:"ParenthesisNode",test:lf},{name:"RangeNode",test:zae},{name:"RelationalNode",test:qae},{name:"SymbolNode",test:ho},{name:"Map",test:Am},{name:"Object",test:m1}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(n||mx(l),cMe(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new n(l)}},{from:"number",to:"Complex",convert:function(l){return r||gx(l),new r(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return r||gx(l),new r(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return n||mx(l),new n(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return o||vx(l),new o(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return r||gx(l),new r(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){o||vx(l);var u=new o(l);if(u.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(l){var u=Number(l);if(isNaN(u))throw new Error('Cannot convert "'+l+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(l){n||mx(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){o||vx(l);try{return new o(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){r||gx(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return n||mx(l),new n(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return o||vx(l),new o(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||bMe(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),a.onMismatch=(s,l,u)=>{var c=a.createError(s,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Ml(l[0])&&u.some(d=>!d.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=c.data,f}throw c},a.onMismatch=(s,l,u)=>{var c=a.createError(s,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Ml(l[0])&&u.some(d=>!d.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=c.data,f}throw c},a});function mx(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function gx(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function bMe(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function vx(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var wMe="ResultSet",xMe=[],Jae=Ce(wMe,xMe,()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t},{isClass:!0});/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Ng=9e15,op=1e9,KM="0123456789abcdef",q_="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",V_="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",XM={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ng,maxE:Ng,crypto:!1},Qae,wd,gn=!0,uk="[DecimalError] ",D0=uk+"Invalid argument: ",ese=uk+"Precision limit exceeded",tse=uk+"crypto unavailable",nse="[object Decimal]",Ta=Math.floor,so=Math.pow,SMe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,_Me=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,CMe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,rse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yu=1e7,tn=7,kMe=9007199254740991,EMe=q_.length-1,YM=V_.length-1,tt={toStringTag:nse};tt.absoluteValue=tt.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Wt(t)};tt.ceil=function(){return Wt(new this.constructor(this),this.e+1,2)};tt.clampedTo=tt.clamp=function(t,e){var n,r=this,i=r.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(D0+e);return n=r.cmp(t),n<0?t:r.cmp(e)>0?e:new i(r)};tt.comparedTo=tt.cmp=function(t){var e,n,r,i,o=this,a=o.d,s=(t=new o.constructor(t)).d,l=o.s,u=t.s;if(!a||!s)return!l||!u?NaN:l!==u?l:a===s?0:!a^l<0?1:-1;if(!a[0]||!s[0])return a[0]?l:s[0]?-u:0;if(l!==u)return l;if(o.e!==t.e)return o.e>t.e^l<0?1:-1;for(r=a.length,i=s.length,e=0,n=r<i?r:i;e<n;++e)if(a[e]!==s[e])return a[e]>s[e]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1};tt.cosine=tt.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+tn,r.rounding=1,n=AMe(r,lse(r,n)),r.precision=t,r.rounding=e,Wt(wd==2||wd==3?n.neg():n,t,e,!0)):new r(1):new r(NaN)};tt.cubeRoot=tt.cbrt=function(){var t,e,n,r,i,o,a,s,l,u,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(gn=!1,o=c.s*so(c.s*c,1/3),!o||Math.abs(o)==1/0?(n=Xo(c.d),t=c.e,(o=(t-n.length+1)%3)&&(n+=o==1||o==-2?"0":"00"),o=so(n,1/3),t=Ta((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?n="5e"+t:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new f(n),r.s=c.s):r=new f(o.toString()),a=(t=f.precision)+3;;)if(s=r,l=s.times(s).times(s),u=l.plus(c),r=Hr(u.plus(c).times(s),u.plus(l),a+2,1),Xo(s.d).slice(0,a)===(n=Xo(r.d)).slice(0,a))if(n=n.slice(a-3,a+1),n=="9999"||!i&&n=="4999"){if(!i&&(Wt(s,t+1,0),s.times(s).times(s).eq(c))){r=s;break}a+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(Wt(r,t+1,1),e=!r.times(r).times(r).eq(c));break}return gn=!0,Wt(r,t,f.rounding,e)};tt.decimalPlaces=tt.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-Ta(this.e/tn))*tn,t=e[t],t)for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n};tt.dividedBy=tt.div=function(t){return Hr(this,new this.constructor(t))};tt.dividedToIntegerBy=tt.divToInt=function(t){var e=this,n=e.constructor;return Wt(Hr(e,new n(t),0,1,1),n.precision,n.rounding)};tt.equals=tt.eq=function(t){return this.cmp(t)===0};tt.floor=function(){return Wt(new this.constructor(this),this.e+1,3)};tt.greaterThan=tt.gt=function(t){return this.cmp(t)>0};tt.greaterThanOrEqualTo=tt.gte=function(t){var e=this.cmp(t);return e==1||e===0};tt.hyperbolicCosine=tt.cosh=function(){var t,e,n,r,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=(1/fk(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),o=Sv(a,1,o.times(e),new a(1),!0);for(var l,u=t,c=new a(8);u--;)l=o.times(o),o=s.minus(l.times(c.minus(l.times(c))));return Wt(o,a.precision=n,a.rounding=r,!0)};tt.hyperbolicSine=tt.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,r=i.d.length,r<3)i=Sv(o,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:t|0,i=i.times(1/fk(5,t)),i=Sv(o,2,i,i,!0);for(var a,s=new o(5),l=new o(16),u=new o(20);t--;)a=i.times(i),i=i.times(s.plus(a.times(l.times(a).plus(u))))}return o.precision=e,o.rounding=n,Wt(i,e,n,!0)};tt.hyperbolicTangent=tt.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,Hr(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)};tt.inverseCosine=tt.acos=function(){var t=this,e=t.constructor,n=t.abs().cmp(1),r=e.precision,i=e.rounding;return n!==-1?n===0?t.isNeg()?qc(e,r,i):new e(0):new e(NaN):t.isZero()?qc(e,r+4,i).times(.5):(e.precision=r+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=r,e.rounding=i,t.times(2))};tt.inverseHyperbolicCosine=tt.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,gn=!1,n=n.times(n).minus(1).sqrt().plus(n),gn=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)};tt.inverseHyperbolicSine=tt.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,gn=!1,n=n.times(n).plus(1).sqrt().plus(n),gn=!0,r.precision=t,r.rounding=e,n.ln())};tt.inverseHyperbolicTangent=tt.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?Wt(new o(i),t,e,!0):(o.precision=n=r-i.e,i=Hr(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)};tt.inverseSine=tt.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,e!==-1?e===0?(t=qc(o,n+4,r).times(.5),t.s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))};tt.inverseTangent=tt.atan=function(){var t,e,n,r,i,o,a,s,l,u=this,c=u.constructor,f=c.precision,d=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&f+4<=YM)return a=qc(c,f+4,d).times(.25),a.s=u.s,a}else{if(!u.s)return new c(NaN);if(f+4<=YM)return a=qc(c,f+4,d).times(.5),a.s=u.s,a}for(c.precision=s=f+10,c.rounding=1,n=Math.min(28,s/tn+2|0),t=n;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(gn=!1,e=Math.ceil(s/tn),r=1,l=u.times(u),a=new c(u),i=u;t!==-1;)if(i=i.times(l),o=a.minus(i.div(r+=2)),i=i.times(l),a=o.plus(i.div(r+=2)),a.d[e]!==void 0)for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),gn=!0,Wt(a,c.precision=f,c.rounding=d,!0)};tt.isFinite=function(){return!!this.d};tt.isInteger=tt.isInt=function(){return!!this.d&&Ta(this.e/tn)>this.d.length-2};tt.isNaN=function(){return!this.s};tt.isNegative=tt.isNeg=function(){return this.s<0};tt.isPositive=tt.isPos=function(){return this.s>0};tt.isZero=function(){return!!this.d&&this.d[0]===0};tt.lessThan=tt.lt=function(t){return this.cmp(t)<0};tt.lessThanOrEqualTo=tt.lte=function(t){return this.cmp(t)<1};tt.logarithm=tt.log=function(t){var e,n,r,i,o,a,s,l,u=this,c=u.constructor,f=c.precision,d=c.rounding,h=5;if(t==null)t=new c(10),e=!0;else{if(t=new c(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new c(n&&!n[0]?-1/0:u.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=i!==1}if(gn=!1,s=f+h,a=a0(u,s),r=e?H_(c,s+10):a0(t,s),l=Hr(a,r,s,1),B3(l.d,i=f,d))do if(s+=10,a=a0(u,s),r=e?H_(c,s+10):a0(t,s),l=Hr(a,r,s,1),!o){+Xo(l.d).slice(i+1,i+15)+1==1e14&&(l=Wt(l,f+1,0));break}while(B3(l.d,i+=10,d));return gn=!0,Wt(l,f,d)};tt.minus=tt.sub=function(t){var e,n,r,i,o,a,s,l,u,c,f,d,h=this,p=h.constructor;if(t=new p(t),!h.d||!t.d)return!h.s||!t.s?t=new p(NaN):h.d?t.s=-t.s:t=new p(t.d||h.s!==t.s?h:NaN),t;if(h.s!=t.s)return t.s=-t.s,h.plus(t);if(u=h.d,d=t.d,s=p.precision,l=p.rounding,!u[0]||!d[0]){if(d[0])t.s=-t.s;else if(u[0])t=new p(h);else return new p(l===3?-0:0);return gn?Wt(t,s,l):t}if(n=Ta(t.e/tn),c=Ta(h.e/tn),u=u.slice(),o=c-n,o){for(f=o<0,f?(e=u,o=-o,a=d.length):(e=d,n=c,a=u.length),r=Math.max(Math.ceil(s/tn),a)+2,o>r&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(r=u.length,a=d.length,f=r<a,f&&(a=r),r=0;r<a;r++)if(u[r]!=d[r]){f=u[r]<d[r];break}o=0}for(f&&(e=u,u=d,d=e,t.s=-t.s),a=u.length,r=d.length-a;r>0;--r)u[a++]=0;for(r=d.length;r>o;){if(u[--r]<d[r]){for(i=r;i&&u[--i]===0;)u[i]=Yu-1;--u[i],u[r]+=Yu}u[r]-=d[r]}for(;u[--a]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=ck(u,n),gn?Wt(t,s,l):t):new p(l===3?-0:0)};tt.modulo=tt.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?Wt(new r(n),r.precision,r.rounding):(gn=!1,r.modulo==9?(e=Hr(n,t.abs(),0,3,1),e.s*=t.s):e=Hr(n,t,0,r.modulo,1),e=e.times(t),gn=!0,n.minus(e))};tt.naturalExponential=tt.exp=function(){return ZM(this)};tt.naturalLogarithm=tt.ln=function(){return a0(this)};tt.negated=tt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Wt(t)};tt.plus=tt.add=function(t){var e,n,r,i,o,a,s,l,u,c,f=this,d=f.constructor;if(t=new d(t),!f.d||!t.d)return!f.s||!t.s?t=new d(NaN):f.d||(t=new d(t.d||f.s===t.s?f:NaN)),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(u=f.d,c=t.d,s=d.precision,l=d.rounding,!u[0]||!c[0])return c[0]||(t=new d(f)),gn?Wt(t,s,l):t;if(o=Ta(f.e/tn),r=Ta(t.e/tn),u=u.slice(),i=o-r,i){for(i<0?(n=u,i=-i,a=c.length):(n=c,r=o,a=u.length),o=Math.ceil(s/tn),a=o>a?o+1:a+1,i>a&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(a=u.length,i=c.length,a-i<0&&(i=a,n=c,c=u,u=n),e=0;i;)e=(u[--i]=u[i]+c[i]+e)/Yu|0,u[i]%=Yu;for(e&&(u.unshift(e),++r),a=u.length;u[--a]==0;)u.pop();return t.d=u,t.e=ck(u,r),gn?Wt(t,s,l):t};tt.precision=tt.sd=function(t){var e,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(D0+t);return n.d?(e=ise(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e};tt.round=function(){var t=this,e=t.constructor;return Wt(new e(t),t.e+1,e.rounding)};tt.sine=tt.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+tn,r.rounding=1,n=MMe(r,lse(r,n)),r.precision=t,r.rounding=e,Wt(wd>2?n.neg():n,t,e,!0)):new r(NaN)};tt.squareRoot=tt.sqrt=function(){var t,e,n,r,i,o,a=this,s=a.d,l=a.e,u=a.s,c=a.constructor;if(u!==1||!s||!s[0])return new c(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);for(gn=!1,u=Math.sqrt(+a),u==0||u==1/0?(e=Xo(s),(e.length+l)%2==0&&(e+="0"),u=Math.sqrt(e),l=Ta((l+1)/2)-(l<0||l%2),u==1/0?e="5e"+l:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),r=new c(e)):r=new c(u.toString()),n=(l=c.precision)+3;;)if(o=r,r=o.plus(Hr(a,o,n+2,1)).times(.5),Xo(o.d).slice(0,n)===(e=Xo(r.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!i&&e=="4999"){if(!i&&(Wt(o,l+1,0),o.times(o).eq(a))){r=o;break}n+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Wt(r,l+1,1),t=!r.times(r).eq(a));break}return gn=!0,Wt(r,l,c.rounding,t)};tt.tangent=tt.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=Hr(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,Wt(wd==2||wd==4?n.neg():n,t,e,!0)):new r(NaN)};tt.times=tt.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,d=c.d,h=(t=new f(t)).d;if(t.s*=c.s,!d||!d[0]||!h||!h[0])return new f(!t.s||d&&!d[0]&&!h||h&&!h[0]&&!d?NaN:!d||!h?t.s/0:t.s*0);for(n=Ta(c.e/tn)+Ta(t.e/tn),l=d.length,u=h.length,l<u&&(o=d,d=h,h=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+h[r]*d[i-r-1]+e,o[i--]=s%Yu|0,e=s/Yu|0;o[i]=(o[i]+e)%Yu|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=ck(o,n),gn?Wt(t,f.precision,f.rounding):t};tt.toBinary=function(t,e){return gP(this,2,t,e)};tt.toDecimalPlaces=tt.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ws(t,0,op),e===void 0?e=r.rounding:Ws(e,0,8),Wt(n,t+n.e+1,e))};tt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=uf(r,!0):(Ws(t,0,op),e===void 0?e=i.rounding:Ws(e,0,8),r=Wt(new i(r),t+1,e),n=uf(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n};tt.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?n=uf(i):(Ws(t,0,op),e===void 0?e=o.rounding:Ws(e,0,8),r=Wt(new o(i),t+i.e+1,e),n=uf(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};tt.toFraction=function(t){var e,n,r,i,o,a,s,l,u,c,f,d,h=this,p=h.d,m=h.constructor;if(!p)return new m(h);if(u=n=new m(1),r=l=new m(0),e=new m(r),o=e.e=ise(p)-h.e-1,a=o%tn,e.d[0]=so(10,a<0?tn+a:a),t==null)t=o>0?e:u;else{if(s=new m(t),!s.isInt()||s.lt(u))throw Error(D0+s);t=s.gt(e)?o>0?e:u:s}for(gn=!1,s=new m(Xo(p)),c=m.precision,m.precision=o=p.length*tn*2;f=Hr(s,e,0,1,1),i=n.plus(f.times(r)),i.cmp(t)!=1;)n=r,r=i,i=u,u=l.plus(f.times(i)),l=i,i=e,e=s.minus(f.times(i)),s=i;return i=Hr(t.minus(n),r,0,1,1),l=l.plus(i.times(u)),n=n.plus(i.times(r)),l.s=u.s=h.s,d=Hr(u,r,o,1).minus(h).abs().cmp(Hr(l,n,o,1).minus(h).abs())<1?[u,r]:[l,n],m.precision=c,gn=!0,d};tt.toHexadecimal=tt.toHex=function(t,e){return gP(this,16,t,e)};tt.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),t==null){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),e===void 0?e=r.rounding:Ws(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(gn=!1,n=Hr(n,t,0,e,1).times(t),gn=!0,Wt(n)):(t.s=n.s,n=t),n};tt.toNumber=function(){return+this};tt.toOctal=function(t,e){return gP(this,8,t,e)};tt.toPower=tt.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=+(t=new l(t));if(!s.d||!t.d||!s.d[0]||!t.d[0])return new l(so(+s,u));if(s=new l(s),s.eq(1))return s;if(r=l.precision,o=l.rounding,t.eq(1))return Wt(s,r,o);if(e=Ta(t.e/tn),e>=t.d.length-1&&(n=u<0?-u:u)<=kMe)return i=ose(l,s,n,r),t.s<0?new l(1).div(i):Wt(i,r,o);if(a=s.s,a<0){if(e<t.d.length-1)return new l(NaN);if((t.d[e]&1)==0&&(a=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=a,s}return n=so(+s,u),e=n==0||!isFinite(n)?Ta(u*(Math.log("0."+Xo(s.d))/Math.LN10+s.e+1)):new l(n+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?a/0:0):(gn=!1,l.rounding=s.s=1,n=Math.min(12,(e+"").length),i=ZM(t.times(a0(s,r+n)),r),i.d&&(i=Wt(i,r+5,1),B3(i.d,r,o)&&(e=r+10,i=Wt(ZM(t.times(a0(s,e+n)),e),e+5,1),+Xo(i.d).slice(r+1,r+15)+1==1e14&&(i=Wt(i,r+1,0)))),i.s=a,gn=!0,l.rounding=o,Wt(i,r,o))};tt.toPrecision=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=uf(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Ws(t,1,op),e===void 0?e=i.rounding:Ws(e,0,8),r=Wt(new i(r),t,e),n=uf(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n};tt.toSignificantDigits=tt.toSD=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ws(t,1,op),e===void 0?e=r.rounding:Ws(e,0,8)),Wt(new r(n),t,e)};tt.toString=function(){var t=this,e=t.constructor,n=uf(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n};tt.truncated=tt.trunc=function(){return Wt(new this.constructor(this),this.e+1,1)};tt.valueOf=tt.toJSON=function(){var t=this,e=t.constructor,n=uf(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};function Xo(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=tn-r.length,n&&(o+=Hh(n)),o+=r;a=t[e],r=a+"",n=tn-r.length,n&&(o+=Hh(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}function Ws(t,e,n){if(t!==~~t||t<e||t>n)throw Error(D0+t)}function B3(t,e,n,r){var i,o,a,s;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=tn,i=0):(i=Math.ceil((e+1)/tn),e%=tn),o=so(10,tn-e),s=t[i]%o|0,r==null?e<3?(e==0?s=s/100|0:e==1&&(s=s/10|0),a=n<4&&s==99999||n>3&&s==49999||s==5e4||s==0):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(t[i+1]/o/100|0)==so(10,e-2)-1||(s==o/2||s==0)&&(t[i+1]/o/100|0)==0:e<4?(e==0?s=s/1e3|0:e==1?s=s/100|0:e==2&&(s=s/10|0),a=(r||n<4)&&s==9999||!r&&n>3&&s==4999):a=((r||n<4)&&s+1==o||!r&&n>3&&s+1==o/2)&&(t[i+1]/o/1e3|0)==so(10,e-3)-1,a}function H6(t,e,n){for(var r,i=[0],o,a=0,s=t.length;a<s;){for(o=i.length;o--;)i[o]*=e;for(i[0]+=KM.indexOf(t.charAt(a++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function AMe(t,e){var n,r,i;if(e.isZero())return e;r=e.d.length,r<32?(n=Math.ceil(r/3),i=(1/fk(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),t.precision+=n,e=Sv(t,1,e.times(i),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}var Hr=function(){function t(r,i,o){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%o|0,s=a/o|0;return s&&r.unshift(s),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o,a){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*a+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a,s,l){var u,c,f,d,h,p,m,g,v,y,b,w,x,S,_,k,C,E,M,A,N=r.constructor,T=r.s==i.s?1:-1,I=r.d,O=i.d;if(!I||!I[0]||!O||!O[0])return new N(!r.s||!i.s||(I?O&&I[0]==O[0]:!O)?NaN:I&&I[0]==0||!O?T*0:T/0);for(l?(h=1,c=r.e-i.e):(l=Yu,h=tn,c=Ta(r.e/h)-Ta(i.e/h)),M=O.length,C=I.length,v=new N(T),y=v.d=[],f=0;O[f]==(I[f]||0);f++);if(O[f]>(I[f]||0)&&c--,o==null?(S=o=N.precision,a=N.rounding):s?S=o+(r.e-i.e)+1:S=o,S<0)y.push(1),p=!0;else{if(S=S/h+2|0,f=0,M==1){for(d=0,O=O[0],S++;(f<C||d)&&S--;f++)_=d*l+(I[f]||0),y[f]=_/O|0,d=_%O|0;p=d||f<C}else{for(d=l/(O[0]+1)|0,d>1&&(O=t(O,d,l),I=t(I,d,l),M=O.length,C=I.length),k=M,b=I.slice(0,M),w=b.length;w<M;)b[w++]=0;A=O.slice(),A.unshift(0),E=O[0],O[1]>=l/2&&++E;do d=0,u=e(O,b,M,w),u<0?(x=b[0],M!=w&&(x=x*l+(b[1]||0)),d=x/E|0,d>1?(d>=l&&(d=l-1),m=t(O,d,l),g=m.length,w=b.length,u=e(m,b,g,w),u==1&&(d--,n(m,M<g?A:O,g,l))):(d==0&&(u=d=1),m=O.slice()),g=m.length,g<w&&m.unshift(0),n(b,m,w,l),u==-1&&(w=b.length,u=e(O,b,M,w),u<1&&(d++,n(b,M<w?A:O,w,l))),w=b.length):u===0&&(d++,b=[0]),y[f++]=d,u&&b[0]?b[w++]=I[k]||0:(b=[I[k]],w=1);while((k++<C||b[0]!==void 0)&&S--);p=b[0]!==void 0}y[0]||y.shift()}if(h==1)v.e=c,Qae=p;else{for(f=1,d=y[0];d>=10;d/=10)f++;v.e=f+c*h-1,Wt(v,s?o+v.e+1:o,a,p)}return v}}();function Wt(t,e,n,r){var i,o,a,s,l,u,c,f,d,h=t.constructor;e:if(e!=null){if(f=t.d,!f)return t;for(i=1,s=f[0];s>=10;s/=10)i++;if(o=e-i,o<0)o+=tn,a=e,c=f[d=0],l=c/so(10,i-a-1)%10|0;else if(d=Math.ceil((o+1)/tn),s=f.length,d>=s)if(r){for(;s++<=d;)f.push(0);c=l=0,i=1,o%=tn,a=o-tn+1}else break e;else{for(c=s=f[d],i=1;s>=10;s/=10)i++;o%=tn,a=o-tn+i,l=a<0?0:c/so(10,i-a-1)%10|0}if(r=r||e<0||f[d+1]!==void 0||(a<0?c:c%so(10,i-a-1)),u=n<4?(l||r)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||r||n==6&&(o>0?a>0?c/so(10,i-a):0:f[d-1])%10&1||n==(t.s<0?8:7)),e<1||!f[0])return f.length=0,u?(e-=t.e+1,f[0]=so(10,(tn-e%tn)%tn),t.e=-e||0):f[0]=t.e=0,t;if(o==0?(f.length=d,s=1,d--):(f.length=d+1,s=so(10,tn-o),f[d]=a>0?(c/so(10,i-a)%so(10,a)|0)*s:0),u)for(;;)if(d==0){for(o=1,a=f[0];a>=10;a/=10)o++;for(a=f[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(t.e++,f[0]==Yu&&(f[0]=1));break}else{if(f[d]+=s,f[d]!=Yu)break;f[d--]=0,s=1}for(o=f.length;f[--o]===0;)f.pop()}return gn&&(t.e>h.maxE?(t.d=null,t.e=NaN):t.e<h.minE&&(t.e=0,t.d=[0])),t}function uf(t,e,n){if(!t.isFinite())return sse(t);var r,i=t.e,o=Xo(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Hh(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+Hh(-i-1)+o,n&&(r=n-a)>0&&(o+=Hh(r))):i>=a?(o+=Hh(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Hh(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Hh(r))),o}function ck(t,e){var n=t[0];for(e*=tn;n>=10;n/=10)e++;return e}function H_(t,e,n){if(e>EMe)throw gn=!0,n&&(t.precision=n),Error(ese);return Wt(new t(q_),e,1,!0)}function qc(t,e,n){if(e>YM)throw Error(ese);return Wt(new t(V_),e,n,!0)}function ise(t){var e=t.length-1,n=e*tn+1;if(e=t[e],e){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function Hh(t){for(var e="";t--;)e+="0";return e}function ose(t,e,n,r){var i,o=new t(1),a=Math.ceil(r/tn+4);for(gn=!1;;){if(n%2&&(o=o.times(e),XV(o.d,a)&&(i=!0)),n=Ta(n/2),n===0){n=o.d.length-1,i&&o.d[n]===0&&++o.d[n];break}e=e.times(e),XV(e.d,a)}return gn=!0,o}function KV(t){return t.d[t.d.length-1]&1}function ase(t,e,n){for(var r,i,o=new t(e[0]),a=0;++a<e.length;){if(i=new t(e[a]),!i.s){o=i;break}r=o.cmp(i),(r===n||r===0&&o.s===n)&&(o=i)}return o}function ZM(t,e){var n,r,i,o,a,s,l,u=0,c=0,f=0,d=t.constructor,h=d.rounding,p=d.precision;if(!t.d||!t.d[0]||t.e>17)return new d(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(gn=!1,l=p):l=e,s=new d(.03125);t.e>-2;)t=t.times(s),f+=5;for(r=Math.log(so(2,f))/Math.LN10*2+5|0,l+=r,n=o=a=new d(1),d.precision=l;;){if(o=Wt(o.times(t),l,1),n=n.times(++c),s=a.plus(Hr(o,n,l,1)),Xo(s.d).slice(0,l)===Xo(a.d).slice(0,l)){for(i=f;i--;)a=Wt(a.times(a),l,1);if(e==null)if(u<3&&B3(a.d,l-r,h,u))d.precision=l+=10,n=o=s=new d(1),c=0,u++;else return Wt(a,d.precision=p,h,gn=!0);else return d.precision=p,a}a=s}}function a0(t,e){var n,r,i,o,a,s,l,u,c,f,d,h=1,p=10,m=t,g=m.d,v=m.constructor,y=v.rounding,b=v.precision;if(m.s<0||!g||!g[0]||!m.e&&g[0]==1&&g.length==1)return new v(g&&!g[0]?-1/0:m.s!=1?NaN:g?0:m);if(e==null?(gn=!1,c=b):c=e,v.precision=c+=p,n=Xo(g),r=n.charAt(0),Math.abs(o=m.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Xo(m.d),r=n.charAt(0),h++;o=m.e,r>1?(m=new v("0."+n),o++):m=new v(r+"."+n.slice(1))}else return u=H_(v,c+2,b).times(o+""),m=a0(new v(r+"."+n.slice(1)),c-p).plus(u),v.precision=b,e==null?Wt(m,b,y,gn=!0):m;for(f=m,l=a=m=Hr(m.minus(1),m.plus(1),c,1),d=Wt(m.times(m),c,1),i=3;;){if(a=Wt(a.times(d),c,1),u=l.plus(Hr(a,new v(i),c,1)),Xo(u.d).slice(0,c)===Xo(l.d).slice(0,c))if(l=l.times(2),o!==0&&(l=l.plus(H_(v,c+2,b).times(o+""))),l=Hr(l,new v(h),c,1),e==null)if(B3(l.d,c-p,y,s))v.precision=c+=p,u=a=m=Hr(f.minus(1),f.plus(1),c,1),d=Wt(m.times(m),c,1),i=s=1;else return Wt(l,v.precision=b,y,gn=!0);else return v.precision=b,l;l=u,i+=2}}function sse(t){return String(t.s*t.s/0)}function U6(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i),e){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%tn,n<0&&(r+=tn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=tn;r<i;)t.d.push(+e.slice(r,r+=tn));e=e.slice(r),r=tn-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),gn&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function TMe(t,e){var n,r,i,o,a,s,l,u,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),rse.test(e))return U6(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(_Me.test(e))n=16,e=e.toLowerCase();else if(SMe.test(e))n=2;else if(CMe.test(e))n=8;else throw Error(D0+e);for(o=e.search(/p/i),o>0?(l=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),a=o>=0,r=t.constructor,a&&(e=e.replace(".",""),s=e.length,o=s-o,i=ose(r,new r(n),o,o*2)),u=H6(e,n,Yu),c=u.length-1,o=c;u[o]===0;--o)u.pop();return o<0?new r(t.s*0):(t.e=ck(u,c),t.d=u,gn=!1,a&&(t=Hr(t,i,s*4)),l&&(t=t.times(Math.abs(l)<54?so(2,l):N0.pow(2,l))),gn=!0,t)}function MMe(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:Sv(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:n|0,e=e.times(1/fk(5,n)),e=Sv(t,2,e,e);for(var i,o=new t(5),a=new t(16),s=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(s))));return e}function Sv(t,e,n,r,i){var o,a,s,l,u=t.precision,c=Math.ceil(u/tn);for(gn=!1,l=n.times(n),s=new t(r);;){if(a=Hr(s.times(l),new t(e++*e++),u,1),s=i?r.plus(a):r.minus(a),r=Hr(a.times(l),new t(e++*e++),u,1),a=s.plus(r),a.d[c]!==void 0){for(o=c;a.d[o]===s.d[o]&&o--;);if(o==-1)break}o=s,s=r,r=a,a=o}return gn=!0,a.d.length=c+1,a}function fk(t,e){for(var n=t;--e;)n*=t;return n}function lse(t,e){var n,r=e.s<0,i=qc(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return wd=r?4:1,e;if(n=e.divToInt(i),n.isZero())wd=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(o))return wd=KV(n)?r?2:3:r?4:1,e;wd=KV(n)?r?1:4:r?3:2}return e.minus(i).abs()}function gP(t,e,n,r){var i,o,a,s,l,u,c,f,d,h=t.constructor,p=n!==void 0;if(p?(Ws(n,1,op),r===void 0?r=h.rounding:Ws(r,0,8)):(n=h.precision,r=h.rounding),!t.isFinite())c=sse(t);else{for(c=uf(t),a=c.indexOf("."),p?(i=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):i=e,a>=0&&(c=c.replace(".",""),d=new h(1),d.e=c.length-a,d.d=H6(uf(d),10,i),d.e=d.d.length),f=H6(c,10,i),o=l=f.length;f[--l]==0;)f.pop();if(!f[0])c=p?"0p+0":"0";else{if(a<0?o--:(t=new h(t),t.d=f,t.e=o,t=Hr(t,d,n,r,0,i),f=t.d,o=t.e,u=Qae),a=f[n],s=i/2,u=u||f[n+1]!==void 0,u=r<4?(a!==void 0||u)&&(r===0||r===(t.s<0?3:2)):a>s||a===s&&(r===4||u||r===6&&f[n-1]&1||r===(t.s<0?8:7)),f.length=n,u)for(;++f[--n]>i-1;)f[n]=0,n||(++o,f.unshift(1));for(l=f.length;!f[l-1];--l);for(a=0,c="";a<l;a++)c+=KM.charAt(f[a]);if(p){if(l>1)if(e==16||e==8){for(a=e==16?4:3,--l;l%a;l++)c+="0";for(f=H6(c,i,e),l=f.length;!f[l-1];--l);for(a=1,c="1.";a<l;a++)c+=KM.charAt(f[a])}else c=c.charAt(0)+"."+c.slice(1);c=c+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)c="0"+c;c="0."+c}else if(++o>l)for(o-=l;o--;)c+="0";else o<l&&(c=c.slice(0,o)+"."+c.slice(o))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return t.s<0?"-"+c:c}function XV(t,e){if(t.length>e)return t.length=e,!0}function DMe(t){return new this(t).abs()}function NMe(t){return new this(t).acos()}function OMe(t){return new this(t).acosh()}function IMe(t,e){return new this(t).plus(e)}function PMe(t){return new this(t).asin()}function RMe(t){return new this(t).asinh()}function FMe(t){return new this(t).atan()}function LMe(t){return new this(t).atanh()}function $Me(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return!t.s||!e.s?n=new this(NaN):!t.d&&!e.d?(n=qc(this,o,1).times(e.s>0?.25:.75),n.s=t.s):!e.d||t.isZero()?(n=e.s<0?qc(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=qc(this,o,1).times(.5),n.s=t.s):e.s<0?(this.precision=o,this.rounding=1,n=this.atan(Hr(t,e,o,1)),e=qc(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(Hr(t,e,o,1)),n}function BMe(t){return new this(t).cbrt()}function zMe(t){return Wt(t=new this(t),t.e+1,2)}function qMe(t,e,n){return new this(t).clamp(e,n)}function VMe(t){if(!t||typeof t!="object")throw Error(uk+"Object expected");var e,n,r,i=t.defaults===!0,o=["precision",1,op,"rounding",0,8,"toExpNeg",-Ng,0,"toExpPos",0,Ng,"maxE",0,Ng,"minE",-Ng,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],i&&(this[n]=XM[n]),(r=t[n])!==void 0)if(Ta(r)===r&&r>=o[e+1]&&r<=o[e+2])this[n]=r;else throw Error(D0+n+": "+r);if(n="crypto",i&&(this[n]=XM[n]),(r=t[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(tse);else this[n]=!1;else throw Error(D0+n+": "+r);return this}function HMe(t){return new this(t).cos()}function UMe(t){return new this(t).cosh()}function use(t){var e,n,r;function i(o){var a,s,l,u=this;if(!(u instanceof i))return new i(o);if(u.constructor=i,YV(o)){u.s=o.s,gn?!o.d||o.e>i.maxE?(u.e=NaN,u.d=null):o.e<i.minE?(u.e=0,u.d=[0]):(u.e=o.e,u.d=o.d.slice()):(u.e=o.e,u.d=o.d?o.d.slice():o.d);return}if(l=typeof o,l==="number"){if(o===0){u.s=1/o<0?-1:1,u.e=0,u.d=[0];return}if(o<0?(o=-o,u.s=-1):u.s=1,o===~~o&&o<1e7){for(a=0,s=o;s>=10;s/=10)a++;gn?a>i.maxE?(u.e=NaN,u.d=null):a<i.minE?(u.e=0,u.d=[0]):(u.e=a,u.d=[o]):(u.e=a,u.d=[o]);return}if(o*0!==0){o||(u.s=NaN),u.e=NaN,u.d=null;return}return U6(u,o.toString())}if(l==="string")return(s=o.charCodeAt(0))===45?(o=o.slice(1),u.s=-1):(s===43&&(o=o.slice(1)),u.s=1),rse.test(o)?U6(u,o):TMe(u,o);if(l==="bigint")return o<0?(o=-o,u.s=-1):u.s=1,U6(u,o.toString());throw Error(D0+o)}if(i.prototype=tt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=VMe,i.clone=use,i.isDecimal=YV,i.abs=DMe,i.acos=NMe,i.acosh=OMe,i.add=IMe,i.asin=PMe,i.asinh=RMe,i.atan=FMe,i.atanh=LMe,i.atan2=$Me,i.cbrt=BMe,i.ceil=zMe,i.clamp=qMe,i.cos=HMe,i.cosh=UMe,i.div=jMe,i.exp=WMe,i.floor=GMe,i.hypot=KMe,i.ln=XMe,i.log=YMe,i.log10=JMe,i.log2=ZMe,i.max=QMe,i.min=eDe,i.mod=tDe,i.mul=nDe,i.pow=rDe,i.random=iDe,i.round=oDe,i.sign=aDe,i.sin=sDe,i.sinh=lDe,i.sqrt=uDe,i.sub=cDe,i.sum=fDe,i.tan=dDe,i.tanh=hDe,i.trunc=pDe,t===void 0&&(t={}),t&&t.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function jMe(t,e){return new this(t).div(e)}function WMe(t){return new this(t).exp()}function GMe(t){return Wt(t=new this(t),t.e+1,3)}function KMe(){var t,e,n=new this(0);for(gn=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return gn=!0,new this(1/0);n=e}return gn=!0,n.sqrt()}function YV(t){return t instanceof N0||t&&t.toStringTag===nse||!1}function XMe(t){return new this(t).ln()}function YMe(t,e){return new this(t).log(e)}function ZMe(t){return new this(t).log(2)}function JMe(t){return new this(t).log(10)}function QMe(){return ase(this,arguments,-1)}function eDe(){return ase(this,arguments,1)}function tDe(t,e){return new this(t).mod(e)}function nDe(t,e){return new this(t).mul(e)}function rDe(t,e){return new this(t).pow(e)}function iDe(t){var e,n,r,i,o=0,a=new this(1),s=[];if(t===void 0?t=this.precision:Ws(t,1,op),r=Math.ceil(t/tn),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(r*=4);o<r;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(s.push(i%1e7),o+=4);o=r/4}else throw Error(tse);else for(;o<r;)s[o++]=Math.random()*1e7|0;for(r=s[--o],t%=tn,r&&t&&(i=so(10,tn-t),s[o]=(r/i|0)*i);s[o]===0;o--)s.pop();if(o<0)n=0,s=[0];else{for(n=-1;s[0]===0;n-=tn)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<tn&&(n-=tn-r)}return a.e=n,a.d=s,a}function oDe(t){return Wt(t=new this(t),t.e+1,this.rounding)}function aDe(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function sDe(t){return new this(t).sin()}function lDe(t){return new this(t).sinh()}function uDe(t){return new this(t).sqrt()}function cDe(t,e){return new this(t).sub(e)}function fDe(){var t=0,e=arguments,n=new this(e[t]);for(gn=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return gn=!0,Wt(n,this.precision,this.rounding)}function dDe(t){return new this(t).tan()}function hDe(t){return new this(t).tanh()}function pDe(t){return Wt(t=new this(t),t.e+1,1)}tt[Symbol.for("nodejs.util.inspect.custom")]=tt.toString;tt[Symbol.toStringTag]="Decimal";var N0=tt.constructor=use(XM);q_=new N0(q_);V_=new N0(V_);var mDe="BigNumber",gDe=["?on","config"],cse=Ce(mDe,gDe,t=>{var{on:e,config:n}=t,r=N0.clone({precision:n.precision,modulo:N0.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,o){i.precision!==o.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const sa=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:(Math.exp(t)+Math.exp(-t))*.5},Hl=Math.sinh||function(t){return Math.abs(t)<1e-9?t:(Math.exp(t)-Math.exp(-t))*.5},vDe=function(t){const e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;const n=t*t;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},aA=function(t,e){return t=Math.abs(t),e=Math.abs(e),t<e&&([t,e]=[e,t]),t<1e8?Math.sqrt(t*t+e*e):(e/=t,t*Math.sqrt(1+e*e))},j1=function(){throw SyntaxError("Invalid Param")};function sA(t,e){const n=Math.abs(t),r=Math.abs(e);return t===0?Math.log(r):e===0?Math.log(n):n<3e3&&r<3e3?Math.log(t*t+e*e)*.5:(t=t*.5,e=e*.5,.5*Math.log(t*t+e*e)+Math.LN2)}const yDe={re:0,im:0},Hp=function(t,e){const n=yDe;if(t==null)n.re=n.im=0;else if(e!==void 0)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!isFinite(t.abs)&&isFinite(t.arg))return Ke.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!isFinite(t.r)&&isFinite(t.phi))return Ke.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else t.length===2?(n.re=t[0],n.im=t[1]):j1();break;case"string":n.im=n.re=0;const r=t.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,o=0;r===null&&j1();for(let a=0;a<r.length;a++){const s=r[a];s===" "||s==="	"||s===`
`||(s==="+"?i++:s==="-"?o++:s==="i"||s==="I"?(i+o===0&&j1(),r[a+1]!==" "&&!isNaN(r[a+1])?(n.im+=parseFloat((o%2?"-":"")+r[a+1]),a++):n.im+=parseFloat((o%2?"-":"")+"1"),i=o=0):((i+o===0||isNaN(s))&&j1(),r[a+1]==="i"||r[a+1]==="I"?(n.im+=parseFloat((o%2?"-":"")+s),a++):n.re+=parseFloat((o%2?"-":"")+s),i=o=0))}i+o>0&&j1();break;case"number":n.im=0,n.re=t;break;default:j1()}return isNaN(n.re)||isNaN(n.im),n};function Ke(t,e){if(!(this instanceof Ke))return new Ke(t,e);const n=Hp(t,e);this.re=n.re,this.im=n.im}Ke.prototype={re:0,im:0,sign:function(){const t=aA(this.re,this.im);return new Ke(this.re/t,this.im/t)},add:function(t,e){const n=Hp(t,e),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?Ke.NAN:Ke.INFINITY:new Ke(this.re+n.re,this.im+n.im)},sub:function(t,e){const n=Hp(t,e),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?Ke.NAN:Ke.INFINITY:new Ke(this.re-n.re,this.im-n.im)},mul:function(t,e){const n=Hp(t,e),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),o=this.re===0&&this.im===0,a=n.re===0&&n.im===0;return r&&a||i&&o?Ke.NAN:r||i?Ke.INFINITY:n.im===0&&this.im===0?new Ke(this.re*n.re,0):new Ke(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,e){const n=Hp(t,e),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),o=this.re===0&&this.im===0,a=n.re===0&&n.im===0;if(o&&a||r&&i)return Ke.NAN;if(a||r)return Ke.INFINITY;if(o||i)return Ke.ZERO;if(n.im===0)return new Ke(this.re/n.re,this.im/n.re);if(Math.abs(n.re)<Math.abs(n.im)){const s=n.re/n.im,l=n.re*s+n.im;return new Ke((this.re*s+this.im)/l,(this.im*s-this.re)/l)}else{const s=n.im/n.re,l=n.im*s+n.re;return new Ke((this.re+this.im*s)/l,(this.im-this.re*s)/l)}},pow:function(t,e){const n=Hp(t,e),r=this.re===0&&this.im===0;if(n.re===0&&n.im===0)return Ke.ONE;if(n.im===0){if(this.im===0&&this.re>0)return new Ke(Math.pow(this.re,n.re),0);if(this.re===0)switch((n.re%4+4)%4){case 0:return new Ke(Math.pow(this.im,n.re),0);case 1:return new Ke(0,Math.pow(this.im,n.re));case 2:return new Ke(-Math.pow(this.im,n.re),0);case 3:return new Ke(0,-Math.pow(this.im,n.re))}}if(r&&n.re>0)return Ke.ZERO;const o=Math.atan2(this.im,this.re),a=sA(this.re,this.im);let s=Math.exp(n.re*a-n.im*o),l=n.im*a+n.re*o;return new Ke(s*Math.cos(l),s*Math.sin(l))},sqrt:function(){const t=this.re,e=this.im;if(e===0)return t>=0?new Ke(Math.sqrt(t),0):new Ke(0,Math.sqrt(-t));const n=aA(t,e);let r=Math.sqrt(.5*(n+Math.abs(t))),i=Math.abs(e)/(2*r);return t>=0?new Ke(r,e<0?-i:i):new Ke(i,e<0?-r:r)},exp:function(){const t=Math.exp(this.re);return this.im===0?new Ke(t,0):new Ke(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){const t=this.re,e=this.im;return new Ke(Math.expm1(t)*Math.cos(e)+vDe(e),Math.exp(t)*Math.sin(e))},log:function(){const t=this.re,e=this.im;return e===0&&t>0?new Ke(Math.log(t),0):new Ke(sA(t,e),Math.atan2(e,t))},abs:function(){return aA(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const t=this.re,e=this.im;return new Ke(Math.sin(t)*sa(e),Math.cos(t)*Hl(e))},cos:function(){const t=this.re,e=this.im;return new Ke(Math.cos(t)*sa(e),-Math.sin(t)*Hl(e))},tan:function(){const t=2*this.re,e=2*this.im,n=Math.cos(t)+sa(e);return new Ke(Math.sin(t)/n,Hl(e)/n)},cot:function(){const t=2*this.re,e=2*this.im,n=Math.cos(t)-sa(e);return new Ke(-Math.sin(t)/n,Hl(e)/n)},sec:function(){const t=this.re,e=this.im,n=.5*sa(2*e)+.5*Math.cos(2*t);return new Ke(Math.cos(t)*sa(e)/n,Math.sin(t)*Hl(e)/n)},csc:function(){const t=this.re,e=this.im,n=.5*sa(2*e)-.5*Math.cos(2*t);return new Ke(Math.sin(t)*sa(e)/n,-Math.cos(t)*Hl(e)/n)},asin:function(){const t=this.re,e=this.im,n=new Ke(e*e-t*t+1,-2*t*e).sqrt(),r=new Ke(n.re-e,n.im+t).log();return new Ke(r.im,-r.re)},acos:function(){const t=this.re,e=this.im,n=new Ke(e*e-t*t+1,-2*t*e).sqrt(),r=new Ke(n.re-e,n.im+t).log();return new Ke(Math.PI/2-r.im,r.re)},atan:function(){const t=this.re,e=this.im;if(t===0){if(e===1)return new Ke(0,1/0);if(e===-1)return new Ke(0,-1/0)}const n=t*t+(1-e)*(1-e),r=new Ke((1-e*e-t*t)/n,-2*t/n).log();return new Ke(-.5*r.im,.5*r.re)},acot:function(){const t=this.re,e=this.im;if(e===0)return new Ke(Math.atan2(1,t),0);const n=t*t+e*e;return n!==0?new Ke(t/n,-e/n).atan():new Ke(t!==0?t/0:0,e!==0?-e/0:0).atan()},asec:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new Ke(0,1/0);const n=t*t+e*e;return n!==0?new Ke(t/n,-e/n).acos():new Ke(t!==0?t/0:0,e!==0?-e/0:0).acos()},acsc:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new Ke(Math.PI/2,1/0);const n=t*t+e*e;return n!==0?new Ke(t/n,-e/n).asin():new Ke(t!==0?t/0:0,e!==0?-e/0:0).asin()},sinh:function(){const t=this.re,e=this.im;return new Ke(Hl(t)*Math.cos(e),sa(t)*Math.sin(e))},cosh:function(){const t=this.re,e=this.im;return new Ke(sa(t)*Math.cos(e),Hl(t)*Math.sin(e))},tanh:function(){const t=2*this.re,e=2*this.im,n=sa(t)+Math.cos(e);return new Ke(Hl(t)/n,Math.sin(e)/n)},coth:function(){const t=2*this.re,e=2*this.im,n=sa(t)-Math.cos(e);return new Ke(Hl(t)/n,-Math.sin(e)/n)},csch:function(){const t=this.re,e=this.im,n=Math.cos(2*e)-sa(2*t);return new Ke(-2*Hl(t)*Math.cos(e)/n,2*sa(t)*Math.sin(e)/n)},sech:function(){const t=this.re,e=this.im,n=Math.cos(2*e)+sa(2*t);return new Ke(2*sa(t)*Math.cos(e)/n,-2*Hl(t)*Math.sin(e)/n)},asinh:function(){let t=this.im;this.im=-this.re,this.re=t;const e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){const t=this.acos();if(t.im<=0){const e=t.re;t.re=-t.im,t.im=e}else{const e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){const t=this.re,e=this.im,n=t>1&&e===0,r=1-t,i=1+t,o=r*r+e*e,a=o!==0?new Ke((i*r-e*e)/o,(e*r+i*e)/o):new Ke(t!==-1?t/0:0,e!==0?e/0:0),s=a.re;return a.re=sA(a.re,a.im)/2,a.im=Math.atan2(a.im,s)/2,n&&(a.im=-a.im),a},acoth:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new Ke(0,Math.PI/2);const n=t*t+e*e;return n!==0?new Ke(t/n,-e/n).atanh():new Ke(t!==0?t/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const t=this.re,e=this.im;if(e===0)return new Ke(t!==0?Math.log(t+Math.sqrt(t*t+1)):1/0,0);const n=t*t+e*e;return n!==0?new Ke(t/n,-e/n).asinh():new Ke(t!==0?t/0:0,e!==0?-e/0:0).asinh()},asech:function(){const t=this.re,e=this.im;if(this.isZero())return Ke.INFINITY;const n=t*t+e*e;return n!==0?new Ke(t/n,-e/n).acosh():new Ke(t!==0?t/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return Ke.INFINITY;if(this.isInfinite())return Ke.ZERO;const t=this.re,e=this.im,n=t*t+e*e;return new Ke(t/n,-e/n)},conjugate:function(){return new Ke(this.re,-this.im)},neg:function(){return new Ke(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new Ke(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new Ke(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new Ke(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){const n=Hp(t,e);return Math.abs(n.re-this.re)<=Ke.EPSILON&&Math.abs(n.im-this.im)<=Ke.EPSILON},clone:function(){return new Ke(this.re,this.im)},toString:function(){let t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<Ke.EPSILON&&(t=0),Math.abs(e)<Ke.EPSILON&&(e=0),e===0?n+t:(t!==0?(n+=t,n+=" ",e<0?(e=-e,n+="-"):n+="+",n+=" "):e<0&&(e=-e,n+="-"),e!==1&&(n+=e),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};Ke.ZERO=new Ke(0,0);Ke.ONE=new Ke(1,0);Ke.I=new Ke(0,1);Ke.PI=new Ke(Math.PI,0);Ke.E=new Ke(Math.E,0);Ke.INFINITY=new Ke(1/0,1/0);Ke.NAN=new Ke(NaN,NaN);Ke.EPSILON=1e-15;var bDe="Complex",wDe=[],fse=Ce(bDe,wDe,()=>(Object.defineProperty(Ke,"name",{value:"Complex"}),Ke.prototype.constructor=Ke,Ke.prototype.type="Complex",Ke.prototype.isComplex=!0,Ke.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ke.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ke.prototype.format=function(t){var e="",n=this.im,r=this.re,i=Tm(this.re,t),o=Tm(this.im,t),a=mn(t)?t:t?t.precision:null;if(a!==null){var s=Math.pow(10,-a);Math.abs(r/n)<s&&(r=0),Math.abs(n/r)<s&&(n=0)}return n===0?e=i:r===0?n===1?e="i":n===-1?e="-i":e=o+"i":n<0?n===-1?e=i+" - i":e=i+" - "+o.substring(1)+"i":n===1?e=i+" + i":e=i+" + "+o+"i",e},Ke.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return Ke(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],r=arguments[1];if(mn(n)){if(Ts(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),mn(r))return new Ke({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ke.prototype.valueOf=Ke.prototype.toString,Ke.fromJSON=function(t){return new Ke(t)},Ke.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Ke),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(t){if(isNaN(t))throw new Error("");return t});const jt=BigInt(0),En=BigInt(1),z3=BigInt(2),JM=BigInt(5),Es=BigInt(10),xDe=2e3,bt={s:En,n:jt,d:En};function Uf(t,e){try{t=BigInt(t)}catch{throw Ih()}return t*e}function Du(t){return typeof t=="bigint"?t:Math.floor(t)}function ci(t,e){if(e===jt)throw vP();const n=Object.create(Wl.prototype);n.s=t<jt?-En:En,t=t<jt?-t:t;const r=Jp(t,e);return n.n=t/r,n.d=e/r,n}function W1(t){const e={};let n=t,r=z3,i=JM-En;for(;i<=n;){for(;n%r===jt;)n/=r,e[r]=(e[r]||jt)+En;i+=En+z3*r++}return n!==t?n>1&&(e[n]=(e[n]||jt)+En):e[t]=(e[t]||jt)+En,e}const Co=function(t,e){let n=jt,r=En,i=En;if(t!=null)if(e!==void 0){if(typeof t=="bigint")n=t;else{if(isNaN(t))throw Ih();if(t%1!==0)throw ZV();n=BigInt(t)}if(typeof e=="bigint")r=e;else{if(isNaN(e))throw Ih();if(e%1!==0)throw ZV();r=BigInt(e)}i=n*r}else if(typeof t=="object"){if("d"in t&&"n"in t)n=BigInt(t.n),r=BigInt(t.d),"s"in t&&(n*=BigInt(t.s));else if(0 in t)n=BigInt(t[0]),1 in t&&(r=BigInt(t[1]));else if(typeof t=="bigint")n=t;else throw Ih();i=n*r}else if(typeof t=="number"){if(isNaN(t))throw Ih();if(t<0&&(i=-En,t=-t),t%1===0)n=BigInt(t);else{let o=1,a=0,s=1,l=1,u=1,c=1e7;for(t>=1&&(o=10**Math.floor(1+Math.log10(t)),t/=o);s<=c&&u<=c;){let f=(a+l)/(s+u);if(t===f){s+u<=c?(n=a+l,r=s+u):u>s?(n=l,r=u):(n=a,r=s);break}else t>f?(a+=l,s+=u):(l+=a,u+=s),s>c?(n=l,r=u):(n=a,r=s)}n=BigInt(n)*BigInt(o),r=BigInt(r)}}else if(typeof t=="string"){let o=0,a=jt,s=jt,l=jt,u=En,c=En,f=t.replace(/_/g,"").match(/\d+|./g);if(f===null)throw Ih();if(f[o]==="-"?(i=-En,o++):f[o]==="+"&&o++,f.length===o+1?s=Uf(f[o++],i):f[o+1]==="."||f[o]==="."?(f[o]!=="."&&(a=Uf(f[o++],i)),o++,(o+1===f.length||f[o+1]==="("&&f[o+3]===")"||f[o+1]==="'"&&f[o+3]==="'")&&(s=Uf(f[o],i),u=Es**BigInt(f[o].length),o++),(f[o]==="("&&f[o+2]===")"||f[o]==="'"&&f[o+2]==="'")&&(l=Uf(f[o+1],i),c=Es**BigInt(f[o+1].length)-En,o+=3)):f[o+1]==="/"||f[o+1]===":"?(s=Uf(f[o],i),u=Uf(f[o+2],En),o+=3):f[o+3]==="/"&&f[o+1]===" "&&(a=Uf(f[o],i),s=Uf(f[o+2],i),u=Uf(f[o+4],En),o+=5),f.length<=o)r=u*c,i=n=l+r*a+c*s;else throw Ih()}else if(typeof t=="bigint")n=t,i=t,r=En;else throw Ih();if(r===jt)throw vP();bt.s=i<jt?-En:En,bt.n=n<jt?-n:n,bt.d=r<jt?-r:r};function SDe(t,e,n){let r=En;for(;e>jt;t=t*t%n,e>>=En)e&En&&(r=r*t%n);return r}function _De(t,e){for(;e%z3===jt;e/=z3);for(;e%JM===jt;e/=JM);if(e===En)return jt;let n=Es%e,r=1;for(;n!==En;r++)if(n=n*Es%e,r>xDe)return jt;return BigInt(r)}function CDe(t,e,n){let r=En,i=SDe(Es,n,e);for(let o=0;o<300;o++){if(r===i)return BigInt(o);r=r*Es%e,i=i*Es%e}return 0}function Jp(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}}function Wl(t,e){if(Co(t,e),this instanceof Wl)t=Jp(bt.d,bt.n),this.s=bt.s,this.n=bt.n/t,this.d=bt.d/t;else return ci(bt.s*bt.n,bt.d)}var vP=function(){return new Error("Division by Zero")},Ih=function(){return new Error("Invalid argument")},ZV=function(){return new Error("Parameters must be integer")};Wl.prototype={s:En,n:jt,d:En,abs:function(){return ci(this.n,this.d)},neg:function(){return ci(-this.s*this.n,this.d)},add:function(t,e){return Co(t,e),ci(this.s*this.n*bt.d+bt.s*this.d*bt.n,this.d*bt.d)},sub:function(t,e){return Co(t,e),ci(this.s*this.n*bt.d-bt.s*this.d*bt.n,this.d*bt.d)},mul:function(t,e){return Co(t,e),ci(this.s*bt.s*this.n*bt.n,this.d*bt.d)},div:function(t,e){return Co(t,e),ci(this.s*bt.s*this.n*bt.d,this.d*bt.n)},clone:function(){return ci(this.s*this.n,this.d)},mod:function(t,e){if(t===void 0)return ci(this.s*this.n%this.d,En);if(Co(t,e),jt===bt.n*this.d)throw vP();return ci(this.s*(bt.d*this.n)%(bt.n*this.d),bt.d*this.d)},gcd:function(t,e){return Co(t,e),ci(Jp(bt.n,this.n)*Jp(bt.d,this.d),bt.d*this.d)},lcm:function(t,e){return Co(t,e),bt.n===jt&&this.n===jt?ci(jt,En):ci(bt.n*this.n,Jp(bt.n,this.n)*Jp(bt.d,this.d))},inverse:function(){return ci(this.s*this.d,this.n)},pow:function(t,e){if(Co(t,e),bt.d===En)return bt.s<jt?ci((this.s*this.d)**bt.n,this.n**bt.n):ci((this.s*this.n)**bt.n,this.d**bt.n);if(this.s<jt)return null;let n=W1(this.n),r=W1(this.d),i=En,o=En;for(let a in n)if(a!=="1"){if(a==="0"){i=jt;break}if(n[a]*=bt.n,n[a]%bt.d===jt)n[a]/=bt.d;else return null;i*=BigInt(a)**n[a]}for(let a in r)if(a!=="1"){if(r[a]*=bt.n,r[a]%bt.d===jt)r[a]/=bt.d;else return null;o*=BigInt(a)**r[a]}return bt.s<jt?ci(o,i):ci(i,o)},log:function(t,e){if(Co(t,e),this.s<=jt||bt.s<=jt)return null;const n={},r=W1(bt.n),i=W1(bt.d),o=W1(this.n),a=W1(this.d);for(const u in i)r[u]=(r[u]||jt)-i[u];for(const u in a)o[u]=(o[u]||jt)-a[u];for(const u in r)u!=="1"&&(n[u]=!0);for(const u in o)u!=="1"&&(n[u]=!0);let s=null,l=null;for(const u in n){const c=r[u]||jt,f=o[u]||jt;if(c===jt){if(f!==jt)return null;continue}let d=f,h=c;const p=Jp(d,h);if(d/=p,h/=p,s===null&&l===null)s=d,l=h;else if(d*l!==s*h)return null}return s!==null&&l!==null?ci(s,l):null},equals:function(t,e){return Co(t,e),this.s*this.n*bt.d===bt.s*bt.n*this.d},lt:function(t,e){return Co(t,e),this.s*this.n*bt.d<bt.s*bt.n*this.d},lte:function(t,e){return Co(t,e),this.s*this.n*bt.d<=bt.s*bt.n*this.d},gt:function(t,e){return Co(t,e),this.s*this.n*bt.d>bt.s*bt.n*this.d},gte:function(t,e){return Co(t,e),this.s*this.n*bt.d>=bt.s*bt.n*this.d},compare:function(t,e){Co(t,e);let n=this.s*this.n*bt.d-bt.s*bt.n*this.d;return(jt<n)-(n<jt)},ceil:function(t){return t=Es**BigInt(t||0),ci(Du(this.s*t*this.n/this.d)+(t*this.n%this.d>jt&&this.s>=jt?En:jt),t)},floor:function(t){return t=Es**BigInt(t||0),ci(Du(this.s*t*this.n/this.d)-(t*this.n%this.d>jt&&this.s<jt?En:jt),t)},round:function(t){return t=Es**BigInt(t||0),ci(Du(this.s*t*this.n/this.d)+this.s*((this.s>=jt?En:jt)+z3*(t*this.n%this.d)>this.d?En:jt),t)},roundTo:function(t,e){Co(t,e);const n=this.n*bt.d,r=this.d*bt.n,i=n%r;let o=Du(n/r);return i+i>=r&&o++,ci(this.s*o*bt.n,bt.d)},divisible:function(t,e){return Co(t,e),!(!(bt.n*this.d)||this.n*bt.d%(bt.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(t){let e=this.n,n=this.d;t=t||15;let r=_De(e,n),i=CDe(e,n,r),o=this.s<jt?"-":"";if(o+=Du(e/n),e%=n,e*=Es,e&&(o+="."),r){for(let a=i;a--;)o+=Du(e/n),e%=n,e*=Es;o+="(";for(let a=r;a--;)o+=Du(e/n),e%=n,e*=Es;o+=")"}else for(let a=t;e&&a--;)o+=Du(e/n),e%=n,e*=Es;return o},toFraction:function(t){let e=this.n,n=this.d,r=this.s<jt?"-":"";if(n===En)r+=e;else{let i=Du(e/n);t&&i>jt&&(r+=i,r+=" ",e%=n),r+=e,r+="/",r+=n}return r},toLatex:function(t){let e=this.n,n=this.d,r=this.s<jt?"-":"";if(n===En)r+=e;else{let i=Du(e/n);t&&i>jt&&(r+=i,e%=n),r+="\\frac{",r+=e,r+="}{",r+=n,r+="}"}return r},toContinued:function(){let t=this.n,e=this.d,n=[];do{n.push(Du(t/e));let r=t%e;t=e,e=r}while(t!==En);return n},simplify:function(t){const e=BigInt(1/(t||.001)|0),n=this.abs(),r=n.toContinued();for(let i=1;i<r.length;i++){let o=ci(r[i-1],En);for(let s=i-2;s>=0;s--)o=o.inverse().add(r[s]);let a=o.sub(n);if(a.n*e<a.d)return o.mul(this.s)}return this}};var kDe="Fraction",EDe=[],dse=Ce(kDe,EDe,()=>(Object.defineProperty(Wl,"name",{value:"Fraction"}),Wl.prototype.constructor=Wl,Wl.prototype.type="Fraction",Wl.prototype.isFraction=!0,Wl.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Wl.fromJSON=function(t){return new Wl(t)},Wl),{isClass:!0}),ADe="Range",TDe=[],hse=Ce(ADe,TDe,()=>{function t(e,n,r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,o=n!=null,a=r!=null;if(i){if(hn(e))e=e.toNumber();else if(typeof e!="number"&&!jg(e))throw new TypeError("Parameter start must be a number or bigint")}if(o){if(hn(n))n=n.toNumber();else if(typeof n!="number"&&!jg(n))throw new TypeError("Parameter end must be a number or bigint")}if(a){if(hn(r))r=r.toNumber();else if(typeof r!="number"&&!jg(r))throw new TypeError("Parameter step must be a number or bigint")}this.start=i?parseFloat(e):0,this.end=o?parseFloat(n):0,this.step=a?parseFloat(r):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if(typeof e!="string")return null;var n=e.split(":"),r=n.map(function(o){return parseFloat(o)}),i=r.some(function(o){return isNaN(o)});if(i)return null;switch(r.length){case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[2],r[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var e=0,n=this.start,r=this.step,i=this.end,o=i-n;return o0(r)===o0(o)?e=Math.ceil(o/r):o===0&&(e=0),isNaN(e)&&(e=0),[e]},t.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},t.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},t.prototype.forEach=function(e){var n=this.start,r=this.step,i=this.end,o=0;if(r>0)for(;n<i;)e(n,[o],this),n+=r,o++;else if(r<0)for(;n>i;)e(n,[o],this),n+=r,o++},t.prototype.map=function(e){var n=[];return this.forEach(function(r,i,o){n[i[0]]=e(r,i,o)}),n},t.prototype.toArray=function(){var e=[];return this.forEach(function(n,r){e[r[0]]=n}),e},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(e){var n=Tm(this.start,e);return this.step!==1&&(n+=":"+Tm(this.step,e)),n+=":"+Tm(this.end,e),n},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t},{isClass:!0}),MDe="Matrix",DDe=[],pse=Ce(MDe,DDe,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,n){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,n,r){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,n,r){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,n){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,n){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,n){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function lA(t,e,n){var r=t.constructor,i=new r(2),o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Ft(n))throw new Error("size must be an integer");if(t.greaterThan(i.pow(n-1).sub(1))||t.lessThan(i.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(n))),o="i".concat(n)}switch(e){case 2:return"".concat(t.toBinary()).concat(o);case 8:return"".concat(t.toOctal()).concat(o);case 16:return"".concat(t.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(e," not supported "))}}function NDe(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:r,wordSize:i}=Gae(e);switch(n){case"fixed":return IDe(t,r);case"exponential":return JV(t,r);case"engineering":return ODe(t,r);case"bin":return lA(t,2,i);case"oct":return lA(t,8,i);case"hex":return lA(t,16,i);case"auto":{var o=QV(e?.lowerExp,-3),a=QV(e?.upperExp,5);if(t.isZero())return"0";var s,l=t.toSignificantDigits(r),u=l.e;return u>=o&&u<a?s=l.toFixed():s=JV(t,r),s.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ODe(t,e){var n=t.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=t.mul(Math.pow(10,-r)),o=i.toPrecision(e);if(o.includes("e")){var a=t.constructor;o=new a(o).toFixed()}return o+"e"+(n>=0?"+":"")+r.toString()}function JV(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function IDe(t,e){return t.toFixed(e)}function QV(t,e){return mn(t)?t:hn(t)?t.toNumber():e}function PDe(t,e){var n=t.length-e.length,r=t.length;return t.substring(n,r)===e}function An(t,e){var n=RDe(t,e);return e&&typeof e=="object"&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function RDe(t,e){if(typeof t=="number")return Tm(t,e);if(hn(t))return NDe(t,e);if(FDe(t))return!e||e.fraction!=="decimal"?"".concat(t.s*t.n,"/").concat(t.d):t.toString();if(Array.isArray(t))return mse(t,e);if(Ho(t))return Og(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var n=Object.keys(t).map(r=>Og(r)+": "+An(t[r],e));return"{"+n.join(", ")+"}"}return String(t)}function Og(t){for(var e=String(t),n="",r=0;r<e.length;){var i=e.charAt(r);n+=i in eH?eH[i]:i,r++}return'"'+n+'"'}var eH={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Zl(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function mse(t,e){if(Array.isArray(t)){for(var n="[",r=t.length,i=0;i<r;i++)i!==0&&(n+=", "),n+=mse(t[i],e);return n+="]",n}else return An(t,e)}function FDe(t){return t&&typeof t=="object"&&typeof t.s=="bigint"&&typeof t.n=="bigint"&&typeof t.d=="bigint"||!1}function QM(t,e){if(!Ho(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Tr(t)+", index: 0)");if(!Ho(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Tr(e)+", index: 1)");return t===e?0:t>e?1:-1}function _n(t,e,n){if(!(this instanceof _n))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}_n.prototype=new RangeError;_n.prototype.constructor=RangeError;_n.prototype.name="DimensionError";_n.prototype.isDimensionError=!0;function Cu(t,e,n){if(!(this instanceof Cu))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Cu.prototype=new RangeError;Cu.prototype.constructor=RangeError;Cu.prototype.name="IndexError";Cu.prototype.isIndexError=!0;function ln(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function gse(t,e,n){var r,i=t.length;if(i!==e[n])throw new _n(i,e[n]);if(n<e.length-1){var o=n+1;for(r=0;r<i;r++){var a=t[r];if(!Array.isArray(a))throw new _n(e.length-1,e.length,"<");gse(t[r],e,o)}}else for(r=0;r<i;r++)if(Array.isArray(t[r]))throw new _n(e.length+1,e.length,">")}function tH(t,e){var n=e.length===0;if(n){if(Array.isArray(t))throw new _n(t.length,0)}else gse(t,e,0)}function U_(t,e){var n=t.isMatrix?t._size:ln(t),r=e._sourceSize;r.forEach((i,o)=>{if(i!==null&&i!==n[o])throw new _n(i,n[o])})}function Ir(t,e){if(t!==void 0){if(!mn(t)||!Ft(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new Cu(t,e)}}function _v(t){for(var e=0;e<t._dimensions.length;++e){var n=t._dimensions[e];if(n._data&&wr(n._data)){if(n._size[0]===0)return!0}else if(n.isRange){if(n.start===n.end)return!0}else if(Ho(n)&&n.length===0)return!0}return!1}function Cv(t,e,n){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!mn(i)||!Ft(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+An(e)+")")}),(mn(t)||hn(t))&&(t=[t]);var r=n!==void 0?n:0;return eD(t,e,0,r),t}function eD(t,e,n,r){var i,o,a=t.length,s=e[n],l=Math.min(a,s);if(t.length=s,n<e.length-1){var u=n+1;for(i=0;i<l;i++)o=t[i],Array.isArray(o)||(o=[o],t[i]=o),eD(o,e,u,r);for(i=l;i<s;i++)o=[],t[i]=o,eD(o,e,u,r)}else{for(i=0;i<l;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=l;i<s;i++)t[i]=r}}function yP(t,e){var n=Zn(t,!0),r=n.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new _n(0,r,"!=");e=bP(e,r);var i=vse(e);if(r!==i)throw new _n(i,r,"!=");try{return LDe(n,e)}catch(o){throw o instanceof _n?new _n(i,r,"!="):o}}function bP(t,e){var n=vse(t),r=t.slice(),i=-1,o=t.indexOf(i),a=t.indexOf(i,o+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var s=o>=0,l=e%n===0;if(s)if(l)r[o]=-e/n;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);return r}function vse(t){return t.reduce((e,n)=>e*n,1)}function LDe(t,e){for(var n=t,r,i=e.length-1;i>0;i--){var o=e[i];r=[];for(var a=n.length/o,s=0;s<a;s++)r.push(n.slice(s*o,(s+1)*o));n=r}return n}function j_(t,e){for(var n=ln(t);Array.isArray(t)&&t.length===1;)t=t[0],n.shift();for(var r=n.length;n[r-1]===1;)r--;return r<n.length&&(t=yse(t,r,0),n.length=r),t}function yse(t,e,n){var r,i;if(n<e){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=yse(t[r],e,o)}else for(;Array.isArray(t);)t=t[0];return t}function bse(t,e,n,r){var i=r||ln(t);if(n)for(var o=0;o<n;o++)t=[t],i.unshift(1);for(t=wse(t,e,0);i.length<e;)i.push(1);return t}function wse(t,e,n){var r,i;if(Array.isArray(t)){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=wse(t[r],e,o)}else for(var a=n;a<e;a++)t=[t];return t}function Zn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(t))return t;if(typeof e!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var n=[];return e?i(t):r(t),n;function r(o){for(var a=0;a<o.length;a++){var s=o[a];Array.isArray(s)?r(s):n.push(s)}}function i(o){if(Array.isArray(o[0]))for(var a=0;a<o.length;a++)i(o[a]);else for(var s=0;s<o.length;s++)n.push(o[s])}}function x0(t,e){return Array.prototype.map.call(t,e)}function xse(t,e){Array.prototype.forEach.call(t,e)}function nH(t,e){if(ln(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function rH(t,e){if(ln(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,n=>e.test(n))}function iH(t,e){return Array.prototype.join.call(t,e)}function kv(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var e=[],n=0;e[0]={value:t[0],identifier:0};for(var r=1;r<t.length;r++)t[r]===t[r-1]?n++:n=0,e.push({value:t[r],identifier:n});return e}function W_(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var e=[],n=0;n<t.length;n++)e.push(t[n].value);return e}function dk(t,e){for(var n,r=0,i=0;i<t.length;i++){var o=t[i],a=Array.isArray(o);if(i===0&&a&&(r=o.length),a&&o.length!==r)return;var s=a?dk(o,e):e(o);if(n===void 0)n=s;else if(n!==s)return"mixed"}return n}function Sse(t,e,n,r){if(r<n){if(t.length!==e.length)throw new _n(t.length,e.length);for(var i=[],o=0;o<t.length;o++)i[o]=Sse(t[o],e[o],n,r+1);return i}else return t.concat(e)}function _se(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(n,r){return Sse(n,r,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function wP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.map(d=>d.length),i=Math.max(...r),o=new Array(i).fill(null),a=0;a<e.length;a++)for(var s=e[a],l=r[a],u=0;u<l;u++){var c=i-l+u;s[u]>o[c]&&(o[c]=s[u])}for(var f=0;f<e.length;f++)Cse(e[f],o);return o}function Cse(t,e){for(var n=e.length,r=t.length,i=0;i<r;i++){var o=n-r+i;if(t[i]<e[o]&&t[i]>1||t[i]>e[o])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(r," with size ").concat(t[i]," to size ").concat(e[o]))}}function om(t,e){var n=ln(t);if(Gd(n,e))return t;Cse(n,e);var r=wP(n,e),i=r.length,o=[...Array(i-n.length).fill(1),...n],a=BDe(t);n.length<i&&(a=yP(a,o),n=ln(a));for(var s=0;s<i;s++)n[s]<r[s]&&(a=$De(a,r[s],s),n=ln(a));return a}function $De(t,e,n){return _se(...Array(e).fill(t),n)}function xP(t,e){if(!Array.isArray(t))throw new Error("Array expected");var n=ln(t);if(e.length!==n.length)throw new _n(e.length,n.length);for(var r=0;r<e.length;r++)Ir(e[r],n[r]);return e.reduce((i,o)=>i[o],t)}function tD(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return[];if(n)return o(t);var r=[];return i(t,0);function i(a,s){if(Array.isArray(a)){for(var l=a.length,u=Array(l),c=0;c<l;c++)r[s]=c,u[c]=i(a[c],s+1);return u}else return e(a,r.slice(0,s),t)}function o(a){if(Array.isArray(a)){for(var s=a.length,l=Array(s),u=0;u<s;u++)l[u]=o(a[u]);return l}else return e(a)}}function kse(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return;if(n){o(t);return}var r=[];i(t,0);function i(a,s){if(Array.isArray(a))for(var l=a.length,u=0;u<l;u++)r[s]=u,i(a[u],s+1);else e(a,r.slice(0,s),t)}function o(a){if(Array.isArray(a))for(var s=a.length,l=0;l<s;l++)o(a[l]);else e(a)}}function BDe(t){return Ji([],t)}function jm(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if($3.isTypedFunction(t)){var i;if(r)i=1;else{var o=(e.isMatrix?e.size():ln(e)).map(()=>0),a=e.isMatrix?e.get(o):xP(e,o);i=VDe(t,a,o,e)}var s;if(e.isMatrix&&e.dataType!=="mixed"&&e.dataType!==void 0){var l=zDe(t,i);s=l!==void 0?l:t}else s=t;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];return oH(s,f.slice(0,i),n,t.name)}}:{isUnary:!1,fn:function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];return oH(s,f,n,t.name)}}}return r===void 0?{isUnary:qDe(t),fn:t}:{isUnary:r,fn:t}}function zDe(t,e){var n=[];if(Object.entries(t.signatures).forEach(r=>{var[i,o]=r;i.split(",").length===e&&n.push(o)}),n.length===1)return n[0]}function qDe(t){if(t.length!==1)return!1;var e=t.toString();if(/arguments/.test(e))return!1;var n=e.match(/\(.*?\)/);return!/\.\.\./.test(n)}function VDe(t,e,n,r){for(var i=[e,n,r],o=3;o>0;o--){var a=i.slice(0,o);if($3.resolve(t,a)!==null)return o}}function oH(t,e,n,r){try{return t(...e)}catch(i){HDe(i,e,n,r)}}function HDe(t,e,n,r){var i;if(t instanceof TypeError&&((i=t.data)===null||i===void 0?void 0:i.category)==="wrongType"){var o=[];throw o.push("value: ".concat(Tr(e[0]))),e.length>=2&&o.push("index: ".concat(Tr(e[1]))),e.length>=3&&o.push("array: ".concat(Tr(e[2]))),new TypeError("Function ".concat(n," cannot apply callback arguments ")+"".concat(r,"(").concat(o.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(n," cannot apply callback arguments ")+"to function ".concat(r,": ").concat(t.message))}var UDe="DenseMatrix",jDe=["Matrix"],Ese=Ce(UDe,jDe,t=>{var{Matrix:e}=t;function n(c,f){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Ho(f))throw new Error("Invalid datatype: "+f);if(Ht(c))c.type==="DenseMatrix"?(this._data=Qt(c._data),this._size=Qt(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&wr(c.data)&&wr(c.size))this._data=c.data,this._size=c.size,tH(this._data,this._size),this._datatype=f||c.datatype;else if(wr(c))this._data=u(c),this._size=ln(this._data),tH(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+Tr(c)+")");this._data=[],this._size=[0],this._datatype=f}}n.prototype=new e,n.prototype.createDenseMatrix=function(c,f){return new n(c,f)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return dk(this._data,Tr)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(c,f){return new n(c,f)},n.prototype.subset=function(c,f,d){switch(arguments.length){case 1:return r(this,c);case 2:case 3:return o(this,c,f,d);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(c){return xP(this._data,c)},n.prototype.set=function(c,f,d){if(!wr(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new _n(c.length,this._size.length,"<");var h,p,m,g=c.map(function(y){return y+1});l(this,g,d);var v=this._data;for(h=0,p=c.length-1;h<p;h++)m=c[h],Ir(m,v.length),v=v[m];return m=c[c.length-1],Ir(m,v.length),v[m]=f,this};function r(c,f){if(!Yw(f))throw new TypeError("Invalid index");var d=f.isScalar();if(d)return c.get(f.min());var h=f.size();if(h.length!==c._size.length)throw new _n(h.length,c._size.length);for(var p=f.min(),m=f.max(),g=0,v=c._size.length;g<v;g++)Ir(p[g],c._size[g]),Ir(m[g],c._size[g]);var y=new n([]),b=i(c._data,f);return y._size=b.size,y._datatype=c._datatype,y._data=b.data,y}function i(c,f){var d=f.size().length-1,h=Array(d);return{data:p(c),size:h};function p(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=f.dimension(g);return h[g]=v.size()[0],g<d?v.map(y=>(Ir(y,m.length),p(m[y],g+1))).valueOf():v.map(y=>(Ir(y,m.length),m[y])).valueOf()}}function o(c,f,d,h){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var p=f.size(),m=f.isScalar(),g;if(Ht(d)?(g=d.size(),d=d.valueOf()):g=ln(d),m){if(g.length!==0)throw new TypeError("Scalar expected");c.set(f.min(),d,h)}else{if(!Gd(g,p))try{g.length===0?d=om([d],p):d=om(d,p),g=ln(d)}catch{}if(p.length<c._size.length)throw new _n(p.length,c._size.length,"<");if(g.length<p.length){for(var v=0,y=0;p[v]===1&&g[v]===1;)v++;for(;p[v]===1;)y++,v++;d=bse(d,p.length,y,g)}if(!Gd(p,g))throw new _n(p,g,">");var b=f.max().map(function(w){return w+1});l(c,b,h),a(c._data,f,d)}return c}function a(c,f,d){var h=f.size().length-1;p(c,d);function p(m,g){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=f.dimension(v);v<h?y.forEach((b,w)=>{Ir(b,m.length),p(m[b],g[w[0]],v+1)}):y.forEach((b,w)=>{Ir(b,m.length),m[b]=g[w[0]]})}}n.prototype.resize=function(c,f,d){if(!Ml(c))throw new TypeError("Array or Matrix expected");var h=c.valueOf().map(m=>Array.isArray(m)&&m.length===1?m[0]:m),p=d?this.clone():this;return s(p,h,f)};function s(c,f,d){if(f.length===0){for(var h=c._data;wr(h);)h=h[0];return h}return c._size=f.slice(0),c._data=Cv(c._data,c._size,d),c}n.prototype.reshape=function(c,f){var d=f?this.clone():this;d._data=yP(d._data,c);var h=d._size.reduce((p,m)=>p*m);return d._size=bP(c,h),d};function l(c,f,d){for(var h=c._size.slice(0),p=!1;h.length<f.length;)h.push(0),p=!0;for(var m=0,g=f.length;m<g;m++)f[m]>h[m]&&(h[m]=f[m],p=!0);p&&s(c,h,d)}n.prototype.clone=function(){var c=new n({data:Qt(this._data),size:Qt(this._size),datatype:this._datatype});return c},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=this,h=d._size.length-1;if(h<0)return d.clone();var p=jm(c,d,"map",f),m=p.fn,g=d.create(void 0,d._datatype);if(g._size=d._size,f||p.isUnary)return g._data=S(d._data),g;if(h===0){for(var v=d.valueOf(),y=Array(v.length),b=0;b<v.length;b++)y[b]=m(v[b],[b],d);return g._data=y,g}var w=[];return g._data=x(d._data),g;function x(_){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=Array(_.length);if(k<h)for(var E=0;E<_.length;E++)w[k]=E,C[E]=x(_[E],k+1);else for(var M=0;M<_.length;M++)w[k]=M,C[M]=m(_[M],w.slice(),d);return C}function S(_){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=Array(_.length);if(k<h)for(var E=0;E<_.length;E++)C[E]=S(_[E],k+1);else for(var M=0;M<_.length;M++)C[M]=m(_[M]);return C}},n.prototype.forEach=function(c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=this,h=d._size.length-1;if(h<0)return;var p=jm(c,d,"map",f),m=p.fn;if(f||p.isUnary){b(d._data);return}if(h===0){for(var g=0;g<d._data.length;g++)m(d._data[g],[g],d);return}var v=[];y(d._data);function y(w){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(x<h)for(var S=0;S<w.length;S++)v[x]=S,y(w[S],x+1);else for(var _=0;_<w.length;_++)v[x]=_,m(w[_],v.slice(),d)}function b(w){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(x<h)for(var S=0;S<w.length;S++)b(w[S],x+1);else for(var _=0;_<w.length;_++)m(w[_])}},n.prototype[Symbol.iterator]=function*(){var c=this._size.length-1;if(!(c<0)){if(c===0){for(var f=0;f<this._data.length;f++)yield{value:this._data[f],index:[f]};return}var d=[],h=function*(m,g){if(g<c)for(var v=0;v<m.length;v++)d[g]=v,yield*h(m[v],g+1);else for(var y=0;y<m.length;y++)d[g]=y,yield{value:m[y],index:d.slice()}};yield*h(this._data,0)}},n.prototype.rows=function(){var c=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var h of d)c.push(new n([h],this._datatype));return c},n.prototype.columns=function(){var c=this,f=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,p=function(v){var y=h.map(b=>[b[v]]);f.push(new n(y,c._datatype))},m=0;m<d[1];m++)p(m);return f},n.prototype.toArray=function(){return Qt(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(c){return An(this._data,c)},n.prototype.toString=function(){return An(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(c){if(c){if(hn(c)&&(c=c.toNumber()),!mn(c)||!Ft(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,d=c<0?-c:0,h=this._size[0],p=this._size[1],m=Math.min(h-d,p-f),g=[],v=0;v<m;v++)g[v]=this._data[v+d][v+f];return new n({data:g,size:[m],datatype:this._datatype})},n.diagonal=function(c,f,d,h){if(!wr(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(_){if(hn(_)&&(_=_.toNumber()),!mn(_)||!Ft(_)||_<1)throw new Error("Size values must be positive integers");return _}),d){if(hn(d)&&(d=d.toNumber()),!mn(d)||!Ft(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var p=d>0?d:0,m=d<0?-d:0,g=c[0],v=c[1],y=Math.min(g-m,v-p),b;if(wr(f)){if(f.length!==y)throw new Error("Invalid value array length");b=function(k){return f[k]}}else if(Ht(f)){var w=f.size();if(w.length!==1||w[0]!==y)throw new Error("Invalid matrix length");b=function(k){return f.get([k])}}else b=function(){return f};h||(h=hn(b(0))?b(0).mul(0):0);var x=[];if(c.length>0){x=Cv(x,c,h);for(var S=0;S<y;S++)x[S+m][S+p]=b(S)}return new n({data:x,size:[g,v]})},n.fromJSON=function(c){return new n(c)},n.prototype.swapRows=function(c,f){if(!mn(c)||!Ft(c)||!mn(f)||!Ft(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ir(c,this._size[0]),Ir(f,this._size[0]),n._swapRows(c,f,this._data),this},n._swapRows=function(c,f,d){var h=d[c];d[c]=d[f],d[f]=h};function u(c){return Ht(c)?u(c.valueOf()):wr(c)?c.map(u):c}return n},{isClass:!0}),aH="clone",WDe=["typed"],Ase=Ce(aH,WDe,t=>{var{typed:e}=t;return e(aH,{any:Qt})});function Tse(t){var e=t.length,n=t[0].length,r,i,o=[];for(i=0;i<n;i++){var a=[];for(r=0;r<e;r++)a.push(t[r][i]);o.push(a)}return o}function fy(t){for(var e=0;e<t.length;e++)if(Ml(t[e]))return!0;return!1}function O0(t,e){Ht(t)?t.forEach(n=>e(n),!1,!0):kse(t,e,!0)}function bn(t,e,n){if(!n)return Ht(t)?t.map(i=>e(i),!1,!0):tD(t,e,!0);var r=i=>i===0?i:e(i);return Ht(t)?t.map(i=>r(i),!1,!0):tD(t,r,!0)}function hk(t,e,n){var r=Array.isArray(t)?ln(t):t.size();if(e<0||e>=r.length)throw new Cu(e,r.length);return Ht(t)?t.create(G_(t.valueOf(),e,n),t.datatype()):G_(t,e,n)}function G_(t,e,n){var r,i,o,a;if(e<=0)if(Array.isArray(t[0])){for(a=Tse(t),i=[],r=0;r<a.length;r++)i[r]=G_(a[r],e-1,n);return i}else{for(o=t[0],r=1;r<t.length;r++)o=n(o,t[r]);return o}else{for(i=[],r=0;r<t.length;r++)i[r]=G_(t[r],e-1,n);return i}}function sH(t,e,n,r,i,o,a,s,l,u,c){var f=t._values,d=t._index,h=t._ptr,p,m,g,v;if(r)for(m=h[e],g=h[e+1],p=m;p<g;p++)v=d[p],n[v]!==o?(n[v]=o,a.push(v),r[v]=f[p]):(r[v]=s(r[v],f[p]),i[v]=o);else for(m=h[e],g=h[e+1],p=m;p<g;p++)v=d[p],n[v]!==o?(n[v]=o,a.push(v)):i[v]=o}var lH="isInteger",GDe=["typed"],Mse=Ce(lH,GDe,t=>{var{typed:e}=t;return e(lH,{number:Ft,BigNumber:function(r){return r.isInt()},bigint:function(r){return!0},Fraction:function(r){return r.d===1n},"Array | Matrix":e.referToSelf(n=>r=>bn(r,n))})}),sc="number",dy="number, number";function Dse(t){return Math.abs(t)}Dse.signature=sc;function Nse(t,e){return t+e}Nse.signature=dy;function Ose(t,e){return t-e}Ose.signature=dy;function Ise(t,e){return t*e}Ise.signature=dy;function Pse(t){return-t}Pse.signature=sc;function Rse(t){return t}Rse.signature=sc;function Ib(t){return aMe(t)}Ib.signature=sc;function Fse(t){return t*t*t}Fse.signature=sc;function Lse(t){return Math.exp(t)}Lse.signature=sc;function $se(t){return sMe(t)}$se.signature=sc;function Bse(t,e){if(!Ft(t)||!Ft(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var n,r=t*e;e!==0;)n=e,e=t%n,t=n;return Math.abs(r/t)}Bse.signature=dy;function uH(t,e){return e?Math.log(t)/Math.log(e):Math.log(t)}function K_(t){return iMe(t)}K_.signature=sc;function nD(t){return rMe(t)}nD.signature=sc;function cH(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=e<0;if(n&&(e=-e),e===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return n?1/0:0;if(!isFinite(t))return n?0:t;var r=Math.pow(Math.abs(t),1/e);return r=t<0?-r:r,n?1/r:r}function rD(t){return o0(t)}rD.signature=sc;function zse(t){return t*t}zse.signature=sc;function qse(t,e){var n,r,i,o=0,a=1,s=1,l=0;if(!Ft(t)||!Ft(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)r=Math.floor(t/e),i=t-r*e,n=o,o=a-r*o,a=n,n=s,s=l-r*s,l=n,t=e,e=i;var u;return t<0?u=[-t,-a,-l]:u=[t,t?a:0,l],u}qse.signature=dy;function Vse(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}Vse.signature=dy;function ib(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Ft(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Kae(t,e))}var KDe="number",hy="number, number";function Hse(t,e){if(!Ft(t)||!Ft(e))throw new Error("Integers expected in function bitAnd");return t&e}Hse.signature=hy;function Use(t){if(!Ft(t))throw new Error("Integer expected in function bitNot");return~t}Use.signature=KDe;function jse(t,e){if(!Ft(t)||!Ft(e))throw new Error("Integers expected in function bitOr");return t|e}jse.signature=hy;function Wse(t,e){if(!Ft(t)||!Ft(e))throw new Error("Integers expected in function bitXor");return t^e}Wse.signature=hy;function Gse(t,e){if(!Ft(t)||!Ft(e))throw new Error("Integers expected in function leftShift");return t<<e}Gse.signature=hy;function Kse(t,e){if(!Ft(t)||!Ft(e))throw new Error("Integers expected in function rightArithShift");return t>>e}Kse.signature=hy;function Xse(t,e){if(!Ft(t)||!Ft(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}Xse.signature=hy;function xd(t,e){if(e<t)return 1;if(e===t)return e;var n=e+t>>1;return xd(t,n)*xd(n+1,e)}function Yse(t,e){if(!Ft(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!Ft(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var n=t-e,r=1,i=e<n?n+1:e+1,o=2,a=e<n?e:n,s=i;s<=t;++s)for(r*=s;o<=a&&r%o===0;)r/=o,++o;return o<=a&&(r/=xd(o,a)),r}Yse.signature="number, number";var XDe=Math.PI,YDe=2*Math.PI,ZDe=Math.E,JDe=1.618033988749895,QDe="number",SP="number, number";function Zse(t){return!t}Zse.signature=QDe;function iD(t,e){return!!(t||e)}iD.signature=SP;function oD(t,e){return!!t!=!!e}oD.signature=SP;function aD(t,e){return!!(t&&e)}aD.signature=SP;function X_(t){var e;if(Ft(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:xd(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*X_(1-t));if(t>=171.35)return 1/0;if(t>85){var n=t*t,r=n*t,i=r*t,o=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*o)+5246819/(75246796800*o*t))}--t,e=Gg[0];for(var a=1;a<Gg.length;++a)e+=Gg[a]/(t+a);var s=t+Jse+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,t+.5)*Math.exp(-s)*e}X_.signature="number";var Jse=4.7421875,Gg=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Qse=.9189385332046728,eNe=5,tNe=7,fH=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Y_(t){if(t<0)return NaN;if(t===0)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-Y_(1-t);t=t-1;for(var e=t+eNe+.5,n=fH[0],r=tNe-1;r>=1;r--)n+=fH[r]/(t+r);return Qse+(t+.5)*Math.log(e)-e+Math.log(n)}Y_.signature="number";var Ma="number";function ele(t){return fMe(t)}ele.signature=Ma;function tle(t){return Math.atan(1/t)}tle.signature=Ma;function nle(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}nle.signature=Ma;function rle(t){return Math.asin(1/t)}rle.signature=Ma;function ile(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}ile.signature=Ma;function ole(t){return Math.acos(1/t)}ole.signature=Ma;function ale(t){var e=1/t,n=Math.sqrt(e*e-1);return Math.log(n+e)}ale.signature=Ma;function sle(t){return dMe(t)}sle.signature=Ma;function lle(t){return hMe(t)}lle.signature=Ma;function ule(t){return 1/Math.tan(t)}ule.signature=Ma;function cle(t){var e=Math.exp(2*t);return(e+1)/(e-1)}cle.signature=Ma;function fle(t){return 1/Math.sin(t)}fle.signature=Ma;function dle(t){return t===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*o0(t)}dle.signature=Ma;function hle(t){return 1/Math.cos(t)}hle.signature=Ma;function ple(t){return 2/(Math.exp(t)+Math.exp(-t))}ple.signature=Ma;function mle(t){return mMe(t)}mle.signature=Ma;var _P="number";function gle(t){return t<0}gle.signature=_P;function vle(t){return t>0}vle.signature=_P;function yle(t){return Number.isNaN(t)}yle.signature=_P;function mu(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(n<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return t.isNaN()||e.isNaN()?!1:!t.isFinite()||!e.isFinite()?t.eq(e):t.eq(e)?!0:t.minus(e).abs().lte(t.constructor.max(t.constructor.max(t.abs(),e.abs()).mul(n),r))}var dH="isNegative",nNe=["typed","config"],ble=Ce(dH,nNe,t=>{var{typed:e,config:n}=t;return e(dH,{number:r=>ea(r,0,n.relTol,n.absTol)?!1:gle(r),BigNumber:r=>mu(r,new r.constructor(0),n.relTol,n.absTol)?!1:r.isNeg()&&!r.isZero()&&!r.isNaN(),bigint:r=>r<0n,Fraction:r=>r.s<0n,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>bn(i,r))})}),hH="isNumeric",rNe=["typed"],wle=Ce(hH,rNe,t=>{var{typed:e}=t;return e(hH,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(n=>r=>bn(r,n))})}),pH="hasNumericValue",iNe=["typed","isNumeric"],xle=Ce(pH,iNe,t=>{var{typed:e,isNumeric:n}=t;return e(pH,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return n(i)}})}),mH="isPositive",oNe=["typed","config"],Sle=Ce(mH,oNe,t=>{var{typed:e,config:n}=t;return e(mH,{number:r=>ea(r,0,n.relTol,n.absTol)?!1:vle(r),BigNumber:r=>mu(r,new r.constructor(0),n.relTol,n.absTol)?!1:!r.isNeg()&&!r.isZero()&&!r.isNaN(),bigint:r=>r>0n,Fraction:r=>r.s>0n&&r.n>0n,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>bn(i,r))})}),gH="isZero",aNe=["typed","equalScalar"],_le=Ce(gH,aNe,t=>{var{typed:e,equalScalar:n}=t;return e(gH,{"number | BigNumber | Complex | Fraction":r=>n(r,0),bigint:r=>r===0n,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>bn(i,r))})}),vH="isNaN",sNe=["typed"],Cle=Ce(vH,sNe,t=>{var{typed:e}=t;return e(vH,{number:yle,BigNumber:function(r){return r.isNaN()},bigint:function(r){return!1},Fraction:function(r){return!1},Complex:function(r){return r.isNaN()},Unit:function(r){return Number.isNaN(r.value)},"Array | Matrix":e.referToSelf(n=>r=>bn(r,n))})}),yH="typeOf",lNe=["typed"],kle=Ce(yH,lNe,t=>{var{typed:e}=t;return e(yH,{any:Tr})});function uNe(t,e,n,r){return ea(t.re,e.re,n,r)&&ea(t.im,e.im,n,r)}var py=Ce("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(n=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(n,[r.valueType(),i.valueType()])(r.value,i.value)})}}),Z_="equalScalar",cNe=["typed","config"],Ele=Ce(Z_,cNe,t=>{var{typed:e,config:n}=t,r=py({typed:e});return e(Z_,{"boolean, boolean":function(o,a){return o===a},"number, number":function(o,a){return ea(o,a,n.relTol,n.absTol)},"BigNumber, BigNumber":function(o,a){return o.eq(a)||mu(o,a,n.relTol,n.absTol)},"bigint, bigint":function(o,a){return o===a},"Fraction, Fraction":function(o,a){return o.equals(a)},"Complex, Complex":function(o,a){return uNe(o,a,n.relTol,n.absTol)}},r)});Ce(Z_,["typed","config"],t=>{var{typed:e,config:n}=t;return e(Z_,{"number, number":function(i,o){return ea(i,o,n.relTol,n.absTol)}})});var fNe="SparseMatrix",dNe=["typed","equalScalar","Matrix"],Ale=Ce(fNe,dNe,t=>{var{typed:e,equalScalar:n,Matrix:r}=t;function i(m,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!Ho(g))throw new Error("Invalid datatype: "+g);if(Ht(m))o(this,m,g);else if(m&&wr(m.index)&&wr(m.ptr)&&wr(m.size))this._values=m.values,this._index=m.index,this._ptr=m.ptr,this._size=m.size,this._datatype=g||m.datatype;else if(wr(m))a(this,m,g);else{if(m)throw new TypeError("Unsupported type of data ("+Tr(m)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function o(m,g,v){g.type==="SparseMatrix"?(m._values=g._values?Qt(g._values):void 0,m._index=Qt(g._index),m._ptr=Qt(g._ptr),m._size=Qt(g._size),m._datatype=v||g._datatype):a(m,g.valueOf(),v||g._datatype)}function a(m,g,v){m._values=[],m._index=[],m._ptr=[],m._datatype=v;var y=g.length,b=0,w=n,x=0;if(Ho(v)&&(w=e.find(n,[v,v])||n,x=e.convert(0,v)),y>0){var S=0;do{m._ptr.push(m._index.length);for(var _=0;_<y;_++){var k=g[_];if(wr(k)){if(S===0&&b<k.length&&(b=k.length),S<k.length){var C=k[S];w(C,x)||(m._values.push(C),m._index.push(_))}}else S===0&&b<1&&(b=1),w(k,x)||(m._values.push(k),m._index.push(_))}S++}while(S<b)}m._ptr.push(m._index.length),m._size=[y,b]}i.prototype=new r,i.prototype.createSparseMatrix=function(m,g){return new i(m,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return dk(this._values,Tr)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(m,g){return new i(m,g)},i.prototype.density=function(){var m=this._size[0],g=this._size[1];return m!==0&&g!==0?this._index.length/(m*g):0},i.prototype.subset=function(m,g,v){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,m);case 2:case 3:return l(this,m,g,v);default:throw new SyntaxError("Wrong number of arguments")}};function s(m,g){if(!Yw(g))throw new TypeError("Invalid index");var v=g.isScalar();if(v)return m.get(g.min());var y=g.size();if(y.length!==m._size.length)throw new _n(y.length,m._size.length);var b,w,x,S,_=g.min(),k=g.max();for(b=0,w=m._size.length;b<w;b++)Ir(_[b],m._size[b]),Ir(k[b],m._size[b]);var C=m._values,E=m._index,M=m._ptr,A=g.dimension(0),N=g.dimension(1),T=[],I=[];A.forEach(function(Y,R){I[Y]=R[0],T[Y]=!0});var O=C?[]:void 0,q=[],L=[];return N.forEach(function(Y){for(L.push(q.length),x=M[Y],S=M[Y+1];x<S;x++)b=E[x],T[b]===!0&&(q.push(I[b]),O&&O.push(C[x]))}),L.push(q.length),new i({values:O,index:q,ptr:L,size:y,datatype:m._datatype})}function l(m,g,v,y){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var b=g.size(),w=g.isScalar(),x;if(Ht(v)?(x=v.size(),v=v.toArray()):x=ln(v),w){if(x.length!==0)throw new TypeError("Scalar expected");m.set(g.min(),v,y)}else{if(b.length!==1&&b.length!==2)throw new _n(b.length,m._size.length,"<");if(x.length<b.length){for(var S=0,_=0;b[S]===1&&x[S]===1;)S++;for(;b[S]===1;)_++,S++;v=bse(v,b.length,_,x)}if(!Gd(b,x))throw new _n(b,x,">");if(b.length===1){var k=g.dimension(0);k.forEach(function(M,A){Ir(M),m.set([M,0],v[A[0]],y)})}else{var C=g.dimension(0),E=g.dimension(1);C.forEach(function(M,A){Ir(M),E.forEach(function(N,T){Ir(N),m.set([M,N],v[A[0]][T[0]],y)})})}}return m}i.prototype.get=function(m){if(!wr(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new _n(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=m[0],v=m[1];Ir(g,this._size[0]),Ir(v,this._size[1]);var y=u(g,this._ptr[v],this._ptr[v+1],this._index);return y<this._ptr[v+1]&&this._index[y]===g?this._values[y]:0},i.prototype.set=function(m,g,v){if(!wr(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new _n(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=m[0],b=m[1],w=this._size[0],x=this._size[1],S=n,_=0;Ho(this._datatype)&&(S=e.find(n,[this._datatype,this._datatype])||n,_=e.convert(0,this._datatype)),(y>w-1||b>x-1)&&(d(this,Math.max(y+1,w),Math.max(b+1,x),v),w=this._size[0],x=this._size[1]),Ir(y,w),Ir(b,x);var k=u(y,this._ptr[b],this._ptr[b+1],this._index);return k<this._ptr[b+1]&&this._index[k]===y?S(g,_)?c(k,b,this._values,this._index,this._ptr):this._values[k]=g:S(g,_)||f(k,y,b,g,this._values,this._index,this._ptr),this};function u(m,g,v,y){if(v-g===0)return v;for(var b=g;b<v;b++)if(y[b]===m)return b;return g}function c(m,g,v,y,b){v.splice(m,1),y.splice(m,1);for(var w=g+1;w<b.length;w++)b[w]--}function f(m,g,v,y,b,w,x){b.splice(m,0,y),w.splice(m,0,g);for(var S=v+1;S<x.length;S++)x[S]++}i.prototype.resize=function(m,g,v){if(!Ml(m))throw new TypeError("Array or Matrix expected");var y=m.valueOf().map(w=>Array.isArray(w)&&w.length===1?w[0]:w);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(w){if(!mn(w)||!Ft(w)||w<0)throw new TypeError("Invalid size, must contain positive integers (size: "+An(y)+")")});var b=v?this.clone():this;return d(b,y[0],y[1],g)};function d(m,g,v,y){var b=y||0,w=n,x=0;Ho(m._datatype)&&(w=e.find(n,[m._datatype,m._datatype])||n,x=e.convert(0,m._datatype),b=e.convert(b,m._datatype));var S=!w(b,x),_=m._size[0],k=m._size[1],C,E,M;if(v>k){for(E=k;E<v;E++)if(m._ptr[E]=m._values.length,S)for(C=0;C<_;C++)m._values.push(b),m._index.push(C);m._ptr[v]=m._values.length}else v<k&&(m._ptr.splice(v+1,k-v),m._values.splice(m._ptr[v],m._values.length),m._index.splice(m._ptr[v],m._index.length));if(k=v,g>_){if(S){var A=0;for(E=0;E<k;E++){m._ptr[E]=m._ptr[E]+A,M=m._ptr[E+1]+A;var N=0;for(C=_;C<g;C++,N++)m._values.splice(M+N,0,b),m._index.splice(M+N,0,C),A++}m._ptr[k]=m._values.length}}else if(g<_){var T=0;for(E=0;E<k;E++){m._ptr[E]=m._ptr[E]-T;var I=m._ptr[E],O=m._ptr[E+1]-T;for(M=I;M<O;M++)C=m._index[M],C>g-1&&(m._values.splice(M,1),m._index.splice(M,1),T++)}m._ptr[E]=m._values.length}return m._size[0]=g,m._size[1]=v,m}i.prototype.reshape=function(m,g){if(!wr(m))throw new TypeError("Array expected");if(m.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");m.forEach(function(Y){if(!mn(Y)||!Ft(Y)||Y<=-2||Y===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+An(m)+")")});var v=this._size[0]*this._size[1];m=bP(m,v);var y=m[0]*m[1];if(v!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var b=g?this.clone():this;if(this._size[0]===m[0]&&this._size[1]===m[1])return b;for(var w=[],x=0;x<b._ptr.length;x++)for(var S=0;S<b._ptr[x+1]-b._ptr[x];S++)w.push(x);for(var _=b._values.slice(),k=b._index.slice(),C=0;C<b._index.length;C++){var E=k[C],M=w[C],A=E*b._size[1]+M;w[C]=A%m[1],k[C]=Math.floor(A/m[1])}b._values.length=0,b._index.length=0,b._ptr.length=m[1]+1,b._size=m.slice();for(var N=0;N<b._ptr.length;N++)b._ptr[N]=0;for(var T=0;T<_.length;T++){var I=k[T],O=w[T],q=_[T],L=u(I,b._ptr[O],b._ptr[O+1],b._index);f(L,I,O,q,b._values,b._index,b._ptr)}return b},i.prototype.clone=function(){var m=new i({values:this._values?Qt(this._values):void 0,index:Qt(this._index),ptr:Qt(this._ptr),size:Qt(this._size),datatype:this._datatype});return m},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(m,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var v=this,y=this._size[0],b=this._size[1],w=jm(m,v,"map"),x=function(_,k,C){return w.fn(_,[k,C],v)};return h(this,0,y-1,0,b-1,x,g)};function h(m,g,v,y,b,w,x){var S=[],_=[],k=[],C=n,E=0;Ho(m._datatype)&&(C=e.find(n,[m._datatype,m._datatype])||n,E=e.convert(0,m._datatype));for(var M=function(P,$,X){var K=w(P,$,X);C(K,E)||(S.push(K),_.push($))},A=y;A<=b;A++){k.push(S.length);var N=m._ptr[A],T=m._ptr[A+1];if(x)for(var I=N;I<T;I++){var O=m._index[I];O>=g&&O<=v&&M(m._values[I],O-g,A-y)}else{for(var q={},L=N;L<T;L++){var Y=m._index[L];q[Y]=m._values[L]}for(var R=g;R<=v;R++){var B=R in q?q[R]:0;M(B,R-g,A-y)}}}return k.push(S.length),new i({values:S,index:_,ptr:k,size:[v-g+1,b-y+1]})}i.prototype.forEach=function(m,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var v=this,y=this._size[0],b=this._size[1],w=jm(m,v,"forEach"),x=0;x<b;x++){var S=this._ptr[x],_=this._ptr[x+1];if(g)for(var k=S;k<_;k++){var C=this._index[k];w.fn(this._values[k],[C,x],v)}else{for(var E={},M=S;M<_;M++){var A=this._index[M];E[A]=this._values[M]}for(var N=0;N<y;N++){var T=N in E?E[N]:0;w.fn(T,[N,x],v)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var m=this._size[1],g=0;g<m;g++)for(var v=this._ptr[g],y=this._ptr[g+1],b=v;b<y;b++){var w=this._index[b];yield{value:this._values[b],index:[w,g]}}},i.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)};function p(m,g,v,y,b){var w=y[0],x=y[1],S=[],_,k;for(_=0;_<w;_++)for(S[_]=[],k=0;k<x;k++)S[_][k]=0;for(k=0;k<x;k++)for(var C=v[k],E=v[k+1],M=C;M<E;M++)_=g[M],S[_][k]=m?b?Qt(m[M]):m[M]:1;return S}return i.prototype.format=function(m){for(var g=this._size[0],v=this._size[1],y=this.density(),b="Sparse Matrix ["+An(g,m)+" x "+An(v,m)+"] density: "+An(y,m)+`
`,w=0;w<v;w++)for(var x=this._ptr[w],S=this._ptr[w+1],_=x;_<S;_++){var k=this._index[_];b+=`
    (`+An(k,m)+", "+An(w,m)+") ==> "+(this._values?An(this._values[_],m):"X")}return b},i.prototype.toString=function(){return An(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(m){if(m){if(hn(m)&&(m=m.toNumber()),!mn(m)||!Ft(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var g=m>0?m:0,v=m<0?-m:0,y=this._size[0],b=this._size[1],w=Math.min(y-v,b-g),x=[],S=[],_=[];_[0]=0;for(var k=g;k<b&&x.length<w;k++)for(var C=this._ptr[k],E=this._ptr[k+1],M=C;M<E;M++){var A=this._index[M];if(A===k-g+v){x.push(this._values[M]),S[x.length-1]=A-v;break}}return _.push(x.length),new i({values:x,index:S,ptr:_,size:[w,1]})},i.fromJSON=function(m){return new i(m)},i.diagonal=function(m,g,v,y,b){if(!wr(m))throw new TypeError("Array expected, size parameter");if(m.length!==2)throw new Error("Only two dimensions matrix are supported");if(m=m.map(function(Y){if(hn(Y)&&(Y=Y.toNumber()),!mn(Y)||!Ft(Y)||Y<1)throw new Error("Size values must be positive integers");return Y}),v){if(hn(v)&&(v=v.toNumber()),!mn(v)||!Ft(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var w=n,x=0;Ho(b)&&(w=e.find(n,[b,b])||n,x=e.convert(0,b));var S=v>0?v:0,_=v<0?-v:0,k=m[0],C=m[1],E=Math.min(k-_,C-S),M;if(wr(g)){if(g.length!==E)throw new Error("Invalid value array length");M=function(R){return g[R]}}else if(Ht(g)){var A=g.size();if(A.length!==1||A[0]!==E)throw new Error("Invalid matrix length");M=function(R){return g.get([R])}}else M=function(){return g};for(var N=[],T=[],I=[],O=0;O<C;O++){I.push(N.length);var q=O-S;if(q>=0&&q<E){var L=M(q);w(L,x)||(T.push(q+_),N.push(L))}}return I.push(N.length),new i({values:N,index:T,ptr:I,size:[k,C]})},i.prototype.swapRows=function(m,g){if(!mn(m)||!Ft(m)||!mn(g)||!Ft(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ir(m,this._size[0]),Ir(g,this._size[0]),i._swapRows(m,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(m,g,v,y,b){for(var w=y[m],x=y[m+1],S=w;S<x;S++)b(v[S],g[S])},i._swapRows=function(m,g,v,y,b,w){for(var x=0;x<v;x++){var S=w[x],_=w[x+1],k=u(m,S,_,b),C=u(g,S,_,b);if(k<_&&C<_&&b[k]===m&&b[C]===g){if(y){var E=y[k];y[k]=y[C],y[C]=E}continue}if(k<_&&b[k]===m&&(C>=_||b[C]!==g)){var M=y?y[k]:void 0;b.splice(C,0,g),y&&y.splice(C,0,M),b.splice(C<=k?k+1:k,1),y&&y.splice(C<=k?k+1:k,1);continue}if(C<_&&b[C]===g&&(k>=_||b[k]!==m)){var A=y?y[C]:void 0;b.splice(k,0,m),y&&y.splice(k,0,A),b.splice(k<=C?C+1:C,1),y&&y.splice(k<=C?C+1:C,1)}}},i},{isClass:!0}),hNe="number",pNe=["typed"];function mNe(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var n={"0b":2,"0o":8,"0x":16}[e[1]],r=e[2],i=e[3];return{input:t,radix:n,integerPart:r,fractionalPart:i}}else return null}function gNe(t){for(var e=parseInt(t.integerPart,t.radix),n=0,r=0;r<t.fractionalPart.length;r++){var i=parseInt(t.fractionalPart[r],t.radix);n+=i/Math.pow(t.radix,r+1)}var o=e+n;if(isNaN(o))throw new SyntaxError('String "'+t.input+'" is not a valid number');return o}var Tle=Ce(hNe,pNe,t=>{var{typed:e}=t,n=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var o=mNe(i);if(o)return gNe(o);var a=0,s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(a=Number(s[2]),i=s[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(s){if(l>2**a-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(a-1)&&(l=l-2**a)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(r=>i=>{var o=i.clone();return o.value=r(i.value),o}),null:function(i){return 0},"Unit, string | Unit":function(i,o){return i.toNumber(o)},"Array | Matrix":e.referToSelf(r=>i=>bn(i,r))});return n.fromJSON=function(r){return parseFloat(r.value)},n}),vNe="bigint",yNe=["typed"],Mle=Ce(vNe,yNe,t=>{var{typed:e}=t,n=e("bigint",{"":function(){return 0n},bigint:function(i){return i},number:function(i){return BigInt(i.toFixed())},BigNumber:function(i){return BigInt(i.round().toString())},Fraction:function(i){return BigInt(i.valueOf().toFixed())},"string | boolean":function(i){return BigInt(i)},null:function(i){return 0n},"Array | Matrix":e.referToSelf(r=>i=>bn(i,r))});return n.fromJSON=function(r){return BigInt(r.value)},n}),bH="string",bNe=["typed"],Dle=Ce(bH,bNe,t=>{var{typed:e}=t;return e(bH,{"":function(){return""},number:Tm,null:function(r){return"null"},boolean:function(r){return r+""},string:function(r){return r},"Array | Matrix":e.referToSelf(n=>r=>bn(r,n)),any:function(r){return String(r)}})}),wH="boolean",wNe=["typed"],Nle=Ce(wH,wNe,t=>{var{typed:e}=t;return e(wH,{"":function(){return!1},boolean:function(r){return r},number:function(r){return!!r},null:function(r){return!1},BigNumber:function(r){return!r.isZero()},string:function(r){var i=r.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var o=Number(r);if(r!==""&&!isNaN(o))return!!o;throw new Error('Cannot convert "'+r+'" to a boolean')},"Array | Matrix":e.referToSelf(n=>r=>bn(r,n))})}),xNe="bignumber",SNe=["typed","BigNumber"],Ole=Ce(xNe,SNe,t=>{var{typed:e,BigNumber:n}=t;return e("bignumber",{"":function(){return new n(0)},number:function(i){return new n(i+"")},string:function(i){var o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var a=o[2],s=n(o[1]),l=new n(2).pow(Number(a));if(s.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new n(2).pow(Number(a)-1);return s.gte(u)?s.sub(l):s}return new n(i)},BigNumber:function(i){return i},bigint:function(i){return new n(i.toString())},Unit:e.referToSelf(r=>i=>{var o=i.clone();return o.value=r(i.value),o}),Fraction:function(i){return new n(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new n(0)},"Array | Matrix":e.referToSelf(r=>i=>bn(i,r))})}),_Ne="complex",CNe=["typed","Complex"],Ile=Ce(_Ne,CNe,t=>{var{typed:e,Complex:n}=t;return e("complex",{"":function(){return n.ZERO},number:function(i){return new n(i,0)},"number, number":function(i,o){return new n(i,o)},"BigNumber, BigNumber":function(i,o){return new n(i.toNumber(),o.toNumber())},Fraction:function(i){return new n(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return n(i)},null:function(i){return n(0)},Object:function(i){if("re"in i&&"im"in i)return new n(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new n(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(r=>i=>bn(i,r))})}),kNe="fraction",ENe=["typed","Fraction"],Ple=Ce(kNe,ENe,t=>{var{typed:e,Fraction:n}=t;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new n(i)},string:function(i){return new n(i)},"number, number":function(i,o){return new n(i,o)},"bigint, bigint":function(i,o){return new n(i,o)},null:function(i){return new n(0)},BigNumber:function(i){return new n(i.toString())},bigint:function(i){return new n(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(r=>i=>{var o=i.clone();return o.value=r(i.value),o}),Object:function(i){return new n(i)},"Array | Matrix":e.referToSelf(r=>i=>bn(i,r))})}),xH="matrix",ANe=["typed","Matrix","DenseMatrix","SparseMatrix"],Rle=Ce(xH,ANe,t=>{var{typed:e,Matrix:n,DenseMatrix:r,SparseMatrix:i}=t;return e(xH,{"":function(){return o([])},string:function(s){return o([],s)},"string, string":function(s,l){return o([],s,l)},Array:function(s){return o(s)},Matrix:function(s){return o(s,s.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(a,s,l){if(s==="dense"||s==="default"||s===void 0)return new r(a,l);if(s==="sparse")return new i(a,l);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),SH="matrixFromFunction",TNe=["typed","matrix","isZero"],Fle=Ce(SH,TNe,t=>{var{typed:e,matrix:n,isZero:r}=t;return e(SH,{"Array | Matrix, function, string, string":function(a,s,l,u){return i(a,s,l,u)},"Array | Matrix, function, string":function(a,s,l){return i(a,s,l)},"Matrix, function":function(a,s){return i(a,s,"dense")},"Array, function":function(a,s){return i(a,s,"dense").toArray()},"Array | Matrix, string, function":function(a,s,l){return i(a,l,s)},"Array | Matrix, string, string, function":function(a,s,l,u){return i(a,u,s,l)}});function i(o,a,s,l){var u;return l!==void 0?u=n(s,l):u=n(s),u.resize(o),u.forEach(function(c,f){var d=a(f);r(d)||u.set(f,d)}),u}}),_H="matrixFromRows",MNe=["typed","matrix","flatten","size"],Lle=Ce(_H,MNe,t=>{var{typed:e,matrix:n,flatten:r,size:i}=t;return e(_H,{"...Array":function(l){return o(l)},"...Matrix":function(l){return n(o(l.map(u=>u.toArray())))}});function o(s){if(s.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=a(s[0]),u=[];for(var c of s){var f=a(c);if(f!==l)throw new TypeError("The vectors had different length: "+(l|0)+"  "+(f|0));u.push(r(c))}return u}function a(s){var l=i(s);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),CH="matrixFromColumns",DNe=["typed","matrix","flatten","size"],$le=Ce(CH,DNe,t=>{var{typed:e,matrix:n,flatten:r,size:i}=t;return e(CH,{"...Array":function(l){return o(l)},"...Matrix":function(l){return n(o(l.map(u=>u.toArray())))}});function o(s){if(s.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=a(s[0]),u=[],c=0;c<l;c++)u[c]=[];for(var f of s){var d=a(f);if(d!==l)throw new TypeError("The vectors had different length: "+(l|0)+"  "+(d|0));for(var h=r(f),p=0;p<l;p++)u[p].push(h[p])}return u}function a(s){var l=i(s);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),kH="splitUnit",NNe=["typed"],Ble=Ce(kH,NNe,t=>{var{typed:e}=t;return e(kH,{"Unit, Array":function(r,i){return r.splitUnit(i)}})}),EH="unaryMinus",ONe=["typed"],zle=Ce(EH,ONe,t=>{var{typed:e}=t;return e(EH,{number:Pse,"Complex | BigNumber | Fraction":n=>n.neg(),bigint:n=>-n,Unit:e.referToSelf(n=>r=>{var i=r.clone();return i.value=e.find(n,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(n=>r=>bn(r,n,!0))})}),AH="unaryPlus",INe=["typed","config","numeric"],qle=Ce(AH,INe,t=>{var{typed:e,config:n,numeric:r}=t;return e(AH,{number:Rse,Complex:function(o){return o},BigNumber:function(o){return o},bigint:function(o){return o},Fraction:function(o){return o},Unit:function(o){return o.clone()},"Array | Matrix":e.referToSelf(i=>o=>bn(o,i,!0)),boolean:function(o){return r(o?1:0,n.number)},string:function(o){return r(o,ip(o,n))}})}),TH="abs",PNe=["typed"],Vle=Ce(TH,PNe,t=>{var{typed:e}=t;return e(TH,{number:Dse,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),bigint:n=>n<0n?-n:n,"Array | Matrix":e.referToSelf(n=>r=>bn(r,n,!0))})}),MH="mapSlices",RNe=["typed","isInteger"],J_=Ce(MH,RNe,t=>{var{typed:e,isInteger:n}=t;return e(MH,{"Array | Matrix, number | BigNumber, function":function(i,o,a){if(!n(o))throw new TypeError("Integer number expected for dimension");var s=Array.isArray(i)?ln(i):i.size();if(o<0||o>=s.length)throw new Cu(o,s.length);return Ht(i)?i.create(Q_(i.valueOf(),o,a),i.datatype()):Q_(i,o,a)}})},{formerly:"apply"});function Q_(t,e,n){var r,i,o;if(e<=0)if(Array.isArray(t[0])){for(o=FNe(t),i=[],r=0;r<o.length;r++)i[r]=Q_(o[r],e-1,n);return i}else return n(t);else{for(i=[],r=0;r<t.length;r++)i[r]=Q_(t[r],e-1,n);return i}}function FNe(t){var e=t.length,n=t[0].length,r,i,o=[];for(i=0;i<n;i++){var a=[];for(r=0;r<e;r++)a.push(t[r][i]);o.push(a)}return o}var DH="addScalar",LNe=["typed"],Hle=Ce(DH,LNe,t=>{var{typed:e}=t;return e(DH,{"number, number":Nse,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"bigint, bigint":function(r,i){return r+i},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":e.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var o=r.clone();return o.value=e.find(n,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})}),NH="subtractScalar",$Ne=["typed"],Ule=Ce(NH,$Ne,t=>{var{typed:e}=t;return e(NH,{"number, number":Ose,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"bigint, bigint":function(r,i){return r-i},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":e.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var o=r.clone();return o.value=e.find(n,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})}),OH="cbrt",BNe=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],jle=Ce(OH,BNe,t=>{var{config:e,typed:n,isNegative:r,unaryMinus:i,matrix:o,Complex:a,BigNumber:s,Fraction:l}=t;return n(OH,{number:Ib,Complex:u,"Complex, boolean":u,BigNumber:function(d){return d.cbrt()},Unit:c});function u(f,d){var h=f.arg()/3,p=f.abs(),m=new a(Ib(p),0).mul(new a(0,h).exp());if(d){var g=[m,new a(Ib(p),0).mul(new a(0,h+Math.PI*2/3).exp()),new a(Ib(p),0).mul(new a(0,h-Math.PI*2/3).exp())];return e.matrix==="Array"?g:o(g)}else return m}function c(f){if(f.value&&Xu(f.value)){var d=f.clone();return d.value=1,d=d.pow(1/3),d.value=u(f.value),d}else{var h=r(f.value);h&&(f.value=i(f.value));var p;hn(f.value)?p=new s(1).div(3):p1(f.value)?p=new l(1,3):p=1/3;var m=f.pow(p);return h&&(m.value=i(m.value)),m}}}),zNe="matAlgo11xS0s",qNe=["typed","equalScalar"],oa=Ce(zNe,qNe,t=>{var{typed:e,equalScalar:n}=t;return function(i,o,a,s){var l=i._values,u=i._index,c=i._ptr,f=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=f[0],p=f[1],m,g=n,v=0,y=a;typeof d=="string"&&(m=d,g=e.find(n,[m,m]),v=e.convert(0,m),o=e.convert(o,m),y=e.find(a,[m,m]));for(var b=[],w=[],x=[],S=0;S<p;S++){x[S]=w.length;for(var _=c[S],k=c[S+1],C=_;C<k;C++){var E=u[C],M=s?y(o,l[C]):y(l[C],o);g(M,v)||(w.push(E),b.push(M))}}return x[p]=w.length,i.createSparseMatrix({values:b,index:w,ptr:x,size:[h,p],datatype:m})}}),VNe="matAlgo12xSfs",HNe=["typed","DenseMatrix"],vo=Ce(VNe,HNe,t=>{var{typed:e,DenseMatrix:n}=t;return function(i,o,a,s){var l=i._values,u=i._index,c=i._ptr,f=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=f[0],p=f[1],m,g=a;typeof d=="string"&&(m=d,o=e.convert(o,m),g=e.find(a,[m,m]));for(var v=[],y=[],b=[],w=0;w<p;w++){for(var x=w+1,S=c[w],_=c[w+1],k=S;k<_;k++){var C=u[k];y[C]=l[k],b[C]=x}for(var E=0;E<h;E++)w===0&&(v[E]=[]),b[E]===x?v[E][w]=s?g(o,y[E]):g(y[E],o):v[E][w]=s?g(o,0):g(0,o)}return new n({data:v,size:[h,p],datatype:m})}}),UNe="matAlgo14xDs",jNe=["typed"],lc=Ce(UNe,jNe,t=>{var{typed:e}=t;return function(i,o,a,s){var l=i._data,u=i._size,c=i._datatype,f,d=a;typeof c=="string"&&(f=c,o=e.convert(o,f),d=e.find(a,[f,f]));var h=u.length>0?n(d,0,u,u[0],l,o,s):[];return i.createDenseMatrix({data:h,size:Qt(u),datatype:f})};function n(r,i,o,a,s,l,u){var c=[];if(i===o.length-1)for(var f=0;f<a;f++)c[f]=u?r(l,s[f]):r(s[f],l);else for(var d=0;d<a;d++)c[d]=n(r,i+1,o,o[i+1],s[d],l,u);return c}}),sD="ceil",WNe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],GNe=new N0(10),KNe=Ce(sD,["typed","config","round"],t=>{var{typed:e,config:n,round:r}=t;function i(o){var a=Math.ceil(o),s=r(o);return a===s?a:ea(o,s,n.relTol,n.absTol)&&!ea(o,a,n.relTol,n.absTol)?s:a}return e(sD,{number:i,"number, number":function(a,s){if(!Ft(s))throw new RangeError("number of decimals in function ceil must be an integer");if(s<0||s>15)throw new RangeError("number of decimals in ceil number must be in range 0-15");var l=10**s;return i(a*l)/l}})}),Wle=Ce(sD,WNe,t=>{var{typed:e,config:n,round:r,matrix:i,equalScalar:o,zeros:a,DenseMatrix:s}=t,l=oa({typed:e,equalScalar:o}),u=vo({typed:e,DenseMatrix:s}),c=lc({typed:e}),f=KNe({typed:e,config:n,round:r});function d(h){var p=(v,y)=>mu(v,y,n.relTol,n.absTol),m=h.ceil(),g=r(h);return m.eq(g)?m:p(h,g)&&!p(h,m)?g:m}return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(p){return p.ceil()},"Complex, number":function(p,m){return p.ceil(m)},"Complex, BigNumber":function(p,m){return p.ceil(m.toNumber())},BigNumber:d,"BigNumber, BigNumber":function(p,m){var g=GNe.pow(m);return d(p.mul(g)).div(g)},bigint:h=>h,"bigint, number":(h,p)=>h,"bigint, BigNumber":(h,p)=>h,Fraction:function(p){return p.ceil()},"Fraction, number":function(p,m){return p.ceil(m)},"Fraction, BigNumber":function(p,m){return p.ceil(m.toNumber())},"Unit, number, Unit":e.referToSelf(h=>function(p,m,g){var v=p.toNumeric(g);return g.multiply(h(v,m))}),"Unit, BigNumber, Unit":e.referToSelf(h=>(p,m,g)=>h(p,m.toNumber(),g)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(h=>(p,m,g)=>bn(p,v=>h(v,m,g),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(h=>(p,m)=>h(p,0,m)),"Array | Matrix":e.referToSelf(h=>p=>bn(p,h,!0)),"Array, number | BigNumber":e.referToSelf(h=>(p,m)=>bn(p,g=>h(g,m),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(h=>(p,m)=>l(p,m,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(p,m)=>c(p,m,h,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(p,m)=>c(i(m),p,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(p,m)=>o(p,0)?a(m.size(),m.storage()):m.storage()==="dense"?c(m,p,h,!0):u(m,p,h,!0))})}),IH="cube",XNe=["typed"],Gle=Ce(IH,XNe,t=>{var{typed:e}=t;return e(IH,{number:Fse,Complex:function(r){return r.mul(r).mul(r)},BigNumber:function(r){return r.times(r).times(r)},bigint:function(r){return r*r*r},Fraction:function(r){return r.pow(3)},Unit:function(r){return r.pow(3)}})}),PH="exp",YNe=["typed"],Kle=Ce(PH,YNe,t=>{var{typed:e}=t;return e(PH,{number:Lse,Complex:function(r){return r.exp()},BigNumber:function(r){return r.exp()}})}),RH="expm1",ZNe=["typed","Complex"],Xle=Ce(RH,ZNe,t=>{var{typed:e,Complex:n}=t;return e(RH,{number:$se,Complex:function(i){var o=Math.exp(i.re);return new n(o*Math.cos(i.im)-1,o*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),lD="fix",JNe=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],QNe=Ce(lD,["typed","ceil","floor"],t=>{var{typed:e,ceil:n,floor:r}=t;return e(lD,{number:function(o){return o>0?r(o):n(o)},"number, number":function(o,a){return o>0?r(o,a):n(o,a)}})}),Yle=Ce(lD,JNe,t=>{var{typed:e,Complex:n,matrix:r,ceil:i,floor:o,equalScalar:a,zeros:s,DenseMatrix:l}=t,u=vo({typed:e,DenseMatrix:l}),c=lc({typed:e}),f=QNe({typed:e,ceil:i,floor:o});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(h){return new n(h.re>0?Math.floor(h.re):Math.ceil(h.re),h.im>0?Math.floor(h.im):Math.ceil(h.im))},"Complex, number":function(h,p){return new n(h.re>0?o(h.re,p):i(h.re,p),h.im>0?o(h.im,p):i(h.im,p))},"Complex, BigNumber":function(h,p){var m=p.toNumber();return new n(h.re>0?o(h.re,m):i(h.re,m),h.im>0?o(h.im,m):i(h.im,m))},BigNumber:function(h){return h.isNegative()?i(h):o(h)},"BigNumber, number | BigNumber":function(h,p){return h.isNegative()?i(h,p):o(h,p)},bigint:d=>d,"bigint, number":(d,h)=>d,"bigint, BigNumber":(d,h)=>d,Fraction:function(h){return h.s<0n?h.ceil():h.floor()},"Fraction, number | BigNumber":function(h,p){return h.s<0n?i(h,p):o(h,p)},"Unit, number, Unit":e.referToSelf(d=>function(h,p,m){var g=h.toNumeric(m);return m.multiply(d(g,p))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(h,p,m)=>d(h,p.toNumber(),m)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(h,p,m)=>bn(h,g=>d(g,p,m),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(h,p)=>d(h,0,p)),"Array | Matrix":e.referToSelf(d=>h=>bn(h,d,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(d=>(h,p)=>bn(h,m=>d(m,p),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(h,p)=>c(r(p),h,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(h,p)=>a(h,0)?s(p.size(),p.storage()):p.storage()==="dense"?c(p,h,d,!0):u(p,h,d,!0))})}),uD="floor",eOe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],tOe=new N0(10),nOe=Ce(uD,["typed","config","round"],t=>{var{typed:e,config:n,round:r}=t;function i(o){var a=Math.floor(o),s=r(o);return a===s?a:ea(o,s,n.relTol,n.absTol)&&!ea(o,a,n.relTol,n.absTol)?s:a}return e(uD,{number:i,"number, number":function(a,s){if(!Ft(s))throw new RangeError("number of decimals in function floor must be an integer");if(s<0||s>15)throw new RangeError("number of decimals in floor number must be in range 0 - 15");var l=10**s;return i(a*l)/l}})}),CP=Ce(uD,eOe,t=>{var{typed:e,config:n,round:r,matrix:i,equalScalar:o,zeros:a,DenseMatrix:s}=t,l=oa({typed:e,equalScalar:o}),u=vo({typed:e,DenseMatrix:s}),c=lc({typed:e}),f=nOe({typed:e,config:n,round:r});function d(h){var p=(v,y)=>mu(v,y,n.relTol,n.absTol),m=h.floor(),g=r(h);return m.eq(g)?m:p(h,g)&&!p(h,m)?g:m}return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(p){return p.floor()},"Complex, number":function(p,m){return p.floor(m)},"Complex, BigNumber":function(p,m){return p.floor(m.toNumber())},BigNumber:d,"BigNumber, BigNumber":function(p,m){var g=tOe.pow(m);return d(p.mul(g)).div(g)},bigint:h=>h,"bigint, number":(h,p)=>h,"bigint, BigNumber":(h,p)=>h,Fraction:function(p){return p.floor()},"Fraction, number":function(p,m){return p.floor(m)},"Fraction, BigNumber":function(p,m){return p.floor(m.toNumber())},"Unit, number, Unit":e.referToSelf(h=>function(p,m,g){var v=p.toNumeric(g);return g.multiply(h(v,m))}),"Unit, BigNumber, Unit":e.referToSelf(h=>(p,m,g)=>h(p,m.toNumber(),g)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(h=>(p,m,g)=>bn(p,v=>h(v,m,g),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(h=>(p,m)=>h(p,0,m)),"Array | Matrix":e.referToSelf(h=>p=>bn(p,h,!0)),"Array, number | BigNumber":e.referToSelf(h=>(p,m)=>bn(p,g=>h(g,m),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(h=>(p,m)=>l(p,m,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(p,m)=>c(p,m,h,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(p,m)=>c(i(m),p,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(p,m)=>o(p,0)?a(m.size(),m.storage()):m.storage()==="dense"?c(m,p,h,!0):u(m,p,h,!0))})}),rOe="matAlgo02xDS0",iOe=["typed","equalScalar"],uc=Ce(rOe,iOe,t=>{var{typed:e,equalScalar:n}=t;return function(i,o,a,s){var l=i._data,u=i._size,c=i._datatype||i.getDataType(),f=o._values,d=o._index,h=o._ptr,p=o._size,m=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(u.length!==p.length)throw new _n(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=u[0],v=u[1],y,b=n,w=0,x=a;typeof c=="string"&&c===m&&c!=="mixed"&&(y=c,b=e.find(n,[y,y]),w=e.convert(0,y),x=e.find(a,[y,y]));for(var S=[],_=[],k=[],C=0;C<v;C++){k[C]=_.length;for(var E=h[C],M=h[C+1],A=E;A<M;A++){var N=d[A],T=s?x(f[A],l[N][C]):x(l[N][C],f[A]);b(T,w)||(_.push(N),S.push(T))}}return k[v]=_.length,o.createSparseMatrix({values:S,index:_,ptr:k,size:[g,v],datatype:c===i._datatype&&m===o._datatype?y:void 0})}}),oOe="matAlgo03xDSf",aOe=["typed"],ds=Ce(oOe,aOe,t=>{var{typed:e}=t;return function(r,i,o,a){var s=r._data,l=r._size,u=r._datatype||r.getDataType(),c=i._values,f=i._index,d=i._ptr,h=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==h.length)throw new _n(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=l[0],g=l[1],v,y=0,b=o;typeof u=="string"&&u===p&&u!=="mixed"&&(v=u,y=e.convert(0,v),b=e.find(o,[v,v]));for(var w=[],x=0;x<m;x++)w[x]=[];for(var S=[],_=[],k=0;k<g;k++){for(var C=k+1,E=d[k],M=d[k+1],A=E;A<M;A++){var N=f[A];S[N]=a?b(c[A],s[N][k]):b(s[N][k],c[A]),_[N]=C}for(var T=0;T<m;T++)_[T]===C?w[T][k]=S[T]:w[T][k]=a?b(y,s[T][k]):b(s[T][k],y)}return r.createDenseMatrix({data:w,size:[m,g],datatype:u===r._datatype&&p===i._datatype?v:void 0})}}),sOe="matAlgo05xSfSf",lOe=["typed","equalScalar"],pk=Ce(sOe,lOe,t=>{var{typed:e,equalScalar:n}=t;return function(i,o,a){var s=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=o._values,h=o._index,p=o._ptr,m=o._size,g=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(c.length!==m.length)throw new _n(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var v=c[0],y=c[1],b,w=n,x=0,S=a;typeof f=="string"&&f===g&&f!=="mixed"&&(b=f,w=e.find(n,[b,b]),x=e.convert(0,b),S=e.find(a,[b,b]));var _=s&&d?[]:void 0,k=[],C=[],E=_?[]:void 0,M=_?[]:void 0,A=[],N=[],T,I,O,q;for(I=0;I<y;I++){C[I]=k.length;var L=I+1;for(O=u[I],q=u[I+1];O<q;O++)T=l[O],k.push(T),A[T]=L,E&&(E[T]=s[O]);for(O=p[I],q=p[I+1];O<q;O++)T=h[O],A[T]!==L&&k.push(T),N[T]=L,M&&(M[T]=d[O]);if(_)for(O=C[I];O<k.length;){T=k[O];var Y=A[T],R=N[T];if(Y===L||R===L){var B=Y===L?E[T]:x,z=R===L?M[T]:x,P=S(B,z);w(P,x)?k.splice(O,1):(_.push(P),O++)}}}return C[y]=k.length,i.createSparseMatrix({values:_,index:k,ptr:C,size:[v,y],datatype:f===i._datatype&&g===o._datatype?b:void 0})}}),uOe="matAlgo13xDD",cOe=["typed"],fOe=Ce(uOe,cOe,t=>{var{typed:e}=t;return function(i,o,a){var s=i._data,l=i._size,u=i._datatype,c=o._data,f=o._size,d=o._datatype,h=[];if(l.length!==f.length)throw new _n(l.length,f.length);for(var p=0;p<l.length;p++){if(l[p]!==f[p])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");h[p]=l[p]}var m,g=a;typeof u=="string"&&u===d&&(m=u,g=e.find(a,[m,m]));var v=h.length>0?n(g,0,h,h[0],s,c):[];return i.createDenseMatrix({data:v,size:h,datatype:m})};function n(r,i,o,a,s,l){var u=[];if(i===o.length-1)for(var c=0;c<a;c++)u[c]=r(s[c],l[c]);else for(var f=0;f<a;f++)u[f]=n(r,i+1,o,o[i+1],s[f],l[f]);return u}});function So(t,e){if(Gd(t.size(),e.size()))return[t,e];var n=wP(t.size(),e.size());return[t,e].map(r=>dOe(r,n))}function dOe(t,e){return Gd(t.size(),e)?t:t.create(om(t.valueOf(),e),t.datatype())}var hOe="matrixAlgorithmSuite",pOe=["typed","matrix"],Rr=Ce(hOe,pOe,t=>{var{typed:e,matrix:n}=t,r=fOe({typed:e}),i=lc({typed:e});return function(a){var s=a.elop,l=a.SD||a.DS,u;s?(u={"DenseMatrix, DenseMatrix":(h,p)=>r(...So(h,p),s),"Array, Array":(h,p)=>r(...So(n(h),n(p)),s).valueOf(),"Array, DenseMatrix":(h,p)=>r(...So(n(h),p),s),"DenseMatrix, Array":(h,p)=>r(...So(h,n(p)),s)},a.SS&&(u["SparseMatrix, SparseMatrix"]=(h,p)=>a.SS(...So(h,p),s,!1)),a.DS&&(u["DenseMatrix, SparseMatrix"]=(h,p)=>a.DS(...So(h,p),s,!1),u["Array, SparseMatrix"]=(h,p)=>a.DS(...So(n(h),p),s,!1)),l&&(u["SparseMatrix, DenseMatrix"]=(h,p)=>l(...So(p,h),s,!0),u["SparseMatrix, Array"]=(h,p)=>l(...So(n(p),h),s,!0))):(u={"DenseMatrix, DenseMatrix":e.referToSelf(h=>(p,m)=>r(...So(p,m),h)),"Array, Array":e.referToSelf(h=>(p,m)=>r(...So(n(p),n(m)),h).valueOf()),"Array, DenseMatrix":e.referToSelf(h=>(p,m)=>r(...So(n(p),m),h)),"DenseMatrix, Array":e.referToSelf(h=>(p,m)=>r(...So(p,n(m)),h))},a.SS&&(u["SparseMatrix, SparseMatrix"]=e.referToSelf(h=>(p,m)=>a.SS(...So(p,m),h,!1))),a.DS&&(u["DenseMatrix, SparseMatrix"]=e.referToSelf(h=>(p,m)=>a.DS(...So(p,m),h,!1)),u["Array, SparseMatrix"]=e.referToSelf(h=>(p,m)=>a.DS(...So(n(p),m),h,!1))),l&&(u["SparseMatrix, DenseMatrix"]=e.referToSelf(h=>(p,m)=>l(...So(m,p),h,!0)),u["SparseMatrix, Array"]=e.referToSelf(h=>(p,m)=>l(...So(n(m),p),h,!0))));var c=a.scalar||"any",f=a.Ds||a.Ss;f&&(s?(u["DenseMatrix,"+c]=(h,p)=>i(h,p,s,!1),u[c+", DenseMatrix"]=(h,p)=>i(p,h,s,!0),u["Array,"+c]=(h,p)=>i(n(h),p,s,!1).valueOf(),u[c+", Array"]=(h,p)=>i(n(p),h,s,!0).valueOf()):(u["DenseMatrix,"+c]=e.referToSelf(h=>(p,m)=>i(p,m,h,!1)),u[c+", DenseMatrix"]=e.referToSelf(h=>(p,m)=>i(m,p,h,!0)),u["Array,"+c]=e.referToSelf(h=>(p,m)=>i(n(p),m,h,!1).valueOf()),u[c+", Array"]=e.referToSelf(h=>(p,m)=>i(n(m),p,h,!0).valueOf())));var d=a.sS!==void 0?a.sS:a.Ss;return s?(a.Ss&&(u["SparseMatrix,"+c]=(h,p)=>a.Ss(h,p,s,!1)),d&&(u[c+", SparseMatrix"]=(h,p)=>d(p,h,s,!0))):(a.Ss&&(u["SparseMatrix,"+c]=e.referToSelf(h=>(p,m)=>a.Ss(p,m,h,!1))),d&&(u[c+", SparseMatrix"]=e.referToSelf(h=>(p,m)=>d(m,p,h,!0)))),s&&s.signatures&&Vae(u,s.signatures),u}}),FH="mod",mOe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],kP=Ce(FH,mOe,t=>{var{typed:e,config:n,round:r,matrix:i,equalScalar:o,zeros:a,DenseMatrix:s,concat:l}=t,u=CP({typed:e,config:n,round:r,matrix:i,equalScalar:o,zeros:a,DenseMatrix:s}),c=uc({typed:e,equalScalar:o}),f=ds({typed:e}),d=pk({typed:e,equalScalar:o}),h=oa({typed:e,equalScalar:o}),p=vo({typed:e,DenseMatrix:s}),m=Rr({typed:e,matrix:i,concat:l});return e(FH,{"number, number":g,"BigNumber, BigNumber":function(y,b){return b.isZero()?y:y.sub(b.mul(u(y.div(b))))},"bigint, bigint":function(y,b){if(b===0n)return y;if(y<0){var w=y%b;return w===0n?w:w+b}return y%b},"Fraction, Fraction":function(y,b){return b.equals(0)?y:y.sub(b.mul(u(y.div(b))))}},m({SS:d,DS:f,SD:c,Ss:h,sS:p}));function g(v,y){return y===0?v:v-y*u(v/y)}}),gOe="matAlgo01xDSid",vOe=["typed"],ap=Ce(gOe,vOe,t=>{var{typed:e}=t;return function(r,i,o,a){var s=r._data,l=r._size,u=r._datatype||r.getDataType(),c=i._values,f=i._index,d=i._ptr,h=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==h.length)throw new _n(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=l[0],g=l[1],v=typeof u=="string"&&u!=="mixed"&&u===p?u:void 0,y=v?e.find(o,[v,v]):o,b,w,x=[];for(b=0;b<m;b++)x[b]=[];var S=[],_=[];for(w=0;w<g;w++){for(var k=w+1,C=d[w],E=d[w+1],M=C;M<E;M++)b=f[M],S[b]=a?y(c[M],s[b][w]):y(s[b][w],c[M]),_[b]=k;for(b=0;b<m;b++)_[b]===k?x[b][w]=S[b]:x[b][w]=s[b][w]}return r.createDenseMatrix({data:x,size:[m,g],datatype:u===r._datatype&&p===i._datatype?v:void 0})}}),yOe="matAlgo04xSidSid",bOe=["typed","equalScalar"],EP=Ce(yOe,bOe,t=>{var{typed:e,equalScalar:n}=t;return function(i,o,a){var s=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=o._values,h=o._index,p=o._ptr,m=o._size,g=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(c.length!==m.length)throw new _n(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var v=c[0],y=c[1],b,w=n,x=0,S=a;typeof f=="string"&&f===g&&f!=="mixed"&&(b=f,w=e.find(n,[b,b]),x=e.convert(0,b),S=e.find(a,[b,b]));var _=s&&d?[]:void 0,k=[],C=[],E=s&&d?[]:void 0,M=s&&d?[]:void 0,A=[],N=[],T,I,O,q,L;for(I=0;I<y;I++){C[I]=k.length;var Y=I+1;for(q=u[I],L=u[I+1],O=q;O<L;O++)T=l[O],k.push(T),A[T]=Y,E&&(E[T]=s[O]);for(q=p[I],L=p[I+1],O=q;O<L;O++)if(T=h[O],A[T]===Y){if(E){var R=S(E[T],d[O]);w(R,x)?A[T]=null:E[T]=R}}else k.push(T),N[T]=Y,M&&(M[T]=d[O]);if(E&&M)for(O=C[I];O<k.length;)T=k[O],A[T]===Y?(_[O]=E[T],O++):N[T]===Y?(_[O]=M[T],O++):k.splice(O,1)}return C[y]=k.length,i.createSparseMatrix({values:_,index:k,ptr:C,size:[v,y],datatype:f===i._datatype&&g===o._datatype?b:void 0})}}),wOe="matAlgo10xSids",xOe=["typed","DenseMatrix"],v1=Ce(wOe,xOe,t=>{var{typed:e,DenseMatrix:n}=t;return function(i,o,a,s){var l=i._values,u=i._index,c=i._ptr,f=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=f[0],p=f[1],m,g=a;typeof d=="string"&&(m=d,o=e.convert(o,m),g=e.find(a,[m,m]));for(var v=[],y=[],b=[],w=0;w<p;w++){for(var x=w+1,S=c[w],_=c[w+1],k=S;k<_;k++){var C=u[k];y[C]=l[k],b[C]=x}for(var E=0;E<h;E++)w===0&&(v[E]=[]),b[E]===x?v[E][w]=s?g(o,y[E]):g(y[E],o):v[E][w]=o}return new n({data:v,size:[h,p],datatype:m})}});function oh(t,e,n,r){if(!(this instanceof oh))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(r!=null?"-"+r:"")+" expected)",this.stack=new Error().stack}oh.prototype=new Error;oh.prototype.constructor=Error;oh.prototype.name="ArgumentsError";oh.prototype.isArgumentsError=!0;var LH="gcd",SOe=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],uA="number | BigNumber | Fraction | Matrix | Array",_Oe="".concat(uA,", ").concat(uA,", ...").concat(uA);function $H(t){return!t.some(e=>Array.isArray(e))}var Zle=Ce(LH,SOe,t=>{var{typed:e,matrix:n,config:r,round:i,equalScalar:o,zeros:a,BigNumber:s,DenseMatrix:l,concat:u}=t,c=kP({typed:e,config:r,round:i,matrix:n,equalScalar:o,zeros:a,DenseMatrix:l,concat:u}),f=ap({typed:e}),d=EP({typed:e,equalScalar:o}),h=v1({typed:e,DenseMatrix:l}),p=Rr({typed:e,matrix:n,concat:u});return e(LH,{"number, number":m,"BigNumber, BigNumber":g,"Fraction, Fraction":(v,y)=>v.gcd(y)},p({SS:d,DS:f,Ss:h}),{[_Oe]:e.referToSelf(v=>(y,b,w)=>{for(var x=v(y,b),S=0;S<w.length;S++)x=v(x,w[S]);return x}),Array:e.referToSelf(v=>y=>{if(y.length===1&&Array.isArray(y[0])&&$H(y[0]))return v(...y[0]);if($H(y))return v(...y);throw new oh("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(v=>y=>v(y.toArray()))});function m(v,y){if(!Ft(v)||!Ft(y))throw new Error("Parameters in function gcd must be integer numbers");for(var b;y!==0;)b=c(v,y),v=y,y=b;return v<0?-v:v}function g(v,y){if(!v.isInt()||!y.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var b=new s(0);!y.isZero();){var w=c(v,y);v=y,y=w}return v.lt(b)?v.neg():v}}),COe="matAlgo06xS0S0",kOe=["typed","equalScalar"],mk=Ce(COe,kOe,t=>{var{typed:e,equalScalar:n}=t;return function(i,o,a){var s=i._values,l=i._size,u=i._datatype||i._data===void 0?i._datatype:i.getDataType(),c=o._values,f=o._size,d=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(l.length!==f.length)throw new _n(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");var h=l[0],p=l[1],m,g=n,v=0,y=a;typeof u=="string"&&u===d&&u!=="mixed"&&(m=u,g=e.find(n,[m,m]),v=e.convert(0,m),y=e.find(a,[m,m]));for(var b=s&&c?[]:void 0,w=[],x=[],S=b?[]:void 0,_=[],k=[],C=0;C<p;C++){x[C]=w.length;var E=C+1;if(sH(i,C,_,S,k,E,w,y),sH(o,C,_,S,k,E,w,y),S)for(var M=x[C];M<w.length;){var A=w[M];if(k[A]===E){var N=S[A];g(N,v)?w.splice(M,1):(b.push(N),M++)}else w.splice(M,1)}else for(var T=x[C];T<w.length;){var I=w[T];k[I]!==E?w.splice(T,1):T++}}return x[p]=w.length,i.createSparseMatrix({values:b,index:w,ptr:x,size:[h,p],datatype:u===i._datatype&&d===o._datatype?m:void 0})}}),BH="lcm",EOe=["typed","matrix","equalScalar","concat"],Jle=Ce(BH,EOe,t=>{var{typed:e,matrix:n,equalScalar:r,concat:i}=t,o=uc({typed:e,equalScalar:r}),a=mk({typed:e,equalScalar:r}),s=oa({typed:e,equalScalar:r}),l=Rr({typed:e,matrix:n,concat:i}),u="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(u,", ").concat(u,", ...").concat(u)]=e.referToSelf(d=>(h,p,m)=>{for(var g=d(h,p),v=0;v<m.length;v++)g=d(g,m[v]);return g}),e(BH,{"number, number":Bse,"BigNumber, BigNumber":f,"Fraction, Fraction":(d,h)=>d.lcm(h)},l({SS:a,DS:o,Ss:s}),c);function f(d,h){if(!d.isInt()||!h.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(d.isZero())return d;if(h.isZero())return h;for(var p=d.times(h);!h.isZero();){var m=h;h=d.mod(m),d=m}return p.div(d).abs()}});function AP(t,e,n,r){return function(i){if(i>0||n.predictable){if(i<=0)return NaN;var o=i.toString(16),a=o.substring(0,15);return t*(o.length-a.length)+e(+("0x"+a))}return r(i.toNumber())}}var zH="log10",AOe=["typed","config","Complex"],TOe=K_(16),Qle=Ce(zH,AOe,t=>{var{typed:e,config:n,Complex:r}=t;function i(a){return a.log().div(Math.LN10)}function o(a){return i(new r(a,0))}return e(zH,{number:function(s){return s>=0||n.predictable?K_(s):o(s)},bigint:AP(TOe,K_,n,o),Complex:i,BigNumber:function(s){return!s.isNegative()||n.predictable?s.log():o(s.toNumber())},"Array | Matrix":e.referToSelf(a=>s=>bn(s,a))})}),qH="log2",MOe=["typed","config","Complex"],eue=Ce(qH,MOe,t=>{var{typed:e,config:n,Complex:r}=t;function i(a){return o(new r(a,0))}return e(qH,{number:function(s){return s>=0||n.predictable?nD(s):i(s)},bigint:AP(4,nD,n,i),Complex:o,BigNumber:function(s){return!s.isNegative()||n.predictable?s.log(2):i(s.toNumber())},"Array | Matrix":e.referToSelf(a=>s=>bn(s,a))});function o(a){var s=Math.sqrt(a.re*a.re+a.im*a.im);return new r(Math.log2?Math.log2(s):Math.log(s)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}}),DOe="multiplyScalar",NOe=["typed"],tue=Ce(DOe,NOe,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":Ise,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"bigint, bigint":function(r,i){return r*i},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(n,r)=>r.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,r)=>n.multiply(r)})}),VH="multiply",OOe=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],nue=Ce(VH,OOe,t=>{var{typed:e,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:o,dot:a}=t,s=oa({typed:e,equalScalar:o}),l=lc({typed:e});function u(x,S){switch(x.length){case 1:switch(S.length){case 1:if(x[0]!==S[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(x[0]!==S[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+x[0]+") must match Matrix rows ("+S[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+S.length+" dimensions)")}break;case 2:switch(S.length){case 1:if(x[1]!==S[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+x[1]+") must match Vector length ("+S[0]+")");break;case 2:if(x[1]!==S[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+x[1]+") must match Matrix B rows ("+S[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+S.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+x.length+" dimensions)")}}function c(x,S,_){if(_===0)throw new Error("Cannot multiply two empty vectors");return a(x,S)}function f(x,S){if(S.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return d(x,S)}function d(x,S){var _=x._data,k=x._size,C=x._datatype||x.getDataType(),E=S._data,M=S._size,A=S._datatype||S.getDataType(),N=k[0],T=M[1],I,O=r,q=i;C&&A&&C===A&&typeof C=="string"&&C!=="mixed"&&(I=C,O=e.find(r,[I,I]),q=e.find(i,[I,I]));for(var L=[],Y=0;Y<T;Y++){for(var R=q(_[0],E[0][Y]),B=1;B<N;B++)R=O(R,q(_[B],E[B][Y]));L[Y]=R}return x.createDenseMatrix({data:L,size:[T],datatype:C===x._datatype&&A===S._datatype?I:void 0})}var h=e("_multiplyMatrixVector",{"DenseMatrix, any":m,"SparseMatrix, any":y}),p=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":v,"SparseMatrix, DenseMatrix":b,"SparseMatrix, SparseMatrix":w});function m(x,S){var _=x._data,k=x._size,C=x._datatype||x.getDataType(),E=S._data,M=S._datatype||S.getDataType(),A=k[0],N=k[1],T,I=r,O=i;C&&M&&C===M&&typeof C=="string"&&C!=="mixed"&&(T=C,I=e.find(r,[T,T]),O=e.find(i,[T,T]));for(var q=[],L=0;L<A;L++){for(var Y=_[L],R=O(Y[0],E[0]),B=1;B<N;B++)R=I(R,O(Y[B],E[B]));q[L]=R}return x.createDenseMatrix({data:q,size:[A],datatype:C===x._datatype&&M===S._datatype?T:void 0})}function g(x,S){var _=x._data,k=x._size,C=x._datatype||x.getDataType(),E=S._data,M=S._size,A=S._datatype||S.getDataType(),N=k[0],T=k[1],I=M[1],O,q=r,L=i;C&&A&&C===A&&typeof C=="string"&&C!=="mixed"&&C!=="mixed"&&(O=C,q=e.find(r,[O,O]),L=e.find(i,[O,O]));for(var Y=[],R=0;R<N;R++){var B=_[R];Y[R]=[];for(var z=0;z<I;z++){for(var P=L(B[0],E[0][z]),$=1;$<T;$++)P=q(P,L(B[$],E[$][z]));Y[R][z]=P}}return x.createDenseMatrix({data:Y,size:[N,I],datatype:C===x._datatype&&A===S._datatype?O:void 0})}function v(x,S){var _=x._data,k=x._size,C=x._datatype||x.getDataType(),E=S._values,M=S._index,A=S._ptr,N=S._size,T=S._datatype||S._data===void 0?S._datatype:S.getDataType();if(!E)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var I=k[0],O=N[1],q,L=r,Y=i,R=o,B=0;C&&T&&C===T&&typeof C=="string"&&C!=="mixed"&&(q=C,L=e.find(r,[q,q]),Y=e.find(i,[q,q]),R=e.find(o,[q,q]),B=e.convert(0,q));for(var z=[],P=[],$=[],X=S.createSparseMatrix({values:z,index:P,ptr:$,size:[I,O],datatype:C===x._datatype&&T===S._datatype?q:void 0}),K=0;K<O;K++){$[K]=P.length;var Z=A[K],te=A[K+1];if(te>Z)for(var J=0,fe=0;fe<I;fe++){for(var ue=fe+1,de=void 0,ee=Z;ee<te;ee++){var D=M[ee];J!==ue?(de=Y(_[fe][D],E[ee]),J=ue):de=L(de,Y(_[fe][D],E[ee]))}J===ue&&!R(de,B)&&(P.push(fe),z.push(de))}}return $[O]=P.length,X}function y(x,S){var _=x._values,k=x._index,C=x._ptr,E=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=S._data,A=S._datatype||S.getDataType(),N=x._size[0],T=S._size[0],I=[],O=[],q=[],L,Y=r,R=i,B=o,z=0;E&&A&&E===A&&typeof E=="string"&&E!=="mixed"&&(L=E,Y=e.find(r,[L,L]),R=e.find(i,[L,L]),B=e.find(o,[L,L]),z=e.convert(0,L));var P=[],$=[];q[0]=0;for(var X=0;X<T;X++){var K=M[X];if(!B(K,z))for(var Z=C[X],te=C[X+1],J=Z;J<te;J++){var fe=k[J];$[fe]?P[fe]=Y(P[fe],R(K,_[J])):($[fe]=!0,O.push(fe),P[fe]=R(K,_[J]))}}for(var ue=O.length,de=0;de<ue;de++){var ee=O[de];I[de]=P[ee]}return q[1]=O.length,x.createSparseMatrix({values:I,index:O,ptr:q,size:[N,1],datatype:E===x._datatype&&A===S._datatype?L:void 0})}function b(x,S){var _=x._values,k=x._index,C=x._ptr,E=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=S._data,A=S._datatype||S.getDataType(),N=x._size[0],T=S._size[0],I=S._size[1],O,q=r,L=i,Y=o,R=0;E&&A&&E===A&&typeof E=="string"&&E!=="mixed"&&(O=E,q=e.find(r,[O,O]),L=e.find(i,[O,O]),Y=e.find(o,[O,O]),R=e.convert(0,O));for(var B=[],z=[],P=[],$=x.createSparseMatrix({values:B,index:z,ptr:P,size:[N,I],datatype:E===x._datatype&&A===S._datatype?O:void 0}),X=[],K=[],Z=0;Z<I;Z++){P[Z]=z.length;for(var te=Z+1,J=0;J<T;J++){var fe=M[J][Z];if(!Y(fe,R))for(var ue=C[J],de=C[J+1],ee=ue;ee<de;ee++){var D=k[ee];K[D]!==te?(K[D]=te,z.push(D),X[D]=L(fe,_[ee])):X[D]=q(X[D],L(fe,_[ee]))}}for(var oe=P[Z],W=z.length,V=oe;V<W;V++){var F=z[V];B[V]=X[F]}}return P[I]=z.length,$}function w(x,S){var _=x._values,k=x._index,C=x._ptr,E=x._datatype||x._data===void 0?x._datatype:x.getDataType(),M=S._values,A=S._index,N=S._ptr,T=S._datatype||S._data===void 0?S._datatype:S.getDataType(),I=x._size[0],O=S._size[1],q=_&&M,L,Y=r,R=i;E&&T&&E===T&&typeof E=="string"&&E!=="mixed"&&(L=E,Y=e.find(r,[L,L]),R=e.find(i,[L,L]));for(var B=q?[]:void 0,z=[],P=[],$=x.createSparseMatrix({values:B,index:z,ptr:P,size:[I,O],datatype:E===x._datatype&&T===S._datatype?L:void 0}),X=q?[]:void 0,K=[],Z,te,J,fe,ue,de,ee,D,oe=0;oe<O;oe++){P[oe]=z.length;var W=oe+1;for(ue=N[oe],de=N[oe+1],fe=ue;fe<de;fe++)if(D=A[fe],q)for(te=C[D],J=C[D+1],Z=te;Z<J;Z++)ee=k[Z],K[ee]!==W?(K[ee]=W,z.push(ee),X[ee]=R(M[fe],_[Z])):X[ee]=Y(X[ee],R(M[fe],_[Z]));else for(te=C[D],J=C[D+1],Z=te;Z<J;Z++)ee=k[Z],K[ee]!==W&&(K[ee]=W,z.push(ee));if(q)for(var V=P[oe],F=z.length,j=V;j<F;j++){var se=z[j];B[j]=X[se]}}return P[O]=z.length,$}return e(VH,i,{"Array, Array":e.referTo("Matrix, Matrix",x=>(S,_)=>{u(ln(S),ln(_));var k=x(n(S),n(_));return Ht(k)?k.valueOf():k}),"Matrix, Matrix":function(S,_){var k=S.size(),C=_.size();return u(k,C),k.length===1?C.length===1?c(S,_,k[0]):f(S,_):C.length===1?h(S,_):p(S,_)},"Matrix, Array":e.referTo("Matrix,Matrix",x=>(S,_)=>x(S,n(_))),"Array, Matrix":e.referToSelf(x=>(S,_)=>x(n(S,_.storage()),_)),"SparseMatrix, any":function(S,_){return s(S,_,i,!1)},"DenseMatrix, any":function(S,_){return l(S,_,i,!1)},"any, SparseMatrix":function(S,_){return s(_,S,i,!0)},"any, DenseMatrix":function(S,_){return l(_,S,i,!0)},"Array, any":function(S,_){return l(n(S),_,i,!1).valueOf()},"any, Array":function(S,_){return l(n(_),S,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(x=>(S,_,k)=>{for(var C=x(S,_),E=0;E<k.length;E++)C=x(C,k[E]);return C})})}),HH="nthRoot",IOe=["typed","matrix","equalScalar","BigNumber","concat"],rue=Ce(HH,IOe,t=>{var{typed:e,matrix:n,equalScalar:r,BigNumber:i,concat:o}=t,a=ap({typed:e}),s=uc({typed:e,equalScalar:r}),l=mk({typed:e,equalScalar:r}),u=oa({typed:e,equalScalar:r}),c=Rr({typed:e,matrix:n,concat:o});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(HH,{number:cH,"number, number":cH,BigNumber:h=>d(h,new i(2)),"BigNumber, BigNumber":d,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",h=>p=>h(n(p),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",h=>p=>h(p,2)),SparseMatrix:e.referTo("SparseMatrix,number",h=>p=>h(p,2)),"SparseMatrix, SparseMatrix":e.referToSelf(h=>(p,m)=>{if(m.density()===1)return l(p,m,h);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(h=>(p,m)=>{if(m.density()===1)return a(p,m,h,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",h=>(p,m)=>h(n(p),m)),"number | BigNumber, SparseMatrix":e.referToSelf(h=>(p,m)=>{if(m.density()===1)return u(m,p,h,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:s,Ss:u,sS:!1}));function d(h,p){var m=i.precision,g=i.clone({precision:m+2}),v=new i(0),y=new g(1),b=p.isNegative();if(b&&(p=p.neg()),p.isZero())throw new Error("Root must be non-zero");if(h.isNegative()&&!p.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(h.isZero())return b?new g(1/0):0;if(!h.isFinite())return b?v:h;var w=h.abs().pow(y.div(p));return w=h.isNeg()?w.neg():w,new i((b?y.div(w):w).toPrecision(m))}}),UH="sign",POe=["typed","BigNumber","Fraction","complex"],iue=Ce(UH,POe,t=>{var{typed:e,BigNumber:n,complex:r,Fraction:i}=t;return e(UH,{number:rD,Complex:function(a){return a.im===0?r(rD(a.re)):a.sign()},BigNumber:function(a){return new n(a.cmp(0))},bigint:function(a){return a>0n?1n:a<0n?-1n:0n},Fraction:function(a){return new i(a.s)},"Array | Matrix":e.referToSelf(o=>a=>bn(a,o,!0)),Unit:e.referToSelf(o=>a=>{if(!a._isDerived()&&a.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(o,a.valueType())(a.value)})})}),ROe="sqrt",FOe=["config","typed","Complex"],oue=Ce(ROe,FOe,t=>{var{config:e,typed:n,Complex:r}=t;return n("sqrt",{number:i,Complex:function(a){return a.sqrt()},BigNumber:function(a){return!a.isNegative()||e.predictable?a.sqrt():i(a.toNumber())},Unit:function(a){return a.pow(.5)}});function i(o){return isNaN(o)?NaN:o>=0||e.predictable?Math.sqrt(o):new r(o,0).sqrt()}}),jH="square",LOe=["typed"],aue=Ce(jH,LOe,t=>{var{typed:e}=t;return e(jH,{number:zse,Complex:function(r){return r.mul(r)},BigNumber:function(r){return r.times(r)},bigint:function(r){return r*r},Fraction:function(r){return r.mul(r)},Unit:function(r){return r.pow(2)}})}),WH="subtract",$Oe=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],sue=Ce(WH,$Oe,t=>{var{typed:e,matrix:n,equalScalar:r,subtractScalar:i,unaryMinus:o,DenseMatrix:a,concat:s}=t,l=ap({typed:e}),u=ds({typed:e}),c=pk({typed:e,equalScalar:r}),f=v1({typed:e,DenseMatrix:a}),d=vo({typed:e,DenseMatrix:a}),h=Rr({typed:e,matrix:n,concat:s});return e(WH,{"any, any":i},h({elop:i,SS:c,DS:l,SD:u,Ss:d,sS:f}))}),GH="xgcd",BOe=["typed","config","matrix","BigNumber"],lue=Ce(GH,BOe,t=>{var{typed:e,config:n,matrix:r,BigNumber:i}=t;return e(GH,{"number, number":function(s,l){var u=qse(s,l);return n.matrix==="Array"?u:r(u)},"BigNumber, BigNumber":o});function o(a,s){var l,u,c,f=new i(0),d=new i(1),h=f,p=d,m=d,g=f;if(!a.isInt()||!s.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!s.isZero();)u=a.div(s).floor(),c=a.mod(s),l=h,h=p.minus(u.times(h)),p=l,l=m,m=g.minus(u.times(m)),g=l,a=s,s=c;var v;return a.lt(f)?v=[a.neg(),p.neg(),g.neg()]:v=[a,a.isZero()?0:p,g],n.matrix==="Array"?v:r(v)}}),KH="invmod",zOe=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],uue=Ce(KH,zOe,t=>{var{typed:e,config:n,BigNumber:r,xgcd:i,equal:o,smaller:a,mod:s,add:l,isInteger:u}=t;return e(KH,{"number, number":c,"BigNumber, BigNumber":c});function c(f,d){if(!u(f)||!u(d))throw new Error("Parameters in function invmod must be integer numbers");if(f=s(f,d),o(d,0))throw new Error("Divisor must be non zero");var h=i(f,d);h=h.valueOf();var[p,m]=h;return o(p,r(1))?(m=s(m,d),a(m,r(0))&&(m=l(m,d)),m):NaN}}),qOe="matAlgo09xS0Sf",VOe=["typed","equalScalar"],cue=Ce(qOe,VOe,t=>{var{typed:e,equalScalar:n}=t;return function(i,o,a){var s=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=o._values,h=o._index,p=o._ptr,m=o._size,g=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(c.length!==m.length)throw new _n(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var v=c[0],y=c[1],b,w=n,x=0,S=a;typeof f=="string"&&f===g&&f!=="mixed"&&(b=f,w=e.find(n,[b,b]),x=e.convert(0,b),S=e.find(a,[b,b]));var _=s&&d?[]:void 0,k=[],C=[],E=_?[]:void 0,M=[],A,N,T,I,O;for(N=0;N<y;N++){C[N]=k.length;var q=N+1;if(E)for(I=p[N],O=p[N+1],T=I;T<O;T++)A=h[T],M[A]=q,E[A]=d[T];for(I=u[N],O=u[N+1],T=I;T<O;T++)if(A=l[T],E){var L=M[A]===q?E[A]:x,Y=S(s[T],L);w(Y,x)||(k.push(A),_.push(Y))}else k.push(A)}return C[y]=k.length,i.createSparseMatrix({values:_,index:k,ptr:C,size:[v,y],datatype:f===i._datatype&&g===o._datatype?b:void 0})}}),XH="dotMultiply",HOe=["typed","matrix","equalScalar","multiplyScalar","concat"],fue=Ce(XH,HOe,t=>{var{typed:e,matrix:n,equalScalar:r,multiplyScalar:i,concat:o}=t,a=uc({typed:e,equalScalar:r}),s=cue({typed:e,equalScalar:r}),l=oa({typed:e,equalScalar:r}),u=Rr({typed:e,matrix:n,concat:o});return e(XH,u({elop:i,SS:s,DS:a,Ss:l}))});function UOe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new n(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t}return TP(t,e,function(r,i){return r&i})}function q3(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,n=e.precision;e.config({precision:1e9});var r=t.plus(new e(1));return r.s=-r.s||null,e.config({precision:n}),r}function jOe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);var r=new n(-1);return t.isZero()||e.eq(r)||t.eq(e)?e:e.isZero()||t.eq(r)?t:!t.isFinite()||!e.isFinite()?!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?r:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t:TP(t,e,function(i,o){return i|o})}function TP(t,e,n){var r=t.constructor,i,o,a=+(t.s<0),s=+(e.s<0);if(a){i=yx(q3(t));for(var l=0;l<i.length;++l)i[l]^=1}else i=yx(t);if(s){o=yx(q3(e));for(var u=0;u<o.length;++u)o[u]^=1}else o=yx(e);var c,f,d;i.length<=o.length?(c=i,f=o,d=a):(c=o,f=i,d=s);var h=c.length,p=f.length,m=n(a,s)^1,g=new r(m^1),v=new r(1),y=new r(2),b=r.precision;for(r.config({precision:1e9});h>0;)n(c[--h],f[--p])===m&&(g=g.plus(v)),v=v.times(y);for(;p>0;)n(d,f[--p])===m&&(g=g.plus(v)),v=v.times(y);return r.config({precision:b}),m===0&&(g.s=-g.s),g}function yx(t){for(var e=t.d,n=e[0]+"",r=1;r<e.length;++r){for(var i=e[r]+"",o=7-i.length;o--;)i="0"+i;n+=i}for(var a=n.length;n.charAt(a)==="0";)a--;var s=t.e,l=n.slice(0,a+1||1),u=l.length;if(s>0)if(++s>u)for(s-=u;s--;)l+="0";else s<u&&(l=l.slice(0,s)+"."+l.slice(s));for(var c=[0],f=0;f<l.length;){for(var d=c.length;d--;)c[d]*=10;c[0]+=parseInt(l.charAt(f++));for(var h=0;h<c.length;++h)c[h]>1&&((c[h+1]===null||c[h+1]===void 0)&&(c[h+1]=0),c[h+1]+=c[h]>>1,c[h]&=1)}return c.reverse()}function WOe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new n(0);var r=new n(-1);return t.eq(r)?q3(e):e.eq(r)?q3(t):!t.isFinite()||!e.isFinite()?!t.isFinite()&&!e.isFinite()?r:new n(t.isNegative()===e.isNegative()?1/0:-1/0):TP(t,e,function(i,o){return i^o})}function GOe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var n=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:!t.isFinite()&&!e.isFinite()?new n(NaN):e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new n(2).pow(e))}function KOe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var n=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new n(2).pow(e)).floor():t.isNegative()?new n(-1):t.isFinite()?new n(0):new n(NaN)}var YH="bitAnd",XOe=["typed","matrix","equalScalar","concat"],MP=Ce(YH,XOe,t=>{var{typed:e,matrix:n,equalScalar:r,concat:i}=t,o=uc({typed:e,equalScalar:r}),a=mk({typed:e,equalScalar:r}),s=oa({typed:e,equalScalar:r}),l=Rr({typed:e,matrix:n,concat:i});return e(YH,{"number, number":Hse,"BigNumber, BigNumber":UOe,"bigint, bigint":(u,c)=>u&c},l({SS:a,DS:o,Ss:s}))}),ZH="bitNot",YOe=["typed"],due=Ce(ZH,YOe,t=>{var{typed:e}=t;return e(ZH,{number:Use,BigNumber:q3,bigint:n=>~n,"Array | Matrix":e.referToSelf(n=>r=>bn(r,n))})}),JH="bitOr",ZOe=["typed","matrix","equalScalar","DenseMatrix","concat"],DP=Ce(JH,ZOe,t=>{var{typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o}=t,a=ap({typed:e}),s=EP({typed:e,equalScalar:r}),l=v1({typed:e,DenseMatrix:i}),u=Rr({typed:e,matrix:n,concat:o});return e(JH,{"number, number":jse,"BigNumber, BigNumber":jOe,"bigint, bigint":(c,f)=>c|f},u({SS:s,DS:a,Ss:l}))}),JOe="matAlgo07xSSf",QOe=["typed","SparseMatrix"],gf=Ce(JOe,QOe,t=>{var{typed:e,SparseMatrix:n}=t;return function(o,a,s){var l=o._size,u=o._datatype||o._data===void 0?o._datatype:o.getDataType(),c=a._size,f=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==c.length)throw new _n(l.length,c.length);if(l[0]!==c[0]||l[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+c+")");var d=l[0],h=l[1],p,m=0,g=s;typeof u=="string"&&u===f&&u!=="mixed"&&(p=u,m=e.convert(0,p),g=e.find(s,[p,p]));for(var v=[],y=[],b=new Array(h+1).fill(0),w=[],x=[],S=[],_=[],k=0;k<h;k++){var C=k+1,E=0;r(o,k,S,w,C),r(a,k,_,x,C);for(var M=0;M<d;M++){var A=S[M]===C?w[M]:m,N=_[M]===C?x[M]:m,T=g(A,N);T!==0&&T!==!1&&(y.push(M),v.push(T),E++)}b[k+1]=b[k]+E}return new n({values:v,index:y,ptr:b,size:[d,h],datatype:u===o._datatype&&f===a._datatype?p:void 0})};function r(i,o,a,s,l){for(var u=i._values,c=i._index,f=i._ptr,d=f[o],h=f[o+1];d<h;d++){var p=c[d];a[p]=l,s[p]=u[d]}}}),QH="bitXor",eIe=["typed","matrix","DenseMatrix","concat","SparseMatrix"],hue=Ce(QH,eIe,t=>{var{typed:e,matrix:n,DenseMatrix:r,concat:i,SparseMatrix:o}=t,a=ds({typed:e}),s=gf({typed:e,SparseMatrix:o}),l=vo({typed:e,DenseMatrix:r}),u=Rr({typed:e,matrix:n,concat:i});return e(QH,{"number, number":Wse,"BigNumber, BigNumber":WOe,"bigint, bigint":(c,f)=>c^f},u({SS:s,DS:a,Ss:l}))}),eU="arg",tIe=["typed"],pue=Ce(eU,tIe,t=>{var{typed:e}=t;return e(eU,{number:function(r){return Math.atan2(0,r)},BigNumber:function(r){return r.constructor.atan2(0,r)},Complex:function(r){return r.arg()},"Array | Matrix":e.referToSelf(n=>r=>bn(r,n))})}),tU="conj",nIe=["typed"],mue=Ce(tU,nIe,t=>{var{typed:e}=t;return e(tU,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),Unit:e.referToSelf(n=>r=>new r.constructor(n(r.toNumeric()),r.formatUnits())),"Array | Matrix":e.referToSelf(n=>r=>bn(r,n))})}),nU="im",rIe=["typed"],gue=Ce(nU,rIe,t=>{var{typed:e}=t;return e(nU,{number:()=>0,"BigNumber | Fraction":n=>n.mul(0),Complex:n=>n.im,"Array | Matrix":e.referToSelf(n=>r=>bn(r,n))})}),rU="re",iIe=["typed"],vue=Ce(rU,iIe,t=>{var{typed:e}=t;return e(rU,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.re,"Array | Matrix":e.referToSelf(n=>r=>bn(r,n))})}),iU="not",oIe=["typed"],yue=Ce(iU,oIe,t=>{var{typed:e}=t;return e(iU,{"null | undefined":()=>!0,number:Zse,Complex:function(r){return r.re===0&&r.im===0},BigNumber:function(r){return r.isZero()||r.isNaN()},bigint:n=>!n,Unit:e.referToSelf(n=>r=>e.find(n,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(n=>r=>bn(r,n))})}),oU="or",aIe=["typed","matrix","equalScalar","DenseMatrix","concat"],NP=Ce(oU,aIe,t=>{var{typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o}=t,a=ds({typed:e}),s=pk({typed:e,equalScalar:r}),l=vo({typed:e,DenseMatrix:i}),u=Rr({typed:e,matrix:n,concat:o});return e(oU,{"number, number":iD,"Complex, Complex":function(f,d){return f.re!==0||f.im!==0||d.re!==0||d.im!==0},"BigNumber, BigNumber":function(f,d){return!f.isZero()&&!f.isNaN()||!d.isZero()&&!d.isNaN()},"bigint, bigint":iD,"Unit, Unit":e.referToSelf(c=>(f,d)=>c(f.value||0,d.value||0))},u({SS:s,DS:a,Ss:l}))}),aU="xor",sIe=["typed","matrix","DenseMatrix","concat","SparseMatrix"],bue=Ce(aU,sIe,t=>{var{typed:e,matrix:n,DenseMatrix:r,concat:i,SparseMatrix:o}=t,a=ds({typed:e}),s=gf({typed:e,SparseMatrix:o}),l=vo({typed:e,DenseMatrix:r}),u=Rr({typed:e,matrix:n,concat:i});return e(aU,{"number, number":oD,"Complex, Complex":function(f,d){return(f.re!==0||f.im!==0)!=(d.re!==0||d.im!==0)},"bigint, bigint":oD,"BigNumber, BigNumber":function(f,d){return(!f.isZero()&&!f.isNaN())!=(!d.isZero()&&!d.isNaN())},"Unit, Unit":e.referToSelf(c=>(f,d)=>c(f.value||0,d.value||0))},u({SS:s,DS:a,Ss:l}))}),sU="concat",lIe=["typed","matrix","isInteger"],OP=Ce(sU,lIe,t=>{var{typed:e,matrix:n,isInteger:r}=t;return e(sU,{"...Array | Matrix | number | BigNumber":function(o){var a,s=o.length,l=-1,u,c=!1,f=[];for(a=0;a<s;a++){var d=o[a];if(Ht(d)&&(c=!0),mn(d)||hn(d)){if(a!==s-1)throw new Error("Dimension must be specified as last argument");if(u=l,l=d.valueOf(),!r(l))throw new TypeError("Integer number expected for dimension");if(l<0||a>0&&l>u)throw new Cu(l,u+1)}else{var h=Qt(d).valueOf(),p=ln(h);if(f[a]=h,u=l,l=p.length-1,a>0&&l!==u)throw new _n(u+1,l+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var m=f.shift();f.length;)m=_se(m,f.shift(),l);return c?n(m):m},"...string":function(o){return o.join("")}})}),lU="column",uIe=["typed","Index","matrix","range"],IP=Ce(lU,uIe,t=>{var{typed:e,Index:n,matrix:r,range:i}=t;return e(lU,{"Matrix, number":o,"Array, number":function(s,l){return o(r(Qt(s)),l).valueOf()}});function o(a,s){if(a.size().length!==2)throw new Error("Only two dimensional matrix is supported");Ir(s,a.size()[1]);var l=i(0,a.size()[0]),u=new n(l,s),c=a.subset(u);return Ht(c)?c:r([[c]])}}),uU="count",cIe=["typed","size","prod"],wue=Ce(uU,cIe,t=>{var{typed:e,size:n,prod:r}=t;return e(uU,{string:function(o){return o.length},"Matrix | Array":function(o){return r(n(o))}})}),cU="cross",fIe=["typed","matrix","subtract","multiply"],xue=Ce(cU,fIe,t=>{var{typed:e,matrix:n,subtract:r,multiply:i}=t;return e(cU,{"Matrix, Matrix":function(s,l){return n(o(s.toArray(),l.toArray()))},"Matrix, Array":function(s,l){return n(o(s.toArray(),l))},"Array, Matrix":function(s,l){return n(o(s,l.toArray()))},"Array, Array":o});function o(a,s){var l=Math.max(ln(a).length,ln(s).length);a=j_(a),s=j_(s);var u=ln(a),c=ln(s);if(u.length!==1||c.length!==1||u[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+u.join(", ")+"], B = ["+c.join(", ")+"])");var f=[r(i(a[1],s[2]),i(a[2],s[1])),r(i(a[2],s[0]),i(a[0],s[2])),r(i(a[0],s[1]),i(a[1],s[0]))];return l>1?[f]:f}}),fU="diag",dIe=["typed","matrix","DenseMatrix","SparseMatrix"],Sue=Ce(fU,dIe,t=>{var{typed:e,matrix:n,DenseMatrix:r,SparseMatrix:i}=t;return e(fU,{Array:function(u){return o(u,0,ln(u),null)},"Array, number":function(u,c){return o(u,c,ln(u),null)},"Array, BigNumber":function(u,c){return o(u,c.toNumber(),ln(u),null)},"Array, string":function(u,c){return o(u,0,ln(u),c)},"Array, number, string":function(u,c,f){return o(u,c,ln(u),f)},"Array, BigNumber, string":function(u,c,f){return o(u,c.toNumber(),ln(u),f)},Matrix:function(u){return o(u,0,u.size(),u.storage())},"Matrix, number":function(u,c){return o(u,c,u.size(),u.storage())},"Matrix, BigNumber":function(u,c){return o(u,c.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,c){return o(u,0,u.size(),c)},"Matrix, number, string":function(u,c,f){return o(u,c,u.size(),f)},"Matrix, BigNumber, string":function(u,c,f){return o(u,c.toNumber(),u.size(),f)}});function o(l,u,c,f){if(!Ft(u))throw new TypeError("Second parameter in function diag must be an integer");var d=u>0?u:0,h=u<0?-u:0;switch(c.length){case 1:return a(l,u,f,c[0],h,d);case 2:return s(l,u,f,c,h,d)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function a(l,u,c,f,d,h){var p=[f+d,f+h];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var m=c==="sparse"?i.diagonal(p,l,u):r.diagonal(p,l,u);return c!==null?m:m.valueOf()}function s(l,u,c,f,d,h){if(Ht(l)){var p=l.diagonal(u);return c!==null?c!==p.storage()?n(p,c):p:p.valueOf()}for(var m=Math.min(f[0]-d,f[1]-h),g=[],v=0;v<m;v++)g[v]=l[v+d][v+h];return c!==null?n(g):g}}),hIe="filter",pIe=["typed"],PP=Ce(hIe,pIe,t=>{var{typed:e}=t;return e("filter",{"Array, function":dU,"Matrix, function":function(r,i){return r.create(dU(r.valueOf(),i),r.datatype())},"Array, RegExp":rH,"Matrix, RegExp":function(r,i){return r.create(rH(r.valueOf(),i),r.datatype())}})});function dU(t,e){var n=jm(e,t,"filter");return n.isUnary?nH(t,n.fn):nH(t,function(r,i,o){return n.fn(r,[i],o)})}var hU="flatten",mIe=["typed"],_ue=Ce(hU,mIe,t=>{var{typed:e}=t;return e(hU,{Array:function(r){return Zn(r)},Matrix:function(r){return r.create(Zn(r.valueOf(),!0),r.datatype())}})}),cD="forEach",gIe=["typed"],RP=Ce(cD,gIe,t=>{var{typed:e}=t;return e(cD,{"Array, function":vIe,"Matrix, function":function(r,i){r.forEach(i)}})});function vIe(t,e){var n=jm(e,t,cD);kse(t,n.fn,n.isUnary)}var pU="getMatrixDataType",yIe=["typed"],Cue=Ce(pU,yIe,t=>{var{typed:e}=t;return e(pU,{Array:function(r){return dk(r,Tr)},Matrix:function(r){return r.getDataType()}})}),mU="identity",bIe=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],kue=Ce(mU,bIe,t=>{var{typed:e,config:n,matrix:r,BigNumber:i,DenseMatrix:o,SparseMatrix:a}=t;return e(mU,{"":function(){return n.matrix==="Matrix"?r([]):[]},string:function(c){return r(c)},"number | BigNumber":function(c){return l(c,c,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return l(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return l(c,f,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,d){return l(c,f,d)},Array:function(c){return s(c)},"Array, string":function(c,f){return s(c,f)},Matrix:function(c){return s(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return s(c.valueOf(),f)}});function s(u,c){switch(u.length){case 0:return c?r(c):[];case 1:return l(u[0],u[0],c);case 2:return l(u[0],u[1],c);default:throw new Error("Vector containing two values expected")}}function l(u,c,f){var d=hn(u)||hn(c)?i:null;if(hn(u)&&(u=u.toNumber()),hn(c)&&(c=c.toNumber()),!Ft(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!Ft(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var h=d?new i(1):1,p=d?new d(0):0,m=[u,c];if(f){if(f==="sparse")return a.diagonal(m,h,0,p);if(f==="dense")return o.diagonal(m,h,0,p);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var g=Cv([],m,p),v=u<c?u:c,y=0;y<v;y++)g[y][y]=h;return g}}),gU="kron",wIe=["typed","matrix","multiplyScalar"],Eue=Ce(gU,wIe,t=>{var{typed:e,matrix:n,multiplyScalar:r}=t;return e(gU,{"Matrix, Matrix":function(a,s){return n(i(a.toArray(),s.toArray()))},"Matrix, Array":function(a,s){return n(i(a.toArray(),s))},"Array, Matrix":function(a,s){return n(i(a,s.toArray()))},"Array, Array":i});function i(o,a){if(ln(o).length===1&&(o=[o]),ln(a).length===1&&(a=[a]),ln(o).length>2||ln(a).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(o.length)+", y = "+JSON.stringify(a.length)+")");var s=[],l=[];return o.map(function(u){return a.map(function(c){return l=[],s.push(l),u.map(function(f){return c.map(function(d){return l.push(r(f,d))})})})})&&s}}),cA="map",xIe=["typed"],FP=Ce(cA,xIe,t=>{var{typed:e}=t;return e(cA,{"Array, function":r,"Matrix, function":function(o,a){return o.map(a)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(i,o,a)=>n([i,o,...a.slice(0,a.length-1)],a[a.length-1])});function n(i,o){if(typeof o!="function")throw new Error("Last argument must be a callback function");var a=i[0].isMatrix,s=wP(...i.map(w=>w.isMatrix?w.size():ln(w))),l=a?(w,x)=>w.get(x):xP,u=a?i.map(w=>w.isMatrix?w.create(om(w.toArray(),s),w.datatype()):i[0].create(om(w.valueOf(),s))):i.map(w=>w.isMatrix?om(w.toArray(),s):om(w,s)),c;if(e.isTypedFunction(o)){var f=s.map(()=>0),d=u.map(w=>l(w,f)),h=b(o,d,f,u);c=v(h)}else{var p=i.length,m=y(o,p);c=v(m)}var g=(w,x)=>c([w,...u.slice(1).map(S=>l(S,x))],x);if(a)return u[0].map(g);return r(u[0],g);function v(w){switch(w){case 0:return x=>o(...x);case 1:return(x,S)=>o(...x,S);case 2:return(x,S)=>o(...x,S,...u)}}function y(w,x){return w.length>x+1?2:w.length===x+1?1:0}function b(w,x,S,_){return e.resolve(w,[...x,S,..._])!==null?2:e.resolve(w,[...x,S])!==null?1:(e.resolve(w,x)!==null,0)}}function r(i,o){var a=jm(o,i,cA);return tD(i,a.fn,a.isUnary)}}),vU="diff",SIe=["typed","matrix","subtract","number"],LP=Ce(vU,SIe,t=>{var{typed:e,matrix:n,subtract:r,number:i}=t;return e(vU,{"Array | Matrix":function(c){return Ht(c)?n(a(c.toArray())):a(c)},"Array | Matrix, number":function(c,f){if(!Ft(f))throw new RangeError("Dimension must be a whole number");return Ht(c)?n(o(c.toArray(),f)):o(c,f)},"Array, BigNumber":e.referTo("Array,number",u=>(c,f)=>u(c,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",u=>(c,f)=>u(c,i(f)))});function o(u,c){if(Ht(u)&&(u=u.toArray()),!Array.isArray(u))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return u.forEach(d=>{f.push(o(d,c-1))}),f}else{if(c===0)return a(u);throw RangeError("Cannot have negative dimension")}}function a(u){for(var c=[],f=u.length,d=1;d<f;d++)c.push(s(u[d-1],u[d]));return c}function s(u,c){Ht(u)&&(u=u.toArray()),Ht(c)&&(c=c.toArray());var f=Array.isArray(u),d=Array.isArray(c);if(f&&d)return l(u,c);if(!f&&!d)return r(c,u);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(u,c){if(u.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],d=u.length,h=0;h<d;h++)f.push(s(u[h],c[h]));return f}}),_Ie="ones",CIe=["typed","config","matrix","BigNumber"],Aue=Ce(_Ie,CIe,t=>{var{typed:e,config:n,matrix:r,BigNumber:i}=t;return e("ones",{"":function(){return n.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var f=u.pop();return o(u,f)}else return n.matrix==="Array"?o(u):o(u,"default")},Array:o,Matrix:function(u){var c=u.storage();return o(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return o(u.valueOf(),c)}});function o(l,u){var c=a(l),f=c?new i(1):1;if(s(l),u){var d=r(u);return l.length>0?d.resize(l,f):d}else{var h=[];return l.length>0?Cv(h,l,f):h}}function a(l){var u=!1;return l.forEach(function(c,f,d){hn(c)&&(u=!0,d[f]=c.toNumber())}),u}function s(l){l.forEach(function(u){if(typeof u!="number"||!Ft(u)||u<0)throw new Error("Parameters in function ones must be positive integers")})}});function $P(){throw new Error('No "bignumber" implementation available')}function Tue(){throw new Error('No "fraction" implementation available')}function Mue(){throw new Error('No "matrix" implementation available')}var yU="range",kIe=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],BP=Ce(yU,kIe,t=>{var{typed:e,config:n,matrix:r,bignumber:i,smaller:o,smallerEq:a,larger:s,largerEq:l,add:u,isPositive:c}=t;return e(yU,{string:d,"string, boolean":d,number:function(g){throw new TypeError("Too few arguments to function range(): ".concat(g))},boolean:function(g){throw new TypeError("Unexpected type of argument 1 to function range(): ".concat(g,", number|bigint|BigNumber|Fraction"))},"number, number":function(g,v){return f(h(g,v,1,!1))},"number, number, number":function(g,v,y){return f(h(g,v,y,!1))},"number, number, boolean":function(g,v,y){return f(h(g,v,1,y))},"number, number, number, boolean":function(g,v,y,b){return f(h(g,v,y,b))},"bigint, bigint|number":function(g,v){return f(h(g,v,1n,!1))},"number, bigint":function(g,v){return f(h(BigInt(g),v,1n,!1))},"bigint, bigint|number, bigint|number":function(g,v,y){return f(h(g,v,BigInt(y),!1))},"number, bigint, bigint|number":function(g,v,y){return f(h(BigInt(g),v,BigInt(y),!1))},"bigint, bigint|number, boolean":function(g,v,y){return f(h(g,v,1n,y))},"number, bigint, boolean":function(g,v,y){return f(h(BigInt(g),v,1n,y))},"bigint, bigint|number, bigint|number, boolean":function(g,v,y,b){return f(h(g,v,BigInt(y),b))},"number, bigint, bigint|number, boolean":function(g,v,y,b){return f(h(BigInt(g),v,BigInt(y),b))},"BigNumber, BigNumber":function(g,v){var y=g.constructor;return f(h(g,v,new y(1),!1))},"BigNumber, BigNumber, BigNumber":function(g,v,y){return f(h(g,v,y,!1))},"BigNumber, BigNumber, boolean":function(g,v,y){var b=g.constructor;return f(h(g,v,new b(1),y))},"BigNumber, BigNumber, BigNumber, boolean":function(g,v,y,b){return f(h(g,v,y,b))},"Fraction, Fraction":function(g,v){return f(h(g,v,1,!1))},"Fraction, Fraction, Fraction":function(g,v,y){return f(h(g,v,y,!1))},"Fraction, Fraction, boolean":function(g,v,y){return f(h(g,v,1,y))},"Fraction, Fraction, Fraction, boolean":function(g,v,y,b){return f(h(g,v,y,b))},"Unit, Unit, Unit":function(g,v,y){return f(h(g,v,y,!1))},"Unit, Unit, Unit, boolean":function(g,v,y,b){return f(h(g,v,y,b))}});function f(m){return n.matrix==="Matrix"?r?r(m):Mue():m}function d(m,g){var v=p(m);if(!v)throw new SyntaxError('String "'+m+'" is no valid range');return n.number==="BigNumber"?(i===void 0&&$P(),f(h(i(v.start),i(v.end),i(v.step)))):f(h(v.start,v.end,v.step,g))}function h(m,g,v,y){for(var b=[],w=c(v)?y?a:o:y?l:s,x=m;w(x,g);)b.push(x),x=u(x,v);return b}function p(m){var g=m.split(":"),v=g.map(function(b){return Number(b)}),y=v.some(function(b){return isNaN(b)});if(y)return null;switch(v.length){case 2:return{start:v[0],end:v[1],step:1};case 3:return{start:v[0],end:v[2],step:v[1]};default:return null}}}),bU="reshape",EIe=["typed","isInteger","matrix"],Due=Ce(bU,EIe,t=>{var{typed:e,isInteger:n}=t;return e(bU,{"Matrix, Array":function(i,o){return i.reshape(o,!0)},"Array, Array":function(i,o){return o.forEach(function(a){if(!n(a))throw new TypeError("Invalid size for dimension: "+a)}),yP(i,o)}})}),AIe="resize",TIe=["config","matrix"],Nue=Ce(AIe,TIe,t=>{var{config:e,matrix:n}=t;return function(o,a,s){if(arguments.length!==2&&arguments.length!==3)throw new oh("resize",arguments.length,2,3);if(Ht(a)&&(a=a.valueOf()),hn(a[0])&&(a=a.map(function(c){return hn(c)?c.toNumber():c})),Ht(o))return o.resize(a,s,!0);if(typeof o=="string")return r(o,a,s);var l=Array.isArray(o)?!1:e.matrix!=="Array";if(a.length===0){for(;Array.isArray(o);)o=o[0];return Qt(o)}else{Array.isArray(o)||(o=[o]),o=Qt(o);var u=Cv(o,a,s);return l?n(u):u}};function r(i,o,a){if(a!==void 0){if(typeof a!="string"||a.length!==1)throw new TypeError("Single character expected as defaultValue")}else a=" ";if(o.length!==1)throw new _n(o.length,1);var s=o[0];if(typeof s!="number"||!Ft(s))throw new TypeError("Invalid size, must contain positive integers (size: "+An(o)+")");if(i.length>s)return i.substring(0,s);if(i.length<s){for(var l=i,u=0,c=s-i.length;u<c;u++)l+=a;return l}else return i}}),wU="rotate",MIe=["typed","multiply","rotationMatrix"],Oue=Ce(wU,MIe,t=>{var{typed:e,multiply:n,rotationMatrix:r}=t;return e(wU,{"Array , number | BigNumber | Complex | Unit":function(a,s){i(a,2);var l=n(r(s),a);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(a,s){return i(a,2),n(r(s),a)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(a,s,l){i(a,3);var u=n(r(s,l),a);return u},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(a,s,l){return i(a,3),n(r(s,l),a)}});function i(o,a){var s=Array.isArray(o)?ln(o):o.size();if(s.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(a));if(s.length===2&&s[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(a));if(s[0]!==a)throw new RangeError("Vector must be of dimensions 1x".concat(a))}}),xU="rotationMatrix",DIe=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],Iue=Ce(xU,DIe,t=>{var{typed:e,config:n,multiplyScalar:r,addScalar:i,unaryMinus:o,norm:a,BigNumber:s,matrix:l,DenseMatrix:u,SparseMatrix:c,cos:f,sin:d}=t;return e(xU,{"":function(){return n.matrix==="Matrix"?l([]):[]},string:function(b){return l(b)},"number | BigNumber | Complex | Unit":function(b){return h(b,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(b,w){return h(b,w)},"number | BigNumber | Complex | Unit, Array":function(b,w){var x=l(w);return p(x),v(b,x,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(b,w){p(w);var x=w.storage()||(n.matrix==="Matrix"?"dense":void 0);return v(b,w,x)},"number | BigNumber | Complex | Unit, Array, string":function(b,w,x){var S=l(w);return p(S),v(b,S,x)},"number | BigNumber | Complex | Unit, Matrix, string":function(b,w,x){return p(w),v(b,w,x)}});function h(y,b){var w=hn(y),x=w?new s(-1):-1,S=f(y),_=d(y),k=[[S,r(x,_)],[_,S]];return g(k,b)}function p(y){var b=y.size();if(b.length<1||b[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function m(y){return y.reduce((b,w)=>r(b,w))}function g(y,b){if(b){if(b==="sparse")return new c(y);if(b==="dense")return new u(y);throw new TypeError('Unknown matrix type "'.concat(b,'"'))}return y}function v(y,b,w){var x=a(b);if(x===0)throw new RangeError("Rotation around zero vector");var S=hn(y)?s:null,_=S?new S(1):1,k=S?new S(-1):-1,C=S?new S(b.get([0])/x):b.get([0])/x,E=S?new S(b.get([1])/x):b.get([1])/x,M=S?new S(b.get([2])/x):b.get([2])/x,A=f(y),N=i(_,o(A)),T=d(y),I=i(A,m([C,C,N])),O=i(m([C,E,N]),m([k,M,T])),q=i(m([C,M,N]),m([E,T])),L=i(m([C,E,N]),m([M,T])),Y=i(A,m([E,E,N])),R=i(m([E,M,N]),m([k,C,T])),B=i(m([C,M,N]),m([k,E,T])),z=i(m([E,M,N]),m([C,T])),P=i(A,m([M,M,N])),$=[[I,O,q],[L,Y,R],[B,z,P]];return g($,w)}}),SU="row",NIe=["typed","Index","matrix","range"],zP=Ce(SU,NIe,t=>{var{typed:e,Index:n,matrix:r,range:i}=t;return e(SU,{"Matrix, number":o,"Array, number":function(s,l){return o(r(Qt(s)),l).valueOf()}});function o(a,s){if(a.size().length!==2)throw new Error("Only two dimensional matrix is supported");Ir(s,a.size()[0]);var l=i(0,a.size()[1]),u=new n(s,l),c=a.subset(u);return Ht(c)?c:r([[c]])}}),_U="size",OIe=["typed","config","?matrix"],Pue=Ce(_U,OIe,t=>{var{typed:e,config:n,matrix:r}=t;return e(_U,{Matrix:function(o){return o.create(o.size(),"number")},Array:ln,string:function(o){return n.matrix==="Array"?[o.length]:r([o.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(o){return n.matrix==="Array"?[]:r?r([],"dense","number"):Mue()}})}),CU="squeeze",IIe=["typed"],Rue=Ce(CU,IIe,t=>{var{typed:e}=t;return e(CU,{Array:function(r){return j_(Qt(r))},Matrix:function(r){var i=j_(r.toArray());return Array.isArray(i)?r.create(i,r.datatype()):i},any:function(r){return Qt(r)}})}),kU="subset",PIe=["typed","matrix","zeros","add"],qP=Ce(kU,PIe,t=>{var{typed:e,matrix:n,zeros:r,add:i}=t;return e(kU,{"Matrix, Index":function(s,l){return _v(l)?n():(U_(s,l),s.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(a){return function(s,l){var u=a(n(s),l);return l.isScalar()?u:u.valueOf()}}),"Object, Index":FIe,"string, Index":RIe,"Matrix, Index, any, any":function(s,l,u,c){return _v(l)?s:(U_(s,l),s.clone().subset(l,o(u,l),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(a){return function(s,l,u,c){var f=a(n(s),l,u,c);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(a){return function(s,l,u){return a(n(s),l,u,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(a){return function(s,l,u){return a(s,l,u,void 0)}}),"string, Index, string":EU,"string, Index, string, string":EU,"Object, Index, any":LIe});function o(a,s){if(typeof a=="string")throw new Error("can't boradcast a string");if(s._isScalar)return a;var l=s.size();if(l.every(u=>u>0))try{return i(a,r(l))}catch{return a}else return a}});function RIe(t,e){if(!Yw(e))throw new TypeError("Index expected");if(_v(e))return"";if(U_(Array.from(t),e),e.size().length!==1)throw new _n(e.size().length,1);var n=t.length;Ir(e.min()[0],n),Ir(e.max()[0],n);var r=e.dimension(0),i="";return r.forEach(function(o){i+=t.charAt(o)}),i}function EU(t,e,n,r){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(_v(e))return t;if(U_(Array.from(t),e),e.size().length!==1)throw new _n(e.size().length,1);if(r!==void 0){if(typeof r!="string"||r.length!==1)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0),o=i.size()[0];if(o!==n.length)throw new _n(i.size()[0],n.length);var a=t.length;Ir(e.min()[0]),Ir(e.max()[0]);for(var s=[],l=0;l<a;l++)s[l]=t.charAt(l);if(i.forEach(function(f,d){s[f]=n.charAt(d[0])}),s.length>a)for(var u=a-1,c=s.length;u<c;u++)s[u]||(s[u]=r);return s.join("")}function FIe(t,e){if(!_v(e)){if(e.size().length!==1)throw new _n(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");return Ja(t,n)}}function LIe(t,e,n){if(_v(e))return t;if(e.size().length!==1)throw new _n(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");var i=Qt(t);return xv(i,r,n),i}var AU="transpose",$Ie=["typed","matrix"],Fue=Ce(AU,$Ie,t=>{var{typed:e,matrix:n}=t;return e(AU,{Array:a=>r(n(a)).valueOf(),Matrix:r,any:Qt});function r(a){var s=a.size(),l;switch(s.length){case 1:l=a.clone();break;case 2:{var u=s[0],c=s[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+An(s)+")");switch(a.storage()){case"dense":l=i(a,u,c);break;case"sparse":l=o(a,u,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+An(s)+")")}return l}function i(a,s,l){for(var u=a._data,c=[],f,d=0;d<l;d++){f=c[d]=[];for(var h=0;h<s;h++)f[h]=Qt(u[h][d])}return a.createDenseMatrix({data:c,size:[l,s],datatype:a._datatype})}function o(a,s,l){for(var u=a._values,c=a._index,f=a._ptr,d=u?[]:void 0,h=[],p=[],m=[],g=0;g<s;g++)m[g]=0;var v,y,b;for(v=0,y=c.length;v<y;v++)m[c[v]]++;for(var w=0,x=0;x<s;x++)p.push(w),w+=m[x],m[x]=p[x];for(p.push(w),b=0;b<l;b++)for(var S=f[b],_=f[b+1],k=S;k<_;k++){var C=m[c[k]]++;h[C]=b,u&&(d[C]=Qt(u[k]))}return a.createSparseMatrix({values:d,index:h,ptr:p,size:[l,s],datatype:a._datatype})}}),TU="ctranspose",BIe=["typed","transpose","conj"],Lue=Ce(TU,BIe,t=>{var{typed:e,transpose:n,conj:r}=t;return e(TU,{any:function(o){return r(n(o))}})}),MU="zeros",zIe=["typed","config","matrix","BigNumber"],$ue=Ce(MU,zIe,t=>{var{typed:e,config:n,matrix:r,BigNumber:i}=t;return e(MU,{"":function(){return n.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var f=u.pop();return o(u,f)}else return n.matrix==="Array"?o(u):o(u,"default")},Array:o,Matrix:function(u){var c=u.storage();return o(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return o(u.valueOf(),c)}});function o(l,u){var c=a(l),f=c?new i(0):0;if(s(l),u){var d=r(u);return l.length>0?d.resize(l,f):d}else{var h=[];return l.length>0?Cv(h,l,f):h}}function a(l){var u=!1;return l.forEach(function(c,f,d){hn(c)&&(u=!0,d[f]=c.toNumber())}),u}function s(l){l.forEach(function(u){if(typeof u!="number"||!Ft(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}}),DU="fft",qIe=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],Bue=Ce(DU,qIe,t=>{var{typed:e,matrix:n,addScalar:r,multiplyScalar:i,divideScalar:o,exp:a,tau:s,i:l,dotDivide:u,conj:c,pow:f,ceil:d,log2:h}=t;return e(DU,{Array:p,Matrix:function(b){return b.create(p(b.valueOf()),b.datatype())}});function p(y){var b=ln(y);return b.length===1?v(y,b[0]):m(y.map(w=>p(w,b.slice(1))),0)}function m(y,b){var w=ln(y);if(b!==0)return new Array(w[0]).fill(0).map((S,_)=>m(y[_],b-1));if(w.length===1)return v(y);function x(S){var _=ln(S);return new Array(_[1]).fill(0).map((k,C)=>new Array(_[0]).fill(0).map((E,M)=>S[M][C]))}return x(m(x(y),1))}function g(y){for(var b=y.length,w=a(o(i(-1,i(l,s)),b)),x=[],S=1-b;S<b;S++)x.push(f(w,o(f(S,2),2)));for(var _=f(2,d(h(b+b-1))),k=[...new Array(b).fill(0).map((O,q)=>i(y[q],x[b-1+q])),...new Array(_-b).fill(0)],C=[...new Array(b+b-1).fill(0).map((O,q)=>o(1,x[q])),...new Array(_-(b+b-1)).fill(0)],E=v(k),M=v(C),A=new Array(_).fill(0).map((O,q)=>i(E[q],M[q])),N=u(c(p(c(A))),_),T=[],I=b-1;I<b+b-1;I++)T.push(i(N[I],x[I]));return T}function v(y){var b=y.length;if(b===1)return[y[0]];if(b%2===0){for(var w=[...v(y.filter((k,C)=>C%2===0)),...v(y.filter((k,C)=>C%2===1))],x=0;x<b/2;x++){var S=w[x],_=i(w[x+b/2],a(i(i(s,l),o(-x,b))));w[x]=r(S,_),w[x+b/2]=r(S,i(-1,_))}return w}else return g(y)}}),NU="ifft",VIe=["typed","fft","dotDivide","conj"],zue=Ce(NU,VIe,t=>{var{typed:e,fft:n,dotDivide:r,conj:i}=t;return e(NU,{"Array | Matrix":function(a){var s=Ht(a)?a.size():ln(a);return r(i(n(i(a))),s.reduce((l,u)=>l*u,1))}})});function V3(t){"@babel/helpers - typeof";return V3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V3(t)}function HIe(t,e){if(V3(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(V3(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UIe(t){var e=HIe(t,"string");return V3(e)=="symbol"?e:e+""}function ro(t,e,n){return(e=UIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jIe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OU(Object(n),!0).forEach(function(r){ro(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var WIe="solveODE",GIe=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],que=Ce(WIe,GIe,t=>{var{typed:e,add:n,subtract:r,multiply:i,divide:o,max:a,map:s,abs:l,isPositive:u,isNegative:c,larger:f,smaller:d,matrix:h,bignumber:p,unaryMinus:m}=t;function g(k){return function(C,E,M,A){var N=!(E.length===2&&(E.every(S)||E.every(Ts)));if(N)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var T=E[0],I=E[1],O=f(I,T),q=A.firstStep;if(q!==void 0&&!u(q))throw new Error('"firstStep" must be positive');var L=A.maxStep;if(L!==void 0&&!u(L))throw new Error('"maxStep" must be positive');var Y=A.minStep;if(Y&&c(Y))throw new Error('"minStep" must be positive or zero');var R=[T,I,q,Y,L].filter(H=>H!==void 0);if(!(R.every(S)||R.every(Ts)))throw new Error('Inconsistent type of "t" dependant variables');for(var B=1,z=A.tol?A.tol:1e-4,P=A.minDelta?A.minDelta:.2,$=A.maxDelta?A.maxDelta:5,X=A.maxIter?A.maxIter:1e4,K=[T,I,...M,L,Y].some(hn),[Z,te,J,fe]=K?[p(k.a),p(k.c),p(k.b),p(k.bp)]:[k.a,k.c,k.b,k.bp],ue=q?O?q:m(q):o(r(I,T),B),de=[T],ee=[M],D=r(J,fe),oe=0,W=0,V=w(O),F=x(O);V(de[oe],I);){var j=[];ue=F(de[oe],I,ue),j.push(C(de[oe],ee[oe]));for(var se=1;se<te.length;++se)j.push(C(n(de[oe],i(te[se],ue)),n(ee[oe],i(ue,Z[se],j))));var pe=a(l(s(i(D,j),H=>Ts(H)?H.value:H)));pe<z&&z/pe>1/4&&(de.push(n(de[oe],ue)),ee.push(n(ee[oe],i(ue,J,j))),oe++);var ae=.84*(z/pe)**(1/5);if(d(ae,P)?ae=P:f(ae,$)&&(ae=$),ae=K?p(ae):ae,ue=i(ue,ae),L&&f(l(ue),L)?ue=O?L:m(L):Y&&d(l(ue),Y)&&(ue=O?Y:m(Y)),W++,W>X)throw new Error("Maximum number of iterations reached, try changing options")}return{t:de,y:ee}}}function v(k,C,E,M){var A=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],N=[null,1/2,3/4,1],T=[2/9,1/3,4/9,0],I=[7/24,1/4,1/3,1/8],O={a:A,c:N,b:T,bp:I};return g(O)(k,C,E,M)}function y(k,C,E,M){var A=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],N=[null,1/5,3/10,4/5,8/9,1,1],T=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],I=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],O={a:A,c:N,b:T,bp:I};return g(O)(k,C,E,M)}function b(k,C,E,M){var A=M.method?M.method:"RK45",N={RK23:v,RK45:y};if(A.toUpperCase()in N){var T=jIe({},M);return delete T.method,N[A.toUpperCase()](k,C,E,T)}else{var I=Object.keys(N).map(q=>'"'.concat(q,'"')),O="".concat(I.slice(0,-1).join(", ")," and ").concat(I.slice(-1));throw new Error('Unavailable method "'.concat(A,'". Available methods are ').concat(O))}}function w(k){return k?d:f}function x(k){var C=k?f:d;return function(E,M,A){var N=n(E,A);return C(N,M)?r(M,E):A}}function S(k){return hn(k)||mn(k)}function _(k,C,E,M){var A=b(k,C.toArray(),E.toArray(),M);return{t:h(A.t),y:h(A.y)}}return e("solveODE",{"function, Array, Array, Object":b,"function, Matrix, Matrix, Object":_,"function, Array, Array":(k,C,E)=>b(k,C,E,{}),"function, Matrix, Matrix":(k,C,E)=>_(k,C,E,{}),"function, Array, number | BigNumber | Unit":(k,C,E)=>{var M=b(k,C,[E],{});return{t:M.t,y:M.y.map(A=>A[0])}},"function, Matrix, number | BigNumber | Unit":(k,C,E)=>{var M=b(k,C.toArray(),[E],{});return{t:h(M.t),y:h(M.y.map(A=>A[0]))}},"function, Array, number | BigNumber | Unit, Object":(k,C,E,M)=>{var A=b(k,C,[E],M);return{t:A.t,y:A.y.map(N=>N[0])}},"function, Matrix, number | BigNumber | Unit, Object":(k,C,E,M)=>{var A=b(k,C.toArray(),[E],M);return{t:h(A.t),y:h(A.y.map(N=>N[0]))}}})}),KIe="erf",XIe=["typed"],Vue=Ce(KIe,XIe,t=>{var{typed:e}=t;return e("name",{number:function(a){var s=Math.abs(a);return s>=JIe?o0(a):s<=YIe?o0(a)*n(s):s<=4?o0(a)*(1-r(s)):o0(a)*(1-i(s))},"Array | Matrix":e.referToSelf(o=>a=>bn(a,o))});function n(o){var a=o*o,s=jf[0][4]*a,l=a,u;for(u=0;u<3;u+=1)s=(s+jf[0][u])*a,l=(l+G1[0][u])*a;return o*(s+jf[0][3])/(l+G1[0][3])}function r(o){var a=jf[1][8]*o,s=o,l;for(l=0;l<7;l+=1)a=(a+jf[1][l])*o,s=(s+G1[1][l])*o;var u=(a+jf[1][7])/(s+G1[1][7]),c=parseInt(o*16)/16,f=(o-c)*(o+c);return Math.exp(-c*c)*Math.exp(-f)*u}function i(o){var a=1/(o*o),s=jf[2][5]*a,l=a,u;for(u=0;u<4;u+=1)s=(s+jf[2][u])*a,l=(l+G1[2][u])*a;var c=a*(s+jf[2][4])/(l+G1[2][4]);c=(ZIe-c)/o,a=parseInt(o*16)/16;var f=(o-a)*(o+a);return Math.exp(-a*a)*Math.exp(-f)*c}}),YIe=.46875,ZIe=.5641895835477563,jf=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],G1=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],JIe=Math.pow(2,53),IU="zeta",QIe=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],Hue=Ce(IU,QIe,t=>{var{typed:e,config:n,multiply:r,pow:i,divide:o,factorial:a,equal:s,smallerEq:l,isNegative:u,gamma:c,sin:f,subtract:d,add:h,Complex:p,BigNumber:m,pi:g}=t;return e(IU,{number:S=>v(S,_=>_,()=>20),BigNumber:S=>v(S,_=>new m(_),()=>Math.abs(Math.log10(n.relTol))),Complex:y});function v(S,_,k){return s(S,0)?_(-.5):s(S,1)?_(NaN):isFinite(S)?b(S,_,k,C=>C):u(S)?_(NaN):_(1)}function y(S){return S.re===0&&S.im===0?new p(-.5):S.re===1?new p(NaN,NaN):S.re===1/0&&S.im===0?new p(1):S.im===1/0||S.re===-1/0?new p(NaN,NaN):b(S,_=>_,_=>Math.round(1.3*15+.9*Math.abs(_.im)),_=>_.re)}function b(S,_,k,C){var E=k(S);if(C(S)>-(E-1)/2)return x(S,_(E),_);var M=r(i(2,S),i(_(g),d(S,1)));return M=r(M,f(r(o(_(g),2),S))),M=r(M,c(d(1,S))),r(M,b(d(1,S),_,k,C))}function w(S,_){for(var k=S,C=S;l(C,_);C=h(C,1)){var E=o(r(a(h(_,d(C,1))),i(4,C)),r(a(d(_,C)),a(r(2,C))));k=h(k,E)}return r(_,k)}function x(S,_,k){for(var C=o(1,r(w(k(0),_),d(1,i(2,d(1,S))))),E=k(0),M=k(1);l(M,_);M=h(M,1))E=h(E,o(r((-1)**(M-1),w(M,_)),i(M,S)));return r(C,E)}}),PU="mode",ePe=["typed","isNaN","isNumeric"],Uue=Ce(PU,ePe,t=>{var{typed:e,isNaN:n,isNumeric:r}=t;return e(PU,{"Array | Matrix":i,"...":function(a){return i(a)}});function i(o){o=Zn(o.valueOf());var a=o.length;if(a===0)throw new Error("Cannot calculate mode of an empty array");for(var s={},l=[],u=0,c=0;c<o.length;c++){var f=o[c];if(r(f)&&n(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in s||(s[f]=0),s[f]++,s[f]===u?l.push(f):s[f]>u&&(u=s[f],l=[f])}return l}});function as(t,e,n){var r;return String(t).includes("Unexpected type")?(r=arguments.length>2?" (type: "+Tr(n)+", value: "+JSON.stringify(n)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+r)):String(t).includes("complex numbers")?(r=arguments.length>2?" (type: "+Tr(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+r)):t}var RU="prod",tPe=["typed","config","multiplyScalar","numeric"],jue=Ce(RU,tPe,t=>{var{typed:e,config:n,multiplyScalar:r,numeric:i}=t;return e(RU,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(s,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(s){return o(s)}});function o(a){var s;if(O0(a,function(l){try{s=s===void 0?l:r(s,l)}catch(u){throw as(u,"prod",l)}}),typeof s=="string"&&(s=i(s,ip(s,n))),s===void 0)throw new Error("Cannot calculate prod of an empty array");return s}}),FU="format",nPe=["typed"],Wue=Ce(FU,nPe,t=>{var{typed:e}=t;return e(FU,{any:An,"any, Object | function | number | BigNumber":An})}),LU="bin",rPe=["typed","format"],Gue=Ce(LU,rPe,t=>{var{typed:e,format:n}=t;return e(LU,{"number | BigNumber":function(i){return n(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,o){return n(i,{notation:"bin",wordSize:o})}})}),$U="oct",iPe=["typed","format"],Kue=Ce($U,iPe,t=>{var{typed:e,format:n}=t;return e($U,{"number | BigNumber":function(i){return n(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,o){return n(i,{notation:"oct",wordSize:o})}})}),BU="hex",oPe=["typed","format"],Xue=Ce(BU,oPe,t=>{var{typed:e,format:n}=t;return e(BU,{"number | BigNumber":function(i){return n(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,o){return n(i,{notation:"hex",wordSize:o})}})}),Yue=/\$([\w.]+)/g,zU="print",aPe=["typed"],VP=Ce(zU,aPe,t=>{var{typed:e}=t;return e(zU,{"string, Object | Array":qU,"string, Object | Array, number | Object":qU})});function qU(t,e,n){return t.replace(Yue,function(r,i){var o=i.split("."),a=e[o.shift()];for(a!==void 0&&a.isMatrix&&(a=a.toArray());o.length&&a!==void 0;){var s=o.shift();a=s?a[s]:a+"."}return a!==void 0?Ho(a)?a:An(a,n):r})}var VU="to",sPe=["typed","matrix","concat"],Zue=Ce(VU,sPe,t=>{var{typed:e,matrix:n,concat:r}=t,i=Rr({typed:e,matrix:n,concat:r});return e(VU,{"Unit, Unit | string":(o,a)=>o.to(a)},i({Ds:!0}))}),HU="isPrime",lPe=["typed"],Jue=Ce(HU,lPe,t=>{var{typed:e}=t;return e(HU,{number:function(r){if(r<=3)return r>1;if(r%2===0||r%3===0)return!1;for(var i=5;i*i<=r;i+=6)if(r%i===0||r%(i+2)===0)return!1;return!0},bigint:function(r){if(r<=3n)return r>1n;if(r%2n===0n||r%3n===0n)return!1;for(var i=5n;i*i<=r;i+=6n)if(r%i===0n||r%(i+2n)===0n)return!1;return!0},BigNumber:function(r){if(r.lte(3))return r.gt(1);if(r.mod(2).eq(0)||r.mod(3).eq(0))return!1;if(r.lt(Math.pow(2,32))){for(var i=r.toNumber(),o=5;o*o<=i;o+=6)if(i%o===0||i%(o+2)===0)return!1;return!0}function a(y,b,w){for(var x=1;!b.eq(0);)b.mod(2).eq(0)?(b=b.div(2),y=y.mul(y).mod(w)):(b=b.sub(1),x=y.mul(x).mod(w));return x}var s=r.constructor.clone({precision:r.toFixed(0).length*2});r=new s(r);for(var l=0,u=r.sub(1);u.mod(2).eq(0);)u=u.div(2),l+=1;var c=null;if(r.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(y=>y<r);else{var f=Math.min(r.toNumber()-2,Math.floor(2*Math.pow(r.toFixed(0).length*Math.log(10),2)));c=[];for(var d=2;d<=f;d+=1)c.push(f)}for(var h=0;h<c.length;h+=1){var p=c[h],m=a(r.sub(r).add(p),u,r);if(!m.eq(1)){for(var g=0,v=m;!v.eq(r.sub(1));g+=1,v=v.mul(v).mod(r))if(g===l-1)return!1}}return!0},"Array | Matrix":e.referToSelf(n=>r=>bn(r,n))})}),uPe="numeric",cPe=["number","?bignumber","?fraction"],Que=Ce(uPe,cPe,t=>{var{number:e,bignumber:n,fraction:r}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:a=>e(a),BigNumber:n?a=>n(a):$P,bigint:a=>BigInt(a),Fraction:r?a=>r(a):Tue};return function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=Tr(s);if(!(c in i))throw new TypeError("Cannot convert "+s+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in o))throw new TypeError("Cannot convert "+s+' to type "'+l+'"; valid output types are '+Object.keys(o).join(", "));return l===c?s:o[l](s)}}),UU="divideScalar",fPe=["typed","numeric"],ece=Ce(UU,fPe,t=>{var{typed:e,numeric:n}=t;return e(UU,{"number, number":function(i,o){return i/o},"Complex, Complex":function(i,o){return i.div(o)},"BigNumber, BigNumber":function(i,o){return i.div(o)},"bigint, bigint":function(i,o){return i/o},"Fraction, Fraction":function(i,o){return i.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})}),jU="pow",dPe=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],tce=Ce(jU,dPe,t=>{var{typed:e,config:n,identity:r,multiply:i,matrix:o,inv:a,number:s,fraction:l,Complex:u}=t;return e(jU,{"number, number":c,"Complex, Complex":function(p,m){return p.pow(m)},"BigNumber, BigNumber":function(p,m){return m.isInteger()||p>=0||n.predictable?p.pow(m):new u(p.toNumber(),0).pow(m.toNumber(),0)},"bigint, bigint":(h,p)=>h**p,"Fraction, Fraction":function(p,m){var g=p.pow(m);if(g!=null)return g;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(p.valueOf(),m.valueOf())},"Array, number":f,"Array, BigNumber":function(p,m){return f(p,m.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(p,m){return d(p,m.toNumber())},"Unit, number | BigNumber":function(p,m){return p.pow(m)}});function c(h,p){if(n.predictable&&!Ft(p)&&h<0)try{var m=l(p),g=s(m);if((p===g||Math.abs((p-g)/p)<1e-14)&&m.d%2n===1n)return(m.n%2n===0n?1:-1)*Math.pow(-h,p)}catch{}return n.predictable&&(h<-1&&p===1/0||h>-1&&h<0&&p===-1/0)?NaN:Ft(p)||h>=0||n.predictable?Vse(h,p):h*h<1&&p===1/0||h*h>1&&p===-1/0?0:new u(h,0).pow(p,0)}function f(h,p){if(!Ft(p))throw new TypeError("For A^b, b must be an integer (value is "+p+")");var m=ln(h);if(m.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+m.length+" dimensions)");if(m[0]!==m[1])throw new Error("For A^b, A must be square (size is "+m[0]+"x"+m[1]+")");if(p<0)try{return f(a(h),-p)}catch(y){throw y.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+p+")"):y}for(var g=r(m[0]).valueOf(),v=h;p>=1;)(p&1)===1&&(g=i(v,g)),p>>=1,v=i(v,v);return g}function d(h,p){return o(f(h.valueOf(),p))}}),K1="Number of decimals in function round must be an integer",WU="round",hPe=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],nce=Ce(WU,hPe,t=>{var{typed:e,config:n,matrix:r,equalScalar:i,zeros:o,BigNumber:a,DenseMatrix:s}=t,l=oa({typed:e,equalScalar:i}),u=vo({typed:e,DenseMatrix:s}),c=lc({typed:e});function f(d){return Math.abs(Jw(d).exponent)}return e(WU,{number:function(h){var p=ib(h,f(n.relTol)),m=ea(h,p,n.relTol,n.absTol)?p:h;return ib(m)},"number, number":function(h,p){var m=f(n.relTol);if(p>=m)return ib(h,p);var g=ib(h,m),v=ea(h,g,n.relTol,n.absTol)?g:h;return ib(v,p)},"number, BigNumber":function(h,p){if(!p.isInteger())throw new TypeError(K1);return new a(h).toDecimalPlaces(p.toNumber())},Complex:function(h){return h.round()},"Complex, number":function(h,p){if(p%1)throw new TypeError(K1);return h.round(p)},"Complex, BigNumber":function(h,p){if(!p.isInteger())throw new TypeError(K1);var m=p.toNumber();return h.round(m)},BigNumber:function(h){var p=new a(h).toDecimalPlaces(f(n.relTol)),m=mu(h,p,n.relTol,n.absTol)?p:h;return m.toDecimalPlaces(0)},"BigNumber, BigNumber":function(h,p){if(!p.isInteger())throw new TypeError(K1);var m=f(n.relTol);if(p>=m)return h.toDecimalPlaces(p.toNumber());var g=h.toDecimalPlaces(m),v=mu(h,g,n.relTol,n.absTol)?g:h;return v.toDecimalPlaces(p.toNumber())},bigint:d=>d,"bigint, number":(d,h)=>d,"bigint, BigNumber":(d,h)=>d,Fraction:function(h){return h.round()},"Fraction, number":function(h,p){if(p%1)throw new TypeError(K1);return h.round(p)},"Fraction, BigNumber":function(h,p){if(!p.isInteger())throw new TypeError(K1);return h.round(p.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(h,p,m){var g=h.toNumeric(m);return m.multiply(d(g,p))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(h,p,m)=>d(h,p.toNumber(),m)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(h,p,m)=>bn(h,g=>d(g,p,m),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(h,p)=>d(h,0,p)),"Array | Matrix":e.referToSelf(d=>h=>bn(h,d,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(h,p)=>l(h,p,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(h,p)=>c(h,p,d,!1)),"Array, number | BigNumber":e.referToSelf(d=>(h,p)=>c(r(h),p,d,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(d=>(h,p)=>i(h,0)?o(p.size(),p.storage()):u(p,h,d,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(d=>(h,p)=>i(h,0)?o(p.size(),p.storage()):c(p,h,d,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(d=>(h,p)=>c(r(p),h,d,!0).valueOf())})}),GU="log",pPe=["config","typed","typeOf","divideScalar","Complex"],mPe=Math.log(16),rce=Ce(GU,pPe,t=>{var{typed:e,typeOf:n,config:r,divideScalar:i,Complex:o}=t;function a(l){return l.log()}function s(l){return a(new o(l,0))}return e(GU,{number:function(u){return u>=0||r.predictable?uH(u):s(u)},bigint:AP(mPe,uH,r,s),Complex:a,BigNumber:function(u){return!u.isNegative()||r.predictable?u.ln():s(u.toNumber())},"any, any":e.referToSelf(l=>(u,c)=>{if(n(u)==="Fraction"&&n(c)==="Fraction"){var f=u.log(c);if(f!==null)return f}return i(l(u),l(c))})})}),KU="log1p",gPe=["typed","config","divideScalar","log","Complex"],ice=Ce(KU,gPe,t=>{var{typed:e,config:n,divideScalar:r,log:i,Complex:o}=t;return e(KU,{number:function(l){return l>=-1||n.predictable?oMe(l):a(new o(l,0))},Complex:a,BigNumber:function(l){var u=l.plus(1);return!u.isNegative()||n.predictable?u.ln():a(new o(l.toNumber(),0))},"Array | Matrix":e.referToSelf(s=>l=>bn(l,s)),"any, any":e.referToSelf(s=>(l,u)=>r(s(l),i(u)))});function a(s){var l=s.re+1;return new o(Math.log(Math.sqrt(l*l+s.im*s.im)),Math.atan2(s.im,l))}}),XU="nthRoots",vPe=["config","typed","divideScalar","Complex"],oce=Ce(XU,vPe,t=>{var{typed:e,config:n,divideScalar:r,Complex:i}=t,o=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function a(s,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(s===0||s.abs()===0)return[new i(0,0)];var u=typeof s=="number",c;(u||s.re===0||s.im===0)&&(u?c=2*+(s<0):s.im===0?c=2*+(s.re<0):c=2*+(s.im<0)+1);for(var f=s.arg(),d=s.abs(),h=[],p=Math.pow(d,1/l),m=0;m<l;m++){var g=(c+4*m)/l;if(g===Math.round(g)){h.push(o[g%4](p));continue}h.push(new i({r:p,phi:(f+2*Math.PI*m)/l}))}return h}return e(XU,{Complex:function(l){return a(l,2)},"Complex, number":a})}),YU="dotPow",yPe=["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],ace=Ce(YU,yPe,t=>{var{typed:e,equalScalar:n,matrix:r,pow:i,DenseMatrix:o,concat:a,SparseMatrix:s}=t,l=ds({typed:e}),u=gf({typed:e,SparseMatrix:s}),c=oa({typed:e,equalScalar:n}),f=vo({typed:e,DenseMatrix:o}),d=Rr({typed:e,matrix:r,concat:a}),h={};for(var p in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,p)&&!p.includes("Matrix")&&!p.includes("Array")&&(h[p]=i.signatures[p]);var m=e(h);return e(YU,d({elop:m,SS:u,DS:l,Ss:c,sS:f}))}),ZU="dotDivide",bPe=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],sce=Ce(ZU,bPe,t=>{var{typed:e,matrix:n,equalScalar:r,divideScalar:i,DenseMatrix:o,concat:a,SparseMatrix:s}=t,l=uc({typed:e,equalScalar:r}),u=ds({typed:e}),c=gf({typed:e,SparseMatrix:s}),f=oa({typed:e,equalScalar:r}),d=vo({typed:e,DenseMatrix:o}),h=Rr({typed:e,matrix:n,concat:a});return e(ZU,h({elop:i,SS:c,DS:u,SD:l,Ss:f,sS:d}))});function Qw(t){var{DenseMatrix:e}=t;return function(r,i,o){var a=r.size();if(a.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+An(a)+")");var s=a[0],l=a[1];if(s!==l)throw new RangeError("Matrix must be square (size: "+An(a)+")");var u=[];if(Ht(i)){var c=i.size(),f=i._data;if(c.length===1){if(c[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var d=0;d<s;d++)u[d]=[f[d]];return new e({data:u,size:[s,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==s||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(L3(i)){if(o){u=[];for(var h=0;h<s;h++)u[h]=[f[h][0]];return new e({data:u,size:[s,1],datatype:i._datatype})}return i}if(i0(i)){for(var p=0;p<s;p++)u[p]=[0];for(var m=i._values,g=i._index,v=i._ptr,y=v[1],b=v[0];b<y;b++){var w=g[b];u[w][0]=m[b]}return new e({data:u,size:[s,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(wr(i)){var x=ln(i);if(x.length===1){if(x[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var S=0;S<s;S++)u[S]=[i[S]];return new e({data:u,size:[s,1]})}if(x.length===2){if(x[0]!==s||x[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _=0;_<s;_++)u[_]=[i[_][0]];return new e({data:u,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var JU="lsolve",wPe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],lce=Ce(JU,wPe,t=>{var{typed:e,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:o,equalScalar:a,DenseMatrix:s}=t,l=Qw({DenseMatrix:s});return e(JU,{"SparseMatrix, Array | Matrix":function(d,h){return c(d,h)},"DenseMatrix, Array | Matrix":function(d,h){return u(d,h)},"Array, Array | Matrix":function(d,h){var p=n(d),m=u(p,h);return m.valueOf()}});function u(f,d){d=l(f,d,!0);for(var h=d._data,p=f._size[0],m=f._size[1],g=[],v=f._data,y=0;y<m;y++){var b=h[y][0]||0,w=void 0;if(a(b,0))w=0;else{var x=v[y][y];if(a(x,0))throw new Error("Linear system cannot be solved since matrix is singular");w=r(b,x);for(var S=y+1;S<p;S++)h[S]=[o(h[S][0]||0,i(w,v[S][y]))]}g[y]=[w]}return new s({data:g,size:[p,1]})}function c(f,d){d=l(f,d,!0);for(var h=d._data,p=f._size[0],m=f._size[1],g=f._values,v=f._index,y=f._ptr,b=[],w=0;w<m;w++){var x=h[w][0]||0;if(a(x,0))b[w]=[0];else{for(var S=0,_=[],k=[],C=y[w],E=y[w+1],M=C;M<E;M++){var A=v[M];A===w?S=g[M]:A>w&&(_.push(g[M]),k.push(A))}if(a(S,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var N=r(x,S),T=0,I=k.length;T<I;T++){var O=k[T];h[O]=[o(h[O][0]||0,i(N,_[T]))]}b[w]=[N]}}return new s({data:b,size:[p,1]})}}),QU="usolve",xPe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],uce=Ce(QU,xPe,t=>{var{typed:e,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:o,equalScalar:a,DenseMatrix:s}=t,l=Qw({DenseMatrix:s});return e(QU,{"SparseMatrix, Array | Matrix":function(d,h){return c(d,h)},"DenseMatrix, Array | Matrix":function(d,h){return u(d,h)},"Array, Array | Matrix":function(d,h){var p=n(d),m=u(p,h);return m.valueOf()}});function u(f,d){d=l(f,d,!0);for(var h=d._data,p=f._size[0],m=f._size[1],g=[],v=f._data,y=m-1;y>=0;y--){var b=h[y][0]||0,w=void 0;if(a(b,0))w=0;else{var x=v[y][y];if(a(x,0))throw new Error("Linear system cannot be solved since matrix is singular");w=r(b,x);for(var S=y-1;S>=0;S--)h[S]=[o(h[S][0]||0,i(w,v[S][y]))]}g[y]=[w]}return new s({data:g,size:[p,1]})}function c(f,d){d=l(f,d,!0);for(var h=d._data,p=f._size[0],m=f._size[1],g=f._values,v=f._index,y=f._ptr,b=[],w=m-1;w>=0;w--){var x=h[w][0]||0;if(a(x,0))b[w]=[0];else{for(var S=0,_=[],k=[],C=y[w],E=y[w+1],M=E-1;M>=C;M--){var A=v[M];A===w?S=g[M]:A<w&&(_.push(g[M]),k.push(A))}if(a(S,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var N=r(x,S),T=0,I=k.length;T<I;T++){var O=k[T];h[O]=[o(h[O][0],i(N,_[T]))]}b[w]=[N]}}return new s({data:b,size:[p,1]})}}),ej="lsolveAll",SPe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],cce=Ce(ej,SPe,t=>{var{typed:e,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:o,equalScalar:a,DenseMatrix:s}=t,l=Qw({DenseMatrix:s});return e(ej,{"SparseMatrix, Array | Matrix":function(d,h){return c(d,h)},"DenseMatrix, Array | Matrix":function(d,h){return u(d,h)},"Array, Array | Matrix":function(d,h){var p=n(d),m=u(p,h);return m.map(g=>g.valueOf())}});function u(f,d){for(var h=[l(f,d,!0)._data.map(k=>k[0])],p=f._data,m=f._size[0],g=f._size[1],v=0;v<g;v++)for(var y=h.length,b=0;b<y;b++){var w=h[b];if(a(p[v][v],0))if(a(w[v],0)){if(b===0){var S=[...w];S[v]=1;for(var _=v+1;_<g;_++)S[_]=o(S[_],p[_][v]);h.push(S)}}else{if(b===0)return[];h.splice(b,1),b-=1,y-=1}else{w[v]=r(w[v],p[v][v]);for(var x=v+1;x<g;x++)w[x]=o(w[x],i(w[v],p[x][v]))}}return h.map(k=>new s({data:k.map(C=>[C]),size:[m,1]}))}function c(f,d){for(var h=[l(f,d,!0)._data.map(B=>B[0])],p=f._size[0],m=f._size[1],g=f._values,v=f._index,y=f._ptr,b=0;b<m;b++)for(var w=h.length,x=0;x<w;x++){for(var S=h[x],_=[],k=[],C=y[b],E=y[b+1],M=0,A=C;A<E;A++){var N=v[A];N===b?M=g[A]:N>b&&(_.push(g[A]),k.push(N))}if(a(M,0))if(a(S[b],0)){if(x===0){var q=[...S];q[b]=1;for(var L=0,Y=k.length;L<Y;L++){var R=k[L];q[R]=o(q[R],_[L])}h.push(q)}}else{if(x===0)return[];h.splice(x,1),x-=1,w-=1}else{S[b]=r(S[b],M);for(var T=0,I=k.length;T<I;T++){var O=k[T];S[O]=o(S[O],i(S[b],_[T]))}}}return h.map(B=>new s({data:B.map(z=>[z]),size:[p,1]}))}}),tj="usolveAll",_Pe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],fce=Ce(tj,_Pe,t=>{var{typed:e,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:o,equalScalar:a,DenseMatrix:s}=t,l=Qw({DenseMatrix:s});return e(tj,{"SparseMatrix, Array | Matrix":function(d,h){return c(d,h)},"DenseMatrix, Array | Matrix":function(d,h){return u(d,h)},"Array, Array | Matrix":function(d,h){var p=n(d),m=u(p,h);return m.map(g=>g.valueOf())}});function u(f,d){for(var h=[l(f,d,!0)._data.map(k=>k[0])],p=f._data,m=f._size[0],g=f._size[1],v=g-1;v>=0;v--)for(var y=h.length,b=0;b<y;b++){var w=h[b];if(a(p[v][v],0))if(a(w[v],0)){if(b===0){var S=[...w];S[v]=1;for(var _=v-1;_>=0;_--)S[_]=o(S[_],p[_][v]);h.push(S)}}else{if(b===0)return[];h.splice(b,1),b-=1,y-=1}else{w[v]=r(w[v],p[v][v]);for(var x=v-1;x>=0;x--)w[x]=o(w[x],i(w[v],p[x][v]))}}return h.map(k=>new s({data:k.map(C=>[C]),size:[m,1]}))}function c(f,d){for(var h=[l(f,d,!0)._data.map(B=>B[0])],p=f._size[0],m=f._size[1],g=f._values,v=f._index,y=f._ptr,b=m-1;b>=0;b--)for(var w=h.length,x=0;x<w;x++){for(var S=h[x],_=[],k=[],C=y[b],E=y[b+1],M=0,A=E-1;A>=C;A--){var N=v[A];N===b?M=g[A]:N<b&&(_.push(g[A]),k.push(N))}if(a(M,0))if(a(S[b],0)){if(x===0){var q=[...S];q[b]=1;for(var L=0,Y=k.length;L<Y;L++){var R=k[L];q[R]=o(q[R],_[L])}h.push(q)}}else{if(x===0)return[];h.splice(x,1),x-=1,w-=1}else{S[b]=r(S[b],M);for(var T=0,I=k.length;T<I;T++){var O=k[T];S[O]=o(S[O],i(S[b],_[T]))}}}return h.map(B=>new s({data:B.map(z=>[z]),size:[p,1]}))}}),CPe="matAlgo08xS0Sid",kPe=["typed","equalScalar"],HP=Ce(CPe,kPe,t=>{var{typed:e,equalScalar:n}=t;return function(i,o,a){var s=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=o._values,h=o._index,p=o._ptr,m=o._size,g=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(c.length!==m.length)throw new _n(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");if(!s||!d)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v=c[0],y=c[1],b,w=n,x=0,S=a;typeof f=="string"&&f===g&&f!=="mixed"&&(b=f,w=e.find(n,[b,b]),x=e.convert(0,b),S=e.find(a,[b,b]));for(var _=[],k=[],C=[],E=[],M=[],A,N,T,I,O=0;O<y;O++){C[O]=k.length;var q=O+1;for(N=u[O],T=u[O+1],A=N;A<T;A++)I=l[A],M[I]=q,E[I]=s[A],k.push(I);for(N=p[O],T=p[O+1],A=N;A<T;A++)I=h[A],M[I]===q&&(E[I]=S(E[I],d[A]));for(A=C[O];A<k.length;){I=k[A];var L=E[I];w(L,x)?k.splice(A,1):(_.push(L),A++)}}return C[y]=k.length,i.createSparseMatrix({values:_,index:k,ptr:C,size:[v,y],datatype:f===i._datatype&&g===o._datatype?b:void 0})}}),UP=Ce("useMatrixForArrayScalar",["typed","matrix"],t=>{var{typed:e,matrix:n}=t;return{"Array, number":e.referTo("DenseMatrix, number",r=>(i,o)=>r(n(i),o).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",r=>(i,o)=>r(n(i),o).valueOf()),"number, Array":e.referTo("number, DenseMatrix",r=>(i,o)=>r(i,n(o)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",r=>(i,o)=>r(i,n(o)).valueOf())}}),nj="leftShift",EPe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],dce=Ce(nj,EPe,t=>{var{typed:e,matrix:n,equalScalar:r,zeros:i,DenseMatrix:o,concat:a}=t,s=ap({typed:e}),l=uc({typed:e,equalScalar:r}),u=HP({typed:e,equalScalar:r}),c=v1({typed:e,DenseMatrix:o}),f=oa({typed:e,equalScalar:r}),d=lc({typed:e}),h=Rr({typed:e,matrix:n,concat:a}),p=UP({typed:e,matrix:n});return e(nj,{"number, number":Gse,"BigNumber, BigNumber":GOe,"bigint, bigint":(m,g)=>m<<g,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(g,v)=>r(v,0)?g.clone():f(g,v,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(g,v)=>r(v,0)?g.clone():d(g,v,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(g,v)=>r(g,0)?i(v.size(),v.storage()):c(v,g,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(g,v)=>r(g,0)?i(v.size(),v.storage()):d(v,g,m,!0))},p,h({SS:u,DS:s,SD:l}))}),rj="rightArithShift",APe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],hce=Ce(rj,APe,t=>{var{typed:e,matrix:n,equalScalar:r,zeros:i,DenseMatrix:o,concat:a}=t,s=ap({typed:e}),l=uc({typed:e,equalScalar:r}),u=HP({typed:e,equalScalar:r}),c=v1({typed:e,DenseMatrix:o}),f=oa({typed:e,equalScalar:r}),d=lc({typed:e}),h=Rr({typed:e,matrix:n,concat:a}),p=UP({typed:e,matrix:n});return e(rj,{"number, number":Kse,"BigNumber, BigNumber":KOe,"bigint, bigint":(m,g)=>m>>g,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(g,v)=>r(v,0)?g.clone():f(g,v,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(g,v)=>r(v,0)?g.clone():d(g,v,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(g,v)=>r(g,0)?i(v.size(),v.storage()):c(v,g,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(g,v)=>r(g,0)?i(v.size(),v.storage()):d(v,g,m,!0))},p,h({SS:u,DS:s,SD:l}))}),ij="rightLogShift",TPe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],pce=Ce(ij,TPe,t=>{var{typed:e,matrix:n,equalScalar:r,zeros:i,DenseMatrix:o,concat:a}=t,s=ap({typed:e}),l=uc({typed:e,equalScalar:r}),u=HP({typed:e,equalScalar:r}),c=v1({typed:e,DenseMatrix:o}),f=oa({typed:e,equalScalar:r}),d=lc({typed:e}),h=Rr({typed:e,matrix:n,concat:a}),p=UP({typed:e,matrix:n});return e(ij,{"number, number":Xse,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(g,v)=>r(v,0)?g.clone():f(g,v,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(g,v)=>r(v,0)?g.clone():d(g,v,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(g,v)=>r(g,0)?i(v.size(),v.storage()):c(v,g,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(g,v)=>r(g,0)?i(v.size(),v.storage()):d(v,g,m,!0))},p,h({SS:u,DS:s,SD:l}))}),oj="and",MPe=["typed","matrix","equalScalar","zeros","not","concat"],jP=Ce(oj,MPe,t=>{var{typed:e,matrix:n,equalScalar:r,zeros:i,not:o,concat:a}=t,s=uc({typed:e,equalScalar:r}),l=mk({typed:e,equalScalar:r}),u=oa({typed:e,equalScalar:r}),c=lc({typed:e}),f=Rr({typed:e,matrix:n,concat:a});return e(oj,{"number, number":aD,"Complex, Complex":function(h,p){return(h.re!==0||h.im!==0)&&(p.re!==0||p.im!==0)},"BigNumber, BigNumber":function(h,p){return!h.isZero()&&!p.isZero()&&!h.isNaN()&&!p.isNaN()},"bigint, bigint":aD,"Unit, Unit":e.referToSelf(d=>(h,p)=>d(h.value||0,p.value||0)),"SparseMatrix, any":e.referToSelf(d=>(h,p)=>o(p)?i(h.size(),h.storage()):u(h,p,d,!1)),"DenseMatrix, any":e.referToSelf(d=>(h,p)=>o(p)?i(h.size(),h.storage()):c(h,p,d,!1)),"any, SparseMatrix":e.referToSelf(d=>(h,p)=>o(h)?i(h.size(),h.storage()):u(p,h,d,!0)),"any, DenseMatrix":e.referToSelf(d=>(h,p)=>o(h)?i(h.size(),h.storage()):c(p,h,d,!0)),"Array, any":e.referToSelf(d=>(h,p)=>d(n(h),p).valueOf()),"any, Array":e.referToSelf(d=>(h,p)=>d(h,n(p)).valueOf())},f({SS:l,DS:s}))}),eC="compare",DPe=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],mce=Ce(eC,DPe,t=>{var{typed:e,config:n,equalScalar:r,matrix:i,BigNumber:o,Fraction:a,DenseMatrix:s,concat:l}=t,u=ds({typed:e}),c=pk({typed:e,equalScalar:r}),f=vo({typed:e,DenseMatrix:s}),d=Rr({typed:e,matrix:i,concat:l}),h=py({typed:e});return e(eC,NPe({typed:e,config:n}),{"boolean, boolean":function(m,g){return m===g?0:m>g?1:-1},"BigNumber, BigNumber":function(m,g){return mu(m,g,n.relTol,n.absTol)?new o(0):new o(m.cmp(g))},"bigint, bigint":function(m,g){return m===g?0n:m>g?1n:-1n},"Fraction, Fraction":function(m,g){return new a(m.compare(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,d({SS:c,DS:u,Ss:f}))}),NPe=Ce(eC,["typed","config"],t=>{var{typed:e,config:n}=t;return e(eC,{"number, number":function(i,o){return ea(i,o,n.relTol,n.absTol)?0:i>o?1:-1}})}),Go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e4(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var fA,aj;function OPe(){return aj||(aj=1,fA=function t(e,n){var r=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,a=/^0x[0-9a-f]+$/i,s=/^0/,l=function(b){return t.insensitive&&(""+b).toLowerCase()||""+b},u=l(e).replace(i,"")||"",c=l(n).replace(i,"")||"",f=u.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=c.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=parseInt(u.match(a),16)||f.length!==1&&u.match(o)&&Date.parse(u),p=parseInt(c.match(a),16)||h&&c.match(o)&&Date.parse(c)||null,m,g;if(p){if(h<p)return-1;if(h>p)return 1}for(var v=0,y=Math.max(f.length,d.length);v<y;v++){if(m=!(f[v]||"").match(s)&&parseFloat(f[v])||f[v]||0,g=!(d[v]||"").match(s)&&parseFloat(d[v])||d[v]||0,isNaN(m)!==isNaN(g))return isNaN(m)?1:-1;if(typeof m!=typeof g&&(m+="",g+=""),m<g)return-1;if(m>g)return 1}return 0}),fA}var IPe=OPe();const X1=vf(IPe);var sj="compareNatural",PPe=["typed","compare"],gce=Ce(sj,PPe,t=>{var{typed:e,compare:n}=t,r=n.signatures["boolean,boolean"];return e(sj,{"any, any":i});function i(l,u){var c=Tr(l),f=Tr(u),d;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return d=n(l,u),d.toString()!=="0"?d>0?1:-1:X1(c,f);var h=["Array","DenseMatrix","SparseMatrix"];if(h.includes(c)||h.includes(f))return d=o(i,l,u),d!==0?d:X1(c,f);if(c!==f)return X1(c,f);if(c==="Complex")return RPe(l,u);if(c==="Unit")return l.equalBase(u)?i(l.value,u.value):a(i,l.formatUnits(),u.formatUnits());if(c==="boolean")return r(l,u);if(c==="string")return X1(l,u);if(c==="Object")return s(i,l,u);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function o(l,u,c){return i0(u)&&i0(c)?a(l,u.toJSON().values,c.toJSON().values):i0(u)?o(l,u.toArray(),c):i0(c)?o(l,u,c.toArray()):L3(u)?o(l,u.toJSON().data,c):L3(c)?o(l,u,c.toJSON().data):Array.isArray(u)?Array.isArray(c)?a(l,u,c):o(l,u,[c]):o(l,[u],c)}function a(l,u,c){for(var f=0,d=Math.min(u.length,c.length);f<d;f++){var h=l(u[f],c[f]);if(h!==0)return h}return u.length>c.length?1:u.length<c.length?-1:0}function s(l,u,c){var f=Object.keys(u),d=Object.keys(c);f.sort(X1),d.sort(X1);var h=a(l,f,d);if(h!==0)return h;for(var p=0;p<f.length;p++){var m=l(u[f[p]],c[d[p]]);if(m!==0)return m}return 0}});function RPe(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var lj="compareText",FPe=["typed","matrix","concat"];QM.signature="any, any";var vce=Ce(lj,FPe,t=>{var{typed:e,matrix:n,concat:r}=t,i=Rr({typed:e,matrix:n,concat:r});return e(lj,QM,i({elop:QM,Ds:!0}))}),tC="equal",LPe=["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],yce=Ce(tC,LPe,t=>{var{typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o,SparseMatrix:a}=t,s=ds({typed:e}),l=gf({typed:e,SparseMatrix:a}),u=vo({typed:e,DenseMatrix:i}),c=Rr({typed:e,matrix:n,concat:o});return e(tC,$Pe({typed:e,equalScalar:r}),c({elop:r,SS:l,DS:s,Ss:u}))}),$Pe=Ce(tC,["typed","equalScalar"],t=>{var{typed:e,equalScalar:n}=t;return e(tC,{"any, any":function(i,o){return i===null?o===null:o===null?i===null:i===void 0?o===void 0:o===void 0?i===void 0:n(i,o)}})}),uj="equalText",BPe=["typed","compareText","isZero"],bce=Ce(uj,BPe,t=>{var{typed:e,compareText:n,isZero:r}=t;return e(uj,{"any, any":function(o,a){return r(n(o,a))}})}),nC="smaller",zPe=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],wce=Ce(nC,zPe,t=>{var{typed:e,config:n,bignumber:r,matrix:i,DenseMatrix:o,concat:a,SparseMatrix:s}=t,l=ds({typed:e}),u=gf({typed:e,SparseMatrix:s}),c=vo({typed:e,DenseMatrix:o}),f=Rr({typed:e,matrix:i,concat:a}),d=py({typed:e});function h(p,m){return p.lt(m)&&!mu(p,m,n.relTol,n.absTol)}return e(nC,qPe({typed:e,config:n}),{"boolean, boolean":(p,m)=>p<m,"BigNumber, BigNumber":h,"bigint, bigint":(p,m)=>p<m,"Fraction, Fraction":(p,m)=>p.compare(m)===-1,"Fraction, BigNumber":function(m,g){return h(r(m),g)},"BigNumber, Fraction":function(m,g){return h(m,r(g))},"Complex, Complex":function(m,g){throw new TypeError("No ordering relation is defined for complex numbers")}},d,f({SS:u,DS:l,Ss:c}))}),qPe=Ce(nC,["typed","config"],t=>{var{typed:e,config:n}=t;return e(nC,{"number, number":function(i,o){return i<o&&!ea(i,o,n.relTol,n.absTol)}})}),rC="smallerEq",VPe=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],xce=Ce(rC,VPe,t=>{var{typed:e,config:n,matrix:r,DenseMatrix:i,concat:o,SparseMatrix:a}=t,s=ds({typed:e}),l=gf({typed:e,SparseMatrix:a}),u=vo({typed:e,DenseMatrix:i}),c=Rr({typed:e,matrix:r,concat:o}),f=py({typed:e});return e(rC,HPe({typed:e,config:n}),{"boolean, boolean":(d,h)=>d<=h,"BigNumber, BigNumber":function(h,p){return h.lte(p)||mu(h,p,n.relTol,n.absTol)},"bigint, bigint":(d,h)=>d<=h,"Fraction, Fraction":(d,h)=>d.compare(h)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,c({SS:l,DS:s,Ss:u}))}),HPe=Ce(rC,["typed","config"],t=>{var{typed:e,config:n}=t;return e(rC,{"number, number":function(i,o){return i<=o||ea(i,o,n.relTol,n.absTol)}})}),iC="larger",UPe=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],Sce=Ce(iC,UPe,t=>{var{typed:e,config:n,bignumber:r,matrix:i,DenseMatrix:o,concat:a,SparseMatrix:s}=t,l=ds({typed:e}),u=gf({typed:e,SparseMatrix:s}),c=vo({typed:e,DenseMatrix:o}),f=Rr({typed:e,matrix:i,concat:a}),d=py({typed:e});function h(p,m){return p.gt(m)&&!mu(p,m,n.relTol,n.absTol)}return e(iC,jPe({typed:e,config:n}),{"boolean, boolean":(p,m)=>p>m,"BigNumber, BigNumber":h,"bigint, bigint":(p,m)=>p>m,"Fraction, Fraction":(p,m)=>p.compare(m)===1,"Fraction, BigNumber":function(m,g){return h(r(m),g)},"BigNumber, Fraction":function(m,g){return h(m,r(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,f({SS:u,DS:l,Ss:c}))}),jPe=Ce(iC,["typed","config"],t=>{var{typed:e,config:n}=t;return e(iC,{"number, number":function(i,o){return i>o&&!ea(i,o,n.relTol,n.absTol)}})}),oC="largerEq",WPe=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],_ce=Ce(oC,WPe,t=>{var{typed:e,config:n,matrix:r,DenseMatrix:i,concat:o,SparseMatrix:a}=t,s=ds({typed:e}),l=gf({typed:e,SparseMatrix:a}),u=vo({typed:e,DenseMatrix:i}),c=Rr({typed:e,matrix:r,concat:o}),f=py({typed:e});return e(oC,GPe({typed:e,config:n}),{"boolean, boolean":(d,h)=>d>=h,"BigNumber, BigNumber":function(h,p){return h.gte(p)||mu(h,p,n.relTol,n.absTol)},"bigint, bigint":function(h,p){return h>=p},"Fraction, Fraction":(d,h)=>d.compare(h)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,c({SS:l,DS:s,Ss:u}))}),GPe=Ce(oC,["typed","config"],t=>{var{typed:e,config:n}=t;return e(oC,{"number, number":function(i,o){return i>=o||ea(i,o,n.relTol,n.absTol)}})}),cj="deepEqual",KPe=["typed","equal"],Cce=Ce(cj,KPe,t=>{var{typed:e,equal:n}=t;return e(cj,{"any, any":function(o,a){return r(o.valueOf(),a.valueOf())}});function r(i,o){if(Array.isArray(i))if(Array.isArray(o)){var a=i.length;if(a!==o.length)return!1;for(var s=0;s<a;s++)if(!r(i[s],o[s]))return!1;return!0}else return!1;else return Array.isArray(o)?!1:n(i,o)}}),aC="unequal",XPe=["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],kce=Ce(aC,XPe,t=>{var{typed:e,config:n,equalScalar:r,matrix:i,DenseMatrix:o,concat:a,SparseMatrix:s}=t,l=ds({typed:e}),u=gf({typed:e,SparseMatrix:s}),c=vo({typed:e,DenseMatrix:o}),f=Rr({typed:e,matrix:i,concat:a});return e(aC,YPe({typed:e,equalScalar:r}),f({elop:d,SS:u,DS:l,Ss:c}));function d(h,p){return!r(h,p)}}),YPe=Ce(aC,["typed","equalScalar"],t=>{var{typed:e,equalScalar:n}=t;return e(aC,{"any, any":function(i,o){return i===null?o!==null:o===null?i!==null:i===void 0?o!==void 0:o===void 0?i!==void 0:!n(i,o)}})}),fj="partitionSelect",ZPe=["typed","isNumeric","isNaN","compare"],Ece=Ce(fj,ZPe,t=>{var{typed:e,isNumeric:n,isNaN:r,compare:i}=t,o=i,a=(u,c)=>-i(u,c);return e(fj,{"Array | Matrix, number":function(c,f){return s(c,f,o)},"Array | Matrix, number, string":function(c,f,d){if(d==="asc")return s(c,f,o);if(d==="desc")return s(c,f,a);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(u,c,f){if(!Ft(c)||c<0)throw new Error("k must be a non-negative integer");if(Ht(u)){var d=u.size();if(d.length>1)throw new Error("Only one dimensional matrices supported");return l(u.valueOf(),c,f)}if(Array.isArray(u))return l(u,c,f)}function l(u,c,f){if(c>=u.length)throw new Error("k out of bounds");for(var d=0;d<u.length;d++)if(n(u[d])&&r(u[d]))return u[d];for(var h=0,p=u.length-1;h<p;){for(var m=h,g=p,v=u[Math.floor(Math.random()*(p-h+1))+h];m<g;)if(f(u[m],v)>=0){var y=u[g];u[g]=u[m],u[m]=y,--g}else++m;f(u[m],v)>0&&--m,c<=m?p=m:h=m+1}return u[c]}}),dj="sort",JPe=["typed","matrix","compare","compareNatural"],Ace=Ce(dj,JPe,t=>{var{typed:e,matrix:n,compare:r,compareNatural:i}=t,o=r,a=(c,f)=>-r(c,f);return e(dj,{Array:function(f){return l(f),f.sort(o)},Matrix:function(f){return u(f),n(f.toArray().sort(o),f.storage())},"Array, function":function(f,d){return l(f),f.sort(d)},"Matrix, function":function(f,d){return u(f),n(f.toArray().sort(d),f.storage())},"Array, string":function(f,d){return l(f),f.sort(s(d))},"Matrix, string":function(f,d){return u(f),n(f.toArray().sort(s(d)),f.storage())}});function s(c){if(c==="asc")return o;if(c==="desc")return a;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(c){if(ln(c).length!==1)throw new Error("One dimensional array expected")}function u(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}}),hj="max",QPe=["typed","config","numeric","larger","isNaN"],WP=Ce(hj,QPe,t=>{var{typed:e,config:n,numeric:r,larger:i,isNaN:o}=t;return e(hj,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(u,c){return hk(u,c.valueOf(),a)},"...":function(u){if(fy(u))throw new TypeError("Scalar values expected in function max");return s(u)}});function a(l,u){try{return i(l,u)?l:u}catch(c){throw as(c,"max",u)}}function s(l){var u;if(O0(l,function(c){try{(o(c)||u===void 0||i(c,u))&&(u=c)}catch(f){throw as(f,"max",c)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return typeof u=="string"&&(u=r(u,ip(u,n))),u}}),pj="min",eRe=["typed","config","numeric","smaller","isNaN"],GP=Ce(pj,eRe,t=>{var{typed:e,config:n,numeric:r,smaller:i,isNaN:o}=t;return e(pj,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(u,c){return hk(u,c.valueOf(),a)},"...":function(u){if(fy(u))throw new TypeError("Scalar values expected in function min");return s(u)}});function a(l,u){try{return i(l,u)?l:u}catch(c){throw as(c,"min",u)}}function s(l){var u;if(O0(l,function(c){try{(o(c)||u===void 0||i(c,u))&&(u=c)}catch(f){throw as(f,"min",c)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return typeof u=="string"&&(u=r(u,ip(u,n))),u}}),tRe="ImmutableDenseMatrix",nRe=["smaller","DenseMatrix"],Tce=Ce(tRe,nRe,t=>{var{smaller:e,DenseMatrix:n}=t;function r(i,o){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!Ho(o))throw new Error("Invalid datatype: "+o);if(Ht(i)||wr(i)){var a=new n(i,o);this._data=a._data,this._size=a._size,this._datatype=a._datatype,this._min=null,this._max=null}else if(i&&wr(i.data)&&wr(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Tr(i)+")");this._data=[],this._size=[0],this._datatype=o,this._min=null,this._max=null}}return r.prototype=new n,r.prototype.type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(i){switch(arguments.length){case 1:{var o=n.prototype.subset.call(this,i);return Ht(o)?new r({data:o._data,size:o._size,datatype:o._datatype}):o}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:Qt(this._data),size:Qt(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(i){return new r(i)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(o){(i===null||e(o,i))&&(i=o)}),this._min=i!==null?i:void 0}return this._min},r.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(o){(i===null||e(i,o))&&(i=o)}),this._max=i!==null?i:void 0}return this._max},r},{isClass:!0}),rRe="Index",iRe=["ImmutableDenseMatrix","getMatrixDataType"],Mce=Ce(rRe,iRe,t=>{var{ImmutableDenseMatrix:e,getMatrixDataType:n}=t;function r(o){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var a=0,s=arguments.length;a<s;a++){var l=arguments[a],u=wr(l),c=Ht(l),f=typeof l,d=null;if(sk(l))this._dimensions.push(l),this._isScalar=!1;else if(u||c){var h=void 0;n(l)==="boolean"?(u&&(h=i(mj(l).valueOf())),c&&(h=i(mj(l._data).valueOf())),d=l.valueOf().length):h=i(l.valueOf()),this._dimensions.push(h);var p=h.size();(p.length!==1||p[0]!==1||d!==null)&&(this._isScalar=!1)}else if(f==="number")this._dimensions.push(i([l]));else if(f==="bigint")this._dimensions.push(i([Number(l)]));else if(f==="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(d)}}r.prototype.type="Index",r.prototype.isIndex=!0;function i(o){for(var a=0,s=o.length;a<s;a++)if(typeof o[a]!="number"||!Ft(o[a]))throw new TypeError("Index parameters must be positive integer numbers");return new e(o)}return r.prototype.clone=function(){var o=new r;return o._dimensions=Qt(this._dimensions),o._isScalar=this._isScalar,o._sourceSize=this._sourceSize,o},r.create=function(o){var a=new r;return r.apply(a,o),a},r.prototype.size=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var l=this._dimensions[a];o[a]=typeof l=="string"?1:l.size()[0]}return o},r.prototype.max=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var l=this._dimensions[a];o[a]=typeof l=="string"?l:l.max()}return o},r.prototype.min=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var l=this._dimensions[a];o[a]=typeof l=="string"?l:l.min()}return o},r.prototype.forEach=function(o){for(var a=0,s=this._dimensions.length;a<s;a++)o(this._dimensions[a],a,this)},r.prototype.dimension=function(o){return typeof o!="number"?null:this._dimensions[o]||null},r.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var l=this._dimensions[a];o.push(typeof l=="string"?l:l.toArray())}return o},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var l=this._dimensions[a];typeof l=="string"?o.push(JSON.stringify(l)):o.push(l.toString())}return"["+o.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(o){return r.create(o.dimensions)},r},{isClass:!0});function mj(t){var e=[];return t.forEach((n,r)=>{n&&e.push(r)}),e}var oRe="FibonacciHeap",aRe=["smaller","larger"],Dce=Ce(oRe,aRe,t=>{var{smaller:e,larger:n}=t,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,f){var d={key:c,value:f,degree:0};if(this._minimum){var h=this._minimum;d.left=h,d.right=h.right,h.right=d,d.right.left=d,e(c,h.key)&&(this._minimum=d)}else d.left=d,d.right=d,this._minimum=d;return this._size++,d},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,d=c.degree,h=c.child;d>0;){var p=h.right;h.left.right=h.right,h.right.left=h.left,h.left=f,h.right=f.right,f.right=h,h.right.left=h,h.parent=null,h=p,d--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=u(f,this._size)),this._size--,this._minimum=f,c},i.prototype.remove=function(c){this._minimum=o(this._minimum,c,-1),this.extractMinimum()};function o(c,f,d){f.key=d;var h=f.parent;return h&&e(f.key,h.key)&&(a(c,f,h),s(c,h)),e(f.key,c.key)&&(c=f),c}function a(c,f,d){f.left.right=f.right,f.right.left=f.left,d.degree--,d.child===f&&(d.child=f.right),d.degree===0&&(d.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function s(c,f){var d=f.parent;d&&(f.mark?(a(c,f,d),s(d)):f.mark=!0)}var l=function(f,d){f.left.right=f.right,f.right.left=f.left,f.parent=d,d.child?(f.left=d.child,f.right=d.child.right,d.child.right=f,f.right.left=f):(d.child=f,f.right=f,f.left=f),d.degree++,f.mark=!1};function u(c,f){var d=Math.floor(Math.log(f)*r)+1,h=new Array(d),p=0,m=c;if(m)for(p++,m=m.right;m!==c;)p++,m=m.right;for(var g;p>0;){for(var v=m.degree,y=m.right;g=h[v],!!g;){if(n(m.key,g.key)){var b=g;g=m,m=b}l(g,m),h[v]=null,v++}h[v]=m,m=y,p--}c=null;for(var w=0;w<d;w++)g=h[w],g&&(c?(g.left.right=g.right,g.right.left=g.left,g.left=c,g.right=c.right,c.right=g,g.right.left=g,e(g.key,c.key)&&(c=g)):c=g);return c}return i},{isClass:!0}),sRe="Spa",lRe=["addScalar","equalScalar","FibonacciHeap"],Nce=Ce(sRe,lRe,t=>{var{addScalar:e,equalScalar:n,FibonacciHeap:r}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(o,a){if(this._values[o])this._values[o].value=a;else{var s=this._heap.insert(o,a);this._values[o]=s}},i.prototype.get=function(o){var a=this._values[o];return a?a.value:0},i.prototype.accumulate=function(o,a){var s=this._values[o];s?s.value=e(s.value,a):(s=this._heap.insert(o,a),this._values[o]=s)},i.prototype.forEach=function(o,a,s){var l=this._heap,u=this._values,c=[],f=l.extractMinimum();for(f&&c.push(f);f&&f.key<=a;)f.key>=o&&(n(f.value,0)||s(f.key,f.value,this)),f=l.extractMinimum(),f&&c.push(f);for(var d=0;d<c.length;d++){var h=c[d];f=l.insert(h.key,h.value),u[f.key]=f}},i.prototype.swap=function(o,a){var s=this._values[o],l=this._values[a];if(!s&&l)s=this._heap.insert(o,l.value),this._heap.remove(l),this._values[o]=s,this._values[a]=void 0;else if(s&&!l)l=this._heap.insert(a,s.value),this._heap.remove(s),this._values[a]=l,this._values[o]=void 0;else if(s&&l){var u=s.value;s.value=l.value,l.value=u}},i},{isClass:!0});function uRe(t){var e=0,n=1,r=Object.create(null),i=Object.create(null),o=0,a=function(l){var u=i[l];if(u&&(delete r[u],delete i[l],--e,n===u)){if(!e){o=0,n=1;return}for(;!Object.prototype.hasOwnProperty.call(r,++n););}};return t=Math.abs(t),{hit:function(l){var u=i[l],c=++o;if(r[c]=l,i[l]=c,!u)return++e,e<=t?void 0:(l=r[n],a(l),l);if(delete r[u],n===u)for(;!Object.prototype.hasOwnProperty.call(r,++n););},delete:a,clear:function(){e=o=0,n=1,r=Object.create(null),i=Object.create(null)}}}function t4(t){var{hasher:e,limit:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=n??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function r(){typeof r.cache!="object"&&(r.cache={values:new Map,lru:uRe(n||Number.POSITIVE_INFINITY)});for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=e(i);if(r.cache.values.has(a))return r.cache.lru.hit(a),r.cache.values.get(a);var s=t.apply(t,i);return r.cache.values.set(a,s),r.cache.values.delete(r.cache.lru.hit(a)),s}}var cRe=t4(function(t){return new t(1).exp()},{hasher:gk}),fRe=t4(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher:gk}),KP=t4(function(t){return t.acos(-1)},{hasher:gk}),dRe=t4(function(t){return KP(t).times(2)},{hasher:gk});function gk(t){return t[0].precision}function gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(n),!0).forEach(function(r){ro(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hRe="Unit",pRe=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],Oce=Ce(hRe,pRe,t=>{var{on:e,config:n,addScalar:r,subtractScalar:i,multiplyScalar:o,divideScalar:a,pow:s,abs:l,fix:u,round:c,equal:f,isNumeric:d,format:h,number:p,Complex:m,BigNumber:g,Fraction:v}=t,y=p;function b(W,V){if(!(this instanceof b))throw new Error("Constructor must be called with the new operator");if(!(W==null||d(W)||Xu(W)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,V===void 0)this.units=[],this.dimensions=Y.map(j=>0);else if(typeof V=="string"){var F=b.parse(V);this.units=F.units,this.dimensions=F.dimensions}else if(Ts(V)&&V.value===null)this.fixPrefix=V.fixPrefix,this.skipAutomaticSimplification=V.skipAutomaticSimplification,this.dimensions=V.dimensions.slice(0),this.units=V.units.map(j=>Ji({},j));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(W)}Object.defineProperty(b,"name",{value:"Unit"}),b.prototype.constructor=b,b.prototype.type="Unit",b.prototype.isUnit=!0;var w,x,S;function _(){for(;S===" "||S==="	";)E()}function k(W){return W>="0"&&W<="9"||W==="."}function C(W){return W>="0"&&W<="9"}function E(){x++,S=w.charAt(x)}function M(W){x=W,S=w.charAt(x)}function A(){var W="",V=x;if(S==="+"?E():S==="-"&&(W+=S,E()),!k(S))return M(V),null;if(S==="."){if(W+=S,E(),!C(S))return M(V),null}else{for(;C(S);)W+=S,E();S==="."&&(W+=S,E())}for(;C(S);)W+=S,E();if(S==="E"||S==="e"){var F="",j=x;if(F+=S,E(),(S==="+"||S==="-")&&(F+=S,E()),!C(S))return M(j),W;for(W=W+F;C(S);)W+=S,E()}return W}function N(){for(var W="";C(S)||b.isValidAlpha(S);)W+=S,E();var V=W.charAt(0);return b.isValidAlpha(V)?W:null}function T(W){return S===W?(E(),W):null}b.parse=function(W,V){if(V=V||{},w=W,x=-1,S="",typeof w!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var F=new b;F.units=[];var j=1,se=!1;E(),_();var pe=A(),ae=null;if(pe){if(n.number==="BigNumber")ae=new g(pe);else if(n.number==="Fraction")try{ae=new v(pe)}catch{ae=parseFloat(pe)}else ae=parseFloat(pe);_(),T("*")?(j=1,se=!0):T("/")&&(j=-1,se=!0)}for(var H=[],Q=1;;){for(_();S==="(";)H.push(j),Q*=j,j=1,E(),_();var ie=void 0;if(S){var ce=S;if(ie=N(),ie===null)throw new SyntaxError('Unexpected "'+ce+'" in "'+w+'" at index '+x.toString())}else break;var ve=I(ie);if(ve===null)throw new SyntaxError('Unit "'+ie+'" not found.');var Te=j*Q;if(_(),T("^")){_();var be=A();if(be===null)throw new SyntaxError('In "'+W+'", "^" must be followed by a floating-point number');Te*=be}F.units.push({unit:ve.unit,prefix:ve.prefix,power:Te});for(var _e=0;_e<Y.length;_e++)F.dimensions[_e]+=(ve.unit.dimensions[_e]||0)*Te;for(_();S===")";){if(H.length===0)throw new SyntaxError('Unmatched ")" in "'+w+'" at index '+x.toString());Q/=H.pop(),E(),_()}if(se=!1,T("*")?(j=1,se=!0):T("/")?(j=-1,se=!0):j=1,ve.unit.base){var ge=ve.unit.base.key;Z.auto[ge]={unit:ve.unit,prefix:ve.prefix}}}if(_(),S)throw new SyntaxError('Could not parse: "'+W+'"');if(se)throw new SyntaxError('Trailing characters: "'+W+'"');if(H.length!==0)throw new SyntaxError('Unmatched "(" in "'+w+'"');if(F.units.length===0&&!V.allowNoUnits)throw new SyntaxError('"'+W+'" contains no units');return F.value=ae!==void 0?F._normalize(ae):null,F},b.prototype.clone=function(){var W=new b;W.fixPrefix=this.fixPrefix,W.skipAutomaticSimplification=this.skipAutomaticSimplification,W.value=Qt(this.value),W.dimensions=this.dimensions.slice(0),W.units=[];for(var V=0;V<this.units.length;V++){W.units[V]={};for(var F in this.units[V])wt(this.units[V],F)&&(W.units[V][F]=this.units[V][F])}return W},b.prototype.valueType=function(){return Tr(this.value)},b.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},b.prototype._normalize=function(W){if(W==null||this.units.length===0)return W;for(var V=W,F=b._getNumberConverter(Tr(W)),j=0;j<this.units.length;j++){var se=F(this.units[j].unit.value),pe=F(this.units[j].prefix.value),ae=F(this.units[j].power);V=o(V,s(o(se,pe),ae))}return V},b.prototype._denormalize=function(W,V){if(W==null||this.units.length===0)return W;for(var F=W,j=b._getNumberConverter(Tr(W)),se=0;se<this.units.length;se++){var pe=j(this.units[se].unit.value),ae=j(this.units[se].prefix.value),H=j(this.units[se].power);F=a(F,s(o(pe,ae),H))}return F};var I=t4(W=>{if(wt($,W)){var V=$[W],F=V.prefixes[""];return{unit:V,prefix:F}}for(var j in $)if(wt($,j)&&PDe(W,j)){var se=$[j],pe=W.length-j.length,ae=W.substring(0,pe),H=wt(se.prefixes,ae)?se.prefixes[ae]:void 0;if(H!==void 0)return{unit:se,prefix:H}}return null},{hasher:W=>W[0],limit:100});b.isValuelessUnit=function(W){return I(W)!==null},b.prototype.hasBase=function(W){if(typeof W=="string"&&(W=R[W]),!W)return!1;for(var V=0;V<Y.length;V++)if(Math.abs((this.dimensions[V]||0)-(W.dimensions[V]||0))>1e-12)return!1;return!0},b.prototype.equalBase=function(W){for(var V=0;V<Y.length;V++)if(Math.abs((this.dimensions[V]||0)-(W.dimensions[V]||0))>1e-12)return!1;return!0},b.prototype.equals=function(W){return this.equalBase(W)&&f(this.value,W.value)},b.prototype.multiply=function(W){for(var V=this.clone(),F=Ts(W)?W:new b(W),j=0;j<Y.length;j++)V.dimensions[j]=(this.dimensions[j]||0)+(F.dimensions[j]||0);for(var se=0;se<F.units.length;se++){var pe=dA({},F.units[se]);V.units.push(pe)}if(this.value!==null||F.value!==null){var ae=this.value===null?this._normalize(q(F.value)):this.value,H=F.value===null?F._normalize(q(this.value)):F.value;V.value=o(ae,H)}else V.value=null;return Ts(W)&&(V.skipAutomaticSimplification=!1),O(V)},b.prototype.divideInto=function(W){return new b(W).divide(this)},b.prototype.divide=function(W){for(var V=this.clone(),F=Ts(W)?W:new b(W),j=0;j<Y.length;j++)V.dimensions[j]=(this.dimensions[j]||0)-(F.dimensions[j]||0);for(var se=0;se<F.units.length;se++){var pe=dA(dA({},F.units[se]),{},{power:-F.units[se].power});V.units.push(pe)}if(this.value!==null||F.value!==null){var ae=this.value===null?this._normalize(q(F.value)):this.value,H=F.value===null?F._normalize(q(this.value)):F.value;V.value=a(ae,H)}else V.value=null;return Ts(W)&&(V.skipAutomaticSimplification=!1),O(V)},b.prototype.pow=function(W){for(var V=this.clone(),F=0;F<Y.length;F++)V.dimensions[F]=(this.dimensions[F]||0)*W;for(var j=0;j<V.units.length;j++)V.units[j].power*=W;return V.value!==null?V.value=s(V.value,W):V.value=null,V.skipAutomaticSimplification=!1,O(V)};function O(W){return W.equalBase(R.NONE)&&W.value!==null&&!n.predictable?W.value:W}function q(W){var V=b._getNumberConverter(Tr(W));return V(1)}b.prototype.abs=function(){var W=this.clone();if(W.value!==null)if(W._isDerived()||W.units.length===0||W.units[0].unit.offset===0)W.value=l(W.value);else{var V=W._numberConverter(),F=V(W.units[0].unit.value),j=V(W.units[0].unit.offset),se=o(F,j);W.value=i(l(r(W.value,se)),se)}for(var pe in W.units)(W.units[pe].unit.name==="VA"||W.units[pe].unit.name==="VAR")&&(W.units[pe].unit=$.W);return W},b.prototype.to=function(W){var V=this.value===null?this._normalize(1):this.value,F;if(typeof W=="string")F=b.parse(W);else if(Ts(W))F=W.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(F))throw new Error("Units do not match ('".concat(F.toString(),"' != '").concat(this.toString(),"')"));if(F.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||F.units.length===0||this.units[0].unit.offset===F.units[0].unit.offset)F.value=Qt(V);else{var j=b._getNumberConverter(Tr(V)),se=this.units[0].unit.value,pe=this.units[0].unit.offset,ae=o(se,pe),H=F.units[0].unit.value,Q=F.units[0].unit.offset,ie=o(H,Q);F.value=r(V,j(i(ae,ie)))}return F.fixPrefix=!0,F.skipAutomaticSimplification=!0,F},b.prototype.toNumber=function(W){return y(this.toNumeric(W))},b.prototype.toNumeric=function(W){var V;return W?V=this.to(W):V=this.clone(),V._isDerived()||V.units.length===0?V._denormalize(V.value):V._denormalize(V.value,V.units[0].prefix.value)},b.prototype.toString=function(){return this.format()},b.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},b.fromJSON=function(W){var V,F=new b(W.value,(V=W.unit)!==null&&V!==void 0?V:void 0);return F.fixPrefix=W.fixPrefix||!1,F},b.prototype.valueOf=b.prototype.toString,b.prototype.simplify=function(){var W=this.clone(),V=[],F;for(var j in te)if(wt(te,j)&&W.hasBase(R[j])){F=j;break}if(F==="NONE")W.units=[];else{var se;if(F&&wt(te,F)&&(se=te[F]),se)W.units=[{unit:se.unit,prefix:se.prefix,power:1}];else{for(var pe=!1,ae=0;ae<Y.length;ae++){var H=Y[ae];Math.abs(W.dimensions[ae]||0)>1e-12&&(wt(te,H)?V.push({unit:te[H].unit,prefix:te[H].prefix,power:W.dimensions[ae]||0}):pe=!0)}V.length<W.units.length&&!pe&&(W.units=V)}}return W},b.prototype.toSI=function(){for(var W=this.clone(),V=[],F=0;F<Y.length;F++){var j=Y[F];if(Math.abs(W.dimensions[F]||0)>1e-12)if(wt(Z.si,j))V.push({unit:Z.si[j].unit,prefix:Z.si[j].prefix,power:W.dimensions[F]||0});else throw new Error("Cannot express custom unit "+j+" in SI units")}return W.units=V,W.fixPrefix=!0,W.skipAutomaticSimplification=!0,this.value!==null?(W.value=null,this.to(W)):W},b.prototype.formatUnits=function(){for(var W="",V="",F=0,j=0,se=0;se<this.units.length;se++)this.units[se].power>0?(F++,W+=" "+this.units[se].prefix.name+this.units[se].unit.name,Math.abs(this.units[se].power-1)>1e-15&&(W+="^"+this.units[se].power)):this.units[se].power<0&&j++;if(j>0)for(var pe=0;pe<this.units.length;pe++)this.units[pe].power<0&&(F>0?(V+=" "+this.units[pe].prefix.name+this.units[pe].unit.name,Math.abs(this.units[pe].power+1)>1e-15&&(V+="^"+-this.units[pe].power)):(V+=" "+this.units[pe].prefix.name+this.units[pe].unit.name,V+="^"+this.units[pe].power));W=W.substr(1),V=V.substr(1),F>1&&j>0&&(W="("+W+")"),j>1&&F>0&&(V="("+V+")");var ae=W;return F>0&&j>0&&(ae+=" / "),ae+=V,ae},b.prototype.format=function(W){var V=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),F=!1;typeof V.value<"u"&&V.value!==null&&Xu(V.value)&&(F=Math.abs(V.value.re)<1e-14);for(var j in V.units)wt(V.units,j)&&V.units[j].unit&&(V.units[j].unit.name==="VA"&&F?V.units[j].unit=$.VAR:V.units[j].unit.name==="VAR"&&!F&&(V.units[j].unit=$.VA));V.units.length===1&&!V.fixPrefix&&Math.abs(V.units[0].power-Math.round(V.units[0].power))<1e-14&&(V.units[0].prefix=V._bestPrefix());var se=V._denormalize(V.value),pe=V.value!==null?h(se,W||{}):"",ae=V.formatUnits();return V.value&&Xu(V.value)&&(pe="("+pe+")"),ae.length>0&&pe.length>0&&(pe+=" "),pe+=ae,pe},b.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var W=this.value!==null?l(this.value):0,V=l(this.units[0].unit.value),F=this.units[0].prefix;if(W===0)return F;var j=this.units[0].power,se=Math.log(W/Math.pow(F.value*V,j))/Math.LN10-1.2;if(se>-2.200001&&se<1.800001)return F;se=Math.abs(se);var pe=this.units[0].unit.prefixes;for(var ae in pe)if(wt(pe,ae)){var H=pe[ae];if(H.scientific){var Q=Math.abs(Math.log(W/Math.pow(H.value*V,j))/Math.LN10-1.2);(Q<se||Q===se&&H.name.length<F.name.length)&&(F=H,se=Q)}}return F},b.prototype.splitUnit=function(W){for(var V=this.clone(),F=[],j=0;j<W.length&&(V=V.to(W[j]),j!==W.length-1);j++){var se=V.toNumeric(),pe=c(se),ae=void 0,H=f(pe,se);H?ae=pe:ae=u(V.toNumeric());var Q=new b(ae,W[j].toString());F.push(Q),V=i(V,Q)}for(var ie=0,ce=0;ce<F.length;ce++)ie=r(ie,F[ce].value);return f(ie,this.value)&&(V.value=0),F.push(V),F};var L={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};L.SHORTLONG=Ji({},L.SHORT,L.LONG),L.BINARY_SHORT=Ji({},L.BINARY_SHORT_SI,L.BINARY_SHORT_IEC),L.BINARY_LONG=Ji({},L.BINARY_LONG_SI,L.BINARY_LONG_IEC);var Y=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],R={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var B in R)wt(R,B)&&(R[B].key=B);var z={},P={name:"",base:z,value:1,offset:0,dimensions:Y.map(W=>0)},$={meter:{name:"meter",base:R.LENGTH,prefixes:L.LONG,value:1,offset:0},inch:{name:"inch",base:R.LENGTH,prefixes:L.NONE,value:.0254,offset:0},foot:{name:"foot",base:R.LENGTH,prefixes:L.NONE,value:.3048,offset:0},yard:{name:"yard",base:R.LENGTH,prefixes:L.NONE,value:.9144,offset:0},mile:{name:"mile",base:R.LENGTH,prefixes:L.NONE,value:1609.344,offset:0},link:{name:"link",base:R.LENGTH,prefixes:L.NONE,value:.201168,offset:0},rod:{name:"rod",base:R.LENGTH,prefixes:L.NONE,value:5.0292,offset:0},chain:{name:"chain",base:R.LENGTH,prefixes:L.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:R.LENGTH,prefixes:L.NONE,value:1e-10,offset:0},m:{name:"m",base:R.LENGTH,prefixes:L.SHORT,value:1,offset:0},in:{name:"in",base:R.LENGTH,prefixes:L.NONE,value:.0254,offset:0},ft:{name:"ft",base:R.LENGTH,prefixes:L.NONE,value:.3048,offset:0},yd:{name:"yd",base:R.LENGTH,prefixes:L.NONE,value:.9144,offset:0},mi:{name:"mi",base:R.LENGTH,prefixes:L.NONE,value:1609.344,offset:0},li:{name:"li",base:R.LENGTH,prefixes:L.NONE,value:.201168,offset:0},rd:{name:"rd",base:R.LENGTH,prefixes:L.NONE,value:5.02921,offset:0},ch:{name:"ch",base:R.LENGTH,prefixes:L.NONE,value:20.1168,offset:0},mil:{name:"mil",base:R.LENGTH,prefixes:L.NONE,value:254e-7,offset:0},m2:{name:"m2",base:R.SURFACE,prefixes:L.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:R.SURFACE,prefixes:L.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:R.SURFACE,prefixes:L.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:R.SURFACE,prefixes:L.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:R.SURFACE,prefixes:L.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:R.SURFACE,prefixes:L.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:R.SURFACE,prefixes:L.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:R.SURFACE,prefixes:L.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:R.SURFACE,prefixes:L.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:R.SURFACE,prefixes:L.NONE,value:1e4,offset:0},m3:{name:"m3",base:R.VOLUME,prefixes:L.CUBIC,value:1,offset:0},L:{name:"L",base:R.VOLUME,prefixes:L.SHORT,value:.001,offset:0},l:{name:"l",base:R.VOLUME,prefixes:L.SHORT,value:.001,offset:0},litre:{name:"litre",base:R.VOLUME,prefixes:L.LONG,value:.001,offset:0},cuin:{name:"cuin",base:R.VOLUME,prefixes:L.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:R.VOLUME,prefixes:L.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:R.VOLUME,prefixes:L.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:R.VOLUME,prefixes:L.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:R.VOLUME,prefixes:L.NONE,value:15e-6,offset:0},drop:{name:"drop",base:R.VOLUME,prefixes:L.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:R.VOLUME,prefixes:L.NONE,value:5e-8,offset:0},minim:{name:"minim",base:R.VOLUME,prefixes:L.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:R.VOLUME,prefixes:L.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:R.VOLUME,prefixes:L.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:R.VOLUME,prefixes:L.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:R.VOLUME,prefixes:L.NONE,value:1e-6,offset:0},cup:{name:"cup",base:R.VOLUME,prefixes:L.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:R.VOLUME,prefixes:L.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:R.VOLUME,prefixes:L.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:R.VOLUME,prefixes:L.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:R.VOLUME,prefixes:L.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:R.VOLUME,prefixes:L.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:R.VOLUME,prefixes:L.NONE,value:.238480942392,offset:0},g:{name:"g",base:R.MASS,prefixes:L.SHORT,value:.001,offset:0},gram:{name:"gram",base:R.MASS,prefixes:L.LONG,value:.001,offset:0},ton:{name:"ton",base:R.MASS,prefixes:L.SHORT,value:907.18474,offset:0},t:{name:"t",base:R.MASS,prefixes:L.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:R.MASS,prefixes:L.LONG,value:1e3,offset:0},grain:{name:"grain",base:R.MASS,prefixes:L.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:R.MASS,prefixes:L.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:R.MASS,prefixes:L.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:R.MASS,prefixes:L.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:R.MASS,prefixes:L.NONE,value:45.359237,offset:0},stick:{name:"stick",base:R.MASS,prefixes:L.NONE,value:.115,offset:0},stone:{name:"stone",base:R.MASS,prefixes:L.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:R.MASS,prefixes:L.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:R.MASS,prefixes:L.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:R.MASS,prefixes:L.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:R.MASS,prefixes:L.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:R.MASS,prefixes:L.NONE,value:45.359237,offset:0},s:{name:"s",base:R.TIME,prefixes:L.SHORT,value:1,offset:0},min:{name:"min",base:R.TIME,prefixes:L.NONE,value:60,offset:0},h:{name:"h",base:R.TIME,prefixes:L.NONE,value:3600,offset:0},second:{name:"second",base:R.TIME,prefixes:L.LONG,value:1,offset:0},sec:{name:"sec",base:R.TIME,prefixes:L.LONG,value:1,offset:0},minute:{name:"minute",base:R.TIME,prefixes:L.NONE,value:60,offset:0},hour:{name:"hour",base:R.TIME,prefixes:L.NONE,value:3600,offset:0},day:{name:"day",base:R.TIME,prefixes:L.NONE,value:86400,offset:0},week:{name:"week",base:R.TIME,prefixes:L.NONE,value:7*86400,offset:0},month:{name:"month",base:R.TIME,prefixes:L.NONE,value:2629800,offset:0},year:{name:"year",base:R.TIME,prefixes:L.NONE,value:31557600,offset:0},decade:{name:"decade",base:R.TIME,prefixes:L.NONE,value:315576e3,offset:0},century:{name:"century",base:R.TIME,prefixes:L.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:R.TIME,prefixes:L.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:R.FREQUENCY,prefixes:L.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:R.FREQUENCY,prefixes:L.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:R.ANGLE,prefixes:L.SHORT,value:1,offset:0},radian:{name:"radian",base:R.ANGLE,prefixes:L.LONG,value:1,offset:0},deg:{name:"deg",base:R.ANGLE,prefixes:L.SHORT,value:null,offset:0},degree:{name:"degree",base:R.ANGLE,prefixes:L.LONG,value:null,offset:0},grad:{name:"grad",base:R.ANGLE,prefixes:L.SHORT,value:null,offset:0},gradian:{name:"gradian",base:R.ANGLE,prefixes:L.LONG,value:null,offset:0},cycle:{name:"cycle",base:R.ANGLE,prefixes:L.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:R.ANGLE,prefixes:L.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:R.ANGLE,prefixes:L.NONE,value:null,offset:0},A:{name:"A",base:R.CURRENT,prefixes:L.SHORT,value:1,offset:0},ampere:{name:"ampere",base:R.CURRENT,prefixes:L.LONG,value:1,offset:0},K:{name:"K",base:R.TEMPERATURE,prefixes:L.SHORT,value:1,offset:0},degC:{name:"degC",base:R.TEMPERATURE,prefixes:L.SHORT,value:1,offset:273.15},degF:{name:"degF",base:R.TEMPERATURE,prefixes:L.SHORT,value:new v(5,9),offset:459.67},degR:{name:"degR",base:R.TEMPERATURE,prefixes:L.SHORT,value:new v(5,9),offset:0},kelvin:{name:"kelvin",base:R.TEMPERATURE,prefixes:L.LONG,value:1,offset:0},celsius:{name:"celsius",base:R.TEMPERATURE,prefixes:L.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:R.TEMPERATURE,prefixes:L.LONG,value:new v(5,9),offset:459.67},rankine:{name:"rankine",base:R.TEMPERATURE,prefixes:L.LONG,value:new v(5,9),offset:0},mol:{name:"mol",base:R.AMOUNT_OF_SUBSTANCE,prefixes:L.SHORT,value:1,offset:0},mole:{name:"mole",base:R.AMOUNT_OF_SUBSTANCE,prefixes:L.LONG,value:1,offset:0},cd:{name:"cd",base:R.LUMINOUS_INTENSITY,prefixes:L.SHORT,value:1,offset:0},candela:{name:"candela",base:R.LUMINOUS_INTENSITY,prefixes:L.LONG,value:1,offset:0},N:{name:"N",base:R.FORCE,prefixes:L.SHORT,value:1,offset:0},newton:{name:"newton",base:R.FORCE,prefixes:L.LONG,value:1,offset:0},dyn:{name:"dyn",base:R.FORCE,prefixes:L.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:R.FORCE,prefixes:L.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:R.FORCE,prefixes:L.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:R.FORCE,prefixes:L.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:R.FORCE,prefixes:L.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:R.FORCE,prefixes:L.NONE,value:9.80665,offset:0},J:{name:"J",base:R.ENERGY,prefixes:L.SHORT,value:1,offset:0},joule:{name:"joule",base:R.ENERGY,prefixes:L.LONG,value:1,offset:0},erg:{name:"erg",base:R.ENERGY,prefixes:L.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:R.ENERGY,prefixes:L.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:R.ENERGY,prefixes:L.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:R.ENERGY,prefixes:L.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:R.ENERGY,prefixes:L.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:R.POWER,prefixes:L.SHORT,value:1,offset:0},watt:{name:"watt",base:R.POWER,prefixes:L.LONG,value:1,offset:0},hp:{name:"hp",base:R.POWER,prefixes:L.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:R.POWER,prefixes:L.SHORT,value:m.I,offset:0},VA:{name:"VA",base:R.POWER,prefixes:L.SHORT,value:1,offset:0},Pa:{name:"Pa",base:R.PRESSURE,prefixes:L.SHORT,value:1,offset:0},psi:{name:"psi",base:R.PRESSURE,prefixes:L.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:R.PRESSURE,prefixes:L.NONE,value:101325,offset:0},bar:{name:"bar",base:R.PRESSURE,prefixes:L.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:R.PRESSURE,prefixes:L.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:R.PRESSURE,prefixes:L.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:R.PRESSURE,prefixes:L.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:R.PRESSURE,prefixes:L.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:R.ELECTRIC_CHARGE,prefixes:L.LONG,value:1,offset:0},C:{name:"C",base:R.ELECTRIC_CHARGE,prefixes:L.SHORT,value:1,offset:0},farad:{name:"farad",base:R.ELECTRIC_CAPACITANCE,prefixes:L.LONG,value:1,offset:0},F:{name:"F",base:R.ELECTRIC_CAPACITANCE,prefixes:L.SHORT,value:1,offset:0},volt:{name:"volt",base:R.ELECTRIC_POTENTIAL,prefixes:L.LONG,value:1,offset:0},V:{name:"V",base:R.ELECTRIC_POTENTIAL,prefixes:L.SHORT,value:1,offset:0},ohm:{name:"ohm",base:R.ELECTRIC_RESISTANCE,prefixes:L.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:R.ELECTRIC_INDUCTANCE,prefixes:L.LONG,value:1,offset:0},H:{name:"H",base:R.ELECTRIC_INDUCTANCE,prefixes:L.SHORT,value:1,offset:0},siemens:{name:"siemens",base:R.ELECTRIC_CONDUCTANCE,prefixes:L.LONG,value:1,offset:0},S:{name:"S",base:R.ELECTRIC_CONDUCTANCE,prefixes:L.SHORT,value:1,offset:0},weber:{name:"weber",base:R.MAGNETIC_FLUX,prefixes:L.LONG,value:1,offset:0},Wb:{name:"Wb",base:R.MAGNETIC_FLUX,prefixes:L.SHORT,value:1,offset:0},tesla:{name:"tesla",base:R.MAGNETIC_FLUX_DENSITY,prefixes:L.LONG,value:1,offset:0},T:{name:"T",base:R.MAGNETIC_FLUX_DENSITY,prefixes:L.SHORT,value:1,offset:0},b:{name:"b",base:R.BIT,prefixes:L.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:R.BIT,prefixes:L.BINARY_LONG,value:1,offset:0},B:{name:"B",base:R.BIT,prefixes:L.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:R.BIT,prefixes:L.BINARY_LONG,value:8,offset:0}},X={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function K(W){if(W.number==="BigNumber"){var V=KP(g);$.rad.value=new g(1),$.deg.value=V.div(180),$.grad.value=V.div(200),$.cycle.value=V.times(2),$.arcsec.value=V.div(648e3),$.arcmin.value=V.div(10800)}else $.rad.value=1,$.deg.value=Math.PI/180,$.grad.value=Math.PI/200,$.cycle.value=Math.PI*2,$.arcsec.value=Math.PI/648e3,$.arcmin.value=Math.PI/10800;$.radian.value=$.rad.value,$.degree.value=$.deg.value,$.gradian.value=$.grad.value}K(n),e&&e("config",function(W,V){W.number!==V.number&&K(W)});var Z={si:{NONE:{unit:P,prefix:L.NONE[""]},LENGTH:{unit:$.m,prefix:L.SHORT[""]},MASS:{unit:$.g,prefix:L.SHORT.k},TIME:{unit:$.s,prefix:L.SHORT[""]},CURRENT:{unit:$.A,prefix:L.SHORT[""]},TEMPERATURE:{unit:$.K,prefix:L.SHORT[""]},LUMINOUS_INTENSITY:{unit:$.cd,prefix:L.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:$.mol,prefix:L.SHORT[""]},ANGLE:{unit:$.rad,prefix:L.SHORT[""]},BIT:{unit:$.bits,prefix:L.SHORT[""]},FORCE:{unit:$.N,prefix:L.SHORT[""]},ENERGY:{unit:$.J,prefix:L.SHORT[""]},POWER:{unit:$.W,prefix:L.SHORT[""]},PRESSURE:{unit:$.Pa,prefix:L.SHORT[""]},ELECTRIC_CHARGE:{unit:$.C,prefix:L.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:$.F,prefix:L.SHORT[""]},ELECTRIC_POTENTIAL:{unit:$.V,prefix:L.SHORT[""]},ELECTRIC_RESISTANCE:{unit:$.ohm,prefix:L.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:$.H,prefix:L.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:$.S,prefix:L.SHORT[""]},MAGNETIC_FLUX:{unit:$.Wb,prefix:L.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:$.T,prefix:L.SHORT[""]},FREQUENCY:{unit:$.Hz,prefix:L.SHORT[""]}}};Z.cgs=JSON.parse(JSON.stringify(Z.si)),Z.cgs.LENGTH={unit:$.m,prefix:L.SHORT.c},Z.cgs.MASS={unit:$.g,prefix:L.SHORT[""]},Z.cgs.FORCE={unit:$.dyn,prefix:L.SHORT[""]},Z.cgs.ENERGY={unit:$.erg,prefix:L.NONE[""]},Z.us=JSON.parse(JSON.stringify(Z.si)),Z.us.LENGTH={unit:$.ft,prefix:L.NONE[""]},Z.us.MASS={unit:$.lbm,prefix:L.NONE[""]},Z.us.TEMPERATURE={unit:$.degF,prefix:L.NONE[""]},Z.us.FORCE={unit:$.lbf,prefix:L.NONE[""]},Z.us.ENERGY={unit:$.BTU,prefix:L.BTU[""]},Z.us.POWER={unit:$.hp,prefix:L.NONE[""]},Z.us.PRESSURE={unit:$.psi,prefix:L.NONE[""]},Z.auto=JSON.parse(JSON.stringify(Z.si));var te=Z.auto;b.setUnitSystem=function(W){if(wt(Z,W))te=Z[W];else throw new Error("Unit system "+W+" does not exist. Choices are: "+Object.keys(Z).join(", "))},b.getUnitSystem=function(){for(var W in Z)if(wt(Z,W)&&Z[W]===te)return W},b.typeConverters={BigNumber:function(V){return V!=null&&V.isFraction?new g(String(V.n)).div(String(V.d)).times(String(V.s)):new g(V+"")},Fraction:function(V){return new v(V)},Complex:function(V){return V},number:function(V){return V!=null&&V.isFraction?p(V):V}},b.prototype._numberConverter=function(){var W=b.typeConverters[this.valueType()];if(W)return W;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},b._getNumberConverter=function(W){if(!b.typeConverters[W])throw new TypeError('Unsupported type "'+W+'"');return b.typeConverters[W]};for(var J in $)if(wt($,J)){var fe=$[J];fe.dimensions=fe.base.dimensions}for(var ue in X)if(wt(X,ue)){var de=$[X[ue]],ee={};for(var D in de)wt(de,D)&&(ee[D]=de[D]);ee.name=ue,$[ue]=ee}b.isValidAlpha=function(V){return/^[a-zA-Z]$/.test(V)};function oe(W){for(var V=0;V<W.length;V++){if(S=W.charAt(V),V===0&&!b.isValidAlpha(S))throw new Error('Invalid unit name (must begin with alpha character): "'+W+'"');if(V>0&&!(b.isValidAlpha(S)||C(S)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+W+'"')}}return b.createUnit=function(W,V){if(typeof W!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(V&&V.override){for(var F in W)if(wt(W,F)&&b.deleteUnit(F),W[F].aliases)for(var j=0;j<W[F].aliases.length;j++)b.deleteUnit(W[F].aliases[j])}var se;for(var pe in W)wt(W,pe)&&(se=b.createUnitSingle(pe,W[pe]));return se},b.createUnitSingle=function(W,V){if((typeof V>"u"||V===null)&&(V={}),typeof W!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(wt($,W))throw new Error('Cannot create unit "'+W+'": a unit with that name already exists');oe(W);var F=null,j=[],se=0,pe,ae,H;if(V&&V.type==="Unit")F=V.clone();else if(typeof V=="string")V!==""&&(pe=V);else if(typeof V=="object")pe=V.definition,ae=V.prefixes,se=V.offset,H=V.baseName,V.aliases&&(j=V.aliases.valueOf());else throw new TypeError('Cannot create unit "'+W+'" from "'+V.toString()+'": expecting "string" or "Unit" or "Object"');if(j){for(var Q=0;Q<j.length;Q++)if(wt($,j[Q]))throw new Error('Cannot create alias "'+j[Q]+'": a unit with that name already exists')}if(pe&&typeof pe=="string"&&!F)try{F=b.parse(pe,{allowNoUnits:!0})}catch(Ie){throw Ie.message='Could not create unit "'+W+'" from "'+pe+'": '+Ie.message,Ie}else pe&&pe.type==="Unit"&&(F=pe.clone());j=j||[],se=se||0,ae&&ae.toUpperCase?ae=L[ae.toUpperCase()]||L.NONE:ae=L.NONE;var ie={};if(F){ie={name:W,value:F.value,dimensions:F.dimensions.slice(0),prefixes:ae,offset:se};var be=!1;for(var _e in R)if(wt(R,_e)){for(var ge=!0,Ae=0;Ae<Y.length;Ae++)if(Math.abs((ie.dimensions[Ae]||0)-(R[_e].dimensions[Ae]||0))>1e-12){ge=!1;break}if(ge){be=!0,ie.base=R[_e];break}}if(!be){H=H||W+"_STUFF";var Me={dimensions:F.dimensions.slice(0)};Me.key=H,R[H]=Me,te[H]={unit:ie,prefix:L.NONE[""]},ie.base=R[H]}}else{if(H=H||W+"_STUFF",Y.indexOf(H)>=0)throw new Error('Cannot create new base unit "'+W+'": a base unit with that name already exists (and cannot be overridden)');Y.push(H);for(var ce in R)wt(R,ce)&&(R[ce].dimensions[Y.length-1]=0);for(var ve={dimensions:[]},Te=0;Te<Y.length;Te++)ve.dimensions[Te]=0;ve.dimensions[Y.length-1]=1,ve.key=H,R[H]=ve,ie={name:W,value:1,dimensions:R[H].dimensions.slice(0),prefixes:ae,offset:se,base:R[H]},te[H]={unit:ie,prefix:L.NONE[""]}}b.UNITS[W]=ie;for(var Fe=0;Fe<j.length;Fe++){var Ue=j[Fe],G={};for(var Se in ie)wt(ie,Se)&&(G[Se]=ie[Se]);G.name=Ue,b.UNITS[Ue]=G}return delete I.cache,new b(null,W)},b.deleteUnit=function(W){delete b.UNITS[W],delete I.cache},b.PREFIXES=L,b.BASE_DIMENSIONS=Y,b.BASE_UNITS=R,b.UNIT_SYSTEMS=Z,b.UNITS=$,b},{isClass:!0}),vj="unit",mRe=["typed","Unit"],Ice=Ce(vj,mRe,t=>{var{typed:e,Unit:n}=t;return e(vj,{Unit:function(i){return i.clone()},string:function(i){return n.isValuelessUnit(i)?new n(null,i):n.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,o){return new n(i,o)},"number | BigNumber | Fraction":function(i){return new n(i)},"Array | Matrix":e.referToSelf(r=>i=>bn(i,r))})}),yj="sparse",gRe=["typed","SparseMatrix"],Pce=Ce(yj,gRe,t=>{var{typed:e,SparseMatrix:n}=t;return e(yj,{"":function(){return new n([])},string:function(i){return new n([],i)},"Array | Matrix":function(i){return new n(i)},"Array | Matrix, string":function(i,o){return new n(i,o)}})}),bj="createUnit",vRe=["typed","Unit"],Rce=Ce(bj,vRe,t=>{var{typed:e,Unit:n}=t;return e(bj,{"Object, Object":function(i,o){return n.createUnit(i,o)},Object:function(i){return n.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,o,a){var s={};return s[i]=o,n.createUnit(s,a)},"string, Unit | string | Object":function(i,o){var a={};return a[i]=o,n.createUnit(a,{})},string:function(i){var o={};return o[i]={},n.createUnit(o,{})}})}),wj="acos",yRe=["typed","config","Complex"],Fce=Ce(wj,yRe,t=>{var{typed:e,config:n,Complex:r}=t;return e(wj,{number:function(o){return o>=-1&&o<=1||n.predictable?Math.acos(o):new r(o,0).acos()},Complex:function(o){return o.acos()},BigNumber:function(o){return o.acos()}})}),xj="acosh",bRe=["typed","config","Complex"],Lce=Ce(xj,bRe,t=>{var{typed:e,config:n,Complex:r}=t;return e(xj,{number:function(o){return o>=1||n.predictable?ele(o):o<=-1?new r(Math.log(Math.sqrt(o*o-1)-o),Math.PI):new r(o,0).acosh()},Complex:function(o){return o.acosh()},BigNumber:function(o){return o.acosh()}})}),Sj="acot",wRe=["typed","BigNumber"],$ce=Ce(Sj,wRe,t=>{var{typed:e,BigNumber:n}=t;return e(Sj,{number:tle,Complex:function(i){return i.acot()},BigNumber:function(i){return new n(1).div(i).atan()}})}),_j="acoth",xRe=["typed","config","Complex","BigNumber"],Bce=Ce(_j,xRe,t=>{var{typed:e,config:n,Complex:r,BigNumber:i}=t;return e(_j,{number:function(a){return a>=1||a<=-1||n.predictable?nle(a):new r(a,0).acoth()},Complex:function(a){return a.acoth()},BigNumber:function(a){return new i(1).div(a).atanh()}})}),Cj="acsc",SRe=["typed","config","Complex","BigNumber"],zce=Ce(Cj,SRe,t=>{var{typed:e,config:n,Complex:r,BigNumber:i}=t;return e(Cj,{number:function(a){return a<=-1||a>=1||n.predictable?rle(a):new r(a,0).acsc()},Complex:function(a){return a.acsc()},BigNumber:function(a){return new i(1).div(a).asin()}})}),kj="acsch",_Re=["typed","BigNumber"],qce=Ce(kj,_Re,t=>{var{typed:e,BigNumber:n}=t;return e(kj,{number:ile,Complex:function(i){return i.acsch()},BigNumber:function(i){return new n(1).div(i).asinh()}})}),Ej="asec",CRe=["typed","config","Complex","BigNumber"],Vce=Ce(Ej,CRe,t=>{var{typed:e,config:n,Complex:r,BigNumber:i}=t;return e(Ej,{number:function(a){return a<=-1||a>=1||n.predictable?ole(a):new r(a,0).asec()},Complex:function(a){return a.asec()},BigNumber:function(a){return new i(1).div(a).acos()}})}),Aj="asech",kRe=["typed","config","Complex","BigNumber"],Hce=Ce(Aj,kRe,t=>{var{typed:e,config:n,Complex:r,BigNumber:i}=t;return e(Aj,{number:function(a){if(a<=1&&a>=-1||n.predictable){var s=1/a;if(s>0||n.predictable)return ale(a);var l=Math.sqrt(s*s-1);return new r(Math.log(l-s),Math.PI)}return new r(a,0).asech()},Complex:function(a){return a.asech()},BigNumber:function(a){return new i(1).div(a).acosh()}})}),Tj="asin",ERe=["typed","config","Complex"],Uce=Ce(Tj,ERe,t=>{var{typed:e,config:n,Complex:r}=t;return e(Tj,{number:function(o){return o>=-1&&o<=1||n.predictable?Math.asin(o):new r(o,0).asin()},Complex:function(o){return o.asin()},BigNumber:function(o){return o.asin()}})}),ARe="asinh",TRe=["typed"],jce=Ce(ARe,TRe,t=>{var{typed:e}=t;return e("asinh",{number:sle,Complex:function(r){return r.asinh()},BigNumber:function(r){return r.asinh()}})}),MRe="atan",DRe=["typed"],Wce=Ce(MRe,DRe,t=>{var{typed:e}=t;return e("atan",{number:function(r){return Math.atan(r)},Complex:function(r){return r.atan()},BigNumber:function(r){return r.atan()}})}),Mj="atan2",NRe=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],Gce=Ce(Mj,NRe,t=>{var{typed:e,matrix:n,equalScalar:r,BigNumber:i,DenseMatrix:o,concat:a}=t,s=uc({typed:e,equalScalar:r}),l=ds({typed:e}),u=cue({typed:e,equalScalar:r}),c=oa({typed:e,equalScalar:r}),f=vo({typed:e,DenseMatrix:o}),d=Rr({typed:e,matrix:n,concat:a});return e(Mj,{"number, number":Math.atan2,"BigNumber, BigNumber":(h,p)=>i.atan2(h,p)},d({scalar:"number | BigNumber",SS:u,DS:l,SD:s,Ss:c,sS:f}))}),Dj="atanh",ORe=["typed","config","Complex"],Kce=Ce(Dj,ORe,t=>{var{typed:e,config:n,Complex:r}=t;return e(Dj,{number:function(o){return o<=1&&o>=-1||n.predictable?lle(o):new r(o,0).atanh()},Complex:function(o){return o.atanh()},BigNumber:function(o){return o.atanh()}})}),my=Ce("trigUnit",["typed"],t=>{var{typed:e}=t;return{Unit:e.referToSelf(n=>r=>{if(!r.hasBase(r.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(n,r.valueType())(r.value)})}}),Nj="cos",IRe=["typed"],Xce=Ce(Nj,IRe,t=>{var{typed:e}=t,n=my({typed:e});return e(Nj,{number:Math.cos,"Complex | BigNumber":r=>r.cos()},n)}),Oj="cosh",PRe=["typed"],Yce=Ce(Oj,PRe,t=>{var{typed:e}=t;return e(Oj,{number:pMe,"Complex | BigNumber":n=>n.cosh()})}),Ij="cot",RRe=["typed","BigNumber"],Zce=Ce(Ij,RRe,t=>{var{typed:e,BigNumber:n}=t,r=my({typed:e});return e(Ij,{number:ule,Complex:i=>i.cot(),BigNumber:i=>new n(1).div(i.tan())},r)}),Pj="coth",FRe=["typed","BigNumber"],Jce=Ce(Pj,FRe,t=>{var{typed:e,BigNumber:n}=t;return e(Pj,{number:cle,Complex:r=>r.coth(),BigNumber:r=>new n(1).div(r.tanh())})}),Rj="csc",LRe=["typed","BigNumber"],Qce=Ce(Rj,LRe,t=>{var{typed:e,BigNumber:n}=t,r=my({typed:e});return e(Rj,{number:fle,Complex:i=>i.csc(),BigNumber:i=>new n(1).div(i.sin())},r)}),Fj="csch",$Re=["typed","BigNumber"],efe=Ce(Fj,$Re,t=>{var{typed:e,BigNumber:n}=t;return e(Fj,{number:dle,Complex:r=>r.csch(),BigNumber:r=>new n(1).div(r.sinh())})}),Lj="sec",BRe=["typed","BigNumber"],tfe=Ce(Lj,BRe,t=>{var{typed:e,BigNumber:n}=t,r=my({typed:e});return e(Lj,{number:hle,Complex:i=>i.sec(),BigNumber:i=>new n(1).div(i.cos())},r)}),$j="sech",zRe=["typed","BigNumber"],nfe=Ce($j,zRe,t=>{var{typed:e,BigNumber:n}=t;return e($j,{number:ple,Complex:r=>r.sech(),BigNumber:r=>new n(1).div(r.cosh())})}),Bj="sin",qRe=["typed"],rfe=Ce(Bj,qRe,t=>{var{typed:e}=t,n=my({typed:e});return e(Bj,{number:Math.sin,"Complex | BigNumber":r=>r.sin()},n)}),zj="sinh",VRe=["typed"],ife=Ce(zj,VRe,t=>{var{typed:e}=t;return e(zj,{number:mle,"Complex | BigNumber":n=>n.sinh()})}),qj="tan",HRe=["typed"],ofe=Ce(qj,HRe,t=>{var{typed:e}=t,n=my({typed:e});return e(qj,{number:Math.tan,"Complex | BigNumber":r=>r.tan()},n)}),URe="tanh",jRe=["typed"],afe=Ce(URe,jRe,t=>{var{typed:e}=t;return e("tanh",{number:gMe,"Complex | BigNumber":n=>n.tanh()})}),Vj="setCartesian",WRe=["typed","size","subset","compareNatural","Index","DenseMatrix"],sfe=Ce(Vj,WRe,t=>{var{typed:e,size:n,subset:r,compareNatural:i,Index:o,DenseMatrix:a}=t;return e(Vj,{"Array | Matrix, Array | Matrix":function(l,u){var c=[];if(r(n(l),new o(0))!==0&&r(n(u),new o(0))!==0){var f=Zn(Array.isArray(l)?l:l.toArray()).sort(i),d=Zn(Array.isArray(u)?u:u.toArray()).sort(i);c=[];for(var h=0;h<f.length;h++)for(var p=0;p<d.length;p++)c.push([f[h],d[p]])}return Array.isArray(l)&&Array.isArray(u)?c:new a(c)}})}),Hj="setDifference",GRe=["typed","size","subset","compareNatural","Index","DenseMatrix"],lfe=Ce(Hj,GRe,t=>{var{typed:e,size:n,subset:r,compareNatural:i,Index:o,DenseMatrix:a}=t;return e(Hj,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(r(n(l),new o(0))===0)c=[];else{if(r(n(u),new o(0))===0)return Zn(l.toArray());var f=kv(Zn(Array.isArray(l)?l:l.toArray()).sort(i)),d=kv(Zn(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var h,p=0;p<f.length;p++){h=!1;for(var m=0;m<d.length;m++)if(i(f[p].value,d[m].value)===0&&f[p].identifier===d[m].identifier){h=!0;break}h||c.push(f[p])}}return Array.isArray(l)&&Array.isArray(u)?W_(c):new a(W_(c))}})}),Uj="setDistinct",KRe=["typed","size","subset","compareNatural","Index","DenseMatrix"],ufe=Ce(Uj,KRe,t=>{var{typed:e,size:n,subset:r,compareNatural:i,Index:o,DenseMatrix:a}=t;return e(Uj,{"Array | Matrix":function(l){var u;if(r(n(l),new o(0))===0)u=[];else{var c=Zn(Array.isArray(l)?l:l.toArray()).sort(i);u=[],u.push(c[0]);for(var f=1;f<c.length;f++)i(c[f],c[f-1])!==0&&u.push(c[f])}return Array.isArray(l)?u:new a(u)}})}),jj="setIntersect",XRe=["typed","size","subset","compareNatural","Index","DenseMatrix"],cfe=Ce(jj,XRe,t=>{var{typed:e,size:n,subset:r,compareNatural:i,Index:o,DenseMatrix:a}=t;return e(jj,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(r(n(l),new o(0))===0||r(n(u),new o(0))===0)c=[];else{var f=kv(Zn(Array.isArray(l)?l:l.toArray()).sort(i)),d=kv(Zn(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var h=0;h<f.length;h++)for(var p=0;p<d.length;p++)if(i(f[h].value,d[p].value)===0&&f[h].identifier===d[p].identifier){c.push(f[h]);break}}return Array.isArray(l)&&Array.isArray(u)?W_(c):new a(W_(c))}})}),Wj="setIsSubset",YRe=["typed","size","subset","compareNatural","Index"],ffe=Ce(Wj,YRe,t=>{var{typed:e,size:n,subset:r,compareNatural:i,Index:o}=t;return e(Wj,{"Array | Matrix, Array | Matrix":function(s,l){if(r(n(s),new o(0))===0)return!0;if(r(n(l),new o(0))===0)return!1;for(var u=kv(Zn(Array.isArray(s)?s:s.toArray()).sort(i)),c=kv(Zn(Array.isArray(l)?l:l.toArray()).sort(i)),f,d=0;d<u.length;d++){f=!1;for(var h=0;h<c.length;h++)if(i(u[d].value,c[h].value)===0&&u[d].identifier===c[h].identifier){f=!0;break}if(f===!1)return!1}return!0}})}),Gj="setMultiplicity",ZRe=["typed","size","subset","compareNatural","Index"],dfe=Ce(Gj,ZRe,t=>{var{typed:e,size:n,subset:r,compareNatural:i,Index:o}=t;return e(Gj,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(s,l){if(r(n(l),new o(0))===0)return 0;for(var u=Zn(Array.isArray(l)?l:l.toArray()),c=0,f=0;f<u.length;f++)i(u[f],s)===0&&c++;return c}})}),Kj="setPowerset",JRe=["typed","size","subset","compareNatural","Index"],hfe=Ce(Kj,JRe,t=>{var{typed:e,size:n,subset:r,compareNatural:i,Index:o}=t;return e(Kj,{"Array | Matrix":function(u){if(r(n(u),new o(0))===0)return[];for(var c=Zn(Array.isArray(u)?u:u.toArray()).sort(i),f=[],d=0;d.toString(2).length<=c.length;)f.push(a(c,d.toString(2).split("").reverse())),d++;return s(f)}});function a(l,u){for(var c=[],f=0;f<u.length;f++)u[f]==="1"&&c.push(l[f]);return c}function s(l){for(var u=[],c=l.length-1;c>0;c--)for(var f=0;f<c;f++)l[f].length>l[f+1].length&&(u=l[f],l[f]=l[f+1],l[f+1]=u);return l}}),Xj="setSize",QRe=["typed","compareNatural"],pfe=Ce(Xj,QRe,t=>{var{typed:e,compareNatural:n}=t;return e(Xj,{"Array | Matrix":function(i){return Array.isArray(i)?Zn(i).length:Zn(i.toArray()).length},"Array | Matrix, boolean":function(i,o){if(o===!1||i.length===0)return Array.isArray(i)?Zn(i).length:Zn(i.toArray()).length;for(var a=Zn(Array.isArray(i)?i:i.toArray()).sort(n),s=1,l=1;l<a.length;l++)n(a[l],a[l-1])!==0&&s++;return s}})}),Yj="setSymDifference",eFe=["typed","size","concat","subset","setDifference","Index"],mfe=Ce(Yj,eFe,t=>{var{typed:e,size:n,concat:r,subset:i,setDifference:o,Index:a}=t;return e(Yj,{"Array | Matrix, Array | Matrix":function(l,u){if(i(n(l),new a(0))===0)return Zn(u);if(i(n(u),new a(0))===0)return Zn(l);var c=Zn(l),f=Zn(u);return r(o(c,f),o(f,c))}})}),Zj="setUnion",tFe=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],gfe=Ce(Zj,tFe,t=>{var{typed:e,size:n,concat:r,subset:i,setIntersect:o,setSymDifference:a,Index:s}=t;return e(Zj,{"Array | Matrix, Array | Matrix":function(u,c){if(i(n(u),new s(0))===0)return Zn(c);if(i(n(c),new s(0))===0)return Zn(u);var f=Zn(u),d=Zn(c);return r(a(f,d),o(f,d))}})}),Jj="add",nFe=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],vfe=Ce(Jj,nFe,t=>{var{typed:e,matrix:n,addScalar:r,equalScalar:i,DenseMatrix:o,SparseMatrix:a,concat:s}=t,l=ap({typed:e}),u=EP({typed:e,equalScalar:i}),c=v1({typed:e,DenseMatrix:o}),f=Rr({typed:e,matrix:n,concat:s});return e(Jj,{"any, any":r,"any, any, ...any":e.referToSelf(d=>(h,p,m)=>{for(var g=d(h,p),v=0;v<m.length;v++)g=d(g,m[v]);return g})},f({elop:r,DS:l,SS:u,Ss:c}))}),Qj="hypot",rFe=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],yfe=Ce(Qj,rFe,t=>{var{typed:e,abs:n,addScalar:r,divideScalar:i,multiplyScalar:o,sqrt:a,smaller:s,isPositive:l}=t;return e(Qj,{"... number | BigNumber":u,Array:u,Matrix:c=>u(Zn(c.toArray(),!0))});function u(c){for(var f=0,d=0,h=0;h<c.length;h++){if(Xu(c[h]))throw new TypeError("Unexpected type of argument to hypot");var p=n(c[h]);s(d,p)?(f=o(f,o(i(d,p),i(d,p))),f=r(f,1),d=p):f=r(f,l(p)?o(i(p,d),i(p,d)):p)}return o(d,a(f))}}),eW="norm",iFe=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],bfe=Ce(eW,iFe,t=>{var{typed:e,abs:n,add:r,pow:i,conj:o,sqrt:a,multiply:s,equalScalar:l,larger:u,smaller:c,matrix:f,ctranspose:d,eigs:h}=t;return e(eW,{number:Math.abs,Complex:function(k){return k.abs()},BigNumber:function(k){return k.abs()},boolean:function(k){return Math.abs(k)},Array:function(k){return S(f(k),2)},Matrix:function(k){return S(k,2)},"Array, number | BigNumber | string":function(k,C){return S(f(k),C)},"Matrix, number | BigNumber | string":function(k,C){return S(k,C)}});function p(_){var k=0;return _.forEach(function(C){var E=n(C);u(E,k)&&(k=E)},!0),k}function m(_){var k;return _.forEach(function(C){var E=n(C);(!k||c(E,k))&&(k=E)},!0),k||0}function g(_,k){if(k===Number.POSITIVE_INFINITY||k==="inf")return p(_);if(k===Number.NEGATIVE_INFINITY||k==="-inf")return m(_);if(k==="fro")return S(_,2);if(typeof k=="number"&&!isNaN(k)){if(!l(k,0)){var C=0;return _.forEach(function(E){C=r(i(n(E),k),C)},!0),i(C,1/k)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function v(_){var k=0;return _.forEach(function(C,E){k=r(k,s(C,o(C)))}),n(a(k))}function y(_){var k=[],C=0;return _.forEach(function(E,M){var A=M[1],N=r(k[A]||0,n(E));u(N,C)&&(C=N),k[A]=N},!0),C}function b(_){var k=_.size();if(k[0]!==k[1])throw new RangeError("Invalid matrix dimensions");var C=d(_),E=s(C,_),M=h(E).values.toArray(),A=M[M.length-1];return n(a(A))}function w(_){var k=[],C=0;return _.forEach(function(E,M){var A=M[0],N=r(k[A]||0,n(E));u(N,C)&&(C=N),k[A]=N},!0),C}function x(_,k){if(k===1)return y(_);if(k===Number.POSITIVE_INFINITY||k==="inf")return w(_);if(k==="fro")return v(_);if(k===2)return b(_);throw new Error("Unsupported parameter value "+k)}function S(_,k){var C=_.size();if(C.length===1)return g(_,k);if(C.length===2){if(C[0]&&C[1])return x(_,k);throw new RangeError("Invalid matrix dimensions")}}}),tW="dot",oFe=["typed","addScalar","multiplyScalar","conj","size"],wfe=Ce(tW,oFe,t=>{var{typed:e,addScalar:n,multiplyScalar:r,conj:i,size:o}=t;return e(tW,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":l});function a(c,f){var d=u(c),h=u(f),p,m;if(d.length===1)p=d[0];else if(d.length===2&&d[1]===1)p=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(h.length===1)m=h[0];else if(h.length===2&&h[1]===1)m=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(p!==m)throw new RangeError("Vectors must have equal length ("+p+" != "+m+")");if(p===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return p}function s(c,f){var d=a(c,f),h=Ht(c)?c._data:c,p=Ht(c)?c._datatype||c.getDataType():void 0,m=Ht(f)?f._data:f,g=Ht(f)?f._datatype||f.getDataType():void 0,v=u(c).length===2,y=u(f).length===2,b=n,w=r;if(p&&g&&p===g&&typeof p=="string"&&p!=="mixed"){var x=p;b=e.find(n,[x,x]),w=e.find(r,[x,x])}if(!v&&!y){for(var S=w(i(h[0]),m[0]),_=1;_<d;_++)S=b(S,w(i(h[_]),m[_]));return S}if(!v&&y){for(var k=w(i(h[0]),m[0][0]),C=1;C<d;C++)k=b(k,w(i(h[C]),m[C][0]));return k}if(v&&!y){for(var E=w(i(h[0][0]),m[0]),M=1;M<d;M++)E=b(E,w(i(h[M][0]),m[M]));return E}if(v&&y){for(var A=w(i(h[0][0]),m[0][0]),N=1;N<d;N++)A=b(A,w(i(h[N][0]),m[N][0]));return A}}function l(c,f){a(c,f);for(var d=c._index,h=c._values,p=f._index,m=f._values,g=0,v=n,y=r,b=0,w=0;b<d.length&&w<p.length;){var x=d[b],S=p[w];if(x<S){b++;continue}if(x>S){w++;continue}x===S&&(g=v(g,y(h[b],m[w])),b++,w++)}return g}function u(c){return Ht(c)?c.size():o(c)}}),aFe="trace",sFe=["typed","matrix","add"],xfe=Ce(aFe,sFe,t=>{var{typed:e,matrix:n,add:r}=t;return e("trace",{Array:function(s){return i(n(s))},SparseMatrix:o,DenseMatrix:i,any:Qt});function i(a){var s=a._size,l=a._data;switch(s.length){case 1:if(s[0]===1)return Qt(l[0]);throw new RangeError("Matrix must be square (size: "+An(s)+")");case 2:{var u=s[0],c=s[1];if(u===c){for(var f=0,d=0;d<u;d++)f=r(f,l[d][d]);return f}else throw new RangeError("Matrix must be square (size: "+An(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+An(s)+")")}}function o(a){var s=a._values,l=a._index,u=a._ptr,c=a._size,f=c[0],d=c[1];if(f===d){var h=0;if(s.length>0)for(var p=0;p<d;p++)for(var m=u[p],g=u[p+1],v=m;v<g;v++){var y=l[v];if(y===p){h=r(h,s[v]);break}if(y>p)break}return h}throw new RangeError("Matrix must be square (size: "+An(c)+")")}}),nW="index",lFe=["typed","Index"],Sfe=Ce(nW,lFe,t=>{var{typed:e,Index:n}=t;return e(nW,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var o=i.map(function(s){return hn(s)?s.toNumber():wr(s)||Ht(s)?s.map(function(l){return hn(l)?l.toNumber():l}):s}),a=new n;return n.apply(a,o),a}})}),_fe=new Set(["end"]),uFe="Node",cFe=["mathWithTransform"],Cfe=Ce(uFe,cFe,t=>{var{mathWithTransform:e}=t;function n(i){for(var o of[..._fe])if(i.has(o))throw new Error('Scope contains an illegal symbol, "'+o+'" is a reserved keyword')}class r{get type(){return"Node"}get isNode(){return!0}evaluate(o){return this.compile().evaluate(o)}compile(){var o=this._compile(e,{}),a={},s=null;function l(u){var c=Ug(u);return n(c),o(c,a,s)}return{evaluate:l}}_compile(o,a){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(o){throw new Error("Cannot run forEach on a Node interface")}map(o){throw new Error("Cannot run map on a Node interface")}_ifNode(o){if(!hr(o))throw new TypeError("Callback function must return a Node");return o}traverse(o){o(this,null,null);function a(s,l){s.forEach(function(u,c,f){l(u,c,f),a(u,l)})}a(this,o)}transform(o){function a(s,l,u){var c=o(s,l,u);return c!==s?c:s.map(a)}return a(this,null,null)}filter(o){var a=[];return this.traverse(function(s,l,u){o(s,l,u)&&a.push(s)}),a}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(o){return o.cloneDeep()})}equals(o){return o?this.type===o.type&&Gd(this,o):!1}toString(o){var a=this._getCustomString(o);return typeof a<"u"?a:this._toString(o)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(o){var a=this._getCustomString(o);return typeof a<"u"?a:this._toHTML(o)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(o){var a=this._getCustomString(o);return typeof a<"u"?a:this._toTex(o)}_toTex(o){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(o){if(o&&typeof o=="object")switch(typeof o.handler){case"object":case"undefined":return;case"function":return o.handler(this,o);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return r},{isClass:!0,isNode:!0});function hs(t){return t&&t.isIndexError?new Cu(t.index+1,t.min+1,t.max!==void 0?t.max+1:void 0):t}function kfe(t){var{subset:e}=t;return function(r,i){try{if(Array.isArray(r))return e(r,i);if(r&&typeof r.subset=="function")return r.subset(i);if(typeof r=="string")return e(r,i);if(typeof r=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Ja(r,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(o){throw hs(o)}}}var bx="AccessorNode",fFe=["subset","Node"],Efe=Ce(bx,fFe,t=>{var{subset:e,Node:n}=t,r=kfe({subset:e});function i(a){return!(M0(a)||hl(a)||Fn(a)||Wd(a)||Zw(a)||lf(a)||ho(a))}class o extends n{constructor(s,l){if(super(),!hr(s))throw new TypeError('Node expected for parameter "object"');if(!g1(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=s,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return bx}get isAccessorNode(){return!0}_compile(s,l){var u=this.object._compile(s,l),c=this.index._compile(s,l);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(h,p,m){return Ja(u(h,p,m),f)}}else return function(h,p,m){var g=u(h,p,m),v=c(h,p,g);return r(g,v)}}forEach(s){s(this.object,"object",this),s(this.index,"index",this)}map(s){return new o(this._ifNode(s(this.object,"object",this)),this._ifNode(s(this.index,"index",this)))}clone(){return new o(this.object,this.index)}_toString(s){var l=this.object.toString(s);return i(this.object)&&(l="("+l+")"),l+this.index.toString(s)}_toHTML(s){var l=this.object.toHTML(s);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(s)}_toTex(s){var l=this.object.toTex(s);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(s)}toJSON(){return{mathjs:bx,object:this.object,index:this.index}}static fromJSON(s){return new o(s.object,s.index)}}return ro(o,"name",bx),o},{isClass:!0,isNode:!0}),wx="ArrayNode",dFe=["Node"],Afe=Ce(wx,dFe,t=>{var{Node:e}=t;class n extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(hr))throw new TypeError("Array containing Nodes expected")}get type(){return wx}get isArrayNode(){return!0}_compile(i,o){var a=x0(this.items,function(u){return u._compile(i,o)}),s=i.config.matrix!=="Array";if(s){var l=i.matrix;return function(c,f,d){return l(x0(a,function(h){return h(c,f,d)}))}}else return function(c,f,d){return x0(a,function(h){return h(c,f,d)})}}forEach(i){for(var o=0;o<this.items.length;o++){var a=this.items[o];i(a,"items["+o+"]",this)}}map(i){for(var o=[],a=0;a<this.items.length;a++)o[a]=this._ifNode(i(this.items[a],"items["+a+"]",this));return new n(o)}clone(){return new n(this.items.slice(0))}_toString(i){var o=this.items.map(function(a){return a.toString(i)});return"["+o.join(", ")+"]"}toJSON(){return{mathjs:wx,items:this.items}}static fromJSON(i){return new n(i.items)}_toHTML(i){var o=this.items.map(function(a){return a.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function o(a,s){var l=a.some(hl)&&!a.every(hl),u=s||l,c=u?"&":"\\\\",f=a.map(function(d){return d.items?o(d.items,!s):d.toTex(i)}).join(c);return l||!u||u&&!s?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return o(this.items,!1)}}return ro(n,"name",wx),n},{isClass:!0,isNode:!0});function hFe(t){var{subset:e,matrix:n}=t;return function(i,o,a){try{if(Array.isArray(i)){var s=n(i).subset(o,a).valueOf();return s.forEach((l,u)=>{i[u]=l}),i}else{if(i&&typeof i.subset=="function")return i.subset(o,a);if(typeof i=="string")return e(i,o,a);if(typeof i=="object"){if(!o.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return xv(i,o.getObjectProperty(),a),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(l){throw hs(l)}}}var Hu=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function xx(t,e){if(!e||e!=="auto")return t;for(var n=t;lf(n);)n=n.content;return n}function Ar(t,e,n,r){var i=t;e!=="keep"&&(i=t.getContent());for(var o=i.getIdentifier(),a=null,s=0;s<Hu.length;s++)if(o in Hu[s]){a=s;break}if(o==="OperatorNode:multiply"&&i.implicit&&n!=="show"){var l=xx(i.args[0],e);!(Fn(l)&&r&&r.getIdentifier()==="OperatorNode:divide"&&jM(xx(r.args[0],e)))&&!(l.getIdentifier()==="OperatorNode:divide"&&jM(xx(l.args[0],e))&&Fn(xx(l.args[1])))&&(a+=1)}return a}function ob(t,e){var n=t;e!=="keep"&&(n=t.getContent());var r=n.getIdentifier(),i=Ar(n,e);if(i===null)return null;var o=Hu[i][r];if(wt(o,"associativity")){if(o.associativity==="left")return"left";if(o.associativity==="right")return"right";throw Error("'"+r+"' has the invalid associativity '"+o.associativity+"'.")}return null}function hA(t,e,n){var r=n!=="keep"?t.getContent():t,i=n!=="keep"?t.getContent():e,o=r.getIdentifier(),a=i.getIdentifier(),s=Ar(r,n);if(s===null)return null;var l=Hu[s][o];if(wt(l,"associativeWith")&&l.associativeWith instanceof Array){for(var u=0;u<l.associativeWith.length;u++)if(l.associativeWith[u]===a)return!0;return!1}return null}function pFe(t){var e="OperatorNode:"+t;for(var n of Hu)if(e in n)return n[e].op;return null}var Sx="AssignmentNode",mFe=["subset","?matrix","Node"],Tfe=Ce(Sx,mFe,t=>{var{subset:e,matrix:n,Node:r}=t,i=kfe({subset:e}),o=hFe({subset:e,matrix:n});function a(l,u,c){u||(u="keep");var f=Ar(l,u,c),d=Ar(l.value,u,c);return u==="all"||d!==null&&d<=f}class s extends r{constructor(u,c,f){if(super(),this.object=u,this.index=f?c:null,this.value=f||c,!ho(u)&&!M0(u))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(ho(u)&&u.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!g1(this.index))throw new TypeError('IndexNode expected as "index"');if(!hr(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Sx}get isAssignmentNode(){return!0}_compile(u,c){var f=this.object._compile(u,c),d=this.index?this.index._compile(u,c):null,h=this.value._compile(u,c),p=this.object.name;if(this.index)if(this.index.isObjectProperty()){var m=this.index.getObjectProperty();return function(w,x,S){var _=f(w,x,S),k=h(w,x,S);return xv(_,m,k),k}}else{if(ho(this.object))return function(w,x,S){var _=f(w,x,S),k=h(w,x,S),C=d(w,x,_);return w.set(p,o(_,C,k)),k};var g=this.object.object._compile(u,c);if(this.object.index.isObjectProperty()){var v=this.object.index.getObjectProperty();return function(w,x,S){var _=g(w,x,S),k=Ja(_,v),C=d(w,x,k),E=h(w,x,S);return xv(_,v,o(k,C,E)),E}}else{var y=this.object.index._compile(u,c);return function(w,x,S){var _=g(w,x,S),k=y(w,x,_),C=i(_,k),E=d(w,x,C),M=h(w,x,S);return o(_,k,o(C,E,M)),M}}}else{if(!ho(this.object))throw new TypeError("SymbolNode expected as object");return function(w,x,S){var _=h(w,x,S);return w.set(p,_),_}}}forEach(u){u(this.object,"object",this),this.index&&u(this.index,"index",this),u(this.value,"value",this)}map(u){var c=this._ifNode(u(this.object,"object",this)),f=this.index?this._ifNode(u(this.index,"index",this)):null,d=this._ifNode(u(this.value,"value",this));return new s(c,f,d)}clone(){return new s(this.object,this.index,this.value)}_toString(u){var c=this.object.toString(u),f=this.index?this.index.toString(u):"",d=this.value.toString(u);return a(this,u&&u.parenthesis,u&&u.implicit)&&(d="("+d+")"),c+f+" = "+d}toJSON(){return{mathjs:Sx,object:this.object,index:this.index,value:this.value}}static fromJSON(u){return new s(u.object,u.index,u.value)}_toHTML(u){var c=this.object.toHTML(u),f=this.index?this.index.toHTML(u):"",d=this.value.toHTML(u);return a(this,u&&u.parenthesis,u&&u.implicit)&&(d='<span class="math-paranthesis math-round-parenthesis">(</span>'+d+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+d}_toTex(u){var c=this.object.toTex(u),f=this.index?this.index.toTex(u):"",d=this.value.toTex(u);return a(this,u&&u.parenthesis,u&&u.implicit)&&(d="\\left(".concat(d,"\\right)")),c+f+"="+d}}return ro(s,"name",Sx),s},{isClass:!0,isNode:!0}),_x="BlockNode",gFe=["ResultSet","Node"],Mfe=Ce(_x,gFe,t=>{var{ResultSet:e,Node:n}=t;class r extends n{constructor(o){if(super(),!Array.isArray(o))throw new Error("Array expected");this.blocks=o.map(function(a){var s=a&&a.node,l=a&&a.visible!==void 0?a.visible:!0;if(!hr(s))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:s,visible:l}})}get type(){return _x}get isBlockNode(){return!0}_compile(o,a){var s=x0(this.blocks,function(l){return{evaluate:l.node._compile(o,a),visible:l.visible}});return function(u,c,f){var d=[];return xse(s,function(p){var m=p.evaluate(u,c,f);p.visible&&d.push(m)}),new e(d)}}forEach(o){for(var a=0;a<this.blocks.length;a++)o(this.blocks[a].node,"blocks["+a+"].node",this)}map(o){for(var a=[],s=0;s<this.blocks.length;s++){var l=this.blocks[s],u=this._ifNode(o(l.node,"blocks["+s+"].node",this));a[s]={node:u,visible:l.visible}}return new r(a)}clone(){var o=this.blocks.map(function(a){return{node:a.node,visible:a.visible}});return new r(o)}_toString(o){return this.blocks.map(function(a){return a.node.toString(o)+(a.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:_x,blocks:this.blocks}}static fromJSON(o){return new r(o.blocks)}_toHTML(o){return this.blocks.map(function(a){return a.node.toHTML(o)+(a.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(o){return this.blocks.map(function(a){return a.node.toTex(o)+(a.visible?"":";")}).join(`\\;\\;
`)}}return ro(r,"name",_x),r},{isClass:!0,isNode:!0}),Cx="ConditionalNode",vFe=["Node"],Dfe=Ce(Cx,vFe,t=>{var{Node:e}=t;function n(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(hn(i))return!i.isZero();if(Xu(i))return!!(i.re||i.im);if(Ts(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Tr(i)+'"')}class r extends e{constructor(o,a,s){if(super(),!hr(o))throw new TypeError("Parameter condition must be a Node");if(!hr(a))throw new TypeError("Parameter trueExpr must be a Node");if(!hr(s))throw new TypeError("Parameter falseExpr must be a Node");this.condition=o,this.trueExpr=a,this.falseExpr=s}get type(){return Cx}get isConditionalNode(){return!0}_compile(o,a){var s=this.condition._compile(o,a),l=this.trueExpr._compile(o,a),u=this.falseExpr._compile(o,a);return function(f,d,h){return n(s(f,d,h))?l(f,d,h):u(f,d,h)}}forEach(o){o(this.condition,"condition",this),o(this.trueExpr,"trueExpr",this),o(this.falseExpr,"falseExpr",this)}map(o){return new r(this._ifNode(o(this.condition,"condition",this)),this._ifNode(o(this.trueExpr,"trueExpr",this)),this._ifNode(o(this.falseExpr,"falseExpr",this)))}clone(){return new r(this.condition,this.trueExpr,this.falseExpr)}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=Ar(this,a,o&&o.implicit),l=this.condition.toString(o),u=Ar(this.condition,a,o&&o.implicit);(a==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=s)&&(l="("+l+")");var c=this.trueExpr.toString(o),f=Ar(this.trueExpr,a,o&&o.implicit);(a==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=s)&&(c="("+c+")");var d=this.falseExpr.toString(o),h=Ar(this.falseExpr,a,o&&o.implicit);return(a==="all"||this.falseExpr.type==="OperatorNode"||h!==null&&h<=s)&&(d="("+d+")"),l+" ? "+c+" : "+d}toJSON(){return{mathjs:Cx,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(o){return new r(o.condition,o.trueExpr,o.falseExpr)}_toHTML(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=Ar(this,a,o&&o.implicit),l=this.condition.toHTML(o),u=Ar(this.condition,a,o&&o.implicit);(a==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=s)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(o),f=Ar(this.trueExpr,a,o&&o.implicit);(a==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=s)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var d=this.falseExpr.toHTML(o),h=Ar(this.falseExpr,a,o&&o.implicit);return(a==="all"||this.falseExpr.type==="OperatorNode"||h!==null&&h<=s)&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+d}_toTex(o){return"\\begin{cases} {"+this.trueExpr.toTex(o)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(o)+"}\\\\{"+this.falseExpr.toTex(o)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return ro(r,"name",Cx),r},{isClass:!0,isNode:!0}),pA,rW;function yFe(){if(rW)return pA;rW=1;var t=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])}return i},e={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},n={"":"\\--","":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},r=function(o,a){return t({},o,a)};return pA=function(i){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.preserveFormatting,s=a===void 0?!1:a,l=o.escapeMapFn,u=l===void 0?r:l,c=String(i),f="",d=u(t({},e),s?t({},n):{}),h=Object.keys(d),p=function(){var g=!1;h.forEach(function(v,y){g||c.length>=v.length&&c.slice(0,v.length)===v&&(f+=d[h[y]],c=c.slice(v.length,c.length),g=!0)}),g||(f+=c.slice(0,1),c=c.slice(1,c.length))};c;)p();return f},pA}var bFe=yFe();const wFe=vf(bFe);var fD={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Yn={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},iW={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Yn.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Yn.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Yn.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Yn.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Yn.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},fraction:{2:"\\frac{${args[0]}}{${args[1]}}"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Yn.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Yn.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : y^${args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Yn.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Yn.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Yn.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Yn.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Yn.bitAnd,"${args[1]}\\right)")},bitNot:{1:Yn.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Yn.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Yn.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Yn.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Yn.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Yn.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Yn.and,"${args[1]}\\right)")},not:{1:Yn.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Yn.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Yn.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Yn.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(Yn.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Yn.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Yn.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Yn.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Yn.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Yn.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Yn.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Yn.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Yn.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Yn.to,"${args[1]}\\right)")},numeric:function(e,n){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(fD.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},xFe="\\mathrm{${name}}\\left(${args}\\right)",oW={deg:"^\\circ"};function dD(t){return wFe(t,{preserveFormatting:!0})}function Nfe(t,e){return e=typeof e>"u"?!1:e,e?wt(oW,t)?oW[t]:"\\mathrm{"+dD(t)+"}":wt(fD,t)?fD[t]:dD(t)}var kx="ConstantNode",SFe=["Node"],Ofe=Ce(kx,SFe,t=>{var{Node:e}=t;class n extends e{constructor(i){super(),this.value=i}get type(){return kx}get isConstantNode(){return!0}_compile(i,o){var a=this.value;return function(){return a}}forEach(i){}map(i){return this.clone()}clone(){return new n(this.value)}_toString(i){return An(this.value,i)}_toHTML(i){var o=this._toString(i);switch(Tr(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+o+"</span>";case"string":return'<span class="math-string">'+o+"</span>";case"boolean":return'<span class="math-boolean">'+o+"</span>";case"null":return'<span class="math-null-symbol">'+o+"</span>";case"undefined":return'<span class="math-undefined">'+o+"</span>";default:return'<span class="math-symbol">'+o+"</span>"}}toJSON(){return{mathjs:kx,value:this.value}}static fromJSON(i){return new n(i.value)}_toTex(i){var o=this._toString(i),a=Tr(this.value);switch(a){case"string":return"\\mathtt{"+dD(o)+"}";case"number":case"BigNumber":{var s=a==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!s)return this.value.valueOf()<0?"-\\infty":"\\infty";var l=o.toLowerCase().indexOf("e");return l!==-1?o.substring(0,l)+"\\cdot10^{"+o.substring(l+1)+"}":o}case"bigint":return o.toString();case"Fraction":return this.value.toLatex();default:return o}}}return ro(n,"name",kx),n},{isClass:!0,isNode:!0}),Ex="FunctionAssignmentNode",_Fe=["typed","Node"],Ife=Ce(Ex,_Fe,t=>{var{typed:e,Node:n}=t;function r(o,a,s){var l=Ar(o,a,s),u=Ar(o.expr,a,s);return a==="all"||u!==null&&u<=l}class i extends n{constructor(a,s,l){if(super(),typeof a!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(s))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!hr(l))throw new TypeError('Node expected for parameter "expr"');if(_fe.has(a))throw new Error('Illegal function name, "'+a+'" is a reserved keyword');var u=new Set;for(var c of s){var f=typeof c=="string"?c:c.name;if(u.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));u.add(f)}this.name=a,this.params=s.map(function(d){return d&&d.name||d}),this.types=s.map(function(d){return d&&d.type||"any"}),this.expr=l}get type(){return Ex}get isFunctionAssignmentNode(){return!0}_compile(a,s){var l=Object.create(s);xse(this.params,function(p){l[p]=!0});var u=this.expr._compile(a,l),c=this.name,f=this.params,d=iH(this.types,","),h=c+"("+iH(this.params,", ")+")";return function(m,g,v){var y={};y[d]=function(){for(var w=Object.create(g),x=0;x<f.length;x++)w[f[x]]=arguments[x];return u(m,w,v)};var b=e(c,y);return b.syntax=h,m.set(c,b),b}}forEach(a){a(this.expr,"expr",this)}map(a){var s=this._ifNode(a(this.expr,"expr",this));return new i(this.name,this.params.slice(0),s)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(a){var s=a&&a.parenthesis?a.parenthesis:"keep",l=this.expr.toString(a);return r(this,s,a&&a.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var a=this.types;return{mathjs:Ex,name:this.name,params:this.params.map(function(s,l){return{name:s,type:a[l]}}),expr:this.expr}}static fromJSON(a){return new i(a.name,a.params,a.expr)}_toHTML(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",l=[],u=0;u<this.params.length;u++)l.push('<span class="math-symbol math-parameter">'+Zl(this.params[u])+"</span>");var c=this.expr.toHTML(a);return r(this,s,a&&a.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Zl(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(a){var s=a&&a.parenthesis?a.parenthesis:"keep",l=this.expr.toTex(a);return r(this,s,a&&a.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(Nfe).join(",")+"\\right)="+l}}return ro(i,"name",Ex),i},{isClass:!0,isNode:!0}),Ax="IndexNode",CFe=["Node","size"],Pfe=Ce(Ax,CFe,t=>{var{Node:e,size:n}=t;class r extends e{constructor(o,a){if(super(),this.dimensions=o,this.dotNotation=a||!1,!Array.isArray(o)||!o.every(hr))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return Ax}get isIndexNode(){return!0}_compile(o,a){var s=x0(this.dimensions,function(u,c){var f=u.filter(p=>p.isSymbolNode&&p.name==="end").length>0;if(f){var d=Object.create(a);d.end=!0;var h=u._compile(o,d);return function(m,g,v){if(!Ht(v)&&!wr(v)&&!Ho(v))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Tr(v));var y=n(v).valueOf(),b=Object.create(g);return b.end=y[c],h(m,b,v)}}else return u._compile(o,a)}),l=Ja(o,"index");return function(c,f,d){var h=x0(s,function(p){return p(c,f,d)});return l(...h)}}forEach(o){for(var a=0;a<this.dimensions.length;a++)o(this.dimensions[a],"dimensions["+a+"]",this)}map(o){for(var a=[],s=0;s<this.dimensions.length;s++)a[s]=this._ifNode(o(this.dimensions[s],"dimensions["+s+"]",this));return new r(a,this.dotNotation)}clone(){return new r(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&Fn(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(o){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:Ax,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(o){return new r(o.dimensions,o.dotNotation)}_toHTML(o){for(var a=[],s=0;s<this.dimensions.length;s++)a[s]=this.dimensions[s].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Zl(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(o){var a=this.dimensions.map(function(s){return s.toTex(o)});return this.dotNotation?"."+this.getObjectProperty():"_{"+a.join(",")+"}"}}return ro(r,"name",Ax),r},{isClass:!0,isNode:!0}),Tx="ObjectNode",kFe=["Node"],Rfe=Ce(Tx,kFe,t=>{var{Node:e}=t;class n extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(o){return hr(i[o])})))throw new TypeError("Object containing Nodes expected")}get type(){return Tx}get isObjectNode(){return!0}_compile(i,o){var a={};for(var s in this.properties)if(wt(this.properties,s)){var l=Og(s),u=JSON.parse(l),c=Ja(this.properties,s);a[u]=c._compile(i,o)}return function(d,h,p){var m={};for(var g in a)wt(a,g)&&(m[g]=a[g](d,h,p));return m}}forEach(i){for(var o in this.properties)wt(this.properties,o)&&i(this.properties[o],"properties["+Og(o)+"]",this)}map(i){var o={};for(var a in this.properties)wt(this.properties,a)&&(o[a]=this._ifNode(i(this.properties[a],"properties["+Og(a)+"]",this)));return new n(o)}clone(){var i={};for(var o in this.properties)wt(this.properties,o)&&(i[o]=this.properties[o]);return new n(i)}_toString(i){var o=[];for(var a in this.properties)wt(this.properties,a)&&o.push(Og(a)+": "+this.properties[a].toString(i));return"{"+o.join(", ")+"}"}toJSON(){return{mathjs:Tx,properties:this.properties}}static fromJSON(i){return new n(i.properties)}_toHTML(i){var o=[];for(var a in this.properties)wt(this.properties,a)&&o.push('<span class="math-symbol math-property">'+Zl(a)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[a].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var o=[];for(var a in this.properties)wt(this.properties,a)&&o.push("\\mathbf{"+a+":} & "+this.properties[a].toTex(i)+"\\\\");var s="\\left\\{\\begin{array}{ll}"+o.join(`
`)+"\\end{array}\\right\\}";return s}}return ro(n,"name",Tx),n},{isClass:!0,isNode:!0});function Pb(t,e){return new Tae(t,new ak(e),new Set(Object.keys(e)))}var Mx="OperatorNode",EFe=["Node"],Ffe=Ce(Mx,EFe,t=>{var{Node:e}=t;function n(o,a){var s=o;if(a==="auto")for(;lf(s);)s=s.content;return Fn(s)?!0:Ni(s)?n(s.args[0],a):!1}function r(o,a,s,l,u){var c=Ar(o,a,s),f=ob(o,a);if(a==="all"||l.length>2&&o.getIdentifier()!=="OperatorNode:add"&&o.getIdentifier()!=="OperatorNode:multiply")return l.map(function(E){switch(E.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var d;switch(l.length){case 0:d=[];break;case 1:{var h=Ar(l[0],a,s,o);if(u&&h!==null){var p,m;if(a==="keep"?(p=l[0].getIdentifier(),m=o.getIdentifier()):(p=l[0].getContent().getIdentifier(),m=o.getContent().getIdentifier()),Hu[c][m].latexLeftParens===!1){d=[!1];break}if(Hu[h][p].latexParens===!1){d=[!1];break}}if(h===null){d=[!1];break}if(h<=c){d=[!0];break}d=[!1]}break;case 2:{var g,v=Ar(l[0],a,s,o),y=hA(o,l[0],a);v===null?g=!1:v===c&&f==="right"&&!y||v<c?g=!0:g=!1;var b,w=Ar(l[1],a,s,o),x=hA(o,l[1],a);if(w===null?b=!1:w===c&&f==="left"&&!x||w<c?b=!0:b=!1,u){var S,_,k;a==="keep"?(S=o.getIdentifier(),_=o.args[0].getIdentifier(),k=o.args[1].getIdentifier()):(S=o.getContent().getIdentifier(),_=o.args[0].getContent().getIdentifier(),k=o.args[1].getContent().getIdentifier()),v!==null&&(Hu[c][S].latexLeftParens===!1&&(g=!1),Hu[v][_].latexParens===!1&&(g=!1)),w!==null&&(Hu[c][S].latexRightParens===!1&&(b=!1),Hu[w][k].latexParens===!1&&(b=!1))}d=[g,b]}break;default:(o.getIdentifier()==="OperatorNode:add"||o.getIdentifier()==="OperatorNode:multiply")&&(d=l.map(function(E){var M=Ar(E,a,s,o),A=hA(o,E,a),N=ob(E,a);return M===null?!1:c===M&&f===N&&!A?!0:M<c}));break}if(l.length>=2&&o.getIdentifier()==="OperatorNode:multiply"&&o.implicit&&a!=="all"&&s==="hide")for(var C=1;C<d.length;++C)n(l[C],a)&&!d[C-1]&&(a!=="keep"||!lf(l[C-1]))&&(d[C]=!0);return d}class i extends e{constructor(a,s,l,u,c){if(super(),typeof a!="string")throw new TypeError('string expected for parameter "op"');if(typeof s!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(hr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=u===!0,this.isPercentage=c===!0,this.op=a,this.fn=s,this.args=l||[]}get type(){return Mx}get isOperatorNode(){return!0}_compile(a,s){if(typeof this.fn!="string"||!hP(a,this.fn))throw a[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=Ja(a,this.fn),u=x0(this.args,function(p){return p._compile(a,s)});if(typeof l=="function"&&l.rawArgs===!0){var c=this.args;return function(m,g,v){return l(c,a,Pb(m,g))}}else if(u.length===1){var f=u[0];return function(m,g,v){return l(f(m,g,v))}}else if(u.length===2){var d=u[0],h=u[1];return function(m,g,v){return l(d(m,g,v),h(m,g,v))}}else return function(m,g,v){return l.apply(null,x0(u,function(y){return y(m,g,v)}))}}forEach(a){for(var s=0;s<this.args.length;s++)a(this.args[s],"args["+s+"]",this)}map(a){for(var s=[],l=0;l<this.args.length;l++)s[l]=this._ifNode(a(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,s,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(a){var s=a&&a.parenthesis?a.parenthesis:"keep",l=a&&a.implicit?a.implicit:"hide",u=this.args,c=r(this,s,l,u,!1);if(u.length===1){var f=ob(this,s),d=u[0].toString(a);c[0]&&(d="("+d+")");var h=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(h?" ":"")+d:f==="left"?d+(h?" ":"")+this.op:d+this.op}else if(u.length===2){var p=u[0].toString(a),m=u[1].toString(a);return c[0]&&(p="("+p+")"),c[1]&&(m="("+m+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?p+" "+m:p+" "+this.op+" "+m}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var g=u.map(function(v,y){return v=v.toString(a),c[y]&&(v="("+v+")"),v});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?g.join(" "):g.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:Mx,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(a){return new i(a.op,a.fn,a.args,a.implicit,a.isPercentage)}_toHTML(a){var s=a&&a.parenthesis?a.parenthesis:"keep",l=a&&a.implicit?a.implicit:"hide",u=this.args,c=r(this,s,l,u,!1);if(u.length===1){var f=ob(this,s),d=u[0].toHTML(a);return c[0]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Zl(this.op)+"</span>"+d:d+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Zl(this.op)+"</span>"}else if(u.length===2){var h=u[0].toHTML(a),p=u[1].toHTML(a);return c[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?h+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+p:h+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Zl(this.op)+"</span>"+p}else{var m=u.map(function(g,v){return g=g.toHTML(a),c[v]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),g});return u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?m.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):m.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Zl(this.op)+"</span>"):'<span class="math-function">'+Zl(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+m.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(a){var s=a&&a.parenthesis?a.parenthesis:"keep",l=a&&a.implicit?a.implicit:"hide",u=this.args,c=r(this,s,l,u,!0),f=Yn[this.fn];if(f=typeof f>"u"?this.op:f,u.length===1){var d=ob(this,s),h=u[0].toTex(a);return c[0]&&(h="\\left(".concat(h,"\\right)")),d==="right"?f+h:h+f}else if(u.length===2){var p=u[0],m=p.toTex(a);c[0]&&(m="\\left(".concat(m,"\\right)"));var g=u[1],v=g.toTex(a);c[1]&&(v="\\left(".concat(v,"\\right)"));var y;switch(s==="keep"?y=p.getIdentifier():y=p.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+m+"}{"+v+"}";case"OperatorNode:pow":switch(m="{"+m+"}",v="{"+v+"}",y){case"ConditionalNode":case"OperatorNode:divide":m="\\left(".concat(m,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return m+"~"+v}return m+f+v}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var b=u.map(function(w,x){return w=w.toTex(a),c[x]&&(w="\\left(".concat(w,"\\right)")),w});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?b.join("~"):b.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+u.map(function(w){return w.toTex(a)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return ro(i,"name",Mx),i},{isClass:!0,isNode:!0}),Dx="ParenthesisNode",AFe=["Node"],Lfe=Ce(Dx,AFe,t=>{var{Node:e}=t;class n extends e{constructor(i){if(super(),!hr(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return Dx}get isParenthesisNode(){return!0}_compile(i,o){return this.content._compile(i,o)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var o=i(this.content,"content",this);return new n(o)}clone(){return new n(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:Dx,content:this.content}}static fromJSON(i){return new n(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return ro(n,"name",Dx),n},{isClass:!0,isNode:!0}),Nx="RangeNode",TFe=["Node"],$fe=Ce(Nx,TFe,t=>{var{Node:e}=t;function n(i,o,a){var s=Ar(i,o,a),l={},u=Ar(i.start,o,a);if(l.start=u!==null&&u<=s||o==="all",i.step){var c=Ar(i.step,o,a);l.step=c!==null&&c<=s||o==="all"}var f=Ar(i.end,o,a);return l.end=f!==null&&f<=s||o==="all",l}class r extends e{constructor(o,a,s){if(super(),!hr(o))throw new TypeError("Node expected");if(!hr(a))throw new TypeError("Node expected");if(s&&!hr(s))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=o,this.end=a,this.step=s||null}get type(){return Nx}get isRangeNode(){return!0}needsEnd(){var o=this.filter(function(a){return ho(a)&&a.name==="end"});return o.length>0}_compile(o,a){var s=o.range,l=this.start._compile(o,a),u=this.end._compile(o,a);if(this.step){var c=this.step._compile(o,a);return function(d,h,p){return s(l(d,h,p),u(d,h,p),c(d,h,p))}}else return function(d,h,p){return s(l(d,h,p),u(d,h,p))}}forEach(o){o(this.start,"start",this),o(this.end,"end",this),this.step&&o(this.step,"step",this)}map(o){return new r(this._ifNode(o(this.start,"start",this)),this._ifNode(o(this.end,"end",this)),this.step&&this._ifNode(o(this.step,"step",this)))}clone(){return new r(this.start,this.end,this.step&&this.step)}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=n(this,a,o&&o.implicit),l,u=this.start.toString(o);if(s.start&&(u="("+u+")"),l=u,this.step){var c=this.step.toString(o);s.step&&(c="("+c+")"),l+=":"+c}var f=this.end.toString(o);return s.end&&(f="("+f+")"),l+=":"+f,l}toJSON(){return{mathjs:Nx,start:this.start,end:this.end,step:this.step}}static fromJSON(o){return new r(o.start,o.end,o.step)}_toHTML(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=n(this,a,o&&o.implicit),l,u=this.start.toHTML(o);if(s.start&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=u,this.step){var c=this.step.toHTML(o);s.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(o);return s.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+f,l}_toTex(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=n(this,a,o&&o.implicit),l=this.start.toTex(o);if(s.start&&(l="\\left(".concat(l,"\\right)")),this.step){var u=this.step.toTex(o);s.step&&(u="\\left(".concat(u,"\\right)")),l+=":"+u}var c=this.end.toTex(o);return s.end&&(c="\\left(".concat(c,"\\right)")),l+=":"+c,l}}return ro(r,"name",Nx),r},{isClass:!0,isNode:!0}),Ox="RelationalNode",MFe=["Node"],Bfe=Ce(Ox,MFe,t=>{var{Node:e}=t,n={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class r extends e{constructor(o,a){if(super(),!Array.isArray(o))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(a))throw new TypeError("Parameter params must be an array");if(o.length!==a.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=o,this.params=a}get type(){return Ox}get isRelationalNode(){return!0}_compile(o,a){var s=this,l=this.params.map(u=>u._compile(o,a));return function(c,f,d){for(var h,p=l[0](c,f,d),m=0;m<s.conditionals.length;m++){h=p,p=l[m+1](c,f,d);var g=Ja(o,s.conditionals[m]);if(!g(h,p))return!1}return!0}}forEach(o){this.params.forEach((a,s)=>o(a,"params["+s+"]",this),this)}map(o){return new r(this.conditionals.slice(),this.params.map((a,s)=>this._ifNode(o(a,"params["+s+"]",this)),this))}clone(){return new r(this.conditionals,this.params)}_toString(o){for(var a=o&&o.parenthesis?o.parenthesis:"keep",s=Ar(this,a,o&&o.implicit),l=this.params.map(function(f,d){var h=Ar(f,a,o&&o.implicit);return a==="all"||h!==null&&h<=s?"("+f.toString(o)+")":f.toString(o)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=" "+n[this.conditionals[c]],u+=" "+l[c+1];return u}toJSON(){return{mathjs:Ox,conditionals:this.conditionals,params:this.params}}static fromJSON(o){return new r(o.conditionals,o.params)}_toHTML(o){for(var a=o&&o.parenthesis?o.parenthesis:"keep",s=Ar(this,a,o&&o.implicit),l=this.params.map(function(f,d){var h=Ar(f,a,o&&o.implicit);return a==="all"||h!==null&&h<=s?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(o)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(o)}),u=l[0],c=0;c<this.conditionals.length;c++)u+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Zl(n[this.conditionals[c]])+"</span>"+l[c+1];return u}_toTex(o){for(var a=o&&o.parenthesis?o.parenthesis:"keep",s=Ar(this,a,o&&o.implicit),l=this.params.map(function(f,d){var h=Ar(f,a,o&&o.implicit);return a==="all"||h!==null&&h<=s?"\\left("+f.toTex(o)+"\right)":f.toTex(o)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=Yn[this.conditionals[c]]+l[c+1];return u}}return ro(r,"name",Ox),r},{isClass:!0,isNode:!0}),DFe="SymbolNode",NFe=["math","?Unit","Node"],zfe=Ce(DFe,NFe,t=>{var{math:e,Unit:n,Node:r}=t;function i(a){return n?n.isValuelessUnit(a):!1}class o extends r{constructor(s){if(super(),typeof s!="string")throw new TypeError('String expected for parameter "name"');this.name=s}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(s,l){var u=this.name;if(l[u]===!0)return function(f,d,h){return Ja(d,u)};if(u in s)return function(f,d,h){return f.has(u)?f.get(u):Ja(s,u)};var c=i(u);return function(f,d,h){return f.has(u)?f.get(u):c?new n(null,u):o.onUndefinedSymbol(u)}}forEach(s){}map(s){return this.clone()}static onUndefinedSymbol(s){throw new Error("Undefined symbol "+s)}clone(){return new o(this.name)}_toString(s){return this.name}_toHTML(s){var l=Zl(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(s){return new o(s.name)}_toTex(s){var l=!1;typeof e[this.name]>"u"&&i(this.name)&&(l=!0);var u=Nfe(this.name,l);return u[0]==="\\"?u:" "+u}}return o},{isClass:!0,isNode:!0}),Ix="FunctionNode",OFe=["math","Node","SymbolNode"],qfe=Ce(Ix,OFe,t=>{var e,{math:n,Node:r,SymbolNode:i}=t,o=l=>An(l,{truncate:78});function a(l,u,c){for(var f="",d=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,h=0,p;(p=d.exec(l))!==null;)if(f+=l.substring(h,p.index),h=p.index,p[0]==="$$")f+="$",h++;else{h+=p[0].length;var m=u[p[1]];if(!m)throw new ReferenceError("Template: Property "+p[1]+" does not exist.");if(p[2]===void 0)switch(typeof m){case"string":f+=m;break;case"object":if(hr(m))f+=m.toTex(c);else if(Array.isArray(m))f+=m.map(function(g,v){if(hr(g))return g.toTex(c);throw new TypeError("Template: "+p[1]+"["+v+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+p[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+p[1]+" has to be a Node, String or array of Nodes")}else if(hr(m[p[2]]&&m[p[2]]))f+=m[p[2]].toTex(c);else throw new TypeError("Template: "+p[1]+"["+p[2]+"] is not a Node.")}return f+=l.slice(h),f}class s extends r{constructor(u,c){if(super(),typeof u=="string"&&(u=new i(u)),!hr(u))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(hr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=u,this.args=c||[]}get name(){return this.fn.name||""}get type(){return Ix}get isFunctionNode(){return!0}_compile(u,c){var f=this.args.map(k=>k._compile(u,c));if(ho(this.fn)){var d=this.fn.name;if(c[d]){var v=this.args;return function(C,E,M){var A=Ja(E,d);if(typeof A!="function")throw new TypeError("Argument '".concat(d,"' was not a function; received: ").concat(o(A)));if(A.rawArgs)return A(v,u,Pb(C,E));var N=f.map(T=>T(C,E,M));return A.apply(A,N)}}else{var h=d in u?Ja(u,d):void 0,p=typeof h=="function"&&h.rawArgs===!0,m=k=>{var C;if(k.has(d))C=k.get(d);else if(d in u)C=Ja(u,d);else return s.onUndefinedFunction(d);if(typeof C=="function")return C;throw new TypeError("'".concat(d,`' is not a function; its value is:
  `).concat(o(C)))};if(p){var g=this.args;return function(C,E,M){var A=m(C);if(A.rawArgs===!0)return A(g,u,Pb(C,E));var N=f.map(T=>T(C,E,M));return A(...N)}}else switch(f.length){case 0:return function(C,E,M){var A=m(C);return A()};case 1:return function(C,E,M){var A=m(C),N=f[0];return A(N(C,E,M))};case 2:return function(C,E,M){var A=m(C),N=f[0],T=f[1];return A(N(C,E,M),T(C,E,M))};default:return function(C,E,M){var A=m(C),N=f.map(T=>T(C,E,M));return A(...N)}}}}else if(M0(this.fn)&&g1(this.fn.index)&&this.fn.index.isObjectProperty()){var y=this.fn.object._compile(u,c),b=this.fn.index.getObjectProperty(),w=this.args;return function(C,E,M){var A=y(C,E,M),N=HTe(A,b);if(N!=null&&N.rawArgs)return N(w,u,Pb(C,E));var T=f.map(I=>I(C,E,M));return N.apply(A,T)}}else{var x=this.fn.toString(),S=this.fn._compile(u,c),_=this.args;return function(C,E,M){var A=S(C,E,M);if(typeof A!="function")throw new TypeError("Expression '".concat(x,"' did not evaluate to a function; value is:")+`
  `.concat(o(A)));if(A.rawArgs)return A(_,u,Pb(C,E));var N=f.map(T=>T(C,E,M));return A.apply(A,N)}}}forEach(u){u(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)u(this.args[c],"args["+c+"]",this)}map(u){for(var c=this._ifNode(u(this.fn,"fn",this)),f=[],d=0;d<this.args.length;d++)f[d]=this._ifNode(u(this.args[d],"args["+d+"]",this));return new s(c,f)}clone(){return new s(this.fn,this.args.slice(0))}toString(u){var c,f=this.fn.toString(u);return u&&typeof u.handler=="object"&&wt(u.handler,f)&&(c=u.handler[f](this,u)),typeof c<"u"?c:super.toString(u)}_toString(u){var c=this.args.map(function(d){return d.toString(u)}),f=cy(this.fn)?"("+this.fn.toString(u)+")":this.fn.toString(u);return f+"("+c.join(", ")+")"}toJSON(){return{mathjs:Ix,fn:this.fn,args:this.args}}_toHTML(u){var c=this.args.map(function(f){return f.toHTML(u)});return'<span class="math-function">'+Zl(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(u){var c;return u&&typeof u.handler=="object"&&wt(u.handler,this.name)&&(c=u.handler[this.name](this,u)),typeof c<"u"?c:super.toTex(u)}_toTex(u){var c=this.args.map(function(h){return h.toTex(u)}),f;iW[this.name]&&(f=iW[this.name]),n[this.name]&&(typeof n[this.name].toTex=="function"||typeof n[this.name].toTex=="object"||typeof n[this.name].toTex=="string")&&(f=n[this.name].toTex);var d;switch(typeof f){case"function":d=f(this,u);break;case"string":d=a(f,this,u);break;case"object":switch(typeof f[c.length]){case"function":d=f[c.length](this,u);break;case"string":d=a(f[c.length],this,u);break}}return typeof d<"u"?d:a(xFe,this,u)}getIdentifier(){return this.type+":"+this.name}}return e=s,ro(s,"name",Ix),ro(s,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),ro(s,"fromJSON",function(l){return new e(l.fn,l.args)}),s},{isClass:!0,isNode:!0}),aW="parse",IFe=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],Vfe=Ce(aW,IFe,t=>{var{typed:e,numeric:n,config:r,AccessorNode:i,ArrayNode:o,AssignmentNode:a,BlockNode:s,ConditionalNode:l,ConstantNode:u,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:d,ObjectNode:h,OperatorNode:p,ParenthesisNode:m,RangeNode:g,RelationalNode:v,SymbolNode:y}=t,b=e(aW,{string:function(Se){return B(Se,{})},"Array | Matrix":function(Se){return w(Se,{})},"string, Object":function(Se,Ie){var qe=Ie.nodes!==void 0?Ie.nodes:{};return B(Se,qe)},"Array | Matrix, Object":w});function w(G){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=Se.nodes!==void 0?Se.nodes:{};return bn(G,function(qe){if(typeof qe!="string")throw new TypeError("String expected");return B(qe,Ie)})}var x={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},S={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},_={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},k={true:!0,false:!1,null:null,undefined:void 0},C=["NaN","Infinity"],E={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function M(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:x.NULL,nestingLevel:0,conditionalLevel:null}}function A(G,Se){return G.expression.substr(G.index,Se)}function N(G){return A(G,1)}function T(G){G.index++}function I(G){return G.expression.charAt(G.index-1)}function O(G){return G.expression.charAt(G.index+1)}function q(G){for(G.tokenType=x.NULL,G.token="",G.comment="";;){if(N(G)==="#")for(;N(G)!==`
`&&N(G)!=="";)G.comment+=N(G),T(G);if(b.isWhitespace(N(G),G.nestingLevel))T(G);else break}if(N(G)===""){G.tokenType=x.DELIMITER;return}if(N(G)===`
`&&!G.nestingLevel){G.tokenType=x.DELIMITER,G.token=N(G),T(G);return}var Se=N(G),Ie=A(G,2),qe=A(G,3);if(qe.length===3&&S[qe]){G.tokenType=x.DELIMITER,G.token=qe,T(G),T(G),T(G);return}if(Ie.length===2&&S[Ie]){G.tokenType=x.DELIMITER,G.token=Ie,T(G),T(G);return}if(S[Se]){G.tokenType=x.DELIMITER,G.token=Se,T(G);return}if(b.isDigitDot(Se)){G.tokenType=x.NUMBER;var Ze=A(G,2);if(Ze==="0b"||Ze==="0o"||Ze==="0x"){for(G.token+=N(G),T(G),G.token+=N(G),T(G);b.isHexDigit(N(G));)G.token+=N(G),T(G);if(N(G)===".")for(G.token+=".",T(G);b.isHexDigit(N(G));)G.token+=N(G),T(G);else if(N(G)==="i")for(G.token+="i",T(G);b.isDigit(N(G));)G.token+=N(G),T(G);return}if(N(G)==="."){if(G.token+=N(G),T(G),!b.isDigit(N(G))){G.tokenType=x.DELIMITER;return}}else{for(;b.isDigit(N(G));)G.token+=N(G),T(G);b.isDecimalMark(N(G),O(G))&&(G.token+=N(G),T(G))}for(;b.isDigit(N(G));)G.token+=N(G),T(G);if(N(G)==="E"||N(G)==="e"){if(b.isDigit(O(G))||O(G)==="-"||O(G)==="+"){if(G.token+=N(G),T(G),(N(G)==="+"||N(G)==="-")&&(G.token+=N(G),T(G)),!b.isDigit(N(G)))throw Fe(G,'Digit expected, got "'+N(G)+'"');for(;b.isDigit(N(G));)G.token+=N(G),T(G);if(b.isDecimalMark(N(G),O(G)))throw Fe(G,'Digit expected, got "'+N(G)+'"')}else if(b.isDecimalMark(O(G),G.expression.charAt(G.index+2)))throw T(G),Fe(G,'Digit expected, got "'+N(G)+'"')}return}if(b.isAlpha(N(G),I(G),O(G))){for(;b.isAlpha(N(G),I(G),O(G))||b.isDigit(N(G));)G.token+=N(G),T(G);wt(_,G.token)?G.tokenType=x.DELIMITER:G.tokenType=x.SYMBOL;return}for(G.tokenType=x.UNKNOWN;N(G)!=="";)G.token+=N(G),T(G);throw Fe(G,'Syntax error in part "'+G.token+'"')}function L(G){do q(G);while(G.token===`
`)}function Y(G){G.nestingLevel++}function R(G){G.nestingLevel--}b.isAlpha=function(Se,Ie,qe){return b.isValidLatinOrGreek(Se)||b.isValidMathSymbol(Se,qe)||b.isValidMathSymbol(Ie,Se)},b.isValidLatinOrGreek=function(Se){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(Se)},b.isValidMathSymbol=function(Se,Ie){return/^[\uD835]$/.test(Se)&&/^[\uDC00-\uDFFF]$/.test(Ie)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Ie)},b.isWhitespace=function(Se,Ie){return Se===" "||Se==="	"||Se===""||Se===`
`&&Ie>0},b.isDecimalMark=function(Se,Ie){return Se==="."&&Ie!=="/"&&Ie!=="*"&&Ie!=="^"},b.isDigitDot=function(Se){return Se>="0"&&Se<="9"||Se==="."},b.isDigit=function(Se){return Se>="0"&&Se<="9"},b.isHexDigit=function(Se){return Se>="0"&&Se<="9"||Se>="a"&&Se<="f"||Se>="A"&&Se<="F"};function B(G,Se){var Ie=M();Ji(Ie,{expression:G,extraNodes:Se}),q(Ie);var qe=z(Ie);if(Ie.token!=="")throw Ie.tokenType===x.DELIMITER?Ue(Ie,"Unexpected operator "+Ie.token):Fe(Ie,'Unexpected part "'+Ie.token+'"');return qe}function z(G){var Se,Ie=[],qe;for(G.token!==""&&G.token!==`
`&&G.token!==";"&&(Se=P(G),G.comment&&(Se.comment=G.comment));G.token===`
`||G.token===";";)Ie.length===0&&Se&&(qe=G.token!==";",Ie.push({node:Se,visible:qe})),q(G),G.token!==`
`&&G.token!==";"&&G.token!==""&&(Se=P(G),G.comment&&(Se.comment=G.comment),qe=G.token!==";",Ie.push({node:Se,visible:qe}));return Ie.length>0?new s(Ie):(Se||(Se=new u(void 0),G.comment&&(Se.comment=G.comment)),Se)}function P(G){var Se,Ie,qe,Ze,ft=$(G);if(G.token==="="){if(ho(ft))return Se=ft.name,L(G),qe=P(G),new a(new y(Se),qe);if(M0(ft))return L(G),qe=P(G),new a(ft.object,ft.index,qe);if(Wd(ft)&&ho(ft.fn)&&(Ze=!0,Ie=[],Se=ft.name,ft.args.forEach(function(Ot,lr){ho(Ot)?Ie[lr]=Ot.name:Ze=!1}),Ze))return L(G),qe=P(G),new c(Se,Ie,qe);throw Fe(G,"Invalid left hand side of assignment operator =")}return ft}function $(G){for(var Se=X(G);G.token==="?";){var Ie=G.conditionalLevel;G.conditionalLevel=G.nestingLevel,L(G);var qe=Se,Ze=P(G);if(G.token!==":")throw Fe(G,"False part of conditional expression expected");G.conditionalLevel=null,L(G);var ft=P(G);Se=new l(qe,Ze,ft),G.conditionalLevel=Ie}return Se}function X(G){for(var Se=K(G);G.token==="or";)L(G),Se=new p("or","or",[Se,K(G)]);return Se}function K(G){for(var Se=Z(G);G.token==="xor";)L(G),Se=new p("xor","xor",[Se,Z(G)]);return Se}function Z(G){for(var Se=te(G);G.token==="and";)L(G),Se=new p("and","and",[Se,te(G)]);return Se}function te(G){for(var Se=J(G);G.token==="|";)L(G),Se=new p("|","bitOr",[Se,J(G)]);return Se}function J(G){for(var Se=fe(G);G.token==="^|";)L(G),Se=new p("^|","bitXor",[Se,fe(G)]);return Se}function fe(G){for(var Se=ue(G);G.token==="&";)L(G),Se=new p("&","bitAnd",[Se,ue(G)]);return Se}function ue(G){for(var Se=[de(G)],Ie=[],qe={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};wt(qe,G.token);){var Ze={name:G.token,fn:qe[G.token]};Ie.push(Ze),L(G),Se.push(de(G))}return Se.length===1?Se[0]:Se.length===2?new p(Ie[0].name,Ie[0].fn,Se):new v(Ie.map(ft=>ft.fn),Se)}function de(G){var Se,Ie,qe,Ze;Se=ee(G);for(var ft={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};wt(ft,G.token);)Ie=G.token,qe=ft[Ie],L(G),Ze=[Se,ee(G)],Se=new p(Ie,qe,Ze);return Se}function ee(G){var Se,Ie,qe,Ze;Se=D(G);for(var ft={to:"to",in:"to"};wt(ft,G.token);)Ie=G.token,qe=ft[Ie],L(G),Ie==="in"&&"])},;".includes(G.token)?Se=new p("*","multiply",[Se,new y("in")],!0):(Ze=[Se,D(G)],Se=new p(Ie,qe,Ze));return Se}function D(G){var Se,Ie=[];if(G.token===":"?Se=new u(1):Se=oe(G),G.token===":"&&G.conditionalLevel!==G.nestingLevel){for(Ie.push(Se);G.token===":"&&Ie.length<3;)L(G),G.token===")"||G.token==="]"||G.token===","||G.token===""?Ie.push(new y("end")):Ie.push(oe(G));Ie.length===3?Se=new g(Ie[0],Ie[2],Ie[1]):Se=new g(Ie[0],Ie[1])}return Se}function oe(G){var Se,Ie,qe,Ze;Se=W(G);for(var ft={"+":"add","-":"subtract"};wt(ft,G.token);){Ie=G.token,qe=ft[Ie],L(G);var Ot=W(G);Ot.isPercentage?Ze=[Se,new p("*","multiply",[Se,Ot])]:Ze=[Se,Ot],Se=new p(Ie,qe,Ze)}return Se}function W(G){var Se,Ie,qe,Ze;Se=V(G),Ie=Se;for(var ft={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};wt(ft,G.token);)if(qe=G.token,Ze=ft[qe],L(G),qe==="%"&&G.tokenType===x.DELIMITER&&G.token!=="(")if(G.token!==""&&ft[G.token]){var Ot=new p("/","divide",[Se,new u(100)],!1,!0);qe=G.token,Ze=ft[qe],L(G),Ie=V(G),Se=new p(qe,Ze,[Ot,Ie])}else Se=new p("/","divide",[Se,new u(100)],!1,!0);else Ie=V(G),Se=new p(qe,Ze,[Se,Ie]);return Se}function V(G){var Se,Ie;for(Se=F(G),Ie=Se;G.tokenType===x.SYMBOL||G.token==="in"&&Fn(Se)||G.token==="in"&&Ni(Se)&&Se.fn==="unaryMinus"&&Fn(Se.args[0])||G.tokenType===x.NUMBER&&!Fn(Ie)&&(!Ni(Ie)||Ie.op==="!")||G.token==="(";)Ie=F(G),Se=new p("*","multiply",[Se,Ie],!0);return Se}function F(G){for(var Se=j(G),Ie=Se,qe=[];G.token==="/"&&jM(Ie);)if(qe.push(Ji({},G)),L(G),G.tokenType===x.NUMBER)if(qe.push(Ji({},G)),L(G),G.tokenType===x.SYMBOL||G.token==="("||G.token==="in")Ji(G,qe.pop()),qe.pop(),Ie=j(G),Se=new p("/","divide",[Se,Ie]);else{qe.pop(),Ji(G,qe.pop());break}else{Ji(G,qe.pop());break}return Se}function j(G){var Se,Ie,qe,Ze={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return wt(Ze,G.token)?(qe=Ze[G.token],Se=G.token,L(G),Ie=[j(G)],new p(Se,qe,Ie)):se(G)}function se(G){var Se,Ie,qe,Ze;return Se=pe(G),(G.token==="^"||G.token===".^")&&(Ie=G.token,qe=Ie==="^"?"pow":"dotPow",L(G),Ze=[Se,j(G)],Se=new p(Ie,qe,Ze)),Se}function pe(G){var Se,Ie,qe,Ze;Se=ae(G);for(var ft={"!":"factorial","'":"ctranspose"};wt(ft,G.token);)Ie=G.token,qe=ft[Ie],q(G),Ze=[Se],Se=new p(Ie,qe,Ze),Se=Q(G,Se);return Se}function ae(G){var Se=[];if(G.tokenType===x.SYMBOL&&wt(G.extraNodes,G.token)){var Ie=G.extraNodes[G.token];if(q(G),G.token==="("){if(Se=[],Y(G),q(G),G.token!==")")for(Se.push(P(G));G.token===",";)q(G),Se.push(P(G));if(G.token!==")")throw Fe(G,"Parenthesis ) expected");R(G),q(G)}return new Ie(Se)}return H(G)}function H(G){var Se,Ie;return G.tokenType===x.SYMBOL||G.tokenType===x.DELIMITER&&G.token in _?(Ie=G.token,q(G),wt(k,Ie)?Se=new u(k[Ie]):C.includes(Ie)?Se=new u(n(Ie,"number")):Se=new y(Ie),Se=Q(G,Se),Se):ie(G)}function Q(G,Se,Ie){for(var qe;G.token==="("||G.token==="["||G.token===".";)if(qe=[],G.token==="(")if(ho(Se)||M0(Se)){if(Y(G),q(G),G.token!==")")for(qe.push(P(G));G.token===",";)q(G),qe.push(P(G));if(G.token!==")")throw Fe(G,"Parenthesis ) expected");R(G),q(G),Se=new f(Se,qe)}else return Se;else if(G.token==="["){if(Y(G),q(G),G.token!=="]")for(qe.push(P(G));G.token===",";)q(G),qe.push(P(G));if(G.token!=="]")throw Fe(G,"Parenthesis ] expected");R(G),q(G),Se=new i(Se,new d(qe))}else{q(G);var Ze=G.tokenType===x.SYMBOL||G.tokenType===x.DELIMITER&&G.token in _;if(!Ze)throw Fe(G,"Property name expected after dot");qe.push(new u(G.token)),q(G);var ft=!0;Se=new i(Se,new d(qe,ft))}return Se}function ie(G){var Se,Ie;return G.token==='"'||G.token==="'"?(Ie=ce(G,G.token),Se=new u(Ie),Se=Q(G,Se),Se):ve(G)}function ce(G,Se){for(var Ie="";N(G)!==""&&N(G)!==Se;)if(N(G)==="\\"){T(G);var qe=N(G),Ze=E[qe];if(Ze!==void 0)Ie+=Ze,G.index+=1;else if(qe==="u"){var ft=G.expression.slice(G.index+1,G.index+5);if(/^[0-9A-Fa-f]{4}$/.test(ft))Ie+=String.fromCharCode(parseInt(ft,16)),G.index+=5;else throw Fe(G,"Invalid unicode character \\u".concat(ft))}else throw Fe(G,"Bad escape character \\".concat(qe))}else Ie+=N(G),T(G);if(q(G),G.token!==Se)throw Fe(G,"End of string ".concat(Se," expected"));return q(G),Ie}function ve(G){var Se,Ie,qe,Ze;if(G.token==="["){if(Y(G),q(G),G.token!=="]"){var ft=Te(G);if(G.token===";"){for(qe=1,Ie=[ft];G.token===";";)q(G),G.token!=="]"&&(Ie[qe]=Te(G),qe++);if(G.token!=="]")throw Fe(G,"End of matrix ] expected");R(G),q(G),Ze=Ie[0].items.length;for(var Ot=1;Ot<qe;Ot++)if(Ie[Ot].items.length!==Ze)throw Ue(G,"Column dimensions mismatch ("+Ie[Ot].items.length+" !== "+Ze+")");Se=new o(Ie)}else{if(G.token!=="]")throw Fe(G,"End of matrix ] expected");R(G),q(G),Se=ft}}else R(G),q(G),Se=new o([]);return Q(G,Se)}return be(G)}function Te(G){for(var Se=[P(G)],Ie=1;G.token===",";)q(G),G.token!=="]"&&G.token!==";"&&(Se[Ie]=P(G),Ie++);return new o(Se)}function be(G){if(G.token==="{"){Y(G);var Se,Ie={};do if(q(G),G.token!=="}"){if(G.token==='"'||G.token==="'")Se=ce(G,G.token);else if(G.tokenType===x.SYMBOL||G.tokenType===x.DELIMITER&&G.token in _)Se=G.token,q(G);else throw Fe(G,"Symbol or string expected as object key");if(G.token!==":")throw Fe(G,"Colon : expected after object key");q(G),Ie[Se]=P(G)}while(G.token===",");if(G.token!=="}")throw Fe(G,"Comma , or bracket } expected after object value");R(G),q(G);var qe=new h(Ie);return qe=Q(G,qe),qe}return _e(G)}function _e(G){var Se;if(G.tokenType===x.NUMBER){Se=G.token,q(G);var Ie=ip(Se,r),qe=n(Se,Ie);return new u(qe)}return ge(G)}function ge(G){var Se;if(G.token==="("){if(Y(G),q(G),Se=P(G),G.token!==")")throw Fe(G,"Parenthesis ) expected");return R(G),q(G),Se=new m(Se),Se=Q(G,Se),Se}return Ae(G)}function Ae(G){throw G.token===""?Fe(G,"Unexpected end of expression"):Fe(G,"Value expected")}function Me(G){return G.index-G.token.length+1}function Fe(G,Se){var Ie=Me(G),qe=new SyntaxError(Se+" (char "+Ie+")");return qe.char=Ie,qe}function Ue(G,Se){var Ie=Me(G),qe=new SyntaxError(Se+" (char "+Ie+")");return qe.char=Ie,qe}return e.addConversion({from:"string",to:"Node",convert:b}),b}),sW="compile",PFe=["typed","parse"],Hfe=Ce(sW,PFe,t=>{var{typed:e,parse:n}=t;return e(sW,{string:function(i){return n(i).compile()},"Array | Matrix":function(i){return bn(i,function(o){return n(o).compile()})}})}),lW="evaluate",RFe=["typed","parse"],Ufe=Ce(lW,RFe,t=>{var{typed:e,parse:n}=t;return e(lW,{string:function(i){var o=F3();return n(i).compile().evaluate(o)},"string, Map | Object":function(i,o){return n(i).compile().evaluate(o)},"Array | Matrix":function(i){var o=F3();return bn(i,function(a){return n(a).compile().evaluate(o)})},"Array | Matrix, Map | Object":function(i,o){return bn(i,function(a){return n(a).compile().evaluate(o)})}})}),FFe="Parser",LFe=["evaluate","parse"],jfe=Ce(FFe,LFe,t=>{var{evaluate:e,parse:n}=t;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:F3(),writable:!1})}r.prototype.type="Parser",r.prototype.isParser=!0,r.prototype.evaluate=function(o){return e(o,this.scope)},r.prototype.get=function(o){if(this.scope.has(o))return this.scope.get(o)},r.prototype.getAll=function(){return GTe(this.scope)},r.prototype.getAllAsMap=function(){return this.scope};function i(o){if(o.length===0)return!1;for(var a=0;a<o.length;a++){var s=o.charAt(a-1),l=o.charAt(a),u=o.charAt(a+1),c=n.isAlpha(l,s,u)||a>0&&n.isDigit(l);if(!c)return!1}return!0}return r.prototype.set=function(o,a){if(!i(o))throw new Error("Invalid variable name: '".concat(o,"'. Variable names must follow the specified rules."));return this.scope.set(o,a),a},r.prototype.remove=function(o){this.scope.delete(o)},r.prototype.clear=function(){this.scope.clear()},r},{isClass:!0}),uW="parser",$Fe=["typed","Parser"],Wfe=Ce(uW,$Fe,t=>{var{typed:e,Parser:n}=t;return e(uW,{"":function(){return new n}})}),cW="lup",BFe=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Gfe=Ce(cW,BFe,t=>{var{typed:e,matrix:n,abs:r,addScalar:i,divideScalar:o,multiplyScalar:a,subtractScalar:s,larger:l,equalScalar:u,unaryMinus:c,DenseMatrix:f,SparseMatrix:d,Spa:h}=t;return e(cW,{DenseMatrix:function(v){return p(v)},SparseMatrix:function(v){return m(v)},Array:function(v){var y=n(v),b=p(y);return{L:b.L.valueOf(),U:b.U.valueOf(),p:b.p}}});function p(g){var v=g._size[0],y=g._size[1],b=Math.min(v,y),w=Qt(g._data),x=[],S=[v,b],_=[],k=[b,y],C,E,M,A=[];for(C=0;C<v;C++)A[C]=C;for(E=0;E<y;E++){if(E>0)for(C=0;C<v;C++){var N=Math.min(C,E),T=0;for(M=0;M<N;M++)T=i(T,a(w[C][M],w[M][E]));w[C][E]=s(w[C][E],T)}var I=E,O=0,q=0;for(C=E;C<v;C++){var L=w[C][E],Y=r(L);l(Y,O)&&(I=C,O=Y,q=L)}if(E!==I&&(A[E]=[A[I],A[I]=A[E]][0],f._swapRows(E,I,w)),E<v)for(C=E+1;C<v;C++){var R=w[C][E];u(R,0)||(w[C][E]=o(w[C][E],q))}}for(E=0;E<y;E++)for(C=0;C<v;C++){if(E===0&&(C<y&&(_[C]=[]),x[C]=[]),C<E){C<y&&(_[C][E]=w[C][E]),E<v&&(x[C][E]=0);continue}if(C===E){C<y&&(_[C][E]=w[C][E]),E<v&&(x[C][E]=1);continue}C<y&&(_[C][E]=0),E<v&&(x[C][E]=w[C][E])}var B=new f({data:x,size:S}),z=new f({data:_,size:k}),P=[];for(C=0,b=A.length;C<b;C++)P[A[C]]=C;return{L:B,U:z,p:P,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function m(g){var v=g._size[0],y=g._size[1],b=Math.min(v,y),w=g._values,x=g._index,S=g._ptr,_=[],k=[],C=[],E=[v,b],M=[],A=[],N=[],T=[b,y],I,O,q,L=[],Y=[];for(I=0;I<v;I++)L[I]=I,Y[I]=I;var R=function(P,$){var X=Y[P],K=Y[$];L[X]=$,L[K]=P,Y[P]=K,Y[$]=X},B=function(){var P=new h;O<v&&(C.push(_.length),_.push(1),k.push(O)),N.push(M.length);var $=S[O],X=S[O+1];for(q=$;q<X;q++)I=x[q],P.set(L[I],w[q]);O>0&&P.forEach(0,O-1,function(J,fe){d._forEachRow(J,_,k,C,function(ue,de){ue>J&&P.accumulate(ue,c(a(de,fe)))})});var K=O,Z=P.get(O),te=r(Z);P.forEach(O+1,v-1,function(J,fe){var ue=r(fe);l(ue,te)&&(K=J,te=ue,Z=fe)}),O!==K&&(d._swapRows(O,K,E[1],_,k,C),d._swapRows(O,K,T[1],M,A,N),P.swap(O,K),R(O,K)),P.forEach(0,v-1,function(J,fe){J<=O?(M.push(fe),A.push(J)):(fe=o(fe,Z),u(fe,0)||(_.push(fe),k.push(J)))})};for(O=0;O<y;O++)B();return N.push(M.length),C.push(_.length),{L:new d({values:_,index:k,ptr:C,size:E}),U:new d({values:M,index:A,ptr:N,size:T}),p:L,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),fW="qr",zFe=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],Kfe=Ce(fW,zFe,t=>{var{typed:e,matrix:n,zeros:r,identity:i,isZero:o,equal:a,sign:s,sqrt:l,conj:u,unaryMinus:c,addScalar:f,divideScalar:d,multiplyScalar:h,subtractScalar:p,complex:m}=t;return Ji(e(fW,{DenseMatrix:function(w){return v(w)},SparseMatrix:function(w){return y()},Array:function(w){var x=n(w),S=v(x);return{Q:S.Q.valueOf(),R:S.R.valueOf()}}}),{_denseQRimpl:g});function g(b){var w=b._size[0],x=b._size[1],S=i([w],"dense"),_=S._data,k=b.clone(),C=k._data,E,M,A,N=r([w],"");for(A=0;A<Math.min(x,w);++A){var T=C[A][A],I=c(a(T,0)?1:s(T)),O=u(I),q=0;for(E=A;E<w;E++)q=f(q,h(C[E][A],u(C[E][A])));var L=h(I,l(q));if(!o(L)){var Y=p(T,L);for(N[A]=1,E=A+1;E<w;E++)N[E]=d(C[E][A],Y);var R=c(u(d(Y,L))),B=void 0;for(M=A;M<x;M++){for(B=0,E=A;E<w;E++)B=f(B,h(u(N[E]),C[E][M]));for(B=h(B,R),E=A;E<w;E++)C[E][M]=h(p(C[E][M],h(N[E],B)),O)}for(E=0;E<w;E++){for(B=0,M=A;M<w;M++)B=f(B,h(_[E][M],N[M]));for(B=h(B,R),M=A;M<w;++M)_[E][M]=d(p(_[E][M],h(B,u(N[M]))),O)}}}return{Q:S,R:k,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function v(b){var w=g(b),x=w.R._data;if(b._data.length>0)for(var S=x[0][0].type==="Complex"?m(0):0,_=0;_<x.length;++_)for(var k=0;k<_&&k<(x[0]||[]).length;++k)x[_][k]=S;return w}function y(b){throw new Error("qr not implemented for sparse matrices yet")}});function qFe(t,e,n,r){t._values;for(var i=t._index,o=t._ptr,a=t._size,s=t._datatype,l=a[0],u=a[1],c=null,f=[],d=[],h=0,p=0;p<u;p++){d[p]=h;for(var m=n?n[p]:p,g=o[m],v=o[m+1],y=g;y<v;y++){var b=i[y];f[h]=b,h++}}return d[u]=h,t.createSparseMatrix({values:c,index:f,ptr:d,size:[l,u],datatype:s})}function Xfe(t,e,n,r,i,o,a){var s=0;for(n[a]=t;s>=0;){var l=n[a+s],u=n[r+l];u===-1?(s--,o[e++]=l):(n[r+l]=n[i+u],++s,n[a+s]=u)}return e}function VFe(t,e){if(!t)return null;var n=0,r,i=[],o=[],a=0,s=e,l=2*e;for(r=0;r<e;r++)o[a+r]=-1;for(r=e-1;r>=0;r--)t[r]!==-1&&(o[s+r]=o[a+t[r]],o[a+t[r]]=r);for(r=0;r<e;r++)t[r]===-1&&(n=Xfe(r,n,o,a,s,i,l));return i}function HFe(t,e){if(!t)return null;var n=t._index,r=t._ptr,i=t._size,o=i[0],a=i[1],s=[],l=[],u=0,c=a,f,d;for(f=0;f<o;f++)l[c+f]=-1;for(var h=0;h<a;h++){s[h]=-1,l[u+h]=-1;for(var p=r[h],m=r[h+1],g=p;g<m;g++){var v=n[g];for(f=l[c+v];f!==-1&&f<h;f=d)d=l[u+f],l[u+f]=h,d===-1&&(s[f]=h);l[c+v]=h}}return s}function UFe(t,e,n){for(var r=t._values,i=t._index,o=t._ptr,a=t._size,s=a[1],l=0,u=0;u<s;u++){var c=o[u];for(o[u]=l;c<o[u+1];c++)e(i[c],u,r?r[c]:1,n)&&(i[l]=i[c],r&&(r[l]=r[c]),l++)}return o[s]=l,i.splice(l,i.length-l),r&&r.splice(l,r.length-l),l}function Uh(t){return-t-2}var jFe="csAmd",WFe=["add","multiply","transpose"],GFe=Ce(jFe,WFe,t=>{var{add:e,multiply:n,transpose:r}=t;return function(c,f){if(!f||c<=0||c>3)return null;var d=f._size,h=d[0],p=d[1],m=0,g=Math.max(16,10*Math.sqrt(p));g=Math.min(p-2,g);var v=i(c,f,h,p,g);UFe(v,l,null);for(var y=v._index,b=v._ptr,w=b[p],x=[],S=[],_=0,k=p+1,C=2*(p+1),E=3*(p+1),M=4*(p+1),A=5*(p+1),N=6*(p+1),T=7*(p+1),I=x,O=o(p,b,S,_,E,I,C,T,k,N,M,A),q=a(p,b,S,A,M,N,g,k,E,I,C),L=0,Y,R,B,z,P,$,X,K,Z,te,J,fe,ue,de,ee,D;q<p;){for(B=-1;L<p&&(B=S[E+L])===-1;L++);S[C+B]!==-1&&(I[S[C+B]]=-1),S[E+L]=S[C+B];var oe=S[M+B],W=S[k+B];q+=W;var V=0;S[k+B]=-W;var F=b[B],j=oe===0?F:w,se=j;for(z=1;z<=oe+1;z++){for(z>oe?($=B,X=F,K=S[_+B]-oe):($=y[F++],X=b[$],K=S[_+$]),P=1;P<=K;P++)Y=y[X++],!((Z=S[k+Y])<=0)&&(V+=Z,S[k+Y]=-Z,y[se++]=Y,S[C+Y]!==-1&&(I[S[C+Y]]=I[Y]),I[Y]!==-1?S[C+I[Y]]=S[C+Y]:S[E+S[A+Y]]=S[C+Y]);$!==B&&(b[$]=Uh(B),S[N+$]=0)}for(oe!==0&&(w=se),S[A+B]=V,b[B]=j,S[_+B]=se-j,S[M+B]=-2,O=s(O,m,S,N,p),te=j;te<se;te++)if(Y=y[te],!((J=S[M+Y])<=0)){Z=-S[k+Y];var pe=O-Z;for(F=b[Y],fe=b[Y]+J-1;F<=fe;F++)$=y[F],S[N+$]>=O?S[N+$]-=Z:S[N+$]!==0&&(S[N+$]=S[A+$]+pe)}for(te=j;te<se;te++){for(Y=y[te],fe=b[Y],ue=fe+S[M+Y]-1,de=fe,ee=0,D=0,F=fe;F<=ue;F++)if($=y[F],S[N+$]!==0){var ae=S[N+$]-O;ae>0?(D+=ae,y[de++]=$,ee+=$):(b[$]=Uh(B),S[N+$]=0)}S[M+Y]=de-fe+1;var H=de,Q=fe+S[_+Y];for(F=ue+1;F<Q;F++){R=y[F];var ie=S[k+R];ie<=0||(D+=ie,y[de++]=R,ee+=R)}D===0?(b[Y]=Uh(B),Z=-S[k+Y],V-=Z,W+=Z,q+=Z,S[k+Y]=0,S[M+Y]=-1):(S[A+Y]=Math.min(S[A+Y],D),y[de]=y[H],y[H]=y[fe],y[fe]=B,S[_+Y]=de-fe+1,ee=(ee<0?-ee:ee)%p,S[C+Y]=S[T+ee],S[T+ee]=Y,I[Y]=ee)}for(S[A+B]=V,m=Math.max(m,V),O=s(O+m,m,S,N,p),te=j;te<se;te++)if(Y=y[te],!(S[k+Y]>=0))for(ee=I[Y],Y=S[T+ee],S[T+ee]=-1;Y!==-1&&S[C+Y]!==-1;Y=S[C+Y],O++){for(K=S[_+Y],J=S[M+Y],F=b[Y]+1;F<=b[Y]+K-1;F++)S[N+y[F]]=O;var ce=Y;for(R=S[C+Y];R!==-1;){var ve=S[_+R]===K&&S[M+R]===J;for(F=b[R]+1;ve&&F<=b[R]+K-1;F++)S[N+y[F]]!==O&&(ve=0);ve?(b[R]=Uh(Y),S[k+Y]+=S[k+R],S[k+R]=0,S[M+R]=-1,R=S[C+R],S[C+ce]=R):(ce=R,R=S[C+R])}}for(F=j,te=j;te<se;te++)Y=y[te],!((Z=-S[k+Y])<=0)&&(S[k+Y]=Z,D=S[A+Y]+V-Z,D=Math.min(D,p-q-Z),S[E+D]!==-1&&(I[S[E+D]]=Y),S[C+Y]=S[E+D],I[Y]=-1,S[E+D]=Y,L=Math.min(L,D),S[A+Y]=D,y[F++]=Y);S[k+B]=W,(S[_+B]=F-j)===0&&(b[B]=-1,S[N+B]=0),oe!==0&&(w=F)}for(Y=0;Y<p;Y++)b[Y]=Uh(b[Y]);for(R=0;R<=p;R++)S[E+R]=-1;for(R=p;R>=0;R--)S[k+R]>0||(S[C+R]=S[E+b[R]],S[E+b[R]]=R);for($=p;$>=0;$--)S[k+$]<=0||b[$]!==-1&&(S[C+$]=S[E+b[$]],S[E+b[$]]=$);for(B=0,Y=0;Y<=p;Y++)b[Y]===-1&&(B=Xfe(Y,B,S,E,C,x,N));return x.splice(x.length-1,1),x};function i(u,c,f,d,h){var p=r(c);if(u===1&&d===f)return e(c,p);if(u===2){for(var m=p._index,g=p._ptr,v=0,y=0;y<f;y++){var b=g[y];if(g[y]=v,!(g[y+1]-b>h))for(var w=g[y+1];b<w;b++)m[v++]=m[b]}return g[f]=v,c=r(p),n(p,c)}return n(p,c)}function o(u,c,f,d,h,p,m,g,v,y,b,w){for(var x=0;x<u;x++)f[d+x]=c[x+1]-c[x];f[d+u]=0;for(var S=0;S<=u;S++)f[h+S]=-1,p[S]=-1,f[m+S]=-1,f[g+S]=-1,f[v+S]=1,f[y+S]=1,f[b+S]=0,f[w+S]=f[d+S];var _=s(0,0,f,y,u);return f[b+u]=-2,c[u]=-1,f[y+u]=0,_}function a(u,c,f,d,h,p,m,g,v,y,b){for(var w=0,x=0;x<u;x++){var S=f[d+x];if(S===0)f[h+x]=-2,w++,c[x]=-1,f[p+x]=0;else if(S>m)f[g+x]=0,f[h+x]=-1,w++,c[x]=Uh(u),f[g+u]++;else{var _=f[v+S];_!==-1&&(y[_]=x),f[b+x]=f[v+S],f[v+S]=x}}return w}function s(u,c,f,d,h){if(u<2||u+c<0){for(var p=0;p<h;p++)f[d+p]!==0&&(f[d+p]=1);u=2}return u}function l(u,c){return u!==c}});function KFe(t,e,n,r,i,o,a){var s,l,u=0,c;if(t<=e||n[r+e]<=n[i+t])return-1;n[i+t]=n[r+e];var f=n[o+t];if(n[o+t]=e,f===-1)u=1,c=t;else{for(u=2,c=f;c!==n[a+c];c=n[a+c]);for(s=f;s!==c;s=l)l=n[a+s],n[a+s]=c}return{jleaf:u,q:c}}var XFe="csCounts",YFe=["transpose"],ZFe=Ce(XFe,YFe,t=>{var{transpose:e}=t;return function(n,r,i,o){if(!n||!r||!i)return null;var a=n._size,s=a[0],l=a[1],u,c,f,d,h,p,m,g=4*l+(o?l+s+1:0),v=[],y=0,b=l,w=2*l,x=3*l,S=4*l,_=5*l+1;for(f=0;f<g;f++)v[f]=-1;var k=[],C=e(n),E=C._index,M=C._ptr;for(f=0;f<l;f++)for(c=i[f],k[c]=v[x+c]===-1?1:0;c!==-1&&v[x+c]===-1;c=r[c])v[x+c]=f;if(o){for(f=0;f<l;f++)v[i[f]]=f;for(u=0;u<s;u++){for(f=l,p=M[u],m=M[u+1],h=p;h<m;h++)f=Math.min(f,v[E[h]]);v[_+u]=v[S+f],v[S+f]=u}}for(u=0;u<l;u++)v[y+u]=u;for(f=0;f<l;f++){for(c=i[f],r[c]!==-1&&k[r[c]]--,d=o?v[S+f]:c;d!==-1;d=o?v[_+d]:-1)for(h=M[d];h<M[d+1];h++){u=E[h];var A=KFe(u,c,v,x,b,w,y);A.jleaf>=1&&k[c]++,A.jleaf===2&&k[A.q]--}r[c]!==-1&&(v[y+c]=r[c])}for(c=0;c<l;c++)r[c]!==-1&&(k[r[c]]+=k[c]);return k}}),JFe="csSqr",QFe=["add","multiply","transpose"],eLe=Ce(JFe,QFe,t=>{var{add:e,multiply:n,transpose:r}=t,i=GFe({add:e,multiply:n,transpose:r}),o=ZFe({transpose:r});return function(l,u,c){var f=u._ptr,d=u._size,h=d[1],p,m={};if(m.q=i(l,u),l&&!m.q)return null;if(c){var g=l?qFe(u,null,m.q):u;m.parent=HFe(g);var v=VFe(m.parent,h);if(m.cp=o(g,m.parent,v,1),g&&m.parent&&m.cp&&a(g,m))for(m.unz=0,p=0;p<h;p++)m.unz+=m.cp[p]}else m.unz=4*f[h]+h,m.lnz=m.unz;return m};function a(s,l){var u=s._ptr,c=s._index,f=s._size,d=f[0],h=f[1];l.pinv=[],l.leftmost=[];var p=l.parent,m=l.pinv,g=l.leftmost,v=[],y=0,b=d,w=d+h,x=d+2*h,S,_,k,C,E;for(_=0;_<h;_++)v[b+_]=-1,v[w+_]=-1,v[x+_]=0;for(S=0;S<d;S++)g[S]=-1;for(_=h-1;_>=0;_--)for(C=u[_],E=u[_+1],k=C;k<E;k++)g[c[k]]=_;for(S=d-1;S>=0;S--)m[S]=-1,_=g[S],_!==-1&&(v[x+_]++===0&&(v[w+_]=S),v[y+S]=v[b+_],v[b+_]=S);for(l.lnz=0,l.m2=d,_=0;_<h;_++)if(S=v[b+_],l.lnz++,S<0&&(S=l.m2++),m[S]=_,!(--x[_]<=0)){l.lnz+=v[x+_];var M=p[_];M!==-1&&(v[x+M]===0&&(v[w+M]=v[w+_]),v[y+v[w+_]]=v[b+M],v[b+M]=v[y+S],v[x+M]+=v[x+_])}for(S=0;S<d;S++)m[S]<0&&(m[S]=_++);return!0}});function hD(t,e){return t[e]<0}function Yfe(t,e){t[e]=Uh(t[e])}function dW(t){return t<0?Uh(t):t}function tLe(t,e,n,r,i){var o=e._index,a=e._ptr,s=e._size,l=s[1],u,c,f,d=0;for(r[0]=t;d>=0;){t=r[d];var h=i?i[t]:t;hD(a,t)||(Yfe(a,t),r[l+d]=h<0?0:dW(a[h]));var p=1;for(c=r[l+d],f=h<0?0:dW(a[h+1]);c<f;c++)if(u=o[c],!hD(a,u)){r[l+d]=c,r[++d]=u,p=0;break}p&&(d--,r[--n]=t)}return n}function nLe(t,e,n,r,i){var o=t._ptr,a=t._size,s=e._index,l=e._ptr,u=a[1],c,f,d,h=u;for(f=l[n],d=l[n+1],c=f;c<d;c++){var p=s[c];hD(o,p)||(h=tLe(p,t,h,r,i))}for(c=h;c<u;c++)Yfe(o,r[c]);return h}var rLe="csSpsolve",iLe=["divideScalar","multiply","subtract"],oLe=Ce(rLe,iLe,t=>{var{divideScalar:e,multiply:n,subtract:r}=t;return function(o,a,s,l,u,c,f){var d=o._values,h=o._index,p=o._ptr,m=o._size,g=m[1],v=a._values,y=a._index,b=a._ptr,w,x,S,_,k=nLe(o,a,s,l,c);for(w=k;w<g;w++)u[l[w]]=0;for(x=b[s],S=b[s+1],w=x;w<S;w++)u[y[w]]=v[w];for(var C=k;C<g;C++){var E=l[C],M=c?c[E]:E;if(!(M<0))for(x=p[M],S=p[M+1],u[E]=e(u[E],d[f?x:S-1]),w=f?x+1:x,_=f?S:S-1;w<_;w++){var A=h[w];u[A]=r(u[A],n(d[w],u[E]))}}return k}}),aLe="csLu",sLe=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],lLe=Ce(aLe,sLe,t=>{var{abs:e,divideScalar:n,multiply:r,subtract:i,larger:o,largerEq:a,SparseMatrix:s}=t,l=oLe({divideScalar:n,multiply:r,subtract:i});return function(c,f,d){if(!c)return null;var h=c._size,p=h[1],m,g=100,v=100;f&&(m=f.q,g=f.lnz||g,v=f.unz||v);var y=[],b=[],w=[],x=new s({values:y,index:b,ptr:w,size:[p,p]}),S=[],_=[],k=[],C=new s({values:S,index:_,ptr:k,size:[p,p]}),E=[],M,A,N=[],T=[];for(M=0;M<p;M++)N[M]=0,E[M]=-1,w[M+1]=0;g=0,v=0;for(var I=0;I<p;I++){w[I]=g,k[I]=v;var O=m?m[I]:I,q=l(x,c,O,T,N,E,1),L=-1,Y=-1;for(A=q;A<p;A++)if(M=T[A],E[M]<0){var R=e(N[M]);o(R,Y)&&(Y=R,L=M)}else _[v]=E[M],S[v++]=N[M];if(L===-1||Y<=0)return null;E[O]<0&&a(e(N[O]),r(Y,d))&&(L=O);var B=N[L];for(_[v]=I,S[v++]=B,E[L]=I,b[g]=L,y[g++]=1,A=q;A<p;A++)M=T[A],E[M]<0&&(b[g]=M,y[g++]=n(N[M],B)),N[M]=0}for(w[p]=g,k[p]=v,A=0;A<g;A++)b[A]=E[b[A]];return y.splice(g,y.length-g),b.splice(g,b.length-g),S.splice(v,S.length-v),_.splice(v,_.length-v),{L:x,U:C,pinv:E}}}),hW="slu",uLe=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Zfe=Ce(hW,uLe,t=>{var{typed:e,abs:n,add:r,multiply:i,transpose:o,divideScalar:a,subtract:s,larger:l,largerEq:u,SparseMatrix:c}=t,f=eLe({add:r,multiply:i,transpose:o}),d=lLe({abs:n,divideScalar:a,multiply:i,subtract:s,larger:l,largerEq:u,SparseMatrix:c});return e(hW,{"SparseMatrix, number, number":function(p,m,g){if(!Ft(m)||m<0||m>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var v=f(m,p,!1),y=d(p,v,g);return{L:y.L,U:y.U,p:y.pinv,q:v.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function pW(t,e){var n,r=e.length,i=[];if(t)for(n=0;n<r;n++)i[t[n]]=e[n];else for(n=0;n<r;n++)i[n]=e[n];return i}var mW="lusolve",cLe=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Jfe=Ce(mW,cLe,t=>{var{typed:e,matrix:n,lup:r,slu:i,usolve:o,lsolve:a,DenseMatrix:s}=t,l=Qw({DenseMatrix:s});return e(mW,{"Array, Array | Matrix":function(d,h){d=n(d);var p=r(d),m=c(p.L,p.U,p.p,null,h);return m.valueOf()},"DenseMatrix, Array | Matrix":function(d,h){var p=r(d);return c(p.L,p.U,p.p,null,h)},"SparseMatrix, Array | Matrix":function(d,h){var p=r(d);return c(p.L,p.U,p.p,null,h)},"SparseMatrix, Array | Matrix, number, number":function(d,h,p,m){var g=i(d,p,m);return c(g.L,g.U,g.p,g.q,h)},"Object, Array | Matrix":function(d,h){return c(d.L,d.U,d.p,d.q,h)}});function u(f){if(Ht(f))return f;if(wr(f))return n(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,d,h,p,m){f=u(f),d=u(d),h&&(m=l(f,m,!0),m._data=pW(h,m._data));var g=a(f,m),v=o(d,g);return p&&(v._data=pW(p,v._data)),v}}),gW="polynomialRoot",fLe=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],Qfe=Ce(gW,fLe,t=>{var{typed:e,isZero:n,equalScalar:r,add:i,subtract:o,multiply:a,divide:s,sqrt:l,unaryMinus:u,cbrt:c,typeOf:f,im:d,re:h}=t;return e(gW,{"number|Complex, ...number|Complex":(p,m)=>{for(var g=[p,...m];g.length>0&&n(g[g.length-1]);)g.pop();if(g.length<2)throw new RangeError("Polynomial [".concat(p,", ").concat(m,"] must have a non-zero non-constant coefficient"));switch(g.length){case 2:return[u(s(g[0],g[1]))];case 3:{var[v,y,b]=g,w=a(2,b),x=a(y,y),S=a(4,b,v);if(r(x,S))return[s(u(y),w)];var _=l(o(x,S));return[s(o(_,y),w),s(o(u(_),y),w)]}case 4:{var[k,C,E,M]=g,A=u(a(3,M)),N=a(E,E),T=a(3,M,C),I=i(a(2,E,E,E),a(27,M,M,k)),O=a(9,M,E,C);if(r(N,T)&&r(I,O))return[s(E,A)];var q=o(N,T),L=o(I,O),Y=i(a(18,M,E,C,k),a(E,E,C,C)),R=i(a(4,E,E,E,k),a(4,M,C,C,C),a(27,M,M,k,k));if(r(Y,R))return[s(o(a(4,M,E,C),i(a(9,M,M,k),a(E,E,E))),a(M,q)),s(o(a(9,M,k),a(E,C)),a(2,q))];var B;r(N,T)?B=L:B=s(i(L,l(o(a(L,L),a(4,q,q,q)))),2);var z=!0,P=c(B,z).toArray().map($=>s(i(E,$,s(q,$)),A));return P.map($=>f($)==="Complex"&&r(h($),h($)+d($))?h($):$)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(g))}}})}),dLe="Help",hLe=["evaluate"],ede=Ce(dLe,hLe,t=>{var{evaluate:e}=t;function n(r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!r)throw new Error('Argument "doc" missing');this.doc=r}return n.prototype.type="Help",n.prototype.isHelp=!0,n.prototype.toString=function(){var r=this.doc||{},i=`
`;if(r.name&&(i+="Name: "+r.name+`

`),r.category&&(i+="Category: "+r.category+`

`),r.description&&(i+=`Description:
    `+r.description+`

`),r.syntax&&(i+=`Syntax:
    `+r.syntax.join(`
    `)+`

`),r.examples){i+=`Examples:
`;for(var o=!1,a=e("config()"),s={config:f=>(o=!0,e("config(newConfig)",{newConfig:f}))},l=0;l<r.examples.length;l++){var u=r.examples[l];i+="    "+u+`
`;var c=void 0;try{c=e(u,s)}catch(f){c=f}c!==void 0&&!pP(c)&&(i+="        "+An(c,{precision:14})+`
`)}i+=`
`,o&&e("config(originalConfig)",{originalConfig:a})}return r.mayThrow&&r.mayThrow.length&&(i+="Throws: "+r.mayThrow.join(", ")+`

`),r.seealso&&r.seealso.length&&(i+="See also: "+r.seealso.join(", ")+`
`),i},n.prototype.toJSON=function(){var r=Qt(this.doc);return r.mathjs="Help",r},n.fromJSON=function(r){var i={};return Object.keys(r).filter(o=>o!=="mathjs").forEach(o=>{i[o]=r[o]}),new n(i)},n.prototype.valueOf=n.prototype.toString,n},{isClass:!0}),pLe="Chain",mLe=["?on","math","typed"],tde=Ce(pLe,mLe,t=>{var{on:e,math:n,typed:r}=t;function i(u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");mP(u)?this.value=u.value:this.value=u}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return An(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(u){return new i(u.value)};function o(u,c){typeof c=="function"&&(i.prototype[u]=s(c))}function a(u,c){Vp(i.prototype,u,function(){var d=c();if(typeof d=="function")return s(d)})}function s(u){return function(){if(arguments.length===0)return new i(u(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(r.isTypedFunction(u)){var d=r.resolve(u,c);if(d.params.length===1)throw new Error("chain function "+u.name+" cannot match rest parameter between chain value and additional arguments.");return new i(d.implementation.apply(u,c))}return new i(u.apply(u,c))}}i.createProxy=function(u,c){if(typeof u=="string")o(u,c);else{var f=function(p){wt(u,p)&&l[p]===void 0&&a(p,()=>u[p])};for(var d in u)f(d)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(n),e&&e("import",function(u,c,f){f||a(u,c)}),i},{isClass:!0}),vW={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},gLe={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},vLe={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},yLe={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},bLe={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},wLe={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},xLe={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},SLe={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},_Le={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},CLe={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},kLe={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},yW={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},ELe={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},ALe={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},TLe={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},MLe={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},DLe={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},NLe={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},OLe={name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},ILe={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},PLe={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},RLe={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},FLe={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},LLe={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix","number","range","string","unit"]},$Le={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},BLe={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},zLe={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},qLe={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},VLe={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},HLe={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},ULe={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},jLe={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},WLe={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},GLe={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},KLe={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},XLe={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},YLe={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},ZLe={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},JLe={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},QLe={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},e$e={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},t$e={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},n$e={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},r$e={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},i$e={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},o$e={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},a$e={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},s$e={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},l$e={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},u$e={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},c$e={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},f$e={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},d$e={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},h$e={name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},p$e={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},m$e={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},g$e={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},v$e={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},y$e={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},b$e={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},w$e={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},x$e={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},S$e={name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},_$e={name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},C$e={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},k$e={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},E$e={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax  1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},A$e={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},T$e={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},M$e={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},D$e={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},N$e={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},O$e={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},I$e={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},P$e={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},R$e={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},F$e={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},L$e={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},$$e={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},B$e={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>0, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},z$e={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},q$e={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},V$e={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},H$e={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},U$e={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},j$e={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},W$e={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},G$e={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},K$e={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},X$e={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},Y$e={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},Z$e={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},J$e={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},Q$e={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},eBe={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},tBe={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},nBe={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},rBe={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},iBe={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},oBe={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},aBe={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},sBe={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},lBe={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},uBe={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},cBe={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},fBe={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:["parser","parse","compile"]},dBe={name:"parser",category:"Expression",syntax:["parser()"],description:"Create a parser object that keeps a context of variables and their values, allowing the evaluation of expressions in that context.",examples:["myParser = parser()",'myParser.evaluate("sqrt(3^2 + 4^2)")','myParser.set("x", 3)','myParser.evaluate("y = x + 3")','myParser.evaluate(["y = x + 3", "y = y + 1"])','myParser.get("y")'],seealso:["evaluate","parse","compile"]},hBe={name:"parse",category:"Expression",syntax:["parse(expr)","parse(expr, options)","parse([expr1, expr2, expr3, ...])","parse([expr1, expr2, expr3, ...], options)"],description:"Parse an expression. Returns a node tree, which can be evaluated by invoking node.evaluate() or transformed into a functional object via node.compile().",examples:['node1 = parse("sqrt(3^2 + 4^2)")',"node1.evaluate()","code1 = node1.compile()","code1.evaluate()","scope = {a: 3, b: 4}",'node2 = parse("a * b")',"node2.evaluate(scope)","code2 = node2.compile()","code2.evaluate(scope)"],seealso:["parser","evaluate","compile"]},pBe={name:"compile",category:"Expression",syntax:["compile(expr) ","compile([expr1, expr2, expr3, ...])"],description:"Parse and compile an expression. Returns a an object with a function evaluate([scope]) to evaluate the compiled expression.",examples:['code1 = compile("sqrt(3^2 + 4^2)")',"code1.evaluate() ",'code2 = compile("a * b")',"code2.evaluate({a: 3, b: 4})"],seealso:["parser","parse","evaluate"]},mBe={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},gBe={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},vBe={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},yBe={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},bBe={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},wBe={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xBe={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},SBe={name:"mapSlices",category:"Matrix",syntax:["mapSlices(A, dim, callback)"],description:"Generate a matrix one dimension less than A by applying callback to each slice of A along dimension dim.",examples:["A = [[1, 2], [3, 4]]","mapSlices(A, 1, sum)","mapSlices(A, 2, prod)"],seealso:["map","forEach"]},_Be={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},CBe={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},kBe={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},EBe={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},ABe={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},TBe={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},MBe={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},DBe={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},NBe={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},OBe={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},IBe={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},PBe={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},RBe={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},FBe={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},LBe={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},$Be={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},BBe={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the MoorePenrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},zBe={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},qBe={name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},VBe={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},HBe={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},UBe={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},jBe={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},WBe={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},GBe={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},KBe={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},XBe={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},YBe={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},ZBe={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},JBe={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},QBe={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},eze={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},tze={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},nze={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},rze={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},ize={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},oze={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},aze={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},sze={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},lze={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},uze={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},cze={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},fze={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},dze={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},hze={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},pze={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},mze={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},gze={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},vze={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},yze={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},bze={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},wze={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},xze={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},Sze={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},_ze={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},Cze={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},kze={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not. Comparing a value with NaN returns false.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},Eze={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},Aze={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not. Comparing a value with NaN returns false.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},Tze={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},Mze={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},Dze={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},Nze={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},Oze={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},Ize={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},Pze={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},Rze={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},Fze={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},Lze={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},$ze={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},Bze={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zze={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},qze={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},Vze={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},Hze={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},Uze={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},jze={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},Wze={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},Gze={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},Kze={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},Xze={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},Yze={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},Zze={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},Jze={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},Qze={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},eqe={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","variance"]},tqe={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},nqe={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},rqe={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},iqe={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},oqe={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},aqe={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},sqe={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},lqe={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},uqe={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},cqe={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},fqe={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},dqe={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},hqe={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},pqe={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},mqe={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},gqe={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},vqe={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},yqe={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},bqe={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},wqe={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},xqe={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},Sqe={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},_qe={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},Cqe={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},kqe={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},Eqe={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},Aqe={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},Tqe={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},Mqe={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},Dqe={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},Nqe={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},Oqe={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},Iqe={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},Pqe={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},Rqe={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},Fqe={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},Lqe={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},$qe={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},Bqe={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},zqe={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},qqe={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]},Vqe={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},Hqe={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},Uqe={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},jqe={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},Wqe={bignumber:NLe,bigint:OLe,boolean:ILe,complex:PLe,createUnit:RLe,fraction:FLe,index:LLe,matrix:$Le,number:BLe,sparse:zLe,splitUnit:qLe,string:VLe,unit:HLe,e:vW,E:vW,false:gLe,i:vLe,Infinity:yLe,LN2:wLe,LN10:bLe,LOG2E:SLe,LOG10E:xLe,NaN:_Le,null:CLe,pi:yW,PI:yW,phi:kLe,SQRT1_2:ELe,SQRT2:ALe,tau:TLe,true:MLe,version:DLe,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant. Deprecated in favor of coulombConstant",examples:["coulombConstant"]},coulombConstant:{description:"Coulomb's constant",examples:["coulombConstant"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:GLe,lsolve:XLe,lsolveAll:YLe,lup:ZLe,lusolve:JLe,leafCount:KLe,polynomialRoot:QLe,resolve:n$e,simplify:r$e,simplifyConstant:i$e,simplifyCore:o$e,symbolicEqual:s$e,rationalize:t$e,slu:a$e,usolve:l$e,usolveAll:u$e,qr:e$e,abs:c$e,add:f$e,cbrt:d$e,ceil:h$e,cube:p$e,divide:m$e,dotDivide:g$e,dotMultiply:v$e,dotPow:y$e,exp:b$e,expm:w$e,expm1:x$e,fix:S$e,floor:_$e,gcd:C$e,hypot:k$e,lcm:A$e,log:T$e,log2:N$e,log1p:D$e,log10:M$e,mod:O$e,multiply:I$e,norm:P$e,nthRoot:R$e,nthRoots:F$e,pow:L$e,round:$$e,sign:B$e,sqrt:z$e,sqrtm:q$e,square:j$e,subtract:W$e,unaryMinus:G$e,unaryPlus:K$e,xgcd:X$e,invmod:E$e,bitAnd:Y$e,bitNot:Z$e,bitOr:J$e,bitXor:Q$e,leftShift:eBe,rightArithShift:tBe,rightLogShift:nBe,bellNumbers:rBe,catalan:iBe,composition:oBe,stirlingS2:aBe,config:ULe,import:jLe,typed:WLe,arg:sBe,conj:lBe,re:cBe,im:uBe,evaluate:fBe,help:mBe,parse:hBe,parser:dBe,compile:pBe,distance:gBe,intersect:vBe,and:yBe,not:bBe,or:wBe,xor:xBe,mapSlices:SBe,concat:CBe,count:kBe,cross:EBe,column:_Be,ctranspose:ABe,det:TBe,diag:MBe,diff:DBe,dot:NBe,getMatrixDataType:FBe,identity:LBe,filter:IBe,flatten:PBe,forEach:RBe,inv:$Be,pinv:BBe,eigs:OBe,kron:zBe,matrixFromFunction:HBe,matrixFromRows:UBe,matrixFromColumns:VBe,map:qBe,ones:jBe,partitionSelect:WBe,range:GBe,resize:XBe,reshape:KBe,rotate:YBe,rotationMatrix:ZBe,row:JBe,size:QBe,sort:eze,squeeze:tze,subset:nze,trace:rze,transpose:ize,zeros:oze,fft:aze,ifft:sze,sylvester:V$e,schur:H$e,lyap:U$e,solveODE:jqe,combinations:lze,combinationsWithRep:uze,factorial:cze,gamma:fze,kldivergence:hze,lgamma:dze,multinomial:pze,permutations:mze,pickRandom:gze,random:vze,randomInt:yze,compare:bze,compareNatural:wze,compareText:xze,deepEqual:Sze,equal:_ze,equalText:Cze,larger:kze,largerEq:Eze,smaller:Aze,smallerEq:Tze,unequal:Mze,setCartesian:Dze,setDifference:Nze,setDistinct:Oze,setIntersect:Ize,setIsSubset:Pze,setMultiplicity:Rze,setPowerset:Fze,setSize:Lze,setSymDifference:$ze,setUnion:Bze,zpk2tf:zze,freqz:qze,erf:Vze,zeta:Hze,cumsum:Qze,mad:Uze,max:jze,mean:Wze,median:Gze,min:Kze,mode:Xze,prod:Yze,quantileSeq:Zze,std:Jze,sum:eqe,variance:tqe,corr:nqe,acos:rqe,acosh:iqe,acot:oqe,acoth:aqe,acsc:sqe,acsch:lqe,asec:uqe,asech:cqe,asin:fqe,asinh:dqe,atan:hqe,atanh:mqe,atan2:pqe,cos:gqe,cosh:vqe,cot:yqe,coth:bqe,csc:wqe,csch:xqe,sec:Sqe,sech:_qe,sin:Cqe,sinh:kqe,tan:Eqe,tanh:Aqe,to:Tqe,clone:Dqe,format:Nqe,bin:Mqe,oct:Vqe,hex:Iqe,isNaN:Rqe,isInteger:Pqe,isNegative:Fqe,isNumeric:Lqe,hasNumericValue:Oqe,isPositive:$qe,isPrime:Bqe,isZero:zqe,print:Hqe,typeOf:Uqe,numeric:qqe},bW="help",Gqe=["typed","mathWithTransform","Help"],nde=Ce(bW,Gqe,t=>{var{typed:e,mathWithTransform:n,Help:r}=t;return e(bW,{any:function(o){var a,s=o;if(typeof o!="string"){for(a in n)if(wt(n,a)&&o===n[a]){s=a;break}}var l=Ja(Wqe,s);if(!l){var u=typeof s=="function"?s.name:s;throw new Error('No documentation found on "'+u+'"')}return new r(l)}})}),wW="chain",Kqe=["typed","Chain"],rde=Ce(wW,Kqe,t=>{var{typed:e,Chain:n}=t;return e(wW,{"":function(){return new n},any:function(i){return new n(i)}})}),xW="det",Xqe=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],ide=Ce(xW,Xqe,t=>{var{typed:e,matrix:n,subtractScalar:r,multiply:i,divideScalar:o,isZero:a,unaryMinus:s}=t;return e(xW,{any:function(c){return Qt(c)},"Array | Matrix":function(c){var f;switch(Ht(c)?f=c.size():Array.isArray(c)?(c=n(c),f=c.size()):f=[],f.length){case 0:return Qt(c);case 1:if(f[0]===1)return Qt(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+An(f)+")");case 2:{var d=f[0],h=f[1];if(d===h)return l(c.clone().valueOf(),d);if(h===0)return 1;throw new RangeError("Matrix must be square (size: "+An(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+An(f)+")")}}});function l(u,c,f){if(c===1)return Qt(u[0][0]);if(c===2)return r(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var d=!1,h=new Array(c).fill(0).map((_,k)=>k),p=0;p<c;p++){var m=h[p];if(a(u[m][p])){var g=void 0;for(g=p+1;g<c;g++)if(!a(u[h[g]][p])){m=h[g],h[g]=h[p],h[p]=m,d=!d;break}if(g===c)return u[m][p]}for(var v=u[m][p],y=p===0?1:u[h[p-1]][p-1],b=p+1;b<c;b++)for(var w=h[b],x=p+1;x<c;x++)u[w][x]=o(r(i(u[w][x],v),i(u[w][p],u[m][x])),y)}var S=u[h[c-1]][c-1];return d?s(S):S}}),SW="inv",Yqe=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],ode=Ce(SW,Yqe,t=>{var{typed:e,matrix:n,divideScalar:r,addScalar:i,multiply:o,unaryMinus:a,det:s,identity:l,abs:u}=t;return e(SW,{"Array | Matrix":function(d){var h=Ht(d)?d.size():ln(d);switch(h.length){case 1:if(h[0]===1)return Ht(d)?n([r(1,d.valueOf()[0])]):[r(1,d[0])];throw new RangeError("Matrix must be square (size: "+An(h)+")");case 2:{var p=h[0],m=h[1];if(p===m)return Ht(d)?n(c(d.valueOf(),p,m),d.storage()):c(d,p,m);throw new RangeError("Matrix must be square (size: "+An(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+An(h)+")")}},any:function(d){return r(1,d)}});function c(f,d,h){var p,m,g,v,y;if(d===1){if(v=f[0][0],v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,v)]]}else if(d===2){var b=s(f);if(b===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(f[1][1],b),r(a(f[0][1]),b)],[r(a(f[1][0]),b),r(f[0][0],b)]]}else{var w=f.concat();for(p=0;p<d;p++)w[p]=w[p].concat();for(var x=l(d).valueOf(),S=0;S<h;S++){var _=u(w[S][S]),k=S;for(p=S+1;p<d;)u(w[p][S])>_&&(_=u(w[p][S]),k=p),p++;if(_===0)throw Error("Cannot calculate inverse, determinant is zero");p=k,p!==S&&(y=w[S],w[S]=w[p],w[p]=y,y=x[S],x[S]=x[p],x[p]=y);var C=w[S],E=x[S];for(p=0;p<d;p++){var M=w[p],A=x[p];if(p!==S){if(M[S]!==0){for(g=r(a(M[S]),C[S]),m=S;m<h;m++)M[m]=i(M[m],o(g,C[m]));for(m=0;m<h;m++)A[m]=i(A[m],o(g,E[m]))}}else{for(g=C[S],m=S;m<h;m++)M[m]=r(M[m],g);for(m=0;m<h;m++)A[m]=r(A[m],g)}}}return x}}}),_W="pinv",Zqe=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],ade=Ce(_W,Zqe,t=>{var{typed:e,matrix:n,inv:r,deepEqual:i,equal:o,dotDivide:a,dot:s,ctranspose:l,divideScalar:u,multiply:c,add:f,Complex:d}=t;return e(_W,{"Array | Matrix":function(b){var w=Ht(b)?b.size():ln(b);switch(w.length){case 1:return v(b)?l(b):w[0]===1?r(b):a(l(b),s(b,b));case 2:{if(v(b))return l(b);var x=w[0],S=w[1];if(x===S)try{return r(b)}catch(_){if(!(_ instanceof Error&&_.message.match(/Cannot calculate inverse, determinant is zero/)))throw _}return Ht(b)?n(h(b.valueOf(),x,S),b.storage()):h(b,x,S)}default:throw new RangeError("Matrix must be two dimensional (size: "+An(w)+")")}},any:function(b){return o(b,0)?Qt(b):u(1,b)}});function h(y,b,w){var{C:x,F:S}=m(y,b,w),_=c(r(c(l(x),x)),l(x)),k=c(l(S),r(c(S,l(S))));return c(k,_)}function p(y,b,w){for(var x=Qt(y),S=0,_=0;_<b;_++){if(w<=S)return x;for(var k=_;g(x[k][S]);)if(k++,b===k&&(k=_,S++,w===S))return x;[x[k],x[_]]=[x[_],x[k]];for(var C=x[_][S],E=0;E<w;E++)x[_][E]=a(x[_][E],C);for(var M=0;M<b;M++)if(M!==_){C=x[M][S];for(var A=0;A<w;A++)x[M][A]=f(x[M][A],c(-1,c(C,x[_][A])))}S++}return x}function m(y,b,w){var x=p(y,b,w),S=y.map((k,C)=>k.filter((E,M)=>M<b&&!g(s(x[M],x[M])))),_=x.filter((k,C)=>!g(s(x[C],x[C])));return{C:S,F:_}}function g(y){return o(f(y,d(1,1)),f(0,d(1,1)))}function v(y){return i(f(y,d(1,1)),f(c(y,0),d(1,1)))}});function Jqe(t){var{addScalar:e,subtract:n,flatten:r,multiply:i,multiplyScalar:o,divideScalar:a,sqrt:s,abs:l,bignumber:u,diag:c,size:f,reshape:d,inv:h,qr:p,usolve:m,usolveAll:g,equal:v,complex:y,larger:b,smaller:w,matrixFromColumns:x,dot:S}=t;function _(z,P,$,X){var K=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,Z=k(z,P,$,X,K);C(z,P,$,X,K,Z);var{values:te,C:J}=E(z,P,$,X,K);if(K){var fe=M(z,P,J,Z,te,$,X);return{values:te,eigenvectors:fe}}return{values:te}}function k(z,P,$,X,K){var Z=X==="BigNumber",te=X==="Complex",J=Z?u(0):0,fe=Z?u(1):te?y(1):1,ue=Z?u(1):1,de=Z?u(10):2,ee=o(de,de),D;K&&(D=Array(P).fill(fe));for(var oe=!1;!oe;){oe=!0;for(var W=0;W<P;W++){for(var V=J,F=J,j=0;j<P;j++)W!==j&&(V=e(V,l(z[j][W])),F=e(F,l(z[W][j])));if(!v(V,0)&&!v(F,0)){for(var se=ue,pe=V,ae=a(F,de),H=o(F,de);w(pe,ae);)pe=o(pe,ee),se=o(se,de);for(;b(pe,H);)pe=a(pe,ee),se=a(se,de);var Q=w(a(e(pe,F),se),o(e(V,F),.95));if(Q){oe=!1;for(var ie=a(1,se),ce=0;ce<P;ce++)W!==ce&&(z[W][ce]=o(z[W][ce],ie),z[ce][W]=o(z[ce][W],se));K&&(D[W]=o(D[W],ie))}}}}return K?c(D):null}function C(z,P,$,X,K,Z){var te=X==="BigNumber",J=X==="Complex",fe=te?u(0):J?y(0):0;te&&($=u($));for(var ue=0;ue<P-2;ue++){for(var de=0,ee=fe,D=ue+1;D<P;D++){var oe=z[D][ue];w(l(ee),l(oe))&&(ee=oe,de=D)}if(!w(l(ee),$)){if(de!==ue+1){var W=z[de];z[de]=z[ue+1],z[ue+1]=W;for(var V=0;V<P;V++){var F=z[V][de];z[V][de]=z[V][ue+1],z[V][ue+1]=F}if(K){var j=Z[de];Z[de]=Z[ue+1],Z[ue+1]=j}}for(var se=ue+2;se<P;se++){var pe=a(z[se][ue],ee);if(pe!==0){for(var ae=0;ae<P;ae++)z[se][ae]=n(z[se][ae],o(pe,z[ue+1][ae]));for(var H=0;H<P;H++)z[H][ue+1]=e(z[H][ue+1],o(pe,z[H][se]));if(K)for(var Q=0;Q<P;Q++)Z[se][Q]=n(Z[se][Q],o(pe,Z[ue+1][Q]))}}}}return Z}function E(z,P,$,X,K){var Z=X==="BigNumber",te=X==="Complex",J=Z?u(1):te?y(1):1;Z&&($=u($));for(var fe=Qt(z),ue=[],de=P,ee=[],D=K?c(Array(P).fill(J)):void 0,oe=K?c(Array(de).fill(J)):void 0,W=0;W<=100;){W+=1;for(var V=fe[de-1][de-1],F=0;F<de;F++)fe[F][F]=n(fe[F][F],V);var{Q:j,R:se}=p(fe);fe=i(se,j);for(var pe=0;pe<de;pe++)fe[pe][pe]=e(fe[pe][pe],V);if(K&&(oe=i(oe,j)),de===1||w(l(fe[de-1][de-2]),$)){W=0,ue.push(fe[de-1][de-1]),K&&(ee.unshift([[1]]),T(oe,P),D=i(D,oe),de>1&&(oe=c(Array(de-1).fill(J)))),de-=1,fe.pop();for(var ae=0;ae<de;ae++)fe[ae].pop()}else if(de===2||w(l(fe[de-2][de-3]),$)){W=0;var H=A(fe[de-2][de-2],fe[de-2][de-1],fe[de-1][de-2],fe[de-1][de-1]);ue.push(...H),K&&(ee.unshift(N(fe[de-2][de-2],fe[de-2][de-1],fe[de-1][de-2],fe[de-1][de-1],H[0],H[1],$,X)),T(oe,P),D=i(D,oe),de>2&&(oe=c(Array(de-2).fill(J)))),de-=2,fe.pop(),fe.pop();for(var Q=0;Q<de;Q++)fe[Q].pop(),fe[Q].pop()}if(de===0)break}if(ue.sort((ve,Te)=>+n(l(ve),l(Te))),W>100){var ie=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+ue.join(", "));throw ie.values=ue,ie.vectors=[],ie}var ce=K?i(D,I(ee,P)):void 0;return{values:ue,C:ce}}function M(z,P,$,X,K,Z,te){var J=h($),fe=i(J,z,$),ue=te==="BigNumber",de=te==="Complex",ee=ue?u(0):de?y(0):0,D=ue?u(1):de?y(1):1,oe=[],W=[];for(var V of K){var F=O(oe,V,v);F===-1?(oe.push(V),W.push(1)):W[F]+=1}for(var j=[],se=oe.length,pe=Array(P).fill(ee),ae=c(Array(P).fill(D)),H=function(){var ce=oe[Q],ve=n(fe,i(ce,ae)),Te=g(ve,pe);for(Te.shift();Te.length<W[Q];){var be=q(ve,P,Te,Z,te);if(be===null)break;Te.push(be)}var _e=i(h(X),$);Te=Te.map(ge=>i(_e,ge)),j.push(...Te.map(ge=>({value:ce,vector:r(ge)})))},Q=0;Q<se;Q++)H();return j}function A(z,P,$,X){var K=e(z,X),Z=n(o(z,X),o(P,$)),te=o(K,.5),J=o(s(n(o(K,K),o(4,Z))),.5);return[e(te,J),n(te,J)]}function N(z,P,$,X,K,Z,te,J){var fe=J==="BigNumber",ue=J==="Complex",de=fe?u(0):ue?y(0):0,ee=fe?u(1):ue?y(1):1;if(w(l($),te))return[[ee,de],[de,ee]];if(b(l(n(K,Z)),te))return[[n(K,X),n(Z,X)],[$,$]];var D=n(z,K),oe=n(X,K);return w(l(P),te)&&w(l(oe),te)?[[D,ee],[$,de]]:[[P,de],[oe,ee]]}function T(z,P){for(var $=0;$<z.length;$++)z[$].push(...Array(P-z[$].length).fill(0));for(var X=z.length;X<P;X++)z.push(Array(P).fill(0)),z[X][X]=1;return z}function I(z,P){for(var $=[],X=0;X<P;X++)$[X]=Array(P).fill(0);var K=0;for(var Z of z){for(var te=Z.length,J=0;J<te;J++)for(var fe=0;fe<te;fe++)$[K+J][K+fe]=Z[J][fe];K+=te}return $}function O(z,P,$){for(var X=0;X<z.length;X++)if($(z[X],P))return X;return-1}function q(z,P,$,X,K){for(var Z=K==="BigNumber"?u(1e3):1e3,te,J=0;J<5;++J){te=L(P,$,K);try{te=m(z,te)}catch{continue}if(b(R(te),Z))break}if(J>=5)return null;for(J=0;;){var fe=m(z,te);if(w(R(Y(te,[fe])),X))break;if(++J>=10)return null;te=B(fe)}return te}function L(z,P,$){var X=$==="BigNumber",K=$==="Complex",Z=Array(z).fill(0).map(te=>2*Math.random()-1);return X&&(Z=Z.map(te=>u(te))),K&&(Z=Z.map(te=>y(te))),Z=Y(Z,P),B(Z,$)}function Y(z,P){var $=f(z);for(var X of P)X=d(X,$),z=n(z,i(a(S(X,z),S(X,X)),X));return z}function R(z){return l(s(S(z,z)))}function B(z,P){var $=P==="BigNumber",X=P==="Complex",K=$?u(1):X?y(1):1;return i(a(K,R(z)),z)}return _}function Qqe(t){var{config:e,addScalar:n,subtract:r,abs:i,atan:o,cos:a,sin:s,multiplyScalar:l,inv:u,bignumber:c,multiply:f,add:d}=t;function h(C,E){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.relTol,A=arguments.length>3?arguments[3]:void 0,N=arguments.length>4?arguments[4]:void 0;if(A==="number")return p(C,M,N);if(A==="BigNumber")return m(C,M,N);throw TypeError("Unsupported data type: "+A)}function p(C,E,M){var A=C.length,N=Math.abs(E/A),T,I;if(M){I=new Array(A);for(var O=0;O<A;O++)I[O]=Array(A).fill(0),I[O][O]=1}for(var q=S(C);Math.abs(q[1])>=Math.abs(N);){var L=q[0][0],Y=q[0][1];T=g(C[L][L],C[Y][Y],C[L][Y]),C=x(C,T,L,Y),M&&(I=y(I,T,L,Y)),q=S(C)}for(var R=Array(A).fill(0),B=0;B<A;B++)R[B]=C[B][B];return k(Qt(R),I,M)}function m(C,E,M){var A=C.length,N=i(E/A),T,I;if(M){I=new Array(A);for(var O=0;O<A;O++)I[O]=Array(A).fill(0),I[O][O]=1}for(var q=_(C);i(q[1])>=i(N);){var L=q[0][0],Y=q[0][1];T=v(C[L][L],C[Y][Y],C[L][Y]),C=w(C,T,L,Y),M&&(I=b(I,T,L,Y)),q=_(C)}for(var R=Array(A).fill(0),B=0;B<A;B++)R[B]=C[B][B];return k(Qt(R),I,M)}function g(C,E,M){var A=E-C;return Math.abs(A)<=e.relTol?Math.PI/4:.5*Math.atan(2*M/(E-C))}function v(C,E,M){var A=r(E,C);return i(A)<=e.relTol?c(-1).acos().div(4):l(.5,o(f(2,M,u(A))))}function y(C,E,M,A){for(var N=C.length,T=Math.cos(E),I=Math.sin(E),O=Array(N).fill(0),q=Array(N).fill(0),L=0;L<N;L++)O[L]=T*C[L][M]-I*C[L][A],q[L]=I*C[L][M]+T*C[L][A];for(var Y=0;Y<N;Y++)C[Y][M]=O[Y],C[Y][A]=q[Y];return C}function b(C,E,M,A){for(var N=C.length,T=a(E),I=s(E),O=Array(N).fill(c(0)),q=Array(N).fill(c(0)),L=0;L<N;L++)O[L]=r(l(T,C[L][M]),l(I,C[L][A])),q[L]=n(l(I,C[L][M]),l(T,C[L][A]));for(var Y=0;Y<N;Y++)C[Y][M]=O[Y],C[Y][A]=q[Y];return C}function w(C,E,M,A){for(var N=C.length,T=c(a(E)),I=c(s(E)),O=l(T,T),q=l(I,I),L=Array(N).fill(c(0)),Y=Array(N).fill(c(0)),R=f(c(2),T,I,C[M][A]),B=n(r(l(O,C[M][M]),R),l(q,C[A][A])),z=d(l(q,C[M][M]),R,l(O,C[A][A])),P=0;P<N;P++)L[P]=r(l(T,C[M][P]),l(I,C[A][P])),Y[P]=n(l(I,C[M][P]),l(T,C[A][P]));C[M][M]=B,C[A][A]=z,C[M][A]=c(0),C[A][M]=c(0);for(var $=0;$<N;$++)$!==M&&$!==A&&(C[M][$]=L[$],C[$][M]=L[$],C[A][$]=Y[$],C[$][A]=Y[$]);return C}function x(C,E,M,A){for(var N=C.length,T=Math.cos(E),I=Math.sin(E),O=T*T,q=I*I,L=Array(N).fill(0),Y=Array(N).fill(0),R=O*C[M][M]-2*T*I*C[M][A]+q*C[A][A],B=q*C[M][M]+2*T*I*C[M][A]+O*C[A][A],z=0;z<N;z++)L[z]=T*C[M][z]-I*C[A][z],Y[z]=I*C[M][z]+T*C[A][z];C[M][M]=R,C[A][A]=B,C[M][A]=0,C[A][M]=0;for(var P=0;P<N;P++)P!==M&&P!==A&&(C[M][P]=L[P],C[P][M]=L[P],C[A][P]=Y[P],C[P][A]=Y[P]);return C}function S(C){for(var E=C.length,M=0,A=[0,1],N=0;N<E;N++)for(var T=N+1;T<E;T++)Math.abs(M)<Math.abs(C[N][T])&&(M=Math.abs(C[N][T]),A=[N,T]);return[A,M]}function _(C){for(var E=C.length,M=0,A=[0,1],N=0;N<E;N++)for(var T=N+1;T<E;T++)i(M)<i(C[N][T])&&(M=i(C[N][T]),A=[N,T]);return[A,M]}function k(C,E,M){var A=C.length,N=Array(A),T;if(M){T=Array(A);for(var I=0;I<A;I++)T[I]=Array(A)}for(var O=0;O<A;O++){for(var q=0,L=C[0],Y=0;Y<C.length;Y++)i(C[Y])<i(L)&&(q=Y,L=C[q]);if(N[O]=C.splice(q,1)[0],M)for(var R=0;R<A;R++)T[O][R]=E[R][q],E[R].splice(q,1)}if(!M)return{values:N};var B=T.map((z,P)=>({value:N[P],vector:z}));return{values:N,eigenvectors:B}}return h}var eVe="eigs",tVe=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],sde=Ce(eVe,tVe,t=>{var{config:e,typed:n,matrix:r,addScalar:i,subtract:o,equal:a,abs:s,atan:l,cos:u,sin:c,multiplyScalar:f,divideScalar:d,inv:h,bignumber:p,multiply:m,add:g,larger:v,column:y,flatten:b,number:w,complex:x,sqrt:S,diag:_,size:k,reshape:C,qr:E,usolve:M,usolveAll:A,im:N,re:T,smaller:I,matrixFromColumns:O,dot:q}=t,L=Qqe({config:e,addScalar:i,subtract:o,abs:s,atan:l,cos:u,sin:c,multiplyScalar:f,inv:h,bignumber:p,multiply:m,add:g}),Y=Jqe({addScalar:i,subtract:o,multiply:m,multiplyScalar:f,flatten:b,divideScalar:d,sqrt:S,abs:s,bignumber:p,diag:_,size:k,reshape:C,qr:E,inv:h,usolve:M,usolveAll:A,equal:a,complex:x,larger:v,smaller:I,matrixFromColumns:O,dot:q});return n("eigs",{Array:function(Z){return R(r(Z))},"Array, number|BigNumber":function(Z,te){return R(r(Z),{precision:te})},"Array, Object"(K,Z){return R(r(K),Z)},Matrix:function(Z){return R(Z,{matricize:!0})},"Matrix, number|BigNumber":function(Z,te){return R(Z,{precision:te,matricize:!0})},"Matrix, Object":function(Z,te){var J={matricize:!0};return Ji(J,te),R(Z,J)}});function R(K){var Z,te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J="eigenvectors"in te?te.eigenvectors:!0,fe=(Z=te.precision)!==null&&Z!==void 0?Z:e.relTol,ue=B(K,fe,J);return te.matricize&&(ue.values=r(ue.values),J&&(ue.eigenvectors=ue.eigenvectors.map(de=>{var{value:ee,vector:D}=de;return{value:ee,vector:r(D)}}))),J&&Object.defineProperty(ue,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),ue}function B(K,Z,te){var J=K.toArray(),fe=K.size();if(fe.length!==2||fe[0]!==fe[1])throw new RangeError("Matrix must be square (size: ".concat(An(fe),")"));var ue=fe[0];if(P(J,ue,Z)&&($(J,ue),z(J,ue,Z))){var de=X(K,J,ue);return L(J,ue,Z,de,te)}var ee=X(K,J,ue);return Y(J,ue,Z,ee,te)}function z(K,Z,te){for(var J=0;J<Z;J++)for(var fe=J;fe<Z;fe++)if(v(p(s(o(K[J][fe],K[fe][J]))),te))return!1;return!0}function P(K,Z,te){for(var J=0;J<Z;J++)for(var fe=0;fe<Z;fe++)if(v(p(s(N(K[J][fe]))),te))return!1;return!0}function $(K,Z){for(var te=0;te<Z;te++)for(var J=0;J<Z;J++)K[te][J]=T(K[te][J])}function X(K,Z,te){var J=K.datatype();if(J==="number"||J==="BigNumber"||J==="Complex")return J;for(var fe=!1,ue=!1,de=!1,ee=0;ee<te;ee++)for(var D=0;D<te;D++){var oe=Z[ee][D];if(mn(oe)||p1(oe))fe=!0;else if(hn(oe))ue=!0;else if(Xu(oe))de=!0;else throw TypeError("Unsupported type in Matrix: "+Tr(oe))}if(ue&&de&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),de){for(var W=0;W<te;W++)for(var V=0;V<te;V++)Z[W][V]=x(Z[W][V]);return"Complex"}if(ue){for(var F=0;F<te;F++)for(var j=0;j<te;j++)Z[F][j]=p(Z[F][j]);return"BigNumber"}if(fe){for(var se=0;se<te;se++)for(var pe=0;pe<te;pe++)Z[se][pe]=w(Z[se][pe]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),CW="expm",nVe=["typed","abs","add","identity","inv","multiply"],lde=Ce(CW,nVe,t=>{var{typed:e,abs:n,add:r,identity:i,inv:o,multiply:a}=t;return e(CW,{Matrix:function(f){var d=f.size();if(d.length!==2||d[0]!==d[1])throw new RangeError("Matrix must be square (size: "+An(d)+")");for(var h=d[0],p=1e-15,m=s(f),g=l(m,p),v=g.q,y=g.j,b=a(f,Math.pow(2,-y)),w=i(h),x=i(h),S=1,_=b,k=-1,C=1;C<=v;C++)C>1&&(_=a(_,b),k=-k),S=S*(v-C+1)/((2*v-C+1)*C),w=r(w,a(S,_)),x=r(x,a(S*k,_));for(var E=a(o(x),w),M=0;M<y;M++)E=a(E,E);return i0(f)?f.createSparseMatrix(E):E}});function s(c){for(var f=c.size()[0],d=0,h=0;h<f;h++){for(var p=0,m=0;m<f;m++)p+=n(c.get([h,m]));d=Math.max(p,d)}return d}function l(c,f){for(var d=30,h=0;h<d;h++)for(var p=0;p<=h;p++){var m=h-p;if(u(c,p,m)<f)return{q:p,j:m}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function u(c,f,d){for(var h=1,p=2;p<=f;p++)h*=p;for(var m=h,g=f+1;g<=2*f;g++)m*=g;var v=m*(2*f+1);return 8*Math.pow(c/Math.pow(2,d),2*f)*h*h/(m*v)}}),kW="sqrtm",rVe=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],ude=Ce(kW,rVe,t=>{var{typed:e,abs:n,add:r,multiply:i,map:o,sqrt:a,subtract:s,inv:l,size:u,max:c,identity:f}=t,d=1e3,h=1e-6;function p(m){var g,v=0,y=m,b=f(u(m));do{var w=y;if(y=i(.5,r(w,l(b))),b=i(.5,r(b,l(w))),g=c(n(s(y,w))),g>h&&++v>d)throw new Error("computing square root of matrix: iterative method could not converge")}while(g>h);return y}return e(kW,{"Array | Matrix":function(g){var v=Ht(g)?g.size():ln(g);switch(v.length){case 1:if(v[0]===1)return o(g,a);throw new RangeError("Matrix must be square (size: "+An(v)+")");case 2:{var y=v[0],b=v[1];if(y===b)return p(g);throw new RangeError("Matrix must be square (size: "+An(v)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+An(v)+")")}}})}),EW="sylvester",iVe=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],cde=Ce(EW,iVe,t=>{var{typed:e,schur:n,matrixFromColumns:r,matrix:i,multiply:o,range:a,concat:s,transpose:l,index:u,subset:c,add:f,subtract:d,identity:h,lusolve:p,abs:m}=t;return e(EW,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(y,b,w){return g(i(y),b,w)},"Array, Array, Matrix":function(y,b,w){return g(i(y),i(b),w)},"Array, Matrix, Array":function(y,b,w){return g(i(y),b,i(w))},"Matrix, Array, Matrix":function(y,b,w){return g(y,i(b),w)},"Matrix, Array, Array":function(y,b,w){return g(y,i(b),i(w))},"Matrix, Matrix, Array":function(y,b,w){return g(y,b,i(w))},"Array, Array, Array":function(y,b,w){return g(i(y),i(b),i(w)).toArray()}});function g(v,y,b){for(var w=y.size()[0],x=v.size()[0],S=n(v),_=S.T,k=S.U,C=n(o(-1,y)),E=C.T,M=C.U,A=o(o(l(k),b),M),N=a(0,x),T=[],I=(de,ee)=>s(de,ee,1),O=(de,ee)=>s(de,ee,0),q=0;q<w;q++)if(q<w-1&&m(c(E,u(q+1,q)))>1e-5){for(var L=O(c(A,u(N,q)),c(A,u(N,q+1))),Y=0;Y<q;Y++)L=f(L,O(o(T[Y],c(E,u(Y,q))),o(T[Y],c(E,u(Y,q+1)))));var R=o(h(x),o(-1,c(E,u(q,q)))),B=o(h(x),o(-1,c(E,u(q+1,q)))),z=o(h(x),o(-1,c(E,u(q,q+1)))),P=o(h(x),o(-1,c(E,u(q+1,q+1)))),$=O(I(f(_,R),B),I(z,f(_,P))),X=p($,L);T[q]=X.subset(u(a(0,x),0)),T[q+1]=X.subset(u(a(x,2*x),0)),q++}else{for(var K=c(A,u(N,q)),Z=0;Z<q;Z++)K=f(K,o(T[Z],c(E,u(Z,q))));var te=c(E,u(q,q)),J=d(_,o(te,h(x)));T[q]=p(J,K)}var fe=i(r(...T)),ue=o(k,o(fe,l(M)));return ue}}),AW="schur",oVe=["typed","matrix","identity","multiply","qr","norm","subtract"],fde=Ce(AW,oVe,t=>{var{typed:e,matrix:n,identity:r,multiply:i,qr:o,norm:a,subtract:s}=t;return e(AW,{Array:function(c){var f=l(n(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return l(c)}});function l(u){var c=u.size()[0],f=u,d=r(c),h=0,p;do{p=f;var m=o(f),g=m.Q,v=m.R;if(f=i(v,g),d=i(d,g),h++>100)break}while(a(s(f,p))>1e-4);return{U:d,T:f}}}),TW="lyap",aVe=["typed","matrix","sylvester","multiply","transpose"],dde=Ce(TW,aVe,t=>{var{typed:e,matrix:n,sylvester:r,multiply:i,transpose:o}=t;return e(TW,{"Matrix, Matrix":function(s,l){return r(s,o(s),i(-1,l))},"Array, Matrix":function(s,l){return r(n(s),o(n(s)),i(-1,l))},"Matrix, Array":function(s,l){return r(s,o(n(s)),n(i(-1,l)))},"Array, Array":function(s,l){return r(n(s),o(n(s)),n(i(-1,l))).toArray()}})}),sVe="divide",lVe=["typed","matrix","multiply","equalScalar","divideScalar","inv"],hde=Ce(sVe,lVe,t=>{var{typed:e,matrix:n,multiply:r,equalScalar:i,divideScalar:o,inv:a}=t,s=oa({typed:e,equalScalar:i}),l=lc({typed:e});return e("divide",Vae({"Array | Matrix, Array | Matrix":function(c,f){return r(c,a(f))},"DenseMatrix, any":function(c,f){return l(c,f,o,!1)},"SparseMatrix, any":function(c,f){return s(c,f,o,!1)},"Array, any":function(c,f){return l(n(c),f,o,!1).valueOf()},"any, Array | Matrix":function(c,f){return r(c,a(f))}},o.signatures))}),MW="distance",uVe=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],pde=Ce(MW,uVe,t=>{var{typed:e,addScalar:n,subtractScalar:r,multiplyScalar:i,divideScalar:o,deepEqual:a,sqrt:s,abs:l}=t;return e(MW,{"Array, Array, Array":function(x,S,_){if(x.length===2&&S.length===2&&_.length===2){if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(_))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(a(S,_))throw new TypeError("LinePoint1 should not be same with LinePoint2");var k=r(_[1],S[1]),C=r(S[0],_[0]),E=r(i(_[0],S[1]),i(S[0],_[1]));return g(x[0],x[1],k,C,E)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(x,S,_){if(Object.keys(x).length===2&&Object.keys(S).length===2&&Object.keys(_).length===2){if(!c(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(S))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(_))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(a(p(S),p(_)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in x&&"pointY"in x&&"lineOnePtX"in S&&"lineOnePtY"in S&&"lineTwoPtX"in _&&"lineTwoPtY"in _){var k=r(_.lineTwoPtY,S.lineOnePtY),C=r(S.lineOnePtX,_.lineTwoPtX),E=r(i(_.lineTwoPtX,S.lineOnePtY),i(S.lineOnePtX,_.lineTwoPtY));return g(x.pointX,x.pointY,k,C,E)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(x,S){if(x.length===2&&S.length===3){if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(S))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(x[0],x[1],S[0],S[1],S[2])}else if(x.length===3&&S.length===6){if(!f(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!h(S))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return v(x[0],x[1],x[2],S[0],S[1],S[2],S[3],S[4],S[5])}else if(x.length===S.length&&x.length>0){if(!d(x))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!d(S))throw new TypeError("All values of an array should be numbers or BigNumbers");return y(x,S)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(x,S){if(Object.keys(x).length===2&&Object.keys(S).length===3){if(!c(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(S))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"xCoeffLine"in S&&"yCoeffLine"in S&&"constant"in S)return g(x.pointX,x.pointY,S.xCoeffLine,S.yCoeffLine,S.constant);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===3&&Object.keys(S).length===6){if(!f(x))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!h(S))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"x0"in S&&"y0"in S&&"z0"in S&&"a"in S&&"b"in S&&"c"in S)return v(x.pointX,x.pointY,x.pointZ,S.x0,S.y0,S.z0,S.a,S.b,S.c);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===2&&Object.keys(S).length===2){if(!c(x))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(S))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointTwoX"in S&&"pointTwoY"in S)return y([x.pointOneX,x.pointOneY],[S.pointTwoX,S.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===3&&Object.keys(S).length===3){if(!f(x))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(S))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointOneZ"in x&&"pointTwoX"in S&&"pointTwoY"in S&&"pointTwoZ"in S)return y([x.pointOneX,x.pointOneY,x.pointOneZ],[S.pointTwoX,S.pointTwoY,S.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(x){if(!m(x))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return b(x)}});function u(w){return typeof w=="number"||hn(w)}function c(w){return w.constructor!==Array&&(w=p(w)),u(w[0])&&u(w[1])}function f(w){return w.constructor!==Array&&(w=p(w)),u(w[0])&&u(w[1])&&u(w[2])}function d(w){return Array.isArray(w)||(w=p(w)),w.every(u)}function h(w){return w.constructor!==Array&&(w=p(w)),u(w[0])&&u(w[1])&&u(w[2])&&u(w[3])&&u(w[4])&&u(w[5])}function p(w){for(var x=Object.keys(w),S=[],_=0;_<x.length;_++)S.push(w[x[_]]);return S}function m(w){if(w[0].length===2&&u(w[0][0])&&u(w[0][1])){if(w.some(x=>x.length!==2||!u(x[0])||!u(x[1])))return!1}else if(w[0].length===3&&u(w[0][0])&&u(w[0][1])&&u(w[0][2])){if(w.some(x=>x.length!==3||!u(x[0])||!u(x[1])||!u(x[2])))return!1}else return!1;return!0}function g(w,x,S,_,k){var C=l(n(n(i(S,w),i(_,x)),k)),E=s(n(i(S,S),i(_,_)));return o(C,E)}function v(w,x,S,_,k,C,E,M,A){var N=[r(i(r(k,x),A),i(r(C,S),M)),r(i(r(C,S),E),i(r(_,w),A)),r(i(r(_,w),M),i(r(k,x),E))];N=s(n(n(i(N[0],N[0]),i(N[1],N[1])),i(N[2],N[2])));var T=s(n(n(i(E,E),i(M,M)),i(A,A)));return o(N,T)}function y(w,x){for(var S=w.length,_=0,k=0,C=0;C<S;C++)k=r(w[C],x[C]),_=n(i(k,k),_);return s(_)}function b(w){for(var x=[],S=[],_=[],k=0;k<w.length-1;k++)for(var C=k+1;C<w.length;C++)w[0].length===2?(S=[w[k][0],w[k][1]],_=[w[C][0],w[C][1]]):w[0].length===3&&(S=[w[k][0],w[k][1],w[k][2]],_=[w[C][0],w[C][1],w[C][2]]),x.push(y(S,_));return x}}),cVe="intersect",fVe=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],mde=Ce(cVe,fVe,t=>{var{typed:e,config:n,abs:r,add:i,addScalar:o,matrix:a,multiply:s,multiplyScalar:l,divideScalar:u,subtract:c,smaller:f,equalScalar:d,flatten:h,isZero:p,isNumeric:m}=t;return e("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":v,"Matrix, Matrix, Matrix":function(M,A,N){var T=g(M.valueOf(),A.valueOf(),N.valueOf());return T===null?null:a(T)},"Matrix, Matrix, Matrix, Matrix":function(M,A,N,T){var I=v(M.valueOf(),A.valueOf(),N.valueOf(),T.valueOf());return I===null?null:a(I)}});function g(E,M,A){if(E=y(E),M=y(M),A=y(A),!w(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!x(A))throw new TypeError("Array with 4 numbers expected as third argument");return C(E[0],E[1],E[2],M[0],M[1],M[2],A[0],A[1],A[2],A[3])}function v(E,M,A,N){if(E=y(E),M=y(M),A=y(A),N=y(N),E.length===2){if(!b(E))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!b(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!b(A))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!b(N))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return S(E,M,A,N)}else if(E.length===3){if(!w(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!w(A))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!w(N))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return k(E[0],E[1],E[2],M[0],M[1],M[2],A[0],A[1],A[2],N[0],N[1],N[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function y(E){return E.length===1?E[0]:E.length>1&&Array.isArray(E[0])&&E.every(M=>Array.isArray(M)&&M.length===1)?h(E):E}function b(E){return E.length===2&&m(E[0])&&m(E[1])}function w(E){return E.length===3&&m(E[0])&&m(E[1])&&m(E[2])}function x(E){return E.length===4&&m(E[0])&&m(E[1])&&m(E[2])&&m(E[3])}function S(E,M,A,N){var T=E,I=A,O=c(T,M),q=c(I,N),L=c(l(O[0],q[1]),l(q[0],O[1]));if(p(L)||f(r(L),n.relTol))return null;var Y=l(q[0],T[1]),R=l(q[1],T[0]),B=l(q[0],I[1]),z=l(q[1],I[0]),P=u(o(c(c(Y,R),B),z),L);return i(s(O,P),T)}function _(E,M,A,N,T,I,O,q,L,Y,R,B){var z=l(c(E,M),c(A,N)),P=l(c(T,I),c(O,q)),$=l(c(L,Y),c(R,B));return o(o(z,P),$)}function k(E,M,A,N,T,I,O,q,L,Y,R,B){var z=_(E,O,Y,O,M,q,R,q,A,L,B,L),P=_(Y,O,N,E,R,q,T,M,B,L,I,A),$=_(E,O,N,E,M,q,T,M,A,L,I,A),X=_(Y,O,Y,O,R,q,R,q,B,L,B,L),K=_(N,E,N,E,T,M,T,M,I,A,I,A),Z=c(l(z,P),l($,X)),te=c(l(K,X),l(P,P));if(p(te))return null;var J=u(Z,te),fe=u(o(z,l(J,P)),X),ue=o(E,l(J,c(N,E))),de=o(M,l(J,c(T,M))),ee=o(A,l(J,c(I,A))),D=o(O,l(fe,c(Y,O))),oe=o(q,l(fe,c(R,q))),W=o(L,l(fe,c(B,L)));return d(ue,D)&&d(de,oe)&&d(ee,W)?[ue,de,ee]:null}function C(E,M,A,N,T,I,O,q,L,Y){var R=l(E,O),B=l(N,O),z=l(M,q),P=l(T,q),$=l(A,L),X=l(I,L),K=c(c(c(Y,R),z),$),Z=c(c(c(o(o(B,P),X),R),z),$),te=u(K,Z),J=o(E,l(te,c(N,E))),fe=o(M,l(te,c(T,M))),ue=o(A,l(te,c(I,A)));return[J,fe,ue]}}),DW="sum",dVe=["typed","config","add","numeric"],XP=Ce(DW,dVe,t=>{var{typed:e,config:n,add:r,numeric:i}=t;return e(DW,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":a,"...":function(l){if(fy(l))throw new TypeError("Scalar values expected in function sum");return o(l)}});function o(s){var l;return O0(s,function(u){try{l=l===void 0?u:r(l,u)}catch(c){throw as(c,"sum",u)}}),l===void 0&&(l=i(0,n.number)),typeof l=="string"&&(l=i(l,ip(l,n))),l}function a(s,l){try{var u=hk(s,l,r);return u}catch(c){throw as(c,"sum")}}}),Px="cumsum",hVe=["typed","add","unaryPlus"],YP=Ce(Px,hVe,t=>{var{typed:e,add:n,unaryPlus:r}=t;return e(Px,{Array:i,Matrix:function(u){return u.create(i(u.valueOf(),u.datatype()))},"Array, number | BigNumber":a,"Matrix, number | BigNumber":function(u,c){return u.create(a(u.valueOf(),c),u.datatype())},"...":function(u){if(fy(u))throw new TypeError("All values expected to be scalar in function cumsum");return i(u)}});function i(l){try{return o(l)}catch(u){throw as(u,Px)}}function o(l){if(l.length===0)return[];for(var u=[r(l[0])],c=1;c<l.length;++c)u.push(n(u[c-1],l[c]));return u}function a(l,u){var c=ln(l);if(u<0||u>=c.length)throw new Cu(u,c.length);try{return s(l,u)}catch(f){throw as(f,Px)}}function s(l,u){var c,f,d;if(u<=0){var h=l[0][0];if(Array.isArray(h)){for(d=Tse(l),f=[],c=0;c<d.length;c++)f[c]=s(d[c],u-1);return f}else return o(l)}else{for(f=[],c=0;c<l.length;c++)f[c]=s(l[c],u-1);return f}}}),NW="mean",pVe=["typed","add","divide"],ZP=Ce(NW,pVe,t=>{var{typed:e,add:n,divide:r}=t;return e(NW,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":i,"...":function(s){if(fy(s))throw new TypeError("Scalar values expected in function mean");return o(s)}});function i(a,s){try{var l=hk(a,s,n),u=Array.isArray(a)?ln(a):a.size();return r(l,u[s])}catch(c){throw as(c,"mean")}}function o(a){var s,l=0;if(O0(a,function(u){try{s=s===void 0?u:n(s,u),l++}catch(c){throw as(c,"mean",u)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return r(s,l)}}),OW="median",mVe=["typed","add","divide","compare","partitionSelect"],gde=Ce(OW,mVe,t=>{var{typed:e,add:n,divide:r,compare:i,partitionSelect:o}=t;function a(u){try{u=Zn(u.valueOf());var c=u.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,d=o(u,f+1),h=u[f],p=0;p<f;++p)i(u[p],h)>0&&(h=u[p]);return l(h,d)}else{var m=o(u,(c-1)/2);return s(m)}}catch(g){throw as(g,"median")}}var s=e({"number | BigNumber | Complex | Unit":function(c){return c}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return r(n(c,f),2)}});return e(OW,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(fy(c))throw new TypeError("Scalar values expected in function median");return a(c)}})}),IW="mad",gVe=["typed","abs","map","median","subtract"],vde=Ce(IW,gVe,t=>{var{typed:e,abs:n,map:r,median:i,subtract:o}=t;return e(IW,{"Array | Matrix":a,"...":function(l){return a(l)}});function a(s){if(s=Zn(s.valueOf()),s.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(s);return i(r(s,function(u){return n(o(u,l))}))}catch(u){throw u instanceof TypeError&&u.message.includes("median")?new TypeError(u.message.replace("median","mad")):as(u,"mad")}}}),mA="unbiased",PW="variance",vVe=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],JP=Ce(PW,vVe,t=>{var{typed:e,add:n,subtract:r,multiply:i,divide:o,mapSlices:a,isNaN:s}=t;return e(PW,{"Array | Matrix":function(f){return l(f,mA)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(f,d){return u(f,d,mA)},"Array | Matrix, number | BigNumber, string":u,"...":function(f){return l(f,mA)}});function l(c,f){var d,h=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(O0(c,function(g){try{d=d===void 0?g:n(d,g),h++}catch(v){throw as(v,"variance",g)}}),h===0)throw new Error("Cannot calculate variance of an empty array");var p=o(d,h);if(d=void 0,O0(c,function(g){var v=r(g,p);d=d===void 0?i(v,v):n(d,i(v,v))}),s(d))return d;switch(f){case"uncorrected":return o(d,h);case"biased":return o(d,h+1);case"unbiased":{var m=hn(d)?d.mul(0):0;return h===1?m:o(d,h-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(c,f,d){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return a(c,f,h=>l(h,d))}catch(h){throw as(h,"variance")}}}),RW="quantileSeq",yVe=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],QP=Ce(RW,yVe,t=>{var{typed:e,bignumber:n,add:r,subtract:i,divide:o,multiply:a,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:d,mapSlices:h}=t;return e(RW,{"Array | Matrix, number | BigNumber":(y,b)=>m(y,b,!1),"Array | Matrix, number | BigNumber, number":(y,b,w)=>p(y,b,!1,w,m),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(y,b,w,x)=>p(y,b,w,x,m),"Array | Matrix, Array | Matrix":(y,b)=>g(y,b,!1),"Array | Matrix, Array | Matrix, number":(y,b,w)=>p(y,b,!1,w,g),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(y,b,w,x)=>p(y,b,w,x,g)});function p(y,b,w,x,S){return h(y,x,_=>S(_,b,w))}function m(y,b,w){var x,S=y.valueOf();if(c(b,0))throw new Error("N/prob must be non-negative");if(f(b,1))return mn(b)?v(S,b,w):n(v(S,b,w));if(d(b,1)){if(!u(b))throw new Error("N must be a positive integer");if(d(b,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var _=r(b,1);x=[];for(var k=0;c(k,b);k++){var C=o(k+1,_);x.push(v(S,C,w))}return mn(b)?x:n(x)}}function g(y,b,w){for(var x=y.valueOf(),S=b.valueOf(),_=[],k=0;k<S.length;++k)_.push(v(x,S[k],w));return _}function v(y,b,w){var x=Zn(y),S=x.length;if(S===0)throw new Error("Cannot calculate quantile of an empty sequence");var _=mn(b)?b*(S-1):b.times(S-1),k=mn(b)?Math.floor(_):_.floor().toNumber(),C=mn(b)?_%1:_.minus(k);if(u(_))return w?x[_]:s(x,mn(b)?_:_.valueOf());var E,M;if(w)E=x[k],M=x[k+1];else{M=s(x,k+1),E=x[k];for(var A=0;A<k;++A)l(x[A],E)>0&&(E=x[A])}return r(a(E,i(1,C)),a(M,C))}}),FW="std",bVe=["typed","map","sqrt","variance"],eR=Ce(FW,bVe,t=>{var{typed:e,map:n,sqrt:r,variance:i}=t;return e(FW,{"Array | Matrix":o,"Array | Matrix, string":o,"Array | Matrix, number | BigNumber":o,"Array | Matrix, number | BigNumber, string":o,"...":function(s){return o(s)}});function o(a,s){if(a.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return Ml(l)?n(l,r):r(l)}catch(u){throw u instanceof TypeError&&u.message.includes(" variance")?new TypeError(u.message.replace(" variance"," std")):u}}}),LW="corr",wVe=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],yde=Ce(LW,wVe,t=>{var{typed:e,matrix:n,sqrt:r,sum:i,add:o,subtract:a,multiply:s,pow:l,divide:u}=t;return e(LW,{"Array, Array":function(h,p){return c(h,p)},"Matrix, Matrix":function(h,p){var m=c(h.toArray(),p.toArray());return Array.isArray(m)?n(m):m}});function c(d,h){var p=[];if(Array.isArray(d[0])&&Array.isArray(h[0])){if(d.length!==h.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var m=0;m<d.length;m++){if(d[m].length!==h[m].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");p.push(f(d[m],h[m]))}return p}else{if(d.length!==h.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(d,h)}}function f(d,h){var p=d.length,m=i(d),g=i(h),v=d.reduce((S,_,k)=>o(S,s(_,h[k])),0),y=i(d.map(S=>l(S,2))),b=i(h.map(S=>l(S,2))),w=a(s(p,v),s(m,g)),x=r(s(a(s(p,y),l(m,2)),a(s(p,b),l(g,2))));return u(w,x)}}),$W="combinations",xVe=["typed"],bde=Ce($W,xVe,t=>{var{typed:e}=t;return e($W,{"number, number":Yse,"BigNumber, BigNumber":function(r,i){var o=r.constructor,a,s,l=r.minus(i),u=new o(1);if(!BW(r)||!BW(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(r))throw new TypeError("k must be less than n in function combinations");if(a=u,i.lt(l))for(s=u;s.lte(l);s=s.plus(u))a=a.times(i.plus(s)).dividedBy(s);else for(s=u;s.lte(i);s=s.plus(u))a=a.times(l.plus(s)).dividedBy(s);return a}})});function BW(t){return t.isInteger()&&t.gte(0)}var zW="combinationsWithRep",SVe=["typed"],wde=Ce(zW,SVe,t=>{var{typed:e}=t;return e(zW,{"number, number":function(r,i){if(!Ft(r)||r<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Ft(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<r-1){var o=xd(r,r+i-1);return o/xd(1,i)}var a=xd(i+1,r+i-1);return a/xd(1,r-1)},"BigNumber, BigNumber":function(r,i){var o=r.constructor,a,s,l=new o(1),u=r.minus(l);if(!qW(r)||!qW(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(a=l,i.lt(u))for(s=l;s.lte(u);s=s.plus(l))a=a.times(i.plus(s)).dividedBy(s);else for(s=l;s.lte(i);s=s.plus(l))a=a.times(u.plus(s)).dividedBy(s);return a}})});function qW(t){return t.isInteger()&&t.gte(0)}var VW="gamma",_Ve=["typed","config","multiplyScalar","pow","BigNumber","Complex"],xde=Ce(VW,_Ve,t=>{var{typed:e,config:n,multiplyScalar:r,pow:i,BigNumber:o,Complex:a}=t;function s(u){if(u.im===0)return X_(u.re);if(u.re<.5){var c=new a(1-u.re,-u.im),f=new a(Math.PI*u.re,Math.PI*u.im);return new a(Math.PI).div(f.sin()).div(s(c))}u=new a(u.re-1,u.im);for(var d=new a(Gg[0],0),h=1;h<Gg.length;++h){var p=new a(Gg[h],0);d=d.add(p.div(u.add(h)))}var m=new a(u.re+Jse+.5,u.im),g=Math.sqrt(2*Math.PI),v=m.pow(u.add(.5)),y=m.neg().exp();return d.mul(g).mul(v).mul(y)}return e(VW,{number:X_,Complex:s,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new o(1/0):l(c.minus(1));if(!c.isFinite())return new o(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(u){if(u<8)return new o([1,1,2,6,24,120,720,5040][u]);var c=n.precision+(Math.log(u.toNumber())|0),f=o.clone({precision:c});if(u%2===1)return u.times(l(new o(u-1)));for(var d=u,h=new f(u),p=u.toNumber();d>2;)d-=2,p+=d,h=h.times(p);return new o(h.toPrecision(o.precision))}}),HW="lgamma",CVe=["Complex","typed"],Sde=Ce(HW,CVe,t=>{var{Complex:e,typed:n}=t,r=7,i=7,o=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return n(HW,{number:Y_,Complex:a,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function a(u){var c=6.283185307179586,f=1.1447298858494002,d=.1;if(u.isNaN())return new e(NaN,NaN);if(u.im===0)return new e(Y_(u.re),0);if(u.re>=r||Math.abs(u.im)>=i)return s(u);if(u.re<=d){var h=vMe(c,u.im)*Math.floor(.5*u.re+.25),p=u.mul(Math.PI).sin().log(),m=a(new e(1-u.re,-u.im));return new e(f,h).sub(p).sub(m)}else return u.im>=0?l(u):l(u.conjugate()).conjugate()}function s(u){for(var c=u.sub(.5).mul(u.log()).sub(u).add(Qse),f=new e(1,0).div(u),d=f.div(u),h=o[0],p=o[1],m=2*d.re,g=d.re*d.re+d.im*d.im,v=2;v<8;v++){var y=p;p=-g*h+o[v],h=m*h+y}var b=f.mul(d.mul(h).add(p));return c.add(b)}function l(u){var c=0,f=0,d=u;for(u=u.add(1);u.re<=r;){d=d.mul(u);var h=d.im<0?1:0;h!==0&&f===0&&c++,f=h,u=u.add(1)}return s(u).sub(d.log()).sub(new e(0,c*2*Math.PI*1))}}),UW="factorial",kVe=["typed","gamma"],_de=Ce(UW,kVe,t=>{var{typed:e,gamma:n}=t;return e(UW,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return n(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return n(i.plus(1))},"Array | Matrix":e.referToSelf(r=>i=>bn(i,r))})}),jW="kldivergence",EVe=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],Cde=Ce(jW,EVe,t=>{var{typed:e,matrix:n,divide:r,sum:i,multiply:o,map:a,dotDivide:s,log:l,isNumeric:u}=t;return e(jW,{"Array, Array":function(d,h){return c(n(d),n(h))},"Matrix, Array":function(d,h){return c(d,n(h))},"Array, Matrix":function(d,h){return c(n(d),h)},"Matrix, Matrix":function(d,h){return c(d,h)}});function c(f,d){var h=d.size().length,p=f.size().length;if(h>1)throw new Error("first object must be one dimensional");if(p>1)throw new Error("second object must be one dimensional");if(h!==p)throw new Error("Length of two vectors must be equal");var m=i(f);if(m===0)throw new Error("Sum of elements in first object must be non zero");var g=i(d);if(g===0)throw new Error("Sum of elements in second object must be non zero");var v=r(f,i(f)),y=r(d,i(d)),b=i(o(v,a(s(v,y),w=>l(w))));return u(b)?b:Number.NaN}}),WW="multinomial",AVe=["typed","add","divide","multiply","factorial","isInteger","isPositive"],kde=Ce(WW,AVe,t=>{var{typed:e,add:n,divide:r,multiply:i,factorial:o,isInteger:a,isPositive:s}=t;return e(WW,{"Array | Matrix":function(u){var c=0,f=1;return O0(u,function(d){if(!a(d)||!s(d))throw new TypeError("Positive integer value expected in function multinomial");c=n(c,d),f=i(f,o(d))}),r(o(c),f)}})}),GW="permutations",TVe=["typed","factorial"],Ede=Ce(GW,TVe,t=>{var{typed:e,factorial:n}=t;return e(GW,{"number | BigNumber":n,"number, number":function(i,o){if(!Ft(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Ft(o)||o<0)throw new TypeError("Positive integer value expected in function permutations");if(o>i)throw new TypeError("second argument k must be less than or equal to first argument n");return xd(i-o+1,i)},"BigNumber, BigNumber":function(i,o){var a,s;if(!KW(i)||!KW(o))throw new TypeError("Positive integer value expected in function permutations");if(o.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var l=i.mul(0).add(1);for(a=l,s=i.minus(o).plus(1);s.lte(i);s=s.plus(1))a=a.times(s);return a}})});function KW(t){return t.isInteger()&&t.gte(0)}var j6={exports:{}},MVe=j6.exports,XW;function DVe(){return XW||(XW=1,function(t){(function(e,n,r){function i(l){var u=this,c=s();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function o(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function a(l,u){var c=new i(l),f=u&&u.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&o(f,c),d.state=function(){return o(c,{})}),d}function s(){var l=4022871197,u=function(c){c=String(c);for(var f=0;f<c.length;f++){l+=c.charCodeAt(f);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=a:this.alea=a})(MVe,t)}(j6)),j6.exports}var W6={exports:{}},NVe=W6.exports,YW;function OVe(){return YW||(YW=1,function(t){(function(e,n,r){function i(s){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},s===(s|0)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function o(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function a(s,l){var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.xor128=a})(NVe,t)}(W6)),W6.exports}var G6={exports:{}},IVe=G6.exports,ZW;function PVe(){return ZW||(ZW=1,function(t){(function(e,n,r){function i(s){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(s|0)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function a(s,l){var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.xorwow=a})(IVe,t)}(G6)),G6.exports}var K6={exports:{}},RVe=K6.exports,JW;function FVe(){return JW||(JW=1,function(t){(function(e,n,r){function i(s){var l=this;l.next=function(){var c=l.x,f=l.i,d,h;return d=c[f],d^=d>>>7,h=d^d<<24,d=c[f+1&7],h^=d^d>>>10,d=c[f+3&7],h^=d^d>>>3,d=c[f+4&7],h^=d^d<<7,d=c[f+7&7],d=d^d<<13,h^=d^d<<9,c[f]=h,l.i=f+1&7,h};function u(c,f){var d,h=[];if(f===(f|0))h[0]=f;else for(f=""+f,d=0;d<f.length;++d)h[d&7]=h[d&7]<<15^f.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],c.x=h,c.i=0,d=256;d>0;--d)c.next()}u(l,s)}function o(s,l){return l.x=s.x.slice(),l.i=s.i,l}function a(s,l){s==null&&(s=+new Date);var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(c.x&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.xorshift7=a})(RVe,t)}(K6)),K6.exports}var X6={exports:{}},LVe=X6.exports,QW;function $Ve(){return QW||(QW=1,function(t){(function(e,n,r){function i(s){var l=this;l.next=function(){var c=l.w,f=l.X,d=l.i,h,p;return l.w=c=c+1640531527|0,p=f[d+34&127],h=f[d=d+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=f[d]=p^h,l.i=d,p+(c^c>>>16)|0};function u(c,f){var d,h,p,m,g,v=[],y=128;for(f===(f|0)?(h=f,f=null):(f=f+"\0",h=0,y=Math.max(y,f.length)),p=0,m=-32;m<y;++m)f&&(h^=f.charCodeAt((m+32)%f.length)),m===0&&(g=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,m>=0&&(g=g+1640531527|0,d=v[m&127]^=h+g,p=d==0?p+1:0);for(p>=128&&(v[(f&&f.length||0)&127]=-1),p=127,m=4*128;m>0;--m)h=v[p+34&127],d=v[p=p+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,v[p]=h^d;c.w=g,c.X=v,c.i=p}u(l,s)}function o(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function a(s,l){s==null&&(s=+new Date);var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(c.X&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.xor4096=a})(LVe,t)}(X6)),X6.exports}var Y6={exports:{}},BVe=Y6.exports,eG;function zVe(){return eG||(eG=1,function(t){(function(e,n,r){function i(s){var l=this,u="";l.next=function(){var f=l.b,d=l.c,h=l.d,p=l.a;return f=f<<25^f>>>7^d,d=d-h|0,h=h<<24^h>>>8^p,p=p-f|0,l.b=f=f<<20^f>>>12^d,l.c=d=d-h|0,l.d=h<<16^d>>>16^p,l.a=p-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=s|0):u+=s;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function o(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function a(s,l){var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.tychei=a})(BVe,t)}(Y6)),Y6.exports}var Z6={exports:{}};const qVe={},VVe=Object.freeze(Object.defineProperty({__proto__:null,default:qVe},Symbol.toStringTag,{value:"Module"})),HVe=e4(VVe);var UVe=Z6.exports,tG;function jVe(){return tG||(tG=1,function(t){(function(e,n,r){var i=256,o=6,a=52,s="random",l=r.pow(i,o),u=r.pow(2,a),c=u*2,f=i-1,d;function h(w,x,S){var _=[];x=x==!0?{entropy:!0}:x||{};var k=v(g(x.entropy?[w,b(n)]:w??y(),3),_),C=new p(_),E=function(){for(var M=C.g(o),A=l,N=0;M<u;)M=(M+N)*i,A*=i,N=C.g(1);for(;M>=c;)M/=2,A/=2,N>>>=1;return(M+N)/A};return E.int32=function(){return C.g(4)|0},E.quick=function(){return C.g(4)/4294967296},E.double=E,v(b(C.S),n),(x.pass||S||function(M,A,N,T){return T&&(T.S&&m(T,C),M.state=function(){return m(C,{})}),N?(r[s]=M,A):M})(E,k,"global"in x?x.global:this==r,x.state)}function p(w){var x,S=w.length,_=this,k=0,C=_.i=_.j=0,E=_.S=[];for(S||(w=[S++]);k<i;)E[k]=k++;for(k=0;k<i;k++)E[k]=E[C=f&C+w[k%S]+(x=E[k])],E[C]=x;(_.g=function(M){for(var A,N=0,T=_.i,I=_.j,O=_.S;M--;)A=O[T=f&T+1],N=N*i+O[f&(O[T]=O[I=f&I+A])+(O[I]=A)];return _.i=T,_.j=I,N})(i)}function m(w,x){return x.i=w.i,x.j=w.j,x.S=w.S.slice(),x}function g(w,x){var S=[],_=typeof w,k;if(x&&_=="object")for(k in w)try{S.push(g(w[k],x-1))}catch{}return S.length?S:_=="string"?w:w+"\0"}function v(w,x){for(var S=w+"",_,k=0;k<S.length;)x[f&k]=f&(_^=x[f&k]*19)+S.charCodeAt(k++);return b(x)}function y(){try{var w;return d&&(w=d.randomBytes)?w=w(i):(w=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(w)),b(w)}catch{var x=e.navigator,S=x&&x.plugins;return[+new Date,e,S,e.screen,b(n)]}}function b(w){return String.fromCharCode.apply(0,w)}if(v(r.random(),n),t.exports){t.exports=h;try{d=HVe}catch{}}else r["seed"+s]=h})(typeof self<"u"?self:UVe,[],Math)}(Z6)),Z6.exports}var gA,nG;function WVe(){if(nG)return gA;nG=1;var t=DVe(),e=OVe(),n=PVe(),r=FVe(),i=$Ve(),o=zVe(),a=jVe();return a.alea=t,a.xor128=e,a.xorwow=n,a.xorshift7=r,a.xor4096=i,a.tychei=o,gA=a,gA}var GVe=WVe();const Ade=vf(GVe);var KVe=Ade(Date.now());function Ev(t){var e;function n(i){e=i===null?KVe:Ade(String(i))}n(t);function r(){return e()}return r}var rG="pickRandom",XVe=["typed","config","?on"],Tde=Ce(rG,XVe,t=>{var{typed:e,config:n,on:r}=t,i=Ev(n.randomSeed);return r&&r("config",function(a,s){a.randomSeed!==s.randomSeed&&(i=Ev(a.randomSeed))}),e(rG,{"Array | Matrix":function(s){return o(s,{})},"Array | Matrix, Object":function(s,l){return o(s,l)},"Array | Matrix, number":function(s,l){return o(s,{number:l})},"Array | Matrix, Array | Matrix":function(s,l){return o(s,{weights:l})},"Array | Matrix, Array | Matrix, number":function(s,l,u){return o(s,{number:u,weights:l})},"Array | Matrix, number, Array | Matrix":function(s,l,u){return o(s,{number:l,weights:u})}});function o(a,s){var{number:l,weights:u,elementWise:c=!0}=s,f=typeof l>"u";f&&(l=1);var d=Ht(a)?a.create:Ht(u)?u.create:null;a=a.valueOf(),u&&(u=u.valueOf()),c===!0&&(a=Zn(a),u=Zn(u));var h=0;if(typeof u<"u"){if(u.length!==a.length)throw new Error("Weights must have the same length as possibles");for(var p=0,m=u.length;p<m;p++){if(!mn(u[p])||u[p]<0)throw new Error("Weights must be an array of positive numbers");h+=u[p]}}for(var g=a.length,v=[],y;v.length<l;){if(typeof u>"u")y=a[Math.floor(i()*g)];else for(var b=i()*h,w=0,x=a.length;w<x;w++)if(b-=u[w],b<0){y=a[w];break}v.push(y)}return f?v[0]:d?d(v):v}});function tR(t,e){var n=[];if(t=t.slice(0),t.length>1)for(var r=0,i=t.shift();r<i;r++)n.push(tR(t,e));else for(var o=0,a=t.shift();o<a;o++)n.push(e());return n}var iG="random",YVe=["typed","config","?on"],Mde=Ce(iG,YVe,t=>{var{typed:e,config:n,on:r}=t,i=Ev(n.randomSeed);return r&&r("config",function(s,l){s.randomSeed!==l.randomSeed&&(i=Ev(s.randomSeed))}),e(iG,{"":()=>a(0,1),number:s=>a(0,s),"number, number":(s,l)=>a(s,l),"Array | Matrix":s=>o(s,0,1),"Array | Matrix, number":(s,l)=>o(s,0,l),"Array | Matrix, number, number":(s,l,u)=>o(s,l,u)});function o(s,l,u){var c=tR(s.valueOf(),()=>a(l,u));return Ht(s)?s.create(c,"number"):c}function a(s,l){return s+i()*(l-s)}}),oG="randomInt",ZVe=["typed","config","log2","?on"],Dde=Ce(oG,ZVe,t=>{var{typed:e,config:n,log2:r,on:i}=t,o=Ev(n.randomSeed);return i&&i("config",function(u,c){u.randomSeed!==c.randomSeed&&(o=Ev(u.randomSeed))}),e(oG,{"":()=>s(0,2),number:u=>s(0,u),"number, number":(u,c)=>s(u,c),bigint:u=>l(0n,u),"bigint, bigint":l,"Array | Matrix":u=>a(u,0,1),"Array | Matrix, number":(u,c)=>a(u,0,c),"Array | Matrix, number, number":(u,c,f)=>a(u,c,f)});function a(u,c,f){var d=tR(u.valueOf(),()=>s(c,f));return Ht(u)?u.create(d,"number"):d}function s(u,c){return Math.floor(u+o()*(c-u))}function l(u,c){var f=2n**30n,d=c-u;if(d<=f)return u+BigInt(s(0,Number(d)));for(var h=r(d),p=d;p>=d;){p=0n;for(var m=0;m<h;++m)p=2n*p+(o()<.5?0n:1n)}return u+p}}),aG="stirlingS2",JVe=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],Nde=Ce(aG,JVe,t=>{var{typed:e,addScalar:n,subtractScalar:r,multiplyScalar:i,divideScalar:o,pow:a,factorial:s,combinations:l,isNegative:u,isInteger:c,number:f,bignumber:d,larger:h}=t,p=[],m=[];return e(aG,{"number | BigNumber, number | BigNumber":function(v,y){if(!c(v)||u(v)||!c(y)||u(y))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(h(y,v))throw new TypeError("k must be less than or equal to n in function stirlingS2");var b=!(mn(v)&&mn(y)),w=b?m:p,x=b?d:f,S=f(v),_=f(y);if(w[S]&&w[S].length>_)return w[S][_];for(var k=0;k<=S;++k)if(w[k]||(w[k]=[x(k===0?1:0)]),k!==0)for(var C=w[k],E=w[k-1],M=C.length;M<=k&&M<=_;++M)M===k?C[M]=1:C[M]=n(i(x(M),E[M]),E[M-1]);return w[S][_]}})}),sG="bellNumbers",QVe=["typed","addScalar","isNegative","isInteger","stirlingS2"],Ode=Ce(sG,QVe,t=>{var{typed:e,addScalar:n,isNegative:r,isInteger:i,stirlingS2:o}=t;return e(sG,{"number | BigNumber":function(s){if(!i(s)||r(s))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,u=0;u<=s;u++)l=n(l,o(s,u));return l}})}),lG="catalan",eHe=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],Ide=Ce(lG,eHe,t=>{var{typed:e,addScalar:n,divideScalar:r,multiplyScalar:i,combinations:o,isNegative:a,isInteger:s}=t;return e(lG,{"number | BigNumber":function(u){if(!s(u)||a(u))throw new TypeError("Non-negative integer value expected in function catalan");return r(o(i(u,2),u),n(u,1))}})}),uG="composition",tHe=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],Pde=Ce(uG,tHe,t=>{var{typed:e,addScalar:n,combinations:r,isPositive:i,isNegative:o,isInteger:a,larger:s}=t;return e(uG,{"number | BigNumber, number | BigNumber":function(u,c){if(!a(u)||!i(u)||!a(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(s(c,u))throw new TypeError("k must be less than or equal to n in function composition");return r(n(u,-1),n(c,-1))}})}),cG="leafCount",nHe=["parse","typed"],Rde=Ce(cG,nHe,t=>{var{parse:e,typed:n}=t;function r(i){var o=0;return i.forEach(a=>{o+=r(a)}),o||1}return n(cG,{Node:function(o){return r(o)}})});function fG(t){return Fn(t)||Ni(t)&&t.isUnary()&&Fn(t.args[0])}function sC(t){return!!(Fn(t)||(Wd(t)||Ni(t))&&t.args.every(sC)||lf(t)&&sC(t.content))}function dG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dG(Object(n),!0).forEach(function(r){ro(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var rHe="simplifyUtil",iHe=["FunctionNode","OperatorNode","SymbolNode"],nR=Ce(rHe,iHe,t=>{var{FunctionNode:e,OperatorNode:n,SymbolNode:r}=t,i=!0,o=!1,a="defaultF",s={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:o,total:i,commutative:o,associative:o},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:o,total:i,commutative:o,associative:o},paren:{trivial:i,total:i,commutative:i,associative:o},defaultF:{trivial:o,total:i,commutative:o,associative:o}},l={divide:{total:o},log:{total:o}},u={subtract:{total:o},abs:{trivial:i},log:{total:i}};function c(b,w){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s,S=a;if(typeof b=="string"?S=b:Ni(b)?S=b.fn.toString():Wd(b)?S=b.name:lf(b)&&(S="paren"),wt(x,S)){var _=x[S];if(wt(_,w))return _[w];if(wt(s,S))return s[S][w]}if(wt(x,a)){var k=x[a];return wt(k,w)?k[w]:s[a][w]}if(wt(s,S)){var C=s[S];if(wt(C,w))return C[w]}return s[a][w]}function f(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return c(b,"commutative",w)}function d(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return c(b,"associative",w)}function h(b,w){var x=vA({},b);for(var S in w)wt(b,S)?x[S]=vA(vA({},w[S]),b[S]):x[S]=w[S];return x}function p(b,w){if(!b.args||b.args.length===0)return b;b.args=m(b,w);for(var x=0;x<b.args.length;x++)p(b.args[x],w)}function m(b,w){var x,S=[],_=function(C){for(var E=0;E<C.args.length;E++){var M=C.args[E];Ni(M)&&x===M.op?_(M):S.push(M)}};return d(b,w)?(x=b.op,_(b),S):b.args}function g(b,w){if(!(!b.args||b.args.length===0)){for(var x=y(b),S=b.args.length,_=0;_<S;_++)g(b.args[_],w);if(S>2&&d(b,w)){for(var k=b.args.pop();b.args.length>0;)k=x([b.args.pop(),k]);b.args=k.args}}}function v(b,w){if(!(!b.args||b.args.length===0)){for(var x=y(b),S=b.args.length,_=0;_<S;_++)v(b.args[_],w);if(S>2&&d(b,w)){for(var k=b.args.shift();b.args.length>0;)k=x([k,b.args.shift()]);b.args=k.args}}}function y(b){return Ni(b)?function(w){try{return new n(b.op,b.fn,w,b.implicit)}catch(x){return console.error(x),[]}}:function(w){return new e(new r(b.name),w)}}return{createMakeNodeFunction:y,hasProperty:c,isCommutative:f,isAssociative:d,mergeContext:h,flatten:p,allChildren:m,unflattenr:g,unflattenl:v,defaultContext:s,realContext:l,positiveContext:u}}),oHe="simplify",aHe=["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],Fde=Ce(oHe,aHe,t=>{var{typed:e,parse:n,equal:r,resolve:i,simplifyConstant:o,simplifyCore:a,AccessorNode:s,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:f,ObjectNode:d,OperatorNode:h,ParenthesisNode:p,SymbolNode:m,replacer:g}=t,{hasProperty:v,isCommutative:y,isAssociative:b,mergeContext:w,flatten:x,unflattenr:S,unflattenl:_,createMakeNodeFunction:k,defaultContext:C,realContext:E,positiveContext:M}=nR({FunctionNode:c,OperatorNode:h,SymbolNode:m});e.addConversion({from:"Object",to:"Map",convert:Ug});var A=e("simplify",{Node:Y,"Node, Map":(te,J)=>Y(te,!1,J),"Node, Map, Object":(te,J,fe)=>Y(te,!1,J,fe),"Node, Array":Y,"Node, Array, Map":Y,"Node, Array, Map, Object":Y});e.removeConversion({from:"Object",to:"Map",convert:Ug}),A.defaultContext=C,A.realContext=E,A.positiveContext=M;function N(te){return te.transform(function(J){return lf(J)?N(J.content):J})}var T={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};A.rules=[a,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},o,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},o,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function I(te,J){var fe={};if(te.s){var ue=te.s.split("->");if(ue.length===2)fe.l=ue[0],fe.r=ue[1];else throw SyntaxError("Could not parse rule: "+te.s)}else fe.l=te.l,fe.r=te.r;fe.l=N(n(fe.l)),fe.r=N(n(fe.r));for(var de of["imposeContext","repeat","assuming"])de in te&&(fe[de]=te[de]);if(te.evaluate&&(fe.evaluate=n(te.evaluate)),b(fe.l,J)){var ee=!y(fe.l,J),D;ee&&(D=L());var oe=k(fe.l),W=L();fe.expanded={},fe.expanded.l=oe([fe.l,W]),x(fe.expanded.l,J),S(fe.expanded.l,J),fe.expanded.r=oe([fe.r,W]),ee&&(fe.expandedNC1={},fe.expandedNC1.l=oe([D,fe.l]),fe.expandedNC1.r=oe([D,fe.r]),fe.expandedNC2={},fe.expandedNC2.l=oe([D,fe.expanded.l]),fe.expandedNC2.r=oe([D,fe.expanded.r]))}return fe}function O(te,J){for(var fe=[],ue=0;ue<te.length;ue++){var de=te[ue],ee=void 0,D=typeof de;switch(D){case"string":de={s:de};case"object":ee=I(de,J);break;case"function":ee=de;break;default:throw TypeError("Unsupported type of rule: "+D)}fe.push(ee)}return fe}var q=0;function L(){return new m("_p"+q++)}function Y(te,J){var fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F3(),ue=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},de=ue.consoleDebug;J=O(J||A.rules,ue.context);var ee=i(te,fe);ee=N(ee);for(var D={},oe=ee.toString({parenthesis:"all"});!D[oe];){D[oe]=!0,q=0;var W=oe;de&&console.log("Working on: ",oe);for(var V=0;V<J.length;V++){var F="";if(typeof J[V]=="function"?(ee=J[V](ee,ue),de&&(F=J[V].name)):(x(ee,ue.context),ee=B(ee,J[V],ue.context),de&&(F="".concat(J[V].l.toString()," -> ").concat(J[V].r.toString()))),de){var j=ee.toString({parenthesis:"all"});j!==W&&(console.log("Applying",F,"produced",j),W=j)}_(ee,ue.context)}oe=ee.toString({parenthesis:"all"})}return ee}function R(te,J,fe){var ue=te;if(te)for(var de=0;de<te.length;++de){var ee=B(te[de],J,fe);ee!==te[de]&&(ue===te&&(ue=te.slice()),ue[de]=ee)}return ue}function B(te,J,fe){if(J.assuming){for(var ue in J.assuming)for(var de in J.assuming[ue])if(v(ue,de,fe)!==J.assuming[ue][de])return te}var ee=w(J.imposeContext,fe),D=te;if(D instanceof h||D instanceof c){var oe=R(D.args,J,fe);oe!==D.args&&(D=D.clone(),D.args=oe)}else if(D instanceof p){if(D.content){var W=B(D.content,J,fe);W!==D.content&&(D=new p(W))}}else if(D instanceof l){var V=R(D.items,J,fe);V!==D.items&&(D=new l(V))}else if(D instanceof s){var F=D.object;D.object&&(F=B(D.object,J,fe));var j=D.index;D.index&&(j=B(D.index,J,fe)),(F!==D.object||j!==D.index)&&(D=new s(F,j))}else if(D instanceof f){var se=R(D.dimensions,J,fe);se!==D.dimensions&&(D=new f(se))}else if(D instanceof d){var pe=!1,ae={};for(var H in D.properties)ae[H]=B(D.properties[H],J,fe),ae[H]!==D.properties[H]&&(pe=!0);pe&&(D=new d(ae))}var Q=J.r,ie=K(J.l,D,ee)[0];if(!ie&&J.expanded&&(Q=J.expanded.r,ie=K(J.expanded.l,D,ee)[0]),!ie&&J.expandedNC1&&(Q=J.expandedNC1.r,ie=K(J.expandedNC1.l,D,ee)[0],ie||(Q=J.expandedNC2.r,ie=K(J.expandedNC2.l,D,ee)[0])),ie){var ce=D.implicit;D=Q.clone(),ce&&"implicit"in Q&&(D.implicit=!0),D=D.transform(function(ve){return ve.isSymbolNode&&wt(ie.placeholders,ve.name)?ie.placeholders[ve.name].clone():ve})}return J.repeat&&D!==te&&(D=B(D,J,fe)),D}function z(te,J){var fe=[],ue,de,ee=k(te);if(y(te,J))for(var D=0;D<te.args.length;D++)de=te.args.slice(0),de.splice(D,1),ue=de.length===1?de[0]:ee(de),fe.push(ee([te.args[D],ue]));else for(var oe=1;oe<te.args.length;oe++){var W=te.args[0];oe>1&&(W=ee(te.args.slice(0,oe))),de=te.args.slice(oe),ue=de.length===1?de[0]:ee(de),fe.push(ee([W,ue]))}return fe}function P(te,J){var fe={placeholders:{}};if(!te.placeholders&&!J.placeholders)return fe;if(te.placeholders){if(!J.placeholders)return te}else return J;for(var ue in te.placeholders)if(wt(te.placeholders,ue)&&(fe.placeholders[ue]=te.placeholders[ue],wt(J.placeholders,ue)&&!Z(te.placeholders[ue],J.placeholders[ue])))return null;for(var de in J.placeholders)wt(J.placeholders,de)&&(fe.placeholders[de]=J.placeholders[de]);return fe}function $(te,J){var fe=[];if(te.length===0||J.length===0)return fe;for(var ue,de=0;de<te.length;de++)for(var ee=0;ee<J.length;ee++)ue=P(te[de],J[ee]),ue&&fe.push(ue);return fe}function X(te){if(te.length===0)return te;for(var J=te.reduce($),fe=[],ue={},de=0;de<J.length;de++){var ee=JSON.stringify(J[de],g);ue[ee]||(ue[ee]=!0,fe.push(J[de]))}return fe}function K(te,J,fe,ue){var de=[{placeholders:{}}];if(te instanceof h&&J instanceof h||te instanceof c&&J instanceof c){if(te instanceof h){if(te.op!==J.op||te.fn!==J.fn)return[]}else if(te instanceof c&&te.name!==J.name)return[];if(J.args.length===1&&te.args.length===1||!b(J,fe)&&J.args.length===te.args.length||ue){for(var ee=[],D=0;D<te.args.length;D++){var oe=K(te.args[D],J.args[D],fe);if(oe.length===0)break;ee.push(oe)}if(ee.length!==te.args.length){if(!y(J,fe)||te.args.length===1)return[];if(te.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var W=K(te.args[0],J.args[1],fe);if(W.length===0)return[];var V=K(te.args[1],J.args[0],fe);if(V.length===0)return[];ee=[W,V]}de=X(ee)}else if(J.args.length>=2&&te.args.length===2){for(var F=z(J,fe),j=[],se=0;se<F.length;se++){var pe=K(te,F[se],fe,!0);j=j.concat(pe)}return j}else{if(te.args.length>2)throw Error("Unexpected non-binary associative function: "+te.toString());return[]}}else if(te instanceof m){if(te.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(T[te.name]){if(te.name!==J.name)return[]}else switch(te.name[1]>="a"&&te.name[1]<="z"?te.name.substring(0,2):te.name[0]){case"n":case"_p":de[0].placeholders[te.name]=J;break;case"c":case"cl":if(Fn(J))de[0].placeholders[te.name]=J;else return[];break;case"v":if(!Fn(J))de[0].placeholders[te.name]=J;else return[];break;case"vl":if(ho(J))de[0].placeholders[te.name]=J;else return[];break;case"cd":if(fG(J))de[0].placeholders[te.name]=J;else return[];break;case"vd":if(!fG(J))de[0].placeholders[te.name]=J;else return[];break;case"ce":if(sC(J))de[0].placeholders[te.name]=J;else return[];break;case"ve":if(!sC(J))de[0].placeholders[te.name]=J;else return[];break;default:throw new Error("Invalid symbol in rule: "+te.name)}}else if(te instanceof u){if(!r(te.value,J.value))return[]}else return[];return de}function Z(te,J){if(te instanceof u&&J instanceof u){if(!r(te.value,J.value))return!1}else if(te instanceof m&&J instanceof m){if(te.name!==J.name)return!1}else if(te instanceof h&&J instanceof h||te instanceof c&&J instanceof c){if(te instanceof h){if(te.op!==J.op||te.fn!==J.fn)return!1}else if(te instanceof c&&te.name!==J.name)return!1;if(te.args.length!==J.args.length)return!1;for(var fe=0;fe<te.args.length;fe++)if(!Z(te.args[fe],J.args[fe]))return!1}else return!1;return!0}return A}),sHe="simplifyConstant",lHe=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],Lde=Ce(sHe,lHe,t=>{var{typed:e,config:n,mathWithTransform:r,matrix:i,fraction:o,bignumber:a,AccessorNode:s,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:f,ObjectNode:d,OperatorNode:h,SymbolNode:p}=t,{isCommutative:m,isAssociative:g,allChildren:v,createMakeNodeFunction:y}=nR({FunctionNode:c,OperatorNode:h,SymbolNode:p}),b=e("simplifyConstant",{Node:I=>_(T(I,{})),"Node, Object":function(O,q){return _(T(O,q))}});function w(I){return p1(I)?I.valueOf():I instanceof Array?I.map(w):Ht(I)?i(w(I.valueOf())):I}function x(I,O,q){try{return r[I].apply(null,O)}catch{return O=O.map(w),C(r[I].apply(null,O),q)}}var S=e({Fraction:M,number:function(O){return O<0?E(new u(-O)):new u(O)},BigNumber:function(O){return O<0?E(new u(-O)):new u(O)},bigint:function(O){return O<0n?E(new u(-O)):new u(O)},Complex:function(O){throw new Error("Cannot convert Complex number to Node")},string:function(O){return new u(O)},Matrix:function(O){return new l(O.valueOf().map(q=>S(q)))}});function _(I){return hr(I)?I:S(I)}function k(I,O){var q=O&&O.exactFractions!==!1;if(q&&isFinite(I)&&o){var L=o(I),Y=O&&typeof O.fractionsLimit=="number"?O.fractionsLimit:1/0;if(L.valueOf()===I&&L.n<Y&&L.d<Y)return L}return I}var C=e({"string, Object":function(O,q){var L=ip(O,n);if(L==="BigNumber")return a===void 0&&$P(),a(O);if(L==="bigint")return BigInt(O);if(L==="Fraction")return o===void 0&&Tue(),o(O);var Y=parseFloat(O);return k(Y,q)},"Fraction, Object":function(O,q){return O},"BigNumber, Object":function(O,q){return O},"number, Object":function(O,q){return k(O,q)},"bigint, Object":function(O,q){return O},"Complex, Object":function(O,q){return O.im!==0?O:k(O.re,q)},"Matrix, Object":function(O,q){return i(k(O.valueOf()))},"Array, Object":function(O,q){return O.map(k)}});function E(I){return new h("-","unaryMinus",[I])}function M(I){var O=Y=>n.number==="BigNumber"&&a?a(Y):Number(Y),q=I.s*I.n,L=q<0n?new h("-","unaryMinus",[new u(-O(q))]):new u(O(q));return I.d===1n?L:new h("/","divide",[L,new u(O(I.d))])}function A(I,O,q){if(!g1(O))return new s(_(I),_(O));if(hl(I)||Ht(I)){for(var L=Array.from(O.dimensions);L.length>0;)if(Fn(L[0])&&typeof L[0].value!="string"){var Y=C(L.shift().value,q);hl(I)?I=I.items[Y-1]:(I=I.valueOf()[Y-1],I instanceof Array&&(I=i(I)))}else if(L.length>1&&Fn(L[1])&&typeof L[1].value!="string"){var R=C(L[1].value,q),B=[],z=hl(I)?I.items:I.valueOf();for(var P of z)if(hl(P))B.push(P.items[R-1]);else if(Ht(I))B.push(P[R-1]);else break;if(B.length===z.length)hl(I)?I=new l(B):I=i(B),L.splice(1,1);else break}else break;return L.length===O.dimensions.length?new s(_(I),O):L.length>0?(O=new f(L),new s(_(I),O)):I}if(Zw(I)&&O.dimensions.length===1&&Fn(O.dimensions[0])){var $=O.dimensions[0].value;return $ in I.properties?I.properties[$]:new u}return new s(_(I),O)}function N(I,O,q,L){var Y=O.shift(),R=O.reduce((B,z)=>{if(!hr(z)){var P=B.pop();if(hr(P))return[P,z];try{return B.push(x(I,[P,z],L)),B}catch{B.push(P)}}B.push(_(B.pop()));var $=B.length===1?B[0]:q(B);return[q([$,_(z)])]},[Y]);return R.length===1?R[0]:q([R[0],S(R[1])])}function T(I,O){switch(I.type){case"SymbolNode":return I;case"ConstantNode":switch(typeof I.value){case"number":return C(I.value,O);case"bigint":return C(I.value,O);case"string":return I.value;default:if(!isNaN(I.value))return C(I.value,O)}return I;case"FunctionNode":if(r[I.name]&&r[I.name].rawArgs)return I;{var q=["add","multiply"];if(!q.includes(I.name)){var L=I.args.map(ue=>T(ue,O));if(!L.some(hr))try{return x(I.name,L,O)}catch{}if(I.name==="size"&&L.length===1&&hl(L[0])){for(var Y=[],R=L[0];hl(R);)Y.push(R.items.length),R=R.items[0];return i(Y)}return new c(I.name,L.map(_))}}case"OperatorNode":{var B=I.fn.toString(),z,P,$=y(I);if(Ni(I)&&I.isUnary())z=[T(I.args[0],O)],hr(z[0])?P=$(z):P=x(B,z,O);else if(g(I,O.context))if(z=v(I,O.context),z=z.map(ue=>T(ue,O)),m(B,O.context)){for(var X=[],K=[],Z=0;Z<z.length;Z++)hr(z[Z])?K.push(z[Z]):X.push(z[Z]);X.length>1?(P=N(B,X,$,O),K.unshift(P),P=N(B,K,$,O)):P=N(B,z,$,O)}else P=N(B,z,$,O);else z=I.args.map(ue=>T(ue,O)),P=N(B,z,$,O);return P}case"ParenthesisNode":return T(I.content,O);case"AccessorNode":return A(T(I.object,O),T(I.index,O),O);case"ArrayNode":{var te=I.items.map(ue=>T(ue,O));return te.some(hr)?new l(te.map(_)):i(te)}case"IndexNode":return new f(I.dimensions.map(ue=>b(ue,O)));case"ObjectNode":{var J={};for(var fe in I.properties)J[fe]=b(I.properties[fe],O);return new d(J)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(I.type))}}return b}),hG="simplifyCore",uHe=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],$de=Ce(hG,uHe,t=>{var{typed:e,parse:n,equal:r,isZero:i,add:o,subtract:a,multiply:s,divide:l,pow:u,AccessorNode:c,ArrayNode:f,ConstantNode:d,FunctionNode:h,IndexNode:p,ObjectNode:m,OperatorNode:g,ParenthesisNode:v,SymbolNode:y}=t,b=new d(0),w=new d(1),x=new d(!0),S=new d(!1);function _(M){return Ni(M)&&["and","not","or"].includes(M.op)}var{hasProperty:k,isCommutative:C}=nR({FunctionNode:h,OperatorNode:g,SymbolNode:y});function E(M){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=A?A.context:void 0;if(k(M,"trivial",N)){if(Wd(M)&&M.args.length===1)return E(M.args[0],A);var T=!1,I=0;if(M.forEach(K=>{++I,I===1&&(T=E(K,A))}),I===1)return T}var O=M;if(Wd(O)){var q=pFe(O.name);if(q){if(O.args.length>2&&k(O,"associative",N))for(;O.args.length>2;){var L=O.args.pop(),Y=O.args.pop();O.args.push(new g(q,O.name,[L,Y]))}O=new g(q,O.name,O.args)}else return new h(E(O.fn),O.args.map(K=>E(K,A)))}if(Ni(O)&&O.isUnary()){var R=E(O.args[0],A);if(O.op==="~"&&Ni(R)&&R.isUnary()&&R.op==="~"||O.op==="not"&&Ni(R)&&R.isUnary()&&R.op==="not"&&_(R.args[0]))return R.args[0];var B=!0;if(O.op==="-"&&Ni(R)&&(R.isBinary()&&R.fn==="subtract"&&(O=new g("-","subtract",[R.args[1],R.args[0]]),B=!1),R.isUnary()&&R.op==="-"))return R.args[0];if(B)return new g(O.op,O.fn,[R])}if(Ni(O)&&O.isBinary()){var z=E(O.args[0],A),P=E(O.args[1],A);if(O.op==="+"){if(Fn(z)&&i(z.value))return P;if(Fn(P)&&i(P.value))return z;Ni(P)&&P.isUnary()&&P.op==="-"&&(P=P.args[0],O=new g("-","subtract",[z,P]))}if(O.op==="-")return Ni(P)&&P.isUnary()&&P.op==="-"?E(new g("+","add",[z,P.args[0]]),A):Fn(z)&&i(z.value)?E(new g("-","unaryMinus",[P])):Fn(P)&&i(P.value)?z:new g(O.op,O.fn,[z,P]);if(O.op==="*"){if(Fn(z)){if(i(z.value))return b;if(r(z.value,1))return P}if(Fn(P)){if(i(P.value))return b;if(r(P.value,1))return z;if(C(O,N))return new g(O.op,O.fn,[P,z],O.implicit)}return new g(O.op,O.fn,[z,P],O.implicit)}if(O.op==="/")return Fn(z)&&i(z.value)?b:Fn(P)&&r(P.value,1)?z:new g(O.op,O.fn,[z,P]);if(O.op==="^"&&Fn(P)){if(i(P.value))return w;if(r(P.value,1))return z}if(O.op==="and"){if(Fn(z))if(z.value){if(_(P))return P;if(Fn(P))return P.value?x:S}else return S;if(Fn(P))if(P.value){if(_(z))return z}else return S}if(O.op==="or"){if(Fn(z)){if(z.value)return x;if(_(P))return P}if(Fn(P)){if(P.value)return x;if(_(z))return z}}return new g(O.op,O.fn,[z,P])}if(Ni(O))return new g(O.op,O.fn,O.args.map(K=>E(K,A)));if(hl(O))return new f(O.items.map(K=>E(K,A)));if(M0(O))return new c(E(O.object,A),E(O.index,A));if(g1(O))return new p(O.dimensions.map(K=>E(K,A)));if(Zw(O)){var $={};for(var X in O.properties)$[X]=E(O.properties[X],A);return new m($)}return O}return e(hG,{Node:E,"Node,Object":E})}),cHe="resolve",fHe=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],Bde=Ce(cHe,fHe,t=>{var{typed:e,parse:n,ConstantNode:r,FunctionNode:i,OperatorNode:o,ParenthesisNode:a}=t;function s(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!u)return l;if(ho(l)){if(c.has(l.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var d=u.get(l.name);if(hr(d)){var h=new Set(c);return h.add(l.name),s(d,u,h)}else return typeof d=="number"?n(String(d)):d!==void 0?new r(d):l}else if(Ni(l)){var p=l.args.map(function(g){return s(g,u,c)});return new o(l.op,l.fn,p,l.implicit)}else{if(lf(l))return new a(s(l.content,u,c));if(Wd(l)){var m=l.args.map(function(g){return s(g,u,c)});return new i(l.name,m)}}return l.map(g=>s(g,u,c))}return e("resolve",{Node:s,"Node, Map | null | undefined":s,"Node, Object":(l,u)=>s(l,Ug(u)),"Array | Matrix":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array | Matrix, null | undefined":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array, Object":e.referTo("Array,Map",l=>(u,c)=>l(u,Ug(c))),"Matrix, Object":e.referTo("Matrix,Map",l=>(u,c)=>l(u,Ug(c))),"Array | Matrix, Map":e.referToSelf(l=>(u,c)=>u.map(f=>l(f,c)))})}),pG="symbolicEqual",dHe=["parse","simplify","typed","OperatorNode"],zde=Ce(pG,dHe,t=>{var{parse:e,simplify:n,typed:r,OperatorNode:i}=t;function o(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=new i("-","subtract",[a,s]),c=n(u,{},l);return Fn(c)&&!c.value}return r(pG,{"Node, Node":o,"Node, Node, Object":o})}),mG="derivative",hHe=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],qde=Ce(mG,hHe,t=>{var{typed:e,config:n,parse:r,simplify:i,equal:o,isZero:a,numeric:s,ConstantNode:l,FunctionNode:u,OperatorNode:c,ParenthesisNode:f,SymbolNode:d}=t;function h(w,x){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},_=new Map,k=x.name;function C(M){var A=_.get(M);if(A!==void 0)return A;var N=v(C,M,k);return _.set(M,N),N}var E=y(w,C);return S.simplify?i(E):E}function p(w){var x=r(w);if(!x.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(w)," into a variable in function derivative"));return x}var m=e(mG,{"Node, SymbolNode":h,"Node, SymbolNode, Object":h,"Node, string":(w,x)=>h(w,p(x)),"Node, string, Object":(w,x,S)=>h(w,p(x),S)});m._simplify=!0,m.toTex=function(w){return g.apply(null,w.args)};var g=e("_derivTex",{"Node, SymbolNode":function(x,S){return Fn(x)&&Tr(x.value)==="string"?g(r(x.value).toString(),S.toString(),1):g(x.toTex(),S.toString(),1)},"Node, ConstantNode":function(x,S){if(Tr(S.value)==="string")return g(x,r(S.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(x,S,_){return g(x.toString(),S.name,_.value)},"string, string, number":function(x,S,_){var k;return _===1?k="{d\\over d"+S+"}":k="{d^{"+_+"}\\over d"+S+"^{"+_+"}}",k+"\\left[".concat(x,"\\right]")}}),v=e("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(x,S,_){return S.name!==_},"function, ParenthesisNode, string":function(x,S,_){return x(S.content,_)},"function, FunctionAssignmentNode, string":function(x,S,_){return S.params.includes(_)?x(S.expr,_):!0},"function, FunctionNode | OperatorNode, string":function(x,S,_){return S.args.every(k=>x(k,_))}}),y=e("_derivative",{"ConstantNode, function":function(){return b(0)},"SymbolNode, function":function(x,S){return S(x)?b(0):b(1)},"ParenthesisNode, function":function(x,S){return new f(y(x.content,S))},"FunctionAssignmentNode, function":function(x,S){return S(x)?b(0):y(x.expr,S)},"FunctionNode, function":function(x,S){if(S(x))return b(0);var _=x.args[0],k,C=!1,E=!1,M;switch(x.name){case"cbrt":C=!0,M=new c("*","multiply",[b(3),new c("^","pow",[_,new c("/","divide",[b(2),b(3)])])]);break;case"sqrt":case"nthRoot":if(x.args.length===1)C=!0,M=new c("*","multiply",[b(2),new u("sqrt",[_])]);else if(x.args.length===2)return k=new c("/","divide",[b(1),x.args[1]]),y(new c("^","pow",[_,k]),S);break;case"log10":k=b(10);case"log":if(!k&&x.args.length===1)M=_.clone(),C=!0;else if(x.args.length===1&&k||x.args.length===2&&S(x.args[1]))M=new c("*","multiply",[_.clone(),new u("log",[k||x.args[1]])]),C=!0;else if(x.args.length===2)return y(new c("/","divide",[new u("log",[_]),new u("log",[x.args[1]])]),S);break;case"pow":if(x.args.length===2)return y(new c("^","pow",[_,x.args[1]]),S);break;case"exp":M=new u("exp",[_.clone()]);break;case"sin":M=new u("cos",[_.clone()]);break;case"cos":M=new c("-","unaryMinus",[new u("sin",[_.clone()])]);break;case"tan":M=new c("^","pow",[new u("sec",[_.clone()]),b(2)]);break;case"sec":M=new c("*","multiply",[x,new u("tan",[_.clone()])]);break;case"csc":E=!0,M=new c("*","multiply",[x,new u("cot",[_.clone()])]);break;case"cot":E=!0,M=new c("^","pow",[new u("csc",[_.clone()]),b(2)]);break;case"asin":C=!0,M=new u("sqrt",[new c("-","subtract",[b(1),new c("^","pow",[_.clone(),b(2)])])]);break;case"acos":C=!0,E=!0,M=new u("sqrt",[new c("-","subtract",[b(1),new c("^","pow",[_.clone(),b(2)])])]);break;case"atan":C=!0,M=new c("+","add",[new c("^","pow",[_.clone(),b(2)]),b(1)]);break;case"asec":C=!0,M=new c("*","multiply",[new u("abs",[_.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[_.clone(),b(2)]),b(1)])])]);break;case"acsc":C=!0,E=!0,M=new c("*","multiply",[new u("abs",[_.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[_.clone(),b(2)]),b(1)])])]);break;case"acot":C=!0,E=!0,M=new c("+","add",[new c("^","pow",[_.clone(),b(2)]),b(1)]);break;case"sinh":M=new u("cosh",[_.clone()]);break;case"cosh":M=new u("sinh",[_.clone()]);break;case"tanh":M=new c("^","pow",[new u("sech",[_.clone()]),b(2)]);break;case"sech":E=!0,M=new c("*","multiply",[x,new u("tanh",[_.clone()])]);break;case"csch":E=!0,M=new c("*","multiply",[x,new u("coth",[_.clone()])]);break;case"coth":E=!0,M=new c("^","pow",[new u("csch",[_.clone()]),b(2)]);break;case"asinh":C=!0,M=new u("sqrt",[new c("+","add",[new c("^","pow",[_.clone(),b(2)]),b(1)])]);break;case"acosh":C=!0,M=new u("sqrt",[new c("-","subtract",[new c("^","pow",[_.clone(),b(2)]),b(1)])]);break;case"atanh":C=!0,M=new c("-","subtract",[b(1),new c("^","pow",[_.clone(),b(2)])]);break;case"asech":C=!0,E=!0,M=new c("*","multiply",[_.clone(),new u("sqrt",[new c("-","subtract",[b(1),new c("^","pow",[_.clone(),b(2)])])])]);break;case"acsch":C=!0,E=!0,M=new c("*","multiply",[new u("abs",[_.clone()]),new u("sqrt",[new c("+","add",[new c("^","pow",[_.clone(),b(2)]),b(1)])])]);break;case"acoth":C=!0,E=!0,M=new c("-","subtract",[b(1),new c("^","pow",[_.clone(),b(2)])]);break;case"abs":M=new c("/","divide",[new u(new d("abs"),[_.clone()]),_.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+x.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var A,N;C?(A="/",N="divide"):(A="*",N="multiply");var T=y(_,S);return E&&(T=new c("-","unaryMinus",[T])),new c(A,N,[T,M])},"OperatorNode, function":function(x,S){if(S(x))return b(0);if(x.op==="+")return new c(x.op,x.fn,x.args.map(function(O){return y(O,S)}));if(x.op==="-"){if(x.isUnary())return new c(x.op,x.fn,[y(x.args[0],S)]);if(x.isBinary())return new c(x.op,x.fn,[y(x.args[0],S),y(x.args[1],S)])}if(x.op==="*"){var _=x.args.filter(function(O){return S(O)});if(_.length>0){var k=x.args.filter(function(O){return!S(O)}),C=k.length===1?k[0]:new c("*","multiply",k),E=_.concat(y(C,S));return new c("*","multiply",E)}return new c("+","add",x.args.map(function(O){return new c("*","multiply",x.args.map(function(q){return q===O?y(q,S):q.clone()}))}))}if(x.op==="/"&&x.isBinary()){var M=x.args[0],A=x.args[1];return S(A)?new c("/","divide",[y(M,S),A]):S(M)?new c("*","multiply",[new c("-","unaryMinus",[M]),new c("/","divide",[y(A,S),new c("^","pow",[A.clone(),b(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[y(M,S),A.clone()]),new c("*","multiply",[M.clone(),y(A,S)])]),new c("^","pow",[A.clone(),b(2)])])}if(x.op==="^"&&x.isBinary()){var N=x.args[0],T=x.args[1];if(S(N))return Fn(N)&&(a(N.value)||o(N.value,1))?b(0):new c("*","multiply",[x,new c("*","multiply",[new u("log",[N.clone()]),y(T.clone(),S)])]);if(S(T)){if(Fn(T)){if(a(T.value))return b(0);if(o(T.value,1))return y(N,S)}var I=new c("^","pow",[N.clone(),new c("-","subtract",[T,b(1)])]);return new c("*","multiply",[T.clone(),new c("*","multiply",[y(N,S),I])])}return new c("*","multiply",[new c("^","pow",[N.clone(),T.clone()]),new c("+","add",[new c("*","multiply",[y(N,S),new c("/","divide",[T.clone(),N.clone()])]),new c("*","multiply",[y(T,S),new u("log",[N.clone()])])])])}throw new Error('Cannot process operator "'+x.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function b(w,x){return new l(s(w,ip(String(w),n)))}return m}),gG="rationalize",pHe=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],Vde=Ce(gG,pHe,t=>{var{config:e,typed:n,equal:r,isZero:i,add:o,subtract:a,multiply:s,divide:l,pow:u,parse:c,simplifyConstant:f,simplifyCore:d,simplify:h,fraction:p,bignumber:m,mathWithTransform:g,matrix:v,AccessorNode:y,ArrayNode:b,ConstantNode:w,FunctionNode:x,IndexNode:S,ObjectNode:_,OperatorNode:k,SymbolNode:C,ParenthesisNode:E}=t;function M(O){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Y=N(),R=A(O,q,!0,Y.firstRules),B=R.variables.length,z={exactFractions:!1},P={exactFractions:!0};if(O=R.expression,B>=1){O=T(O);var $,X,K=!0,Z=!1;O=h(O,Y.firstRules,{},z);for(var te;X=K?Y.distrDivRules:Y.sucDivRules,O=h(O,X,{},P),K=!K,te=O.toString(),te!==$;)Z=!0,$=te;Z&&(O=h(O,Y.firstRulesAgain,{},z)),O=h(O,Y.finalRules,{},z)}var J=[],fe={};return O.type==="OperatorNode"&&O.isBinary()&&O.op==="/"?(B===1&&(O.args[0]=I(O.args[0],J),O.args[1]=I(O.args[1])),L&&(fe.numerator=O.args[0],fe.denominator=O.args[1])):(B===1&&(O=I(O,J)),L&&(fe.numerator=O,fe.denominator=null)),L?(fe.coefficients=J,fe.variables=R.variables,fe.expression=O,fe):O}return n(gG,{Node:M,"Node, boolean":(O,q)=>M(O,{},q),"Node, Object":M,"Node, Object, boolean":M});function A(O,q,L,Y){var R=[],B=h(O,Y,q,{exactFractions:!1});L=!!L;var z="+-*"+(L?"/":"");$(B);var P={};return P.expression=B,P.variables=R,P;function $(X){var K=X.type;if(K==="FunctionNode")throw new Error("There is an unsolved function call");if(K==="OperatorNode")if(X.op==="^"){if(X.args[1].type!=="ConstantNode"||!Ft(parseFloat(X.args[1].value)))throw new Error("There is a non-integer exponent");$(X.args[0])}else{if(!z.includes(X.op))throw new Error("Operator "+X.op+" invalid in polynomial expression");for(var Z=0;Z<X.args.length;Z++)$(X.args[Z])}else if(K==="SymbolNode"){var te=X.name,J=R.indexOf(te);J===-1&&R.push(te)}else if(K==="ParenthesisNode")$(X.content);else if(K!=="ConstantNode")throw new Error("type "+K+" is not allowed in polynomial expression")}}function N(){var O=[d,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],q=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],L=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],Y=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],R={};return R.firstRules=O.concat(q,Y),R.distrDivRules=L,R.sucDivRules=Y,R.firstRulesAgain=O.concat(q),R.finalRules=[d,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],R}function T(O,q,L){var Y=O.type,R=arguments.length>1;if(Y==="OperatorNode"&&O.isBinary()){var B=!1,z;if(O.op==="^"&&(O.args[0].type==="ParenthesisNode"||O.args[0].type==="OperatorNode")&&O.args[1].type==="ConstantNode"&&(z=parseFloat(O.args[1].value),B=z>=2&&Ft(z)),B){if(z>2){var P=O.args[0],$=new k("^","pow",[O.args[0].cloneDeep(),new w(z-1)]);O=new k("*","multiply",[P,$])}else O=new k("*","multiply",[O.args[0],O.args[0].cloneDeep()]);R&&(L==="content"?q.content=O:q.args[L]=O)}}if(Y==="ParenthesisNode")T(O.content,O,"content");else if(Y!=="ConstantNode"&&Y!=="SymbolNode")for(var X=0;X<O.args.length;X++)T(O.args[X],O,X);if(!R)return O}function I(O,q){q===void 0&&(q=[]),q[0]=0;var L={};L.cte=1,L.oper="+",L.fire="";var Y=0,R="";te(O,null,L),Y=q.length-1;for(var B=!0,z,P=Y;P>=0;P--)if(q[P]!==0){var $=new w(B?q[P]:Math.abs(q[P])),X=q[P]<0?"-":"+";if(P>0){var K=new C(R);if(P>1){var Z=new w(P);K=new k("^","pow",[K,Z])}q[P]===-1&&B?$=new k("-","unaryMinus",[K]):Math.abs(q[P])===1?$=K:$=new k("*","multiply",[$,K])}B?z=$:X==="+"?z=new k("+","add",[z,$]):z=new k("-","subtract",[z,$]),B=!1}if(B)return new w(0);return z;function te(J,fe,ue){var de=J.type;if(de==="FunctionNode")throw new Error("There is an unsolved function call");if(de==="OperatorNode"){if(!"+-*^".includes(J.op))throw new Error("Operator "+J.op+" invalid");if(fe!==null){if((J.fn==="unaryMinus"||J.fn==="pow")&&fe.fn!=="add"&&fe.fn!=="subtract"&&fe.fn!=="multiply")throw new Error("Invalid "+J.op+" placing");if((J.fn==="subtract"||J.fn==="add"||J.fn==="multiply")&&fe.fn!=="add"&&fe.fn!=="subtract")throw new Error("Invalid "+J.op+" placing");if((J.fn==="subtract"||J.fn==="add"||J.fn==="unaryMinus")&&ue.noFil!==0)throw new Error("Invalid "+J.op+" placing")}(J.op==="^"||J.op==="*")&&(ue.fire=J.op);for(var ee=0;ee<J.args.length;ee++)J.fn==="unaryMinus"&&(ue.oper="-"),(J.op==="+"||J.fn==="subtract")&&(ue.fire="",ue.cte=1,ue.oper=ee===0?"+":J.op),ue.noFil=ee,te(J.args[ee],J,ue)}else if(de==="SymbolNode"){if(J.name!==R&&R!=="")throw new Error("There is more than one variable");if(R=J.name,fe===null){q[1]=1;return}if(fe.op==="^"&&ue.noFil!==0)throw new Error("In power the variable should be the first parameter");if(fe.op==="*"&&ue.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(ue.fire===""||ue.fire==="*")&&(Y<1&&(q[1]=0),q[1]+=ue.cte*(ue.oper==="+"?1:-1),Y=Math.max(1,Y))}else if(de==="ConstantNode"){var D=parseFloat(J.value);if(fe===null){q[0]=D;return}if(fe.op==="^"){if(ue.noFil!==1)throw new Error("Constant cannot be powered");if(!Ft(D)||D<=0)throw new Error("Non-integer exponent is not allowed");for(var oe=Y+1;oe<D;oe++)q[oe]=0;D>Y&&(q[D]=0),q[D]+=ue.cte*(ue.oper==="+"?1:-1),Y=Math.max(D,Y);return}ue.cte=D,ue.fire===""&&(q[0]+=ue.cte*(ue.oper==="+"?1:-1))}else throw new Error("Type "+de+" is not allowed")}}}),vG="zpk2tf",mHe=["typed","add","multiply","Complex","number"],Hde=Ce(vG,mHe,t=>{var{typed:e,add:n,multiply:r,Complex:i,number:o}=t;return e(vG,{"Array,Array,number":function(u,c,f){return a(u,c,f)},"Array,Array":function(u,c){return a(u,c,1)},"Matrix,Matrix,number":function(u,c,f){return a(u.valueOf(),c.valueOf(),f)},"Matrix,Matrix":function(u,c){return a(u.valueOf(),c.valueOf(),1)}});function a(l,u,c){l.some(y=>y.type==="BigNumber")&&(l=l.map(y=>o(y))),u.some(y=>y.type==="BigNumber")&&(u=u.map(y=>o(y)));for(var f=[i(1,0)],d=[i(1,0)],h=0;h<l.length;h++){var p=l[h];typeof p=="number"&&(p=i(p,0)),f=s(f,[i(1,0),i(-p.re,-p.im)])}for(var m=0;m<u.length;m++){var g=u[m];typeof g=="number"&&(g=i(g,0)),d=s(d,[i(1,0),i(-g.re,-g.im)])}for(var v=0;v<f.length;v++)f[v]=r(f[v],c);return[f,d]}function s(l,u){for(var c=[],f=0;f<l.length+u.length-1;f++){c[f]=i(0,0);for(var d=0;d<l.length;d++)f-d>=0&&f-d<u.length&&(c[f]=n(c[f],r(l[d],u[f-d])))}return c}}),yG="freqz",gHe=["typed","add","multiply","Complex","divide","matrix"],Ude=Ce(yG,gHe,t=>{var{typed:e,add:n,multiply:r,Complex:i,divide:o,matrix:a}=t;return e(yG,{"Array, Array":function(c,f){var d=l(512);return s(c,f,d)},"Array, Array, Array":function(c,f,d){return s(c,f,d)},"Array, Array, number":function(c,f,d){if(d<0)throw new Error("w must be a positive number");var h=l(d);return s(c,f,h)},"Matrix, Matrix":function(c,f){var d=l(512),{w:h,h:p}=s(c.valueOf(),f.valueOf(),d);return{w:a(h),h:a(p)}},"Matrix, Matrix, Matrix":function(c,f,d){var{h}=s(c.valueOf(),f.valueOf(),d.valueOf());return{h:a(h),w:a(d)}},"Matrix, Matrix, number":function(c,f,d){if(d<0)throw new Error("w must be a positive number");var h=l(d),{h:p}=s(c.valueOf(),f.valueOf(),h);return{h:a(p),w:a(h)}}});function s(u,c,f){for(var d=[],h=[],p=0;p<f.length;p++){for(var m=i(0,0),g=i(0,0),v=0;v<u.length;v++)m=n(m,r(u[v],i(Math.cos(-v*f[p]),Math.sin(-v*f[p]))));for(var y=0;y<c.length;y++)g=n(g,r(c[y],i(Math.cos(-y*f[p]),Math.sin(-y*f[p]))));d.push(m),h.push(g)}for(var b=[],w=0;w<d.length;w++)b.push(o(d[w],h[w]));return{h:b,w:f}}function l(u){for(var c=[],f=0;f<u;f++)c.push(f/u*Math.PI);return c}}),vHe="reviver",yHe=["classes"],jde=Ce(vHe,yHe,t=>{var{classes:e}=t;return function(r,i){var o=e[i&&i.mathjs];return o&&typeof o.fromJSON=="function"?o.fromJSON(i):i}}),bHe="replacer",wHe=[],Wde=Ce(bHe,wHe,()=>function(e,n){return typeof n=="number"&&(!isFinite(n)||isNaN(n))?{mathjs:"number",value:String(n)}:typeof n=="bigint"?{mathjs:"bigint",value:String(n)}:n}),xHe="14.5.3",Gde=Ce("true",[],()=>!0),Kde=Ce("false",[],()=>!1),Xde=Ce("null",[],()=>null),Yde=Ol("Infinity",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n(1/0):1/0}),Zde=Ol("NaN",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n(NaN):NaN}),Jde=Ol("pi",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?KP(n):XDe}),Qde=Ol("tau",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?dRe(n):YDe}),ehe=Ol("e",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?cRe(n):ZDe}),the=Ol("phi",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?fRe(n):JDe}),nhe=Ol("LN2",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n(2).ln():Math.LN2}),rhe=Ol("LN10",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n(10).ln():Math.LN10}),ihe=Ol("LOG2E",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n(1).div(new n(2).ln()):Math.LOG2E}),ohe=Ol("LOG10E",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n(1).div(new n(10).ln()):Math.LOG10E}),ahe=Ol("SQRT1_2",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n("0.5").sqrt():Math.SQRT1_2}),she=Ol("SQRT2",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n(2).sqrt():Math.SQRT2}),lhe=Ol("i",["Complex"],t=>{var{Complex:e}=t;return e.I}),SHe=Ce("PI",["pi"],t=>{var{pi:e}=t;return e}),_He=Ce("E",["e"],t=>{var{e}=t;return e}),uhe=Ce("version",[],()=>xHe);function Ol(t,e,n){return Ce(t,e,n,{recreateOnConfigChange:!0})}var che=pn("speedOfLight","299792458","m s^-1"),fhe=pn("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),dhe=pn("planckConstant","6.62607015e-34","J s"),hhe=pn("reducedPlanckConstant","1.0545718176461565e-34","J s"),phe=pn("magneticConstant","1.25663706212e-6","N A^-2"),mhe=pn("electricConstant","8.8541878128e-12","F m^-1"),ghe=pn("vacuumImpedance","376.730313667","ohm"),vhe=pn("coulomb","8.987551792261171e9","N m^2 C^-2"),yhe=pn("coulombConstant","8.987551792261171e9","N m^2 C^-2"),bhe=pn("elementaryCharge","1.602176634e-19","C"),whe=pn("bohrMagneton","9.2740100783e-24","J T^-1"),xhe=pn("conductanceQuantum","7.748091729863649e-5","S"),She=pn("inverseConductanceQuantum","12906.403729652257","ohm"),_he=pn("magneticFluxQuantum","2.0678338484619295e-15","Wb"),Che=pn("nuclearMagneton","5.0507837461e-27","J T^-1"),khe=pn("klitzing","25812.807459304513","ohm"),Ehe=pn("bohrRadius","5.29177210903e-11","m"),Ahe=pn("classicalElectronRadius","2.8179403262e-15","m"),The=pn("electronMass","9.1093837015e-31","kg"),Mhe=pn("fermiCoupling","1.1663787e-5","GeV^-2"),Dhe=vk("fineStructure",.0072973525693),Nhe=pn("hartreeEnergy","4.3597447222071e-18","J"),Ohe=pn("protonMass","1.67262192369e-27","kg"),Ihe=pn("deuteronMass","3.3435830926e-27","kg"),Phe=pn("neutronMass","1.6749271613e-27","kg"),Rhe=pn("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),Fhe=pn("rydberg","10973731.568160","m^-1"),Lhe=pn("thomsonCrossSection","6.6524587321e-29","m^2"),$he=vk("weakMixingAngle",.2229),Bhe=vk("efimovFactor",22.7),zhe=pn("atomicMass","1.66053906660e-27","kg"),qhe=pn("avogadro","6.02214076e23","mol^-1"),Vhe=pn("boltzmann","1.380649e-23","J K^-1"),Hhe=pn("faraday","96485.33212331001","C mol^-1"),Uhe=pn("firstRadiation","3.7417718521927573e-16","W m^2"),jhe=pn("loschmidt","2.686780111798444e25","m^-3"),Whe=pn("gasConstant","8.31446261815324","J K^-1 mol^-1"),Ghe=pn("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),Khe=pn("molarVolume","0.022413969545014137","m^3 mol^-1"),Xhe=vk("sackurTetrode",-1.16487052358),Yhe=pn("secondRadiation","0.014387768775039337","m K"),Zhe=pn("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),Jhe=pn("wienDisplacement","2.897771955e-3","m K"),Qhe=pn("molarMass","0.99999999965e-3","kg mol^-1"),e0e=pn("molarMassC12","11.9999999958e-3","kg mol^-1"),t0e=pn("gravity","9.80665","m s^-2"),n0e=pn("planckLength","1.616255e-35","m"),r0e=pn("planckMass","2.176435e-8","kg"),i0e=pn("planckTime","5.391245e-44","s"),o0e=pn("planckCharge","1.87554603778e-18","C"),a0e=pn("planckTemperature","1.416785e+32","K");function pn(t,e,n){var r=["config","Unit","BigNumber"];return Ce(t,r,i=>{var{config:o,Unit:a,BigNumber:s}=i,l=o.number==="BigNumber"?new s(e):parseFloat(e),u=new a(l,n);return u.fixPrefix=!0,u})}function vk(t,e){var n=["config","BigNumber"];return Ce(t,n,r=>{var{config:i,BigNumber:o}=r;return i.number==="BigNumber"?new o(e):e})}function bG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CHe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bG(Object(n),!0).forEach(function(r){ro(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var kHe="mapSlices",EHe=["typed","isInteger"],s0e=Ce(kHe,EHe,t=>{var{typed:e,isInteger:n}=t,r=J_({typed:e,isInteger:n});return e("mapSlices",{"...any":function(o){var a=o[1];mn(a)?o[1]=a-1:hn(a)&&(o[1]=a.minus(1));try{return r.apply(null,o)}catch(s){throw hs(s)}}})},CHe({isTransformFunction:!0},J_.meta)),AHe="column",THe=["typed","Index","matrix","range"],l0e=Ce(AHe,THe,t=>{var{typed:e,Index:n,matrix:r,range:i}=t,o=IP({typed:e,Index:n,matrix:r,range:i});return e("column",{"...any":function(s){var l=s.length-1,u=s[l];mn(u)&&(s[l]=u-1);try{return o.apply(null,s)}catch(c){throw hs(c)}}})},{isTransformFunction:!0});function rR(t,e,n){var r=t.filter(function(l){return ho(l)&&!(l.name in e)&&!n.has(l.name)})[0];if(!r)throw new Error('No undefined variable found in inline expression "'+t+'"');var i=r.name,o=new Map,a=new Tae(n,o,new Set([i])),s=t.compile();return function(u){return o.set(i,u),s.evaluate(a)}}var MHe="transformCallback",DHe=["typed"],iR=Ce(MHe,DHe,t=>{var{typed:e}=t;return function(r,i){return e.isTypedFunction(r)?n(r,i):wG(r,r.length,i)};function n(r,i){var o=Object.fromEntries(Object.entries(r.signatures).map(a=>{var[s,l]=a,u=s.split(",").length;return e.isTypedFunction(l)?[s,n(l,i)]:[s,wG(l,u,i)]}));return typeof r.name=="string"?e(r.name,o):e(o)}});function wG(t,e,n){return e===n?t:e===n+1?function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.slice(0,n),s=xG(i[n]);return t(...a,s)}:e>n+1?function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.slice(0,n),s=xG(i[n]),l=i.slice(n+1);return t(...a,s,...l)}:t}function xG(t){return t.map(e=>e+1)}var NHe="filter",OHe=["typed"],u0e=Ce(NHe,OHe,t=>{var{typed:e}=t;function n(i,o,a){var s=PP({typed:e}),l=iR({typed:e});if(i.length===0)return s();var u=i[0];if(i.length===1)return s(u);var c=i.length-1,f=i[c];return u&&(u=r(u,a)),f&&(ho(f)||cy(f)?f=r(f,a):f=rR(f,o,a)),s(u,l(f,c))}n.rawArgs=!0;function r(i,o){return i.compile().evaluate(o)}return n},{isTransformFunction:!0}),IHe="forEach",PHe=["typed"],c0e=Ce(IHe,PHe,t=>{var{typed:e}=t,n=RP({typed:e}),r=iR({typed:e});function i(a,s,l){if(a.length===0)return n();var u=a[0];if(a.length===1)return n(u);var c=a.length-1,f=a[c];return u&&(u=o(u,l)),f&&(ho(f)||cy(f)?f=o(f,l):f=rR(f,s,l)),n(u,r(f,c))}i.rawArgs=!0;function o(a,s){return a.compile().evaluate(s)}return i},{isTransformFunction:!0}),RHe="index",FHe=["Index","getMatrixDataType"],f0e=Ce(RHe,FHe,t=>{var{Index:e,getMatrixDataType:n}=t;return function(){for(var i=[],o=0,a=arguments.length;o<a;o++){var s=arguments[o];if(sk(s))s.start--,s.end-=s.step>0?0:2;else if(s&&s.isSet===!0)s=s.map(function(u){return u-1});else if(wr(s)||Ht(s))n(s)!=="boolean"&&(s=s.map(function(u){return u-1}));else if(mn(s)||jg(s))s--;else if(hn(s))s=s.toNumber()-1;else if(typeof s!="string")throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");i[o]=s}var l=new e;return e.apply(l,i),l}},{isTransformFunction:!0}),LHe="map",$He=["typed"],d0e=Ce(LHe,$He,t=>{var{typed:e}=t,n=FP({typed:e}),r=iR({typed:e});function i(o,a,s){if(o.length===0)return n();if(o.length===1)return n(o[0]);var l=o.length-1,u=o.slice(0,l),c=o[l];return u=u.map(d=>f(d,s)),c&&(ho(c)||cy(c)?c=f(c,s):c=rR(c,a,s)),n(...u,r(c,l));function f(d,h){return d.compile().evaluate(h)}}return i.rawArgs=!0,i},{isTransformFunction:!0});function BHe(t){return mn(t)?t-1:hn(t)?t.minus(1):t}function zHe(t){return mn(t)||hn(t)}function sp(t){if(t.length===2&&Ml(t[0])){t=t.slice();var e=t[1];zHe(e)&&(t[1]=BHe(e))}return t}var qHe="max",VHe=["typed","config","numeric","larger","isNaN"],h0e=Ce(qHe,VHe,t=>{var{typed:e,config:n,numeric:r,larger:i,isNaN:o}=t,a=WP({typed:e,config:n,numeric:r,larger:i,isNaN:o});return e("max",{"...any":function(l){l=sp(l);try{return a.apply(null,l)}catch(u){throw hs(u)}}})},{isTransformFunction:!0}),HHe="mean",UHe=["typed","add","divide"],p0e=Ce(HHe,UHe,t=>{var{typed:e,add:n,divide:r}=t,i=ZP({typed:e,add:n,divide:r});return e("mean",{"...any":function(a){a=sp(a);try{return i.apply(null,a)}catch(s){throw hs(s)}}})},{isTransformFunction:!0}),jHe="min",WHe=["typed","config","numeric","smaller","isNaN"],m0e=Ce(jHe,WHe,t=>{var{typed:e,config:n,numeric:r,smaller:i,isNaN:o}=t,a=GP({typed:e,config:n,numeric:r,smaller:i,isNaN:o});return e("min",{"...any":function(l){l=sp(l);try{return a.apply(null,l)}catch(u){throw hs(u)}}})},{isTransformFunction:!0}),GHe="range",KHe=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],g0e=Ce(GHe,KHe,t=>{var{typed:e,config:n,matrix:r,bignumber:i,smaller:o,smallerEq:a,larger:s,largerEq:l,add:u,isPositive:c}=t,f=BP({typed:e,config:n,matrix:r,bignumber:i,smaller:o,smallerEq:a,larger:s,largerEq:l,add:u,isPositive:c});return e("range",{"...any":function(h){var p=h.length-1,m=h[p];return typeof m!="boolean"&&h.push(!0),f.apply(null,h)}})},{isTransformFunction:!0}),XHe="row",YHe=["typed","Index","matrix","range"],v0e=Ce(XHe,YHe,t=>{var{typed:e,Index:n,matrix:r,range:i}=t,o=zP({typed:e,Index:n,matrix:r,range:i});return e("row",{"...any":function(s){var l=s.length-1,u=s[l];mn(u)&&(s[l]=u-1);try{return o.apply(null,s)}catch(c){throw hs(c)}}})},{isTransformFunction:!0}),ZHe="subset",JHe=["typed","matrix","zeros","add"],y0e=Ce(ZHe,JHe,t=>{var{typed:e,matrix:n,zeros:r,add:i}=t,o=qP({typed:e,matrix:n,zeros:r,add:i});return e("subset",{"...any":function(s){try{return o.apply(null,s)}catch(l){throw hs(l)}}})},{isTransformFunction:!0}),QHe="concat",eUe=["typed","matrix","isInteger"],b0e=Ce(QHe,eUe,t=>{var{typed:e,matrix:n,isInteger:r}=t,i=OP({typed:e,matrix:n,isInteger:r});return e("concat",{"...any":function(a){var s=a.length-1,l=a[s];mn(l)?a[s]=l-1:hn(l)&&(a[s]=l.minus(1));try{return i.apply(null,a)}catch(u){throw hs(u)}}})},{isTransformFunction:!0}),SG="diff",tUe=["typed","matrix","subtract","number","bignumber"],w0e=Ce(SG,tUe,t=>{var{typed:e,matrix:n,subtract:r,number:i,bignumber:o}=t,a=LP({typed:e,matrix:n,subtract:r,number:i,bignumber:o});return e(SG,{"...any":function(l){l=sp(l);try{return a.apply(null,l)}catch(u){throw hs(u)}}})},{isTransformFunction:!0}),nUe="std",rUe=["typed","map","sqrt","variance"],x0e=Ce(nUe,rUe,t=>{var{typed:e,map:n,sqrt:r,variance:i}=t,o=eR({typed:e,map:n,sqrt:r,variance:i});return e("std",{"...any":function(s){s=sp(s);try{return o.apply(null,s)}catch(l){throw hs(l)}}})},{isTransformFunction:!0}),_G="sum",iUe=["typed","config","add","numeric"],S0e=Ce(_G,iUe,t=>{var{typed:e,config:n,add:r,numeric:i}=t,o=XP({typed:e,config:n,add:r,numeric:i});return e(_G,{"...any":function(s){s=sp(s);try{return o.apply(null,s)}catch(l){throw hs(l)}}})},{isTransformFunction:!0}),oUe="quantileSeq",aUe=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],_0e=Ce(oUe,aUe,t=>{var{typed:e,bignumber:n,add:r,subtract:i,divide:o,multiply:a,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:d,mapSlices:h}=t,p=QP({typed:e,bignumber:n,add:r,subtract:i,divide:o,multiply:a,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:d,mapSlices:h});return e("quantileSeq",{"Array | Matrix, number | BigNumber":p,"Array | Matrix, number | BigNumber, number":(g,v,y)=>p(g,v,m(y)),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(g,v,y,b)=>p(g,v,y,m(b)),"Array | Matrix, Array | Matrix":p,"Array | Matrix, Array | Matrix, number":(g,v,y)=>p(g,v,m(y)),"Array | Matrix, Array | Matrix, boolean":p,"Array | Matrix, Array | Matrix, boolean, number":(g,v,y,b)=>p(g,v,y,m(b))});function m(g){return sp([[],g])[1]}},{isTransformFunction:!0}),CG="cumsum",sUe=["typed","add","unaryPlus"],C0e=Ce(CG,sUe,t=>{var{typed:e,add:n,unaryPlus:r}=t,i=YP({typed:e,add:n,unaryPlus:r});return e(CG,{"...any":function(a){if(a.length===2&&Ml(a[0])){var s=a[1];mn(s)?a[1]=s-1:hn(s)&&(a[1]=s.minus(1))}try{return i.apply(null,a)}catch(l){throw hs(l)}}})},{isTransformFunction:!0}),kG="variance",lUe=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],k0e=Ce(kG,lUe,t=>{var{typed:e,add:n,subtract:r,multiply:i,divide:o,mapSlices:a,isNaN:s}=t,l=JP({typed:e,add:n,subtract:r,multiply:i,divide:o,mapSlices:a,isNaN:s});return e(kG,{"...any":function(c){c=sp(c);try{return l.apply(null,c)}catch(f){throw hs(f)}}})},{isTransformFunction:!0}),EG="print",uUe=["typed","matrix","zeros","add"],E0e=Ce(EG,uUe,t=>{var{typed:e,matrix:n,zeros:r,add:i}=t,o=VP({typed:e,matrix:n,zeros:r,add:i});return e(EG,{"string, Object | Array":function(l,u){return o(a(l),u)},"string, Object | Array, number | Object":function(l,u,c){return o(a(l),u,c)}});function a(s){return s.replace(Yue,l=>{var u=l.slice(1).split("."),c=u.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+c.join(".")})}},{isTransformFunction:!0}),cUe="and",fUe=["typed","matrix","zeros","add","equalScalar","not","concat"],A0e=Ce(cUe,fUe,t=>{var{typed:e,matrix:n,equalScalar:r,zeros:i,not:o,concat:a}=t,s=jP({typed:e,matrix:n,equalScalar:r,zeros:i,not:o,concat:a});function l(u,c,f){var d=u[0].compile().evaluate(f);if(!Ml(d)&&!s(d,!0))return!1;var h=u[1].compile().evaluate(f);return s(d,h)}return l.rawArgs=!0,l},{isTransformFunction:!0}),dUe="or",hUe=["typed","matrix","equalScalar","DenseMatrix","concat"],T0e=Ce(dUe,hUe,t=>{var{typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o}=t,a=NP({typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o});function s(l,u,c){var f=l[0].compile().evaluate(c);if(!Ml(f)&&a(f,!1))return!0;var d=l[1].compile().evaluate(c);return a(f,d)}return s.rawArgs=!0,s},{isTransformFunction:!0}),pUe="bitAnd",mUe=["typed","matrix","zeros","add","equalScalar","not","concat"],M0e=Ce(pUe,mUe,t=>{var{typed:e,matrix:n,equalScalar:r,zeros:i,not:o,concat:a}=t,s=MP({typed:e,matrix:n,equalScalar:r,zeros:i,not:o,concat:a});function l(u,c,f){var d=u[0].compile().evaluate(f);if(!Ml(d)){if(isNaN(d))return NaN;if(d===0||d===!1)return 0}var h=u[1].compile().evaluate(f);return s(d,h)}return l.rawArgs=!0,l},{isTransformFunction:!0}),gUe="bitOr",vUe=["typed","matrix","equalScalar","DenseMatrix","concat"],D0e=Ce(gUe,vUe,t=>{var{typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o}=t,a=DP({typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o});function s(l,u,c){var f=l[0].compile().evaluate(c);if(!Ml(f)){if(isNaN(f))return NaN;if(f===-1)return-1;if(f===!0)return 1}var d=l[1].compile().evaluate(c);return a(f,d)}return s.rawArgs=!0,s},{isTransformFunction:!0});const yUe=Object.freeze(Object.defineProperty({__proto__:null,createAbs:Vle,createAccessorNode:Efe,createAcos:Fce,createAcosh:Lce,createAcot:$ce,createAcoth:Bce,createAcsc:zce,createAcsch:qce,createAdd:vfe,createAddScalar:Hle,createAnd:jP,createAndTransform:A0e,createArg:pue,createArrayNode:Afe,createAsec:Vce,createAsech:Hce,createAsin:Uce,createAsinh:jce,createAssignmentNode:Tfe,createAtan:Wce,createAtan2:Gce,createAtanh:Kce,createAtomicMass:zhe,createAvogadro:qhe,createBellNumbers:Ode,createBigNumberClass:cse,createBigint:Mle,createBignumber:Ole,createBin:Gue,createBitAnd:MP,createBitAndTransform:M0e,createBitNot:due,createBitOr:DP,createBitOrTransform:D0e,createBitXor:hue,createBlockNode:Mfe,createBohrMagneton:whe,createBohrRadius:Ehe,createBoltzmann:Vhe,createBoolean:Nle,createCatalan:Ide,createCbrt:jle,createCeil:Wle,createChain:rde,createChainClass:tde,createClassicalElectronRadius:Ahe,createClone:Ase,createColumn:IP,createColumnTransform:l0e,createCombinations:bde,createCombinationsWithRep:wde,createCompare:mce,createCompareNatural:gce,createCompareText:vce,createCompile:Hfe,createComplex:Ile,createComplexClass:fse,createComposition:Pde,createConcat:OP,createConcatTransform:b0e,createConditionalNode:Dfe,createConductanceQuantum:xhe,createConj:mue,createConstantNode:Ofe,createCorr:yde,createCos:Xce,createCosh:Yce,createCot:Zce,createCoth:Jce,createCoulomb:vhe,createCoulombConstant:yhe,createCount:wue,createCreateUnit:Rce,createCross:xue,createCsc:Qce,createCsch:efe,createCtranspose:Lue,createCube:Gle,createCumSum:YP,createCumSumTransform:C0e,createDeepEqual:Cce,createDenseMatrixClass:Ese,createDerivative:qde,createDet:ide,createDeuteronMass:Ihe,createDiag:Sue,createDiff:LP,createDiffTransform:w0e,createDistance:pde,createDivide:hde,createDivideScalar:ece,createDot:wfe,createDotDivide:sce,createDotMultiply:fue,createDotPow:ace,createE:ehe,createEfimovFactor:Bhe,createEigs:sde,createElectricConstant:mhe,createElectronMass:The,createElementaryCharge:bhe,createEqual:yce,createEqualScalar:Ele,createEqualText:bce,createErf:Vue,createEvaluate:Ufe,createExp:Kle,createExpm:lde,createExpm1:Xle,createFactorial:_de,createFalse:Kde,createFaraday:Hhe,createFermiCoupling:Mhe,createFft:Bue,createFibonacciHeapClass:Dce,createFilter:PP,createFilterTransform:u0e,createFineStructure:Dhe,createFirstRadiation:Uhe,createFix:Yle,createFlatten:_ue,createFloor:CP,createForEach:RP,createForEachTransform:c0e,createFormat:Wue,createFraction:Ple,createFractionClass:dse,createFreqz:Ude,createFunctionAssignmentNode:Ife,createFunctionNode:qfe,createGamma:xde,createGasConstant:Whe,createGcd:Zle,createGetMatrixDataType:Cue,createGravitationConstant:fhe,createGravity:t0e,createHartreeEnergy:Nhe,createHasNumericValue:xle,createHelp:nde,createHelpClass:ede,createHex:Xue,createHypot:yfe,createI:lhe,createIdentity:kue,createIfft:zue,createIm:gue,createImmutableDenseMatrixClass:Tce,createIndex:Sfe,createIndexClass:Mce,createIndexNode:Pfe,createIndexTransform:f0e,createInfinity:Yde,createIntersect:mde,createInv:ode,createInverseConductanceQuantum:She,createInvmod:uue,createIsInteger:Mse,createIsNaN:Cle,createIsNegative:ble,createIsNumeric:wle,createIsPositive:Sle,createIsPrime:Jue,createIsZero:_le,createKldivergence:Cde,createKlitzing:khe,createKron:Eue,createLN10:rhe,createLN2:nhe,createLOG10E:ohe,createLOG2E:ihe,createLarger:Sce,createLargerEq:_ce,createLcm:Jle,createLeafCount:Rde,createLeftShift:dce,createLgamma:Sde,createLog:rce,createLog10:Qle,createLog1p:ice,createLog2:eue,createLoschmidt:jhe,createLsolve:lce,createLsolveAll:cce,createLup:Gfe,createLusolve:Jfe,createLyap:dde,createMad:vde,createMagneticConstant:phe,createMagneticFluxQuantum:_he,createMap:FP,createMapSlices:J_,createMapSlicesTransform:s0e,createMapTransform:d0e,createMatrix:Rle,createMatrixClass:pse,createMatrixFromColumns:$le,createMatrixFromFunction:Fle,createMatrixFromRows:Lle,createMax:WP,createMaxTransform:h0e,createMean:ZP,createMeanTransform:p0e,createMedian:gde,createMin:GP,createMinTransform:m0e,createMod:kP,createMode:Uue,createMolarMass:Qhe,createMolarMassC12:e0e,createMolarPlanckConstant:Ghe,createMolarVolume:Khe,createMultinomial:kde,createMultiply:nue,createMultiplyScalar:tue,createNaN:Zde,createNeutronMass:Phe,createNode:Cfe,createNorm:bfe,createNot:yue,createNthRoot:rue,createNthRoots:oce,createNuclearMagneton:Che,createNull:Xde,createNumber:Tle,createNumeric:Que,createObjectNode:Rfe,createOct:Kue,createOnes:Aue,createOperatorNode:Ffe,createOr:NP,createOrTransform:T0e,createParenthesisNode:Lfe,createParse:Vfe,createParser:Wfe,createParserClass:jfe,createPartitionSelect:Ece,createPermutations:Ede,createPhi:the,createPi:Jde,createPickRandom:Tde,createPinv:ade,createPlanckCharge:o0e,createPlanckConstant:dhe,createPlanckLength:n0e,createPlanckMass:r0e,createPlanckTemperature:a0e,createPlanckTime:i0e,createPolynomialRoot:Qfe,createPow:tce,createPrint:VP,createPrintTransform:E0e,createProd:jue,createProtonMass:Ohe,createQr:Kfe,createQuantileSeq:QP,createQuantileSeqTransform:_0e,createQuantumOfCirculation:Rhe,createRandom:Mde,createRandomInt:Dde,createRange:BP,createRangeClass:hse,createRangeNode:$fe,createRangeTransform:g0e,createRationalize:Vde,createRe:vue,createReducedPlanckConstant:hhe,createRelationalNode:Bfe,createReplacer:Wde,createReshape:Due,createResize:Nue,createResolve:Bde,createResultSet:Jae,createReviver:jde,createRightArithShift:hce,createRightLogShift:pce,createRotate:Oue,createRotationMatrix:Iue,createRound:nce,createRow:zP,createRowTransform:v0e,createRydberg:Fhe,createSQRT1_2:ahe,createSQRT2:she,createSackurTetrode:Xhe,createSchur:fde,createSec:tfe,createSech:nfe,createSecondRadiation:Yhe,createSetCartesian:sfe,createSetDifference:lfe,createSetDistinct:ufe,createSetIntersect:cfe,createSetIsSubset:ffe,createSetMultiplicity:dfe,createSetPowerset:hfe,createSetSize:pfe,createSetSymDifference:mfe,createSetUnion:gfe,createSign:iue,createSimplify:Fde,createSimplifyConstant:Lde,createSimplifyCore:$de,createSin:rfe,createSinh:ife,createSize:Pue,createSlu:Zfe,createSmaller:wce,createSmallerEq:xce,createSolveODE:que,createSort:Ace,createSpaClass:Nce,createSparse:Pce,createSparseMatrixClass:Ale,createSpeedOfLight:che,createSplitUnit:Ble,createSqrt:oue,createSqrtm:ude,createSquare:aue,createSqueeze:Rue,createStd:eR,createStdTransform:x0e,createStefanBoltzmann:Zhe,createStirlingS2:Nde,createString:Dle,createSubset:qP,createSubsetTransform:y0e,createSubtract:sue,createSubtractScalar:Ule,createSum:XP,createSumTransform:S0e,createSylvester:cde,createSymbolNode:zfe,createSymbolicEqual:zde,createTan:ofe,createTanh:afe,createTau:Qde,createThomsonCrossSection:Lhe,createTo:Zue,createTrace:xfe,createTranspose:Fue,createTrue:Gde,createTypeOf:kle,createTyped:Zae,createUnaryMinus:zle,createUnaryPlus:qle,createUnequal:kce,createUnitClass:Oce,createUnitFunction:Ice,createUppercaseE:_He,createUppercasePi:SHe,createUsolve:uce,createUsolveAll:fce,createVacuumImpedance:ghe,createVariance:JP,createVarianceTransform:k0e,createVersion:uhe,createWeakMixingAngle:$he,createWienDisplacement:Jhe,createXgcd:lue,createXor:bue,createZeros:$ue,createZeta:Hue,createZpk2tf:Hde},Symbol.toStringTag,{value:"Module"}));var ct=cse({config:Xe}),Dr=fse({}),AG=ehe({BigNumber:ct,config:Xe}),bUe=Kde({}),wUe=Dhe({BigNumber:ct,config:Xe}),y1=dse({}),N0e=lhe({Complex:Dr}),xUe=Yde({BigNumber:ct,config:Xe}),SUe=rhe({BigNumber:ct,config:Xe}),_Ue=ohe({BigNumber:ct,config:Xe}),yk=pse({}),CUe=Zde({BigNumber:ct,config:Xe}),kUe=Xde({}),EUe=the({BigNumber:ct,config:Xe}),AUe=hse({}),O0e=Jae({}),TUe=ahe({BigNumber:ct,config:Xe}),MUe=Xhe({BigNumber:ct,config:Xe}),I0e=Qde({BigNumber:ct,config:Xe}),DUe=Gde({}),NUe=uhe({}),Sn=Ese({Matrix:yk}),OUe=Bhe({BigNumber:ct,config:Xe}),IUe=nhe({BigNumber:ct,config:Xe}),pD=Jde({BigNumber:ct,config:Xe}),P0e=Wde({}),PUe=she({BigNumber:ct,config:Xe}),Oe=Zae({BigNumber:ct,Complex:Dr,DenseMatrix:Sn,Fraction:y1}),RUe=$he({BigNumber:ct,config:Xe}),ps=Vle({typed:Oe}),FUe=Fce({Complex:Dr,config:Xe,typed:Oe}),LUe=$ce({BigNumber:ct,typed:Oe}),$Ue=zce({BigNumber:ct,Complex:Dr,config:Xe,typed:Oe}),yo=Hle({typed:Oe}),BUe=pue({typed:Oe}),zUe=Hce({BigNumber:ct,Complex:Dr,config:Xe,typed:Oe}),qUe=jce({typed:Oe}),R0e=Wce({typed:Oe}),VUe=Kce({Complex:Dr,config:Xe,typed:Oe}),HUe=Mle({typed:Oe}),UUe=due({typed:Oe}),jUe=Nle({typed:Oe}),WUe=Ase({typed:Oe}),bk=bde({typed:Oe}),wk=Ile({Complex:Dr,typed:Oe}),b1=mue({typed:Oe}),oR=Xce({typed:Oe}),GUe=Zce({BigNumber:ct,typed:Oe}),KUe=Qce({BigNumber:ct,typed:Oe}),XUe=Gle({typed:Oe}),Mn=Ele({config:Xe,typed:Oe}),YUe=Vue({typed:Oe}),F0e=Kle({typed:Oe}),ZUe=Xle({Complex:Dr,typed:Oe}),JUe=PP({typed:Oe}),n4=_ue({typed:Oe}),QUe=RP({typed:Oe}),r4=Wue({typed:Oe}),aR=Cue({typed:Oe}),eje=Xue({format:r4,typed:Oe}),sR=gue({typed:Oe}),zs=Mse({typed:Oe}),lp=ble({config:Xe,typed:Oe}),w1=Sle({config:Xe,typed:Oe}),yf=_le({equalScalar:Mn,typed:Oe}),tje=ihe({BigNumber:ct,config:Xe}),nje=Sde({Complex:Dr,typed:Oe}),rje=Qle({Complex:Dr,config:Xe,typed:Oe}),lR=eue({Complex:Dr,config:Xe,typed:Oe}),x1=FP({typed:Oe}),Li=tue({typed:Oe}),lC=yue({typed:Oe}),ah=Tle({typed:Oe}),ije=Kue({format:r4,typed:Oe}),oje=Tde({config:Xe,typed:Oe}),aje=VP({typed:Oe}),sje=Mde({config:Xe,typed:Oe}),uR=vue({typed:Oe}),lje=tfe({BigNumber:ct,typed:Oe}),L0e=iue({BigNumber:ct,Fraction:y1,complex:wk,typed:Oe}),xk=rfe({typed:Oe}),bo=Ale({Matrix:yk,equalScalar:Mn,typed:Oe}),uje=Ble({typed:Oe}),cje=aue({typed:Oe}),fje=Dle({typed:Oe}),ku=Ule({typed:Oe}),dje=ofe({typed:Oe}),cR=kle({typed:Oe}),hje=Lce({Complex:Dr,config:Xe,typed:Oe}),pje=qce({BigNumber:ct,typed:Oe}),mje=Vce({BigNumber:ct,Complex:Dr,config:Xe,typed:Oe}),qs=Ole({BigNumber:ct,typed:Oe}),gje=wde({typed:Oe}),vje=Yce({typed:Oe}),yje=efe({BigNumber:ct,typed:Oe}),Ad=Cle({typed:Oe}),bje=Jue({typed:Oe}),H3=J_({isInteger:zs,typed:Oe}),ut=Rle({DenseMatrix:Sn,Matrix:yk,SparseMatrix:bo,typed:Oe}),wje=Fle({isZero:yf,matrix:ut,typed:Oe}),xje=Aue({BigNumber:ct,config:Xe,matrix:ut,typed:Oe}),Sje=Dde({config:Xe,log2:lR,typed:Oe}),$0e=Due({isInteger:zs,matrix:ut,typed:Oe}),_je=nfe({BigNumber:ct,typed:Oe}),Cje=ife({typed:Oe}),kje=Pce({SparseMatrix:bo,typed:Oe}),cc=oue({Complex:Dr,config:Xe,typed:Oe}),Eje=Rue({typed:Oe}),Aje=afe({typed:Oe}),i4=Fue({matrix:ut,typed:Oe}),B0e=lue({BigNumber:ct,config:Xe,matrix:ut,typed:Oe}),Yo=$ue({BigNumber:ct,config:Xe,matrix:ut,typed:Oe}),Tje=Bce({BigNumber:ct,Complex:Dr,config:Xe,typed:Oe}),Mje=Uce({Complex:Dr,config:Xe,typed:Oe}),Dje=Gue({format:r4,typed:Oe}),Kn=OP({isInteger:zs,matrix:ut,typed:Oe}),Nje=Jce({BigNumber:ct,typed:Oe}),fR=Lue({conj:b1,transpose:i4,typed:Oe}),z0e=Sue({DenseMatrix:Sn,SparseMatrix:bo,matrix:ut,typed:Oe}),Oje=fue({concat:Kn,equalScalar:Mn,matrix:ut,multiplyScalar:Li,typed:Oe}),Eu=yce({DenseMatrix:Sn,SparseMatrix:bo,concat:Kn,equalScalar:Mn,matrix:ut,typed:Oe}),o4=Ple({Fraction:y1,typed:Oe}),up=kue({BigNumber:ct,DenseMatrix:Sn,SparseMatrix:bo,config:Xe,matrix:ut,typed:Oe}),S1=wle({typed:Oe}),Ije=Eue({matrix:ut,multiplyScalar:Li,typed:Oe}),Sk=_ce({DenseMatrix:Sn,SparseMatrix:bo,concat:Kn,config:Xe,matrix:ut,typed:Oe}),Pje=dce({DenseMatrix:Sn,concat:Kn,equalScalar:Mn,matrix:ut,typed:Oe,zeros:Yo}),Rje=Uue({isNaN:Ad,isNumeric:S1,typed:Oe}),Fje=rue({BigNumber:ct,concat:Kn,equalScalar:Mn,matrix:ut,typed:Oe}),su=Que({bignumber:qs,fraction:o4,number:ah}),q0e=jue({config:Xe,multiplyScalar:Li,numeric:su,typed:Oe}),Lje=Nue({config:Xe,matrix:ut}),$je=hce({DenseMatrix:Sn,concat:Kn,equalScalar:Mn,matrix:ut,typed:Oe,zeros:Yo}),gy=nce({BigNumber:ct,DenseMatrix:Sn,config:Xe,equalScalar:Mn,matrix:ut,typed:Oe,zeros:Yo}),aa=Pue({matrix:ut,config:Xe,typed:Oe}),Qa=wce({DenseMatrix:Sn,SparseMatrix:bo,bignumber:qs,concat:Kn,config:Xe,matrix:ut,typed:Oe}),Bje=Zue({concat:Kn,matrix:ut,typed:Oe}),bf=zle({typed:Oe}),zje=kce({DenseMatrix:Sn,SparseMatrix:bo,concat:Kn,config:Xe,equalScalar:Mn,matrix:ut,typed:Oe}),qje=bue({DenseMatrix:Sn,SparseMatrix:bo,concat:Kn,matrix:ut,typed:Oe}),Ln=vfe({DenseMatrix:Sn,SparseMatrix:bo,addScalar:yo,concat:Kn,equalScalar:Mn,matrix:ut,typed:Oe}),Vje=Gce({BigNumber:ct,DenseMatrix:Sn,concat:Kn,equalScalar:Mn,matrix:ut,typed:Oe}),Hje=MP({concat:Kn,equalScalar:Mn,matrix:ut,typed:Oe}),Uje=DP({DenseMatrix:Sn,concat:Kn,equalScalar:Mn,matrix:ut,typed:Oe}),jje=hue({DenseMatrix:Sn,SparseMatrix:bo,concat:Kn,matrix:ut,typed:Oe}),V0e=jle({BigNumber:ct,Complex:Dr,Fraction:y1,config:Xe,isNegative:lp,matrix:ut,typed:Oe,unaryMinus:bf}),_1=mce({BigNumber:ct,DenseMatrix:Sn,Fraction:y1,concat:Kn,config:Xe,equalScalar:Mn,matrix:ut,typed:Oe}),H0e=vce({concat:Kn,matrix:ut,typed:Oe}),Wje=wue({prod:q0e,size:aa,typed:Oe}),dR=Cce({equal:Eu,typed:Oe}),vi=ece({numeric:su,typed:Oe}),a4=sce({DenseMatrix:Sn,SparseMatrix:bo,concat:Kn,divideScalar:vi,equalScalar:Mn,matrix:ut,typed:Oe}),Gje=bce({compareText:H0e,isZero:yf,typed:Oe}),U0e=CP({DenseMatrix:Sn,config:Xe,equalScalar:Mn,matrix:ut,round:gy,typed:Oe,zeros:Yo}),Kje=Zle({BigNumber:ct,DenseMatrix:Sn,concat:Kn,config:Xe,equalScalar:Mn,matrix:ut,round:gy,typed:Oe,zeros:Yo}),Xje=xle({isNumeric:S1,typed:Oe}),Yje=yfe({abs:ps,addScalar:yo,divideScalar:vi,isPositive:w1,multiplyScalar:Li,smaller:Qa,sqrt:cc,typed:Oe}),j0e=Tce({DenseMatrix:Sn,smaller:Qa}),_a=Mce({ImmutableDenseMatrix:j0e,getMatrixDataType:aR}),es=Sce({DenseMatrix:Sn,SparseMatrix:bo,bignumber:qs,concat:Kn,config:Xe,matrix:ut,typed:Oe}),hR=rce({Complex:Dr,config:Xe,divideScalar:vi,typeOf:cR,typed:Oe}),W0e=lce({DenseMatrix:Sn,divideScalar:vi,equalScalar:Mn,matrix:ut,multiplyScalar:Li,subtractScalar:ku,typed:Oe}),pR=$le({flatten:n4,matrix:ut,size:aa,typed:Oe}),mR=WP({config:Xe,isNaN:Ad,larger:es,numeric:su,typed:Oe}),Zje=GP({config:Xe,isNaN:Ad,numeric:su,smaller:Qa,typed:Oe}),G0e=kP({DenseMatrix:Sn,concat:Kn,config:Xe,equalScalar:Mn,matrix:ut,round:gy,typed:Oe,zeros:Yo}),Jje=oce({Complex:Dr,config:Xe,divideScalar:vi,typed:Oe}),Qje=NP({DenseMatrix:Sn,concat:Kn,equalScalar:Mn,matrix:ut,typed:Oe}),_k=Ece({compare:_1,isNaN:Ad,isNumeric:S1,typed:Oe}),gR=Kfe({addScalar:yo,complex:wk,conj:b1,divideScalar:vi,equal:Eu,identity:up,isZero:yf,matrix:ut,multiplyScalar:Li,sign:L0e,sqrt:cc,subtractScalar:ku,typed:Oe,unaryMinus:bf,zeros:Yo}),eWe=pce({DenseMatrix:Sn,concat:Kn,equalScalar:Mn,matrix:ut,typed:Oe,zeros:Yo}),Av=xce({DenseMatrix:Sn,SparseMatrix:bo,concat:Kn,config:Xe,matrix:ut,typed:Oe}),Il=qP({add:Ln,matrix:ut,typed:Oe,zeros:Yo}),ji=sue({DenseMatrix:Sn,concat:Kn,equalScalar:Mn,matrix:ut,subtractScalar:ku,typed:Oe,unaryMinus:bf}),tWe=xfe({add:Ln,matrix:ut,typed:Oe}),vR=uce({DenseMatrix:Sn,divideScalar:vi,equalScalar:Mn,matrix:ut,multiplyScalar:Li,subtractScalar:ku,typed:Oe}),nWe=Ide({addScalar:yo,combinations:bk,divideScalar:vi,isInteger:zs,isNegative:lp,multiplyScalar:Li,typed:Oe}),wf=gce({compare:_1,typed:Oe}),rWe=Pde({addScalar:yo,combinations:bk,isInteger:zs,isNegative:lp,isPositive:w1,larger:es,typed:Oe}),iWe=LP({matrix:ut,number:ah,subtract:ji,typed:Oe}),oWe=pde({abs:ps,addScalar:yo,deepEqual:dR,divideScalar:vi,multiplyScalar:Li,sqrt:cc,subtractScalar:ku,typed:Oe}),Ck=wfe({addScalar:yo,conj:b1,multiplyScalar:Li,size:aa,typed:Oe}),K0e=Dce({larger:es,smaller:Qa}),X0e=Sfe({Index:_a,typed:Oe}),aWe=uue({BigNumber:ct,add:Ln,config:Xe,equal:Eu,isInteger:zs,mod:G0e,smaller:Qa,typed:Oe,xgcd:B0e}),sWe=Jle({concat:Kn,equalScalar:Mn,matrix:ut,typed:Oe}),lWe=ice({Complex:Dr,config:Xe,divideScalar:vi,log:hR,typed:Oe}),uWe=cce({DenseMatrix:Sn,divideScalar:vi,equalScalar:Mn,matrix:ut,multiplyScalar:Li,subtractScalar:ku,typed:Oe}),cWe=Lle({flatten:n4,matrix:ut,size:aa,typed:Oe}),gr=nue({addScalar:yo,dot:Ck,equalScalar:Mn,matrix:ut,multiplyScalar:Li,typed:Oe}),Tv=BP({bignumber:qs,matrix:ut,add:Ln,config:Xe,isPositive:w1,larger:es,largerEq:Sk,smaller:Qa,smallerEq:Av,typed:Oe}),fWe=zP({Index:_a,matrix:ut,range:Tv,typed:Oe}),dWe=sfe({DenseMatrix:Sn,Index:_a,compareNatural:wf,size:aa,subset:Il,typed:Oe}),hWe=ufe({DenseMatrix:Sn,Index:_a,compareNatural:wf,size:aa,subset:Il,typed:Oe}),pWe=ffe({Index:_a,compareNatural:wf,size:aa,subset:Il,typed:Oe}),mWe=hfe({Index:_a,compareNatural:wf,size:aa,subset:Il,typed:Oe}),Y0e=Zfe({SparseMatrix:bo,abs:ps,add:Ln,divideScalar:vi,larger:es,largerEq:Sk,multiply:gr,subtract:ji,transpose:i4,typed:Oe}),gWe=Ace({compare:_1,compareNatural:wf,matrix:ut,typed:Oe}),yR=qle({config:Xe,numeric:su,typed:Oe}),Z0e=fce({DenseMatrix:Sn,divideScalar:vi,equalScalar:Mn,matrix:ut,multiplyScalar:Li,subtractScalar:ku,typed:Oe}),vWe=Hde({Complex:Dr,add:Ln,multiply:gr,number:ah,typed:Oe}),yWe=jP({concat:Kn,equalScalar:Mn,matrix:ut,not:lC,typed:Oe,zeros:Yo}),bR=Wle({DenseMatrix:Sn,config:Xe,equalScalar:Mn,matrix:ut,round:gy,typed:Oe,zeros:Yo}),J0e=IP({Index:_a,matrix:ut,range:Tv,typed:Oe}),bWe=xue({matrix:ut,multiply:gr,subtract:ji,typed:Oe}),Q0e=ide({divideScalar:vi,isZero:yf,matrix:ut,multiply:gr,subtractScalar:ku,typed:Oe,unaryMinus:bf}),epe=Yle({Complex:Dr,DenseMatrix:Sn,ceil:bR,equalScalar:Mn,floor:U0e,matrix:ut,typed:Oe,zeros:Yo}),C1=ode({abs:ps,addScalar:yo,det:Q0e,divideScalar:vi,identity:up,matrix:ut,multiply:gr,typed:Oe,unaryMinus:bf}),wWe=ade({Complex:Dr,add:Ln,ctranspose:fR,deepEqual:dR,divideScalar:vi,dot:Ck,dotDivide:a4,equal:Eu,inv:C1,matrix:ut,multiply:gr,typed:Oe}),fc=tce({Complex:Dr,config:Xe,fraction:o4,identity:up,inv:C1,matrix:ut,multiply:gr,number:ah,typed:Oe}),tpe=lfe({DenseMatrix:Sn,Index:_a,compareNatural:wf,size:aa,subset:Il,typed:Oe}),xWe=dfe({Index:_a,compareNatural:wf,size:aa,subset:Il,typed:Oe}),npe=mfe({Index:_a,concat:Kn,setDifference:tpe,size:aa,subset:Il,typed:Oe}),rpe=Nce({FibonacciHeap:K0e,addScalar:yo,equalScalar:Mn}),SWe=ude({abs:ps,add:Ln,identity:up,inv:C1,map:x1,max:mR,multiply:gr,size:aa,sqrt:cc,subtract:ji,typed:Oe}),wR=XP({add:Ln,config:Xe,numeric:su,typed:Oe}),rn=Oce({BigNumber:ct,Complex:Dr,Fraction:y1,abs:ps,addScalar:yo,config:Xe,divideScalar:vi,equal:Eu,fix:epe,format:r4,isNumeric:S1,multiplyScalar:Li,number:ah,pow:fc,round:gy,subtractScalar:ku}),_We=ghe({BigNumber:ct,Unit:rn,config:Xe}),CWe=Jhe({BigNumber:ct,Unit:rn,config:Xe}),kWe=zhe({BigNumber:ct,Unit:rn,config:Xe}),EWe=whe({BigNumber:ct,Unit:rn,config:Xe}),AWe=Vhe({BigNumber:ct,Unit:rn,config:Xe}),TWe=xhe({BigNumber:ct,Unit:rn,config:Xe}),MWe=vhe({BigNumber:ct,Unit:rn,config:Xe}),DWe=Rce({Unit:rn,typed:Oe}),NWe=Ihe({BigNumber:ct,Unit:rn,config:Xe}),OWe=ace({DenseMatrix:Sn,SparseMatrix:bo,concat:Kn,equalScalar:Mn,matrix:ut,pow:fc,typed:Oe}),IWe=mhe({BigNumber:ct,Unit:rn,config:Xe}),PWe=bhe({BigNumber:ct,Unit:rn,config:Xe}),RWe=lde({abs:ps,add:Ln,identity:up,inv:C1,multiply:gr,typed:Oe}),FWe=Hhe({BigNumber:ct,Unit:rn,config:Xe}),ipe=Bue({addScalar:yo,ceil:bR,conj:b1,divideScalar:vi,dotDivide:a4,exp:F0e,i:N0e,log2:lR,matrix:ut,multiplyScalar:Li,pow:fc,tau:I0e,typed:Oe}),xR=xde({BigNumber:ct,Complex:Dr,config:Xe,multiplyScalar:Li,pow:fc,typed:Oe}),LWe=fhe({BigNumber:ct,Unit:rn,config:Xe}),$We=Nhe({BigNumber:ct,Unit:rn,config:Xe}),BWe=zue({conj:b1,dotDivide:a4,fft:ipe,typed:Oe}),zWe=She({BigNumber:ct,Unit:rn,config:Xe}),qWe=khe({BigNumber:ct,Unit:rn,config:Xe}),VWe=jhe({BigNumber:ct,Unit:rn,config:Xe}),HWe=phe({BigNumber:ct,Unit:rn,config:Xe}),UWe=Qhe({BigNumber:ct,Unit:rn,config:Xe}),jWe=Ghe({BigNumber:ct,Unit:rn,config:Xe}),WWe=Phe({BigNumber:ct,Unit:rn,config:Xe}),GWe=Che({BigNumber:ct,Unit:rn,config:Xe}),KWe=o0e({BigNumber:ct,Unit:rn,config:Xe}),XWe=n0e({BigNumber:ct,Unit:rn,config:Xe}),YWe=a0e({BigNumber:ct,Unit:rn,config:Xe}),ZWe=Ohe({BigNumber:ct,Unit:rn,config:Xe}),JWe=Rhe({BigNumber:ct,Unit:rn,config:Xe}),QWe=hhe({BigNumber:ct,Unit:rn,config:Xe}),eGe=Fhe({BigNumber:ct,Unit:rn,config:Xe}),tGe=Yhe({BigNumber:ct,Unit:rn,config:Xe}),nGe=pfe({compareNatural:wf,typed:Oe}),rGe=che({BigNumber:ct,Unit:rn,config:Xe}),iGe=Zhe({BigNumber:ct,Unit:rn,config:Xe}),oGe=Lhe({BigNumber:ct,Unit:rn,config:Xe}),aGe=qhe({BigNumber:ct,Unit:rn,config:Xe}),sGe=Ehe({BigNumber:ct,Unit:rn,config:Xe}),lGe=yhe({BigNumber:ct,Unit:rn,config:Xe}),Qo=hde({divideScalar:vi,equalScalar:Mn,inv:C1,matrix:ut,multiply:gr,typed:Oe}),uGe=The({BigNumber:ct,Unit:rn,config:Xe}),s4=_de({gamma:xR,typed:Oe}),cGe=Uhe({BigNumber:ct,Unit:rn,config:Xe}),fGe=t0e({BigNumber:ct,Unit:rn,config:Xe}),dGe=mde({abs:ps,add:Ln,addScalar:yo,config:Xe,divideScalar:vi,equalScalar:Mn,flatten:n4,isNumeric:S1,isZero:yf,matrix:ut,multiply:gr,multiplyScalar:Li,smaller:Qa,subtract:ji,typed:Oe}),ope=Gfe({DenseMatrix:Sn,Spa:rpe,SparseMatrix:bo,abs:ps,addScalar:yo,divideScalar:vi,equalScalar:Mn,larger:es,matrix:ut,multiplyScalar:Li,subtractScalar:ku,typed:Oe,unaryMinus:bf}),hGe=_he({BigNumber:ct,Unit:rn,config:Xe}),pGe=e0e({BigNumber:ct,Unit:rn,config:Xe}),mGe=kde({add:Ln,divide:Qo,factorial:s4,isInteger:zs,isPositive:w1,multiply:gr,typed:Oe}),gGe=Ede({factorial:s4,typed:Oe}),vGe=r0e({BigNumber:ct,Unit:rn,config:Xe}),yGe=Qfe({add:Ln,cbrt:V0e,divide:Qo,equalScalar:Mn,im:sR,isZero:yf,multiply:gr,re:uR,sqrt:cc,subtract:ji,typeOf:cR,typed:Oe,unaryMinus:bf}),ape=cfe({DenseMatrix:Sn,Index:_a,compareNatural:wf,size:aa,subset:Il,typed:Oe}),bGe=que({abs:ps,add:Ln,bignumber:qs,divide:Qo,isNegative:lp,isPositive:w1,larger:es,map:x1,matrix:ut,max:mR,multiply:gr,smaller:Qa,subtract:ji,typed:Oe,unaryMinus:bf}),spe=Nde({bignumber:qs,addScalar:yo,combinations:bk,divideScalar:vi,factorial:s4,isInteger:zs,isNegative:lp,larger:es,multiplyScalar:Li,number:ah,pow:fc,subtractScalar:ku,typed:Oe}),wGe=Ice({Unit:rn,typed:Oe}),xGe=Ode({addScalar:yo,isInteger:zs,isNegative:lp,stirlingS2:spe,typed:Oe}),SGe=YP({add:Ln,typed:Oe,unaryPlus:yR}),lpe=sde({abs:ps,add:Ln,addScalar:yo,atan:R0e,bignumber:qs,column:J0e,complex:wk,config:Xe,cos:oR,diag:z0e,divideScalar:vi,dot:Ck,equal:Eu,flatten:n4,im:sR,inv:C1,larger:es,matrix:ut,matrixFromColumns:pR,multiply:gr,multiplyScalar:Li,number:ah,qr:gR,re:uR,reshape:$0e,sin:xk,size:aa,smaller:Qa,sqrt:cc,subtract:ji,typed:Oe,usolve:vR,usolveAll:Z0e}),_Ge=Mhe({BigNumber:ct,Unit:rn,config:Xe}),CGe=Whe({BigNumber:ct,Unit:rn,config:Xe}),kGe=Cde({divide:Qo,dotDivide:a4,isNumeric:S1,log:hR,map:x1,matrix:ut,multiply:gr,sum:wR,typed:Oe}),upe=Jfe({DenseMatrix:Sn,lsolve:W0e,lup:ope,matrix:ut,slu:Y0e,typed:Oe,usolve:vR}),cpe=ZP({add:Ln,divide:Qo,typed:Oe}),EGe=Khe({BigNumber:ct,Unit:rn,config:Xe}),AGe=dhe({BigNumber:ct,Unit:rn,config:Xe}),TGe=QP({bignumber:qs,add:Ln,compare:_1,divide:Qo,isInteger:zs,larger:es,mapSlices:H3,multiply:gr,partitionSelect:_k,smaller:Qa,smallerEq:Av,subtract:ji,typed:Oe}),MGe=gfe({Index:_a,concat:Kn,setIntersect:ape,setSymDifference:npe,size:aa,subset:Il,typed:Oe}),SR=JP({add:Ln,divide:Qo,isNaN:Ad,mapSlices:H3,multiply:gr,subtract:ji,typed:Oe}),DGe=Ahe({BigNumber:ct,Unit:rn,config:Xe}),fpe=gde({add:Ln,compare:_1,divide:Qo,partitionSelect:_k,typed:Oe}),NGe=yde({add:Ln,divide:Qo,matrix:ut,mean:cpe,multiply:gr,pow:fc,sqrt:cc,subtract:ji,sum:wR,typed:Oe}),OGe=Ude({Complex:Dr,add:Ln,divide:Qo,matrix:ut,multiply:gr,typed:Oe}),IGe=vde({abs:ps,map:x1,median:fpe,subtract:ji,typed:Oe}),PGe=eR({map:x1,sqrt:cc,typed:Oe,variance:SR}),RGe=Hue({BigNumber:ct,Complex:Dr,add:Ln,config:Xe,divide:Qo,equal:Eu,factorial:s4,gamma:xR,isNegative:lp,multiply:gr,pi:pD,pow:fc,sin:xk,smallerEq:Av,subtract:ji,typed:Oe}),_R=bfe({abs:ps,add:Ln,conj:b1,ctranspose:fR,eigs:lpe,equalScalar:Mn,larger:es,matrix:ut,multiply:gr,pow:fc,smaller:Qa,sqrt:cc,typed:Oe}),dpe=Iue({BigNumber:ct,DenseMatrix:Sn,SparseMatrix:bo,addScalar:yo,config:Xe,cos:oR,matrix:ut,multiplyScalar:Li,norm:_R,sin:xk,typed:Oe,unaryMinus:bf}),FGe=i0e({BigNumber:ct,Unit:rn,config:Xe}),hpe=fde({identity:up,matrix:ut,multiply:gr,norm:_R,qr:gR,subtract:ji,typed:Oe}),LGe=Oue({multiply:gr,rotationMatrix:dpe,typed:Oe}),ppe=cde({abs:ps,add:Ln,concat:Kn,identity:up,index:X0e,lusolve:upe,matrix:ut,matrixFromColumns:pR,multiply:gr,range:Tv,schur:hpe,subset:Il,subtract:ji,transpose:i4,typed:Oe}),$Ge=dde({matrix:ut,multiply:gr,sylvester:ppe,transpose:i4,typed:Oe}),vy={},l4={},mpe={},Da=Cfe({mathWithTransform:l4}),yy=Rfe({Node:Da}),sh=Ffe({Node:Da}),k1=Lfe({Node:Da}),gpe=Bfe({Node:Da}),by=Afe({Node:Da}),vpe=Mfe({Node:Da,ResultSet:O0e}),ype=Dfe({Node:Da}),cp=Ofe({Node:Da}),bpe=$fe({Node:Da}),BGe=jde({classes:mpe}),CR=tde({math:vy,typed:Oe}),wpe=Ife({Node:Da,typed:Oe}),zGe=rde({Chain:CR,typed:Oe}),wy=Efe({Node:Da,subset:Il}),xpe=Tfe({matrix:ut,Node:Da,subset:Il}),xy=Pfe({Node:Da,size:aa}),fp=zfe({Unit:rn,Node:Da,math:vy}),dp=qfe({Node:Da,SymbolNode:fp,math:vy}),dc=Vfe({AccessorNode:wy,ArrayNode:by,AssignmentNode:xpe,BlockNode:vpe,ConditionalNode:ype,ConstantNode:cp,FunctionAssignmentNode:wpe,FunctionNode:dp,IndexNode:xy,ObjectNode:yy,OperatorNode:sh,ParenthesisNode:k1,RangeNode:bpe,RelationalNode:gpe,SymbolNode:fp,config:Xe,numeric:su,typed:Oe}),Spe=Bde({ConstantNode:cp,FunctionNode:dp,OperatorNode:sh,ParenthesisNode:k1,parse:dc,typed:Oe}),kR=Lde({bignumber:qs,fraction:o4,AccessorNode:wy,ArrayNode:by,ConstantNode:cp,FunctionNode:dp,IndexNode:xy,ObjectNode:yy,OperatorNode:sh,SymbolNode:fp,config:Xe,mathWithTransform:l4,matrix:ut,typed:Oe}),qGe=Hfe({parse:dc,typed:Oe}),ER=$de({AccessorNode:wy,ArrayNode:by,ConstantNode:cp,FunctionNode:dp,IndexNode:xy,ObjectNode:yy,OperatorNode:sh,ParenthesisNode:k1,SymbolNode:fp,add:Ln,divide:Qo,equal:Eu,isZero:yf,multiply:gr,parse:dc,pow:fc,subtract:ji,typed:Oe}),kk=Ufe({parse:dc,typed:Oe}),_pe=ede({evaluate:kk}),Cpe=jfe({evaluate:kk,parse:dc}),Ek=Fde({AccessorNode:wy,ArrayNode:by,ConstantNode:cp,FunctionNode:dp,IndexNode:xy,ObjectNode:yy,OperatorNode:sh,ParenthesisNode:k1,SymbolNode:fp,equal:Eu,parse:dc,replacer:P0e,resolve:Spe,simplifyConstant:kR,simplifyCore:ER,typed:Oe}),VGe=zde({OperatorNode:sh,parse:dc,simplify:Ek,typed:Oe}),HGe=Rde({parse:dc,typed:Oe}),UGe=Wfe({Parser:Cpe,typed:Oe}),jGe=Vde({bignumber:qs,fraction:o4,AccessorNode:wy,ArrayNode:by,ConstantNode:cp,FunctionNode:dp,IndexNode:xy,ObjectNode:yy,OperatorNode:sh,ParenthesisNode:k1,SymbolNode:fp,add:Ln,config:Xe,divide:Qo,equal:Eu,isZero:yf,mathWithTransform:l4,matrix:ut,multiply:gr,parse:dc,pow:fc,simplify:Ek,simplifyConstant:kR,simplifyCore:ER,subtract:ji,typed:Oe}),WGe=qde({ConstantNode:cp,FunctionNode:dp,OperatorNode:sh,ParenthesisNode:k1,SymbolNode:fp,config:Xe,equal:Eu,isZero:yf,numeric:su,parse:dc,simplify:Ek,typed:Oe}),GGe=nde({Help:_pe,mathWithTransform:l4,typed:Oe});Ji(vy,{e:AG,false:bUe,fineStructure:wUe,i:N0e,Infinity:xUe,LN10:SUe,LOG10E:_Ue,NaN:CUe,null:kUe,phi:EUe,SQRT1_2:TUe,sackurTetrode:MUe,tau:I0e,true:DUe,E:AG,version:NUe,efimovFactor:OUe,LN2:IUe,pi:pD,replacer:P0e,reviver:BGe,SQRT2:PUe,typed:Oe,PI:pD,weakMixingAngle:RUe,abs:ps,acos:FUe,acot:LUe,acsc:$Ue,addScalar:yo,arg:BUe,asech:zUe,asinh:qUe,atan:R0e,atanh:VUe,bigint:HUe,bitNot:UUe,boolean:jUe,clone:WUe,combinations:bk,complex:wk,conj:b1,cos:oR,cot:GUe,csc:KUe,cube:XUe,equalScalar:Mn,erf:YUe,exp:F0e,expm1:ZUe,filter:JUe,flatten:n4,forEach:QUe,format:r4,getMatrixDataType:aR,hex:eje,im:sR,isInteger:zs,isNegative:lp,isPositive:w1,isZero:yf,LOG2E:tje,lgamma:nje,log10:rje,log2:lR,map:x1,multiplyScalar:Li,not:lC,number:ah,oct:ije,pickRandom:oje,print:aje,random:sje,re:uR,sec:lje,sign:L0e,sin:xk,splitUnit:uje,square:cje,string:fje,subtractScalar:ku,tan:dje,typeOf:cR,acosh:hje,acsch:pje,asec:mje,bignumber:qs,chain:zGe,combinationsWithRep:gje,cosh:vje,csch:yje,isNaN:Ad,isPrime:bje,mapSlices:H3,matrix:ut,matrixFromFunction:wje,ones:xje,randomInt:Sje,reshape:$0e,sech:_je,sinh:Cje,sparse:kje,sqrt:cc,squeeze:Eje,tanh:Aje,transpose:i4,xgcd:B0e,zeros:Yo,acoth:Tje,asin:Mje,bin:Dje,concat:Kn,coth:Nje,ctranspose:fR,diag:z0e,dotMultiply:Oje,equal:Eu,fraction:o4,identity:up,isNumeric:S1,kron:Ije,largerEq:Sk,leftShift:Pje,mode:Rje,nthRoot:Fje,numeric:su,prod:q0e,resize:Lje,rightArithShift:$je,round:gy,size:aa,smaller:Qa,to:Bje,unaryMinus:bf,unequal:zje,xor:qje,add:Ln,atan2:Vje,bitAnd:Hje,bitOr:Uje,bitXor:jje,cbrt:V0e,compare:_1,compareText:H0e,count:Wje,deepEqual:dR,divideScalar:vi,dotDivide:a4,equalText:Gje,floor:U0e,gcd:Kje,hasNumericValue:Xje,hypot:Yje,larger:es,log:hR,lsolve:W0e,matrixFromColumns:pR,max:mR,min:Zje,mod:G0e,nthRoots:Jje,or:Qje,partitionSelect:_k,qr:gR,rightLogShift:eWe,smallerEq:Av,subset:Il,subtract:ji,trace:tWe,usolve:vR,catalan:nWe,compareNatural:wf,composition:rWe,diff:iWe,distance:oWe,dot:Ck,index:X0e,invmod:aWe,lcm:sWe,log1p:lWe,lsolveAll:uWe,matrixFromRows:cWe,multiply:gr,range:Tv,row:fWe,setCartesian:dWe,setDistinct:hWe,setIsSubset:pWe,setPowerset:mWe,slu:Y0e,sort:gWe,unaryPlus:yR,usolveAll:Z0e,zpk2tf:vWe,and:yWe,ceil:bR,column:J0e,cross:bWe,det:Q0e,fix:epe,inv:C1,pinv:wWe,pow:fc,setDifference:tpe,setMultiplicity:xWe,setSymDifference:npe,sqrtm:SWe,sum:wR,vacuumImpedance:_We,wienDisplacement:CWe,atomicMass:kWe,bohrMagneton:EWe,boltzmann:AWe,conductanceQuantum:TWe,coulomb:MWe,createUnit:DWe,deuteronMass:NWe,dotPow:OWe,electricConstant:IWe,elementaryCharge:PWe,expm:RWe,faraday:FWe,fft:ipe,gamma:xR,gravitationConstant:LWe,hartreeEnergy:$We,ifft:BWe,inverseConductanceQuantum:zWe,klitzing:qWe,loschmidt:VWe,magneticConstant:HWe,molarMass:UWe,molarPlanckConstant:jWe,neutronMass:WWe,nuclearMagneton:GWe,planckCharge:KWe,planckLength:XWe,planckTemperature:YWe,protonMass:ZWe,quantumOfCirculation:JWe,reducedPlanckConstant:QWe,rydberg:eGe,secondRadiation:tGe,setSize:nGe,speedOfLight:rGe,stefanBoltzmann:iGe,thomsonCrossSection:oGe,avogadro:aGe,bohrRadius:sGe,coulombConstant:lGe,divide:Qo,electronMass:uGe,factorial:s4,firstRadiation:cGe,gravity:fGe,intersect:dGe,lup:ope,magneticFluxQuantum:hGe,molarMassC12:pGe,multinomial:mGe,parse:dc,permutations:gGe,planckMass:vGe,polynomialRoot:yGe,resolve:Spe,setIntersect:ape,simplifyConstant:kR,solveODE:bGe,stirlingS2:spe,unit:wGe,bellNumbers:xGe,compile:qGe,cumsum:SGe,eigs:lpe,fermiCoupling:_Ge,gasConstant:CGe,kldivergence:kGe,lusolve:upe,mean:cpe,molarVolume:EGe,planckConstant:AGe,quantileSeq:TGe,setUnion:MGe,simplifyCore:ER,variance:SR,classicalElectronRadius:DGe,evaluate:kk,median:fpe,simplify:Ek,symbolicEqual:VGe,corr:NGe,freqz:OGe,leafCount:HGe,mad:IGe,parser:UGe,rationalize:jGe,std:PGe,zeta:RGe,derivative:WGe,norm:_R,rotationMatrix:dpe,help:GGe,planckTime:FGe,schur:hpe,rotate:LGe,sylvester:ppe,lyap:$Ge,config:Xe});Ji(l4,vy,{mapSlices:s0e({isInteger:zs,typed:Oe}),filter:u0e({typed:Oe}),forEach:c0e({typed:Oe}),map:d0e({typed:Oe}),or:T0e({DenseMatrix:Sn,concat:Kn,equalScalar:Mn,matrix:ut,typed:Oe}),and:A0e({add:Ln,concat:Kn,equalScalar:Mn,matrix:ut,not:lC,typed:Oe,zeros:Yo}),concat:b0e({isInteger:zs,matrix:ut,typed:Oe}),index:f0e({Index:_a,getMatrixDataType:aR}),print:E0e({add:Ln,matrix:ut,typed:Oe,zeros:Yo}),sum:S0e({add:Ln,config:Xe,numeric:su,typed:Oe}),bitAnd:M0e({add:Ln,concat:Kn,equalScalar:Mn,matrix:ut,not:lC,typed:Oe,zeros:Yo}),min:m0e({config:Xe,isNaN:Ad,numeric:su,smaller:Qa,typed:Oe}),subset:y0e({add:Ln,matrix:ut,typed:Oe,zeros:Yo}),bitOr:D0e({DenseMatrix:Sn,concat:Kn,equalScalar:Mn,matrix:ut,typed:Oe}),cumsum:C0e({add:Ln,typed:Oe,unaryPlus:yR}),diff:w0e({bignumber:qs,matrix:ut,number:ah,subtract:ji,typed:Oe}),max:h0e({config:Xe,isNaN:Ad,larger:es,numeric:su,typed:Oe}),range:g0e({bignumber:qs,matrix:ut,add:Ln,config:Xe,isPositive:w1,larger:es,largerEq:Sk,smaller:Qa,smallerEq:Av,typed:Oe}),row:v0e({Index:_a,matrix:ut,range:Tv,typed:Oe}),column:l0e({Index:_a,matrix:ut,range:Tv,typed:Oe}),mean:p0e({add:Ln,divide:Qo,typed:Oe}),quantileSeq:_0e({add:Ln,bignumber:qs,compare:_1,divide:Qo,isInteger:zs,larger:es,mapSlices:H3,multiply:gr,partitionSelect:_k,smaller:Qa,smallerEq:Av,subtract:ji,typed:Oe}),variance:k0e({add:Ln,divide:Qo,isNaN:Ad,mapSlices:H3,multiply:gr,subtract:ji,typed:Oe}),std:x0e({map:x1,sqrt:cc,typed:Oe,variance:SR})});Ji(mpe,{BigNumber:ct,Complex:Dr,Fraction:y1,Matrix:yk,Node:Da,ObjectNode:yy,OperatorNode:sh,ParenthesisNode:k1,Range:AUe,RelationalNode:gpe,ResultSet:O0e,ArrayNode:by,BlockNode:vpe,ConditionalNode:ype,ConstantNode:cp,DenseMatrix:Sn,RangeNode:bpe,Chain:CR,FunctionAssignmentNode:wpe,SparseMatrix:bo,ImmutableDenseMatrix:j0e,Index:_a,AccessorNode:wy,AssignmentNode:xpe,FibonacciHeap:K0e,IndexNode:xy,Spa:rpe,Unit:rn,SymbolNode:fp,FunctionNode:dp,Help:_pe,Parser:Cpe});CR.createProxy(vy);var KGe=yUe,Rx={exports:{}},TG;function XGe(){if(TG)return Rx.exports;TG=1;function t(){}return t.prototype={on:function(e,n,r){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:n,ctx:r}),this},once:function(e,n,r){var i=this;function o(){i.off(e,o),n.apply(r,arguments)}return o._=n,this.on(e,o,r)},emit:function(e){var n=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),i=0,o=r.length;for(i;i<o;i++)r[i].fn.apply(r[i].ctx,n);return this},off:function(e,n){var r=this.e||(this.e={}),i=r[e],o=[];if(i&&n)for(var a=0,s=i.length;a<s;a++)i[a].fn!==n&&i[a].fn._!==n&&o.push(i[a]);return o.length?r[e]=o:delete r[e],this}},Rx.exports=t,Rx.exports.TinyEmitter=t,Rx.exports}var YGe=XGe();const ZGe=vf(YGe);function JGe(t){var e=new ZGe;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}function QGe(t,e,n,r){function i(v,y){var b=arguments.length;if(b!==1&&b!==2)throw new oh("import",b,1,2);y||(y={});function w(k,C,E){if(Array.isArray(C))C.forEach(N=>w(k,N));else if(m1(C)||f(C))for(var M in C)wt(C,M)&&w(k,C[M],M);else if(O2(C)||E!==void 0){var A=O2(C)?m(C)?C.fn+".transform":C.fn:E;if(wt(k,A)&&k[A]!==C&&!y.silent)throw new Error('Cannot import "'+A+'" twice');k[A]=C}else if(!y.silent)throw new TypeError("Factory, Object, or Array expected")}var x={};w(x,v);for(var S in x)if(wt(x,S)){var _=x[S];if(O2(_))u(_,y);else if(c(_))o(S,_,y);else if(!y.silent)throw new TypeError("Factory, Object, or Array expected")}}function o(v,y,b){var w;if(b.wrap&&typeof y=="function"&&(y=l(y)),d(y)&&(y=t(v,{[y.signature]:y})),t.isTypedFunction(n[v])&&t.isTypedFunction(y)){b.override?y=t(v,y.signatures):y=t(n[v],y),n[v]=y,delete r[v],a(v,y),n.emit("import",v,function(){return y});return}var x=n[v]!==void 0,S=(w=n.Unit)===null||w===void 0?void 0:w.isValuelessUnit(v);if(!x&&!S||b.override){n[v]=y,delete r[v],a(v,y),n.emit("import",v,function(){return y});return}if(!b.silent)throw new Error('Cannot import "'+v+'": already exists')}function a(v,y){y&&typeof y.transform=="function"?(n.expression.transform[v]=y.transform,h(v)&&(n.expression.mathWithTransform[v]=y.transform)):(delete n.expression.transform[v],h(v)&&(n.expression.mathWithTransform[v]=y))}function s(v){delete n.expression.transform[v],h(v)?n.expression.mathWithTransform[v]=n[v]:delete n.expression.mathWithTransform[v]}function l(v){var y=function(){for(var w=[],x=0,S=arguments.length;x<S;x++){var _=arguments[x];w[x]=_&&_.valueOf()}return v.apply(n,w)};return v.transform&&(y.transform=v.transform),y}function u(v,y){var b,w,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.fn;if(x.includes("."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(x));var S=m(v)?n.expression.transform:n,_=x in n.expression.transform,k=wt(S,x)?S[x]:void 0,C=function(){var T={};v.dependencies.map(Wae).forEach(O=>{if(O.includes("."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(O));O==="math"?T.math=n:O==="mathWithTransform"?T.mathWithTransform=n.expression.mathWithTransform:O==="classes"?T.classes=n:T[O]=n[O]});var I=v(T);if(I&&typeof I.transform=="function")throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with export const path = "expression.transform"');if(k===void 0||y.override)return I;if(t.isTypedFunction(k)&&t.isTypedFunction(I))return t(k,I);if(y.silent)return k;throw new Error('Cannot import "'+x+'": already exists')},E=(b=(w=v.meta)===null||w===void 0?void 0:w.formerly)!==null&&b!==void 0?b:"",M=m(v)||p(v),A=n.expression.mathWithTransform;!v.meta||v.meta.lazy!==!1?(Vp(S,x,C),E&&Vp(S,E,C),k&&_?(s(x),E&&s(E)):M&&(Vp(A,x,()=>S[x]),E&&Vp(A,E,()=>S[x]))):(S[x]=C(),E&&(S[E]=S[x]),k&&_?(s(x),E&&s(E)):M&&(Vp(A,x,()=>S[x]),E&&Vp(A,E,()=>S[x]))),r[x]=v,n.emit("import",x,C)}function c(v){return typeof v=="function"||typeof v=="number"||typeof v=="string"||typeof v=="boolean"||v===null||Ts(v)||Xu(v)||hn(v)||p1(v)||Ht(v)||Array.isArray(v)}function f(v){return typeof v=="object"&&v[Symbol.toStringTag]==="Module"}function d(v){return typeof v=="function"&&typeof v.signature=="string"}function h(v){return!wt(g,v)}function p(v){return!v.fn.includes(".")&&!wt(g,v.fn)&&(!v.meta||!v.meta.isClass)}function m(v){return v!==void 0&&v.meta!==void 0&&v.meta.isTransformFunction===!0||!1}var g={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return i}function kpe(t,e){var n=Ji({},ok,e);if(typeof Object.create!="function")throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var r=JGe({isNumber:mn,isComplex:Xu,isBigNumber:hn,isBigInt:jg,isFraction:p1,isUnit:Ts,isString:Ho,isArray:wr,isMatrix:Ht,isCollection:Ml,isDenseMatrix:L3,isSparseMatrix:i0,isRange:sk,isIndex:Yw,isBoolean:Dae,isResultSet:Nae,isHelp:pP,isFunction:Oae,isDate:Iae,isRegExp:Pae,isObject:m1,isMap:Am,isPartitionedMap:KTe,isObjectWrappingMap:XTe,isNull:Rae,isUndefined:Fae,isAccessorNode:M0,isArrayNode:hl,isAssignmentNode:Lae,isBlockNode:$ae,isConditionalNode:Bae,isConstantNode:Fn,isFunctionAssignmentNode:cy,isFunctionNode:Wd,isIndexNode:g1,isNode:hr,isObjectNode:Zw,isOperatorNode:Ni,isParenthesisNode:lf,isRangeNode:zae,isRelationalNode:qae,isSymbolNode:ho,isChain:mP});r.config=eMe(n,r.emit),r.expression={transform:{},mathWithTransform:{config:r.config}};var i=[],o=[];function a(c){if(O2(c))return c(r);var f=c[Object.keys(c)[0]];if(O2(f))return f(r);if(!JTe(c))throw console.warn("Factory object with properties `type`, `name`, and `factory` expected",c),new Error("Factory object with properties `type`, `name`, and `factory` expected");var d=i.indexOf(c),h;return d===-1?(c.math===!0?h=c.factory(r.type,n,a,r.typed,r):h=c.factory(r.type,n,a,r.typed),i.push(c),o.push(h)):h=o[d],h}var s={};function l(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];return r.typed.apply(r.typed,f)}l.isTypedFunction=$3.isTypedFunction;var u=QGe(l,a,r,s);return r.import=u,r.on("config",()=>{Object.values(s).forEach(c=>{c&&c.meta&&c.meta.recreateOnConfigChange&&u(c,{override:!0})})}),r.create=kpe.bind(null,t),r.factory=Ce,r.import(Object.values(ZTe(t))),r.ArgumentsError=oh,r.DimensionError=_n,r.IndexError=Cu,r}const eKe={class:"calculator-view"},tKe={class:"calculator-buttons justify-evenly"},nKe={class:"q-gutter-xs justify-around q-mb-sm row"},rKe={class:"col"},iKe={class:"col"},oKe=nt({__name:"CalculatorView",emits:["update:modelValue"],setup(t,{emit:e}){const{t:n}=Ut(),r=kpe(KGe),i=e,o=we(""),a=we(""),s=we(""),l=new Map([["/",""],["*",""]]);function u(_){s.value="",o.value+=l.get(_)??_}function c(_){let k=_;return l.forEach((C,E)=>{k=k.split(C).join(E)}),k}function f(){o.value="",a.value="",s.value=""}function d(){try{const _=c(o.value||"0");console.log(_),a.value=String(kk(_)),s.value=""}catch(_){a.value="",s.value=_.message||"Error"}}function h(_){_.key.match(/^[0-9\+\-\*\/\.\(\)]$/)?(_.preventDefault(),u(_.key)):_.key==="Enter"||_.key==="="?(_.preventDefault(),d()):_.key==="Backspace"?(_.preventDefault(),o.value=o.value.slice(0,-1)):_.key.toLowerCase()==="c"&&(_.preventDefault(),f())}function p(){const _=o.value.trim(),k=_[_.length-1];if(["+","-","*","/"].includes(k)){u("(");return}const C=(o.value.match(/\(/g)||[]).length,E=(o.value.match(/\)/g)||[]).length;C<=E?u("("):u(")")}function m(){o.value=o.value.slice(0,-1)}const g=we("calculate");We(g,_=>{_==="convert"&&d()});const v=[{label:"Length",value:"length"},{label:"Mass",value:"mass"},{label:"Time",value:"time"},{label:"Current",value:"current"},{label:"Temperature",value:"temperature"},{label:"Luminous Intensity",value:"luminousIntensity"},{label:"Amount of Substance",value:"amountOfSubstance"},{label:"Force",value:"force"},{label:"Pressure",value:"pressure"},{label:"Energy",value:"energy"},{label:"Power",value:"power"},{label:"Voltage",value:"voltage"},{label:"Electric Charge",value:"electricCharge"},{label:"Capacitance",value:"capacitance"},{label:"Resistance",value:"resistance"},{label:"Conductance",value:"conductance"},{label:"Magnetic Flux",value:"magneticFlux"},{label:"Magnetic Flux Density",value:"magneticFluxDensity"},{label:"Inductance",value:"inductance"},{label:"Frequency",value:"frequency"},{label:"Angle",value:"angle"},{label:"Area",value:"area"},{label:"Volume",value:"volume"},{label:"Speed",value:"speed"},{label:"Acceleration",value:"acceleration"},{label:"Density",value:"density"},{label:"Flow",value:"flow"},{label:"Illuminance",value:"illuminance"}],y={length:["m","cm","mm","km","in","ft","yd","mi"],mass:["kg","g","mg","lb","oz"],time:["s","min","h","day","week"],current:["A","mA"],temperature:["K","degC","degF"],luminousIntensity:["cd"],amountOfSubstance:["mol"],force:["N","lbf"],pressure:["Pa","bar","psi","atm"],energy:["J","kJ","cal","Wh","kWh"],power:["W","kW","MW","hp"],voltage:["V","kV"],electricCharge:["C","mC"],capacitance:["F","mF","uF"],resistance:["ohm","kOhm"],conductance:["S"],magneticFlux:["Wb"],magneticFluxDensity:["T","G"],inductance:["H"],frequency:["Hz","kHz","MHz"],angle:["rad","deg","grad"],area:["m2","cm2","mm2","km2","ft2","in2"],volume:["m3","cm3","mm3","l","ml","ft3","in3"],speed:["m/s","km/h","mi/h"],acceleration:["m/s2"],density:["kg/m3","g/cm3"],flow:["m3/s","l/min"],illuminance:["lx"]},b=we(""),w=we("");function x(_,k,C){try{const E=Number(_);return isNaN(E)?"":r.unit(E,k).toNumber(C)}catch{return""}}function S(_){navigator.clipboard.writeText(String(_))}return We(b,()=>{w.value=""}),kt(()=>window.addEventListener("keydown",h)),Oo(()=>{window.removeEventListener("keydown",h),b.value="",w.value="",g.value="calculate",f()}),(_,k)=>(ye(),He(ly,{seamless:"",position:"bottom",class:"q-pa-sm"},{default:De(()=>[xe(T0,{style:{"min-width":"350px","min-height":"410px"}},{default:De(()=>[xe(Sm,{class:"justify-between"},{default:De(()=>[xe(sP,{class:"q-mb-xs",modelValue:g.value,"onUpdate:modelValue":k[0]||(k[0]=C=>g.value=C)},{default:De(()=>[xe(Vg,{name:"calculate",title:le(n)("calculator.calculator")},{default:De(()=>[xe(le(pae))]),_:1},8,["title"]),xe(Vg,{name:"convert",title:le(n)("calculator.converter")},{default:De(()=>[xe(le(E9e))]),_:1},8,["title"])]),_:1},8,["modelValue"]),xe(Ct,{flat:"",clickable:"",onClick:k[1]||(k[1]=C=>i("update:modelValue",!1))},{default:De(()=>[xe(le(pu))]),_:1})]),_:1}),xe(Wa,null,{default:De(()=>[Ee("div",eKe,[xe(T0,{flat:"",class:"q-pa-xs q-mb-sm bg-secondary"},{default:De(()=>[xe(Wa,{class:"calculator-input q-pa-sm"},{default:De(()=>[vt($e(o.value||"0"),1)]),_:1}),xe(Wa,{class:"calculator-result q-pa-sm text-positive","aria-live":"polite"},{default:De(()=>[vt($e(a.value?"= "+a.value:""),1)]),_:1}),s.value?(ye(),He(Wa,{key:0,class:"calculator-error q-pa-sm text-negative"},{default:De(()=>[vt($e(s.value),1)]),_:1})):ot("",!0)]),_:1}),xe(Aae,{modelValue:g.value,"onUpdate:modelValue":k[20]||(k[20]=C=>g.value=C),animated:""},{default:De(()=>[xe(HM,{name:"calculate",class:"q-pa-none"},{default:De(()=>[Ee("div",tKe,[xe(Ct,{flat:"",class:"operation",onClick:f},{default:De(()=>k[21]||(k[21]=[vt("AC")])),_:1,__:[21]}),xe(Ct,{flat:"",class:"operation",onClick:p},{default:De(()=>[xe(le(b9e))]),_:1}),xe(Ct,{flat:"",class:"operation",onClick:k[2]||(k[2]=C=>u("%"))},{default:De(()=>[xe(le(w9e))]),_:1}),xe(Ct,{flat:"",class:"operation",onClick:k[3]||(k[3]=C=>u(""))},{default:De(()=>[xe(le(u9e))]),_:1}),xe(Ct,{flat:"",onClick:k[4]||(k[4]=C=>u("7"))},{default:De(()=>k[22]||(k[22]=[vt("7")])),_:1,__:[22]}),xe(Ct,{flat:"",onClick:k[5]||(k[5]=C=>u("8"))},{default:De(()=>k[23]||(k[23]=[vt("8")])),_:1,__:[23]}),xe(Ct,{flat:"",onClick:k[6]||(k[6]=C=>u("9"))},{default:De(()=>k[24]||(k[24]=[vt("9")])),_:1,__:[24]}),xe(Ct,{flat:"",class:"operation",onClick:k[7]||(k[7]=C=>u(""))},{default:De(()=>[xe(le(pu))]),_:1}),xe(Ct,{flat:"",onClick:k[8]||(k[8]=C=>u("4"))},{default:De(()=>k[25]||(k[25]=[vt("4")])),_:1,__:[25]}),xe(Ct,{flat:"",onClick:k[9]||(k[9]=C=>u("5"))},{default:De(()=>k[26]||(k[26]=[vt("5")])),_:1,__:[26]}),xe(Ct,{flat:"",onClick:k[10]||(k[10]=C=>u("6"))},{default:De(()=>k[27]||(k[27]=[vt("6")])),_:1,__:[27]}),xe(Ct,{flat:"",class:"operation",onClick:k[11]||(k[11]=C=>u("-"))},{default:De(()=>[xe(le(v9e))]),_:1}),xe(Ct,{flat:"",onClick:k[12]||(k[12]=C=>u("1"))},{default:De(()=>k[28]||(k[28]=[vt("1")])),_:1,__:[28]}),xe(Ct,{flat:"",onClick:k[13]||(k[13]=C=>u("2"))},{default:De(()=>k[29]||(k[29]=[vt("2")])),_:1,__:[29]}),xe(Ct,{flat:"",onClick:k[14]||(k[14]=C=>u("3"))},{default:De(()=>k[30]||(k[30]=[vt("3")])),_:1,__:[30]}),xe(Ct,{flat:"",class:"operation",onClick:k[15]||(k[15]=C=>u("+"))},{default:De(()=>[xe(le(wv))]),_:1}),xe(Ct,{flat:"",onClick:k[16]||(k[16]=C=>u("0"))},{default:De(()=>k[31]||(k[31]=[vt("0")])),_:1,__:[31]}),xe(Ct,{flat:"",onClick:k[17]||(k[17]=C=>u("."))},{default:De(()=>k[32]||(k[32]=[vt(".")])),_:1,__:[32]}),xe(Ct,{flat:"",class:"control",onClick:m},{default:De(()=>[xe(le(UAe))]),_:1}),xe(Ct,{flat:"",class:"control",onClick:d},{default:De(()=>[xe(le(f9e))]),_:1})])]),_:1}),xe(HM,{name:"convert",class:"q-pa-none"},{default:De(()=>[Ee("div",nKe,[Ee("div",rKe,[xe(R3,{outlined:"",modelValue:b.value,"onUpdate:modelValue":k[18]||(k[18]=C=>b.value=C),options:v,label:le(n)("calculator.physicalBase"),"emit-value":""},null,8,["modelValue","label"])]),Ee("div",iKe,[b.value?(ye(),He(R3,{key:0,outlined:"",modelValue:w.value,"onUpdate:modelValue":k[19]||(k[19]=C=>w.value=C),options:y[b.value]||[],label:le(n)("calculator.unit")},null,8,["modelValue","options","label"])):ot("",!0)])]),xe(dP,{style:{height:"155px"}},{default:De(()=>[b.value&&w.value&&a.value!==""?(ye(),He(hv,{key:0,class:"convert-results"},{default:De(()=>[(ye(!0),Le(Tt,null,Gn(y[b.value]?.filter(C=>C!==w.value),C=>(ye(),He(eu,{key:C},{default:De(()=>[xe(Er,{side:""},{default:De(()=>[vt($e(C),1)]),_:2},1024),xe(Er,null,{default:De(()=>[vt($e(x(a.value,w.value,C)),1)]),_:2},1024),xe(Er,{side:""},{default:De(()=>[xe(Ct,{flat:"",size:"sm",onClick:E=>S(x(a.value,w.value,C))},{default:De(()=>[xe(le(s9e))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):ot("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1}))}}),aKe=vr(oKe,[["__scopeId","data-v-ce31f430"]]),AR=cn({name:"QCardActions",props:{...Zie,vertical:Boolean},setup(t,{slots:e}){const n=Jie(t),r=re(()=>`q-card__actions ${n.value} q-card__actions--${t.vertical===!0?"vert column":"horiz row"}`);return()=>he("div",{class:r.value},Mr(e.default))}}),Ul=we([]),bs=we([]);function TR(){const t=s=>{s&&Ul.value[Ul.value.length-1]!==s&&Ul.value.push(s)},e=s=>{s&&(Ul.value[Ul.value.length-1]===s?Ul.value.pop():Ul.value=Ul.value.filter(l=>l!==s))},n=(s,l,u)=>{const c=bs.value[bs.value.length-1],f=bs.value[bs.value.length-2],d=l?.id,h=f?.entity?.id;if(f&&f.kind===u&&h&&d&&h===d){r(c?.modalId);return}bs.value.push({modalId:s,entity:l,kind:u}),t(s)},r=s=>{bs.value.length&&bs.value[bs.value.length-1].modalId===s?bs.value.pop():bs.value=bs.value.filter(l=>l.modalId!==s),e(s)},i=re(()=>bs.value.length>0?bs.value[bs.value.length-1]:null),o=re(()=>Ul.value.length>0),a=re(()=>Ul.value[Ul.value.length-1]||null);return{isModalOpen:g3(o),modalStack:g3(Ul),currentModalId:a,openModal:t,closeModal:e,openMentionModal:n,closeMentionModal:r,currentMentionModal:i}}const sKe=nt({__name:"BaseModal",props:{isOpen:{type:Boolean},title:{},showSubmit:{type:Boolean},showCancel:{type:Boolean},submitLabel:{},cancelLabel:{},showClose:{type:Boolean},modalId:{},showExpand:{type:Boolean},isExpanded:{type:Boolean},disableSubmit:{type:Boolean}},emits:["submit","cancel","update:isExpanded"],setup(t,{emit:e}){const n=t,r=e,{openModal:i,closeModal:o,currentModalId:a}=TR(),s=we(n.isExpanded??!1),l=EI(),u=re(()=>!!n.title||!!l["header-actions"]||!!n.showExpand||!!n.showClose),c=re(()=>n.isOpen&&a.value===n.modalId),{t:f}=Ut();We(()=>n.isOpen,h=>{h?i(n.modalId):o(n.modalId)}),kt(()=>{n.isOpen&&i(n.modalId)}),Oo(()=>o(n.modalId)),We(()=>n.isExpanded,h=>{typeof h=="boolean"&&(s.value=h)});function d(h){s.value=h,r("update:isExpanded",h)}return(h,p)=>(ye(),He(ly,{maximized:s.value,modelValue:c.value,"onUpdate:modelValue":p[5]||(p[5]=m=>c.value=m),persistent:"","transition-show":"fade","transition-hide":"fade"},{default:De(()=>[xe(T0,{class:Qr(["q-dialog-plugin q-mx-auto column no-wrap",{fit:s.value}]),style:Al(s.value?void 0:"min-width: 60vw; max-width: 90vw; height: 70vh; max-height: 90vh;")},{default:De(()=>[xe(Wa,{class:"modal-header"},{default:De(()=>[u.value?(ye(),He(Sm,{key:0,class:"justify-between"},{default:De(()=>[n.showExpand?(ye(),He(Ct,{key:0,flat:"",class:"modal-expand-btn",onClick:p[0]||(p[0]=m=>d(!s.value)),variant:"light",title:s.value?le(f)("common.collapse"):le(f)("common.expand")},{default:De(()=>[s.value?(ye(),He(le(VAe),{key:0})):(ye(),He(le(qAe),{key:1}))]),_:1},8,["title"])):ot("",!0),vt(" "+$e(h.title)+" ",1),Vr(h.$slots,"header-actions",{},void 0,!0),xe(Ct,{flat:"",variant:"light",onClick:p[1]||(p[1]=m=>h.$emit("cancel")),"aria-label":"Close",class:"btn-close-modal"},{default:De(()=>[xe(le(pu))]),_:1})]),_:3})):ot("",!0)]),_:3}),xe(dP,{class:"fit q-pa-sm"},{default:De(()=>[Ee("form",{onSubmit:p[2]||(p[2]=Wo(m=>h.$emit("submit"),["prevent"])),class:"modal-form q-gutter-y-md"},[Vr(h.$slots,"default",{},void 0,!0)],32)]),_:3}),h.$slots.actions||h.showSubmit||h.showCancel?(ye(),He(AR,{key:0,class:"modal-actions",align:"right"},{default:De(()=>[Vr(h.$slots,"actions",{},void 0,!0),h.showCancel?(ye(),He(Ct,{key:0,flat:"",color:"standard",onClick:p[3]||(p[3]=m=>h.$emit("cancel"))},{default:De(()=>[vt($e(le(f)(h.cancelLabel||"common.cancel")),1)]),_:1})):ot("",!0),h.showSubmit?(ye(),He(Ct,{key:1,flat:"",color:"positive",type:"submit",disabled:n.disableSubmit,onClick:p[4]||(p[4]=Wo(m=>h.$emit("submit"),["prevent"]))},{default:De(()=>[vt($e(le(f)(h.submitLabel||"common.save")),1)]),_:1},8,["disabled"])):ot("",!0)]),_:3})):ot("",!0)]),_:3},8,["class","style"])]),_:3},8,["maximized","modelValue"]))}}),Na=vr(sKe,[["__scopeId","data-v-85605244"]]),MG={};function lKe(t){let e=MG[t];if(e)return e;e=MG[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);e.push(r)}for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}function Mv(t,e){typeof e!="string"&&(e=Mv.defaultChars);const n=lKe(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(r){let i="";for(let o=0,a=r.length;o<a;o+=3){const s=parseInt(r.slice(o+1,o+3),16);if(s<128){i+=n[s];continue}if((s&224)===192&&o+3<a){const l=parseInt(r.slice(o+4,o+6),16);if((l&192)===128){const u=s<<6&1984|l&63;u<128?i+="":i+=String.fromCharCode(u),o+=3;continue}}if((s&240)===224&&o+6<a){const l=parseInt(r.slice(o+4,o+6),16),u=parseInt(r.slice(o+7,o+9),16);if((l&192)===128&&(u&192)===128){const c=s<<12&61440|l<<6&4032|u&63;c<2048||c>=55296&&c<=57343?i+="":i+=String.fromCharCode(c),o+=6;continue}}if((s&248)===240&&o+9<a){const l=parseInt(r.slice(o+4,o+6),16),u=parseInt(r.slice(o+7,o+9),16),c=parseInt(r.slice(o+10,o+12),16);if((l&192)===128&&(u&192)===128&&(c&192)===128){let f=s<<18&1835008|l<<12&258048|u<<6&4032|c&63;f<65536||f>1114111?i+="":(f-=65536,i+=String.fromCharCode(55296+(f>>10),56320+(f&1023))),o+=9;continue}}i+=""}return i})}Mv.defaultChars=";/?:@&=+$,#";Mv.componentChars="";const DG={};function uKe(t){let e=DG[t];if(e)return e;e=DG[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function u4(t,e,n){typeof e!="string"&&(n=e,e=u4.defaultChars),typeof n>"u"&&(n=!0);const r=uKe(e);let i="";for(let o=0,a=t.length;o<a;o++){const s=t.charCodeAt(o);if(n&&s===37&&o+2<a&&/^[0-9a-f]{2}$/i.test(t.slice(o+1,o+3))){i+=t.slice(o,o+3),o+=2;continue}if(s<128){i+=r[s];continue}if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&o+1<a){const l=t.charCodeAt(o+1);if(l>=56320&&l<=57343){i+=encodeURIComponent(t[o]+t[o+1]),o++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(t[o])}return i}u4.defaultChars=";/?:@&=+$,-_.!~*'()#";u4.componentChars="-_.!~*'()";function MR(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function uC(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const cKe=/^([a-z0-9.+-]+:)/i,fKe=/:[0-9]*$/,dKe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,hKe=["<",">",'"',"`"," ","\r",`
`,"	"],pKe=["{","}","|","\\","^","`"].concat(hKe),mKe=["'"].concat(pKe),NG=["%","/","?",";","#"].concat(mKe),OG=["/","?","#"],gKe=255,IG=/^[+a-z0-9A-Z_-]{0,63}$/,vKe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,PG={javascript:!0,"javascript:":!0},RG={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function DR(t,e){if(t&&t instanceof uC)return t;const n=new uC;return n.parse(t,e),n}uC.prototype.parse=function(t,e){let n,r,i,o=t;if(o=o.trim(),!e&&t.split("#").length===1){const u=dKe.exec(o);if(u)return this.pathname=u[1],u[2]&&(this.search=u[2]),this}let a=cKe.exec(o);if(a&&(a=a[0],n=a.toLowerCase(),this.protocol=a,o=o.substr(a.length)),(e||a||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=o.substr(0,2)==="//",i&&!(a&&PG[a])&&(o=o.substr(2),this.slashes=!0)),!PG[a]&&(i||a&&!RG[a])){let u=-1;for(let p=0;p<OG.length;p++)r=o.indexOf(OG[p]),r!==-1&&(u===-1||r<u)&&(u=r);let c,f;u===-1?f=o.lastIndexOf("@"):f=o.lastIndexOf("@",u),f!==-1&&(c=o.slice(0,f),o=o.slice(f+1),this.auth=c),u=-1;for(let p=0;p<NG.length;p++)r=o.indexOf(NG[p]),r!==-1&&(u===-1||r<u)&&(u=r);u===-1&&(u=o.length),o[u-1]===":"&&u--;const d=o.slice(0,u);o=o.slice(u),this.parseHost(d),this.hostname=this.hostname||"";const h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h){const p=this.hostname.split(/\./);for(let m=0,g=p.length;m<g;m++){const v=p[m];if(v&&!v.match(IG)){let y="";for(let b=0,w=v.length;b<w;b++)v.charCodeAt(b)>127?y+="x":y+=v[b];if(!y.match(IG)){const b=p.slice(0,m),w=p.slice(m+1),x=v.match(vKe);x&&(b.push(x[1]),w.unshift(x[2])),w.length&&(o=w.join(".")+o),this.hostname=b.join(".");break}}}}this.hostname.length>gKe&&(this.hostname=""),h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const s=o.indexOf("#");s!==-1&&(this.hash=o.substr(s),o=o.slice(0,s));const l=o.indexOf("?");return l!==-1&&(this.search=o.substr(l),o=o.slice(0,l)),o&&(this.pathname=o),RG[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};uC.prototype.parseHost=function(t){let e=fKe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const yKe=Object.freeze(Object.defineProperty({__proto__:null,decode:Mv,encode:u4,format:MR,parse:DR},Symbol.toStringTag,{value:"Module"})),Epe=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ape=/[\0-\x1F\x7F-\x9F]/,bKe=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,NR=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Tpe=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Mpe=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,wKe=Object.freeze(Object.defineProperty({__proto__:null,Any:Epe,Cc:Ape,Cf:bKe,P:NR,S:Tpe,Z:Mpe},Symbol.toStringTag,{value:"Module"})),xKe=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),SKe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var yA;const _Ke=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),CKe=(yA=String.fromCodePoint)!==null&&yA!==void 0?yA:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function kKe(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=_Ke.get(t))!==null&&e!==void 0?e:t}var Ao;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Ao||(Ao={}));const EKe=32;var s0;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(s0||(s0={}));function mD(t){return t>=Ao.ZERO&&t<=Ao.NINE}function AKe(t){return t>=Ao.UPPER_A&&t<=Ao.UPPER_F||t>=Ao.LOWER_A&&t<=Ao.LOWER_F}function TKe(t){return t>=Ao.UPPER_A&&t<=Ao.UPPER_Z||t>=Ao.LOWER_A&&t<=Ao.LOWER_Z||mD(t)}function MKe(t){return t===Ao.EQUALS||TKe(t)}var ko;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(ko||(ko={}));var Qh;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Qh||(Qh={}));class DKe{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=ko.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Qh.Strict}startEntity(e){this.decodeMode=e,this.state=ko.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case ko.EntityStart:return e.charCodeAt(n)===Ao.NUM?(this.state=ko.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=ko.NamedEntity,this.stateNamedEntity(e,n));case ko.NumericStart:return this.stateNumericStart(e,n);case ko.NumericDecimal:return this.stateNumericDecimal(e,n);case ko.NumericHex:return this.stateNumericHex(e,n);case ko.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|EKe)===Ao.LOWER_X?(this.state=ko.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=ko.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const o=r-n;this.result=this.result*Math.pow(i,o)+parseInt(e.substr(n,o),i),this.consumed+=o}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(mD(i)||AKe(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(mD(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Ao.SEMI)this.consumed+=1;else if(this.decodeMode===Qh.Strict)return 0;return this.emitCodePoint(kKe(this.result),this.consumed),this.errors&&(e!==Ao.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],o=(i&s0.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const a=e.charCodeAt(n);if(this.treeIndex=NKe(r,i,this.treeIndex+Math.max(1,o),a),this.treeIndex<0)return this.result===0||this.decodeMode===Qh.Attribute&&(o===0||MKe(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&s0.VALUE_LENGTH)>>14,o!==0){if(a===Ao.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Qh.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&s0.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~s0.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case ko.NamedEntity:return this.result!==0&&(this.decodeMode!==Qh.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ko.NumericDecimal:return this.emitNumericEntity(0,2);case ko.NumericHex:return this.emitNumericEntity(0,3);case ko.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ko.EntityStart:return 0}}}function Dpe(t){let e="";const n=new DKe(t,r=>e+=CKe(r));return function(i,o){let a=0,s=0;for(;(s=i.indexOf("&",s))>=0;){e+=i.slice(a,s),n.startEntity(o);const u=n.write(i,s+1);if(u<0){a=s+n.end();break}a=s+u,s=u===0?a+1:a}const l=e+i.slice(a);return e="",l}}function NKe(t,e,n,r){const i=(e&s0.BRANCH_LENGTH)>>7,o=e&s0.JUMP_TABLE;if(i===0)return o!==0&&r===o?n:-1;if(o){const l=r-o;return l<0||l>=i?-1:t[n+l]-1}let a=n,s=a+i-1;for(;a<=s;){const l=a+s>>>1,u=t[l];if(u<r)a=l+1;else if(u>r)s=l-1;else return t[l+i]}return-1}const OKe=Dpe(xKe);Dpe(SKe);function Npe(t,e=Qh.Legacy){return OKe(t,e)}function IKe(t){return Object.prototype.toString.call(t)}function OR(t){return IKe(t)==="[object String]"}const PKe=Object.prototype.hasOwnProperty;function RKe(t,e){return PKe.call(t,e)}function Ak(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){t[r]=n[r]})}}),t}function Ope(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function IR(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function cC(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const Ipe=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,FKe=/&([a-z#][a-z0-9]{1,31});/gi,LKe=new RegExp(Ipe.source+"|"+FKe.source,"gi"),$Ke=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function BKe(t,e){if(e.charCodeAt(0)===35&&$Ke.test(e)){const r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return IR(r)?cC(r):t}const n=Npe(t);return n!==t?n:t}function zKe(t){return t.indexOf("\\")<0?t:t.replace(Ipe,"$1")}function Dv(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(LKe,function(e,n,r){return n||BKe(e,r)})}const qKe=/[&<>"]/,VKe=/[&<>"]/g,HKe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function UKe(t){return HKe[t]}function I0(t){return qKe.test(t)?t.replace(VKe,UKe):t}const jKe=/[.?*+^$[\]\\(){}|-]/g;function WKe(t){return t.replace(jKe,"\\$&")}function Yr(t){switch(t){case 9:case 32:return!0}return!1}function U3(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function j3(t){return NR.test(t)||Tpe.test(t)}function W3(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Tk(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const GKe={mdurl:yKe,ucmicro:wKe},KKe=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Ope,assign:Ak,escapeHtml:I0,escapeRE:WKe,fromCodePoint:cC,has:RKe,isMdAsciiPunct:W3,isPunctChar:j3,isSpace:Yr,isString:OR,isValidEntityCode:IR,isWhiteSpace:U3,lib:GKe,normalizeReference:Tk,unescapeAll:Dv,unescapeMd:zKe},Symbol.toStringTag,{value:"Module"}));function XKe(t,e,n){let r,i,o,a;const s=t.posMax,l=t.pos;for(t.pos=e+1,r=1;t.pos<s;){if(o=t.src.charCodeAt(t.pos),o===93&&(r--,r===0)){i=!0;break}if(a=t.pos,t.md.inline.skipToken(t),o===91){if(a===t.pos-1)r++;else if(n)return t.pos=l,-1}}let u=-1;return i&&(u=t.pos),t.pos=l,u}function YKe(t,e,n){let r,i=e;const o={ok:!1,pos:0,str:""};if(t.charCodeAt(i)===60){for(i++;i<n;){if(r=t.charCodeAt(i),r===10||r===60)return o;if(r===62)return o.pos=i+1,o.str=Dv(t.slice(e+1,i)),o.ok=!0,o;if(r===92&&i+1<n){i+=2;continue}i++}return o}let a=0;for(;i<n&&(r=t.charCodeAt(i),!(r===32||r<32||r===127));){if(r===92&&i+1<n){if(t.charCodeAt(i+1)===32)break;i+=2;continue}if(r===40&&(a++,a>32))return o;if(r===41){if(a===0)break;a--}i++}return e===i||a!==0||(o.str=Dv(t.slice(e,i)),o.pos=i,o.ok=!0),o}function ZKe(t,e,n,r){let i,o=e;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)a.str=r.str,a.marker=r.marker;else{if(o>=n)return a;let s=t.charCodeAt(o);if(s!==34&&s!==39&&s!==40)return a;e++,o++,s===40&&(s=41),a.marker=s}for(;o<n;){if(i=t.charCodeAt(o),i===a.marker)return a.pos=o+1,a.str+=Dv(t.slice(e,o)),a.ok=!0,a;if(i===40&&a.marker===41)return a;i===92&&o+1<n&&o++,o++}return a.can_continue=!0,a.str+=Dv(t.slice(e,o)),a}const JKe=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:YKe,parseLinkLabel:XKe,parseLinkTitle:ZKe},Symbol.toStringTag,{value:"Module"})),xf={};xf.code_inline=function(t,e,n,r,i){const o=t[e];return"<code"+i.renderAttrs(o)+">"+I0(o.content)+"</code>"};xf.code_block=function(t,e,n,r,i){const o=t[e];return"<pre"+i.renderAttrs(o)+"><code>"+I0(t[e].content)+`</code></pre>
`};xf.fence=function(t,e,n,r,i){const o=t[e],a=o.info?Dv(o.info).trim():"";let s="",l="";if(a){const c=a.split(/(\s+)/g);s=c[0],l=c.slice(2).join("")}let u;if(n.highlight?u=n.highlight(o.content,s,l)||I0(o.content):u=I0(o.content),u.indexOf("<pre")===0)return u+`
`;if(a){const c=o.attrIndex("class"),f=o.attrs?o.attrs.slice():[];c<0?f.push(["class",n.langPrefix+s]):(f[c]=f[c].slice(),f[c][1]+=" "+n.langPrefix+s);const d={attrs:f};return`<pre><code${i.renderAttrs(d)}>${u}</code></pre>
`}return`<pre><code${i.renderAttrs(o)}>${u}</code></pre>
`};xf.image=function(t,e,n,r,i){const o=t[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,r),i.renderToken(t,e,n)};xf.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};xf.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};xf.text=function(t,e){return I0(t[e].content)};xf.html_block=function(t,e){return t[e].content};xf.html_inline=function(t,e){return t[e].content};function Sy(){this.rules=Ak({},xf)}Sy.prototype.renderAttrs=function(e){let n,r,i;if(!e.attrs)return"";for(i="",n=0,r=e.attrs.length;n<r;n++)i+=" "+I0(e.attrs[n][0])+'="'+I0(e.attrs[n][1])+'"';return i};Sy.prototype.renderToken=function(e,n,r){const i=e[n];let o="";if(i.hidden)return"";i.block&&i.nesting!==-1&&n&&e[n-1].hidden&&(o+=`
`),o+=(i.nesting===-1?"</":"<")+i.tag,o+=this.renderAttrs(i),i.nesting===0&&r.xhtmlOut&&(o+=" /");let a=!1;if(i.block&&(a=!0,i.nesting===1&&n+1<e.length)){const s=e[n+1];(s.type==="inline"||s.hidden||s.nesting===-1&&s.tag===i.tag)&&(a=!1)}return o+=a?`>
`:">",o};Sy.prototype.renderInline=function(t,e,n){let r="";const i=this.rules;for(let o=0,a=t.length;o<a;o++){const s=t[o].type;typeof i[s]<"u"?r+=i[s](t,o,e,n,this):r+=this.renderToken(t,o,e)}return r};Sy.prototype.renderInlineAsText=function(t,e,n){let r="";for(let i=0,o=t.length;i<o;i++)switch(t[i].type){case"text":r+=t[i].content;break;case"image":r+=this.renderInlineAsText(t[i].children,e,n);break;case"html_inline":case"html_block":r+=t[i].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};Sy.prototype.render=function(t,e,n){let r="";const i=this.rules;for(let o=0,a=t.length;o<a;o++){const s=t[o].type;s==="inline"?r+=this.renderInline(t[o].children,e,n):typeof i[s]<"u"?r+=i[s](t,o,e,n,this):r+=this.renderToken(t,o,e,n)}return r};function Gs(){this.__rules__=[],this.__cache__=null}Gs.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Gs.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||t.__cache__[n].push(r.fn))})})};Gs.prototype.at=function(t,e,n){const r=this.__find__(t),i=n||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null};Gs.prototype.before=function(t,e,n,r){const i=this.__find__(t),o=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null};Gs.prototype.after=function(t,e,n,r){const i=this.__find__(t),o=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null};Gs.prototype.push=function(t,e,n){const r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};Gs.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!0,n.push(r)},this),this.__cache__=null,n};Gs.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};Gs.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!1,n.push(r)},this),this.__cache__=null,n};Gs.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function hc(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}hc.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,i=n.length;r<i;r++)if(n[r][0]===e)return r;return-1};hc.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};hc.prototype.attrSet=function(e,n){const r=this.attrIndex(e),i=[e,n];r<0?this.attrPush(i):this.attrs[r]=i};hc.prototype.attrGet=function(e){const n=this.attrIndex(e);let r=null;return n>=0&&(r=this.attrs[n][1]),r};hc.prototype.attrJoin=function(e,n){const r=this.attrIndex(e);r<0?this.attrPush([e,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};function Ppe(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}Ppe.prototype.Token=hc;const QKe=/\r\n?|\n/g,eXe=/\0/g;function tXe(t){let e;e=t.src.replace(QKe,`
`),e=e.replace(eXe,""),t.src=e}function nXe(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function rXe(t){const e=t.tokens;for(let n=0,r=e.length;n<r;n++){const i=e[n];i.type==="inline"&&t.md.inline.parse(i.content,t.md,t.env,i.children)}}function iXe(t){return/^<a[>\s]/i.test(t)}function oXe(t){return/^<\/a\s*>/i.test(t)}function aXe(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,r=e.length;n<r;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let i=e[n].children,o=0;for(let a=i.length-1;a>=0;a--){const s=i[a];if(s.type==="link_close"){for(a--;i[a].level!==s.level&&i[a].type!=="link_open";)a--;continue}if(s.type==="html_inline"&&(iXe(s.content)&&o>0&&o--,oXe(s.content)&&o++),!(o>0)&&s.type==="text"&&t.md.linkify.test(s.content)){const l=s.content;let u=t.md.linkify.match(l);const c=[];let f=s.level,d=0;u.length>0&&u[0].index===0&&a>0&&i[a-1].type==="text_special"&&(u=u.slice(1));for(let h=0;h<u.length;h++){const p=u[h].url,m=t.md.normalizeLink(p);if(!t.md.validateLink(m))continue;let g=u[h].text;u[h].schema?u[h].schema==="mailto:"&&!/^mailto:/i.test(g)?g=t.md.normalizeLinkText("mailto:"+g).replace(/^mailto:/,""):g=t.md.normalizeLinkText(g):g=t.md.normalizeLinkText("http://"+g).replace(/^http:\/\//,"");const v=u[h].index;if(v>d){const x=new t.Token("text","",0);x.content=l.slice(d,v),x.level=f,c.push(x)}const y=new t.Token("link_open","a",1);y.attrs=[["href",m]],y.level=f++,y.markup="linkify",y.info="auto",c.push(y);const b=new t.Token("text","",0);b.content=g,b.level=f,c.push(b);const w=new t.Token("link_close","a",-1);w.level=--f,w.markup="linkify",w.info="auto",c.push(w),d=u[h].lastIndex}if(d<l.length){const h=new t.Token("text","",0);h.content=l.slice(d),h.level=f,c.push(h)}e[n].children=i=Ope(i,a,c)}}}}const Rpe=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,sXe=/\((c|tm|r)\)/i,lXe=/\((c|tm|r)\)/ig,uXe={c:"",r:"",tm:""};function cXe(t,e){return uXe[e.toLowerCase()]}function fXe(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&(r.content=r.content.replace(lXe,cXe)),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function dXe(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&Rpe.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function hXe(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(sXe.test(t.tokens[e].content)&&fXe(t.tokens[e].children),Rpe.test(t.tokens[e].content)&&dXe(t.tokens[e].children))}const pXe=/['"]/,FG=/['"]/g,LG="";function Fx(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function mXe(t,e){let n;const r=[];for(let i=0;i<t.length;i++){const o=t[i],a=t[i].level;for(n=r.length-1;n>=0&&!(r[n].level<=a);n--);if(r.length=n+1,o.type!=="text")continue;let s=o.content,l=0,u=s.length;e:for(;l<u;){FG.lastIndex=l;const c=FG.exec(s);if(!c)break;let f=!0,d=!0;l=c.index+1;const h=c[0]==="'";let p=32;if(c.index-1>=0)p=s.charCodeAt(c.index-1);else for(n=i-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){p=t[n].content.charCodeAt(t[n].content.length-1);break}let m=32;if(l<u)m=s.charCodeAt(l);else for(n=i+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){m=t[n].content.charCodeAt(0);break}const g=W3(p)||j3(String.fromCharCode(p)),v=W3(m)||j3(String.fromCharCode(m)),y=U3(p),b=U3(m);if(b?f=!1:v&&(y||g||(f=!1)),y?d=!1:g&&(b||v||(d=!1)),m===34&&c[0]==='"'&&p>=48&&p<=57&&(d=f=!1),f&&d&&(f=g,d=v),!f&&!d){h&&(o.content=Fx(o.content,c.index,LG));continue}if(d)for(n=r.length-1;n>=0;n--){let w=r[n];if(r[n].level<a)break;if(w.single===h&&r[n].level===a){w=r[n];let x,S;h?(x=e.md.options.quotes[2],S=e.md.options.quotes[3]):(x=e.md.options.quotes[0],S=e.md.options.quotes[1]),o.content=Fx(o.content,c.index,S),t[w.token].content=Fx(t[w.token].content,w.pos,x),l+=S.length-1,w.token===i&&(l+=x.length-1),s=o.content,u=s.length,r.length=n;continue e}}f?r.push({token:i,pos:c.index,single:h,level:a}):d&&h&&(o.content=Fx(o.content,c.index,LG))}}}function gXe(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!pXe.test(t.tokens[e].content)||mXe(t.tokens[e].children,t)}function vXe(t){let e,n;const r=t.tokens,i=r.length;for(let o=0;o<i;o++){if(r[o].type!=="inline")continue;const a=r[o].children,s=a.length;for(e=0;e<s;e++)a[e].type==="text_special"&&(a[e].type="text");for(e=n=0;e<s;e++)a[e].type==="text"&&e+1<s&&a[e+1].type==="text"?a[e+1].content=a[e].content+a[e+1].content:(e!==n&&(a[n]=a[e]),n++);e!==n&&(a.length=n)}}const bA=[["normalize",tXe],["block",nXe],["inline",rXe],["linkify",aXe],["replacements",hXe],["smartquotes",gXe],["text_join",vXe]];function PR(){this.ruler=new Gs;for(let t=0;t<bA.length;t++)this.ruler.push(bA[t][0],bA[t][1])}PR.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,r=e.length;n<r;n++)e[n](t)};PR.prototype.State=Ppe;function Sf(t,e,n,r){this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let o=0,a=0,s=0,l=0,u=i.length,c=!1;a<u;a++){const f=i.charCodeAt(a);if(!c)if(Yr(f)){s++,f===9?l+=4-l%4:l++;continue}else c=!0;(f===10||a===u-1)&&(f!==10&&a++,this.bMarks.push(o),this.eMarks.push(a),this.tShift.push(s),this.sCount.push(l),this.bsCount.push(0),c=!1,s=0,l=0,o=a+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Sf.prototype.push=function(t,e,n){const r=new hc(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Sf.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Sf.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Sf.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const r=this.src.charCodeAt(e);if(!Yr(r))break}return e};Sf.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!Yr(this.src.charCodeAt(--e)))return e+1;return e};Sf.prototype.skipChars=function(e,n){for(let r=this.src.length;e<r&&this.src.charCodeAt(e)===n;e++);return e};Sf.prototype.skipCharsBack=function(e,n,r){if(e<=r)return e;for(;e>r;)if(n!==this.src.charCodeAt(--e))return e+1;return e};Sf.prototype.getLines=function(e,n,r,i){if(e>=n)return"";const o=new Array(n-e);for(let a=0,s=e;s<n;s++,a++){let l=0;const u=this.bMarks[s];let c=u,f;for(s+1<n||i?f=this.eMarks[s]+1:f=this.eMarks[s];c<f&&l<r;){const d=this.src.charCodeAt(c);if(Yr(d))d===9?l+=4-(l+this.bsCount[s])%4:l++;else if(c-u<this.tShift[s])l++;else break;c++}l>r?o[a]=new Array(l-r+1).join(" ")+this.src.slice(c,f):o[a]=this.src.slice(c,f)}return o.join("")};Sf.prototype.Token=hc;const yXe=65536;function wA(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}function $G(t){const e=[],n=t.length;let r=0,i=t.charCodeAt(r),o=!1,a=0,s="";for(;r<n;)i===124&&(o?(s+=t.substring(a,r-1),a=r):(e.push(s+t.substring(a,r)),s="",a=r+1)),o=i===92,r++,i=t.charCodeAt(r);return e.push(s+t.substring(a)),e}function bXe(t,e,n,r){if(e+2>n)return!1;let i=e+1;if(t.sCount[i]<t.blkIndent||t.sCount[i]-t.blkIndent>=4)return!1;let o=t.bMarks[i]+t.tShift[i];if(o>=t.eMarks[i])return!1;const a=t.src.charCodeAt(o++);if(a!==124&&a!==45&&a!==58||o>=t.eMarks[i])return!1;const s=t.src.charCodeAt(o++);if(s!==124&&s!==45&&s!==58&&!Yr(s)||a===45&&Yr(s))return!1;for(;o<t.eMarks[i];){const w=t.src.charCodeAt(o);if(w!==124&&w!==45&&w!==58&&!Yr(w))return!1;o++}let l=wA(t,e+1),u=l.split("|");const c=[];for(let w=0;w<u.length;w++){const x=u[w].trim();if(!x){if(w===0||w===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(x))return!1;x.charCodeAt(x.length-1)===58?c.push(x.charCodeAt(0)===58?"center":"right"):x.charCodeAt(0)===58?c.push("left"):c.push("")}if(l=wA(t,e).trim(),l.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;u=$G(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop();const f=u.length;if(f===0||f!==c.length)return!1;if(r)return!0;const d=t.parentType;t.parentType="table";const h=t.md.block.ruler.getRules("blockquote"),p=t.push("table_open","table",1),m=[e,0];p.map=m;const g=t.push("thead_open","thead",1);g.map=[e,e+1];const v=t.push("tr_open","tr",1);v.map=[e,e+1];for(let w=0;w<u.length;w++){const x=t.push("th_open","th",1);c[w]&&(x.attrs=[["style","text-align:"+c[w]]]);const S=t.push("inline","",0);S.content=u[w].trim(),S.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let y,b=0;for(i=e+2;i<n&&!(t.sCount[i]<t.blkIndent);i++){let w=!1;for(let S=0,_=h.length;S<_;S++)if(h[S](t,i,n,!0)){w=!0;break}if(w||(l=wA(t,i).trim(),!l)||t.sCount[i]-t.blkIndent>=4||(u=$G(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop(),b+=f-u.length,b>yXe))break;if(i===e+2){const S=t.push("tbody_open","tbody",1);S.map=y=[e+2,0]}const x=t.push("tr_open","tr",1);x.map=[i,i+1];for(let S=0;S<f;S++){const _=t.push("td_open","td",1);c[S]&&(_.attrs=[["style","text-align:"+c[S]]]);const k=t.push("inline","",0);k.content=u[S]?u[S].trim():"",k.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return y&&(t.push("tbody_close","tbody",-1),y[1]=i),t.push("table_close","table",-1),m[1]=i,t.parentType=d,t.line=i,!0}function wXe(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let r=e+1,i=r;for(;r<n;){if(t.isEmpty(r)){r++;continue}if(t.sCount[r]-t.blkIndent>=4){r++,i=r;continue}break}t.line=i;const o=t.push("code_block","code",0);return o.content=t.getLines(e,i,4+t.blkIndent,!1)+`
`,o.map=[e,t.line],!0}function xXe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||i+3>o)return!1;const a=t.src.charCodeAt(i);if(a!==126&&a!==96)return!1;let s=i;i=t.skipChars(i,a);let l=i-s;if(l<3)return!1;const u=t.src.slice(s,i),c=t.src.slice(i,o);if(a===96&&c.indexOf(String.fromCharCode(a))>=0)return!1;if(r)return!0;let f=e,d=!1;for(;f++,!(f>=n||(i=s=t.bMarks[f]+t.tShift[f],o=t.eMarks[f],i<o&&t.sCount[f]<t.blkIndent));)if(t.src.charCodeAt(i)===a&&!(t.sCount[f]-t.blkIndent>=4)&&(i=t.skipChars(i,a),!(i-s<l)&&(i=t.skipSpaces(i),!(i<o)))){d=!0;break}l=t.sCount[e],t.line=f+(d?1:0);const h=t.push("fence","code",0);return h.info=c,h.content=t.getLines(e+1,f,l,!0),h.markup=u,h.map=[e,t.line],!0}function SXe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];const a=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==62)return!1;if(r)return!0;const s=[],l=[],u=[],c=[],f=t.md.block.ruler.getRules("blockquote"),d=t.parentType;t.parentType="blockquote";let h=!1,p;for(p=e;p<n;p++){const b=t.sCount[p]<t.blkIndent;if(i=t.bMarks[p]+t.tShift[p],o=t.eMarks[p],i>=o)break;if(t.src.charCodeAt(i++)===62&&!b){let x=t.sCount[p]+1,S,_;t.src.charCodeAt(i)===32?(i++,x++,_=!1,S=!0):t.src.charCodeAt(i)===9?(S=!0,(t.bsCount[p]+x)%4===3?(i++,x++,_=!1):_=!0):S=!1;let k=x;for(s.push(t.bMarks[p]),t.bMarks[p]=i;i<o;){const C=t.src.charCodeAt(i);if(Yr(C))C===9?k+=4-(k+t.bsCount[p]+(_?1:0))%4:k++;else break;i++}h=i>=o,l.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(S?1:0),u.push(t.sCount[p]),t.sCount[p]=k-x,c.push(t.tShift[p]),t.tShift[p]=i-t.bMarks[p];continue}if(h)break;let w=!1;for(let x=0,S=f.length;x<S;x++)if(f[x](t,p,n,!0)){w=!0;break}if(w){t.lineMax=p,t.blkIndent!==0&&(s.push(t.bMarks[p]),l.push(t.bsCount[p]),c.push(t.tShift[p]),u.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}s.push(t.bMarks[p]),l.push(t.bsCount[p]),c.push(t.tShift[p]),u.push(t.sCount[p]),t.sCount[p]=-1}const m=t.blkIndent;t.blkIndent=0;const g=t.push("blockquote_open","blockquote",1);g.markup=">";const v=[e,0];g.map=v,t.md.block.tokenize(t,e,p);const y=t.push("blockquote_close","blockquote",-1);y.markup=">",t.lineMax=a,t.parentType=d,v[1]=t.line;for(let b=0;b<c.length;b++)t.bMarks[b+e]=s[b],t.tShift[b+e]=c[b],t.sCount[b+e]=u[b],t.bsCount[b+e]=l[b];return t.blkIndent=m,!0}function _Xe(t,e,n,r){const i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.bMarks[e]+t.tShift[e];const a=t.src.charCodeAt(o++);if(a!==42&&a!==45&&a!==95)return!1;let s=1;for(;o<i;){const u=t.src.charCodeAt(o++);if(u!==a&&!Yr(u))return!1;u===a&&s++}if(s<3)return!1;if(r)return!0;t.line=e+1;const l=t.push("hr","hr",0);return l.map=[e,t.line],l.markup=Array(s+1).join(String.fromCharCode(a)),!0}function BG(t,e){const n=t.eMarks[e];let r=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(r++);if(i!==42&&i!==45&&i!==43)return-1;if(r<n){const o=t.src.charCodeAt(r);if(!Yr(o))return-1}return r}function zG(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];let i=n;if(i+1>=r)return-1;let o=t.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=r)return-1;if(o=t.src.charCodeAt(i++),o>=48&&o<=57){if(i-n>=10)return-1;continue}if(o===41||o===46)break;return-1}return i<r&&(o=t.src.charCodeAt(i),!Yr(o))?-1:i}function CXe(t,e){const n=t.level+2;for(let r=e+2,i=t.tokens.length-2;r<i;r++)t.tokens[r].level===n&&t.tokens[r].type==="paragraph_open"&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}function kXe(t,e,n,r){let i,o,a,s,l=e,u=!0;if(t.sCount[l]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1;let c=!1;r&&t.parentType==="paragraph"&&t.sCount[l]>=t.blkIndent&&(c=!0);let f,d,h;if((h=zG(t,l))>=0){if(f=!0,a=t.bMarks[l]+t.tShift[l],d=Number(t.src.slice(a,h-1)),c&&d!==1)return!1}else if((h=BG(t,l))>=0)f=!1;else return!1;if(c&&t.skipSpaces(h)>=t.eMarks[l])return!1;if(r)return!0;const p=t.src.charCodeAt(h-1),m=t.tokens.length;f?(s=t.push("ordered_list_open","ol",1),d!==1&&(s.attrs=[["start",d]])):s=t.push("bullet_list_open","ul",1);const g=[l,0];s.map=g,s.markup=String.fromCharCode(p);let v=!1;const y=t.md.block.ruler.getRules("list"),b=t.parentType;for(t.parentType="list";l<n;){o=h,i=t.eMarks[l];const w=t.sCount[l]+h-(t.bMarks[l]+t.tShift[l]);let x=w;for(;o<i;){const I=t.src.charCodeAt(o);if(I===9)x+=4-(x+t.bsCount[l])%4;else if(I===32)x++;else break;o++}const S=o;let _;S>=i?_=1:_=x-w,_>4&&(_=1);const k=w+_;s=t.push("list_item_open","li",1),s.markup=String.fromCharCode(p);const C=[l,0];s.map=C,f&&(s.info=t.src.slice(a,h-1));const E=t.tight,M=t.tShift[l],A=t.sCount[l],N=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=k,t.tight=!0,t.tShift[l]=S-t.bMarks[l],t.sCount[l]=x,S>=i&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,l,n,!0),(!t.tight||v)&&(u=!1),v=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=N,t.tShift[l]=M,t.sCount[l]=A,t.tight=E,s=t.push("list_item_close","li",-1),s.markup=String.fromCharCode(p),l=t.line,C[1]=l,l>=n||t.sCount[l]<t.blkIndent||t.sCount[l]-t.blkIndent>=4)break;let T=!1;for(let I=0,O=y.length;I<O;I++)if(y[I](t,l,n,!0)){T=!0;break}if(T)break;if(f){if(h=zG(t,l),h<0)break;a=t.bMarks[l]+t.tShift[l]}else if(h=BG(t,l),h<0)break;if(p!==t.src.charCodeAt(h-1))break}return f?s=t.push("ordered_list_close","ol",-1):s=t.push("bullet_list_close","ul",-1),s.markup=String.fromCharCode(p),g[1]=l,t.line=l,t.parentType=b,u&&CXe(t,m),!0}function EXe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],a=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==91)return!1;function s(y){const b=t.lineMax;if(y>=b||t.isEmpty(y))return null;let w=!1;if(t.sCount[y]-t.blkIndent>3&&(w=!0),t.sCount[y]<0&&(w=!0),!w){const _=t.md.block.ruler.getRules("reference"),k=t.parentType;t.parentType="reference";let C=!1;for(let E=0,M=_.length;E<M;E++)if(_[E](t,y,b,!0)){C=!0;break}if(t.parentType=k,C)return null}const x=t.bMarks[y]+t.tShift[y],S=t.eMarks[y];return t.src.slice(x,S+1)}let l=t.src.slice(i,o+1);o=l.length;let u=-1;for(i=1;i<o;i++){const y=l.charCodeAt(i);if(y===91)return!1;if(y===93){u=i;break}else if(y===10){const b=s(a);b!==null&&(l+=b,o=l.length,a++)}else if(y===92&&(i++,i<o&&l.charCodeAt(i)===10)){const b=s(a);b!==null&&(l+=b,o=l.length,a++)}}if(u<0||l.charCodeAt(u+1)!==58)return!1;for(i=u+2;i<o;i++){const y=l.charCodeAt(i);if(y===10){const b=s(a);b!==null&&(l+=b,o=l.length,a++)}else if(!Yr(y))break}const c=t.md.helpers.parseLinkDestination(l,i,o);if(!c.ok)return!1;const f=t.md.normalizeLink(c.str);if(!t.md.validateLink(f))return!1;i=c.pos;const d=i,h=a,p=i;for(;i<o;i++){const y=l.charCodeAt(i);if(y===10){const b=s(a);b!==null&&(l+=b,o=l.length,a++)}else if(!Yr(y))break}let m=t.md.helpers.parseLinkTitle(l,i,o);for(;m.can_continue;){const y=s(a);if(y===null)break;l+=y,i=o,o=l.length,a++,m=t.md.helpers.parseLinkTitle(l,i,o,m)}let g;for(i<o&&p!==i&&m.ok?(g=m.str,i=m.pos):(g="",i=d,a=h);i<o;){const y=l.charCodeAt(i);if(!Yr(y))break;i++}if(i<o&&l.charCodeAt(i)!==10&&g)for(g="",i=d,a=h;i<o;){const y=l.charCodeAt(i);if(!Yr(y))break;i++}if(i<o&&l.charCodeAt(i)!==10)return!1;const v=Tk(l.slice(1,u));return v?(r||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[v]>"u"&&(t.env.references[v]={title:g,href:f}),t.line=a),!0):!1}const AXe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],TXe="[a-zA-Z_:][a-zA-Z0-9:._-]*",MXe="[^\"'=<>`\\x00-\\x20]+",DXe="'[^']*'",NXe='"[^"]*"',OXe="(?:"+MXe+"|"+DXe+"|"+NXe+")",IXe="(?:\\s+"+TXe+"(?:\\s*=\\s*"+OXe+")?)",Fpe="<[A-Za-z][A-Za-z0-9\\-]*"+IXe+"*\\s*\\/?>",Lpe="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",PXe="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",RXe="<[?][\\s\\S]*?[?]>",FXe="<![A-Za-z][^>]*>",LXe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",$Xe=new RegExp("^(?:"+Fpe+"|"+Lpe+"|"+PXe+"|"+RXe+"|"+FXe+"|"+LXe+")"),BXe=new RegExp("^(?:"+Fpe+"|"+Lpe+")"),Y1=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+AXe.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(BXe.source+"\\s*$"),/^$/,!1]];function zXe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(i)!==60)return!1;let a=t.src.slice(i,o),s=0;for(;s<Y1.length&&!Y1[s][0].test(a);s++);if(s===Y1.length)return!1;if(r)return Y1[s][2];let l=e+1;if(!Y1[s][1].test(a)){for(;l<n&&!(t.sCount[l]<t.blkIndent);l++)if(i=t.bMarks[l]+t.tShift[l],o=t.eMarks[l],a=t.src.slice(i,o),Y1[s][1].test(a)){a.length!==0&&l++;break}}t.line=l;const u=t.push("html_block","",0);return u.map=[e,l],u.content=t.getLines(e,l,t.blkIndent,!0),!0}function qXe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let a=t.src.charCodeAt(i);if(a!==35||i>=o)return!1;let s=1;for(a=t.src.charCodeAt(++i);a===35&&i<o&&s<=6;)s++,a=t.src.charCodeAt(++i);if(s>6||i<o&&!Yr(a))return!1;if(r)return!0;o=t.skipSpacesBack(o,i);const l=t.skipCharsBack(o,35,i);l>i&&Yr(t.src.charCodeAt(l-1))&&(o=l),t.line=e+1;const u=t.push("heading_open","h"+String(s),1);u.markup="########".slice(0,s),u.map=[e,t.line];const c=t.push("inline","",0);c.content=t.src.slice(i,o).trim(),c.map=[e,t.line],c.children=[];const f=t.push("heading_close","h"+String(s),-1);return f.markup="########".slice(0,s),!0}function VXe(t,e,n){const r=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const i=t.parentType;t.parentType="paragraph";let o=0,a,s=e+1;for(;s<n&&!t.isEmpty(s);s++){if(t.sCount[s]-t.blkIndent>3)continue;if(t.sCount[s]>=t.blkIndent){let h=t.bMarks[s]+t.tShift[s];const p=t.eMarks[s];if(h<p&&(a=t.src.charCodeAt(h),(a===45||a===61)&&(h=t.skipChars(h,a),h=t.skipSpaces(h),h>=p))){o=a===61?1:2;break}}if(t.sCount[s]<0)continue;let d=!1;for(let h=0,p=r.length;h<p;h++)if(r[h](t,s,n,!0)){d=!0;break}if(d)break}if(!o)return!1;const l=t.getLines(e,s,t.blkIndent,!1).trim();t.line=s+1;const u=t.push("heading_open","h"+String(o),1);u.markup=String.fromCharCode(a),u.map=[e,t.line];const c=t.push("inline","",0);c.content=l,c.map=[e,t.line-1],c.children=[];const f=t.push("heading_close","h"+String(o),-1);return f.markup=String.fromCharCode(a),t.parentType=i,!0}function HXe(t,e,n){const r=t.md.block.ruler.getRules("paragraph"),i=t.parentType;let o=e+1;for(t.parentType="paragraph";o<n&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3||t.sCount[o]<0)continue;let u=!1;for(let c=0,f=r.length;c<f;c++)if(r[c](t,o,n,!0)){u=!0;break}if(u)break}const a=t.getLines(e,o,t.blkIndent,!1).trim();t.line=o;const s=t.push("paragraph_open","p",1);s.map=[e,t.line];const l=t.push("inline","",0);return l.content=a,l.map=[e,t.line],l.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}const Lx=[["table",bXe,["paragraph","reference"]],["code",wXe],["fence",xXe,["paragraph","reference","blockquote","list"]],["blockquote",SXe,["paragraph","reference","blockquote","list"]],["hr",_Xe,["paragraph","reference","blockquote","list"]],["list",kXe,["paragraph","reference","blockquote"]],["reference",EXe],["html_block",zXe,["paragraph","reference","blockquote"]],["heading",qXe,["paragraph","reference","blockquote"]],["lheading",VXe],["paragraph",HXe]];function Mk(){this.ruler=new Gs;for(let t=0;t<Lx.length;t++)this.ruler.push(Lx[t][0],Lx[t][1],{alt:(Lx[t][2]||[]).slice()})}Mk.prototype.tokenize=function(t,e,n){const r=this.ruler.getRules(""),i=r.length,o=t.md.options.maxNesting;let a=e,s=!1;for(;a<n&&(t.line=a=t.skipEmptyLines(a),!(a>=n||t.sCount[a]<t.blkIndent));){if(t.level>=o){t.line=n;break}const l=t.line;let u=!1;for(let c=0;c<i;c++)if(u=r[c](t,a,n,!1),u){if(l>=t.line)throw new Error("block rule didn't increment state.line");break}if(!u)throw new Error("none of the block rules matched");t.tight=!s,t.isEmpty(t.line-1)&&(s=!0),a=t.line,a<n&&t.isEmpty(a)&&(s=!0,a++,t.line=a)}};Mk.prototype.parse=function(t,e,n,r){if(!t)return;const i=new this.State(t,e,n,r);this.tokenize(i,i.line,i.lineMax)};Mk.prototype.State=Sf;function c4(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}c4.prototype.pushPending=function(){const t=new hc("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};c4.prototype.push=function(t,e,n){this.pending&&this.pushPending();const r=new hc(t,e,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r};c4.prototype.scanDelims=function(t,e){const n=this.posMax,r=this.src.charCodeAt(t),i=t>0?this.src.charCodeAt(t-1):32;let o=t;for(;o<n&&this.src.charCodeAt(o)===r;)o++;const a=o-t,s=o<n?this.src.charCodeAt(o):32,l=W3(i)||j3(String.fromCharCode(i)),u=W3(s)||j3(String.fromCharCode(s)),c=U3(i),f=U3(s),d=!f&&(!u||c||l),h=!c&&(!l||f||u);return{can_open:d&&(e||!h||l),can_close:h&&(e||!d||u),length:a}};c4.prototype.Token=hc;function UXe(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function jXe(t,e){let n=t.pos;for(;n<t.posMax&&!UXe(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const WXe=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function GXe(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,r=t.posMax;if(n+3>r||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const i=t.pending.match(WXe);if(!i)return!1;const o=i[1],a=t.md.linkify.matchAtStart(t.src.slice(n-o.length));if(!a)return!1;let s=a.url;if(s.length<=o.length)return!1;s=s.replace(/\*+$/,"");const l=t.md.normalizeLink(s);if(!t.md.validateLink(l))return!1;if(!e){t.pending=t.pending.slice(0,-o.length);const u=t.push("link_open","a",1);u.attrs=[["href",l]],u.markup="linkify",u.info="auto";const c=t.push("text","",0);c.content=t.md.normalizeLinkText(s);const f=t.push("link_close","a",-1);f.markup="linkify",f.info="auto"}return t.pos+=s.length-o.length,!0}function KXe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const r=t.pending.length-1,i=t.posMax;if(!e)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){let o=r-1;for(;o>=1&&t.pending.charCodeAt(o-1)===32;)o--;t.pending=t.pending.slice(0,o),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<i&&Yr(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const RR=[];for(let t=0;t<256;t++)RR.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){RR[t.charCodeAt(0)]=1});function XXe(t,e){let n=t.pos;const r=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let i=t.src.charCodeAt(n);if(i===10){for(e||t.push("hardbreak","br",0),n++;n<r&&(i=t.src.charCodeAt(n),!!Yr(i));)n++;return t.pos=n,!0}let o=t.src[n];if(i>=55296&&i<=56319&&n+1<r){const s=t.src.charCodeAt(n+1);s>=56320&&s<=57343&&(o+=t.src[n+1],n++)}const a="\\"+o;if(!e){const s=t.push("text_special","",0);i<256&&RR[i]!==0?s.content=o:s.content=a,s.markup=a,s.info="escape"}return t.pos=n+1,!0}function YXe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const i=n;n++;const o=t.posMax;for(;n<o&&t.src.charCodeAt(n)===96;)n++;const a=t.src.slice(i,n),s=a.length;if(t.backticksScanned&&(t.backticks[s]||0)<=i)return e||(t.pending+=a),t.pos+=s,!0;let l=n,u;for(;(u=t.src.indexOf("`",l))!==-1;){for(l=u+1;l<o&&t.src.charCodeAt(l)===96;)l++;const c=l-u;if(c===s){if(!e){const f=t.push("code_inline","code",0);f.markup=a,f.content=t.src.slice(n,u).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[c]=u}return t.backticksScanned=!0,e||(t.pending+=a),t.pos+=s,!0}function ZXe(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==126)return!1;const i=t.scanDelims(t.pos,!0);let o=i.length;const a=String.fromCharCode(r);if(o<2)return!1;let s;o%2&&(s=t.push("text","",0),s.content=a,o--);for(let l=0;l<o;l+=2)s=t.push("text","",0),s.content=a+a,t.delimiters.push({marker:r,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0}function qG(t,e){let n;const r=[],i=e.length;for(let o=0;o<i;o++){const a=e[o];if(a.marker!==126||a.end===-1)continue;const s=e[a.end];n=t.tokens[a.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[s.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[s.token-1].type==="text"&&t.tokens[s.token-1].content==="~"&&r.push(s.token-1)}for(;r.length;){const o=r.pop();let a=o+1;for(;a<t.tokens.length&&t.tokens[a].type==="s_close";)a++;a--,o!==a&&(n=t.tokens[a],t.tokens[a]=t.tokens[o],t.tokens[o]=n)}}function JXe(t){const e=t.tokens_meta,n=t.tokens_meta.length;qG(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&qG(t,e[r].delimiters)}const $pe={tokenize:ZXe,postProcess:JXe};function QXe(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==95&&r!==42)return!1;const i=t.scanDelims(t.pos,r===42);for(let o=0;o<i.length;o++){const a=t.push("text","",0);a.content=String.fromCharCode(r),t.delimiters.push({marker:r,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return t.pos+=i.length,!0}function VG(t,e){const n=e.length;for(let r=n-1;r>=0;r--){const i=e[r];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;const o=e[i.end],a=r>0&&e[r-1].end===i.end+1&&e[r-1].marker===i.marker&&e[r-1].token===i.token-1&&e[i.end+1].token===o.token+1,s=String.fromCharCode(i.marker),l=t.tokens[i.token];l.type=a?"strong_open":"em_open",l.tag=a?"strong":"em",l.nesting=1,l.markup=a?s+s:s,l.content="";const u=t.tokens[o.token];u.type=a?"strong_close":"em_close",u.tag=a?"strong":"em",u.nesting=-1,u.markup=a?s+s:s,u.content="",a&&(t.tokens[e[r-1].token].content="",t.tokens[e[i.end+1].token].content="",r--)}}function eYe(t){const e=t.tokens_meta,n=t.tokens_meta.length;VG(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&VG(t,e[r].delimiters)}const Bpe={tokenize:QXe,postProcess:eYe};function tYe(t,e){let n,r,i,o,a="",s="",l=t.pos,u=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const c=t.pos,f=t.posMax,d=t.pos+1,h=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(h<0)return!1;let p=h+1;if(p<f&&t.src.charCodeAt(p)===40){for(u=!1,p++;p<f&&(n=t.src.charCodeAt(p),!(!Yr(n)&&n!==10));p++);if(p>=f)return!1;if(l=p,i=t.md.helpers.parseLinkDestination(t.src,p,t.posMax),i.ok){for(a=t.md.normalizeLink(i.str),t.md.validateLink(a)?p=i.pos:a="",l=p;p<f&&(n=t.src.charCodeAt(p),!(!Yr(n)&&n!==10));p++);if(i=t.md.helpers.parseLinkTitle(t.src,p,t.posMax),p<f&&l!==p&&i.ok)for(s=i.str,p=i.pos;p<f&&(n=t.src.charCodeAt(p),!(!Yr(n)&&n!==10));p++);}(p>=f||t.src.charCodeAt(p)!==41)&&(u=!0),p++}if(u){if(typeof t.env.references>"u")return!1;if(p<f&&t.src.charCodeAt(p)===91?(l=p+1,p=t.md.helpers.parseLinkLabel(t,p),p>=0?r=t.src.slice(l,p++):p=h+1):p=h+1,r||(r=t.src.slice(d,h)),o=t.env.references[Tk(r)],!o)return t.pos=c,!1;a=o.href,s=o.title}if(!e){t.pos=d,t.posMax=h;const m=t.push("link_open","a",1),g=[["href",a]];m.attrs=g,s&&g.push(["title",s]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=p,t.posMax=f,!0}function nYe(t,e){let n,r,i,o,a,s,l,u,c="";const f=t.pos,d=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const h=t.pos+2,p=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(p<0)return!1;if(o=p+1,o<d&&t.src.charCodeAt(o)===40){for(o++;o<d&&(n=t.src.charCodeAt(o),!(!Yr(n)&&n!==10));o++);if(o>=d)return!1;for(u=o,s=t.md.helpers.parseLinkDestination(t.src,o,t.posMax),s.ok&&(c=t.md.normalizeLink(s.str),t.md.validateLink(c)?o=s.pos:c=""),u=o;o<d&&(n=t.src.charCodeAt(o),!(!Yr(n)&&n!==10));o++);if(s=t.md.helpers.parseLinkTitle(t.src,o,t.posMax),o<d&&u!==o&&s.ok)for(l=s.str,o=s.pos;o<d&&(n=t.src.charCodeAt(o),!(!Yr(n)&&n!==10));o++);else l="";if(o>=d||t.src.charCodeAt(o)!==41)return t.pos=f,!1;o++}else{if(typeof t.env.references>"u")return!1;if(o<d&&t.src.charCodeAt(o)===91?(u=o+1,o=t.md.helpers.parseLinkLabel(t,o),o>=0?i=t.src.slice(u,o++):o=p+1):o=p+1,i||(i=t.src.slice(h,p)),a=t.env.references[Tk(i)],!a)return t.pos=f,!1;c=a.href,l=a.title}if(!e){r=t.src.slice(h,p);const m=[];t.md.inline.parse(r,t.md,t.env,m);const g=t.push("image","img",0),v=[["src",c],["alt",""]];g.attrs=v,g.children=m,g.content=r,l&&v.push(["title",l])}return t.pos=o,t.posMax=d,!0}const rYe=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,iYe=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function oYe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const r=t.pos,i=t.posMax;for(;;){if(++n>=i)return!1;const a=t.src.charCodeAt(n);if(a===60)return!1;if(a===62)break}const o=t.src.slice(r+1,n);if(iYe.test(o)){const a=t.md.normalizeLink(o);if(!t.md.validateLink(a))return!1;if(!e){const s=t.push("link_open","a",1);s.attrs=[["href",a]],s.markup="autolink",s.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(o);const u=t.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return t.pos+=o.length+2,!0}if(rYe.test(o)){const a=t.md.normalizeLink("mailto:"+o);if(!t.md.validateLink(a))return!1;if(!e){const s=t.push("link_open","a",1);s.attrs=[["href",a]],s.markup="autolink",s.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(o);const u=t.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return t.pos+=o.length+2,!0}return!1}function aYe(t){return/^<a[>\s]/i.test(t)}function sYe(t){return/^<\/a\s*>/i.test(t)}function lYe(t){const e=t|32;return e>=97&&e<=122}function uYe(t,e){if(!t.md.options.html)return!1;const n=t.posMax,r=t.pos;if(t.src.charCodeAt(r)!==60||r+2>=n)return!1;const i=t.src.charCodeAt(r+1);if(i!==33&&i!==63&&i!==47&&!lYe(i))return!1;const o=t.src.slice(r).match($Xe);if(!o)return!1;if(!e){const a=t.push("html_inline","",0);a.content=o[0],aYe(a.content)&&t.linkLevel++,sYe(a.content)&&t.linkLevel--}return t.pos+=o[0].length,!0}const cYe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,fYe=/^&([a-z][a-z0-9]{1,31});/i;function dYe(t,e){const n=t.pos,r=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=r)return!1;if(t.src.charCodeAt(n+1)===35){const o=t.src.slice(n).match(cYe);if(o){if(!e){const a=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),s=t.push("text_special","",0);s.content=IR(a)?cC(a):cC(65533),s.markup=o[0],s.info="entity"}return t.pos+=o[0].length,!0}}else{const o=t.src.slice(n).match(fYe);if(o){const a=Npe(o[0]);if(a!==o[0]){if(!e){const s=t.push("text_special","",0);s.content=a,s.markup=o[0],s.info="entity"}return t.pos+=o[0].length,!0}}}return!1}function HG(t){const e={},n=t.length;if(!n)return;let r=0,i=-2;const o=[];for(let a=0;a<n;a++){const s=t[a];if(o.push(0),(t[r].marker!==s.marker||i!==s.token-1)&&(r=a),i=s.token,s.length=s.length||0,!s.close)continue;e.hasOwnProperty(s.marker)||(e[s.marker]=[-1,-1,-1,-1,-1,-1]);const l=e[s.marker][(s.open?3:0)+s.length%3];let u=r-o[r]-1,c=u;for(;u>l;u-=o[u]+1){const f=t[u];if(f.marker===s.marker&&f.open&&f.end<0){let d=!1;if((f.close||s.open)&&(f.length+s.length)%3===0&&(f.length%3!==0||s.length%3!==0)&&(d=!0),!d){const h=u>0&&!t[u-1].open?o[u-1]+1:0;o[a]=a-u+h,o[u]=h,s.open=!1,f.end=a,f.close=!1,c=-1,i=-2;break}}}c!==-1&&(e[s.marker][(s.open?3:0)+(s.length||0)%3]=c)}}function hYe(t){const e=t.tokens_meta,n=t.tokens_meta.length;HG(t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&HG(e[r].delimiters)}function pYe(t){let e,n,r=0;const i=t.tokens,o=t.tokens.length;for(e=n=0;e<o;e++)i[e].nesting<0&&r--,i[e].level=r,i[e].nesting>0&&r++,i[e].type==="text"&&e+1<o&&i[e+1].type==="text"?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}const xA=[["text",jXe],["linkify",GXe],["newline",KXe],["escape",XXe],["backticks",YXe],["strikethrough",$pe.tokenize],["emphasis",Bpe.tokenize],["link",tYe],["image",nYe],["autolink",oYe],["html_inline",uYe],["entity",dYe]],SA=[["balance_pairs",hYe],["strikethrough",$pe.postProcess],["emphasis",Bpe.postProcess],["fragments_join",pYe]];function f4(){this.ruler=new Gs;for(let t=0;t<xA.length;t++)this.ruler.push(xA[t][0],xA[t][1]);this.ruler2=new Gs;for(let t=0;t<SA.length;t++)this.ruler2.push(SA[t][0],SA[t][1])}f4.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),r=n.length,i=t.md.options.maxNesting,o=t.cache;if(typeof o[e]<"u"){t.pos=o[e];return}let a=!1;if(t.level<i){for(let s=0;s<r;s++)if(t.level++,a=n[s](t,!0),t.level--,a){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;a||t.pos++,o[e]=t.pos};f4.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,r=t.posMax,i=t.md.options.maxNesting;for(;t.pos<r;){const o=t.pos;let a=!1;if(t.level<i){for(let s=0;s<n;s++)if(a=e[s](t,!1),a){if(o>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(a){if(t.pos>=r)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};f4.prototype.parse=function(t,e,n,r){const i=new this.State(t,e,n,r);this.tokenize(i);const o=this.ruler2.getRules(""),a=o.length;for(let s=0;s<a;s++)o[s](i)};f4.prototype.State=c4;function mYe(t){const e={};t=t||{},e.src_Any=Epe.source,e.src_Cc=Ape.source,e.src_Z=Mpe.source,e.src_P=NR.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function gD(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function Dk(t){return Object.prototype.toString.call(t)}function gYe(t){return Dk(t)==="[object String]"}function vYe(t){return Dk(t)==="[object Object]"}function yYe(t){return Dk(t)==="[object RegExp]"}function UG(t){return Dk(t)==="[object Function]"}function bYe(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const zpe={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function wYe(t){return Object.keys(t||{}).reduce(function(e,n){return e||zpe.hasOwnProperty(n)},!1)}const xYe={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},SYe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",_Ye="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function CYe(t){t.__index__=-1,t.__text_cache__=""}function kYe(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function jG(){return function(t,e){e.normalize(t)}}function fC(t){const e=t.re=mYe(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(SYe),n.push(e.src_xn),e.src_tlds=n.join("|");function r(s){return s.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const i=[];t.__compiled__={};function o(s,l){throw new Error('(LinkifyIt) Invalid schema "'+s+'": '+l)}Object.keys(t.__schemas__).forEach(function(s){const l=t.__schemas__[s];if(l===null)return;const u={validate:null,link:null};if(t.__compiled__[s]=u,vYe(l)){yYe(l.validate)?u.validate=kYe(l.validate):UG(l.validate)?u.validate=l.validate:o(s,l),UG(l.normalize)?u.normalize=l.normalize:l.normalize?o(s,l):u.normalize=jG();return}if(gYe(l)){i.push(s);return}o(s,l)}),i.forEach(function(s){t.__compiled__[t.__schemas__[s]]&&(t.__compiled__[s].validate=t.__compiled__[t.__schemas__[s]].validate,t.__compiled__[s].normalize=t.__compiled__[t.__schemas__[s]].normalize)}),t.__compiled__[""]={validate:null,normalize:jG()};const a=Object.keys(t.__compiled__).filter(function(s){return s.length>0&&t.__compiled__[s]}).map(bYe).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),CYe(t)}function EYe(t,e){const n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function vD(t,e){const n=new EYe(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function Dl(t,e){if(!(this instanceof Dl))return new Dl(t,e);e||wYe(t)&&(e=t,t={}),this.__opts__=gD({},zpe,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=gD({},xYe,t),this.__compiled__={},this.__tlds__=_Ye,this.__tlds_replaced__=!1,this.re={},fC(this)}Dl.prototype.add=function(e,n){return this.__schemas__[e]=n,fC(this),this};Dl.prototype.set=function(e){return this.__opts__=gD(this.__opts__,e),this};Dl.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,i,o,a,s,l,u,c;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(o=this.testSchemaAt(e,n[2],l.lastIndex),o){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(a=r.index+r[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(a=i.index+i[1].length,s=i.index+i[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=s))),this.__index__>=0};Dl.prototype.pretest=function(e){return this.re.pretest.test(e)};Dl.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};Dl.prototype.match=function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(vD(this,r)),r=this.__last_index__);let i=r?e.slice(r):e;for(;this.test(i);)n.push(vD(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};Dl.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,vD(this,0)):null};Dl.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,i,o){return r!==o[i-1]}).reverse(),fC(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,fC(this),this)};Dl.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};Dl.prototype.onCompile=function(){};const Kg=2147483647,Vc=36,FR=1,G3=26,AYe=38,TYe=700,qpe=72,Vpe=128,Hpe="-",MYe=/^xn--/,DYe=/[^\0-\x7F]/,NYe=/[\x2E\u3002\uFF0E\uFF61]/g,OYe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_A=Vc-FR,Hc=Math.floor,CA=String.fromCharCode;function jh(t){throw new RangeError(OYe[t])}function IYe(t,e){const n=[];let r=t.length;for(;r--;)n[r]=e(t[r]);return n}function Upe(t,e){const n=t.split("@");let r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(NYe,".");const i=t.split("."),o=IYe(i,e).join(".");return r+o}function jpe(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const o=t.charCodeAt(n++);(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}const PYe=t=>String.fromCodePoint(...t),RYe=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:Vc},WG=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Wpe=function(t,e,n){let r=0;for(t=n?Hc(t/TYe):t>>1,t+=Hc(t/e);t>_A*G3>>1;r+=Vc)t=Hc(t/_A);return Hc(r+(_A+1)*t/(t+AYe))},Gpe=function(t){const e=[],n=t.length;let r=0,i=Vpe,o=qpe,a=t.lastIndexOf(Hpe);a<0&&(a=0);for(let s=0;s<a;++s)t.charCodeAt(s)>=128&&jh("not-basic"),e.push(t.charCodeAt(s));for(let s=a>0?a+1:0;s<n;){const l=r;for(let c=1,f=Vc;;f+=Vc){s>=n&&jh("invalid-input");const d=RYe(t.charCodeAt(s++));d>=Vc&&jh("invalid-input"),d>Hc((Kg-r)/c)&&jh("overflow"),r+=d*c;const h=f<=o?FR:f>=o+G3?G3:f-o;if(d<h)break;const p=Vc-h;c>Hc(Kg/p)&&jh("overflow"),c*=p}const u=e.length+1;o=Wpe(r-l,u,l==0),Hc(r/u)>Kg-i&&jh("overflow"),i+=Hc(r/u),r%=u,e.splice(r++,0,i)}return String.fromCodePoint(...e)},Kpe=function(t){const e=[];t=jpe(t);const n=t.length;let r=Vpe,i=0,o=qpe;for(const l of t)l<128&&e.push(CA(l));const a=e.length;let s=a;for(a&&e.push(Hpe);s<n;){let l=Kg;for(const c of t)c>=r&&c<l&&(l=c);const u=s+1;l-r>Hc((Kg-i)/u)&&jh("overflow"),i+=(l-r)*u,r=l;for(const c of t)if(c<r&&++i>Kg&&jh("overflow"),c===r){let f=i;for(let d=Vc;;d+=Vc){const h=d<=o?FR:d>=o+G3?G3:d-o;if(f<h)break;const p=f-h,m=Vc-h;e.push(CA(WG(h+p%m,0))),f=Hc(p/m)}e.push(CA(WG(f,0))),o=Wpe(i,u,s===a),i=0,++s}++i,++r}return e.join("")},FYe=function(t){return Upe(t,function(e){return MYe.test(e)?Gpe(e.slice(4).toLowerCase()):e})},LYe=function(t){return Upe(t,function(e){return DYe.test(e)?"xn--"+Kpe(e):e})},Xpe={version:"2.3.1",ucs2:{decode:jpe,encode:PYe},decode:Gpe,encode:Kpe,toASCII:LYe,toUnicode:FYe},$Ye={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},BYe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},zYe={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},qYe={default:$Ye,zero:BYe,commonmark:zYe},VYe=/^(vbscript|javascript|file|data):/,HYe=/^data:image\/(gif|png|jpeg|webp);/;function UYe(t){const e=t.trim().toLowerCase();return VYe.test(e)?HYe.test(e):!0}const Ype=["http:","https:","mailto:"];function jYe(t){const e=DR(t,!0);if(e.hostname&&(!e.protocol||Ype.indexOf(e.protocol)>=0))try{e.hostname=Xpe.toASCII(e.hostname)}catch{}return u4(MR(e))}function WYe(t){const e=DR(t,!0);if(e.hostname&&(!e.protocol||Ype.indexOf(e.protocol)>=0))try{e.hostname=Xpe.toUnicode(e.hostname)}catch{}return Mv(MR(e),Mv.defaultChars+"%")}function gu(t,e){if(!(this instanceof gu))return new gu(t,e);e||OR(t)||(e=t||{},t="default"),this.inline=new f4,this.block=new Mk,this.core=new PR,this.renderer=new Sy,this.linkify=new Dl,this.validateLink=UYe,this.normalizeLink=jYe,this.normalizeLinkText=WYe,this.utils=KKe,this.helpers=Ak({},JKe),this.options={},this.configure(t),e&&this.set(e)}gu.prototype.set=function(t){return Ak(this.options,t),this};gu.prototype.configure=function(t){const e=this;if(OR(t)){const n=t;if(t=qYe[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};gu.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};gu.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};gu.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};gu.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};gu.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};gu.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};gu.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const GYe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let KYe=t=>crypto.getRandomValues(new Uint8Array(t)),XYe=(t,e,n)=>{let r=(2<<Math.log2(t.length-1))-1,i=-~(1.6*r*e/t.length);return(o=e)=>{let a="";for(;;){let s=n(i),l=i|0;for(;l--;)if(a+=t[s[l]&r]||"",a.length>=o)return a}}},LR=(t,e=21)=>XYe(t,e|0,KYe),Zpe=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=GYe[n[t]&63];return e};const yD=(t,e)=>e.some(n=>t instanceof n);let GG,KG;function YYe(){return GG||(GG=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZYe(){return KG||(KG=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bD=new WeakMap,kA=new WeakMap,Nk=new WeakMap;function JYe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Mm(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return Nk.set(e,t),e}function QYe(t){if(bD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});bD.set(t,e)}let wD={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mm(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Jpe(t){wD=t(wD)}function eZe(t){return ZYe().includes(t)?function(...e){return t.apply(xD(this),e),Mm(this.request)}:function(...e){return Mm(t.apply(xD(this),e))}}function tZe(t){return typeof t=="function"?eZe(t):(t instanceof IDBTransaction&&QYe(t),yD(t,YYe())?new Proxy(t,wD):t)}function Mm(t){if(t instanceof IDBRequest)return JYe(t);if(kA.has(t))return kA.get(t);const e=tZe(t);return e!==t&&(kA.set(t,e),Nk.set(e,t)),e}const xD=t=>Nk.get(t);function nZe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Mm(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Mm(a.result),l.oldVersion,l.newVersion,Mm(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const rZe=["get","getKey","getAll","getAllKeys","count"],iZe=["put","add","delete","clear"],EA=new Map;function XG(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(EA.get(e))return EA.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iZe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rZe.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return EA.set(e,o),o}Jpe(t=>({...t,get:(e,n,r)=>XG(e,n)||t.get(e,n,r),has:(e,n)=>!!XG(e,n)||t.has(e,n)}));const oZe=["continue","continuePrimaryKey","advance"],YG={},SD=new WeakMap,Qpe=new WeakMap,aZe={get(t,e){if(!oZe.includes(e))return t[e];let n=YG[e];return n||(n=YG[e]=function(...r){SD.set(this,Qpe.get(this)[e](...r))}),n}};async function*sZe(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,aZe);for(Qpe.set(n,e),Nk.set(n,xD(e));e;)yield n,e=await(SD.get(n)||e.continue()),SD.delete(n)}function ZG(t,e){return e===Symbol.asyncIterator&&yD(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&yD(t,[IDBIndex,IDBObjectStore])}Jpe(t=>({...t,get(e,n,r){return ZG(e,n)?sZe:t.get(e,n,r)},has(e,n){return ZG(e,n)||t.has(e,n)}}));function $x(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var AA={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var JG;function lZe(){return JG||(JG=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,o){function a(u,c){if(!i[u]){if(!r[u]){var f=typeof $x=="function"&&$x;if(!c&&f)return f(u,!0);if(s)return s(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(p){var m=r[u][1][p];return a(m||p)},h,h.exports,n,r,i,o)}return i[u].exports}for(var s=typeof $x=="function"&&$x,l=0;l<o.length;l++)a(o[l]);return a}({1:[function(n,r,i){var o=n("./utils"),a=n("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,f,d,h,p,m,g=[],v=0,y=l.length,b=y,w=o.getTypeOf(l)!=="string";v<l.length;)b=y-v,f=w?(u=l[v++],c=v<y?l[v++]:0,v<y?l[v++]:0):(u=l.charCodeAt(v++),c=v<y?l.charCodeAt(v++):0,v<y?l.charCodeAt(v++):0),d=u>>2,h=(3&u)<<4|c>>4,p=1<b?(15&c)<<2|f>>6:64,m=2<b?63&f:64,g.push(s.charAt(d)+s.charAt(h)+s.charAt(p)+s.charAt(m));return g.join("")},i.decode=function(l){var u,c,f,d,h,p,m=0,g=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&b--,l.charAt(l.length-2)===s.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|b):new Array(0|b);m<l.length;)u=s.indexOf(l.charAt(m++))<<2|(d=s.indexOf(l.charAt(m++)))>>4,c=(15&d)<<4|(h=s.indexOf(l.charAt(m++)))>>2,f=(3&h)<<6|(p=s.indexOf(l.charAt(m++))),y[g++]=u,h!==64&&(y[g++]=c),p!==64&&(y[g++]=f);return y}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),a=n("./stream/DataWorker"),s=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,f,d,h,p){this.compressedSize=c,this.uncompressedSize=f,this.crc32=d,this.compression=h,this.compressedContent=p}u.prototype={getContentWorker:function(){var c=new a(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,d){return c.pipe(new s).pipe(new l("uncompressedSize")).pipe(f.compressWorker(d)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),a=function(){for(var s,l=[],u=0;u<256;u++){s=u;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;l[u]=s}return l}();r.exports=function(s,l){return s!==void 0&&s.length?o.getTypeOf(s)!=="string"?function(u,c,f,d){var h=a,p=d+f;u^=-1;for(var m=d;m<p;m++)u=u>>>8^h[255&(u^c[m])];return-1^u}(0|l,s,s.length,0):function(u,c,f,d){var h=a,p=d+f;u^=-1;for(var m=d;m<p;m++)u=u>>>8^h[255&(u^c.charCodeAt(m))];return-1^u}(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),s=n("./utils"),l=n("./stream/GenericWorker"),u=o?"uint8array":"array";function c(f,d){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=d,this.meta={}}i.magic="\b\0",s.inherits(c,l),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(u,f.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(d){f.push({data:d,meta:f.meta})}},i.compressWorker=function(f){return new c("Deflate",f)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(h,p){var m,g="";for(m=0;m<p;m++)g+=String.fromCharCode(255&h),h>>>=8;return g}function a(h,p,m,g,v,y){var b,w,x=h.file,S=h.compression,_=y!==u.utf8encode,k=s.transformTo("string",y(x.name)),C=s.transformTo("string",u.utf8encode(x.name)),E=x.comment,M=s.transformTo("string",y(E)),A=s.transformTo("string",u.utf8encode(E)),N=C.length!==x.name.length,T=A.length!==E.length,I="",O="",q="",L=x.dir,Y=x.date,R={crc32:0,compressedSize:0,uncompressedSize:0};p&&!m||(R.crc32=h.crc32,R.compressedSize=h.compressedSize,R.uncompressedSize=h.uncompressedSize);var B=0;p&&(B|=8),_||!N&&!T||(B|=2048);var z=0,P=0;L&&(z|=16),v==="UNIX"?(P=798,z|=function(X,K){var Z=X;return X||(Z=K?16893:33204),(65535&Z)<<16}(x.unixPermissions,L)):(P=20,z|=function(X){return 63&(X||0)}(x.dosPermissions)),b=Y.getUTCHours(),b<<=6,b|=Y.getUTCMinutes(),b<<=5,b|=Y.getUTCSeconds()/2,w=Y.getUTCFullYear()-1980,w<<=4,w|=Y.getUTCMonth()+1,w<<=5,w|=Y.getUTCDate(),N&&(O=o(1,1)+o(c(k),4)+C,I+="up"+o(O.length,2)+O),T&&(q=o(1,1)+o(c(M),4)+A,I+="uc"+o(q.length,2)+q);var $="";return $+=`
\0`,$+=o(B,2),$+=S.magic,$+=o(b,2),$+=o(w,2),$+=o(R.crc32,4),$+=o(R.compressedSize,4),$+=o(R.uncompressedSize,4),$+=o(k.length,2),$+=o(I.length,2),{fileRecord:f.LOCAL_FILE_HEADER+$+k+I,dirRecord:f.CENTRAL_FILE_HEADER+o(P,2)+$+o(M.length,2)+"\0\0\0\0"+o(z,4)+o(g,4)+k+I+M}}var s=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),f=n("../signature");function d(h,p,m,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=m,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(d,l),d.prototype.push=function(h){var p=h.meta.percent||0,m=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:m?(p+100*(m-g-1))/m:100}}))},d.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var p=this.streamFiles&&!h.file.dir;if(p){var m=a(h,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(h){this.accumulate=!1;var p=this.streamFiles&&!h.file.dir,m=a(h,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),p)this.push({data:function(g){return f.DATA_DESCRIPTOR+o(g.crc32,4)+o(g.compressedSize,4)+o(g.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var h=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var m=this.bytesWritten-h,g=function(v,y,b,w,x){var S=s.transformTo("string",x(w));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(v,2)+o(v,2)+o(y,4)+o(b,4)+o(S.length,2)+S}(this.dirRecords.length,m,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(h){this._sources.push(h);var p=this;return h.on("data",function(m){p.processChunk(m)}),h.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),h.on("error",function(m){p.error(m)}),this},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(h){var p=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var m=0;m<p.length;m++)try{p[m].error(h)}catch{}return!0},d.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,p=0;p<h.length;p++)h[p].lock()},r.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(s,l,u){var c=new a(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{s.forEach(function(d,h){f++;var p=function(y,b){var w=y||b,x=o[w];if(!x)throw new Error(w+" is not a valid compression method !");return x}(h.options.compression,l.compression),m=h.options.compressionOptions||l.compressionOptions||{},g=h.dir,v=h.date;h._compressWorker(p,m).withStreamInfo("file",{name:d,dir:g,date:v,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(d){c.error(d)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new o;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(a,s){return new o().loadAsync(a,s)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),a=n("./external"),s=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function f(d){return new a.Promise(function(h,p){var m=d.decompressed.getContentWorker().pipe(new u);m.on("error",function(g){p(g)}).on("end",function(){m.streamInfo.crc32!==d.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(d,h){var p=this;return h=o.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),c.isNode&&c.isStream(d)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",d,!0,h.optimizedBinaryString,h.base64).then(function(m){var g=new l(h);return g.load(m),g}).then(function(m){var g=[a.Promise.resolve(m)],v=m.files;if(h.checkCRC32)for(var y=0;y<v.length;y++)g.push(f(v[y]));return a.Promise.all(g)}).then(function(m){for(var g=m.shift(),v=g.files,y=0;y<v.length;y++){var b=v[y],w=b.fileNameStr,x=o.resolve(b.fileNameStr);p.file(x,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:h.createFolders}),b.dir||(p.file(x).unsafeOriginalName=w)}return g.zipComment.length&&(p.comment=g.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),a=n("../stream/GenericWorker");function s(l,u){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}o.inherits(s,a),s.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function a(s,l,u){o.call(this,l),this._helper=s;var c=this;s.on("data",function(f,d){c.push(f)||c._helper.pause(),u&&u(d)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}n("../utils").inherits(a,o),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,a);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,a)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var a=new Buffer(o);return a.fill(0),a},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(x,S,_){var k,C=s.getTypeOf(S),E=s.extend(_||{},c);E.date=E.date||new Date,E.compression!==null&&(E.compression=E.compression.toUpperCase()),typeof E.unixPermissions=="string"&&(E.unixPermissions=parseInt(E.unixPermissions,8)),E.unixPermissions&&16384&E.unixPermissions&&(E.dir=!0),E.dosPermissions&&16&E.dosPermissions&&(E.dir=!0),E.dir&&(x=v(x)),E.createFolders&&(k=g(x))&&y.call(this,k,!0);var M=C==="string"&&E.binary===!1&&E.base64===!1;_&&_.binary!==void 0||(E.binary=!M),(S instanceof f&&S.uncompressedSize===0||E.dir||!S||S.length===0)&&(E.base64=!1,E.binary=!0,S="",E.compression="STORE",C="string");var A=null;A=S instanceof f||S instanceof l?S:p.isNode&&p.isStream(S)?new m(x,S):s.prepareContent(x,S,E.binary,E.optimizedBinaryString,E.base64);var N=new d(x,A,E);this.files[x]=N}var a=n("./utf8"),s=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),f=n("./compressedObject"),d=n("./zipObject"),h=n("./generate"),p=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),g=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var S=x.lastIndexOf("/");return 0<S?x.substring(0,S):""},v=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},y=function(x,S){return S=S!==void 0?S:c.createFolders,x=v(x),this.files[x]||o.call(this,x,null,{dir:!0,createFolders:S}),this.files[x]};function b(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var S,_,k;for(S in this.files)k=this.files[S],(_=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&x(_,k)},filter:function(x){var S=[];return this.forEach(function(_,k){x(_,k)&&S.push(k)}),S},file:function(x,S,_){if(arguments.length!==1)return x=this.root+x,o.call(this,x,S,_),this;if(b(x)){var k=x;return this.filter(function(E,M){return!M.dir&&k.test(E)})}var C=this.files[this.root+x];return C&&!C.dir?C:null},folder:function(x){if(!x)return this;if(b(x))return this.filter(function(C,E){return E.dir&&x.test(C)});var S=this.root+x,_=y.call(this,S),k=this.clone();return k.root=_.name,k},remove:function(x){x=this.root+x;var S=this.files[x];if(S||(x.slice(-1)!=="/"&&(x+="/"),S=this.files[x]),S&&!S.dir)delete this.files[x];else for(var _=this.filter(function(C,E){return E.name.slice(0,x.length)===x}),k=0;k<_.length;k++)delete this.files[_[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var S,_={};try{if((_=s.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");s.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var k=_.comment||this.comment||"";S=h.generateWorker(this,_,k)}catch(C){(S=new l("error")).error(C)}return new u(S,_.type||"string",_.mimeType)},generateAsync:function(x,S){return this.generateInternalStream(x).accumulate(S)},generateNodeStream:function(x,S){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(S)}};r.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function a(s){o.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}n("../utils").inherits(a,o),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),u=s.charCodeAt(1),c=s.charCodeAt(2),f=s.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===l&&this.data[d+1]===u&&this.data[d+2]===c&&this.data[d+3]===f)return d-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),u=s.charCodeAt(1),c=s.charCodeAt(2),f=s.charCodeAt(3),d=this.readData(4);return l===d[0]&&u===d[1]&&c===d[2]&&f===d[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,u=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=s,u},readString:function(s){return o.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function a(s){o.call(this,s)}n("../utils").inherits(a,o),a.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function a(s){o.call(this,s)}n("../utils").inherits(a,o),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function a(s){o.call(this,s)}n("../utils").inherits(a,o),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),a=n("../support"),s=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(f){var d=o.getTypeOf(f);return o.checkSupport(d),d!=="string"||a.uint8array?d==="nodebuffer"?new u(f):a.uint8array?new c(o.transformTo("uint8array",f)):new s(o.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),a=n("../utils");function s(l){o.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(s,o),s.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),a=n("../crc32");function s(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(s,o),s.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),a=n("./GenericWorker");function s(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(s,a),s.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),a=n("./GenericWorker");function s(l){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=o.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}o.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(l){s.processChunk(l)}),a.on("end",function(){s.end()}),a.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),a=n("./ConvertWorker"),s=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(p,m){return new c.Promise(function(g,v){var y=[],b=p._internalType,w=p._outputType,x=p._mimeType;p.on("data",function(S,_){y.push(S),m&&m(_)}).on("error",function(S){y=[],v(S)}).on("end",function(){try{var S=function(_,k,C){switch(_){case"blob":return o.newBlob(o.transformTo("arraybuffer",k),C);case"base64":return l.encode(k);default:return o.transformTo(_,k)}}(w,function(_,k){var C,E=0,M=null,A=0;for(C=0;C<k.length;C++)A+=k[C].length;switch(_){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(M=new Uint8Array(A),C=0;C<k.length;C++)M.set(k[C],E),E+=k[C].length;return M;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+_+"'")}}(b,y),x);g(S)}catch(_){v(_)}y=[]}).resume()})}function h(p,m,g){var v=m;switch(m){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=m,this._mimeType=g,o.checkSupport(v),this._worker=p.pipe(new a(v)),p.lock()}catch(y){this._worker=new s("error"),this._worker.error(y)}}h.prototype={accumulate:function(p){return d(this,p)},on:function(p,m){var g=this;return p==="data"?this._worker.on(p,function(v){m.call(g,v.data,v.meta)}):this._worker.on(p,function(){o.delay(m,arguments,g)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(o),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),a=n("./support"),s=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function d(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return a.nodebuffer?s.newBufferFrom(h,"utf-8"):function(p){var m,g,v,y,b,w=p.length,x=0;for(y=0;y<w;y++)(64512&(g=p.charCodeAt(y)))==55296&&y+1<w&&(64512&(v=p.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),y++),x+=g<128?1:g<2048?2:g<65536?3:4;for(m=a.uint8array?new Uint8Array(x):new Array(x),y=b=0;b<x;y++)(64512&(g=p.charCodeAt(y)))==55296&&y+1<w&&(64512&(v=p.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),y++),g<128?m[b++]=g:(g<2048?m[b++]=192|g>>>6:(g<65536?m[b++]=224|g>>>12:(m[b++]=240|g>>>18,m[b++]=128|g>>>12&63),m[b++]=128|g>>>6&63),m[b++]=128|63&g);return m}(h)},i.utf8decode=function(h){return a.nodebuffer?o.transformTo("nodebuffer",h).toString("utf-8"):function(p){var m,g,v,y,b=p.length,w=new Array(2*b);for(m=g=0;m<b;)if((v=p[m++])<128)w[g++]=v;else if(4<(y=u[v]))w[g++]=65533,m+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&m<b;)v=v<<6|63&p[m++],y--;1<y?w[g++]=65533:v<65536?w[g++]=v:(v-=65536,w[g++]=55296|v>>10&1023,w[g++]=56320|1023&v)}return w.length!==g&&(w.subarray?w=w.subarray(0,g):w.length=g),o.applyFromCharCode(w)}(h=o.transformTo(a.uint8array?"uint8array":"array",h))},o.inherits(f,l),f.prototype.processChunk=function(h){var p=o.transformTo(a.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=p;(p=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),p.set(m,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var g=function(y,b){var w;for((b=b||y.length)>y.length&&(b=y.length),w=b-1;0<=w&&(192&y[w])==128;)w--;return w<0||w===0?b:w+u[y[w]]>b?w:b}(p),v=p;g!==p.length&&(a.uint8array?(v=p.subarray(0,g),this.leftOver=p.subarray(g,p.length)):(v=p.slice(0,g),this.leftOver=p.slice(g,p.length))),this.push({data:i.utf8decode(v),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,o.inherits(d,l),d.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),a=n("./base64"),s=n("./nodejsUtils"),l=n("./external");function u(m){return m}function c(m,g){for(var v=0;v<m.length;++v)g[v]=255&m.charCodeAt(v);return g}n("setimmediate"),i.newBlob=function(m,g){i.checkSupport("blob");try{return new Blob([m],{type:g})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(m),v.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,g,v){var y=[],b=0,w=m.length;if(w<=v)return String.fromCharCode.apply(null,m);for(;b<w;)g==="array"||g==="nodebuffer"?y.push(String.fromCharCode.apply(null,m.slice(b,Math.min(b+v,w)))):y.push(String.fromCharCode.apply(null,m.subarray(b,Math.min(b+v,w)))),b+=v;return y.join("")},stringifyByChar:function(m){for(var g="",v=0;v<m.length;v++)g+=String.fromCharCode(m[v]);return g},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function d(m){var g=65536,v=i.getTypeOf(m),y=!0;if(v==="uint8array"?y=f.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=f.applyCanBeUsed.nodebuffer),y)for(;1<g;)try{return f.stringifyByChunk(m,v,g)}catch{g=Math.floor(g/2)}return f.stringifyByChar(m)}function h(m,g){for(var v=0;v<m.length;v++)g[v]=m[v];return g}i.applyFromCharCode=d;var p={};p.string={string:u,array:function(m){return c(m,new Array(m.length))},arraybuffer:function(m){return p.string.uint8array(m).buffer},uint8array:function(m){return c(m,new Uint8Array(m.length))},nodebuffer:function(m){return c(m,s.allocBuffer(m.length))}},p.array={string:d,array:u,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(m)}},p.arraybuffer={string:function(m){return d(new Uint8Array(m))},array:function(m){return h(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:u,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(new Uint8Array(m))}},p.uint8array={string:d,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:u,nodebuffer:function(m){return s.newBufferFrom(m)}},p.nodebuffer={string:d,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return p.nodebuffer.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:u},i.transformTo=function(m,g){if(g=g||"",!m)return g;i.checkSupport(m);var v=i.getTypeOf(g);return p[v][m](g)},i.resolve=function(m){for(var g=m.split("/"),v=[],y=0;y<g.length;y++){var b=g[y];b==="."||b===""&&y!==0&&y!==g.length-1||(b===".."?v.pop():v.push(b))}return v.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":o.nodebuffer&&s.isBuffer(m)?"nodebuffer":o.uint8array&&m instanceof Uint8Array?"uint8array":o.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!o[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var g,v,y="";for(v=0;v<(m||"").length;v++)y+="\\x"+((g=m.charCodeAt(v))<16?"0":"")+g.toString(16).toUpperCase();return y},i.delay=function(m,g,v){setImmediate(function(){m.apply(v||null,g||[])})},i.inherits=function(m,g){function v(){}v.prototype=g.prototype,m.prototype=new v},i.extend=function(){var m,g,v={};for(m=0;m<arguments.length;m++)for(g in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],g)&&v[g]===void 0&&(v[g]=arguments[m][g]);return v},i.prepareContent=function(m,g,v,y,b){return l.Promise.resolve(g).then(function(w){return o.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new l.Promise(function(x,S){var _=new FileReader;_.onload=function(k){x(k.target.result)},_.onerror=function(k){S(k.target.error)},_.readAsArrayBuffer(w)}):w}).then(function(w){var x=i.getTypeOf(w);return x?(x==="arraybuffer"?w=i.transformTo("uint8array",w):x==="string"&&(b?w=a.decode(w):v&&y!==!0&&(w=function(S){return c(S,o.uint8array?new Uint8Array(S.length):new Array(S.length))}(w))),w):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),a=n("./utils"),s=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(d)+", expected "+a.pretty(f)+")")}},isSignature:function(f,d){var h=this.reader.index;this.reader.setIndex(f);var p=this.reader.readString(4)===d;return this.reader.setIndex(h),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),d=u.uint8array?"uint8array":"array",h=a.transformTo(d,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,d,h,p=this.zip64EndOfCentralSize-44;0<p;)f=this.reader.readInt(2),d=this.reader.readInt(4),h=this.reader.readData(d),this.zip64ExtensibleData[f]={id:f,length:d,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,d;for(f=0;f<this.files.length;f++)d=this.files[f],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var d=f;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var p=d-h;if(0<p)this.isSignature(d,s.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(f){this.reader=o(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),a=n("./utils"),s=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),f=n("./support");function d(h,p){this.options=h,this.loadOptions=p}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var p,m;if(h.skip(22),this.fileNameLength=h.readInt(2),m=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(g){for(var v in c)if(Object.prototype.hasOwnProperty.call(c,v)&&c[v].magic===g)return c[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,p,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var p=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(p),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=o(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var p,m,g,v=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<v;)p=h.readInt(2),m=h.readInt(2),g=h.readData(m),this.extraFields[p]={id:p,length:m,value:g};h.setIndex(v)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var m=a.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var v=a.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var p=o(h.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var p=o(h.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(h.length-5))}return null}},r.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(p,m,g){this.name=p,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=m,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var a=n("./stream/StreamHelper"),s=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");o.prototype={internalStream:function(p){var m=null,g="string";try{if(!p)throw new Error("No output type specified.");var v=(g=p.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),m=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(m=m.pipe(new l.Utf8EncodeWorker)),!y&&v&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(b){(m=new c("error")).error(b)}return new a(m,g,"")},async:function(p,m){return this.internalStream(p).accumulate(m)},nodeStream:function(p,m){return this.internalStream(p||"nodebuffer").toNodejsStream(m)},_compressWorker:function(p,m){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(g,p,m)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new s(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)o.prototype[f[h]]=d;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var a,s,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var u=0,c=new l(p),f=o.document.createTextNode("");c.observe(f,{characterData:!0}),a=function(){f.data=u=++u%2}}else if(o.setImmediate||o.MessageChannel===void 0)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var m=o.document.createElement("script");m.onreadystatechange=function(){p(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},o.document.documentElement.appendChild(m)}:function(){setTimeout(p,0)};else{var d=new o.MessageChannel;d.port1.onmessage=p,a=function(){d.port2.postMessage(0)}}var h=[];function p(){var m,g;s=!0;for(var v=h.length;v;){for(g=h,h=[],m=-1;++m<v;)g[m]();v=h.length}s=!1}r.exports=function(m){h.push(m)!==1||s||a()}}).call(this,typeof Go<"u"?Go:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function a(){}var s={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,v!==a&&m(this,v)}function d(v,y,b){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function h(v,y,b){o(function(){var w;try{w=y(b)}catch(x){return s.reject(v,x)}w===v?s.reject(v,new TypeError("Cannot resolve promise with itself")):s.resolve(v,w)})}function p(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function m(v,y){var b=!1;function w(_){b||(b=!0,s.reject(v,_))}function x(_){b||(b=!0,s.resolve(v,_))}var S=g(function(){y(x,w)});S.status==="error"&&w(S.value)}function g(v,y){var b={};try{b.value=v(y),b.status="success"}catch(w){b.status="error",b.value=w}return b}(r.exports=f).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(b){return y.resolve(v()).then(function(){return b})},function(b){return y.resolve(v()).then(function(){throw b})})},f.prototype.catch=function(v){return this.then(null,v)},f.prototype.then=function(v,y){if(typeof v!="function"&&this.state===u||typeof y!="function"&&this.state===l)return this;var b=new this.constructor(a);return this.state!==c?h(b,this.state===u?v:y,this.outcome):this.queue.push(new d(b,v,y)),b},d.prototype.callFulfilled=function(v){s.resolve(this.promise,v)},d.prototype.otherCallFulfilled=function(v){h(this.promise,this.onFulfilled,v)},d.prototype.callRejected=function(v){s.reject(this.promise,v)},d.prototype.otherCallRejected=function(v){h(this.promise,this.onRejected,v)},s.resolve=function(v,y){var b=g(p,y);if(b.status==="error")return s.reject(v,b.value);var w=b.value;if(w)m(v,w);else{v.state=u,v.outcome=y;for(var x=-1,S=v.queue.length;++x<S;)v.queue[x].callFulfilled(y)}return v},s.reject=function(v,y){v.state=l,v.outcome=y;for(var b=-1,w=v.queue.length;++b<w;)v.queue[b].callRejected(y);return v},f.resolve=function(v){return v instanceof this?v:s.resolve(new this(a),v)},f.reject=function(v){var y=new this(a);return s.reject(y,v)},f.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=v.length,w=!1;if(!b)return this.resolve([]);for(var x=new Array(b),S=0,_=-1,k=new this(a);++_<b;)C(v[_],_);return k;function C(E,M){y.resolve(E).then(function(A){x[M]=A,++S!==b||w||(w=!0,s.resolve(k,x))},function(A){w||(w=!0,s.reject(k,A))})}},f.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=v.length,w=!1;if(!b)return this.resolve([]);for(var x=-1,S=new this(a);++x<b;)_=v[x],y.resolve(_).then(function(k){w||(w=!0,s.resolve(S,k))},function(k){w||(w=!0,s.reject(S,k))});var _;return S}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),a=n("./utils/common"),s=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,f=0,d=-1,h=0,p=8;function m(v){if(!(this instanceof m))return new m(v);this.options=a.assign({level:d,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=o.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(b!==f)throw new Error(l[b]);if(y.header&&o.deflateSetHeader(this.strm,y.header),y.dictionary){var w;if(w=typeof y.dictionary=="string"?s.string2buf(y.dictionary):c.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(b=o.deflateSetDictionary(this.strm,w))!==f)throw new Error(l[b]);this._dict_set=!0}}function g(v,y){var b=new m(y);if(b.push(v,!0),b.err)throw b.msg||l[b.err];return b.result}m.prototype.push=function(v,y){var b,w,x=this.strm,S=this.options.chunkSize;if(this.ended)return!1;w=y===~~y?y:y===!0?4:0,typeof v=="string"?x.input=s.string2buf(v):c.call(v)==="[object ArrayBuffer]"?x.input=new Uint8Array(v):x.input=v,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new a.Buf8(S),x.next_out=0,x.avail_out=S),(b=o.deflate(x,w))!==1&&b!==f)return this.onEnd(b),!(this.ended=!0);x.avail_out!==0&&(x.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(x.output,x.next_out))):this.onData(a.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||x.avail_out===0)&&b!==1);return w===4?(b=o.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===f):w!==2||(this.onEnd(f),!(x.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=m,i.deflate=g,i.deflateRaw=function(v,y){return(y=y||{}).raw=!0,g(v,y)},i.gzip=function(v,y){return(y=y||{}).gzip=!0,g(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),a=n("./utils/common"),s=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),f=n("./zlib/gzheader"),d=Object.prototype.toString;function h(m){if(!(this instanceof h))return new h(m);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},m||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||m&&m.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var v=o.inflateInit2(this.strm,g.windowBits);if(v!==l.Z_OK)throw new Error(u[v]);this.header=new f,o.inflateGetHeader(this.strm,this.header)}function p(m,g){var v=new h(g);if(v.push(m,!0),v.err)throw v.msg||u[v.err];return v.result}h.prototype.push=function(m,g){var v,y,b,w,x,S,_=this.strm,k=this.options.chunkSize,C=this.options.dictionary,E=!1;if(this.ended)return!1;y=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?_.input=s.binstring2buf(m):d.call(m)==="[object ArrayBuffer]"?_.input=new Uint8Array(m):_.input=m,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new a.Buf8(k),_.next_out=0,_.avail_out=k),(v=o.inflate(_,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&C&&(S=typeof C=="string"?s.string2buf(C):d.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,v=o.inflateSetDictionary(this.strm,S)),v===l.Z_BUF_ERROR&&E===!0&&(v=l.Z_OK,E=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&v!==l.Z_STREAM_END&&(_.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=s.utf8border(_.output,_.next_out),w=_.next_out-b,x=s.buf2string(_.output,b),_.next_out=w,_.avail_out=k-w,w&&a.arraySet(_.output,_.output,b,w,0),this.onData(x)):this.onData(a.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(E=!0)}while((0<_.avail_in||_.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(v=o.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(_.avail_out=0))},h.prototype.onData=function(m){this.chunks.push(m)},h.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=h,i.inflate=p,i.inflateRaw=function(m,g){return(g=g||{}).raw=!0,p(m,g)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(l[f]=c[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var a={arraySet:function(l,u,c,f,d){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+f),d);else for(var h=0;h<f;h++)l[d+h]=u[c+h]},flattenChunks:function(l){var u,c,f,d,h,p;for(u=f=0,c=l.length;u<c;u++)f+=l[u].length;for(p=new Uint8Array(f),u=d=0,c=l.length;u<c;u++)h=l[u],p.set(h,d),d+=h.length;return p}},s={arraySet:function(l,u,c,f,d){for(var h=0;h<f;h++)l[d+h]=u[c+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new o.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,d){if(d<65537&&(f.subarray&&s||!f.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(f,d));for(var h="",p=0;p<d;p++)h+=String.fromCharCode(f[p]);return h}l[254]=l[254]=1,i.string2buf=function(f){var d,h,p,m,g,v=f.length,y=0;for(m=0;m<v;m++)(64512&(h=f.charCodeAt(m)))==55296&&m+1<v&&(64512&(p=f.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),m++),y+=h<128?1:h<2048?2:h<65536?3:4;for(d=new o.Buf8(y),m=g=0;g<y;m++)(64512&(h=f.charCodeAt(m)))==55296&&m+1<v&&(64512&(p=f.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),m++),h<128?d[g++]=h:(h<2048?d[g++]=192|h>>>6:(h<65536?d[g++]=224|h>>>12:(d[g++]=240|h>>>18,d[g++]=128|h>>>12&63),d[g++]=128|h>>>6&63),d[g++]=128|63&h);return d},i.buf2binstring=function(f){return c(f,f.length)},i.binstring2buf=function(f){for(var d=new o.Buf8(f.length),h=0,p=d.length;h<p;h++)d[h]=f.charCodeAt(h);return d},i.buf2string=function(f,d){var h,p,m,g,v=d||f.length,y=new Array(2*v);for(h=p=0;h<v;)if((m=f[h++])<128)y[p++]=m;else if(4<(g=l[m]))y[p++]=65533,h+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&h<v;)m=m<<6|63&f[h++],g--;1<g?y[p++]=65533:m<65536?y[p++]=m:(m-=65536,y[p++]=55296|m>>10&1023,y[p++]=56320|1023&m)}return c(y,p)},i.utf8border=function(f,d){var h;for((d=d||f.length)>f.length&&(d=f.length),h=d-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?d:h+l[f[h]]>d?h:d}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,a,s,l){for(var u=65535&o|0,c=o>>>16&65535|0,f=0;s!==0;){for(s-=f=2e3<s?2e3:s;c=c+(u=u+a[l++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=function(){for(var a,s=[],l=0;l<256;l++){a=l;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;s[l]=a}return s}();r.exports=function(a,s,l,u){var c=o,f=u+l;a^=-1;for(var d=u;d<f;d++)a=a>>>8^c[255&(a^s[d])];return-1^a}},{}],46:[function(n,r,i){var o,a=n("../utils/common"),s=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),f=0,d=4,h=0,p=-2,m=-1,g=4,v=2,y=8,b=9,w=286,x=30,S=19,_=2*w+1,k=15,C=3,E=258,M=E+C+1,A=42,N=113,T=1,I=2,O=3,q=4;function L(D,oe){return D.msg=c[oe],oe}function Y(D){return(D<<1)-(4<D?9:0)}function R(D){for(var oe=D.length;0<=--oe;)D[oe]=0}function B(D){var oe=D.state,W=oe.pending;W>D.avail_out&&(W=D.avail_out),W!==0&&(a.arraySet(D.output,oe.pending_buf,oe.pending_out,W,D.next_out),D.next_out+=W,oe.pending_out+=W,D.total_out+=W,D.avail_out-=W,oe.pending-=W,oe.pending===0&&(oe.pending_out=0))}function z(D,oe){s._tr_flush_block(D,0<=D.block_start?D.block_start:-1,D.strstart-D.block_start,oe),D.block_start=D.strstart,B(D.strm)}function P(D,oe){D.pending_buf[D.pending++]=oe}function $(D,oe){D.pending_buf[D.pending++]=oe>>>8&255,D.pending_buf[D.pending++]=255&oe}function X(D,oe){var W,V,F=D.max_chain_length,j=D.strstart,se=D.prev_length,pe=D.nice_match,ae=D.strstart>D.w_size-M?D.strstart-(D.w_size-M):0,H=D.window,Q=D.w_mask,ie=D.prev,ce=D.strstart+E,ve=H[j+se-1],Te=H[j+se];D.prev_length>=D.good_match&&(F>>=2),pe>D.lookahead&&(pe=D.lookahead);do if(H[(W=oe)+se]===Te&&H[W+se-1]===ve&&H[W]===H[j]&&H[++W]===H[j+1]){j+=2,W++;do;while(H[++j]===H[++W]&&H[++j]===H[++W]&&H[++j]===H[++W]&&H[++j]===H[++W]&&H[++j]===H[++W]&&H[++j]===H[++W]&&H[++j]===H[++W]&&H[++j]===H[++W]&&j<ce);if(V=E-(ce-j),j=ce-E,se<V){if(D.match_start=oe,pe<=(se=V))break;ve=H[j+se-1],Te=H[j+se]}}while((oe=ie[oe&Q])>ae&&--F!=0);return se<=D.lookahead?se:D.lookahead}function K(D){var oe,W,V,F,j,se,pe,ae,H,Q,ie=D.w_size;do{if(F=D.window_size-D.lookahead-D.strstart,D.strstart>=ie+(ie-M)){for(a.arraySet(D.window,D.window,ie,ie,0),D.match_start-=ie,D.strstart-=ie,D.block_start-=ie,oe=W=D.hash_size;V=D.head[--oe],D.head[oe]=ie<=V?V-ie:0,--W;);for(oe=W=ie;V=D.prev[--oe],D.prev[oe]=ie<=V?V-ie:0,--W;);F+=ie}if(D.strm.avail_in===0)break;if(se=D.strm,pe=D.window,ae=D.strstart+D.lookahead,H=F,Q=void 0,Q=se.avail_in,H<Q&&(Q=H),W=Q===0?0:(se.avail_in-=Q,a.arraySet(pe,se.input,se.next_in,Q,ae),se.state.wrap===1?se.adler=l(se.adler,pe,Q,ae):se.state.wrap===2&&(se.adler=u(se.adler,pe,Q,ae)),se.next_in+=Q,se.total_in+=Q,Q),D.lookahead+=W,D.lookahead+D.insert>=C)for(j=D.strstart-D.insert,D.ins_h=D.window[j],D.ins_h=(D.ins_h<<D.hash_shift^D.window[j+1])&D.hash_mask;D.insert&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[j+C-1])&D.hash_mask,D.prev[j&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=j,j++,D.insert--,!(D.lookahead+D.insert<C)););}while(D.lookahead<M&&D.strm.avail_in!==0)}function Z(D,oe){for(var W,V;;){if(D.lookahead<M){if(K(D),D.lookahead<M&&oe===f)return T;if(D.lookahead===0)break}if(W=0,D.lookahead>=C&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+C-1])&D.hash_mask,W=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),W!==0&&D.strstart-W<=D.w_size-M&&(D.match_length=X(D,W)),D.match_length>=C)if(V=s._tr_tally(D,D.strstart-D.match_start,D.match_length-C),D.lookahead-=D.match_length,D.match_length<=D.max_lazy_match&&D.lookahead>=C){for(D.match_length--;D.strstart++,D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+C-1])&D.hash_mask,W=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart,--D.match_length!=0;);D.strstart++}else D.strstart+=D.match_length,D.match_length=0,D.ins_h=D.window[D.strstart],D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+1])&D.hash_mask;else V=s._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++;if(V&&(z(D,!1),D.strm.avail_out===0))return T}return D.insert=D.strstart<C-1?D.strstart:C-1,oe===d?(z(D,!0),D.strm.avail_out===0?O:q):D.last_lit&&(z(D,!1),D.strm.avail_out===0)?T:I}function te(D,oe){for(var W,V,F;;){if(D.lookahead<M){if(K(D),D.lookahead<M&&oe===f)return T;if(D.lookahead===0)break}if(W=0,D.lookahead>=C&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+C-1])&D.hash_mask,W=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),D.prev_length=D.match_length,D.prev_match=D.match_start,D.match_length=C-1,W!==0&&D.prev_length<D.max_lazy_match&&D.strstart-W<=D.w_size-M&&(D.match_length=X(D,W),D.match_length<=5&&(D.strategy===1||D.match_length===C&&4096<D.strstart-D.match_start)&&(D.match_length=C-1)),D.prev_length>=C&&D.match_length<=D.prev_length){for(F=D.strstart+D.lookahead-C,V=s._tr_tally(D,D.strstart-1-D.prev_match,D.prev_length-C),D.lookahead-=D.prev_length-1,D.prev_length-=2;++D.strstart<=F&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+C-1])&D.hash_mask,W=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),--D.prev_length!=0;);if(D.match_available=0,D.match_length=C-1,D.strstart++,V&&(z(D,!1),D.strm.avail_out===0))return T}else if(D.match_available){if((V=s._tr_tally(D,0,D.window[D.strstart-1]))&&z(D,!1),D.strstart++,D.lookahead--,D.strm.avail_out===0)return T}else D.match_available=1,D.strstart++,D.lookahead--}return D.match_available&&(V=s._tr_tally(D,0,D.window[D.strstart-1]),D.match_available=0),D.insert=D.strstart<C-1?D.strstart:C-1,oe===d?(z(D,!0),D.strm.avail_out===0?O:q):D.last_lit&&(z(D,!1),D.strm.avail_out===0)?T:I}function J(D,oe,W,V,F){this.good_length=D,this.max_lazy=oe,this.nice_length=W,this.max_chain=V,this.func=F}function fe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*_),this.dyn_dtree=new a.Buf16(2*(2*x+1)),this.bl_tree=new a.Buf16(2*(2*S+1)),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(k+1),this.heap=new a.Buf16(2*w+1),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*w+1),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ue(D){var oe;return D&&D.state?(D.total_in=D.total_out=0,D.data_type=v,(oe=D.state).pending=0,oe.pending_out=0,oe.wrap<0&&(oe.wrap=-oe.wrap),oe.status=oe.wrap?A:N,D.adler=oe.wrap===2?0:1,oe.last_flush=f,s._tr_init(oe),h):L(D,p)}function de(D){var oe=ue(D);return oe===h&&function(W){W.window_size=2*W.w_size,R(W.head),W.max_lazy_match=o[W.level].max_lazy,W.good_match=o[W.level].good_length,W.nice_match=o[W.level].nice_length,W.max_chain_length=o[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=C-1,W.match_available=0,W.ins_h=0}(D.state),oe}function ee(D,oe,W,V,F,j){if(!D)return p;var se=1;if(oe===m&&(oe=6),V<0?(se=0,V=-V):15<V&&(se=2,V-=16),F<1||b<F||W!==y||V<8||15<V||oe<0||9<oe||j<0||g<j)return L(D,p);V===8&&(V=9);var pe=new fe;return(D.state=pe).strm=D,pe.wrap=se,pe.gzhead=null,pe.w_bits=V,pe.w_size=1<<pe.w_bits,pe.w_mask=pe.w_size-1,pe.hash_bits=F+7,pe.hash_size=1<<pe.hash_bits,pe.hash_mask=pe.hash_size-1,pe.hash_shift=~~((pe.hash_bits+C-1)/C),pe.window=new a.Buf8(2*pe.w_size),pe.head=new a.Buf16(pe.hash_size),pe.prev=new a.Buf16(pe.w_size),pe.lit_bufsize=1<<F+6,pe.pending_buf_size=4*pe.lit_bufsize,pe.pending_buf=new a.Buf8(pe.pending_buf_size),pe.d_buf=1*pe.lit_bufsize,pe.l_buf=3*pe.lit_bufsize,pe.level=oe,pe.strategy=j,pe.method=W,de(D)}o=[new J(0,0,0,0,function(D,oe){var W=65535;for(W>D.pending_buf_size-5&&(W=D.pending_buf_size-5);;){if(D.lookahead<=1){if(K(D),D.lookahead===0&&oe===f)return T;if(D.lookahead===0)break}D.strstart+=D.lookahead,D.lookahead=0;var V=D.block_start+W;if((D.strstart===0||D.strstart>=V)&&(D.lookahead=D.strstart-V,D.strstart=V,z(D,!1),D.strm.avail_out===0)||D.strstart-D.block_start>=D.w_size-M&&(z(D,!1),D.strm.avail_out===0))return T}return D.insert=0,oe===d?(z(D,!0),D.strm.avail_out===0?O:q):(D.strstart>D.block_start&&(z(D,!1),D.strm.avail_out),T)}),new J(4,4,8,4,Z),new J(4,5,16,8,Z),new J(4,6,32,32,Z),new J(4,4,16,16,te),new J(8,16,32,32,te),new J(8,16,128,128,te),new J(8,32,128,256,te),new J(32,128,258,1024,te),new J(32,258,258,4096,te)],i.deflateInit=function(D,oe){return ee(D,oe,y,15,8,0)},i.deflateInit2=ee,i.deflateReset=de,i.deflateResetKeep=ue,i.deflateSetHeader=function(D,oe){return D&&D.state?D.state.wrap!==2?p:(D.state.gzhead=oe,h):p},i.deflate=function(D,oe){var W,V,F,j;if(!D||!D.state||5<oe||oe<0)return D?L(D,p):p;if(V=D.state,!D.output||!D.input&&D.avail_in!==0||V.status===666&&oe!==d)return L(D,D.avail_out===0?-5:p);if(V.strm=D,W=V.last_flush,V.last_flush=oe,V.status===A)if(V.wrap===2)D.adler=0,P(V,31),P(V,139),P(V,8),V.gzhead?(P(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),P(V,255&V.gzhead.time),P(V,V.gzhead.time>>8&255),P(V,V.gzhead.time>>16&255),P(V,V.gzhead.time>>24&255),P(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),P(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(P(V,255&V.gzhead.extra.length),P(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(D.adler=u(D.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(P(V,0),P(V,0),P(V,0),P(V,0),P(V,0),P(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),P(V,3),V.status=N);else{var se=y+(V.w_bits-8<<4)<<8;se|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(se|=32),se+=31-se%31,V.status=N,$(V,se),V.strstart!==0&&($(V,D.adler>>>16),$(V,65535&D.adler)),D.adler=1}if(V.status===69)if(V.gzhead.extra){for(F=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>F&&(D.adler=u(D.adler,V.pending_buf,V.pending-F,F)),B(D),F=V.pending,V.pending!==V.pending_buf_size));)P(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>F&&(D.adler=u(D.adler,V.pending_buf,V.pending-F,F)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){F=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>F&&(D.adler=u(D.adler,V.pending_buf,V.pending-F,F)),B(D),F=V.pending,V.pending===V.pending_buf_size)){j=1;break}j=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,P(V,j)}while(j!==0);V.gzhead.hcrc&&V.pending>F&&(D.adler=u(D.adler,V.pending_buf,V.pending-F,F)),j===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){F=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>F&&(D.adler=u(D.adler,V.pending_buf,V.pending-F,F)),B(D),F=V.pending,V.pending===V.pending_buf_size)){j=1;break}j=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,P(V,j)}while(j!==0);V.gzhead.hcrc&&V.pending>F&&(D.adler=u(D.adler,V.pending_buf,V.pending-F,F)),j===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&B(D),V.pending+2<=V.pending_buf_size&&(P(V,255&D.adler),P(V,D.adler>>8&255),D.adler=0,V.status=N)):V.status=N),V.pending!==0){if(B(D),D.avail_out===0)return V.last_flush=-1,h}else if(D.avail_in===0&&Y(oe)<=Y(W)&&oe!==d)return L(D,-5);if(V.status===666&&D.avail_in!==0)return L(D,-5);if(D.avail_in!==0||V.lookahead!==0||oe!==f&&V.status!==666){var pe=V.strategy===2?function(ae,H){for(var Q;;){if(ae.lookahead===0&&(K(ae),ae.lookahead===0)){if(H===f)return T;break}if(ae.match_length=0,Q=s._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,Q&&(z(ae,!1),ae.strm.avail_out===0))return T}return ae.insert=0,H===d?(z(ae,!0),ae.strm.avail_out===0?O:q):ae.last_lit&&(z(ae,!1),ae.strm.avail_out===0)?T:I}(V,oe):V.strategy===3?function(ae,H){for(var Q,ie,ce,ve,Te=ae.window;;){if(ae.lookahead<=E){if(K(ae),ae.lookahead<=E&&H===f)return T;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=C&&0<ae.strstart&&(ie=Te[ce=ae.strstart-1])===Te[++ce]&&ie===Te[++ce]&&ie===Te[++ce]){ve=ae.strstart+E;do;while(ie===Te[++ce]&&ie===Te[++ce]&&ie===Te[++ce]&&ie===Te[++ce]&&ie===Te[++ce]&&ie===Te[++ce]&&ie===Te[++ce]&&ie===Te[++ce]&&ce<ve);ae.match_length=E-(ve-ce),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=C?(Q=s._tr_tally(ae,1,ae.match_length-C),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(Q=s._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),Q&&(z(ae,!1),ae.strm.avail_out===0))return T}return ae.insert=0,H===d?(z(ae,!0),ae.strm.avail_out===0?O:q):ae.last_lit&&(z(ae,!1),ae.strm.avail_out===0)?T:I}(V,oe):o[V.level].func(V,oe);if(pe!==O&&pe!==q||(V.status=666),pe===T||pe===O)return D.avail_out===0&&(V.last_flush=-1),h;if(pe===I&&(oe===1?s._tr_align(V):oe!==5&&(s._tr_stored_block(V,0,0,!1),oe===3&&(R(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),B(D),D.avail_out===0))return V.last_flush=-1,h}return oe!==d?h:V.wrap<=0?1:(V.wrap===2?(P(V,255&D.adler),P(V,D.adler>>8&255),P(V,D.adler>>16&255),P(V,D.adler>>24&255),P(V,255&D.total_in),P(V,D.total_in>>8&255),P(V,D.total_in>>16&255),P(V,D.total_in>>24&255)):($(V,D.adler>>>16),$(V,65535&D.adler)),B(D),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?h:1)},i.deflateEnd=function(D){var oe;return D&&D.state?(oe=D.state.status)!==A&&oe!==69&&oe!==73&&oe!==91&&oe!==103&&oe!==N&&oe!==666?L(D,p):(D.state=null,oe===N?L(D,-3):h):p},i.deflateSetDictionary=function(D,oe){var W,V,F,j,se,pe,ae,H,Q=oe.length;if(!D||!D.state||(j=(W=D.state).wrap)===2||j===1&&W.status!==A||W.lookahead)return p;for(j===1&&(D.adler=l(D.adler,oe,Q,0)),W.wrap=0,Q>=W.w_size&&(j===0&&(R(W.head),W.strstart=0,W.block_start=0,W.insert=0),H=new a.Buf8(W.w_size),a.arraySet(H,oe,Q-W.w_size,W.w_size,0),oe=H,Q=W.w_size),se=D.avail_in,pe=D.next_in,ae=D.input,D.avail_in=Q,D.next_in=0,D.input=oe,K(W);W.lookahead>=C;){for(V=W.strstart,F=W.lookahead-(C-1);W.ins_h=(W.ins_h<<W.hash_shift^W.window[V+C-1])&W.hash_mask,W.prev[V&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=V,V++,--F;);W.strstart=V,W.lookahead=C-1,K(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=C-1,W.match_available=0,D.next_in=pe,D.input=ae,D.avail_in=se,W.wrap=j,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,a){var s,l,u,c,f,d,h,p,m,g,v,y,b,w,x,S,_,k,C,E,M,A,N,T,I;s=o.state,l=o.next_in,T=o.input,u=l+(o.avail_in-5),c=o.next_out,I=o.output,f=c-(a-o.avail_out),d=c+(o.avail_out-257),h=s.dmax,p=s.wsize,m=s.whave,g=s.wnext,v=s.window,y=s.hold,b=s.bits,w=s.lencode,x=s.distcode,S=(1<<s.lenbits)-1,_=(1<<s.distbits)-1;e:do{b<15&&(y+=T[l++]<<b,b+=8,y+=T[l++]<<b,b+=8),k=w[y&S];t:for(;;){if(y>>>=C=k>>>24,b-=C,(C=k>>>16&255)===0)I[c++]=65535&k;else{if(!(16&C)){if((64&C)==0){k=w[(65535&k)+(y&(1<<C)-1)];continue t}if(32&C){s.mode=12;break e}o.msg="invalid literal/length code",s.mode=30;break e}E=65535&k,(C&=15)&&(b<C&&(y+=T[l++]<<b,b+=8),E+=y&(1<<C)-1,y>>>=C,b-=C),b<15&&(y+=T[l++]<<b,b+=8,y+=T[l++]<<b,b+=8),k=x[y&_];n:for(;;){if(y>>>=C=k>>>24,b-=C,!(16&(C=k>>>16&255))){if((64&C)==0){k=x[(65535&k)+(y&(1<<C)-1)];continue n}o.msg="invalid distance code",s.mode=30;break e}if(M=65535&k,b<(C&=15)&&(y+=T[l++]<<b,(b+=8)<C&&(y+=T[l++]<<b,b+=8)),h<(M+=y&(1<<C)-1)){o.msg="invalid distance too far back",s.mode=30;break e}if(y>>>=C,b-=C,(C=c-f)<M){if(m<(C=M-C)&&s.sane){o.msg="invalid distance too far back",s.mode=30;break e}if(N=v,(A=0)===g){if(A+=p-C,C<E){for(E-=C;I[c++]=v[A++],--C;);A=c-M,N=I}}else if(g<C){if(A+=p+g-C,(C-=g)<E){for(E-=C;I[c++]=v[A++],--C;);if(A=0,g<E){for(E-=C=g;I[c++]=v[A++],--C;);A=c-M,N=I}}}else if(A+=g-C,C<E){for(E-=C;I[c++]=v[A++],--C;);A=c-M,N=I}for(;2<E;)I[c++]=N[A++],I[c++]=N[A++],I[c++]=N[A++],E-=3;E&&(I[c++]=N[A++],1<E&&(I[c++]=N[A++]))}else{for(A=c-M;I[c++]=I[A++],I[c++]=I[A++],I[c++]=I[A++],2<(E-=3););E&&(I[c++]=I[A++],1<E&&(I[c++]=I[A++]))}break}}break}}while(l<u&&c<d);l-=E=b>>3,y&=(1<<(b-=E<<3))-1,o.next_in=l,o.next_out=c,o.avail_in=l<u?u-l+5:5-(l-u),o.avail_out=c<d?d-c+257:257-(c-d),s.hold=y,s.bits=b}},{}],49:[function(n,r,i){var o=n("../utils/common"),a=n("./adler32"),s=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,f=2,d=0,h=-2,p=1,m=852,g=592;function v(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(A){var N;return A&&A.state?(N=A.state,A.total_in=A.total_out=N.total=0,A.msg="",N.wrap&&(A.adler=1&N.wrap),N.mode=p,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new o.Buf32(m),N.distcode=N.distdyn=new o.Buf32(g),N.sane=1,N.back=-1,d):h}function w(A){var N;return A&&A.state?((N=A.state).wsize=0,N.whave=0,N.wnext=0,b(A)):h}function x(A,N){var T,I;return A&&A.state?(I=A.state,N<0?(T=0,N=-N):(T=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?h:(I.window!==null&&I.wbits!==N&&(I.window=null),I.wrap=T,I.wbits=N,w(A))):h}function S(A,N){var T,I;return A?(I=new y,(A.state=I).window=null,(T=x(A,N))!==d&&(A.state=null),T):h}var _,k,C=!0;function E(A){if(C){var N;for(_=new o.Buf32(512),k=new o.Buf32(32),N=0;N<144;)A.lens[N++]=8;for(;N<256;)A.lens[N++]=9;for(;N<280;)A.lens[N++]=7;for(;N<288;)A.lens[N++]=8;for(u(c,A.lens,0,288,_,0,A.work,{bits:9}),N=0;N<32;)A.lens[N++]=5;u(f,A.lens,0,32,k,0,A.work,{bits:5}),C=!1}A.lencode=_,A.lenbits=9,A.distcode=k,A.distbits=5}function M(A,N,T,I){var O,q=A.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new o.Buf8(q.wsize)),I>=q.wsize?(o.arraySet(q.window,N,T-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(I<(O=q.wsize-q.wnext)&&(O=I),o.arraySet(q.window,N,T-I,O,q.wnext),(I-=O)?(o.arraySet(q.window,N,T-I,I,0),q.wnext=I,q.whave=q.wsize):(q.wnext+=O,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=O))),0}i.inflateReset=w,i.inflateReset2=x,i.inflateResetKeep=b,i.inflateInit=function(A){return S(A,15)},i.inflateInit2=S,i.inflate=function(A,N){var T,I,O,q,L,Y,R,B,z,P,$,X,K,Z,te,J,fe,ue,de,ee,D,oe,W,V,F=0,j=new o.Buf8(4),se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return h;(T=A.state).mode===12&&(T.mode=13),L=A.next_out,O=A.output,R=A.avail_out,q=A.next_in,I=A.input,Y=A.avail_in,B=T.hold,z=T.bits,P=Y,$=R,oe=d;e:for(;;)switch(T.mode){case p:if(T.wrap===0){T.mode=13;break}for(;z<16;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}if(2&T.wrap&&B===35615){j[T.check=0]=255&B,j[1]=B>>>8&255,T.check=s(T.check,j,2,0),z=B=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&B)<<8)+(B>>8))%31){A.msg="incorrect header check",T.mode=30;break}if((15&B)!=8){A.msg="unknown compression method",T.mode=30;break}if(z-=4,D=8+(15&(B>>>=4)),T.wbits===0)T.wbits=D;else if(D>T.wbits){A.msg="invalid window size",T.mode=30;break}T.dmax=1<<D,A.adler=T.check=1,T.mode=512&B?10:12,z=B=0;break;case 2:for(;z<16;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}if(T.flags=B,(255&T.flags)!=8){A.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){A.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=B>>8&1),512&T.flags&&(j[0]=255&B,j[1]=B>>>8&255,T.check=s(T.check,j,2,0)),z=B=0,T.mode=3;case 3:for(;z<32;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}T.head&&(T.head.time=B),512&T.flags&&(j[0]=255&B,j[1]=B>>>8&255,j[2]=B>>>16&255,j[3]=B>>>24&255,T.check=s(T.check,j,4,0)),z=B=0,T.mode=4;case 4:for(;z<16;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}T.head&&(T.head.xflags=255&B,T.head.os=B>>8),512&T.flags&&(j[0]=255&B,j[1]=B>>>8&255,T.check=s(T.check,j,2,0)),z=B=0,T.mode=5;case 5:if(1024&T.flags){for(;z<16;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}T.length=B,T.head&&(T.head.extra_len=B),512&T.flags&&(j[0]=255&B,j[1]=B>>>8&255,T.check=s(T.check,j,2,0)),z=B=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(Y<(X=T.length)&&(X=Y),X&&(T.head&&(D=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),o.arraySet(T.head.extra,I,q,X,D)),512&T.flags&&(T.check=s(T.check,I,X,q)),Y-=X,q+=X,T.length-=X),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(Y===0)break e;for(X=0;D=I[q+X++],T.head&&D&&T.length<65536&&(T.head.name+=String.fromCharCode(D)),D&&X<Y;);if(512&T.flags&&(T.check=s(T.check,I,X,q)),Y-=X,q+=X,D)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(Y===0)break e;for(X=0;D=I[q+X++],T.head&&D&&T.length<65536&&(T.head.comment+=String.fromCharCode(D)),D&&X<Y;);if(512&T.flags&&(T.check=s(T.check,I,X,q)),Y-=X,q+=X,D)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;z<16;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}if(B!==(65535&T.check)){A.msg="header crc mismatch",T.mode=30;break}z=B=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),A.adler=T.check=0,T.mode=12;break;case 10:for(;z<32;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}A.adler=T.check=v(B),z=B=0,T.mode=11;case 11:if(T.havedict===0)return A.next_out=L,A.avail_out=R,A.next_in=q,A.avail_in=Y,T.hold=B,T.bits=z,2;A.adler=T.check=1,T.mode=12;case 12:if(N===5||N===6)break e;case 13:if(T.last){B>>>=7&z,z-=7&z,T.mode=27;break}for(;z<3;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}switch(T.last=1&B,z-=1,3&(B>>>=1)){case 0:T.mode=14;break;case 1:if(E(T),T.mode=20,N!==6)break;B>>>=2,z-=2;break e;case 2:T.mode=17;break;case 3:A.msg="invalid block type",T.mode=30}B>>>=2,z-=2;break;case 14:for(B>>>=7&z,z-=7&z;z<32;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}if((65535&B)!=(B>>>16^65535)){A.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&B,z=B=0,T.mode=15,N===6)break e;case 15:T.mode=16;case 16:if(X=T.length){if(Y<X&&(X=Y),R<X&&(X=R),X===0)break e;o.arraySet(O,I,q,X,L),Y-=X,q+=X,R-=X,L+=X,T.length-=X;break}T.mode=12;break;case 17:for(;z<14;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}if(T.nlen=257+(31&B),B>>>=5,z-=5,T.ndist=1+(31&B),B>>>=5,z-=5,T.ncode=4+(15&B),B>>>=4,z-=4,286<T.nlen||30<T.ndist){A.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;z<3;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}T.lens[se[T.have++]]=7&B,B>>>=3,z-=3}for(;T.have<19;)T.lens[se[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,W={bits:T.lenbits},oe=u(0,T.lens,0,19,T.lencode,0,T.work,W),T.lenbits=W.bits,oe){A.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;J=(F=T.lencode[B&(1<<T.lenbits)-1])>>>16&255,fe=65535&F,!((te=F>>>24)<=z);){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}if(fe<16)B>>>=te,z-=te,T.lens[T.have++]=fe;else{if(fe===16){for(V=te+2;z<V;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}if(B>>>=te,z-=te,T.have===0){A.msg="invalid bit length repeat",T.mode=30;break}D=T.lens[T.have-1],X=3+(3&B),B>>>=2,z-=2}else if(fe===17){for(V=te+3;z<V;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}z-=te,D=0,X=3+(7&(B>>>=te)),B>>>=3,z-=3}else{for(V=te+7;z<V;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}z-=te,D=0,X=11+(127&(B>>>=te)),B>>>=7,z-=7}if(T.have+X>T.nlen+T.ndist){A.msg="invalid bit length repeat",T.mode=30;break}for(;X--;)T.lens[T.have++]=D}}if(T.mode===30)break;if(T.lens[256]===0){A.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,W={bits:T.lenbits},oe=u(c,T.lens,0,T.nlen,T.lencode,0,T.work,W),T.lenbits=W.bits,oe){A.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,W={bits:T.distbits},oe=u(f,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,W),T.distbits=W.bits,oe){A.msg="invalid distances set",T.mode=30;break}if(T.mode=20,N===6)break e;case 20:T.mode=21;case 21:if(6<=Y&&258<=R){A.next_out=L,A.avail_out=R,A.next_in=q,A.avail_in=Y,T.hold=B,T.bits=z,l(A,$),L=A.next_out,O=A.output,R=A.avail_out,q=A.next_in,I=A.input,Y=A.avail_in,B=T.hold,z=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;J=(F=T.lencode[B&(1<<T.lenbits)-1])>>>16&255,fe=65535&F,!((te=F>>>24)<=z);){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}if(J&&(240&J)==0){for(ue=te,de=J,ee=fe;J=(F=T.lencode[ee+((B&(1<<ue+de)-1)>>ue)])>>>16&255,fe=65535&F,!(ue+(te=F>>>24)<=z);){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}B>>>=ue,z-=ue,T.back+=ue}if(B>>>=te,z-=te,T.back+=te,T.length=fe,J===0){T.mode=26;break}if(32&J){T.back=-1,T.mode=12;break}if(64&J){A.msg="invalid literal/length code",T.mode=30;break}T.extra=15&J,T.mode=22;case 22:if(T.extra){for(V=T.extra;z<V;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}T.length+=B&(1<<T.extra)-1,B>>>=T.extra,z-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;J=(F=T.distcode[B&(1<<T.distbits)-1])>>>16&255,fe=65535&F,!((te=F>>>24)<=z);){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}if((240&J)==0){for(ue=te,de=J,ee=fe;J=(F=T.distcode[ee+((B&(1<<ue+de)-1)>>ue)])>>>16&255,fe=65535&F,!(ue+(te=F>>>24)<=z);){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}B>>>=ue,z-=ue,T.back+=ue}if(B>>>=te,z-=te,T.back+=te,64&J){A.msg="invalid distance code",T.mode=30;break}T.offset=fe,T.extra=15&J,T.mode=24;case 24:if(T.extra){for(V=T.extra;z<V;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}T.offset+=B&(1<<T.extra)-1,B>>>=T.extra,z-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){A.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(R===0)break e;if(X=$-R,T.offset>X){if((X=T.offset-X)>T.whave&&T.sane){A.msg="invalid distance too far back",T.mode=30;break}K=X>T.wnext?(X-=T.wnext,T.wsize-X):T.wnext-X,X>T.length&&(X=T.length),Z=T.window}else Z=O,K=L-T.offset,X=T.length;for(R<X&&(X=R),R-=X,T.length-=X;O[L++]=Z[K++],--X;);T.length===0&&(T.mode=21);break;case 26:if(R===0)break e;O[L++]=T.length,R--,T.mode=21;break;case 27:if(T.wrap){for(;z<32;){if(Y===0)break e;Y--,B|=I[q++]<<z,z+=8}if($-=R,A.total_out+=$,T.total+=$,$&&(A.adler=T.check=T.flags?s(T.check,O,$,L-$):a(T.check,O,$,L-$)),$=R,(T.flags?B:v(B))!==T.check){A.msg="incorrect data check",T.mode=30;break}z=B=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;z<32;){if(Y===0)break e;Y--,B+=I[q++]<<z,z+=8}if(B!==(4294967295&T.total)){A.msg="incorrect length check",T.mode=30;break}z=B=0}T.mode=29;case 29:oe=1;break e;case 30:oe=-3;break e;case 31:return-4;case 32:default:return h}return A.next_out=L,A.avail_out=R,A.next_in=q,A.avail_in=Y,T.hold=B,T.bits=z,(T.wsize||$!==A.avail_out&&T.mode<30&&(T.mode<27||N!==4))&&M(A,A.output,A.next_out,$-A.avail_out)?(T.mode=31,-4):(P-=A.avail_in,$-=A.avail_out,A.total_in+=P,A.total_out+=$,T.total+=$,T.wrap&&$&&(A.adler=T.check=T.flags?s(T.check,O,$,A.next_out-$):a(T.check,O,$,A.next_out-$)),A.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(P==0&&$===0||N===4)&&oe===d&&(oe=-5),oe)},i.inflateEnd=function(A){if(!A||!A.state)return h;var N=A.state;return N.window&&(N.window=null),A.state=null,d},i.inflateGetHeader=function(A,N){var T;return A&&A.state?(2&(T=A.state).wrap)==0?h:((T.head=N).done=!1,d):h},i.inflateSetDictionary=function(A,N){var T,I=N.length;return A&&A.state?(T=A.state).wrap!==0&&T.mode!==11?h:T.mode===11&&a(1,N,I,0)!==T.check?-3:M(A,N,I,I)?(T.mode=31,-4):(T.havedict=1,d):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,f,d,h,p,m,g,v){var y,b,w,x,S,_,k,C,E,M=v.bits,A=0,N=0,T=0,I=0,O=0,q=0,L=0,Y=0,R=0,B=0,z=null,P=0,$=new o.Buf16(16),X=new o.Buf16(16),K=null,Z=0;for(A=0;A<=15;A++)$[A]=0;for(N=0;N<h;N++)$[f[d+N]]++;for(O=M,I=15;1<=I&&$[I]===0;I--);if(I<O&&(O=I),I===0)return p[m++]=20971520,p[m++]=20971520,v.bits=1,0;for(T=1;T<I&&$[T]===0;T++);for(O<T&&(O=T),A=Y=1;A<=15;A++)if(Y<<=1,(Y-=$[A])<0)return-1;if(0<Y&&(c===0||I!==1))return-1;for(X[1]=0,A=1;A<15;A++)X[A+1]=X[A]+$[A];for(N=0;N<h;N++)f[d+N]!==0&&(g[X[f[d+N]]++]=N);if(_=c===0?(z=K=g,19):c===1?(z=a,P-=257,K=s,Z-=257,256):(z=l,K=u,-1),A=T,S=m,L=N=B=0,w=-1,x=(R=1<<(q=O))-1,c===1&&852<R||c===2&&592<R)return 1;for(;;){for(k=A-L,E=g[N]<_?(C=0,g[N]):g[N]>_?(C=K[Z+g[N]],z[P+g[N]]):(C=96,0),y=1<<A-L,T=b=1<<q;p[S+(B>>L)+(b-=y)]=k<<24|C<<16|E|0,b!==0;);for(y=1<<A-1;B&y;)y>>=1;if(y!==0?(B&=y-1,B+=y):B=0,N++,--$[A]==0){if(A===I)break;A=f[d+g[N]]}if(O<A&&(B&x)!==w){for(L===0&&(L=O),S+=T,Y=1<<(q=A-L);q+L<I&&!((Y-=$[q+L])<=0);)q++,Y<<=1;if(R+=1<<q,c===1&&852<R||c===2&&592<R)return 1;p[w=B&x]=O<<24|q<<16|S-m|0}}return B!==0&&(p[S+B]=A-L<<24|64<<16|0),v.bits=O,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),a=0,s=1;function l(F){for(var j=F.length;0<=--j;)F[j]=0}var u=0,c=29,f=256,d=f+1+c,h=30,p=19,m=2*d+1,g=15,v=16,y=7,b=256,w=16,x=17,S=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(d+2));l(M);var A=new Array(2*h);l(A);var N=new Array(512);l(N);var T=new Array(256);l(T);var I=new Array(c);l(I);var O,q,L,Y=new Array(h);function R(F,j,se,pe,ae){this.static_tree=F,this.extra_bits=j,this.extra_base=se,this.elems=pe,this.max_length=ae,this.has_stree=F&&F.length}function B(F,j){this.dyn_tree=F,this.max_code=0,this.stat_desc=j}function z(F){return F<256?N[F]:N[256+(F>>>7)]}function P(F,j){F.pending_buf[F.pending++]=255&j,F.pending_buf[F.pending++]=j>>>8&255}function $(F,j,se){F.bi_valid>v-se?(F.bi_buf|=j<<F.bi_valid&65535,P(F,F.bi_buf),F.bi_buf=j>>v-F.bi_valid,F.bi_valid+=se-v):(F.bi_buf|=j<<F.bi_valid&65535,F.bi_valid+=se)}function X(F,j,se){$(F,se[2*j],se[2*j+1])}function K(F,j){for(var se=0;se|=1&F,F>>>=1,se<<=1,0<--j;);return se>>>1}function Z(F,j,se){var pe,ae,H=new Array(g+1),Q=0;for(pe=1;pe<=g;pe++)H[pe]=Q=Q+se[pe-1]<<1;for(ae=0;ae<=j;ae++){var ie=F[2*ae+1];ie!==0&&(F[2*ae]=K(H[ie]++,ie))}}function te(F){var j;for(j=0;j<d;j++)F.dyn_ltree[2*j]=0;for(j=0;j<h;j++)F.dyn_dtree[2*j]=0;for(j=0;j<p;j++)F.bl_tree[2*j]=0;F.dyn_ltree[2*b]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function J(F){8<F.bi_valid?P(F,F.bi_buf):0<F.bi_valid&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function fe(F,j,se,pe){var ae=2*j,H=2*se;return F[ae]<F[H]||F[ae]===F[H]&&pe[j]<=pe[se]}function ue(F,j,se){for(var pe=F.heap[se],ae=se<<1;ae<=F.heap_len&&(ae<F.heap_len&&fe(j,F.heap[ae+1],F.heap[ae],F.depth)&&ae++,!fe(j,pe,F.heap[ae],F.depth));)F.heap[se]=F.heap[ae],se=ae,ae<<=1;F.heap[se]=pe}function de(F,j,se){var pe,ae,H,Q,ie=0;if(F.last_lit!==0)for(;pe=F.pending_buf[F.d_buf+2*ie]<<8|F.pending_buf[F.d_buf+2*ie+1],ae=F.pending_buf[F.l_buf+ie],ie++,pe===0?X(F,ae,j):(X(F,(H=T[ae])+f+1,j),(Q=_[H])!==0&&$(F,ae-=I[H],Q),X(F,H=z(--pe),se),(Q=k[H])!==0&&$(F,pe-=Y[H],Q)),ie<F.last_lit;);X(F,b,j)}function ee(F,j){var se,pe,ae,H=j.dyn_tree,Q=j.stat_desc.static_tree,ie=j.stat_desc.has_stree,ce=j.stat_desc.elems,ve=-1;for(F.heap_len=0,F.heap_max=m,se=0;se<ce;se++)H[2*se]!==0?(F.heap[++F.heap_len]=ve=se,F.depth[se]=0):H[2*se+1]=0;for(;F.heap_len<2;)H[2*(ae=F.heap[++F.heap_len]=ve<2?++ve:0)]=1,F.depth[ae]=0,F.opt_len--,ie&&(F.static_len-=Q[2*ae+1]);for(j.max_code=ve,se=F.heap_len>>1;1<=se;se--)ue(F,H,se);for(ae=ce;se=F.heap[1],F.heap[1]=F.heap[F.heap_len--],ue(F,H,1),pe=F.heap[1],F.heap[--F.heap_max]=se,F.heap[--F.heap_max]=pe,H[2*ae]=H[2*se]+H[2*pe],F.depth[ae]=(F.depth[se]>=F.depth[pe]?F.depth[se]:F.depth[pe])+1,H[2*se+1]=H[2*pe+1]=ae,F.heap[1]=ae++,ue(F,H,1),2<=F.heap_len;);F.heap[--F.heap_max]=F.heap[1],function(Te,be){var _e,ge,Ae,Me,Fe,Ue,G=be.dyn_tree,Se=be.max_code,Ie=be.stat_desc.static_tree,qe=be.stat_desc.has_stree,Ze=be.stat_desc.extra_bits,ft=be.stat_desc.extra_base,Ot=be.stat_desc.max_length,lr=0;for(Me=0;Me<=g;Me++)Te.bl_count[Me]=0;for(G[2*Te.heap[Te.heap_max]+1]=0,_e=Te.heap_max+1;_e<m;_e++)Ot<(Me=G[2*G[2*(ge=Te.heap[_e])+1]+1]+1)&&(Me=Ot,lr++),G[2*ge+1]=Me,Se<ge||(Te.bl_count[Me]++,Fe=0,ft<=ge&&(Fe=Ze[ge-ft]),Ue=G[2*ge],Te.opt_len+=Ue*(Me+Fe),qe&&(Te.static_len+=Ue*(Ie[2*ge+1]+Fe)));if(lr!==0){do{for(Me=Ot-1;Te.bl_count[Me]===0;)Me--;Te.bl_count[Me]--,Te.bl_count[Me+1]+=2,Te.bl_count[Ot]--,lr-=2}while(0<lr);for(Me=Ot;Me!==0;Me--)for(ge=Te.bl_count[Me];ge!==0;)Se<(Ae=Te.heap[--_e])||(G[2*Ae+1]!==Me&&(Te.opt_len+=(Me-G[2*Ae+1])*G[2*Ae],G[2*Ae+1]=Me),ge--)}}(F,j),Z(H,ve,F.bl_count)}function D(F,j,se){var pe,ae,H=-1,Q=j[1],ie=0,ce=7,ve=4;for(Q===0&&(ce=138,ve=3),j[2*(se+1)+1]=65535,pe=0;pe<=se;pe++)ae=Q,Q=j[2*(pe+1)+1],++ie<ce&&ae===Q||(ie<ve?F.bl_tree[2*ae]+=ie:ae!==0?(ae!==H&&F.bl_tree[2*ae]++,F.bl_tree[2*w]++):ie<=10?F.bl_tree[2*x]++:F.bl_tree[2*S]++,H=ae,ve=(ie=0)===Q?(ce=138,3):ae===Q?(ce=6,3):(ce=7,4))}function oe(F,j,se){var pe,ae,H=-1,Q=j[1],ie=0,ce=7,ve=4;for(Q===0&&(ce=138,ve=3),pe=0;pe<=se;pe++)if(ae=Q,Q=j[2*(pe+1)+1],!(++ie<ce&&ae===Q)){if(ie<ve)for(;X(F,ae,F.bl_tree),--ie!=0;);else ae!==0?(ae!==H&&(X(F,ae,F.bl_tree),ie--),X(F,w,F.bl_tree),$(F,ie-3,2)):ie<=10?(X(F,x,F.bl_tree),$(F,ie-3,3)):(X(F,S,F.bl_tree),$(F,ie-11,7));H=ae,ve=(ie=0)===Q?(ce=138,3):ae===Q?(ce=6,3):(ce=7,4)}}l(Y);var W=!1;function V(F,j,se,pe){$(F,(u<<1)+(pe?1:0),3),function(ae,H,Q,ie){J(ae),P(ae,Q),P(ae,~Q),o.arraySet(ae.pending_buf,ae.window,H,Q,ae.pending),ae.pending+=Q}(F,j,se)}i._tr_init=function(F){W||(function(){var j,se,pe,ae,H,Q=new Array(g+1);for(ae=pe=0;ae<c-1;ae++)for(I[ae]=pe,j=0;j<1<<_[ae];j++)T[pe++]=ae;for(T[pe-1]=ae,ae=H=0;ae<16;ae++)for(Y[ae]=H,j=0;j<1<<k[ae];j++)N[H++]=ae;for(H>>=7;ae<h;ae++)for(Y[ae]=H<<7,j=0;j<1<<k[ae]-7;j++)N[256+H++]=ae;for(se=0;se<=g;se++)Q[se]=0;for(j=0;j<=143;)M[2*j+1]=8,j++,Q[8]++;for(;j<=255;)M[2*j+1]=9,j++,Q[9]++;for(;j<=279;)M[2*j+1]=7,j++,Q[7]++;for(;j<=287;)M[2*j+1]=8,j++,Q[8]++;for(Z(M,d+1,Q),j=0;j<h;j++)A[2*j+1]=5,A[2*j]=K(j,5);O=new R(M,_,f+1,d,g),q=new R(A,k,0,h,g),L=new R(new Array(0),C,0,p,y)}(),W=!0),F.l_desc=new B(F.dyn_ltree,O),F.d_desc=new B(F.dyn_dtree,q),F.bl_desc=new B(F.bl_tree,L),F.bi_buf=0,F.bi_valid=0,te(F)},i._tr_stored_block=V,i._tr_flush_block=function(F,j,se,pe){var ae,H,Q=0;0<F.level?(F.strm.data_type===2&&(F.strm.data_type=function(ie){var ce,ve=4093624447;for(ce=0;ce<=31;ce++,ve>>>=1)if(1&ve&&ie.dyn_ltree[2*ce]!==0)return a;if(ie.dyn_ltree[18]!==0||ie.dyn_ltree[20]!==0||ie.dyn_ltree[26]!==0)return s;for(ce=32;ce<f;ce++)if(ie.dyn_ltree[2*ce]!==0)return s;return a}(F)),ee(F,F.l_desc),ee(F,F.d_desc),Q=function(ie){var ce;for(D(ie,ie.dyn_ltree,ie.l_desc.max_code),D(ie,ie.dyn_dtree,ie.d_desc.max_code),ee(ie,ie.bl_desc),ce=p-1;3<=ce&&ie.bl_tree[2*E[ce]+1]===0;ce--);return ie.opt_len+=3*(ce+1)+5+5+4,ce}(F),ae=F.opt_len+3+7>>>3,(H=F.static_len+3+7>>>3)<=ae&&(ae=H)):ae=H=se+5,se+4<=ae&&j!==-1?V(F,j,se,pe):F.strategy===4||H===ae?($(F,2+(pe?1:0),3),de(F,M,A)):($(F,4+(pe?1:0),3),function(ie,ce,ve,Te){var be;for($(ie,ce-257,5),$(ie,ve-1,5),$(ie,Te-4,4),be=0;be<Te;be++)$(ie,ie.bl_tree[2*E[be]+1],3);oe(ie,ie.dyn_ltree,ce-1),oe(ie,ie.dyn_dtree,ve-1)}(F,F.l_desc.max_code+1,F.d_desc.max_code+1,Q+1),de(F,F.dyn_ltree,F.dyn_dtree)),te(F),pe&&J(F)},i._tr_tally=function(F,j,se){return F.pending_buf[F.d_buf+2*F.last_lit]=j>>>8&255,F.pending_buf[F.d_buf+2*F.last_lit+1]=255&j,F.pending_buf[F.l_buf+F.last_lit]=255&se,F.last_lit++,j===0?F.dyn_ltree[2*se]++:(F.matches++,j--,F.dyn_ltree[2*(T[se]+f+1)]++,F.dyn_dtree[2*z(j)]++),F.last_lit===F.lit_bufsize-1},i._tr_align=function(F){$(F,2,3),X(F,b,M),function(j){j.bi_valid===16?(P(j,j.bi_buf),j.bi_buf=0,j.bi_valid=0):8<=j.bi_valid&&(j.pending_buf[j.pending++]=255&j.bi_buf,j.bi_buf>>=8,j.bi_valid-=8)}(F)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(a,s){if(!a.setImmediate){var l,u,c,f,d=1,h={},p=!1,m=a.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(a);g=g&&g.setTimeout?g:a,l={}.toString.call(a.process)==="[object process]"?function(w){process.nextTick(function(){y(w)})}:function(){if(a.postMessage&&!a.importScripts){var w=!0,x=a.onmessage;return a.onmessage=function(){w=!1},a.postMessage("","*"),a.onmessage=x,w}}()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",b,!1):a.attachEvent("onmessage",b),function(w){a.postMessage(f+w,"*")}):a.MessageChannel?((c=new MessageChannel).port1.onmessage=function(w){y(w.data)},function(w){c.port2.postMessage(w)}):m&&"onreadystatechange"in m.createElement("script")?(u=m.documentElement,function(w){var x=m.createElement("script");x.onreadystatechange=function(){y(w),x.onreadystatechange=null,u.removeChild(x),x=null},u.appendChild(x)}):function(w){setTimeout(y,0,w)},g.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var x=new Array(arguments.length-1),S=0;S<x.length;S++)x[S]=arguments[S+1];var _={callback:w,args:x};return h[d]=_,l(d),d++},g.clearImmediate=v}function v(w){delete h[w]}function y(w){if(p)setTimeout(y,0,w);else{var x=h[w];if(x){p=!0;try{(function(S){var _=S.callback,k=S.args;switch(k.length){case 0:_();break;case 1:_(k[0]);break;case 2:_(k[0],k[1]);break;case 3:_(k[0],k[1],k[2]);break;default:_.apply(s,k)}})(x)}finally{v(w),p=!1}}}}function b(w){w.source===a&&typeof w.data=="string"&&w.data.indexOf(f)===0&&y(+w.data.slice(f.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Go<"u"?Go:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(AA)),AA.exports}var uZe=lZe();const cZe=vf(uZe);var Bx={exports:{}},TA={},Wf={},Ap={},MA={},DA={},NA={},QG;function dC(){return QG||(QG=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(y){if(super(),!t.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((b,w)=>`${b}${w}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((b,w)=>(w instanceof n&&(b[w.str]=(b[w.str]||0)+1),b),{})}}t._Code=r,t.nil=new r("");function i(v,...y){const b=[v[0]];let w=0;for(;w<y.length;)s(b,y[w]),b.push(v[++w]);return new r(b)}t._=i;const o=new r("+");function a(v,...y){const b=[h(v[0])];let w=0;for(;w<y.length;)b.push(o),s(b,y[w]),b.push(o,h(v[++w]));return l(b),new r(b)}t.str=a;function s(v,y){y instanceof r?v.push(...y._items):y instanceof n?v.push(y):v.push(f(y))}t.addCodeArg=s;function l(v){let y=1;for(;y<v.length-1;){if(v[y]===o){const b=u(v[y-1],v[y+1]);if(b!==void 0){v.splice(y-1,3,b);continue}v[y++]="+"}y++}}function u(v,y){if(y==='""')return v;if(v==='""')return y;if(typeof v=="string")return y instanceof n||v[v.length-1]!=='"'?void 0:typeof y!="string"?`${v.slice(0,-1)}${y}"`:y[0]==='"'?v.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(v instanceof n))return`"${v}${y.slice(1)}`}function c(v,y){return y.emptyStr()?v:v.emptyStr()?y:a`${v}${y}`}t.strConcat=c;function f(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:h(Array.isArray(v)?v.join(","):v)}function d(v){return new r(h(v))}t.stringify=d;function h(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=h;function p(v){return typeof v=="string"&&t.IDENTIFIER.test(v)?new r(`.${v}`):i`[${v}]`}t.getProperty=p;function m(v){if(typeof v=="string"&&t.IDENTIFIER.test(v))return new r(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}t.getEsmExportName=m;function g(v){return new r(v.toString())}t.regexpCode=g}(NA)),NA}var OA={},eK;function tK(){return eK||(eK=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=dC();class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(t.UsedValueState=r={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof e.Name?u:this.name(u)}name(u){return new e.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}t.Scope=i;class o extends e.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:f}){this.value=u,this.scopePath=(0,e._)`.${new e.Name(c)}[${f}]`}}t.ValueScopeName=o;const a=(0,e._)`\n`;class s extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?a:e.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(u),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let m=this._values[h];if(m){const y=m.get(p);if(y)return y}else m=this._values[h]=new Map;m.set(p,d);const g=this._scope[h]||(this._scope[h]=[]),v=g.length;return g[v]=c.ref,d.setValue(c,{property:h,itemIndex:v}),d}getValue(u,c){const f=this._values[u];if(f)return f.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e._)`${u}${f.scopePath}`})}scopeCode(u=this._values,c,f){return this._reduceValues(u,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(u,c,f={},d){let h=e.nil;for(const p in u){const m=u[p];if(!m)continue;const g=f[p]=f[p]||new Map;m.forEach(v=>{if(g.has(v))return;g.set(v,r.Started);let y=c(v);if(y){const b=this.opts.es5?t.varKinds.var:t.varKinds.const;h=(0,e._)`${h}${b} ${v} = ${y};${this.opts._n}`}else if(y=d?.(v))h=(0,e._)`${h}${y}${this.opts._n}`;else throw new n(v);g.set(v,r.Completed)})}return h}}t.ValueScope=s}(OA)),OA}var nK;function jn(){return nK||(nK=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=dC(),n=tK();var r=dC();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var i=tK();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class o{optimizeNodes(){return this}optimizeNames($,X){return this}}class a extends o{constructor($,X,K){super(),this.varKind=$,this.name=X,this.rhs=K}render({es5:$,_n:X}){const K=$?n.varKinds.var:this.varKind,Z=this.rhs===void 0?"":` = ${this.rhs}`;return`${K} ${this.name}${Z};`+X}optimizeNames($,X){if($[this.name.str])return this.rhs&&(this.rhs=T(this.rhs,$,X)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class s extends o{constructor($,X,K){super(),this.lhs=$,this.rhs=X,this.sideEffects=K}render({_n:$}){return`${this.lhs} = ${this.rhs};`+$}optimizeNames($,X){if(!(this.lhs instanceof e.Name&&!$[this.lhs.str]&&!this.sideEffects))return this.rhs=T(this.rhs,$,X),this}get names(){const $=this.lhs instanceof e.Name?{}:{...this.lhs.names};return N($,this.rhs)}}class l extends s{constructor($,X,K,Z){super($,K,Z),this.op=X}render({_n:$}){return`${this.lhs} ${this.op}= ${this.rhs};`+$}}class u extends o{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`${this.label}:`+$}}class c extends o{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`break${this.label?` ${this.label}`:""};`+$}}class f extends o{constructor($){super(),this.error=$}render({_n:$}){return`throw ${this.error};`+$}get names(){return this.error.names}}class d extends o{constructor($){super(),this.code=$}render({_n:$}){return`${this.code};`+$}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames($,X){return this.code=T(this.code,$,X),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class h extends o{constructor($=[]){super(),this.nodes=$}render($){return this.nodes.reduce((X,K)=>X+K.render($),"")}optimizeNodes(){const{nodes:$}=this;let X=$.length;for(;X--;){const K=$[X].optimizeNodes();Array.isArray(K)?$.splice(X,1,...K):K?$[X]=K:$.splice(X,1)}return $.length>0?this:void 0}optimizeNames($,X){const{nodes:K}=this;let Z=K.length;for(;Z--;){const te=K[Z];te.optimizeNames($,X)||(I($,te.names),K.splice(Z,1))}return K.length>0?this:void 0}get names(){return this.nodes.reduce(($,X)=>A($,X.names),{})}}class p extends h{render($){return"{"+$._n+super.render($)+"}"+$._n}}class m extends h{}class g extends p{}g.kind="else";class v extends p{constructor($,X){super(X),this.condition=$}render($){let X=`if(${this.condition})`+super.render($);return this.else&&(X+="else "+this.else.render($)),X}optimizeNodes(){super.optimizeNodes();const $=this.condition;if($===!0)return this.nodes;let X=this.else;if(X){const K=X.optimizeNodes();X=this.else=Array.isArray(K)?new g(K):K}if(X)return $===!1?X instanceof v?X:X.nodes:this.nodes.length?this:new v(O($),X instanceof v?[X]:X.nodes);if(!($===!1||!this.nodes.length))return this}optimizeNames($,X){var K;if(this.else=(K=this.else)===null||K===void 0?void 0:K.optimizeNames($,X),!!(super.optimizeNames($,X)||this.else))return this.condition=T(this.condition,$,X),this}get names(){const $=super.names;return N($,this.condition),this.else&&A($,this.else.names),$}}v.kind="if";class y extends p{}y.kind="for";class b extends y{constructor($){super(),this.iteration=$}render($){return`for(${this.iteration})`+super.render($)}optimizeNames($,X){if(super.optimizeNames($,X))return this.iteration=T(this.iteration,$,X),this}get names(){return A(super.names,this.iteration.names)}}class w extends y{constructor($,X,K,Z){super(),this.varKind=$,this.name=X,this.from=K,this.to=Z}render($){const X=$.es5?n.varKinds.var:this.varKind,{name:K,from:Z,to:te}=this;return`for(${X} ${K}=${Z}; ${K}<${te}; ${K}++)`+super.render($)}get names(){const $=N(super.names,this.from);return N($,this.to)}}class x extends y{constructor($,X,K,Z){super(),this.loop=$,this.varKind=X,this.name=K,this.iterable=Z}render($){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render($)}optimizeNames($,X){if(super.optimizeNames($,X))return this.iterable=T(this.iterable,$,X),this}get names(){return A(super.names,this.iterable.names)}}class S extends p{constructor($,X,K){super(),this.name=$,this.args=X,this.async=K}render($){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render($)}}S.kind="func";class _ extends h{render($){return"return "+super.render($)}}_.kind="return";class k extends p{render($){let X="try"+super.render($);return this.catch&&(X+=this.catch.render($)),this.finally&&(X+=this.finally.render($)),X}optimizeNodes(){var $,X;return super.optimizeNodes(),($=this.catch)===null||$===void 0||$.optimizeNodes(),(X=this.finally)===null||X===void 0||X.optimizeNodes(),this}optimizeNames($,X){var K,Z;return super.optimizeNames($,X),(K=this.catch)===null||K===void 0||K.optimizeNames($,X),(Z=this.finally)===null||Z===void 0||Z.optimizeNames($,X),this}get names(){const $=super.names;return this.catch&&A($,this.catch.names),this.finally&&A($,this.finally.names),$}}class C extends p{constructor($){super(),this.error=$}render($){return`catch(${this.error})`+super.render($)}}C.kind="catch";class E extends p{render($){return"finally"+super.render($)}}E.kind="finally";class M{constructor($,X={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...X,_n:X.lines?`
`:""},this._extScope=$,this._scope=new n.Scope({parent:$}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name($){return this._scope.name($)}scopeName($){return this._extScope.name($)}scopeValue($,X){const K=this._extScope.value($,X);return(this._values[K.prefix]||(this._values[K.prefix]=new Set)).add(K),K}getScopeValue($,X){return this._extScope.getValue($,X)}scopeRefs($){return this._extScope.scopeRefs($,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def($,X,K,Z){const te=this._scope.toName(X);return K!==void 0&&Z&&(this._constants[te.str]=K),this._leafNode(new a($,te,K)),te}const($,X,K){return this._def(n.varKinds.const,$,X,K)}let($,X,K){return this._def(n.varKinds.let,$,X,K)}var($,X,K){return this._def(n.varKinds.var,$,X,K)}assign($,X,K){return this._leafNode(new s($,X,K))}add($,X){return this._leafNode(new l($,t.operators.ADD,X))}code($){return typeof $=="function"?$():$!==e.nil&&this._leafNode(new d($)),this}object(...$){const X=["{"];for(const[K,Z]of $)X.length>1&&X.push(","),X.push(K),(K!==Z||this.opts.es5)&&(X.push(":"),(0,e.addCodeArg)(X,Z));return X.push("}"),new e._Code(X)}if($,X,K){if(this._blockNode(new v($)),X&&K)this.code(X).else().code(K).endIf();else if(X)this.code(X).endIf();else if(K)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf($){return this._elseNode(new v($))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(v,g)}_for($,X){return this._blockNode($),X&&this.code(X).endFor(),this}for($,X){return this._for(new b($),X)}forRange($,X,K,Z,te=this.opts.es5?n.varKinds.var:n.varKinds.let){const J=this._scope.toName($);return this._for(new w(te,J,X,K),()=>Z(J))}forOf($,X,K,Z=n.varKinds.const){const te=this._scope.toName($);if(this.opts.es5){const J=X instanceof e.Name?X:this.var("_arr",X);return this.forRange("_i",0,(0,e._)`${J}.length`,fe=>{this.var(te,(0,e._)`${J}[${fe}]`),K(te)})}return this._for(new x("of",Z,te,X),()=>K(te))}forIn($,X,K,Z=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf($,(0,e._)`Object.keys(${X})`,K);const te=this._scope.toName($);return this._for(new x("in",Z,te,X),()=>K(te))}endFor(){return this._endBlockNode(y)}label($){return this._leafNode(new u($))}break($){return this._leafNode(new c($))}return($){const X=new _;if(this._blockNode(X),this.code($),X.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(_)}try($,X,K){if(!X&&!K)throw new Error('CodeGen: "try" without "catch" and "finally"');const Z=new k;if(this._blockNode(Z),this.code($),X){const te=this.name("e");this._currNode=Z.catch=new C(te),X(te)}return K&&(this._currNode=Z.finally=new E,this.code(K)),this._endBlockNode(C,E)}throw($){return this._leafNode(new f($))}block($,X){return this._blockStarts.push(this._nodes.length),$&&this.code($).endBlock(X),this}endBlock($){const X=this._blockStarts.pop();if(X===void 0)throw new Error("CodeGen: not in self-balancing block");const K=this._nodes.length-X;if(K<0||$!==void 0&&K!==$)throw new Error(`CodeGen: wrong number of nodes: ${K} vs ${$} expected`);return this._nodes.length=X,this}func($,X=e.nil,K,Z){return this._blockNode(new S($,X,K)),Z&&this.code(Z).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize($=1){for(;$-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode($){return this._currNode.nodes.push($),this}_blockNode($){this._currNode.nodes.push($),this._nodes.push($)}_endBlockNode($,X){const K=this._currNode;if(K instanceof $||X&&K instanceof X)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${X?`${$.kind}/${X.kind}`:$.kind}"`)}_elseNode($){const X=this._currNode;if(!(X instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=X.else=$,this}get _root(){return this._nodes[0]}get _currNode(){const $=this._nodes;return $[$.length-1]}set _currNode($){const X=this._nodes;X[X.length-1]=$}}t.CodeGen=M;function A(P,$){for(const X in $)P[X]=(P[X]||0)+($[X]||0);return P}function N(P,$){return $ instanceof e._CodeOrName?A(P,$.names):P}function T(P,$,X){if(P instanceof e.Name)return K(P);if(!Z(P))return P;return new e._Code(P._items.reduce((te,J)=>(J instanceof e.Name&&(J=K(J)),J instanceof e._Code?te.push(...J._items):te.push(J),te),[]));function K(te){const J=X[te.str];return J===void 0||$[te.str]!==1?te:(delete $[te.str],J)}function Z(te){return te instanceof e._Code&&te._items.some(J=>J instanceof e.Name&&$[J.str]===1&&X[J.str]!==void 0)}}function I(P,$){for(const X in $)P[X]=(P[X]||0)-($[X]||0)}function O(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,e._)`!${z(P)}`}t.not=O;const q=B(t.operators.AND);function L(...P){return P.reduce(q)}t.and=L;const Y=B(t.operators.OR);function R(...P){return P.reduce(Y)}t.or=R;function B(P){return($,X)=>$===e.nil?X:X===e.nil?$:(0,e._)`${z($)} ${P} ${z(X)}`}function z(P){return P instanceof e.Name?P:(0,e._)`(${P})`}}(DA)),DA}var In={},rK;function sr(){if(rK)return In;rK=1,Object.defineProperty(In,"__esModule",{value:!0}),In.checkStrictMode=In.getErrorPath=In.Type=In.useFunc=In.setEvaluated=In.evaluatedPropsToName=In.mergeEvaluated=In.eachItem=In.unescapeJsonPointer=In.escapeJsonPointer=In.escapeFragment=In.unescapeFragment=In.schemaRefOrVal=In.schemaHasRulesButRef=In.schemaHasRules=In.checkUnknownRules=In.alwaysValidSchema=In.toHash=void 0;const t=jn(),e=dC();function n(x){const S={};for(const _ of x)S[_]=!0;return S}In.toHash=n;function r(x,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(i(x,S),!o(S,x.self.RULES.all))}In.alwaysValidSchema=r;function i(x,S=x.schema){const{opts:_,self:k}=x;if(!_.strictSchema||typeof S=="boolean")return;const C=k.RULES.keywords;for(const E in S)C[E]||w(x,`unknown keyword: "${E}"`)}In.checkUnknownRules=i;function o(x,S){if(typeof x=="boolean")return!x;for(const _ in x)if(S[_])return!0;return!1}In.schemaHasRules=o;function a(x,S){if(typeof x=="boolean")return!x;for(const _ in x)if(_!=="$ref"&&S.all[_])return!0;return!1}In.schemaHasRulesButRef=a;function s({topSchemaRef:x,schemaPath:S},_,k,C){if(!C){if(typeof _=="number"||typeof _=="boolean")return _;if(typeof _=="string")return(0,t._)`${_}`}return(0,t._)`${x}${S}${(0,t.getProperty)(k)}`}In.schemaRefOrVal=s;function l(x){return f(decodeURIComponent(x))}In.unescapeFragment=l;function u(x){return encodeURIComponent(c(x))}In.escapeFragment=u;function c(x){return typeof x=="number"?`${x}`:x.replace(/~/g,"~0").replace(/\//g,"~1")}In.escapeJsonPointer=c;function f(x){return x.replace(/~1/g,"/").replace(/~0/g,"~")}In.unescapeJsonPointer=f;function d(x,S){if(Array.isArray(x))for(const _ of x)S(_);else S(x)}In.eachItem=d;function h({mergeNames:x,mergeToName:S,mergeValues:_,resultToName:k}){return(C,E,M,A)=>{const N=M===void 0?E:M instanceof t.Name?(E instanceof t.Name?x(C,E,M):S(C,E,M),M):E instanceof t.Name?(S(C,M,E),E):_(E,M);return A===t.Name&&!(N instanceof t.Name)?k(C,N):N}}In.mergeEvaluated={props:h({mergeNames:(x,S,_)=>x.if((0,t._)`${_} !== true && ${S} !== undefined`,()=>{x.if((0,t._)`${S} === true`,()=>x.assign(_,!0),()=>x.assign(_,(0,t._)`${_} || {}`).code((0,t._)`Object.assign(${_}, ${S})`))}),mergeToName:(x,S,_)=>x.if((0,t._)`${_} !== true`,()=>{S===!0?x.assign(_,!0):(x.assign(_,(0,t._)`${_} || {}`),m(x,_,S))}),mergeValues:(x,S)=>x===!0?!0:{...x,...S},resultToName:p}),items:h({mergeNames:(x,S,_)=>x.if((0,t._)`${_} !== true && ${S} !== undefined`,()=>x.assign(_,(0,t._)`${S} === true ? true : ${_} > ${S} ? ${_} : ${S}`)),mergeToName:(x,S,_)=>x.if((0,t._)`${_} !== true`,()=>x.assign(_,S===!0?!0:(0,t._)`${_} > ${S} ? ${_} : ${S}`)),mergeValues:(x,S)=>x===!0?!0:Math.max(x,S),resultToName:(x,S)=>x.var("items",S)})};function p(x,S){if(S===!0)return x.var("props",!0);const _=x.var("props",(0,t._)`{}`);return S!==void 0&&m(x,_,S),_}In.evaluatedPropsToName=p;function m(x,S,_){Object.keys(_).forEach(k=>x.assign((0,t._)`${S}${(0,t.getProperty)(k)}`,!0))}In.setEvaluated=m;const g={};function v(x,S){return x.scopeValue("func",{ref:S,code:g[S.code]||(g[S.code]=new e._Code(S.code))})}In.useFunc=v;var y;(function(x){x[x.Num=0]="Num",x[x.Str=1]="Str"})(y||(In.Type=y={}));function b(x,S,_){if(x instanceof t.Name){const k=S===y.Num;return _?k?(0,t._)`"[" + ${x} + "]"`:(0,t._)`"['" + ${x} + "']"`:k?(0,t._)`"/" + ${x}`:(0,t._)`"/" + ${x}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return _?(0,t.getProperty)(x).toString():"/"+c(x)}In.getErrorPath=b;function w(x,S,_=x.opts.strictSchema){if(_){if(S=`strict mode: ${S}`,_===!0)throw new Error(S);x.self.logger.warn(S)}}return In.checkStrictMode=w,In}var zx={},iK;function hp(){if(iK)return zx;iK=1,Object.defineProperty(zx,"__esModule",{value:!0});const t=jn(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return zx.default=e,zx}var oK;function Ok(){return oK||(oK=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=jn(),n=sr(),r=hp();t.keywordError={message:({keyword:g})=>(0,e.str)`must pass "${g}" keyword validation`},t.keyword$DataError={message:({keyword:g,schemaType:v})=>v?(0,e.str)`"${g}" keyword must be ${v} ($data)`:(0,e.str)`"${g}" keyword is invalid ($data)`};function i(g,v=t.keywordError,y,b){const{it:w}=g,{gen:x,compositeRule:S,allErrors:_}=w,k=f(g,v,y);b??(S||_)?l(x,k):u(w,(0,e._)`[${k}]`)}t.reportError=i;function o(g,v=t.keywordError,y){const{it:b}=g,{gen:w,compositeRule:x,allErrors:S}=b,_=f(g,v,y);l(w,_),x||S||u(b,r.default.vErrors)}t.reportExtraError=o;function a(g,v){g.assign(r.default.errors,v),g.if((0,e._)`${r.default.vErrors} !== null`,()=>g.if(v,()=>g.assign((0,e._)`${r.default.vErrors}.length`,v),()=>g.assign(r.default.vErrors,null)))}t.resetErrorsCount=a;function s({gen:g,keyword:v,schemaValue:y,data:b,errsCount:w,it:x}){if(w===void 0)throw new Error("ajv implementation error");const S=g.name("err");g.forRange("i",w,r.default.errors,_=>{g.const(S,(0,e._)`${r.default.vErrors}[${_}]`),g.if((0,e._)`${S}.instancePath === undefined`,()=>g.assign((0,e._)`${S}.instancePath`,(0,e.strConcat)(r.default.instancePath,x.errorPath))),g.assign((0,e._)`${S}.schemaPath`,(0,e.str)`${x.errSchemaPath}/${v}`),x.opts.verbose&&(g.assign((0,e._)`${S}.schema`,y),g.assign((0,e._)`${S}.data`,b))})}t.extendErrors=s;function l(g,v){const y=g.const("err",v);g.if((0,e._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,e._)`[${y}]`),(0,e._)`${r.default.vErrors}.push(${y})`),g.code((0,e._)`${r.default.errors}++`)}function u(g,v){const{gen:y,validateName:b,schemaEnv:w}=g;w.$async?y.throw((0,e._)`new ${g.ValidationError}(${v})`):(y.assign((0,e._)`${b}.errors`,v),y.return(!1))}const c={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f(g,v,y){const{createErrors:b}=g.it;return b===!1?(0,e._)`{}`:d(g,v,y)}function d(g,v,y={}){const{gen:b,it:w}=g,x=[h(w,y),p(g,y)];return m(g,v,x),b.object(...x)}function h({errorPath:g},{instancePath:v}){const y=v?(0,e.str)`${g}${(0,n.getErrorPath)(v,n.Type.Str)}`:g;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,y)]}function p({keyword:g,it:{errSchemaPath:v}},{schemaPath:y,parentSchema:b}){let w=b?v:(0,e.str)`${v}/${g}`;return y&&(w=(0,e.str)`${w}${(0,n.getErrorPath)(y,n.Type.Str)}`),[c.schemaPath,w]}function m(g,{params:v,message:y},b){const{keyword:w,data:x,schemaValue:S,it:_}=g,{opts:k,propertyName:C,topSchemaRef:E,schemaPath:M}=_;b.push([c.keyword,w],[c.params,typeof v=="function"?v(g):v||(0,e._)`{}`]),k.messages&&b.push([c.message,typeof y=="function"?y(g):y]),k.verbose&&b.push([c.schema,S],[c.parentSchema,(0,e._)`${E}${M}`],[r.default.data,x]),C&&b.push([c.propertyName,C])}}(MA)),MA}var aK;function fZe(){if(aK)return Ap;aK=1,Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.boolOrEmptySchema=Ap.topBoolOrEmptySchema=void 0;const t=Ok(),e=jn(),n=hp(),r={message:"boolean schema is false"};function i(s){const{gen:l,schema:u,validateName:c}=s;u===!1?a(s,!1):typeof u=="object"&&u.$async===!0?l.return(n.default.data):(l.assign((0,e._)`${c}.errors`,null),l.return(!0))}Ap.topBoolOrEmptySchema=i;function o(s,l){const{gen:u,schema:c}=s;c===!1?(u.var(l,!1),a(s)):u.var(l,!0)}Ap.boolOrEmptySchema=o;function a(s,l){const{gen:u,data:c}=s,f={gen:u,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,t.reportError)(f,r,void 0,l)}return Ap}var Ro={},Tp={},sK;function eme(){if(sK)return Tp;sK=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.getRules=Tp.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function n(i){return typeof i=="string"&&e.has(i)}Tp.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Tp.getRules=r,Tp}var Gf={},lK;function tme(){if(lK)return Gf;lK=1,Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.shouldUseRule=Gf.shouldUseGroup=Gf.schemaHasRulesForType=void 0;function t({schema:r,self:i},o){const a=i.RULES.types[o];return a&&a!==!0&&e(r,a)}Gf.schemaHasRulesForType=t;function e(r,i){return i.rules.some(o=>n(r,o))}Gf.shouldUseGroup=e;function n(r,i){var o;return r[i.keyword]!==void 0||((o=i.definition.implements)===null||o===void 0?void 0:o.some(a=>r[a]!==void 0))}return Gf.shouldUseRule=n,Gf}var uK;function hC(){if(uK)return Ro;uK=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.reportTypeError=Ro.checkDataTypes=Ro.checkDataType=Ro.coerceAndCheckDataType=Ro.getJSONTypes=Ro.getSchemaTypes=Ro.DataType=void 0;const t=eme(),e=tme(),n=Ok(),r=jn(),i=sr();var o;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(o||(Ro.DataType=o={}));function a(y){const b=s(y.type);if(b.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!b.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&b.push("null")}return b}Ro.getSchemaTypes=a;function s(y){const b=Array.isArray(y)?y:y?[y]:[];if(b.every(t.isJSONType))return b;throw new Error("type must be JSONType or JSONType[]: "+b.join(","))}Ro.getJSONTypes=s;function l(y,b){const{gen:w,data:x,opts:S}=y,_=c(b,S.coerceTypes),k=b.length>0&&!(_.length===0&&b.length===1&&(0,e.schemaHasRulesForType)(y,b[0]));if(k){const C=p(b,x,S.strictNumbers,o.Wrong);w.if(C,()=>{_.length?f(y,b,_):g(y)})}return k}Ro.coerceAndCheckDataType=l;const u=new Set(["string","number","integer","boolean","null"]);function c(y,b){return b?y.filter(w=>u.has(w)||b==="array"&&w==="array"):[]}function f(y,b,w){const{gen:x,data:S,opts:_}=y,k=x.let("dataType",(0,r._)`typeof ${S}`),C=x.let("coerced",(0,r._)`undefined`);_.coerceTypes==="array"&&x.if((0,r._)`${k} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>x.assign(S,(0,r._)`${S}[0]`).assign(k,(0,r._)`typeof ${S}`).if(p(b,S,_.strictNumbers),()=>x.assign(C,S))),x.if((0,r._)`${C} !== undefined`);for(const M of w)(u.has(M)||M==="array"&&_.coerceTypes==="array")&&E(M);x.else(),g(y),x.endIf(),x.if((0,r._)`${C} !== undefined`,()=>{x.assign(S,C),d(y,C)});function E(M){switch(M){case"string":x.elseIf((0,r._)`${k} == "number" || ${k} == "boolean"`).assign(C,(0,r._)`"" + ${S}`).elseIf((0,r._)`${S} === null`).assign(C,(0,r._)`""`);return;case"number":x.elseIf((0,r._)`${k} == "boolean" || ${S} === null
              || (${k} == "string" && ${S} && ${S} == +${S})`).assign(C,(0,r._)`+${S}`);return;case"integer":x.elseIf((0,r._)`${k} === "boolean" || ${S} === null
              || (${k} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(C,(0,r._)`+${S}`);return;case"boolean":x.elseIf((0,r._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(C,!1).elseIf((0,r._)`${S} === "true" || ${S} === 1`).assign(C,!0);return;case"null":x.elseIf((0,r._)`${S} === "" || ${S} === 0 || ${S} === false`),x.assign(C,null);return;case"array":x.elseIf((0,r._)`${k} === "string" || ${k} === "number"
              || ${k} === "boolean" || ${S} === null`).assign(C,(0,r._)`[${S}]`)}}}function d({gen:y,parentData:b,parentDataProperty:w},x){y.if((0,r._)`${b} !== undefined`,()=>y.assign((0,r._)`${b}[${w}]`,x))}function h(y,b,w,x=o.Correct){const S=x===o.Correct?r.operators.EQ:r.operators.NEQ;let _;switch(y){case"null":return(0,r._)`${b} ${S} null`;case"array":_=(0,r._)`Array.isArray(${b})`;break;case"object":_=(0,r._)`${b} && typeof ${b} == "object" && !Array.isArray(${b})`;break;case"integer":_=k((0,r._)`!(${b} % 1) && !isNaN(${b})`);break;case"number":_=k();break;default:return(0,r._)`typeof ${b} ${S} ${y}`}return x===o.Correct?_:(0,r.not)(_);function k(C=r.nil){return(0,r.and)((0,r._)`typeof ${b} == "number"`,C,w?(0,r._)`isFinite(${b})`:r.nil)}}Ro.checkDataType=h;function p(y,b,w,x){if(y.length===1)return h(y[0],b,w,x);let S;const _=(0,i.toHash)(y);if(_.array&&_.object){const k=(0,r._)`typeof ${b} != "object"`;S=_.null?k:(0,r._)`!${b} || ${k}`,delete _.null,delete _.array,delete _.object}else S=r.nil;_.number&&delete _.integer;for(const k in _)S=(0,r.and)(S,h(k,b,w,x));return S}Ro.checkDataTypes=p;const m={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:b})=>typeof y=="string"?(0,r._)`{type: ${y}}`:(0,r._)`{type: ${b}}`};function g(y){const b=v(y);(0,n.reportError)(b,m)}Ro.reportTypeError=g;function v(y){const{gen:b,data:w,schema:x}=y,S=(0,i.schemaRefOrVal)(y,x,"type");return{gen:b,keyword:"type",data:w,schema:x.type,schemaCode:S,schemaValue:S,parentSchema:x,params:{},it:y}}return Ro}var ab={},cK;function dZe(){if(cK)return ab;cK=1,Object.defineProperty(ab,"__esModule",{value:!0}),ab.assignDefaults=void 0;const t=jn(),e=sr();function n(i,o){const{properties:a,items:s}=i.schema;if(o==="object"&&a)for(const l in a)r(i,l,a[l].default);else o==="array"&&Array.isArray(s)&&s.forEach((l,u)=>r(i,u,l.default))}ab.assignDefaults=n;function r(i,o,a){const{gen:s,compositeRule:l,data:u,opts:c}=i;if(a===void 0)return;const f=(0,t._)`${u}${(0,t.getProperty)(o)}`;if(l){(0,e.checkStrictMode)(i,`default is ignored for: ${f}`);return}let d=(0,t._)`${f} === undefined`;c.useDefaults==="empty"&&(d=(0,t._)`${d} || ${f} === null || ${f} === ""`),s.if(d,(0,t._)`${f} = ${(0,t.stringify)(a)}`)}return ab}var Nu={},Cr={},fK;function pc(){if(fK)return Cr;fK=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.validateUnion=Cr.validateArray=Cr.usePattern=Cr.callValidateCode=Cr.schemaProperties=Cr.allSchemaProperties=Cr.noPropertyInData=Cr.propertyInData=Cr.isOwnProperty=Cr.hasPropFunc=Cr.reportMissingProp=Cr.checkMissingProp=Cr.checkReportMissingProp=void 0;const t=jn(),e=sr(),n=hp(),r=sr();function i(y,b){const{gen:w,data:x,it:S}=y;w.if(c(w,x,b,S.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${b}`},!0),y.error()})}Cr.checkReportMissingProp=i;function o({gen:y,data:b,it:{opts:w}},x,S){return(0,t.or)(...x.map(_=>(0,t.and)(c(y,b,_,w.ownProperties),(0,t._)`${S} = ${_}`)))}Cr.checkMissingProp=o;function a(y,b){y.setParams({missingProperty:b},!0),y.error()}Cr.reportMissingProp=a;function s(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}Cr.hasPropFunc=s;function l(y,b,w){return(0,t._)`${s(y)}.call(${b}, ${w})`}Cr.isOwnProperty=l;function u(y,b,w,x){const S=(0,t._)`${b}${(0,t.getProperty)(w)} !== undefined`;return x?(0,t._)`${S} && ${l(y,b,w)}`:S}Cr.propertyInData=u;function c(y,b,w,x){const S=(0,t._)`${b}${(0,t.getProperty)(w)} === undefined`;return x?(0,t.or)(S,(0,t.not)(l(y,b,w))):S}Cr.noPropertyInData=c;function f(y){return y?Object.keys(y).filter(b=>b!=="__proto__"):[]}Cr.allSchemaProperties=f;function d(y,b){return f(b).filter(w=>!(0,e.alwaysValidSchema)(y,b[w]))}Cr.schemaProperties=d;function h({schemaCode:y,data:b,it:{gen:w,topSchemaRef:x,schemaPath:S,errorPath:_},it:k},C,E,M){const A=M?(0,t._)`${y}, ${b}, ${x}${S}`:b,N=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,_)],[n.default.parentData,k.parentData],[n.default.parentDataProperty,k.parentDataProperty],[n.default.rootData,n.default.rootData]];k.opts.dynamicRef&&N.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const T=(0,t._)`${A}, ${w.object(...N)}`;return E!==t.nil?(0,t._)`${C}.call(${E}, ${T})`:(0,t._)`${C}(${T})`}Cr.callValidateCode=h;const p=(0,t._)`new RegExp`;function m({gen:y,it:{opts:b}},w){const x=b.unicodeRegExp?"u":"",{regExp:S}=b.code,_=S(w,x);return y.scopeValue("pattern",{key:_.toString(),ref:_,code:(0,t._)`${S.code==="new RegExp"?p:(0,r.useFunc)(y,S)}(${w}, ${x})`})}Cr.usePattern=m;function g(y){const{gen:b,data:w,keyword:x,it:S}=y,_=b.name("valid");if(S.allErrors){const C=b.let("valid",!0);return k(()=>b.assign(C,!1)),C}return b.var(_,!0),k(()=>b.break()),_;function k(C){const E=b.const("len",(0,t._)`${w}.length`);b.forRange("i",0,E,M=>{y.subschema({keyword:x,dataProp:M,dataPropType:e.Type.Num},_),b.if((0,t.not)(_),C)})}}Cr.validateArray=g;function v(y){const{gen:b,schema:w,keyword:x,it:S}=y;if(!Array.isArray(w))throw new Error("ajv implementation error");if(w.some(E=>(0,e.alwaysValidSchema)(S,E))&&!S.opts.unevaluated)return;const k=b.let("valid",!1),C=b.name("_valid");b.block(()=>w.forEach((E,M)=>{const A=y.subschema({keyword:x,schemaProp:M,compositeRule:!0},C);b.assign(k,(0,t._)`${k} || ${C}`),y.mergeValidEvaluated(A,C)||b.if((0,t.not)(k))})),y.result(k,()=>y.reset(),()=>y.error(!0))}return Cr.validateUnion=v,Cr}var dK;function hZe(){if(dK)return Nu;dK=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.validateKeywordUsage=Nu.validSchemaType=Nu.funcKeywordCode=Nu.macroKeywordCode=void 0;const t=jn(),e=hp(),n=pc(),r=Ok();function i(d,h){const{gen:p,keyword:m,schema:g,parentSchema:v,it:y}=d,b=h.macro.call(y.self,g,v,y),w=u(p,m,b);y.opts.validateSchema!==!1&&y.self.validateSchema(b,!0);const x=p.name("valid");d.subschema({schema:b,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${m}`,topSchemaRef:w,compositeRule:!0},x),d.pass(x,()=>d.error(!0))}Nu.macroKeywordCode=i;function o(d,h){var p;const{gen:m,keyword:g,schema:v,parentSchema:y,$data:b,it:w}=d;l(w,h);const x=!b&&h.compile?h.compile.call(w.self,v,y,w):h.validate,S=u(m,g,x),_=m.let("valid");d.block$data(_,k),d.ok((p=h.valid)!==null&&p!==void 0?p:_);function k(){if(h.errors===!1)M(),h.modifying&&a(d),A(()=>d.error());else{const N=h.async?C():E();h.modifying&&a(d),A(()=>s(d,N))}}function C(){const N=m.let("ruleErrs",null);return m.try(()=>M((0,t._)`await `),T=>m.assign(_,!1).if((0,t._)`${T} instanceof ${w.ValidationError}`,()=>m.assign(N,(0,t._)`${T}.errors`),()=>m.throw(T))),N}function E(){const N=(0,t._)`${S}.errors`;return m.assign(N,null),M(t.nil),N}function M(N=h.async?(0,t._)`await `:t.nil){const T=w.opts.passContext?e.default.this:e.default.self,I=!("compile"in h&&!b||h.schema===!1);m.assign(_,(0,t._)`${N}${(0,n.callValidateCode)(d,S,T,I)}`,h.modifying)}function A(N){var T;m.if((0,t.not)((T=h.valid)!==null&&T!==void 0?T:_),N)}}Nu.funcKeywordCode=o;function a(d){const{gen:h,data:p,it:m}=d;h.if(m.parentData,()=>h.assign(p,(0,t._)`${m.parentData}[${m.parentDataProperty}]`))}function s(d,h){const{gen:p}=d;p.if((0,t._)`Array.isArray(${h})`,()=>{p.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${h} : ${e.default.vErrors}.concat(${h})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,r.extendErrors)(d)},()=>d.error())}function l({schemaEnv:d},h){if(h.async&&!d.$async)throw new Error("async keyword in sync schema")}function u(d,h,p){if(p===void 0)throw new Error(`keyword "${h}" failed to compile`);return d.scopeValue("keyword",typeof p=="function"?{ref:p}:{ref:p,code:(0,t.stringify)(p)})}function c(d,h,p=!1){return!h.length||h.some(m=>m==="array"?Array.isArray(d):m==="object"?d&&typeof d=="object"&&!Array.isArray(d):typeof d==m||p&&typeof d>"u")}Nu.validSchemaType=c;function f({schema:d,opts:h,self:p,errSchemaPath:m},g,v){if(Array.isArray(g.keyword)?!g.keyword.includes(v):g.keyword!==v)throw new Error("ajv implementation error");const y=g.dependencies;if(y?.some(b=>!Object.prototype.hasOwnProperty.call(d,b)))throw new Error(`parent schema must have dependencies of ${v}: ${y.join(",")}`);if(g.validateSchema&&!g.validateSchema(d[v])){const w=`keyword "${v}" value is invalid at path "${m}": `+p.errorsText(g.validateSchema.errors);if(h.validateSchema==="log")p.logger.error(w);else throw new Error(w)}}return Nu.validateKeywordUsage=f,Nu}var Kf={},hK;function pZe(){if(hK)return Kf;hK=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.extendSubschemaMode=Kf.extendSubschemaData=Kf.getSubschema=void 0;const t=jn(),e=sr();function n(o,{keyword:a,schemaProp:s,schema:l,schemaPath:u,errSchemaPath:c,topSchemaRef:f}){if(a!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const d=o.schema[a];return s===void 0?{schema:d,schemaPath:(0,t._)`${o.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${o.errSchemaPath}/${a}`}:{schema:d[s],schemaPath:(0,t._)`${o.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(s)}`,errSchemaPath:`${o.errSchemaPath}/${a}/${(0,e.escapeFragment)(s)}`}}if(l!==void 0){if(u===void 0||c===void 0||f===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:u,topSchemaRef:f,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}Kf.getSubschema=n;function r(o,a,{dataProp:s,dataPropType:l,data:u,dataTypes:c,propertyName:f}){if(u!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:d}=a;if(s!==void 0){const{errorPath:p,dataPathArr:m,opts:g}=a,v=d.let("data",(0,t._)`${a.data}${(0,t.getProperty)(s)}`,!0);h(v),o.errorPath=(0,t.str)`${p}${(0,e.getErrorPath)(s,l,g.jsPropertySyntax)}`,o.parentDataProperty=(0,t._)`${s}`,o.dataPathArr=[...m,o.parentDataProperty]}if(u!==void 0){const p=u instanceof t.Name?u:d.let("data",u,!0);h(p),f!==void 0&&(o.propertyName=f)}c&&(o.dataTypes=c);function h(p){o.data=p,o.dataLevel=a.dataLevel+1,o.dataTypes=[],a.definedProperties=new Set,o.parentData=a.data,o.dataNames=[...a.dataNames,p]}}Kf.extendSubschemaData=r;function i(o,{jtdDiscriminator:a,jtdMetadata:s,compositeRule:l,createErrors:u,allErrors:c}){l!==void 0&&(o.compositeRule=l),u!==void 0&&(o.createErrors=u),c!==void 0&&(o.allErrors=c),o.jtdDiscriminator=a,o.jtdMetadata=s}return Kf.extendSubschemaMode=i,Kf}var Fa={},IA,pK;function nme(){return pK||(pK=1,IA=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),IA}var PA={exports:{}},mK;function mZe(){if(mK)return PA.exports;mK=1;var t=PA.exports=function(r,i,o){typeof i=="function"&&(o=i,i={}),o=i.cb||o;var a=typeof o=="function"?o:o.pre||function(){},s=o.post||function(){};e(i,a,s,r,"",r)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(r,i,o,a,s,l,u,c,f,d){if(a&&typeof a=="object"&&!Array.isArray(a)){i(a,s,l,u,c,f,d);for(var h in a){var p=a[h];if(Array.isArray(p)){if(h in t.arrayKeywords)for(var m=0;m<p.length;m++)e(r,i,o,p[m],s+"/"+h+"/"+m,l,s,h,a,m)}else if(h in t.propsKeywords){if(p&&typeof p=="object")for(var g in p)e(r,i,o,p[g],s+"/"+h+"/"+n(g),l,s,h,a,g)}else(h in t.keywords||r.allKeys&&!(h in t.skipKeywords))&&e(r,i,o,p,s+"/"+h,l,s,h,a)}o(a,s,l,u,c,f,d)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return PA.exports}var gK;function Ik(){if(gK)return Fa;gK=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.getSchemaRefs=Fa.resolveUrl=Fa.normalizeId=Fa._getFullPath=Fa.getFullPath=Fa.inlineRef=void 0;const t=sr(),e=nme(),n=mZe(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(m,g=!0){return typeof m=="boolean"?!0:g===!0?!a(m):g?s(m)<=g:!1}Fa.inlineRef=i;const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(m){for(const g in m){if(o.has(g))return!0;const v=m[g];if(Array.isArray(v)&&v.some(a)||typeof v=="object"&&a(v))return!0}return!1}function s(m){let g=0;for(const v in m){if(v==="$ref")return 1/0;if(g++,!r.has(v)&&(typeof m[v]=="object"&&(0,t.eachItem)(m[v],y=>g+=s(y)),g===1/0))return 1/0}return g}function l(m,g="",v){v!==!1&&(g=f(g));const y=m.parse(g);return u(m,y)}Fa.getFullPath=l;function u(m,g){return m.serialize(g).split("#")[0]+"#"}Fa._getFullPath=u;const c=/#\/?$/;function f(m){return m?m.replace(c,""):""}Fa.normalizeId=f;function d(m,g,v){return v=f(v),m.resolve(g,v)}Fa.resolveUrl=d;const h=/^[a-z_][-a-z0-9._]*$/i;function p(m,g){if(typeof m=="boolean")return{};const{schemaId:v,uriResolver:y}=this.opts,b=f(m[v]||g),w={"":b},x=l(y,b,!1),S={},_=new Set;return n(m,{allKeys:!0},(E,M,A,N)=>{if(N===void 0)return;const T=x+M;let I=w[N];typeof E[v]=="string"&&(I=O.call(this,E[v])),q.call(this,E.$anchor),q.call(this,E.$dynamicAnchor),w[M]=I;function O(L){const Y=this.opts.uriResolver.resolve;if(L=f(I?Y(I,L):L),_.has(L))throw C(L);_.add(L);let R=this.refs[L];return typeof R=="string"&&(R=this.refs[R]),typeof R=="object"?k(E,R.schema,L):L!==f(T)&&(L[0]==="#"?(k(E,S[L],L),S[L]=E):this.refs[L]=T),L}function q(L){if(typeof L=="string"){if(!h.test(L))throw new Error(`invalid anchor "${L}"`);O.call(this,`#${L}`)}}}),S;function k(E,M,A){if(M!==void 0&&!e(E,M))throw C(A)}function C(E){return new Error(`reference "${E}" resolves to more than one schema`)}}return Fa.getSchemaRefs=p,Fa}var vK;function Pk(){if(vK)return Wf;vK=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.getData=Wf.KeywordCxt=Wf.validateFunctionCode=void 0;const t=fZe(),e=hC(),n=tme(),r=hC(),i=dZe(),o=hZe(),a=pZe(),s=jn(),l=hp(),u=Ik(),c=sr(),f=Ok();function d(ue){if(x(ue)&&(_(ue),w(ue))){g(ue);return}h(ue,()=>(0,t.topBoolOrEmptySchema)(ue))}Wf.validateFunctionCode=d;function h({gen:ue,validateName:de,schema:ee,schemaEnv:D,opts:oe},W){oe.code.es5?ue.func(de,(0,s._)`${l.default.data}, ${l.default.valCxt}`,D.$async,()=>{ue.code((0,s._)`"use strict"; ${y(ee,oe)}`),m(ue,oe),ue.code(W)}):ue.func(de,(0,s._)`${l.default.data}, ${p(oe)}`,D.$async,()=>ue.code(y(ee,oe)).code(W))}function p(ue){return(0,s._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${ue.dynamicRef?(0,s._)`, ${l.default.dynamicAnchors}={}`:s.nil}}={}`}function m(ue,de){ue.if(l.default.valCxt,()=>{ue.var(l.default.instancePath,(0,s._)`${l.default.valCxt}.${l.default.instancePath}`),ue.var(l.default.parentData,(0,s._)`${l.default.valCxt}.${l.default.parentData}`),ue.var(l.default.parentDataProperty,(0,s._)`${l.default.valCxt}.${l.default.parentDataProperty}`),ue.var(l.default.rootData,(0,s._)`${l.default.valCxt}.${l.default.rootData}`),de.dynamicRef&&ue.var(l.default.dynamicAnchors,(0,s._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{ue.var(l.default.instancePath,(0,s._)`""`),ue.var(l.default.parentData,(0,s._)`undefined`),ue.var(l.default.parentDataProperty,(0,s._)`undefined`),ue.var(l.default.rootData,l.default.data),de.dynamicRef&&ue.var(l.default.dynamicAnchors,(0,s._)`{}`)})}function g(ue){const{schema:de,opts:ee,gen:D}=ue;h(ue,()=>{ee.$comment&&de.$comment&&N(ue),E(ue),D.let(l.default.vErrors,null),D.let(l.default.errors,0),ee.unevaluated&&v(ue),k(ue),T(ue)})}function v(ue){const{gen:de,validateName:ee}=ue;ue.evaluated=de.const("evaluated",(0,s._)`${ee}.evaluated`),de.if((0,s._)`${ue.evaluated}.dynamicProps`,()=>de.assign((0,s._)`${ue.evaluated}.props`,(0,s._)`undefined`)),de.if((0,s._)`${ue.evaluated}.dynamicItems`,()=>de.assign((0,s._)`${ue.evaluated}.items`,(0,s._)`undefined`))}function y(ue,de){const ee=typeof ue=="object"&&ue[de.schemaId];return ee&&(de.code.source||de.code.process)?(0,s._)`/*# sourceURL=${ee} */`:s.nil}function b(ue,de){if(x(ue)&&(_(ue),w(ue))){S(ue,de);return}(0,t.boolOrEmptySchema)(ue,de)}function w({schema:ue,self:de}){if(typeof ue=="boolean")return!ue;for(const ee in ue)if(de.RULES.all[ee])return!0;return!1}function x(ue){return typeof ue.schema!="boolean"}function S(ue,de){const{schema:ee,gen:D,opts:oe}=ue;oe.$comment&&ee.$comment&&N(ue),M(ue),A(ue);const W=D.const("_errs",l.default.errors);k(ue,W),D.var(de,(0,s._)`${W} === ${l.default.errors}`)}function _(ue){(0,c.checkUnknownRules)(ue),C(ue)}function k(ue,de){if(ue.opts.jtd)return O(ue,[],!1,de);const ee=(0,e.getSchemaTypes)(ue.schema),D=(0,e.coerceAndCheckDataType)(ue,ee);O(ue,ee,!D,de)}function C(ue){const{schema:de,errSchemaPath:ee,opts:D,self:oe}=ue;de.$ref&&D.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(de,oe.RULES)&&oe.logger.warn(`$ref: keywords ignored in schema at path "${ee}"`)}function E(ue){const{schema:de,opts:ee}=ue;de.default!==void 0&&ee.useDefaults&&ee.strictSchema&&(0,c.checkStrictMode)(ue,"default is ignored in the schema root")}function M(ue){const de=ue.schema[ue.opts.schemaId];de&&(ue.baseId=(0,u.resolveUrl)(ue.opts.uriResolver,ue.baseId,de))}function A(ue){if(ue.schema.$async&&!ue.schemaEnv.$async)throw new Error("async schema in sync schema")}function N({gen:ue,schemaEnv:de,schema:ee,errSchemaPath:D,opts:oe}){const W=ee.$comment;if(oe.$comment===!0)ue.code((0,s._)`${l.default.self}.logger.log(${W})`);else if(typeof oe.$comment=="function"){const V=(0,s.str)`${D}/$comment`,F=ue.scopeValue("root",{ref:de.root});ue.code((0,s._)`${l.default.self}.opts.$comment(${W}, ${V}, ${F}.schema)`)}}function T(ue){const{gen:de,schemaEnv:ee,validateName:D,ValidationError:oe,opts:W}=ue;ee.$async?de.if((0,s._)`${l.default.errors} === 0`,()=>de.return(l.default.data),()=>de.throw((0,s._)`new ${oe}(${l.default.vErrors})`)):(de.assign((0,s._)`${D}.errors`,l.default.vErrors),W.unevaluated&&I(ue),de.return((0,s._)`${l.default.errors} === 0`))}function I({gen:ue,evaluated:de,props:ee,items:D}){ee instanceof s.Name&&ue.assign((0,s._)`${de}.props`,ee),D instanceof s.Name&&ue.assign((0,s._)`${de}.items`,D)}function O(ue,de,ee,D){const{gen:oe,schema:W,data:V,allErrors:F,opts:j,self:se}=ue,{RULES:pe}=se;if(W.$ref&&(j.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(W,pe))){oe.block(()=>Z(ue,"$ref",pe.all.$ref.definition));return}j.jtd||L(ue,de),oe.block(()=>{for(const H of pe.rules)ae(H);ae(pe.post)});function ae(H){(0,n.shouldUseGroup)(W,H)&&(H.type?(oe.if((0,r.checkDataType)(H.type,V,j.strictNumbers)),q(ue,H),de.length===1&&de[0]===H.type&&ee&&(oe.else(),(0,r.reportTypeError)(ue)),oe.endIf()):q(ue,H),F||oe.if((0,s._)`${l.default.errors} === ${D||0}`))}}function q(ue,de){const{gen:ee,schema:D,opts:{useDefaults:oe}}=ue;oe&&(0,i.assignDefaults)(ue,de.type),ee.block(()=>{for(const W of de.rules)(0,n.shouldUseRule)(D,W)&&Z(ue,W.keyword,W.definition,de.type)})}function L(ue,de){ue.schemaEnv.meta||!ue.opts.strictTypes||(Y(ue,de),ue.opts.allowUnionTypes||R(ue,de),B(ue,ue.dataTypes))}function Y(ue,de){if(de.length){if(!ue.dataTypes.length){ue.dataTypes=de;return}de.forEach(ee=>{P(ue.dataTypes,ee)||X(ue,`type "${ee}" not allowed by context "${ue.dataTypes.join(",")}"`)}),$(ue,de)}}function R(ue,de){de.length>1&&!(de.length===2&&de.includes("null"))&&X(ue,"use allowUnionTypes to allow union type keyword")}function B(ue,de){const ee=ue.self.RULES.all;for(const D in ee){const oe=ee[D];if(typeof oe=="object"&&(0,n.shouldUseRule)(ue.schema,oe)){const{type:W}=oe.definition;W.length&&!W.some(V=>z(de,V))&&X(ue,`missing type "${W.join(",")}" for keyword "${D}"`)}}}function z(ue,de){return ue.includes(de)||de==="number"&&ue.includes("integer")}function P(ue,de){return ue.includes(de)||de==="integer"&&ue.includes("number")}function $(ue,de){const ee=[];for(const D of ue.dataTypes)P(de,D)?ee.push(D):de.includes("integer")&&D==="number"&&ee.push("integer");ue.dataTypes=ee}function X(ue,de){const ee=ue.schemaEnv.baseId+ue.errSchemaPath;de+=` at "${ee}" (strictTypes)`,(0,c.checkStrictMode)(ue,de,ue.opts.strictTypes)}class K{constructor(de,ee,D){if((0,o.validateKeywordUsage)(de,ee,D),this.gen=de.gen,this.allErrors=de.allErrors,this.keyword=D,this.data=de.data,this.schema=de.schema[D],this.$data=ee.$data&&de.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(de,this.schema,D,this.$data),this.schemaType=ee.schemaType,this.parentSchema=de.schema,this.params={},this.it=de,this.def=ee,this.$data)this.schemaCode=de.gen.const("vSchema",fe(this.$data,de));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,ee.schemaType,ee.allowUndefined))throw new Error(`${D} value must be ${JSON.stringify(ee.schemaType)}`);("code"in ee?ee.trackErrors:ee.errors!==!1)&&(this.errsCount=de.gen.const("_errs",l.default.errors))}result(de,ee,D){this.failResult((0,s.not)(de),ee,D)}failResult(de,ee,D){this.gen.if(de),D?D():this.error(),ee?(this.gen.else(),ee(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(de,ee){this.failResult((0,s.not)(de),void 0,ee)}fail(de){if(de===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(de),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(de){if(!this.$data)return this.fail(de);const{schemaCode:ee}=this;this.fail((0,s._)`${ee} !== undefined && (${(0,s.or)(this.invalid$data(),de)})`)}error(de,ee,D){if(ee){this.setParams(ee),this._error(de,D),this.setParams({});return}this._error(de,D)}_error(de,ee){(de?f.reportExtraError:f.reportError)(this,this.def.error,ee)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(de){this.allErrors||this.gen.if(de)}setParams(de,ee){ee?Object.assign(this.params,de):this.params=de}block$data(de,ee,D=s.nil){this.gen.block(()=>{this.check$data(de,D),ee()})}check$data(de=s.nil,ee=s.nil){if(!this.$data)return;const{gen:D,schemaCode:oe,schemaType:W,def:V}=this;D.if((0,s.or)((0,s._)`${oe} === undefined`,ee)),de!==s.nil&&D.assign(de,!0),(W.length||V.validateSchema)&&(D.elseIf(this.invalid$data()),this.$dataError(),de!==s.nil&&D.assign(de,!1)),D.else()}invalid$data(){const{gen:de,schemaCode:ee,schemaType:D,def:oe,it:W}=this;return(0,s.or)(V(),F());function V(){if(D.length){if(!(ee instanceof s.Name))throw new Error("ajv implementation error");const j=Array.isArray(D)?D:[D];return(0,s._)`${(0,r.checkDataTypes)(j,ee,W.opts.strictNumbers,r.DataType.Wrong)}`}return s.nil}function F(){if(oe.validateSchema){const j=de.scopeValue("validate$data",{ref:oe.validateSchema});return(0,s._)`!${j}(${ee})`}return s.nil}}subschema(de,ee){const D=(0,a.getSubschema)(this.it,de);(0,a.extendSubschemaData)(D,this.it,de),(0,a.extendSubschemaMode)(D,de);const oe={...this.it,...D,items:void 0,props:void 0};return b(oe,ee),oe}mergeEvaluated(de,ee){const{it:D,gen:oe}=this;D.opts.unevaluated&&(D.props!==!0&&de.props!==void 0&&(D.props=c.mergeEvaluated.props(oe,de.props,D.props,ee)),D.items!==!0&&de.items!==void 0&&(D.items=c.mergeEvaluated.items(oe,de.items,D.items,ee)))}mergeValidEvaluated(de,ee){const{it:D,gen:oe}=this;if(D.opts.unevaluated&&(D.props!==!0||D.items!==!0))return oe.if(ee,()=>this.mergeEvaluated(de,s.Name)),!0}}Wf.KeywordCxt=K;function Z(ue,de,ee,D){const oe=new K(ue,ee,de);"code"in ee?ee.code(oe,D):oe.$data&&ee.validate?(0,o.funcKeywordCode)(oe,ee):"macro"in ee?(0,o.macroKeywordCode)(oe,ee):(ee.compile||ee.validate)&&(0,o.funcKeywordCode)(oe,ee)}const te=/^\/(?:[^~]|~0|~1)*$/,J=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function fe(ue,{dataLevel:de,dataNames:ee,dataPathArr:D}){let oe,W;if(ue==="")return l.default.rootData;if(ue[0]==="/"){if(!te.test(ue))throw new Error(`Invalid JSON-pointer: ${ue}`);oe=ue,W=l.default.rootData}else{const se=J.exec(ue);if(!se)throw new Error(`Invalid JSON-pointer: ${ue}`);const pe=+se[1];if(oe=se[2],oe==="#"){if(pe>=de)throw new Error(j("property/index",pe));return D[de-pe]}if(pe>de)throw new Error(j("data",pe));if(W=ee[de-pe],!oe)return W}let V=W;const F=oe.split("/");for(const se of F)se&&(W=(0,s._)`${W}${(0,s.getProperty)((0,c.unescapeJsonPointer)(se))}`,V=(0,s._)`${V} && ${W}`);return V;function j(se,pe){return`Cannot access ${se} ${pe} levels up, current level is ${de}`}}return Wf.getData=fe,Wf}var qx={},yK;function $R(){if(yK)return qx;yK=1,Object.defineProperty(qx,"__esModule",{value:!0});class t extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return qx.default=t,qx}var Vx={},bK;function Rk(){if(bK)return Vx;bK=1,Object.defineProperty(Vx,"__esModule",{value:!0});const t=Ik();class e extends Error{constructor(r,i,o,a){super(a||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(r,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(r,this.missingRef))}}return Vx.default=e,Vx}var nl={},wK;function BR(){if(wK)return nl;wK=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.resolveSchema=nl.getCompilingSchema=nl.resolveRef=nl.compileSchema=nl.SchemaEnv=void 0;const t=jn(),e=$R(),n=hp(),r=Ik(),i=sr(),o=Pk();class a{constructor(v){var y;this.refs={},this.dynamicAnchors={};let b;typeof v.schema=="object"&&(b=v.schema),this.schema=v.schema,this.schemaId=v.schemaId,this.root=v.root||this,this.baseId=(y=v.baseId)!==null&&y!==void 0?y:(0,r.normalizeId)(b?.[v.schemaId||"$id"]),this.schemaPath=v.schemaPath,this.localRefs=v.localRefs,this.meta=v.meta,this.$async=b?.$async,this.refs={}}}nl.SchemaEnv=a;function s(g){const v=c.call(this,g);if(v)return v;const y=(0,r.getFullPath)(this.opts.uriResolver,g.root.baseId),{es5:b,lines:w}=this.opts.code,{ownProperties:x}=this.opts,S=new t.CodeGen(this.scope,{es5:b,lines:w,ownProperties:x});let _;g.$async&&(_=S.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const k=S.scopeName("validate");g.validateName=k;const C={gen:S,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:S.scopeValue("schema",this.opts.code.source===!0?{ref:g.schema,code:(0,t.stringify)(g.schema)}:{ref:g.schema}),validateName:k,ValidationError:_,schema:g.schema,schemaEnv:g,rootId:y,baseId:g.baseId||y,schemaPath:t.nil,errSchemaPath:g.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let E;try{this._compilations.add(g),(0,o.validateFunctionCode)(C),S.optimize(this.opts.code.optimize);const M=S.toString();E=`${S.scopeRefs(n.default.scope)}return ${M}`,this.opts.code.process&&(E=this.opts.code.process(E,g));const N=new Function(`${n.default.self}`,`${n.default.scope}`,E)(this,this.scope.get());if(this.scope.value(k,{ref:N}),N.errors=null,N.schema=g.schema,N.schemaEnv=g,g.$async&&(N.$async=!0),this.opts.code.source===!0&&(N.source={validateName:k,validateCode:M,scopeValues:S._values}),this.opts.unevaluated){const{props:T,items:I}=C;N.evaluated={props:T instanceof t.Name?void 0:T,items:I instanceof t.Name?void 0:I,dynamicProps:T instanceof t.Name,dynamicItems:I instanceof t.Name},N.source&&(N.source.evaluated=(0,t.stringify)(N.evaluated))}return g.validate=N,g}catch(M){throw delete g.validate,delete g.validateName,E&&this.logger.error("Error compiling schema, function code:",E),M}finally{this._compilations.delete(g)}}nl.compileSchema=s;function l(g,v,y){var b;y=(0,r.resolveUrl)(this.opts.uriResolver,v,y);const w=g.refs[y];if(w)return w;let x=d.call(this,g,y);if(x===void 0){const S=(b=g.localRefs)===null||b===void 0?void 0:b[y],{schemaId:_}=this.opts;S&&(x=new a({schema:S,schemaId:_,root:g,baseId:v}))}if(x!==void 0)return g.refs[y]=u.call(this,x)}nl.resolveRef=l;function u(g){return(0,r.inlineRef)(g.schema,this.opts.inlineRefs)?g.schema:g.validate?g:s.call(this,g)}function c(g){for(const v of this._compilations)if(f(v,g))return v}nl.getCompilingSchema=c;function f(g,v){return g.schema===v.schema&&g.root===v.root&&g.baseId===v.baseId}function d(g,v){let y;for(;typeof(y=this.refs[v])=="string";)v=y;return y||this.schemas[v]||h.call(this,g,v)}function h(g,v){const y=this.opts.uriResolver.parse(v),b=(0,r._getFullPath)(this.opts.uriResolver,y);let w=(0,r.getFullPath)(this.opts.uriResolver,g.baseId,void 0);if(Object.keys(g.schema).length>0&&b===w)return m.call(this,y,g);const x=(0,r.normalizeId)(b),S=this.refs[x]||this.schemas[x];if(typeof S=="string"){const _=h.call(this,g,S);return typeof _?.schema!="object"?void 0:m.call(this,y,_)}if(typeof S?.schema=="object"){if(S.validate||s.call(this,S),x===(0,r.normalizeId)(v)){const{schema:_}=S,{schemaId:k}=this.opts,C=_[k];return C&&(w=(0,r.resolveUrl)(this.opts.uriResolver,w,C)),new a({schema:_,schemaId:k,root:g,baseId:w})}return m.call(this,y,S)}}nl.resolveSchema=h;const p=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(g,{baseId:v,schema:y,root:b}){var w;if(((w=g.fragment)===null||w===void 0?void 0:w[0])!=="/")return;for(const _ of g.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const k=y[(0,i.unescapeFragment)(_)];if(k===void 0)return;y=k;const C=typeof y=="object"&&y[this.opts.schemaId];!p.has(_)&&C&&(v=(0,r.resolveUrl)(this.opts.uriResolver,v,C))}let x;if(typeof y!="boolean"&&y.$ref&&!(0,i.schemaHasRulesButRef)(y,this.RULES)){const _=(0,r.resolveUrl)(this.opts.uriResolver,v,y.$ref);x=h.call(this,b,_)}const{schemaId:S}=this.opts;if(x=x||new a({schema:y,schemaId:S,root:b,baseId:v}),x.schema!==x.root.schema)return x}return nl}const gZe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",vZe="Meta-schema for $data reference (JSON AnySchema extension proposal)",yZe="object",bZe=["$data"],wZe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},xZe=!1,SZe={$id:gZe,description:vZe,type:yZe,required:bZe,properties:wZe,additionalProperties:xZe};var Hx={},sb={exports:{}},RA,xK;function _Ze(){return xK||(xK=1,RA={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),RA}var FA,SK;function CZe(){if(SK)return FA;SK=1;const{HEX:t}=_Ze(),e=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function n(m){if(s(m,".")<3)return{host:m,isIPV4:!1};const g=m.match(e)||[],[v]=g;return v?{host:a(v,"."),isIPV4:!0}:{host:m,isIPV4:!1}}function r(m,g=!1){let v="",y=!0;for(const b of m){if(t[b]===void 0)return;b!=="0"&&y===!0&&(y=!1),y||(v+=b)}return g&&v.length===0&&(v="0"),v}function i(m){let g=0;const v={error:!1,address:"",zone:""},y=[],b=[];let w=!1,x=!1,S=!1;function _(){if(b.length){if(w===!1){const k=r(b);if(k!==void 0)y.push(k);else return v.error=!0,!1}b.length=0}return!0}for(let k=0;k<m.length;k++){const C=m[k];if(!(C==="["||C==="]"))if(C===":"){if(x===!0&&(S=!0),!_())break;if(g++,y.push(":"),g>7){v.error=!0;break}k-1>=0&&m[k-1]===":"&&(x=!0);continue}else if(C==="%"){if(!_())break;w=!0}else{b.push(C);continue}}return b.length&&(w?v.zone=b.join(""):S?y.push(b.join("")):y.push(r(b))),v.address=y.join(""),v}function o(m){if(s(m,":")<2)return{host:m,isIPV6:!1};const g=i(m);if(g.error)return{host:m,isIPV6:!1};{let v=g.address,y=g.address;return g.zone&&(v+="%"+g.zone,y+="%25"+g.zone),{host:v,escapedHost:y,isIPV6:!0}}}function a(m,g){let v="",y=!0;const b=m.length;for(let w=0;w<b;w++){const x=m[w];x==="0"&&y?(w+1<=b&&m[w+1]===g||w+1===b)&&(v+=x,y=!1):(x===g?y=!0:y=!1,v+=x)}return v}function s(m,g){let v=0;for(let y=0;y<m.length;y++)m[y]===g&&v++;return v}const l=/^\.\.?\//u,u=/^\/\.(?:\/|$)/u,c=/^\/\.\.(?:\/|$)/u,f=/^\/?(?:.|\n)*?(?=\/|$)/u;function d(m){const g=[];for(;m.length;)if(m.match(l))m=m.replace(l,"");else if(m.match(u))m=m.replace(u,"/");else if(m.match(c))m=m.replace(c,"/"),g.pop();else if(m==="."||m==="..")m="";else{const v=m.match(f);if(v){const y=v[0];m=m.slice(y.length),g.push(y)}else throw new Error("Unexpected dot segment condition")}return g.join("")}function h(m,g){const v=g!==!0?escape:unescape;return m.scheme!==void 0&&(m.scheme=v(m.scheme)),m.userinfo!==void 0&&(m.userinfo=v(m.userinfo)),m.host!==void 0&&(m.host=v(m.host)),m.path!==void 0&&(m.path=v(m.path)),m.query!==void 0&&(m.query=v(m.query)),m.fragment!==void 0&&(m.fragment=v(m.fragment)),m}function p(m){const g=[];if(m.userinfo!==void 0&&(g.push(m.userinfo),g.push("@")),m.host!==void 0){let v=unescape(m.host);const y=n(v);if(y.isIPV4)v=y.host;else{const b=o(y.host);b.isIPV6===!0?v=`[${b.escapedHost}]`:v=m.host}g.push(v)}return(typeof m.port=="number"||typeof m.port=="string")&&(g.push(":"),g.push(String(m.port))),g.length?g.join(""):void 0}return FA={recomposeAuthority:p,normalizeComponentEncoding:h,removeDotSegments:d,normalizeIPv4:n,normalizeIPv6:o,stringArrayToHexStripped:r},FA}var LA,_K;function kZe(){if(_K)return LA;_K=1;const t=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function n(y){return typeof y.secure=="boolean"?y.secure:String(y.scheme).toLowerCase()==="wss"}function r(y){return y.host||(y.error=y.error||"HTTP URIs must have a host."),y}function i(y){const b=String(y.scheme).toLowerCase()==="https";return(y.port===(b?443:80)||y.port==="")&&(y.port=void 0),y.path||(y.path="/"),y}function o(y){return y.secure=n(y),y.resourceName=(y.path||"/")+(y.query?"?"+y.query:""),y.path=void 0,y.query=void 0,y}function a(y){if((y.port===(n(y)?443:80)||y.port==="")&&(y.port=void 0),typeof y.secure=="boolean"&&(y.scheme=y.secure?"wss":"ws",y.secure=void 0),y.resourceName){const[b,w]=y.resourceName.split("?");y.path=b&&b!=="/"?b:void 0,y.query=w,y.resourceName=void 0}return y.fragment=void 0,y}function s(y,b){if(!y.path)return y.error="URN can not be parsed",y;const w=y.path.match(e);if(w){const x=b.scheme||y.scheme||"urn";y.nid=w[1].toLowerCase(),y.nss=w[2];const S=`${x}:${b.nid||y.nid}`,_=v[S];y.path=void 0,_&&(y=_.parse(y,b))}else y.error=y.error||"URN can not be parsed.";return y}function l(y,b){const w=b.scheme||y.scheme||"urn",x=y.nid.toLowerCase(),S=`${w}:${b.nid||x}`,_=v[S];_&&(y=_.serialize(y,b));const k=y,C=y.nss;return k.path=`${x||b.nid}:${C}`,b.skipEscape=!0,k}function u(y,b){const w=y;return w.uuid=w.nss,w.nss=void 0,!b.tolerant&&(!w.uuid||!t.test(w.uuid))&&(w.error=w.error||"UUID is not valid."),w}function c(y){const b=y;return b.nss=(y.uuid||"").toLowerCase(),b}const f={scheme:"http",domainHost:!0,parse:r,serialize:i},d={scheme:"https",domainHost:f.domainHost,parse:r,serialize:i},h={scheme:"ws",domainHost:!0,parse:o,serialize:a},p={scheme:"wss",domainHost:h.domainHost,parse:h.parse,serialize:h.serialize},v={http:f,https:d,ws:h,wss:p,urn:{scheme:"urn",parse:s,serialize:l,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:u,serialize:c,skipNormalize:!0}};return LA=v,LA}var CK;function EZe(){if(CK)return sb.exports;CK=1;const{normalizeIPv6:t,normalizeIPv4:e,removeDotSegments:n,recomposeAuthority:r,normalizeComponentEncoding:i}=CZe(),o=kZe();function a(g,v){return typeof g=="string"?g=c(p(g,v),v):typeof g=="object"&&(g=p(c(g,v),v)),g}function s(g,v,y){const b=Object.assign({scheme:"null"},y),w=l(p(g,b),p(v,b),b,!0);return c(w,{...b,skipEscape:!0})}function l(g,v,y,b){const w={};return b||(g=p(c(g,y),y),v=p(c(v,y),y)),y=y||{},!y.tolerant&&v.scheme?(w.scheme=v.scheme,w.userinfo=v.userinfo,w.host=v.host,w.port=v.port,w.path=n(v.path||""),w.query=v.query):(v.userinfo!==void 0||v.host!==void 0||v.port!==void 0?(w.userinfo=v.userinfo,w.host=v.host,w.port=v.port,w.path=n(v.path||""),w.query=v.query):(v.path?(v.path.charAt(0)==="/"?w.path=n(v.path):((g.userinfo!==void 0||g.host!==void 0||g.port!==void 0)&&!g.path?w.path="/"+v.path:g.path?w.path=g.path.slice(0,g.path.lastIndexOf("/")+1)+v.path:w.path=v.path,w.path=n(w.path)),w.query=v.query):(w.path=g.path,v.query!==void 0?w.query=v.query:w.query=g.query),w.userinfo=g.userinfo,w.host=g.host,w.port=g.port),w.scheme=g.scheme),w.fragment=v.fragment,w}function u(g,v,y){return typeof g=="string"?(g=unescape(g),g=c(i(p(g,y),!0),{...y,skipEscape:!0})):typeof g=="object"&&(g=c(i(g,!0),{...y,skipEscape:!0})),typeof v=="string"?(v=unescape(v),v=c(i(p(v,y),!0),{...y,skipEscape:!0})):typeof v=="object"&&(v=c(i(v,!0),{...y,skipEscape:!0})),g.toLowerCase()===v.toLowerCase()}function c(g,v){const y={host:g.host,scheme:g.scheme,userinfo:g.userinfo,port:g.port,path:g.path,query:g.query,nid:g.nid,nss:g.nss,uuid:g.uuid,fragment:g.fragment,reference:g.reference,resourceName:g.resourceName,secure:g.secure,error:""},b=Object.assign({},v),w=[],x=o[(b.scheme||y.scheme||"").toLowerCase()];x&&x.serialize&&x.serialize(y,b),y.path!==void 0&&(b.skipEscape?y.path=unescape(y.path):(y.path=escape(y.path),y.scheme!==void 0&&(y.path=y.path.split("%3A").join(":")))),b.reference!=="suffix"&&y.scheme&&w.push(y.scheme,":");const S=r(y);if(S!==void 0&&(b.reference!=="suffix"&&w.push("//"),w.push(S),y.path&&y.path.charAt(0)!=="/"&&w.push("/")),y.path!==void 0){let _=y.path;!b.absolutePath&&(!x||!x.absolutePath)&&(_=n(_)),S===void 0&&(_=_.replace(/^\/\//u,"/%2F")),w.push(_)}return y.query!==void 0&&w.push("?",y.query),y.fragment!==void 0&&w.push("#",y.fragment),w.join("")}const f=Array.from({length:127},(g,v)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(v)));function d(g){let v=0;for(let y=0,b=g.length;y<b;++y)if(v=g.charCodeAt(y),v>126||f[v])return!0;return!1}const h=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p(g,v){const y=Object.assign({},v),b={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},w=g.indexOf("%")!==-1;let x=!1;y.reference==="suffix"&&(g=(y.scheme?y.scheme+":":"")+"//"+g);const S=g.match(h);if(S){if(b.scheme=S[1],b.userinfo=S[3],b.host=S[4],b.port=parseInt(S[5],10),b.path=S[6]||"",b.query=S[7],b.fragment=S[8],isNaN(b.port)&&(b.port=S[5]),b.host){const k=e(b.host);if(k.isIPV4===!1){const C=t(k.host);b.host=C.host.toLowerCase(),x=C.isIPV6}else b.host=k.host,x=!0}b.scheme===void 0&&b.userinfo===void 0&&b.host===void 0&&b.port===void 0&&b.query===void 0&&!b.path?b.reference="same-document":b.scheme===void 0?b.reference="relative":b.fragment===void 0?b.reference="absolute":b.reference="uri",y.reference&&y.reference!=="suffix"&&y.reference!==b.reference&&(b.error=b.error||"URI is not a "+y.reference+" reference.");const _=o[(y.scheme||b.scheme||"").toLowerCase()];if(!y.unicodeSupport&&(!_||!_.unicodeSupport)&&b.host&&(y.domainHost||_&&_.domainHost)&&x===!1&&d(b.host))try{b.host=URL.domainToASCII(b.host.toLowerCase())}catch(k){b.error=b.error||"Host's domain name can not be converted to ASCII: "+k}(!_||_&&!_.skipNormalize)&&(w&&b.scheme!==void 0&&(b.scheme=unescape(b.scheme)),w&&b.host!==void 0&&(b.host=unescape(b.host)),b.path&&(b.path=escape(unescape(b.path))),b.fragment&&(b.fragment=encodeURI(decodeURIComponent(b.fragment)))),_&&_.parse&&_.parse(b,y)}else b.error=b.error||"URI can not be parsed.";return b}const m={SCHEMES:o,normalize:a,resolve:s,resolveComponents:l,equal:u,serialize:c,parse:p};return sb.exports=m,sb.exports.default=m,sb.exports.fastUri=m,sb.exports}var kK;function AZe(){if(kK)return Hx;kK=1,Object.defineProperty(Hx,"__esModule",{value:!0});const t=EZe();return t.code='require("ajv/dist/runtime/uri").default',Hx.default=t,Hx}var EK;function TZe(){return EK||(EK=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Pk();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=jn();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=$R(),i=Rk(),o=eme(),a=BR(),s=jn(),l=Ik(),u=hC(),c=sr(),f=SZe,d=AZe(),h=(R,B)=>new RegExp(R,B);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function b(R){var B,z,P,$,X,K,Z,te,J,fe,ue,de,ee,D,oe,W,V,F,j,se,pe,ae,H,Q,ie;const ce=R.strict,ve=(B=R.code)===null||B===void 0?void 0:B.optimize,Te=ve===!0||ve===void 0?1:ve||0,be=(P=(z=R.code)===null||z===void 0?void 0:z.regExp)!==null&&P!==void 0?P:h,_e=($=R.uriResolver)!==null&&$!==void 0?$:d.default;return{strictSchema:(K=(X=R.strictSchema)!==null&&X!==void 0?X:ce)!==null&&K!==void 0?K:!0,strictNumbers:(te=(Z=R.strictNumbers)!==null&&Z!==void 0?Z:ce)!==null&&te!==void 0?te:!0,strictTypes:(fe=(J=R.strictTypes)!==null&&J!==void 0?J:ce)!==null&&fe!==void 0?fe:"log",strictTuples:(de=(ue=R.strictTuples)!==null&&ue!==void 0?ue:ce)!==null&&de!==void 0?de:"log",strictRequired:(D=(ee=R.strictRequired)!==null&&ee!==void 0?ee:ce)!==null&&D!==void 0?D:!1,code:R.code?{...R.code,optimize:Te,regExp:be}:{optimize:Te,regExp:be},loopRequired:(oe=R.loopRequired)!==null&&oe!==void 0?oe:y,loopEnum:(W=R.loopEnum)!==null&&W!==void 0?W:y,meta:(V=R.meta)!==null&&V!==void 0?V:!0,messages:(F=R.messages)!==null&&F!==void 0?F:!0,inlineRefs:(j=R.inlineRefs)!==null&&j!==void 0?j:!0,schemaId:(se=R.schemaId)!==null&&se!==void 0?se:"$id",addUsedSchema:(pe=R.addUsedSchema)!==null&&pe!==void 0?pe:!0,validateSchema:(ae=R.validateSchema)!==null&&ae!==void 0?ae:!0,validateFormats:(H=R.validateFormats)!==null&&H!==void 0?H:!0,unicodeRegExp:(Q=R.unicodeRegExp)!==null&&Q!==void 0?Q:!0,int32range:(ie=R.int32range)!==null&&ie!==void 0?ie:!0,uriResolver:_e}}class w{constructor(B={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,B=this.opts={...B,...b(B)};const{es5:z,lines:P}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:m,es5:z,lines:P}),this.logger=A(B.logger);const $=B.validateFormats;B.validateFormats=!1,this.RULES=(0,o.getRules)(),x.call(this,g,B,"NOT SUPPORTED"),x.call(this,v,B,"DEPRECATED","warn"),this._metaOpts=E.call(this),B.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),B.keywords&&C.call(this,B.keywords),typeof B.meta=="object"&&this.addMetaSchema(B.meta),_.call(this),B.validateFormats=$}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:B,meta:z,schemaId:P}=this.opts;let $=f;P==="id"&&($={...f},$.id=$.$id,delete $.$id),z&&B&&this.addMetaSchema($,$[P],!1)}defaultMeta(){const{meta:B,schemaId:z}=this.opts;return this.opts.defaultMeta=typeof B=="object"?B[z]||B:void 0}validate(B,z){let P;if(typeof B=="string"){if(P=this.getSchema(B),!P)throw new Error(`no schema with key or ref "${B}"`)}else P=this.compile(B);const $=P(z);return"$async"in P||(this.errors=P.errors),$}compile(B,z){const P=this._addSchema(B,z);return P.validate||this._compileSchemaEnv(P)}compileAsync(B,z){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:P}=this.opts;return $.call(this,B,z);async function $(fe,ue){await X.call(this,fe.$schema);const de=this._addSchema(fe,ue);return de.validate||K.call(this,de)}async function X(fe){fe&&!this.getSchema(fe)&&await $.call(this,{$ref:fe},!0)}async function K(fe){try{return this._compileSchemaEnv(fe)}catch(ue){if(!(ue instanceof i.default))throw ue;return Z.call(this,ue),await te.call(this,ue.missingSchema),K.call(this,fe)}}function Z({missingSchema:fe,missingRef:ue}){if(this.refs[fe])throw new Error(`AnySchema ${fe} is loaded but ${ue} cannot be resolved`)}async function te(fe){const ue=await J.call(this,fe);this.refs[fe]||await X.call(this,ue.$schema),this.refs[fe]||this.addSchema(ue,fe,z)}async function J(fe){const ue=this._loading[fe];if(ue)return ue;try{return await(this._loading[fe]=P(fe))}finally{delete this._loading[fe]}}}addSchema(B,z,P,$=this.opts.validateSchema){if(Array.isArray(B)){for(const K of B)this.addSchema(K,void 0,P,$);return this}let X;if(typeof B=="object"){const{schemaId:K}=this.opts;if(X=B[K],X!==void 0&&typeof X!="string")throw new Error(`schema ${K} must be string`)}return z=(0,l.normalizeId)(z||X),this._checkUnique(z),this.schemas[z]=this._addSchema(B,P,z,$,!0),this}addMetaSchema(B,z,P=this.opts.validateSchema){return this.addSchema(B,z,!0,P),this}validateSchema(B,z){if(typeof B=="boolean")return!0;let P;if(P=B.$schema,P!==void 0&&typeof P!="string")throw new Error("$schema must be a string");if(P=P||this.opts.defaultMeta||this.defaultMeta(),!P)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const $=this.validate(P,B);if(!$&&z){const X="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(X);else throw new Error(X)}return $}getSchema(B){let z;for(;typeof(z=S.call(this,B))=="string";)B=z;if(z===void 0){const{schemaId:P}=this.opts,$=new a.SchemaEnv({schema:{},schemaId:P});if(z=a.resolveSchema.call(this,$,B),!z)return;this.refs[B]=z}return z.validate||this._compileSchemaEnv(z)}removeSchema(B){if(B instanceof RegExp)return this._removeAllSchemas(this.schemas,B),this._removeAllSchemas(this.refs,B),this;switch(typeof B){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const z=S.call(this,B);return typeof z=="object"&&this._cache.delete(z.schema),delete this.schemas[B],delete this.refs[B],this}case"object":{const z=B;this._cache.delete(z);let P=B[this.opts.schemaId];return P&&(P=(0,l.normalizeId)(P),delete this.schemas[P],delete this.refs[P]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(B){for(const z of B)this.addKeyword(z);return this}addKeyword(B,z){let P;if(typeof B=="string")P=B,typeof z=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),z.keyword=P);else if(typeof B=="object"&&z===void 0){if(z=B,P=z.keyword,Array.isArray(P)&&!P.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(T.call(this,P,z),!z)return(0,c.eachItem)(P,X=>I.call(this,X)),this;q.call(this,z);const $={...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)};return(0,c.eachItem)(P,$.type.length===0?X=>I.call(this,X,$):X=>$.type.forEach(K=>I.call(this,X,$,K))),this}getKeyword(B){const z=this.RULES.all[B];return typeof z=="object"?z.definition:!!z}removeKeyword(B){const{RULES:z}=this;delete z.keywords[B],delete z.all[B];for(const P of z.rules){const $=P.rules.findIndex(X=>X.keyword===B);$>=0&&P.rules.splice($,1)}return this}addFormat(B,z){return typeof z=="string"&&(z=new RegExp(z)),this.formats[B]=z,this}errorsText(B=this.errors,{separator:z=", ",dataVar:P="data"}={}){return!B||B.length===0?"No errors":B.map($=>`${P}${$.instancePath} ${$.message}`).reduce(($,X)=>$+z+X)}$dataMetaSchema(B,z){const P=this.RULES.all;B=JSON.parse(JSON.stringify(B));for(const $ of z){const X=$.split("/").slice(1);let K=B;for(const Z of X)K=K[Z];for(const Z in P){const te=P[Z];if(typeof te!="object")continue;const{$data:J}=te.definition,fe=K[Z];J&&fe&&(K[Z]=Y(fe))}}return B}_removeAllSchemas(B,z){for(const P in B){const $=B[P];(!z||z.test(P))&&(typeof $=="string"?delete B[P]:$&&!$.meta&&(this._cache.delete($.schema),delete B[P]))}}_addSchema(B,z,P,$=this.opts.validateSchema,X=this.opts.addUsedSchema){let K;const{schemaId:Z}=this.opts;if(typeof B=="object")K=B[Z];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof B!="boolean")throw new Error("schema must be object or boolean")}let te=this._cache.get(B);if(te!==void 0)return te;P=(0,l.normalizeId)(K||P);const J=l.getSchemaRefs.call(this,B,P);return te=new a.SchemaEnv({schema:B,schemaId:Z,meta:z,baseId:P,localRefs:J}),this._cache.set(te.schema,te),X&&!P.startsWith("#")&&(P&&this._checkUnique(P),this.refs[P]=te),$&&this.validateSchema(B,!0),te}_checkUnique(B){if(this.schemas[B]||this.refs[B])throw new Error(`schema with key or id "${B}" already exists`)}_compileSchemaEnv(B){if(B.meta?this._compileMetaSchema(B):a.compileSchema.call(this,B),!B.validate)throw new Error("ajv implementation error");return B.validate}_compileMetaSchema(B){const z=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,B)}finally{this.opts=z}}}w.ValidationError=r.default,w.MissingRefError=i.default,t.default=w;function x(R,B,z,P="error"){for(const $ in R){const X=$;X in B&&this.logger[P](`${z}: option ${$}. ${R[X]}`)}}function S(R){return R=(0,l.normalizeId)(R),this.schemas[R]||this.refs[R]}function _(){const R=this.opts.schemas;if(R)if(Array.isArray(R))this.addSchema(R);else for(const B in R)this.addSchema(R[B],B)}function k(){for(const R in this.opts.formats){const B=this.opts.formats[R];B&&this.addFormat(R,B)}}function C(R){if(Array.isArray(R)){this.addVocabulary(R);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in R){const z=R[B];z.keyword||(z.keyword=B),this.addKeyword(z)}}function E(){const R={...this.opts};for(const B of p)delete R[B];return R}const M={log(){},warn(){},error(){}};function A(R){if(R===!1)return M;if(R===void 0)return console;if(R.log&&R.warn&&R.error)return R;throw new Error("logger must implement log, warn and error methods")}const N=/^[a-z_$][a-z0-9_$:-]*$/i;function T(R,B){const{RULES:z}=this;if((0,c.eachItem)(R,P=>{if(z.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!N.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function I(R,B,z){var P;const $=B?.post;if(z&&$)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:X}=this;let K=$?X.post:X.rules.find(({type:te})=>te===z);if(K||(K={type:z,rules:[]},X.rules.push(K)),X.keywords[R]=!0,!B)return;const Z={keyword:R,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?O.call(this,K,Z,B.before):K.rules.push(Z),X.all[R]=Z,(P=B.implements)===null||P===void 0||P.forEach(te=>this.addKeyword(te))}function O(R,B,z){const P=R.rules.findIndex($=>$.keyword===z);P>=0?R.rules.splice(P,0,B):(R.rules.push(B),this.logger.warn(`rule ${z} is not defined`))}function q(R){let{metaSchema:B}=R;B!==void 0&&(R.$data&&this.opts.$data&&(B=Y(B)),R.validateSchema=this.compile(B,!0))}const L={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Y(R){return{anyOf:[R,L]}}}(TA)),TA}var Ux={},jx={},Wx={},AK;function MZe(){if(AK)return Wx;AK=1,Object.defineProperty(Wx,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Wx.default=t,Wx}var Sh={},TK;function DZe(){if(TK)return Sh;TK=1,Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.callRef=Sh.getValidate=void 0;const t=Rk(),e=pc(),n=jn(),r=hp(),i=BR(),o=sr(),a={keyword:"$ref",schemaType:"string",code(u){const{gen:c,schema:f,it:d}=u,{baseId:h,schemaEnv:p,validateName:m,opts:g,self:v}=d,{root:y}=p;if((f==="#"||f==="#/")&&h===y.baseId)return w();const b=i.resolveRef.call(v,y,h,f);if(b===void 0)throw new t.default(d.opts.uriResolver,h,f);if(b instanceof i.SchemaEnv)return x(b);return S(b);function w(){if(p===y)return l(u,m,p,p.$async);const _=c.scopeValue("root",{ref:y});return l(u,(0,n._)`${_}.validate`,y,y.$async)}function x(_){const k=s(u,_);l(u,k,_,_.$async)}function S(_){const k=c.scopeValue("schema",g.code.source===!0?{ref:_,code:(0,n.stringify)(_)}:{ref:_}),C=c.name("valid"),E=u.subschema({schema:_,dataTypes:[],schemaPath:n.nil,topSchemaRef:k,errSchemaPath:f},C);u.mergeEvaluated(E),u.ok(C)}}};function s(u,c){const{gen:f}=u;return c.validate?f.scopeValue("validate",{ref:c.validate}):(0,n._)`${f.scopeValue("wrapper",{ref:c})}.validate`}Sh.getValidate=s;function l(u,c,f,d){const{gen:h,it:p}=u,{allErrors:m,schemaEnv:g,opts:v}=p,y=v.passContext?r.default.this:n.nil;d?b():w();function b(){if(!g.$async)throw new Error("async schema referenced by sync schema");const _=h.let("valid");h.try(()=>{h.code((0,n._)`await ${(0,e.callValidateCode)(u,c,y)}`),S(c),m||h.assign(_,!0)},k=>{h.if((0,n._)`!(${k} instanceof ${p.ValidationError})`,()=>h.throw(k)),x(k),m||h.assign(_,!1)}),u.ok(_)}function w(){u.result((0,e.callValidateCode)(u,c,y),()=>S(c),()=>x(c))}function x(_){const k=(0,n._)`${_}.errors`;h.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${k} : ${r.default.vErrors}.concat(${k})`),h.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function S(_){var k;if(!p.opts.unevaluated)return;const C=(k=f?.validate)===null||k===void 0?void 0:k.evaluated;if(p.props!==!0)if(C&&!C.dynamicProps)C.props!==void 0&&(p.props=o.mergeEvaluated.props(h,C.props,p.props));else{const E=h.var("props",(0,n._)`${_}.evaluated.props`);p.props=o.mergeEvaluated.props(h,E,p.props,n.Name)}if(p.items!==!0)if(C&&!C.dynamicItems)C.items!==void 0&&(p.items=o.mergeEvaluated.items(h,C.items,p.items));else{const E=h.var("items",(0,n._)`${_}.evaluated.items`);p.items=o.mergeEvaluated.items(h,E,p.items,n.Name)}}}return Sh.callRef=l,Sh.default=a,Sh}var MK;function NZe(){if(MK)return jx;MK=1,Object.defineProperty(jx,"__esModule",{value:!0});const t=MZe(),e=DZe(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return jx.default=n,jx}var Gx={},Kx={},DK;function OZe(){if(DK)return Kx;DK=1,Object.defineProperty(Kx,"__esModule",{value:!0});const t=jn(),e=t.operators,n={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},r={message:({keyword:o,schemaCode:a})=>(0,t.str)`must be ${n[o].okStr} ${a}`,params:({keyword:o,schemaCode:a})=>(0,t._)`{comparison: ${n[o].okStr}, limit: ${a}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(o){const{keyword:a,data:s,schemaCode:l}=o;o.fail$data((0,t._)`${s} ${n[a].fail} ${l} || isNaN(${s})`)}};return Kx.default=i,Kx}var Xx={},NK;function IZe(){if(NK)return Xx;NK=1,Object.defineProperty(Xx,"__esModule",{value:!0});const t=jn(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,t._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:o,schemaCode:a,it:s}=r,l=s.opts.multipleOfPrecision,u=i.let("res"),c=l?(0,t._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${l}`:(0,t._)`${u} !== parseInt(${u})`;r.fail$data((0,t._)`(${a} === 0 || (${u} = ${o}/${a}, ${c}))`)}};return Xx.default=n,Xx}var Yx={},Zx={},OK;function PZe(){if(OK)return Zx;OK=1,Object.defineProperty(Zx,"__esModule",{value:!0});function t(e){const n=e.length;let r=0,i=0,o;for(;i<n;)r++,o=e.charCodeAt(i++),o>=55296&&o<=56319&&i<n&&(o=e.charCodeAt(i),(o&64512)===56320&&i++);return r}return Zx.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',Zx}var IK;function RZe(){if(IK)return Yx;IK=1,Object.defineProperty(Yx,"__esModule",{value:!0});const t=jn(),e=sr(),n=PZe(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:o,schemaCode:a}){const s=o==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${a} characters`},params:({schemaCode:o})=>(0,t._)`{limit: ${o}}`},code(o){const{keyword:a,data:s,schemaCode:l,it:u}=o,c=a==="maxLength"?t.operators.GT:t.operators.LT,f=u.opts.unicode===!1?(0,t._)`${s}.length`:(0,t._)`${(0,e.useFunc)(o.gen,n.default)}(${s})`;o.fail$data((0,t._)`${f} ${c} ${l}`)}};return Yx.default=i,Yx}var Jx={},PK;function FZe(){if(PK)return Jx;PK=1,Object.defineProperty(Jx,"__esModule",{value:!0});const t=pc(),e=jn(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,e._)`{pattern: ${i}}`},code(i){const{data:o,$data:a,schema:s,schemaCode:l,it:u}=i,c=u.opts.unicodeRegExp?"u":"",f=a?(0,e._)`(new RegExp(${l}, ${c}))`:(0,t.usePattern)(i,s);i.fail$data((0,e._)`!${f}.test(${o})`)}};return Jx.default=r,Jx}var Qx={},RK;function LZe(){if(RK)return Qx;RK=1,Object.defineProperty(Qx,"__esModule",{value:!0});const t=jn(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const o=r==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${o} than ${i} properties`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:o,schemaCode:a}=r,s=i==="maxProperties"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`Object.keys(${o}).length ${s} ${a}`)}};return Qx.default=n,Qx}var e5={},FK;function $Ze(){if(FK)return e5;FK=1,Object.defineProperty(e5,"__esModule",{value:!0});const t=pc(),e=jn(),n=sr(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:o}})=>(0,e.str)`must have required property '${o}'`,params:({params:{missingProperty:o}})=>(0,e._)`{missingProperty: ${o}}`},code(o){const{gen:a,schema:s,schemaCode:l,data:u,$data:c,it:f}=o,{opts:d}=f;if(!c&&s.length===0)return;const h=s.length>=d.loopRequired;if(f.allErrors?p():m(),d.strictRequired){const y=o.parentSchema.properties,{definedProperties:b}=o.it;for(const w of s)if(y?.[w]===void 0&&!b.has(w)){const x=f.schemaEnv.baseId+f.errSchemaPath,S=`required property "${w}" is not defined at "${x}" (strictRequired)`;(0,n.checkStrictMode)(f,S,f.opts.strictRequired)}}function p(){if(h||c)o.block$data(e.nil,g);else for(const y of s)(0,t.checkReportMissingProp)(o,y)}function m(){const y=a.let("missing");if(h||c){const b=a.let("valid",!0);o.block$data(b,()=>v(y,b)),o.ok(b)}else a.if((0,t.checkMissingProp)(o,s,y)),(0,t.reportMissingProp)(o,y),a.else()}function g(){a.forOf("prop",l,y=>{o.setParams({missingProperty:y}),a.if((0,t.noPropertyInData)(a,u,y,d.ownProperties),()=>o.error())})}function v(y,b){o.setParams({missingProperty:y}),a.forOf(y,l,()=>{a.assign(b,(0,t.propertyInData)(a,u,y,d.ownProperties)),a.if((0,e.not)(b),()=>{o.error(),a.break()})},e.nil)}}};return e5.default=i,e5}var t5={},LK;function BZe(){if(LK)return t5;LK=1,Object.defineProperty(t5,"__esModule",{value:!0});const t=jn(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const o=r==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${o} than ${i} items`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:o,schemaCode:a}=r,s=i==="maxItems"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`${o}.length ${s} ${a}`)}};return t5.default=n,t5}var n5={},r5={},$K;function zR(){if($K)return r5;$K=1,Object.defineProperty(r5,"__esModule",{value:!0});const t=nme();return t.code='require("ajv/dist/runtime/equal").default',r5.default=t,r5}var BK;function zZe(){if(BK)return n5;BK=1,Object.defineProperty(n5,"__esModule",{value:!0});const t=hC(),e=jn(),n=sr(),r=zR(),o={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:s}})=>(0,e.str)`must NOT have duplicate items (items ## ${s} and ${a} are identical)`,params:({params:{i:a,j:s}})=>(0,e._)`{i: ${a}, j: ${s}}`},code(a){const{gen:s,data:l,$data:u,schema:c,parentSchema:f,schemaCode:d,it:h}=a;if(!u&&!c)return;const p=s.let("valid"),m=f.items?(0,t.getSchemaTypes)(f.items):[];a.block$data(p,g,(0,e._)`${d} === false`),a.ok(p);function g(){const w=s.let("i",(0,e._)`${l}.length`),x=s.let("j");a.setParams({i:w,j:x}),s.assign(p,!0),s.if((0,e._)`${w} > 1`,()=>(v()?y:b)(w,x))}function v(){return m.length>0&&!m.some(w=>w==="object"||w==="array")}function y(w,x){const S=s.name("item"),_=(0,t.checkDataTypes)(m,S,h.opts.strictNumbers,t.DataType.Wrong),k=s.const("indices",(0,e._)`{}`);s.for((0,e._)`;${w}--;`,()=>{s.let(S,(0,e._)`${l}[${w}]`),s.if(_,(0,e._)`continue`),m.length>1&&s.if((0,e._)`typeof ${S} == "string"`,(0,e._)`${S} += "_"`),s.if((0,e._)`typeof ${k}[${S}] == "number"`,()=>{s.assign(x,(0,e._)`${k}[${S}]`),a.error(),s.assign(p,!1).break()}).code((0,e._)`${k}[${S}] = ${w}`)})}function b(w,x){const S=(0,n.useFunc)(s,r.default),_=s.name("outer");s.label(_).for((0,e._)`;${w}--;`,()=>s.for((0,e._)`${x} = ${w}; ${x}--;`,()=>s.if((0,e._)`${S}(${l}[${w}], ${l}[${x}])`,()=>{a.error(),s.assign(p,!1).break(_)})))}}};return n5.default=o,n5}var i5={},zK;function qZe(){if(zK)return i5;zK=1,Object.defineProperty(i5,"__esModule",{value:!0});const t=jn(),e=sr(),n=zR(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:o})=>(0,t._)`{allowedValue: ${o}}`},code(o){const{gen:a,data:s,$data:l,schemaCode:u,schema:c}=o;l||c&&typeof c=="object"?o.fail$data((0,t._)`!${(0,e.useFunc)(a,n.default)}(${s}, ${u})`):o.fail((0,t._)`${c} !== ${s}`)}};return i5.default=i,i5}var o5={},qK;function VZe(){if(qK)return o5;qK=1,Object.defineProperty(o5,"__esModule",{value:!0});const t=jn(),e=sr(),n=zR(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:o})=>(0,t._)`{allowedValues: ${o}}`},code(o){const{gen:a,data:s,$data:l,schema:u,schemaCode:c,it:f}=o;if(!l&&u.length===0)throw new Error("enum must have non-empty array");const d=u.length>=f.opts.loopEnum;let h;const p=()=>h??(h=(0,e.useFunc)(a,n.default));let m;if(d||l)m=a.let("valid"),o.block$data(m,g);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const y=a.const("vSchema",c);m=(0,t.or)(...u.map((b,w)=>v(y,w)))}o.pass(m);function g(){a.assign(m,!1),a.forOf("v",c,y=>a.if((0,t._)`${p()}(${s}, ${y})`,()=>a.assign(m,!0).break()))}function v(y,b){const w=u[b];return typeof w=="object"&&w!==null?(0,t._)`${p()}(${s}, ${y}[${b}])`:(0,t._)`${s} === ${w}`}}};return o5.default=i,o5}var VK;function HZe(){if(VK)return Gx;VK=1,Object.defineProperty(Gx,"__esModule",{value:!0});const t=OZe(),e=IZe(),n=RZe(),r=FZe(),i=LZe(),o=$Ze(),a=BZe(),s=zZe(),l=qZe(),u=VZe(),c=[t.default,e.default,n.default,r.default,i.default,o.default,a.default,s.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,u.default];return Gx.default=c,Gx}var a5={},Z1={},HK;function rme(){if(HK)return Z1;HK=1,Object.defineProperty(Z1,"__esModule",{value:!0}),Z1.validateAdditionalItems=void 0;const t=jn(),e=sr(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,t.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,t._)`{limit: ${o}}`},code(o){const{parentSchema:a,it:s}=o,{items:l}=a;if(!Array.isArray(l)){(0,e.checkStrictMode)(s,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(o,l)}};function i(o,a){const{gen:s,schema:l,data:u,keyword:c,it:f}=o;f.items=!0;const d=s.const("len",(0,t._)`${u}.length`);if(l===!1)o.setParams({len:a.length}),o.pass((0,t._)`${d} <= ${a.length}`);else if(typeof l=="object"&&!(0,e.alwaysValidSchema)(f,l)){const p=s.var("valid",(0,t._)`${d} <= ${a.length}`);s.if((0,t.not)(p),()=>h(p)),o.ok(p)}function h(p){s.forRange("i",a.length,d,m=>{o.subschema({keyword:c,dataProp:m,dataPropType:e.Type.Num},p),f.allErrors||s.if((0,t.not)(p),()=>s.break())})}}return Z1.validateAdditionalItems=i,Z1.default=r,Z1}var s5={},J1={},UK;function ime(){if(UK)return J1;UK=1,Object.defineProperty(J1,"__esModule",{value:!0}),J1.validateTuple=void 0;const t=jn(),e=sr(),n=pc(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(o){const{schema:a,it:s}=o;if(Array.isArray(a))return i(o,"additionalItems",a);s.items=!0,!(0,e.alwaysValidSchema)(s,a)&&o.ok((0,n.validateArray)(o))}};function i(o,a,s=o.schema){const{gen:l,parentSchema:u,data:c,keyword:f,it:d}=o;m(u),d.opts.unevaluated&&s.length&&d.items!==!0&&(d.items=e.mergeEvaluated.items(l,s.length,d.items));const h=l.name("valid"),p=l.const("len",(0,t._)`${c}.length`);s.forEach((g,v)=>{(0,e.alwaysValidSchema)(d,g)||(l.if((0,t._)`${p} > ${v}`,()=>o.subschema({keyword:f,schemaProp:v,dataProp:v},h)),o.ok(h))});function m(g){const{opts:v,errSchemaPath:y}=d,b=s.length,w=b===g.minItems&&(b===g.maxItems||g[a]===!1);if(v.strictTuples&&!w){const x=`"${f}" is ${b}-tuple, but minItems or maxItems/${a} are not specified or different at path "${y}"`;(0,e.checkStrictMode)(d,x,v.strictTuples)}}}return J1.validateTuple=i,J1.default=r,J1}var jK;function UZe(){if(jK)return s5;jK=1,Object.defineProperty(s5,"__esModule",{value:!0});const t=ime(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};return s5.default=e,s5}var l5={},WK;function jZe(){if(WK)return l5;WK=1,Object.defineProperty(l5,"__esModule",{value:!0});const t=jn(),e=sr(),n=pc(),r=rme(),o={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},code(a){const{schema:s,parentSchema:l,it:u}=a,{prefixItems:c}=l;u.items=!0,!(0,e.alwaysValidSchema)(u,s)&&(c?(0,r.validateAdditionalItems)(a,c):a.ok((0,n.validateArray)(a)))}};return l5.default=o,l5}var u5={},GK;function WZe(){if(GK)return u5;GK=1,Object.defineProperty(u5,"__esModule",{value:!0});const t=jn(),e=sr(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:o}})=>o===void 0?(0,t.str)`must contain at least ${i} valid item(s)`:(0,t.str)`must contain at least ${i} and no more than ${o} valid item(s)`,params:({params:{min:i,max:o}})=>o===void 0?(0,t._)`{minContains: ${i}}`:(0,t._)`{minContains: ${i}, maxContains: ${o}}`},code(i){const{gen:o,schema:a,parentSchema:s,data:l,it:u}=i;let c,f;const{minContains:d,maxContains:h}=s;u.opts.next?(c=d===void 0?1:d,f=h):c=1;const p=o.const("len",(0,t._)`${l}.length`);if(i.setParams({min:c,max:f}),f===void 0&&c===0){(0,e.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&c>f){(0,e.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,e.alwaysValidSchema)(u,a)){let b=(0,t._)`${p} >= ${c}`;f!==void 0&&(b=(0,t._)`${b} && ${p} <= ${f}`),i.pass(b);return}u.items=!0;const m=o.name("valid");f===void 0&&c===1?v(m,()=>o.if(m,()=>o.break())):c===0?(o.let(m,!0),f!==void 0&&o.if((0,t._)`${l}.length > 0`,g)):(o.let(m,!1),g()),i.result(m,()=>i.reset());function g(){const b=o.name("_valid"),w=o.let("count",0);v(b,()=>o.if(b,()=>y(w)))}function v(b,w){o.forRange("i",0,p,x=>{i.subschema({keyword:"contains",dataProp:x,dataPropType:e.Type.Num,compositeRule:!0},b),w()})}function y(b){o.code((0,t._)`${b}++`),f===void 0?o.if((0,t._)`${b} >= ${c}`,()=>o.assign(m,!0).break()):(o.if((0,t._)`${b} > ${f}`,()=>o.assign(m,!1).break()),c===1?o.assign(m,!0):o.if((0,t._)`${b} >= ${c}`,()=>o.assign(m,!0)))}}};return u5.default=r,u5}var $A={},KK;function GZe(){return KK||(KK=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=jn(),n=sr(),r=pc();t.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const f=u===1?"property":"properties";return(0,e.str)`must have ${f} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:f}})=>(0,e._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[u,c]=o(l);a(l,u),s(l,c)}};function o({schema:l}){const u={},c={};for(const f in l){if(f==="__proto__")continue;const d=Array.isArray(l[f])?u:c;d[f]=l[f]}return[u,c]}function a(l,u=l.schema){const{gen:c,data:f,it:d}=l;if(Object.keys(u).length===0)return;const h=c.let("missing");for(const p in u){const m=u[p];if(m.length===0)continue;const g=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);l.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),d.allErrors?c.if(g,()=>{for(const v of m)(0,r.checkReportMissingProp)(l,v)}):(c.if((0,e._)`${g} && (${(0,r.checkMissingProp)(l,m,h)})`),(0,r.reportMissingProp)(l,h),c.else())}}t.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:c,data:f,keyword:d,it:h}=l,p=c.name("valid");for(const m in u)(0,n.alwaysValidSchema)(h,u[m])||(c.if((0,r.propertyInData)(c,f,m,h.opts.ownProperties),()=>{const g=l.subschema({keyword:d,schemaProp:m},p);l.mergeValidEvaluated(g,p)},()=>c.var(p,!0)),l.ok(p))}t.validateSchemaDeps=s,t.default=i}($A)),$A}var c5={},XK;function KZe(){if(XK)return c5;XK=1,Object.defineProperty(c5,"__esModule",{value:!0});const t=jn(),e=sr(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,t._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:o,schema:a,data:s,it:l}=i;if((0,e.alwaysValidSchema)(l,a))return;const u=o.name("valid");o.forIn("key",s,c=>{i.setParams({propertyName:c}),i.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},u),o.if((0,t.not)(u),()=>{i.error(!0),l.allErrors||o.break()})}),i.ok(u)}};return c5.default=r,c5}var f5={},YK;function ome(){if(YK)return f5;YK=1,Object.defineProperty(f5,"__esModule",{value:!0});const t=pc(),e=jn(),n=hp(),r=sr(),o={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,e._)`{additionalProperty: ${a.additionalProperty}}`},code(a){const{gen:s,schema:l,parentSchema:u,data:c,errsCount:f,it:d}=a;if(!f)throw new Error("ajv implementation error");const{allErrors:h,opts:p}=d;if(d.props=!0,p.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(d,l))return;const m=(0,t.allSchemaProperties)(u.properties),g=(0,t.allSchemaProperties)(u.patternProperties);v(),a.ok((0,e._)`${f} === ${n.default.errors}`);function v(){s.forIn("key",c,S=>{!m.length&&!g.length?w(S):s.if(y(S),()=>w(S))})}function y(S){let _;if(m.length>8){const k=(0,r.schemaRefOrVal)(d,u.properties,"properties");_=(0,t.isOwnProperty)(s,k,S)}else m.length?_=(0,e.or)(...m.map(k=>(0,e._)`${S} === ${k}`)):_=e.nil;return g.length&&(_=(0,e.or)(_,...g.map(k=>(0,e._)`${(0,t.usePattern)(a,k)}.test(${S})`))),(0,e.not)(_)}function b(S){s.code((0,e._)`delete ${c}[${S}]`)}function w(S){if(p.removeAdditional==="all"||p.removeAdditional&&l===!1){b(S);return}if(l===!1){a.setParams({additionalProperty:S}),a.error(),h||s.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(d,l)){const _=s.name("valid");p.removeAdditional==="failing"?(x(S,_,!1),s.if((0,e.not)(_),()=>{a.reset(),b(S)})):(x(S,_),h||s.if((0,e.not)(_),()=>s.break()))}}function x(S,_,k){const C={keyword:"additionalProperties",dataProp:S,dataPropType:r.Type.Str};k===!1&&Object.assign(C,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(C,_)}}};return f5.default=o,f5}var d5={},ZK;function XZe(){if(ZK)return d5;ZK=1,Object.defineProperty(d5,"__esModule",{value:!0});const t=Pk(),e=pc(),n=sr(),r=ome(),i={keyword:"properties",type:"object",schemaType:"object",code(o){const{gen:a,schema:s,parentSchema:l,data:u,it:c}=o;c.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new t.KeywordCxt(c,r.default,"additionalProperties"));const f=(0,e.allSchemaProperties)(s);for(const g of f)c.definedProperties.add(g);c.opts.unevaluated&&f.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(a,(0,n.toHash)(f),c.props));const d=f.filter(g=>!(0,n.alwaysValidSchema)(c,s[g]));if(d.length===0)return;const h=a.name("valid");for(const g of d)p(g)?m(g):(a.if((0,e.propertyInData)(a,u,g,c.opts.ownProperties)),m(g),c.allErrors||a.else().var(h,!0),a.endIf()),o.it.definedProperties.add(g),o.ok(h);function p(g){return c.opts.useDefaults&&!c.compositeRule&&s[g].default!==void 0}function m(g){o.subschema({keyword:"properties",schemaProp:g,dataProp:g},h)}}};return d5.default=i,d5}var h5={},JK;function YZe(){if(JK)return h5;JK=1,Object.defineProperty(h5,"__esModule",{value:!0});const t=pc(),e=jn(),n=sr(),r=sr(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(o){const{gen:a,schema:s,data:l,parentSchema:u,it:c}=o,{opts:f}=c,d=(0,t.allSchemaProperties)(s),h=d.filter(w=>(0,n.alwaysValidSchema)(c,s[w]));if(d.length===0||h.length===d.length&&(!c.opts.unevaluated||c.props===!0))return;const p=f.strictSchema&&!f.allowMatchingProperties&&u.properties,m=a.name("valid");c.props!==!0&&!(c.props instanceof e.Name)&&(c.props=(0,r.evaluatedPropsToName)(a,c.props));const{props:g}=c;v();function v(){for(const w of d)p&&y(w),c.allErrors?b(w):(a.var(m,!0),b(w),a.if(m))}function y(w){for(const x in p)new RegExp(w).test(x)&&(0,n.checkStrictMode)(c,`property ${x} matches pattern ${w} (use allowMatchingProperties)`)}function b(w){a.forIn("key",l,x=>{a.if((0,e._)`${(0,t.usePattern)(o,w)}.test(${x})`,()=>{const S=h.includes(w);S||o.subschema({keyword:"patternProperties",schemaProp:w,dataProp:x,dataPropType:r.Type.Str},m),c.opts.unevaluated&&g!==!0?a.assign((0,e._)`${g}[${x}]`,!0):!S&&!c.allErrors&&a.if((0,e.not)(m),()=>a.break())})})}}};return h5.default=i,h5}var p5={},QK;function ZZe(){if(QK)return p5;QK=1,Object.defineProperty(p5,"__esModule",{value:!0});const t=sr(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:o}=n;if((0,t.alwaysValidSchema)(o,i)){n.fail();return}const a=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return p5.default=e,p5}var m5={},eX;function JZe(){if(eX)return m5;eX=1,Object.defineProperty(m5,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:pc().validateUnion,error:{message:"must match a schema in anyOf"}};return m5.default=e,m5}var g5={},tX;function QZe(){if(tX)return g5;tX=1,Object.defineProperty(g5,"__esModule",{value:!0});const t=jn(),e=sr(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,t._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:o,schema:a,parentSchema:s,it:l}=i;if(!Array.isArray(a))throw new Error("ajv implementation error");if(l.opts.discriminator&&s.discriminator)return;const u=a,c=o.let("valid",!1),f=o.let("passing",null),d=o.name("_valid");i.setParams({passing:f}),o.block(h),i.result(c,()=>i.reset(),()=>i.error(!0));function h(){u.forEach((p,m)=>{let g;(0,e.alwaysValidSchema)(l,p)?o.var(d,!0):g=i.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},d),m>0&&o.if((0,t._)`${d} && ${c}`).assign(c,!1).assign(f,(0,t._)`[${f}, ${m}]`).else(),o.if(d,()=>{o.assign(c,!0),o.assign(f,m),g&&i.mergeEvaluated(g,t.Name)})})}}};return g5.default=r,g5}var v5={},nX;function eJe(){if(nX)return v5;nX=1,Object.defineProperty(v5,"__esModule",{value:!0});const t=sr(),e={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:o}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const a=r.name("valid");i.forEach((s,l)=>{if((0,t.alwaysValidSchema)(o,s))return;const u=n.subschema({keyword:"allOf",schemaProp:l},a);n.ok(a),n.mergeEvaluated(u)})}};return v5.default=e,v5}var y5={},rX;function tJe(){if(rX)return y5;rX=1,Object.defineProperty(y5,"__esModule",{value:!0});const t=jn(),e=sr(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:o})=>(0,t.str)`must match "${o.ifClause}" schema`,params:({params:o})=>(0,t._)`{failingKeyword: ${o.ifClause}}`},code(o){const{gen:a,parentSchema:s,it:l}=o;s.then===void 0&&s.else===void 0&&(0,e.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const u=i(l,"then"),c=i(l,"else");if(!u&&!c)return;const f=a.let("valid",!0),d=a.name("_valid");if(h(),o.reset(),u&&c){const m=a.let("ifClause");o.setParams({ifClause:m}),a.if(d,p("then",m),p("else",m))}else u?a.if(d,p("then")):a.if((0,t.not)(d),p("else"));o.pass(f,()=>o.error(!0));function h(){const m=o.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},d);o.mergeEvaluated(m)}function p(m,g){return()=>{const v=o.subschema({keyword:m},d);a.assign(f,d),o.mergeValidEvaluated(v,f),g?a.assign(g,(0,t._)`${m}`):o.setParams({ifClause:m})}}}};function i(o,a){const s=o.schema[a];return s!==void 0&&!(0,e.alwaysValidSchema)(o,s)}return y5.default=r,y5}var b5={},iX;function nJe(){if(iX)return b5;iX=1,Object.defineProperty(b5,"__esModule",{value:!0});const t=sr(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,t.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return b5.default=e,b5}var oX;function rJe(){if(oX)return a5;oX=1,Object.defineProperty(a5,"__esModule",{value:!0});const t=rme(),e=UZe(),n=ime(),r=jZe(),i=WZe(),o=GZe(),a=KZe(),s=ome(),l=XZe(),u=YZe(),c=ZZe(),f=JZe(),d=QZe(),h=eJe(),p=tJe(),m=nJe();function g(v=!1){const y=[c.default,f.default,d.default,h.default,p.default,m.default,a.default,s.default,o.default,l.default,u.default];return v?y.push(e.default,r.default):y.push(t.default,n.default),y.push(i.default),y}return a5.default=g,a5}var w5={},x5={},aX;function iJe(){if(aX)return x5;aX=1,Object.defineProperty(x5,"__esModule",{value:!0});const t=jn(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,t._)`{format: ${r}}`},code(r,i){const{gen:o,data:a,$data:s,schema:l,schemaCode:u,it:c}=r,{opts:f,errSchemaPath:d,schemaEnv:h,self:p}=c;if(!f.validateFormats)return;s?m():g();function m(){const v=o.scopeValue("formats",{ref:p.formats,code:f.code.formats}),y=o.const("fDef",(0,t._)`${v}[${u}]`),b=o.let("fType"),w=o.let("format");o.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>o.assign(b,(0,t._)`${y}.type || "string"`).assign(w,(0,t._)`${y}.validate`),()=>o.assign(b,(0,t._)`"string"`).assign(w,y)),r.fail$data((0,t.or)(x(),S()));function x(){return f.strictSchema===!1?t.nil:(0,t._)`${u} && !${w}`}function S(){const _=h.$async?(0,t._)`(${y}.async ? await ${w}(${a}) : ${w}(${a}))`:(0,t._)`${w}(${a})`,k=(0,t._)`(typeof ${w} == "function" ? ${_} : ${w}.test(${a}))`;return(0,t._)`${w} && ${w} !== true && ${b} === ${i} && !${k}`}}function g(){const v=p.formats[l];if(!v){x();return}if(v===!0)return;const[y,b,w]=S(v);y===i&&r.pass(_());function x(){if(f.strictSchema===!1){p.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${l}" ignored in schema at path "${d}"`}}function S(k){const C=k instanceof RegExp?(0,t.regexpCode)(k):f.code.formats?(0,t._)`${f.code.formats}${(0,t.getProperty)(l)}`:void 0,E=o.scopeValue("formats",{key:l,ref:k,code:C});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,t._)`${E}.validate`]:["string",k,E]}function _(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!h.$async)throw new Error("async format in sync schema");return(0,t._)`await ${w}(${a})`}return typeof b=="function"?(0,t._)`${w}(${a})`:(0,t._)`${w}.test(${a})`}}}};return x5.default=n,x5}var sX;function oJe(){if(sX)return w5;sX=1,Object.defineProperty(w5,"__esModule",{value:!0});const e=[iJe().default];return w5.default=e,w5}var Mp={},lX;function aJe(){return lX||(lX=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.contentVocabulary=Mp.metadataVocabulary=void 0,Mp.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Mp.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Mp}var uX;function sJe(){if(uX)return Ux;uX=1,Object.defineProperty(Ux,"__esModule",{value:!0});const t=NZe(),e=HZe(),n=rJe(),r=oJe(),i=aJe(),o=[t.default,e.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return Ux.default=o,Ux}var S5={},lb={},cX;function lJe(){if(cX)return lb;cX=1,Object.defineProperty(lb,"__esModule",{value:!0}),lb.DiscrError=void 0;var t;return function(e){e.Tag="tag",e.Mapping="mapping"}(t||(lb.DiscrError=t={})),lb}var fX;function uJe(){if(fX)return S5;fX=1,Object.defineProperty(S5,"__esModule",{value:!0});const t=jn(),e=lJe(),n=BR(),r=Rk(),i=sr(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:s,tagName:l}})=>s===e.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:s,tag:l,tagName:u}})=>(0,t._)`{error: ${s}, tag: ${u}, tagValue: ${l}}`},code(s){const{gen:l,data:u,schema:c,parentSchema:f,it:d}=s,{oneOf:h}=f;if(!d.opts.discriminator)throw new Error("discriminator: requires discriminator option");const p=c.propertyName;if(typeof p!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const m=l.let("valid",!1),g=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(p)}`);l.if((0,t._)`typeof ${g} == "string"`,()=>v(),()=>s.error(!1,{discrError:e.DiscrError.Tag,tag:g,tagName:p})),s.ok(m);function v(){const w=b();l.if(!1);for(const x in w)l.elseIf((0,t._)`${g} === ${x}`),l.assign(m,y(w[x]));l.else(),s.error(!1,{discrError:e.DiscrError.Mapping,tag:g,tagName:p}),l.endIf()}function y(w){const x=l.name("valid"),S=s.subschema({keyword:"oneOf",schemaProp:w},x);return s.mergeEvaluated(S,t.Name),x}function b(){var w;const x={},S=k(f);let _=!0;for(let M=0;M<h.length;M++){let A=h[M];if(A?.$ref&&!(0,i.schemaHasRulesButRef)(A,d.self.RULES)){const T=A.$ref;if(A=n.resolveRef.call(d.self,d.schemaEnv.root,d.baseId,T),A instanceof n.SchemaEnv&&(A=A.schema),A===void 0)throw new r.default(d.opts.uriResolver,d.baseId,T)}const N=(w=A?.properties)===null||w===void 0?void 0:w[p];if(typeof N!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);_=_&&(S||k(A)),C(N,M)}if(!_)throw new Error(`discriminator: "${p}" must be required`);return x;function k({required:M}){return Array.isArray(M)&&M.includes(p)}function C(M,A){if(M.const)E(M.const,A);else if(M.enum)for(const N of M.enum)E(N,A);else throw new Error(`discriminator: "properties/${p}" must have "const" or "enum"`)}function E(M,A){if(typeof M!="string"||M in x)throw new Error(`discriminator: "${p}" values must be unique strings`);x[M]=A}}}};return S5.default=a,S5}const cJe="http://json-schema.org/draft-07/schema#",fJe="http://json-schema.org/draft-07/schema#",dJe="Core schema meta-schema",hJe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},pJe=["object","boolean"],mJe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},gJe={$schema:cJe,$id:fJe,title:dJe,definitions:hJe,type:pJe,properties:mJe,default:!0};var dX;function vJe(){return dX||(dX=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const n=TZe(),r=sJe(),i=uJe(),o=gJe,a=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(p,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=Pk();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=jn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=$R();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=Rk();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return d.default}})}(Bx,Bx.exports)),Bx.exports}var yJe=vJe();const bJe=vf(yJe),qR=new bJe({allErrors:!0});function wJe(t,e){qR.addSchema(e,t)}function xJe(t){return typeof qR.getSchema(t)<"u"}async function SJe(t,e){const n=qR.getSchema(t);if(!n)throw new Error(`Schema "${t}" not found`);await n(e);const r=n.errors==null||n.errors.length===0,i=(n.errors||[]).map(o=>{const a=o.instancePath?` at ${o.instancePath}`:"";return`${o.message}${a}`});return{valid:r,errors:i}}function Ms(t){if(t&&(t.constructor?.name==="FileSystemFileHandle"||t.constructor?.name==="FileSystemDirectoryHandle"||t instanceof Blob))return t;if(Array.isArray(t))return t.map(Ms);if(t&&typeof t=="object"){if(typeof t=="function")return;if(t.__v_isRef)return Ms(t.value);t.__v_isReactive&&(t=vn(t));const e={};for(const n in t)e[n]=Ms(t[n]);return e}return t}const _Je={version:1,name:"initial_schema",affectedStores:["characters","monsters","notes","parties","modules","encounters","combats","noteTypes","indexations_mentions","jukebox_playlists","jukebox_tracks","jukebox_files"],go:async()=>{}},CJe={version:2,name:"add_bookmarks_store",affectedStores:["bookmarks"],go:async()=>{}},kJe={version:3,name:"add timers store",affectedStores:["timers"],async go(t){}},EJe=[_Je,CJe,kJe],hX=EJe.sort((t,e)=>t.version-e.version);class ame extends Error{constructor(e,n,r){super(e),this.key=n,this.cause=r,this.name="StorageError"}}function sme(){return Zpe(10)}const AJe="dmh-db",pX="migrations";async function _y(){const t=Math.max(...hX.map(({version:r})=>r));let e=[];const n=new Set;return nZe(AJe,t,{upgrade(r,i,o,a){const s=c=>{r.objectStoreNames.contains(c)||(n.add(c),r.createObjectStore(c,{keyPath:"id",autoIncrement:!1}))};s(pX);const l=o??t;e=hX.filter(c=>c.version>i&&c.version<=l?(c.affectedStores.forEach(f=>s(f)),!0):!1);let u=Promise.resolve();$t("{{{ MIGRATIONS to run: %i }}}",e.length);for(const c of e)u=u.then(()=>{const f={id:sme(),version:c.version,name:c.name,appliedAt:Date.now()};return $t("{{{ MIGRATION loading %o }}}",f),Promise.resolve(c.go(a)).then(()=>a.objectStore(pX).put(f).then(()=>$t("{{{ MIGRATION loaded %o }}}",f)))});u.then(()=>$t("{{{ MIGRATIONS finished successfully }}}")).catch(c=>{throw $t("{{{ MIGRATIONS failed }}}"),a.abort(),c})}})}async function TJe(t,e){return(await _y()).transaction(t).objectStore(t).get(e)}async function pC(t,e){if(xJe(t)){const{valid:r,errors:i}=await SJe(t,e);if(!r)throw new ame(`Validation failed for store '${t}': ${i.join("; ")}`)}await(await _y()).transaction(t,"readwrite").objectStore(t).put(e)}async function mC(t,e){await(await _y()).transaction(t,"readwrite").objectStore(t).delete(e)}async function _D(t){return(await _y()).transaction(t).objectStore(t).getAll()}const BA=new Map;function Pl(t){const{storeName:e,validationSchema:n}=t;if(BA.has(e))return BA.get(e);const r=we([]),i=we(!1),o=we(null),a=we(null),s=re(()=>a.value&&d(a.value)||null);n&&e&&wJe(e,n);async function l(){try{r.value=await _D(e),i.value=!0}catch(m){throw o.value=m instanceof Error?m:new Error(String(m)),o.value}}async function u(m){const g={...Ms(m),id:sme(),createdAt:Date.now(),updatedAt:Date.now()};return await pC(e,g),r.value.push(g),g}async function c(m,g){const v=r.value.findIndex(x=>x.id===m);if(v===-1)throw new Error("Item not found");const y=Ms(r.value[v]),b=Ms(g),w={...y,...b,updatedAt:Date.now()};return await pC(e,w),r.value[v]=w,w}async function f(m){await mC(e,m),r.value=r.value.filter(g=>g.id!==m),a.value===m&&(a.value=null)}const d=m=>r.value.find(g=>g.id===m)||null,h=re(()=>[...r.value].sort((m,g)=>g.updatedAt-m.updatedAt)),p={items:r,isLoaded:i,error:o,sortedItems:h,getById:d,create:u,update:c,remove:f,load:l,current:s,setCurrentId:m=>{a.value=m},clearCurrent:()=>{a.value=null}};return BA.set(e,p),p}function _h(t){return`${t.kind}:${t.id}`}function MJe(t){const e=`indexations_${t}`;return Ks(t,()=>{const n=we({}),r=we(!1);async function i(){const h=await _D(e);n.value={};for(const p of h)n.value[p.id]=p.links;r.value=!0}async function o(h){n.value[h]&&n.value[h].length>0?await pC(e,Ms({id:h,links:n.value[h]})):await mC(e,h)}async function a(h,p){const m=_h(h);n.value[m]||(n.value[m]=[]),n.value[m].some(g=>g.kind===p.kind&&g.id===p.id)||(n.value[m].push({kind:p.kind,id:p.id}),await o(m))}async function s(h,p){const m=_h(h);n.value[m]&&(n.value[m]=n.value[m].filter(g=>!(g.kind===p.kind&&g.id===p.id)),n.value[m].length===0&&delete n.value[m],await o(m))}function l(h){const p=_h(h);return n.value[p]||[]}async function u(h,p){const m=_h(h),g=new Set,v=p.filter(y=>{const b=_h(y);return g.has(b)?!1:(g.add(b),!0)});n.value[m]=v,await o(m)}async function c(h){const p=_h(h);delete n.value[p],await o(p)}async function f(){n.value={};const h=await _D(e);await Promise.all(h.map(p=>mC(e,p.id)))}function d(h){const p=[],m=_h(h);for(const[g,v]of Object.entries(n.value))if(v.some(y=>_h(y)===m)){const[y,b]=g.split(":");p.push({kind:y,id:b})}return p}return{links:n,loaded:r,addLink:a,removeLink:s,getLinks:l,setLinks:u,clearLinks:c,clearAll:f,getBacklinks:d,load:i}})}const pp=MJe("mentions");let mX=!1;async function DJe(){if(!mX)try{$t("Initializing database..."),await _y(),mX=!0,$t("Database initialized successfully")}catch(t){throw $t("Failed to initialize database:",t),t}}const NJe="http://json-schema.org/draft-07/schema#",OJe="Module",IJe="object",PJe=["id","name","createdAt","updatedAt"],RJe={id:{type:"string",description:"Unique identifier for the module"},name:{type:"string",description:"Name of the module"},createdAt:{type:"number",description:"Timestamp when the module was created"},updatedAt:{type:"number",description:"Timestamp when the module was last updated"},noteTree:{type:"array",description:"Tree structure for organizing notes",items:{$ref:"#/definitions/ModuleTreeNode"},default:[]}},FJe={ModuleTreeNode:{type:"object",required:["noteId","children"],properties:{noteId:{type:"string"},children:{type:"array",items:{$ref:"#/definitions/ModuleTreeNode"},description:"Child notes"}}}},LJe={$schema:NJe,title:OJe,type:IJe,required:PJe,properties:RJe,definitions:FJe},$i=Ks("modules",()=>{const t=Pl({storeName:"modules",validationSchema:LJe}),e=we(""),n=re(()=>{let o=t.items.value;if(e.value){const a=e.value.toLowerCase();o=o.filter(s=>s.name.toLowerCase().includes(a))}return o}),r=t.sortedItems;return{...t,filtered:n,sortedItems:r,getModuleName:o=>o?t.items.value.find(s=>s.id===o)?.name||"Unknown Module":"No Module",setFilter:o=>{e.value=o},clearFilter:()=>{e.value=""},setSearchQuery:o=>{e.value=o},searchQuery:e}}),$Je="http://json-schema.org/draft-07/schema#",BJe="Note",zJe="object",qJe=["id","title","content","typeId","tags","moduleId","createdAt","updatedAt"],VJe={id:{type:"string",description:"Unique identifier for the note"},title:{type:"string",description:"Title of the note"},content:{type:"string",description:"Content of the note in markdown format"},typeId:{oneOf:[{type:"string",description:"ID of the note type"},{type:"null",description:"No note type assigned"}],description:"ID of the note type or null if no type assigned"},tags:{type:"array",items:{type:"string"},description:"Array of tags associated with the note"},moduleId:{oneOf:[{type:"string",description:"ID of the module this note belongs to"},{type:"null",description:"No module assigned"}],description:"ID of the module this note belongs to or null if no module assigned"},createdAt:{type:"number",description:"Timestamp when the note was created"},updatedAt:{type:"number",description:"Timestamp when the note was last updated"}},HJe={$schema:$Je,title:BJe,type:zJe,required:qJe,properties:VJe},_f=Ks("notes",()=>{const t=Pl({storeName:"notes",validationSchema:HJe}),e=we(""),n=we(null),r=pp();async function i(u){$t("noteStore.create called",u);const c=await t.create(u),f={kind:"note",id:c.id},d=CD(c.content);return await r.setLinks(f,d),c}async function o(u,c){const f=t.getById(u),d={...c};f&&"hidden"in f&&(d.hidden=f.hidden);const h=await t.update(u,d),p={kind:"note",id:u},m=CD(h.content||"");return await r.setLinks(p,m),h}async function a(u){await t.remove(u);const c={kind:"note",id:u};await r.clearLinks(c)}const s=re(()=>{let u=t.items.value;if(n.value&&(u=u.filter(c=>c.tags.includes(n.value))),e.value){const c=e.value.toLowerCase();u=u.filter(f=>f.title.toLowerCase().includes(c)||f.content.toLowerCase().includes(c)||f.tags.some(d=>d.toLowerCase().includes(c)))}return u}),l=re(()=>{const u=new Set;return t.items.value.forEach(c=>c.tags.forEach(f=>u.add(f))),Array.from(u)});return{...t,filtered:s,getById:t.getById,create:i,update:o,remove:a,setFilter:u=>{e.value=u},clearFilter:()=>{e.value=""},setSearchQuery:u=>{e.value=u},setTagFilter:u=>{n.value=u},clearTagFilter:()=>{n.value=null},allTags:l,searchQuery:e,tagFilter:n}}),UJe="http://json-schema.org/draft-07/schema#",jJe="Party",WJe="object",GJe=["id","name","characters","moduleIds","createdAt","updatedAt"],KJe={id:{type:"string",description:"Unique identifier for the party"},name:{type:"string",description:"Name of the party"},characters:{type:"array",items:{type:"string"},description:"Array of character IDs in the party"},moduleIds:{type:"array",items:{type:"string"},description:"Array of module IDs this party belongs to"},createdAt:{type:"number",description:"Timestamp when the party was created"},updatedAt:{type:"number",description:"Timestamp when the party was last updated"}},XJe={$schema:UJe,title:jJe,type:WJe,required:GJe,properties:KJe},Xs=Ks("parties",()=>{const t=Pl({storeName:"parties",validationSchema:XJe}),e=we(""),n=re(()=>{let i=t.items.value;if(e.value){const o=e.value.toLowerCase();i=i.filter(a=>a.name.toLowerCase().includes(o))}return i}),r=t.sortedItems;return{...t,filtered:n,sortedItems:r,setFilter:i=>{e.value=i},clearFilter:()=>{e.value=""},setSearchQuery:i=>{e.value=i},searchQuery:e}}),YJe="http://json-schema.org/draft-07/schema#",ZJe="Monster",JJe="object",QJe=["id","name","createdAt","updatedAt"],eQe={id:{type:"string"},name:{type:"string"},notes:{type:"string"},moduleIds:{type:"array",items:{type:"string"}},createdAt:{type:"number"},updatedAt:{type:"number"}},tQe={$schema:YJe,title:ZJe,type:JJe,required:QJe,properties:eQe},Rl=Ks("monsters",()=>{const t=Pl({storeName:"monsters",validationSchema:tQe}),e=we(""),n=re(()=>{let i=t.items.value;if(e.value){const o=e.value.toLowerCase();i=i.filter(a=>a.name.toLowerCase().includes(o))}return i}),r=t.sortedItems;return{...t,filtered:n,sortedItems:r,setFilter:i=>{e.value=i},clearFilter:()=>{e.value=""},setSearchQuery:i=>{e.value=i},searchQuery:e}}),nQe="http://json-schema.org/draft-07/schema#",rQe="Encounter",iQe="object",oQe=["id","name","monsters","moduleId","createdAt","updatedAt"],aQe={id:{type:"string",description:"Unique identifier for the encounter"},name:{type:"string",description:"Name of the encounter"},description:{type:"string",description:"Description of the encounter"},monsters:{type:"object",additionalProperties:{type:"number",minimum:1,maximum:20},description:"Object mapping monster IDs to their counts in this encounter"},moduleId:{type:"string",description:"ID of the module this encounter belongs to"},notes:{type:"string",description:"Additional notes about the encounter"},createdAt:{type:"number",description:"Timestamp when the encounter was created"},updatedAt:{type:"number",description:"Timestamp when the encounter was last updated"}},sQe={$schema:nQe,title:rQe,type:iQe,required:oQe,properties:aQe},Cf=Ks("encounters",()=>{const t=Pl({storeName:"encounters",validationSchema:sQe}),e=we(""),n=re(()=>{let i=t.items.value;if(e.value){const o=e.value.toLowerCase();i=i.filter(a=>a.name.toLowerCase().includes(o))}return i}),r=t.sortedItems;return{...t,filtered:n,sortedItems:r,setFilter:i=>{e.value=i},clearFilter:()=>{e.value=""},setSearchQuery:i=>{e.value=i},searchQuery:e}}),lQe=/^(note|module|party|monster|encounter):\/\/([a-zA-Z0-9_-]+)$/,uQe=t=>{const e=t.renderer.rules.link_open||function(n,r,i,o,a){return a.renderToken(n,r,i)};t.renderer.rules.link_open=function(n,r,i,o,a){const s=n[r].attrGet("href");if(s){const l=lQe.exec(s);if(l){const u=l[1],c=l[2];switch(n[r].attrSet("data-kind",u),n[r].attrSet("data-id",c),n[r].attrJoin("class",`internal-link ${u}-link`),u){case"note":n[r].attrSet("href",`/notes/${c}`);break;case"module":n[r].attrSet("href",`/modules/${c}`);break;case"party":n[r].attrSet("href",`/parties/${c}`);break;case"monster":n[r].attrSet("href",`/monsters/${c}`);break;case"encounter":n[r].attrSet("href",`/encounters/${c}`);break}}else/^(https?:)?\/\//.test(s)&&(n[r].attrSet("target","_blank"),n[r].attrSet("rel","noopener noreferrer"),n[r].attrJoin("class","external-link"))}return e(n,r,i,o,a)},t.renderer.rules.text,t.renderer.rules.text=function(n,r,i,o,a){return t.utils.escapeHtml(n[r].content)}},gX=/^\s*\[([ xX])\]\s+/,cQe=t=>{const e=t.renderer.rules.list_item_open||function(n,r,i,o,a){return a.renderToken(n,r,i)};t.renderer.rules.list_item_open=function(n,r,i,o,a){const s=n[r+1];return s&&s.type==="inline"&&s.children&&s.children[0]&&s.children[0].type==="text"&&gX.exec(s.children[0].content)&&n[r].attrJoin("class","task-list-item"),e(n,r,i,o,a)},t.renderer.rules.text=function(n,r,i,o,a){const s=n[r],l=gX.exec(s.content);if(l){const u=l[1].toLowerCase()==="x",c=s.content.slice(l[0].length),f=o&&o.taskCheckboxEnabled===!0;return`<label class="task-list-label"><input type="checkbox"${u?" checked":""}${f?"":" disabled"} class="task-list-checkbox">${t.utils.escapeHtml(c)}</label>`}return t.utils.escapeHtml(s.content)}},zA=/\s*\{#([a-zA-Z]+)-([a-zA-Z0-9_-]+)\}\s*$/,fQe=["note","module","party","monster","encounter"],dQe=t=>{const e=t.renderer.rules.heading_open||function(n,r,i,o,a){return a.renderToken(n,r,i)};t.renderer.rules.heading_open=function(n,r,i,o,a){const s=n[r+1];if(s&&s.type==="inline"){const l=s.content,u=zA.exec(l);if(u){const c=u[1],f=u[2];if(fQe.includes(c)&&(n[r].attrSet("id",`${c}-${f}`),n[r].attrSet("data-id",f),n[r].attrSet("data-kind",c),s.content=l.replace(zA,"").trim(),Array.isArray(s.children)))for(const d of s.children)d.type==="text"&&(d.content=d.content.replace(zA,"").trim())}}return e(n,r,i,o,a)}},Fk=new gu({html:!0,linkify:!0,breaks:!1});Fk.use(uQe);Fk.use(cQe);Fk.use(dQe);function hQe(t,e){return Fk.render(t||"",e)}function CD(t){const e=/\[[^\]]*\]\((note|module|party|monster|encounter):\/\/([a-zA-Z0-9_-]+)\)/g,n=[];let r;for(;(r=e.exec(t))!==null;)n.push({kind:r[1],id:r[2]});return n}function pQe(t){return{note:{useStore:_f,titleKey:"title",idKey:"id",type:"Note",target:"notes"},module:{useStore:$i,titleKey:"name",idKey:"id",type:"Module",target:"modules"},party:{useStore:Xs,titleKey:"name",idKey:"id",type:"Party",target:"parties"},monster:{useStore:Rl,titleKey:"name",idKey:"id",type:"Monster",target:"monsters"},encounter:{useStore:Cf,titleKey:"name",idKey:"id",type:"Encounter",target:"encounters"}}[t]}const kD=async(t,e,n)=>{$t({scrollToHeading:t}),window.location.hash!==`#${t}`&&await e.replace({hash:`#${t}`}),n&&(n.scrollIntoView({behavior:"smooth",block:"center"}),n.classList.add("highlight-anchor"),setTimeout(()=>n.classList.remove("highlight-anchor"),1200))},mQe=["innerHTML"],gQe=nt({__name:"Markdown",props:{content:{},anchorMap:{},enableMentionModal:{type:Boolean},taskCheckboxEnabled:{type:Boolean},scrollToAnchor:{type:Function}},emits:["update:content"],setup(t,{emit:e}){const n=go(),r=_f(),i=$i(),o=Xs(),a=Rl(),s=Cf(),{openMentionModal:l}=TR(),u=t,c=e,f=fr(new Map),d=we(!1),h=we(null),p=re(()=>{const S=`${u.content}-${u.taskCheckboxEnabled||!1}`;if(f.value.has(S))return f.value.get(S);const _=hQe(u.content,{taskCheckboxEnabled:!!u.taskCheckboxEnabled});if(f.value.set(S,_),f.value.size>100){const k=f.value.keys().next().value;k&&f.value.delete(k)}return _}),m=we(null);function g(S,_){switch(S){case"note":return r.getById(_);case"module":return i.getById(_);case"party":return o.getById(_);case"monster":return a.getById(_);case"encounter":return s.getById(_);default:return null}}function v(S){const _=S.target.closest(".internal-link");if(!_)return;const k=_.getAttribute("data-kind"),C=_.getAttribute("data-id"),E=_.getAttribute("href"),M=u.anchorMap??new Set;if(k&&C){if(M.has(C)){const A=m.value&&m.value.contains(_)?m.value.querySelector(`#${CSS.escape(C)}`):null;if(A){S.preventDefault(),u.scrollToAnchor?u.scrollToAnchor(C,A):kD(C,n,A);return}}if(u.enableMentionModal){const A=g(k,C);S.preventDefault();const N="markdown-modal-"+Zpe();l(N,A,k);return}}E&&history.pushState&&(S.preventDefault(),history.pushState(history.state,"",E),window.dispatchEvent(new PopStateEvent("popstate")))}function y(){}function b(S){const _=S.split(/\r?\n/),k=[];for(let C=0;C<_.length;C++)/^\s*[-*+]\s*\[([ xX])\]/.test(_[C])&&k.push(C);return k}function w(S){if(!u.taskCheckboxEnabled)return;const _=S.target;if(!_||_.type!=="checkbox"||!m.value)return;const C=Array.from(m.value.querySelectorAll('input[type="checkbox"].task-list-checkbox')).indexOf(_);if(C===-1)return;const E=u.content.split(/\r?\n/),A=b(u.content)[C];if(A===void 0)return;E[A]=E[A].replace(/^(\s*[-*+]\s*\[)([ xX])(\])/,(T,I,O,q)=>I+(_.checked?"x":" ")+q);const N=E.join(`
`);c("update:content",N)}function x(){m.value&&(h.value=new IntersectionObserver(S=>{S.forEach(_=>{_.isIntersecting?d.value=!0:d.value=!1})},{root:null,rootMargin:"50px",threshold:.1}),h.value.observe(m.value))}return kt(async()=>{m.value&&(m.value.addEventListener("click",v,!0),u.taskCheckboxEnabled&&m.value.addEventListener("change",w,!0)),window.addEventListener("hashchange",y),x(),await r.load(),await i.load(),await o.load(),await a.load(),await s.load()}),Oo(()=>{m.value&&(m.value.removeEventListener("click",v,!0),u.taskCheckboxEnabled&&m.value.removeEventListener("change",w,!0)),window.removeEventListener("hashchange",y),h.value&&h.value.disconnect()}),We(()=>u.taskCheckboxEnabled,S=>{m.value&&(S?m.value.addEventListener("change",w,!0):m.value.removeEventListener("change",w,!0))}),(S,_)=>(ye(),Le("div",{class:"markdown-content",ref_key:"rootEl",ref:m},[Ee("div",{innerHTML:p.value},null,8,mQe)],512))}}),Lk=vr(gQe,[["__scopeId","data-v-87b0dc6a"]]),vQe={key:0},yQe={key:0},bQe={key:1},wQe={key:2},xQe={key:3},SQe={key:0},_Qe={key:4},CQe={key:0},kQe={key:1},EQe={style:{color:"var(--color-danger, red)"}},AQe=nt({__name:"MentionModalStack",setup(t){const{currentMentionModal:e,currentModalId:n,closeMentionModal:r}=TR(),{t:i}=Ut(),o=re(()=>!!(e.value&&e.value.modalId===n.value)),a=re(()=>e.value?.entity||null),s=re(()=>e.value?.kind||""),l=re(()=>e.value?.modalId||"");function u(){l.value&&r(l.value)}return(c,f)=>o.value?(ye(),He(Na,{key:0,isOpen:o.value,title:a.value?.title||a.value?.name||le(i)("modal.entityDetails"),showClose:!0,modalId:l.value,onCancel:u},{default:De(()=>[a.value?(ye(),Le("div",vQe,[s.value==="note"?(ye(),Le("div",yQe,[xe(Lk,{content:a.value.content||"",enableMentionModal:!0},null,8,["content"])])):s.value==="module"?(ye(),Le("div",bQe,[Ee("div",null,$e(a.value.description),1)])):s.value==="party"?(ye(),Le("div",wQe,[Ee("div",null,$e(a.value.description),1)])):s.value==="monster"?(ye(),Le("div",xQe,[Ee("h2",null,$e(a.value.name),1),a.value.description?(ye(),Le("div",SQe,$e(a.value.description),1)):ot("",!0)])):s.value==="encounter"?(ye(),Le("div",_Qe,[Ee("h2",null,$e(a.value.name),1),a.value.description?(ye(),Le("div",CQe,$e(a.value.description),1)):ot("",!0)])):ot("",!0)])):(ye(),Le("div",kQe,[Ee("div",EQe,$e(le(i)("modal.entityNotFound")),1)]))]),_:1},8,["isOpen","title","modalId"])):ot("",!0)}});var Tc=(t=>(t.TIMERS="timers",t.NOTES="notes",t.PARTIES="parties",t.MONSTERS="monsters",t.CHARACTERS="characters",t.ENCOUNTERS="encounters",t.MODULES="modules",t))(Tc||{});const Cy=()=>Pl({storeName:"jukebox_playlists",validationSchema:void 0}),VR=()=>Pl({storeName:"jukebox_tracks",validationSchema:void 0}),TQe=()=>Pl({storeName:"jukebox_files",validationSchema:void 0}),HR="jukebox_files";async function lme(t){return TJe(HR,t)}async function MQe(t){return pC(HR,t)}async function DQe(t){return mC(HR,t)}const ume=Ks("pictureUrlCache",()=>{const t=we([]),e=we(new Map);function n(o){if(!o)return"";if(typeof o=="string")return o;const a=`${o.size}-${o.type}`;if(e.value.has(a))return e.value.get(a);const s=URL.createObjectURL(o);return e.value.set(a,s),t.value.push(s),s}function r(o){const a=n(o);return{backgroundImage:a?`url(${a})`:""}}function i(){t.value.forEach(o=>URL.revokeObjectURL(o)),t.value=[],e.value.clear()}return{getPictureUrl:n,getPictureStyle:r,clearCache:i}}),UR=t=>`dmh-config:${t}`,Dp=(t,e=null)=>{const n=localStorage.getItem(UR(t)),r=n?JSON.parse(n):e;return $t("configStore - getValue",t,r),r},NQe=t=>{$t("configStore - removeValue",t),localStorage.removeItem(UR(t))},OQe=(t,e)=>typeof e>"u"?NQe(t):($t("configStore - setValue",t,e),localStorage.setItem(UR(t),JSON.stringify(e)));var Qf=(t=>(t.off="off",t.list="list",t.track="track",t))(Qf||{});const d4=Ks("config",()=>{const t=we(Dp("jukeboxLastTrackId",null)),e=we(Dp("jukeboxLastTrackProgress",0)),n=we(Dp("jukeboxLastVolume",1)),r=we(Dp("jukeboxActivePlaylistId",null)),i=we(Dp("jukeboxRepeatMode","off")),o=we(Dp("jukeboxShuffle",!1)),a=we(Dp("savedLanguage",window?.navigator?.language??"en")),s={jukeboxLastTrackId:t,jukeboxLastTrackProgress:e,jukeboxLastVolume:n,jukeboxActivePlaylistId:r,jukeboxRepeatMode:i,jukeboxShuffle:o,savedLanguage:a};return Object.keys(s).forEach(l=>{We(s[l],u=>OQe(l,u))}),$t("configStore",s),s});async function IQe(){const t=await window.showOpenFilePicker({multiple:!0,types:[{description:"Audio Files",accept:{"audio/*":[".mp3",".wav",".ogg",".flac",".aac"]}}],excludeAcceptAllOption:!0});return $t(t),t}async function cme(t){return await t.getFile()}async function PQe(t){return new Promise((e,n)=>{const r=document.createElement("audio");r.preload="metadata",r.src=URL.createObjectURL(t),r.onloadedmetadata=()=>{$t({duration:r.duration}),e({duration:r.duration}),URL.revokeObjectURL(r.src)},r.onerror=i=>{n(i)}})}async function RQe(t){const e=await PQe(t);return new Promise((n,r)=>{const i=new Worker(new URL("/dmh-pwa/assets/metadata.worker-DcV2vgyd.js",import.meta.url),{type:"module"});i.onmessage=o=>{o.data.type==="success"?n({...o.data.metadata,...e}):(Bs("Jukebox Worker Error:",o.data.error),n({})),i.terminate()},i.onerror=o=>{Bs("Jukebox Worker failed to load:",o),n({}),i.terminate()},i.postMessage(t)})}const FQe=()=>Math.random();var qA={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var vX;function LQe(){return vX||(vX=1,function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var f=this||n;return f._counter=1e3,f._html5AudioPool=[],f.html5PoolSize=10,f._codecs={},f._howls=[],f._muted=!1,f._volume=1,f._canPlayEvent="canplaythrough",f._navigator=typeof window<"u"&&window.navigator?window.navigator:null,f.masterGain=null,f.noAudio=!1,f.usingWebAudio=!0,f.autoSuspend=!0,f.ctx=null,f.autoUnlock=!0,f._setup(),f},volume:function(f){var d=this||n;if(f=parseFloat(f),d.ctx||c(),typeof f<"u"&&f>=0&&f<=1){if(d._volume=f,d._muted)return d;d.usingWebAudio&&d.masterGain.gain.setValueAtTime(f,n.ctx.currentTime);for(var h=0;h<d._howls.length;h++)if(!d._howls[h]._webAudio)for(var p=d._howls[h]._getSoundIds(),m=0;m<p.length;m++){var g=d._howls[h]._soundById(p[m]);g&&g._node&&(g._node.volume=g._volume*f)}return d}return d._volume},mute:function(f){var d=this||n;d.ctx||c(),d._muted=f,d.usingWebAudio&&d.masterGain.gain.setValueAtTime(f?0:d._volume,n.ctx.currentTime);for(var h=0;h<d._howls.length;h++)if(!d._howls[h]._webAudio)for(var p=d._howls[h]._getSoundIds(),m=0;m<p.length;m++){var g=d._howls[h]._soundById(p[m]);g&&g._node&&(g._node.muted=f?!0:g._muted)}return d},stop:function(){for(var f=this||n,d=0;d<f._howls.length;d++)f._howls[d].stop();return f},unload:function(){for(var f=this||n,d=f._howls.length-1;d>=0;d--)f._howls[d].unload();return f.usingWebAudio&&f.ctx&&typeof f.ctx.close<"u"&&(f.ctx.close(),f.ctx=null,c()),f},codecs:function(f){return(this||n)._codecs[f.replace(/^x-/,"")]},_setup:function(){var f=this||n;if(f.state=f.ctx&&f.ctx.state||"suspended",f._autoSuspend(),!f.usingWebAudio)if(typeof Audio<"u")try{var d=new Audio;typeof d.oncanplaythrough>"u"&&(f._canPlayEvent="canplay")}catch{f.noAudio=!0}else f.noAudio=!0;try{var d=new Audio;d.muted&&(f.noAudio=!0)}catch{}return f.noAudio||f._setupCodecs(),f},_setupCodecs:function(){var f=this||n,d=null;try{d=typeof Audio<"u"?new Audio:null}catch{return f}if(!d||typeof d.canPlayType!="function")return f;var h=d.canPlayType("audio/mpeg;").replace(/^no$/,""),p=f._navigator?f._navigator.userAgent:"",m=p.match(/OPR\/(\d+)/g),g=m&&parseInt(m[0].split("/")[1],10)<33,v=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,y=p.match(/Version\/(.*?) /),b=v&&y&&parseInt(y[1],10)<15;return f._codecs={mp3:!!(!g&&(h||d.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!h,opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(d.canPlayType('audio/wav; codecs="1"')||d.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!d.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(d.canPlayType("audio/x-m4b;")||d.canPlayType("audio/m4b;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!b&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!b&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!d.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(d.canPlayType("audio/x-flac;")||d.canPlayType("audio/flac;")).replace(/^no$/,"")},f},_unlockAudio:function(){var f=this||n;if(!(f._audioUnlocked||!f.ctx)){f._audioUnlocked=!1,f.autoUnlock=!1,!f._mobileUnloaded&&f.ctx.sampleRate!==44100&&(f._mobileUnloaded=!0,f.unload()),f._scratchBuffer=f.ctx.createBuffer(1,1,22050);var d=function(h){for(;f._html5AudioPool.length<f.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,f._releaseHtml5Audio(p)}catch{f.noAudio=!0;break}for(var m=0;m<f._howls.length;m++)if(!f._howls[m]._webAudio)for(var g=f._howls[m]._getSoundIds(),v=0;v<g.length;v++){var y=f._howls[m]._soundById(g[v]);y&&y._node&&!y._node._unlocked&&(y._node._unlocked=!0,y._node.load())}f._autoResume();var b=f.ctx.createBufferSource();b.buffer=f._scratchBuffer,b.connect(f.ctx.destination),typeof b.start>"u"?b.noteOn(0):b.start(0),typeof f.ctx.resume=="function"&&f.ctx.resume(),b.onended=function(){b.disconnect(0),f._audioUnlocked=!0,document.removeEventListener("touchstart",d,!0),document.removeEventListener("touchend",d,!0),document.removeEventListener("click",d,!0),document.removeEventListener("keydown",d,!0);for(var w=0;w<f._howls.length;w++)f._howls[w]._emit("unlock")}};return document.addEventListener("touchstart",d,!0),document.addEventListener("touchend",d,!0),document.addEventListener("click",d,!0),document.addEventListener("keydown",d,!0),f}},_obtainHtml5Audio:function(){var f=this||n;if(f._html5AudioPool.length)return f._html5AudioPool.pop();var d=new Audio().play();return d&&typeof Promise<"u"&&(d instanceof Promise||typeof d.then=="function")&&d.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(f){var d=this||n;return f._unlocked&&d._html5AudioPool.push(f),d},_autoSuspend:function(){var f=this;if(!(!f.autoSuspend||!f.ctx||typeof f.ctx.suspend>"u"||!n.usingWebAudio)){for(var d=0;d<f._howls.length;d++)if(f._howls[d]._webAudio){for(var h=0;h<f._howls[d]._sounds.length;h++)if(!f._howls[d]._sounds[h]._paused)return f}return f._suspendTimer&&clearTimeout(f._suspendTimer),f._suspendTimer=setTimeout(function(){if(f.autoSuspend){f._suspendTimer=null,f.state="suspending";var p=function(){f.state="suspended",f._resumeAfterSuspend&&(delete f._resumeAfterSuspend,f._autoResume())};f.ctx.suspend().then(p,p)}},3e4),f}},_autoResume:function(){var f=this;if(!(!f.ctx||typeof f.ctx.resume>"u"||!n.usingWebAudio))return f.state==="running"&&f.ctx.state!=="interrupted"&&f._suspendTimer?(clearTimeout(f._suspendTimer),f._suspendTimer=null):f.state==="suspended"||f.state==="running"&&f.ctx.state==="interrupted"?(f.ctx.resume().then(function(){f.state="running";for(var d=0;d<f._howls.length;d++)f._howls[d]._emit("resume")}),f._suspendTimer&&(clearTimeout(f._suspendTimer),f._suspendTimer=null)):f.state==="suspending"&&(f._resumeAfterSuspend=!0),f}};var n=new e,r=function(f){var d=this;if(!f.src||f.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}d.init(f)};r.prototype={init:function(f){var d=this;return n.ctx||c(),d._autoplay=f.autoplay||!1,d._format=typeof f.format!="string"?f.format:[f.format],d._html5=f.html5||!1,d._muted=f.mute||!1,d._loop=f.loop||!1,d._pool=f.pool||5,d._preload=typeof f.preload=="boolean"||f.preload==="metadata"?f.preload:!0,d._rate=f.rate||1,d._sprite=f.sprite||{},d._src=typeof f.src!="string"?f.src:[f.src],d._volume=f.volume!==void 0?f.volume:1,d._xhr={method:f.xhr&&f.xhr.method?f.xhr.method:"GET",headers:f.xhr&&f.xhr.headers?f.xhr.headers:null,withCredentials:f.xhr&&f.xhr.withCredentials?f.xhr.withCredentials:!1},d._duration=0,d._state="unloaded",d._sounds=[],d._endTimers={},d._queue=[],d._playLock=!1,d._onend=f.onend?[{fn:f.onend}]:[],d._onfade=f.onfade?[{fn:f.onfade}]:[],d._onload=f.onload?[{fn:f.onload}]:[],d._onloaderror=f.onloaderror?[{fn:f.onloaderror}]:[],d._onplayerror=f.onplayerror?[{fn:f.onplayerror}]:[],d._onpause=f.onpause?[{fn:f.onpause}]:[],d._onplay=f.onplay?[{fn:f.onplay}]:[],d._onstop=f.onstop?[{fn:f.onstop}]:[],d._onmute=f.onmute?[{fn:f.onmute}]:[],d._onvolume=f.onvolume?[{fn:f.onvolume}]:[],d._onrate=f.onrate?[{fn:f.onrate}]:[],d._onseek=f.onseek?[{fn:f.onseek}]:[],d._onunlock=f.onunlock?[{fn:f.onunlock}]:[],d._onresume=[],d._webAudio=n.usingWebAudio&&!d._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(d),d._autoplay&&d._queue.push({event:"play",action:function(){d.play()}}),d._preload&&d._preload!=="none"&&d.load(),d},load:function(){var f=this,d=null;if(n.noAudio){f._emit("loaderror",null,"No audio support.");return}typeof f._src=="string"&&(f._src=[f._src]);for(var h=0;h<f._src.length;h++){var p,m;if(f._format&&f._format[h])p=f._format[h];else{if(m=f._src[h],typeof m!="string"){f._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(m),p||(p=/\.([^.]+)$/.exec(m.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&n.codecs(p)){d=f._src[h];break}}if(!d){f._emit("loaderror",null,"No codec support for selected audio sources.");return}return f._src=d,f._state="loading",window.location.protocol==="https:"&&d.slice(0,5)==="http:"&&(f._html5=!0,f._webAudio=!1),new i(f),f._webAudio&&a(f),f},play:function(f,d){var h=this,p=null;if(typeof f=="number")p=f,f=null;else{if(typeof f=="string"&&h._state==="loaded"&&!h._sprite[f])return null;if(typeof f>"u"&&(f="__default",!h._playLock)){for(var m=0,g=0;g<h._sounds.length;g++)h._sounds[g]._paused&&!h._sounds[g]._ended&&(m++,p=h._sounds[g]._id);m===1?f=null:p=null}}var v=p?h._soundById(p):h._inactiveSound();if(!v)return null;if(p&&!f&&(f=v._sprite||"__default"),h._state!=="loaded"){v._sprite=f,v._ended=!1;var y=v._id;return h._queue.push({event:"play",action:function(){h.play(y)}}),y}if(p&&!v._paused)return d||h._loadQueue("play"),v._id;h._webAudio&&n._autoResume();var b=Math.max(0,v._seek>0?v._seek:h._sprite[f][0]/1e3),w=Math.max(0,(h._sprite[f][0]+h._sprite[f][1])/1e3-b),x=w*1e3/Math.abs(v._rate),S=h._sprite[f][0]/1e3,_=(h._sprite[f][0]+h._sprite[f][1])/1e3;v._sprite=f,v._ended=!1;var k=function(){v._paused=!1,v._seek=b,v._start=S,v._stop=_,v._loop=!!(v._loop||h._sprite[f][2])};if(b>=_){h._ended(v);return}var C=v._node;if(h._webAudio){var E=function(){h._playLock=!1,k(),h._refreshBuffer(v);var T=v._muted||h._muted?0:v._volume;C.gain.setValueAtTime(T,n.ctx.currentTime),v._playStart=n.ctx.currentTime,typeof C.bufferSource.start>"u"?v._loop?C.bufferSource.noteGrainOn(0,b,86400):C.bufferSource.noteGrainOn(0,b,w):v._loop?C.bufferSource.start(0,b,86400):C.bufferSource.start(0,b,w),x!==1/0&&(h._endTimers[v._id]=setTimeout(h._ended.bind(h,v),x)),d||setTimeout(function(){h._emit("play",v._id),h._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?E():(h._playLock=!0,h.once("resume",E),h._clearTimer(v._id))}else{var M=function(){C.currentTime=b,C.muted=v._muted||h._muted||n._muted||C.muted,C.volume=v._volume*n.volume(),C.playbackRate=v._rate;try{var T=C.play();if(T&&typeof Promise<"u"&&(T instanceof Promise||typeof T.then=="function")?(h._playLock=!0,k(),T.then(function(){h._playLock=!1,C._unlocked=!0,d?h._loadQueue():h._emit("play",v._id)}).catch(function(){h._playLock=!1,h._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),v._ended=!0,v._paused=!0})):d||(h._playLock=!1,k(),h._emit("play",v._id)),C.playbackRate=v._rate,C.paused){h._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}f!=="__default"||v._loop?h._endTimers[v._id]=setTimeout(h._ended.bind(h,v),x):(h._endTimers[v._id]=function(){h._ended(v),C.removeEventListener("ended",h._endTimers[v._id],!1)},C.addEventListener("ended",h._endTimers[v._id],!1))}catch(I){h._emit("playerror",v._id,I)}};C.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(C.src=h._src,C.load());var A=window&&window.ejecta||!C.readyState&&n._navigator.isCocoonJS;if(C.readyState>=3||A)M();else{h._playLock=!0,h._state="loading";var N=function(){h._state="loaded",M(),C.removeEventListener(n._canPlayEvent,N,!1)};C.addEventListener(n._canPlayEvent,N,!1),h._clearTimer(v._id)}}return v._id},pause:function(f){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"pause",action:function(){d.pause(f)}}),d;for(var h=d._getSoundIds(f),p=0;p<h.length;p++){d._clearTimer(h[p]);var m=d._soundById(h[p]);if(m&&!m._paused&&(m._seek=d.seek(h[p]),m._rateSeek=0,m._paused=!0,d._stopFade(h[p]),m._node))if(d._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),d._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||d._emit("pause",m?m._id:null)}return d},stop:function(f,d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"stop",action:function(){h.stop(f)}}),h;for(var p=h._getSoundIds(f),m=0;m<p.length;m++){h._clearTimer(p[m]);var g=h._soundById(p[m]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,h._stopFade(p[m]),g._node&&(h._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),h._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&h._clearSound(g._node))),d||h._emit("stop",g._id))}return h},mute:function(f,d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"mute",action:function(){h.mute(f,d)}}),h;if(typeof d>"u")if(typeof f=="boolean")h._muted=f;else return h._muted;for(var p=h._getSoundIds(d),m=0;m<p.length;m++){var g=h._soundById(p[m]);g&&(g._muted=f,g._interval&&h._stopFade(g._id),h._webAudio&&g._node?g._node.gain.setValueAtTime(f?0:g._volume,n.ctx.currentTime):g._node&&(g._node.muted=n._muted?!0:f),h._emit("mute",g._id))}return h},volume:function(){var f=this,d=arguments,h,p;if(d.length===0)return f._volume;if(d.length===1||d.length===2&&typeof d[1]>"u"){var m=f._getSoundIds(),g=m.indexOf(d[0]);g>=0?p=parseInt(d[0],10):h=parseFloat(d[0])}else d.length>=2&&(h=parseFloat(d[0]),p=parseInt(d[1],10));var v;if(typeof h<"u"&&h>=0&&h<=1){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"volume",action:function(){f.volume.apply(f,d)}}),f;typeof p>"u"&&(f._volume=h),p=f._getSoundIds(p);for(var y=0;y<p.length;y++)v=f._soundById(p[y]),v&&(v._volume=h,d[2]||f._stopFade(p[y]),f._webAudio&&v._node&&!v._muted?v._node.gain.setValueAtTime(h,n.ctx.currentTime):v._node&&!v._muted&&(v._node.volume=h*n.volume()),f._emit("volume",v._id))}else return v=p?f._soundById(p):f._sounds[0],v?v._volume:0;return f},fade:function(f,d,h,p){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(f,d,h,p)}}),m;f=Math.min(Math.max(0,parseFloat(f)),1),d=Math.min(Math.max(0,parseFloat(d)),1),h=parseFloat(h),m.volume(f,p);for(var g=m._getSoundIds(p),v=0;v<g.length;v++){var y=m._soundById(g[v]);if(y){if(p||m._stopFade(g[v]),m._webAudio&&!y._muted){var b=n.ctx.currentTime,w=b+h/1e3;y._volume=f,y._node.gain.setValueAtTime(f,b),y._node.gain.linearRampToValueAtTime(d,w)}m._startFadeInterval(y,f,d,h,g[v],typeof p>"u")}}return m},_startFadeInterval:function(f,d,h,p,m,g){var v=this,y=d,b=h-d,w=Math.abs(b/.01),x=Math.max(4,w>0?p/w:p),S=Date.now();f._fadeTo=h,f._interval=setInterval(function(){var _=(Date.now()-S)/p;S=Date.now(),y+=b*_,y=Math.round(y*100)/100,b<0?y=Math.max(h,y):y=Math.min(h,y),v._webAudio?f._volume=y:v.volume(y,f._id,!0),g&&(v._volume=y),(h<d&&y<=h||h>d&&y>=h)&&(clearInterval(f._interval),f._interval=null,f._fadeTo=null,v.volume(h,f._id),v._emit("fade",f._id))},x)},_stopFade:function(f){var d=this,h=d._soundById(f);return h&&h._interval&&(d._webAudio&&h._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(h._interval),h._interval=null,d.volume(h._fadeTo,f),h._fadeTo=null,d._emit("fade",f)),d},loop:function(){var f=this,d=arguments,h,p,m;if(d.length===0)return f._loop;if(d.length===1)if(typeof d[0]=="boolean")h=d[0],f._loop=h;else return m=f._soundById(parseInt(d[0],10)),m?m._loop:!1;else d.length===2&&(h=d[0],p=parseInt(d[1],10));for(var g=f._getSoundIds(p),v=0;v<g.length;v++)m=f._soundById(g[v]),m&&(m._loop=h,f._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=h,h&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,f.playing(g[v])&&(f.pause(g[v],!0),f.play(g[v],!0)))));return f},rate:function(){var f=this,d=arguments,h,p;if(d.length===0)p=f._sounds[0]._id;else if(d.length===1){var m=f._getSoundIds(),g=m.indexOf(d[0]);g>=0?p=parseInt(d[0],10):h=parseFloat(d[0])}else d.length===2&&(h=parseFloat(d[0]),p=parseInt(d[1],10));var v;if(typeof h=="number"){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"rate",action:function(){f.rate.apply(f,d)}}),f;typeof p>"u"&&(f._rate=h),p=f._getSoundIds(p);for(var y=0;y<p.length;y++)if(v=f._soundById(p[y]),v){f.playing(p[y])&&(v._rateSeek=f.seek(p[y]),v._playStart=f._webAudio?n.ctx.currentTime:v._playStart),v._rate=h,f._webAudio&&v._node&&v._node.bufferSource?v._node.bufferSource.playbackRate.setValueAtTime(h,n.ctx.currentTime):v._node&&(v._node.playbackRate=h);var b=f.seek(p[y]),w=(f._sprite[v._sprite][0]+f._sprite[v._sprite][1])/1e3-b,x=w*1e3/Math.abs(v._rate);(f._endTimers[p[y]]||!v._paused)&&(f._clearTimer(p[y]),f._endTimers[p[y]]=setTimeout(f._ended.bind(f,v),x)),f._emit("rate",v._id)}}else return v=f._soundById(p),v?v._rate:f._rate;return f},seek:function(){var f=this,d=arguments,h,p;if(d.length===0)f._sounds.length&&(p=f._sounds[0]._id);else if(d.length===1){var m=f._getSoundIds(),g=m.indexOf(d[0]);g>=0?p=parseInt(d[0],10):f._sounds.length&&(p=f._sounds[0]._id,h=parseFloat(d[0]))}else d.length===2&&(h=parseFloat(d[0]),p=parseInt(d[1],10));if(typeof p>"u")return 0;if(typeof h=="number"&&(f._state!=="loaded"||f._playLock))return f._queue.push({event:"seek",action:function(){f.seek.apply(f,d)}}),f;var v=f._soundById(p);if(v)if(typeof h=="number"&&h>=0){var y=f.playing(p);y&&f.pause(p,!0),v._seek=h,v._ended=!1,f._clearTimer(p),!f._webAudio&&v._node&&!isNaN(v._node.duration)&&(v._node.currentTime=h);var b=function(){y&&f.play(p,!0),f._emit("seek",p)};if(y&&!f._webAudio){var w=function(){f._playLock?setTimeout(w,0):b()};setTimeout(w,0)}else b()}else if(f._webAudio){var x=f.playing(p)?n.ctx.currentTime-v._playStart:0,S=v._rateSeek?v._rateSeek-v._seek:0;return v._seek+(S+x*Math.abs(v._rate))}else return v._node.currentTime;return f},playing:function(f){var d=this;if(typeof f=="number"){var h=d._soundById(f);return h?!h._paused:!1}for(var p=0;p<d._sounds.length;p++)if(!d._sounds[p]._paused)return!0;return!1},duration:function(f){var d=this,h=d._duration,p=d._soundById(f);return p&&(h=d._sprite[p._sprite][1]/1e3),h},state:function(){return this._state},unload:function(){for(var f=this,d=f._sounds,h=0;h<d.length;h++)d[h]._paused||f.stop(d[h]._id),f._webAudio||(f._clearSound(d[h]._node),d[h]._node.removeEventListener("error",d[h]._errorFn,!1),d[h]._node.removeEventListener(n._canPlayEvent,d[h]._loadFn,!1),d[h]._node.removeEventListener("ended",d[h]._endFn,!1),n._releaseHtml5Audio(d[h]._node)),delete d[h]._node,f._clearTimer(d[h]._id);var p=n._howls.indexOf(f);p>=0&&n._howls.splice(p,1);var m=!0;for(h=0;h<n._howls.length;h++)if(n._howls[h]._src===f._src||f._src.indexOf(n._howls[h]._src)>=0){m=!1;break}return o&&m&&delete o[f._src],n.noAudio=!1,f._state="unloaded",f._sounds=[],f=null,null},on:function(f,d,h,p){var m=this,g=m["_on"+f];return typeof d=="function"&&g.push(p?{id:h,fn:d,once:p}:{id:h,fn:d}),m},off:function(f,d,h){var p=this,m=p["_on"+f],g=0;if(typeof d=="number"&&(h=d,d=null),d||h)for(g=0;g<m.length;g++){var v=h===m[g].id;if(d===m[g].fn&&v||!d&&v){m.splice(g,1);break}}else if(f)p["_on"+f]=[];else{var y=Object.keys(p);for(g=0;g<y.length;g++)y[g].indexOf("_on")===0&&Array.isArray(p[y[g]])&&(p[y[g]]=[])}return p},once:function(f,d,h){var p=this;return p.on(f,d,h,1),p},_emit:function(f,d,h){for(var p=this,m=p["_on"+f],g=m.length-1;g>=0;g--)(!m[g].id||m[g].id===d||f==="load")&&(setTimeout((function(v){v.call(this,d,h)}).bind(p,m[g].fn),0),m[g].once&&p.off(f,m[g].fn,m[g].id));return p._loadQueue(f),p},_loadQueue:function(f){var d=this;if(d._queue.length>0){var h=d._queue[0];h.event===f&&(d._queue.shift(),d._loadQueue()),f||h.action()}return d},_ended:function(f){var d=this,h=f._sprite;if(!d._webAudio&&f._node&&!f._node.paused&&!f._node.ended&&f._node.currentTime<f._stop)return setTimeout(d._ended.bind(d,f),100),d;var p=!!(f._loop||d._sprite[h][2]);if(d._emit("end",f._id),!d._webAudio&&p&&d.stop(f._id,!0).play(f._id),d._webAudio&&p){d._emit("play",f._id),f._seek=f._start||0,f._rateSeek=0,f._playStart=n.ctx.currentTime;var m=(f._stop-f._start)*1e3/Math.abs(f._rate);d._endTimers[f._id]=setTimeout(d._ended.bind(d,f),m)}return d._webAudio&&!p&&(f._paused=!0,f._ended=!0,f._seek=f._start||0,f._rateSeek=0,d._clearTimer(f._id),d._cleanBuffer(f._node),n._autoSuspend()),!d._webAudio&&!p&&d.stop(f._id,!0),d},_clearTimer:function(f){var d=this;if(d._endTimers[f]){if(typeof d._endTimers[f]!="function")clearTimeout(d._endTimers[f]);else{var h=d._soundById(f);h&&h._node&&h._node.removeEventListener("ended",d._endTimers[f],!1)}delete d._endTimers[f]}return d},_soundById:function(f){for(var d=this,h=0;h<d._sounds.length;h++)if(f===d._sounds[h]._id)return d._sounds[h];return null},_inactiveSound:function(){var f=this;f._drain();for(var d=0;d<f._sounds.length;d++)if(f._sounds[d]._ended)return f._sounds[d].reset();return new i(f)},_drain:function(){var f=this,d=f._pool,h=0,p=0;if(!(f._sounds.length<d)){for(p=0;p<f._sounds.length;p++)f._sounds[p]._ended&&h++;for(p=f._sounds.length-1;p>=0;p--){if(h<=d)return;f._sounds[p]._ended&&(f._webAudio&&f._sounds[p]._node&&f._sounds[p]._node.disconnect(0),f._sounds.splice(p,1),h--)}}},_getSoundIds:function(f){var d=this;if(typeof f>"u"){for(var h=[],p=0;p<d._sounds.length;p++)h.push(d._sounds[p]._id);return h}else return[f]},_refreshBuffer:function(f){var d=this;return f._node.bufferSource=n.ctx.createBufferSource(),f._node.bufferSource.buffer=o[d._src],f._panner?f._node.bufferSource.connect(f._panner):f._node.bufferSource.connect(f._node),f._node.bufferSource.loop=f._loop,f._loop&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop||0),f._node.bufferSource.playbackRate.setValueAtTime(f._rate,n.ctx.currentTime),d},_cleanBuffer:function(f){var d=this,h=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!f.bufferSource)return d;if(n._scratchBuffer&&f.bufferSource&&(f.bufferSource.onended=null,f.bufferSource.disconnect(0),h))try{f.bufferSource.buffer=n._scratchBuffer}catch{}return f.bufferSource=null,d},_clearSound:function(f){var d=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);d||(f.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(f){this._parent=f,this.init()};i.prototype={init:function(){var f=this,d=f._parent;return f._muted=d._muted,f._loop=d._loop,f._volume=d._volume,f._rate=d._rate,f._seek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++n._counter,d._sounds.push(f),f.create(),f},create:function(){var f=this,d=f._parent,h=n._muted||f._muted||f._parent._muted?0:f._volume;return d._webAudio?(f._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),f._node.gain.setValueAtTime(h,n.ctx.currentTime),f._node.paused=!0,f._node.connect(n.masterGain)):n.noAudio||(f._node=n._obtainHtml5Audio(),f._errorFn=f._errorListener.bind(f),f._node.addEventListener("error",f._errorFn,!1),f._loadFn=f._loadListener.bind(f),f._node.addEventListener(n._canPlayEvent,f._loadFn,!1),f._endFn=f._endListener.bind(f),f._node.addEventListener("ended",f._endFn,!1),f._node.src=d._src,f._node.preload=d._preload===!0?"auto":d._preload,f._node.volume=h*n.volume(),f._node.load()),f},reset:function(){var f=this,d=f._parent;return f._muted=d._muted,f._loop=d._loop,f._volume=d._volume,f._rate=d._rate,f._seek=0,f._rateSeek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++n._counter,f},_errorListener:function(){var f=this;f._parent._emit("loaderror",f._id,f._node.error?f._node.error.code:0),f._node.removeEventListener("error",f._errorFn,!1)},_loadListener:function(){var f=this,d=f._parent;d._duration=Math.ceil(f._node.duration*10)/10,Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue()),f._node.removeEventListener(n._canPlayEvent,f._loadFn,!1)},_endListener:function(){var f=this,d=f._parent;d._duration===1/0&&(d._duration=Math.ceil(f._node.duration*10)/10,d._sprite.__default[1]===1/0&&(d._sprite.__default[1]=d._duration*1e3),d._ended(f)),f._node.removeEventListener("ended",f._endFn,!1)}};var o={},a=function(f){var d=f._src;if(o[d]){f._duration=o[d].duration,u(f);return}if(/^data:[^;]+;base64,/.test(d)){for(var h=atob(d.split(",")[1]),p=new Uint8Array(h.length),m=0;m<h.length;++m)p[m]=h.charCodeAt(m);l(p.buffer,f)}else{var g=new XMLHttpRequest;g.open(f._xhr.method,d,!0),g.withCredentials=f._xhr.withCredentials,g.responseType="arraybuffer",f._xhr.headers&&Object.keys(f._xhr.headers).forEach(function(v){g.setRequestHeader(v,f._xhr.headers[v])}),g.onload=function(){var v=(g.status+"")[0];if(v!=="0"&&v!=="2"&&v!=="3"){f._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".");return}l(g.response,f)},g.onerror=function(){f._webAudio&&(f._html5=!0,f._webAudio=!1,f._sounds=[],delete o[d],f.load())},s(g)}},s=function(f){try{f.send()}catch{f.onerror()}},l=function(f,d){var h=function(){d._emit("loaderror",null,"Decoding audio data failed.")},p=function(m){m&&d._sounds.length>0?(o[d._src]=m,u(d,m)):h()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(f).then(p).catch(h):n.ctx.decodeAudioData(f,p,h)},u=function(f,d){d&&!f._duration&&(f._duration=d.duration),Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue())},c=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var f=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),d=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),h=d?parseInt(d[1],10):null;if(f&&h&&h<9){var p=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!p&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=r,typeof Go<"u"?(Go.HowlerGlobal=e,Go.Howler=n,Go.Howl=r,Go.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var o=this;if(!o.ctx||!o.ctx.listener)return o;if(r=typeof r!="number"?o._pos[1]:r,i=typeof i!="number"?o._pos[2]:i,typeof n=="number")o._pos=[n,r,i],typeof o.ctx.listener.positionX<"u"?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]);else return o._pos;return o},HowlerGlobal.prototype.orientation=function(n,r,i,o,a,s){var l=this;if(!l.ctx||!l.ctx.listener)return l;var u=l._orientation;if(r=typeof r!="number"?u[1]:r,i=typeof i!="number"?u[2]:i,o=typeof o!="number"?u[3]:o,a=typeof a!="number"?u[4]:a,s=typeof s!="number"?u[5]:s,typeof n=="number")l._orientation=[n,r,i,o,a,s],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(s,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(n,r,i,o,a,s);else return u;return l},Howl.prototype.init=function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var o=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var l=i._soundById(a[s]);if(l)if(typeof n=="number")l._stereo=n,l._pos=[n,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,o),o==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(n,0,0):l._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",l._id);else return l._stereo}return i},Howl.prototype.pos=function(n,r,i,o){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(n,r,i,o)}}),a;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof o>"u")if(typeof n=="number")a._pos=[n,r,i];else return a._pos;for(var s=a._getSoundIds(o),l=0;l<s.length;l++){var u=a._soundById(s[l]);if(u)if(typeof n=="number")u._pos=[n,r,i],u._node&&((!u._panner||u._panner.pan)&&e(u,"spatial"),typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):u._panner.setPosition(n,r,i)),a._emit("pos",u._id);else return u._pos}return a},Howl.prototype.orientation=function(n,r,i,o){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(n,r,i,o)}}),a;if(r=typeof r!="number"?a._orientation[1]:r,i=typeof i!="number"?a._orientation[2]:i,typeof o>"u")if(typeof n=="number")a._orientation=[n,r,i];else return a._orientation;for(var s=a._getSoundIds(o),l=0;l<s.length;l++){var u=a._soundById(s[l]);if(u)if(typeof n=="number")u._orientation=[n,r,i],u._node&&(u._panner||(u._pos||(u._pos=a._pos||[0,0,-.5]),e(u,"spatial")),typeof u._panner.orientationX<"u"?(u._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):u._panner.setOrientation(n,r,i)),a._emit("orientation",u._id);else return u._orientation}return a},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,o,a;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof o>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return a=n._soundById(parseInt(r[0],10)),a?a._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],o=parseInt(r[1],10));for(var s=n._getSoundIds(o),l=0;l<s.length;l++)if(a=n._soundById(s[l]),a){var u=a._pannerAttr;u={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:u.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:u.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:u.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:u.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:u.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:u.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:u.panningModel};var c=a._panner;c||(a._pos||(a._pos=n._pos||[0,0,-.5]),e(a,"spatial"),c=a._panner),c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var e=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()}(qA)),qA}var _5=LQe();const $Qe=async(t,e="read")=>{const n=await t.queryPermission({mode:e}),r=await t.requestPermission({mode:e});return n==="granted"||r==="granted"},BQe=t=>t&&typeof t=="object"&&typeof t.getFile=="function"&&typeof t.name=="string",$k=Ks("jukeboxPlayer",()=>{let t=null;const e=d4(),n=VR(),r=Cy(),i=we(null),o=we(!1),a=we(0),s=we(0),l=we(1),u=we(1),c=we([]),f=we(0),d=re(()=>{const K=f.value;return!i.value||c.value.length===0?!1:K>0||a.value>=5}),h=re(()=>!!(i.value||c.value.length>0)),p=re(()=>{if(!i.value||c.value.length===0)return!1;const K=f.value;return e.jukeboxRepeatMode===Qf.list||K<c.value.length-1});async function m(){$t(" JukeboxPlayer: Initializing global player store (Howler)");const K=["mp3","wav","ogg","aac","m4a","opus","webm","flac"],Z={};K.forEach(J=>{Z[J]=_5.Howler.codecs(J)}),$t(" JukeboxPlayer: Codec support:",Z),await Promise.all([n.load(),r.load()]);const te=e.jukeboxLastVolume;_5.Howler.volume(te),l.value=te,u.value=te,g(),await y(),w()}function g(){"mediaSession"in navigator?(navigator.mediaSession.setActionHandler("play",()=>i.value?C(i.value):null),navigator.mediaSession.setActionHandler("pause",()=>M()),navigator.mediaSession.setActionHandler("previoustrack",()=>A()),navigator.mediaSession.setActionHandler("nexttrack",()=>N())):$t(" JukeboxPlayer: Media Session API not available")}function v(){if("mediaSession"in navigator&&i.value){$t(" JukeboxPlayer: Updating Media Session metadata for track:",i.value.title);const K=[];i.value.picture&&typeof i.value.picture=="string"&&K.push({src:i.value.picture,sizes:"512x512",type:"image/jpeg"}),navigator.mediaSession.metadata=new MediaMetadata({title:i.value.title,artist:i.value.artist,album:"Owlbear's DMH",artwork:K})}}We(i,(K,Z)=>{K?.id!==Z?.id&&v()});async function y(){$t(" JukeboxPlayer: Attempting to restore last track"),$t(" JukeboxPlayer: Config lastTrackId:",e.jukeboxLastTrackId),$t(" JukeboxPlayer: Config lastTrackProgress:",e.jukeboxLastTrackProgress),$t(" JukeboxPlayer: Config lastVolume:",e.jukeboxLastVolume);const K=e.jukeboxLastTrackId;if(!K){$t(" JukeboxPlayer: No lastTrackId in config, skipping restoration");return}const Z=n.getById(K);if(!Z){$t(" JukeboxPlayer: Last track not found in available tracks");return}await _(Z,e.jukeboxLastTrackProgress)&&$t(" JukeboxPlayer: Restored last track with Howler")}const b=K=>{const Z=e.jukeboxActivePlaylistId,te=Z?r.getById(Z):null,J=te?te.trackIds.map(fe=>n.getById(fe)).filter(Boolean):n.items.value;return K?J.toSorted(()=>.5-FQe()):J};function w(){We(()=>e.$state.jukeboxActivePlaylistId,K=>{if(K&&!r.getById(K)){e.jukeboxActivePlaylistId=null;return}Y()},{immediate:!0})}function x(K,Z){K.length>0&&c.value.push(...K)}function S(K){const Z=c.value;for(const te of K){let J=Z.indexOf(te);for(;J>=0;)Z.splice(J,1),J<=f.value&&(f.value-=1),J=Z.indexOf(te)}c.value=Z}const _=async(K,Z=0)=>{const te=await lme(K.fileId);if(!te||!BQe(te.handle)||!await $Qe(te.handle,"read"))return!1;const fe=await cme(te.handle),ue=URL.createObjectURL(fe);let de;return fe.type?de=fe.type.split("/").pop():fe.name&&fe.name.includes(".")&&(de=fe.name.split(".").pop()),t&&(t.unload(),t=null),t=new _5.Howl({src:[ue],html5:!0,volume:l.value,format:de?[de]:void 0,onplay:()=>{o.value=!0,s.value=t?.duration()||0,$(),$t(" JukeboxPlayer: Howler play event")},onpause:()=>{o.value=!1,X(),$t(" JukeboxPlayer: Howler pause event")},onend:()=>{X(),$t(" JukeboxPlayer: Howler ended event, playing next"),N()},onseek:()=>{a.value=t?.seek()||0},onload:()=>{s.value=t?.duration()||0,$t(" JukeboxPlayer: Howler loaded, duration:",s.value),Z>0&&t&&(t.seek(Z),a.value=Z)},onloaderror:(ee,D)=>{Bs(" JukeboxPlayer: Howler load error",D)},onplayerror:(ee,D)=>{Bs(" JukeboxPlayer: Howler play error",D)}}),i.value=K,!0};function k(){e.jukeboxLastTrackProgress=0,a.value=0,t&&t.seek(0),$t(" JukeboxPlayer: Resetting progress")}async function C(K){if(await _(K)){e.jukeboxLastTrackId=K.id,i.value?.id!==K.id&&($t(" JukeboxPlayer: New track"),k());try{t?.play(),$t(" JukeboxPlayer: Track playback started successfully (Howler)")}catch(te){Bs(" JukeboxPlayer: Playback failed (Howler).",te),o.value=!1}}}async function E(K){f.value=c.value.findIndex(({id:Z})=>Z===K.id),await C(K)}async function M(){if($t(" JukeboxPlayer: Toggle play called, current state:",o.value),!t){V6(" JukeboxPlayer: No Howler instance available");return}o.value?($t(" JukeboxPlayer: Pausing playback (Howler)"),t.pause(),o.value=!1):($t(" JukeboxPlayer: Resuming playback (Howler)"),t.play())}async function A(){if(!d.value)return;if(a.value>=5){k();return}f.value-=1;const K=c.value.at(f.value);K&&await C(K)}async function N(){const K=e.jukeboxRepeatMode;if(K===Qf.track&&i.value){await C(i.value);return}if(!p.value){o.value=!1,k();return}f.value===c.value.length-1&&K===Qf.list&&x(b(e.jukeboxShuffle)),f.value+=1;const Z=c.value.at(f.value);Z&&await C(Z)}function T(){$t(" JukeboxPlayer: Stopping playback (Howler)"),t&&(t.stop(),t.unload(),t=null),X(),o.value=!1,i.value=null,a.value=0,e.jukeboxLastTrackId=null,e.jukeboxLastTrackProgress=0}function I(){e.jukeboxShuffle=!e.jukeboxShuffle,Y()}function O(){const K=e.jukeboxRepeatMode;K===Qf.off?e.jukeboxRepeatMode=Qf.list:K===Qf.list?e.jukeboxRepeatMode=Qf.track:e.jukeboxRepeatMode=Qf.off}async function q(K){S([K]);const Z=o.value;T(),Z&&await N()}function L(K,Z){return!!(i.value&&i.value.id===K.id&&e.jukeboxActivePlaylistId===Z)}function Y(){const K=e.jukeboxShuffle,Z=b(K);c.value=[],f.value=0,Z.length>0?(K?(i.value&&x([i.value]),x(Z.filter(({id:te})=>te!==(i.value?i.value.id:"")))):x(Z),f.value=i.value?c.value.findIndex(({id:te})=>te===i.value.id):0):i.value=null}function R(K){e.jukeboxActivePlaylistId===K&&!e.jukeboxShuffle&&i.value&&Y()}function B(K){$t(" JukeboxPlayer: Setting volume to:",K),l.value=K,K>0&&(u.value=K),_5.Howler.volume(K),e.jukeboxLastVolume=K,$t(" JukeboxPlayer: Volume saved to config")}function z(){if($t(" JukeboxPlayer: Toggle mute called, current volume:",l.value),l.value>0)B(0),$t(" JukeboxPlayer: Muted");else{const K=u.value>0?u.value:.5;B(K),$t(" JukeboxPlayer: Unmuted to:",K)}}let P=null;function $(){if(X(),t&&o.value){const K=()=>{t&&o.value&&(a.value=typeof t.seek()=="number"?t.seek():0,P=requestAnimationFrame(K))};P=requestAnimationFrame(K)}}function X(){P!==null&&(cancelAnimationFrame(P),P=null)}return{currentTrack:i,isPlaying:o,hasPrevTrack:d,canPlay:h,hasNextTrack:p,currentTime:a,duration:s,shuffle:re(()=>e.jukeboxShuffle),repeatMode:re(()=>e.jukeboxRepeatMode),volume:l,init:m,resortQueue:R,removeTrackFromQueue:q,playPrev:A,playTrackFromPlaylist:E,togglePlay:M,playNext:N,stop:T,seek:K=>{t&&(t.seek(K),a.value=K)},setVolume:B,toggleMute:z,toggleShuffle:I,cycleRepeatMode:O,trackIsActive:L}}),zQe="http://json-schema.org/draft-07/schema#",qQe="Timer",VQe="object",HQe={id:{type:"string"},title:{type:["string","null"]},description:{type:["string","null"]},duration:{type:"number",minimum:0},startedAt:{anyOf:[{type:"number"},{type:"null"}]},status:{type:"string",enum:["inactive","running","finished"]},createdAt:{type:"number"},updatedAt:{type:"number"}},UQe=["id","duration","startedAt","status","createdAt","updatedAt"],jQe=!1,WQe={$schema:zQe,title:qQe,type:VQe,properties:HQe,required:UQe,additionalProperties:jQe},VA=["sm","md","lg","xl"],{passive:yX}=Zi,GQe=G8({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:of,setDebounce:of,install({$q:t,onSSRHydrated:e}){if(t.screen=this,this.__installed===!0){t.config.screen!==void 0&&(t.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:n}=window,r=n||window,i=document.scrollingElement||document.documentElement,o=n===void 0||_r.is.mobile===!0?()=>[Math.max(window.innerWidth,i.clientWidth),Math.max(window.innerHeight,i.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-i.clientWidth,n.height*n.scale+window.innerHeight-i.clientHeight],a=t.config.screen?.bodyClasses===!0;this.__update=f=>{const[d,h]=o();if(h!==this.height&&(this.height=h),d!==this.width)this.width=d;else if(f!==!0)return;let p=this.sizes;this.gt.xs=d>=p.sm,this.gt.sm=d>=p.md,this.gt.md=d>=p.lg,this.gt.lg=d>=p.xl,this.lt.sm=d<p.sm,this.lt.md=d<p.md,this.lt.lg=d<p.lg,this.lt.xl=d<p.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,p=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",p!==this.name&&(a===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${p}`)),this.name=p)};let s,l={},u=16;this.setSizes=f=>{VA.forEach(d=>{f[d]!==void 0&&(l[d]=f[d])})},this.setDebounce=f=>{u=f};const c=()=>{const f=getComputedStyle(document.body);f.getPropertyValue("--q-size-sm")&&VA.forEach(d=>{this.sizes[d]=parseInt(f.getPropertyValue(`--q-size-${d}`),10)}),this.setSizes=d=>{VA.forEach(h=>{d[h]&&(this.sizes[h]=d[h])}),this.__update(!0)},this.setDebounce=d=>{s!==void 0&&r.removeEventListener("resize",s,yX),s=d>0?nk(this.__update,d):this.__update,r.addEventListener("resize",s,yX)},this.setDebounce(u),Object.keys(l).length!==0?(this.setSizes(l),l=void 0):this.__update(),a===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};Qu.value===!0?e.push(c):c()}}),ca=G8({isActive:!1,mode:!1},{__media:void 0,set(t){ca.mode=t,t==="auto"?(ca.__media===void 0&&(ca.__media=window.matchMedia("(prefers-color-scheme: dark)"),ca.__updateMedia=()=>{ca.set("auto")},ca.__media.addListener(ca.__updateMedia)),t=ca.__media.matches):ca.__media!==void 0&&(ca.__media.removeListener(ca.__updateMedia),ca.__media=void 0),ca.isActive=t===!0,document.body.classList.remove(`body--${t===!0?"light":"dark"}`),document.body.classList.add(`body--${t===!0?"dark":"light"}`)},toggle(){ca.set(ca.isActive===!1)},install({$q:t,ssrContext:e}){const{dark:n}=t.config;t.dark=this,this.__installed!==!0&&this.set(n!==void 0?n:!1)}});function KQe(t,e,n=document.body){if(typeof t!="string")throw new TypeError("Expected a string as propName");if(typeof e!="string")throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${t}`,e)}function fme(t){if(t.ios===!0)return"ios";if(t.android===!0)return"android"}function XQe({is:t,has:e,within:n},r){const i=[t.desktop===!0?"desktop":"mobile",`${e.touch===!1?"no-":""}touch`];if(t.mobile===!0){const o=fme(t);o!==void 0&&i.push("platform-"+o)}if(t.nativeMobile===!0){const o=t.nativeMobileWrapper;i.push(o),i.push("native-mobile"),t.ios===!0&&(r[o]===void 0||r[o].iosStatusBarPadding!==!1)&&i.push("q-ios-padding")}else t.electron===!0?i.push("electron"):t.bex===!0&&i.push("bex");return n.iframe===!0&&i.push("within-iframe"),i}function YQe(){const{is:t}=_r,e=document.body.className,n=new Set(e.replace(/ {2}/g," ").split(" "));if(t.nativeMobile!==!0&&t.electron!==!0&&t.bex!==!0){if(t.desktop===!0)n.delete("mobile"),n.delete("platform-ios"),n.delete("platform-android"),n.add("desktop");else if(t.mobile===!0){n.delete("desktop"),n.add("mobile"),n.delete("platform-ios"),n.delete("platform-android");const i=fme(t);i!==void 0&&n.add(`platform-${i}`)}}_r.has.touch===!0&&(n.delete("no-touch"),n.add("touch")),_r.within.iframe===!0&&n.add("within-iframe");const r=Array.from(n).join(" ");e!==r&&(document.body.className=r)}function ZQe(t){for(const e in t)KQe(e,t[e])}const JQe={install(t){if(this.__installed!==!0){if(Qu.value===!0)YQe();else{const{$q:e}=t;e.config.brand!==void 0&&ZQe(e.config.brand);const n=XQe(_r,e.config);document.body.classList.add.apply(document.body.classList,n)}_r.is.ios===!0&&document.body.addEventListener("touchstart",of),window.addEventListener("keydown",z8e,!0)}}},ED={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:t=>t?`Expand "${t}"`:"Expand",collapse:t=>t?`Collapse "${t}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days",prevMonth:"Previous month",nextMonth:"Next month",prevYear:"Previous year",nextYear:"Next year",today:"Today",prevRangeYears:t=>`Previous ${t} years`,nextRangeYears:t=>`Next ${t} years`},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:t=>t===1?"1 record selected.":(t===0?"No":t)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(t,e,n)=>t+"-"+e+" of "+n,columns:"Columns"},pagination:{first:"First page",prev:"Previous page",next:"Next page",last:"Last page"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function bX(){const t=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof t=="string")return t.split(/[-_]/).map((e,n)=>n===0?e.toLowerCase():n>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase()).join("-")}const Lc=G8({__qLang:{}},{getLocale:bX,set(t=ED,e){const n={...t,rtl:t.rtl===!0,getLocale:bX};{if(n.set=Lc.set,Lc.__langConfig===void 0||Lc.__langConfig.noHtmlAttrs!==!0){const r=document.documentElement;r.setAttribute("dir",n.rtl===!0?"rtl":"ltr"),r.setAttribute("lang",n.isoName)}Object.assign(Lc.__qLang,n)}},install({$q:t,lang:e,ssrContext:n}){t.lang=Lc.__qLang,Lc.__langConfig=t.config.lang,this.__installed===!0?e!==void 0&&this.set(e):(this.props=new Proxy(this.__qLang,{get(){return Reflect.get(...arguments)},ownKeys(r){return Reflect.ownKeys(r).filter(i=>i!=="set"&&i!=="getLocale")}}),this.set(e||ED))}}),QQe={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}},gC=G8({iconMapFn:null,__qIconSet:{}},{set(t,e){const n={...t};n.set=gC.set,Object.assign(gC.__qIconSet,n)},install({$q:t,iconSet:e,ssrContext:n}){t.config.iconMapFn!==void 0&&(this.iconMapFn=t.config.iconMapFn),t.iconSet=this.__qIconSet,Q0(t,"iconMapFn",()=>this.iconMapFn,r=>{this.iconMapFn=r}),this.__installed===!0?e!==void 0&&this.set(e):(this.props=new Proxy(this.__qIconSet,{get(){return Reflect.get(...arguments)},ownKeys(r){return Reflect.ownKeys(r).filter(i=>i!=="set")}}),this.set(e||QQe))}}),wX=[N_,JQe,ca,GQe,kM,Lc,gC];function dme(t,e){const n=Aa(t);n.config.globalProperties=e.config.globalProperties;const{reload:r,...i}=e._context;return Object.assign(n._context,i),n}function xX(t,e){e.forEach(n=>{n.install(t),n.__installed=!0})}function eet(t,e,n){t.config.globalProperties.$q=n.$q,t.provide(lke,n.$q),xX(n,wX),e.components!==void 0&&Object.values(e.components).forEach(r=>{Is(r)===!0&&r.name!==void 0&&t.component(r.name,r)}),e.directives!==void 0&&Object.values(e.directives).forEach(r=>{Is(r)===!0&&r.name!==void 0&&t.directive(r.name,r)}),e.plugins!==void 0&&xX(n,Object.values(e.plugins).filter(r=>typeof r.install=="function"&&wX.includes(r)===!1)),Qu.value===!0&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach(r=>{r()}),n.$q.onSSRHydrated=()=>{}})}const tet=function(t,e={}){const n={version:"2.18.1"};woe===!1?(e.config!==void 0&&Object.assign(P_,e.config),n.config={...P_},Ake()):n.config=e.config||{},eet(t,e,{parentApp:t,$q:n,lang:e.lang,iconSet:e.iconSet,onSSRHydrated:[]})};let net=0;const J6={},Q6={},Bu={},hme={},ret=/^\s*$/,pme=[],iet=[void 0,null,!0,!1,""],jR=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],oet=["top-left","top-right","bottom-left","bottom-right"],Rb={positive:{icon:t=>t.iconSet.type.positive,color:"positive"},negative:{icon:t=>t.iconSet.type.negative,color:"negative"},warning:{icon:t=>t.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:t=>t.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function mme(t,e,n){if(!t)return ub("parameter required");let r;const i={textColor:"white"};if(t.ignoreDefaults!==!0&&Object.assign(i,J6),Is(t)===!1&&(i.type&&Object.assign(i,Rb[i.type]),t={message:t}),Object.assign(i,Rb[t.type||i.type],t),typeof i.icon=="function"&&(i.icon=i.icon(e)),i.spinner?(i.spinner===!0&&(i.spinner=C3),i.spinner=Y0(i.spinner)):i.spinner=!1,i.meta={hasMedia:!!(i.spinner!==!1||i.icon||i.avatar),hasText:SX(i.message)||SX(i.caption)},i.position){if(jR.includes(i.position)===!1)return ub("wrong position",t)}else i.position="bottom";if(iet.includes(i.timeout)===!0)i.timeout=5e3;else{const l=Number(i.timeout);if(isNaN(l)||l<0)return ub("wrong timeout",t);i.timeout=Number.isFinite(l)?l:0}i.timeout===0?i.progress=!1:i.progress===!0&&(i.meta.progressClass="q-notification__progress"+(i.progressClass?` ${i.progressClass}`:""),i.meta.progressStyle={animationDuration:`${i.timeout+1e3}ms`});const o=(Array.isArray(t.actions)===!0?t.actions:[]).concat(t.ignoreDefaults!==!0&&Array.isArray(J6.actions)===!0?J6.actions:[]).concat(Array.isArray(Rb[t.type]?.actions)===!0?Rb[t.type].actions:[]),{closeBtn:a}=i;if(a&&o.push({label:typeof a=="string"?a:e.lang.label.close}),i.actions=o.map(({handler:l,noDismiss:u,...c})=>({flat:!0,...c,onClick:typeof l=="function"?()=>{l(),u!==!0&&s()}:()=>{s()}})),i.multiLine===void 0&&(i.multiLine=i.actions.length>1),Object.assign(i.meta,{class:`q-notification row items-stretch q-notification--${i.multiLine===!0?"multi-line":"standard"}`+(i.color!==void 0?` bg-${i.color}`:"")+(i.textColor!==void 0?` text-${i.textColor}`:"")+(i.classes!==void 0?` ${i.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(i.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(i.multiLine===!0?"":" col"),leftClass:i.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...i.attrs}}),i.group===!1?(i.group=void 0,i.meta.group=void 0):((i.group===void 0||i.group===!0)&&(i.group=[i.message,i.caption,i.multiline].concat(i.actions.map(l=>`${l.label}*${l.icon}`)).join("|")),i.meta.group=i.group+"|"+i.position),i.actions.length===0?i.actions=void 0:i.meta.actionsClass="q-notification__actions row items-center "+(i.multiLine===!0?"justify-end":"col-auto")+(i.meta.hasMedia===!0?" q-notification__actions--with-media":""),n!==void 0){n.notif.meta.timer&&(clearTimeout(n.notif.meta.timer),n.notif.meta.timer=void 0),i.meta.uid=n.notif.meta.uid;const l=Bu[i.position].value.indexOf(n.notif);Bu[i.position].value[l]=i}else{const l=Q6[i.meta.group];if(l===void 0){if(i.meta.uid=net++,i.meta.badge=1,["left","right","center"].indexOf(i.position)!==-1)Bu[i.position].value.splice(Math.floor(Bu[i.position].value.length/2),0,i);else{const u=i.position.indexOf("top")!==-1?"unshift":"push";Bu[i.position].value[u](i)}i.group!==void 0&&(Q6[i.meta.group]=i)}else{if(l.meta.timer&&(clearTimeout(l.meta.timer),l.meta.timer=void 0),i.badgePosition!==void 0){if(oet.includes(i.badgePosition)===!1)return ub("wrong badgePosition",t)}else i.badgePosition=`top-${i.position.indexOf("left")!==-1?"right":"left"}`;i.meta.uid=l.meta.uid,i.meta.badge=l.meta.badge+1,i.meta.badgeClass=`q-notification__badge q-notification__badge--${i.badgePosition}`+(i.badgeColor!==void 0?` bg-${i.badgeColor}`:"")+(i.badgeTextColor!==void 0?` text-${i.badgeTextColor}`:"")+(i.badgeClass?` ${i.badgeClass}`:"");const u=Bu[i.position].value.indexOf(l);Bu[i.position].value[u]=Q6[i.meta.group]=i}}const s=()=>{aet(i),r=void 0};if(i.timeout>0&&(i.meta.timer=setTimeout(()=>{i.meta.timer=void 0,s()},i.timeout+1e3)),i.group!==void 0)return l=>{l!==void 0?ub("trying to update a grouped one which is forbidden",t):s()};if(r={dismiss:s,config:t,notif:i},n!==void 0){Object.assign(n,r);return}return l=>{if(r!==void 0)if(l===void 0)r.dismiss();else{const u=Object.assign({},r.config,l,{group:!1,position:i.position});mme(u,e,r)}}}function aet(t){t.meta.timer&&(clearTimeout(t.meta.timer),t.meta.timer=void 0);const e=Bu[t.position].value.indexOf(t);if(e!==-1){t.group!==void 0&&delete Q6[t.meta.group];const n=pme[""+t.meta.uid];if(n){const{width:r,height:i}=getComputedStyle(n);n.style.left=`${n.offsetLeft}px`,n.style.width=r,n.style.height=i}Bu[t.position].value.splice(e,1),typeof t.onDismiss=="function"&&t.onDismiss()}}function SX(t){return t!=null&&ret.test(t)!==!0}function ub(t,e){return console.error(`Notify: ${t}`,e),!1}function set(){return cn({name:"QNotifications",devtools:{hide:!0},setup(){return()=>he("div",{class:"q-notifications"},jR.map(t=>he(pie,{key:t,class:hme[t],tag:"div",name:`q-notification--${t}`},()=>Bu[t].value.map(e=>{const n=e.meta,r=[];if(n.hasMedia===!0&&(e.spinner!==!1?r.push(he(e.spinner,{class:"q-notification__spinner q-notification__spinner--"+n.leftClass,color:e.spinnerColor,size:e.spinnerSize})):e.icon?r.push(he(Jo,{class:"q-notification__icon q-notification__icon--"+n.leftClass,name:e.icon,color:e.iconColor,size:e.iconSize,role:"img"})):e.avatar&&r.push(he(oP,{class:"q-notification__avatar q-notification__avatar--"+n.leftClass},()=>he("img",{src:e.avatar,"aria-hidden":"true"})))),n.hasText===!0){let o;const a={class:"q-notification__message col"};if(e.html===!0)a.innerHTML=e.caption?`<div>${e.message}</div><div class="q-notification__caption">${e.caption}</div>`:e.message;else{const s=[e.message];o=e.caption?[he("div",s),he("div",{class:"q-notification__caption"},[e.caption])]:s}r.push(he("div",a,o))}const i=[he("div",{class:n.contentClass},r)];return e.progress===!0&&i.push(he("div",{key:`${n.uid}|p|${n.badge}`,class:n.progressClass,style:n.progressStyle})),e.actions!==void 0&&i.push(he("div",{class:n.actionsClass},e.actions.map(o=>he(Ct,o)))),n.badge>1&&i.push(he("div",{key:`${n.uid}|${n.badge}`,class:e.meta.badgeClass,style:e.badgeStyle},[n.badge])),he("div",{ref:o=>{pme[""+n.uid]=o},key:n.uid,class:n.class,...n.attrs},[he("div",{class:n.wrapperClass},i)])}))))}})}const gme={setDefaults(t){Is(t)===!0&&Object.assign(J6,t)},registerType(t,e){Is(e)===!0&&(Rb[t]=e)},install({$q:t,parentApp:e}){if(t.notify=this.create=n=>mme(n,t),t.notify.setDefaults=this.setDefaults,t.notify.registerType=this.registerType,t.config.notify!==void 0&&this.setDefaults(t.config.notify),this.__installed!==!0){jR.forEach(r=>{Bu[r]=we([]);const i=["left","center","right"].includes(r)===!0?"center":r.indexOf("top")!==-1?"top":"bottom",o=r.indexOf("left")!==-1?"start":r.indexOf("right")!==-1?"end":"center",a=["left","right"].includes(r)?`items-${r==="left"?"start":"end"} justify-center`:r==="center"?"flex-center":`items-${o}`;hme[r]=`q-notifications__list q-notifications__list--${i} fixed column no-wrap ${a}`});const n=GI("q-notify");dme(set(),e).mount(n)}}},C5=()=>Date.now();let _X=!1;function uet(t,e){gme.create({color:"secondary",textColor:"primary",message:e,position:"top",timeout:0,closeBtn:!0})}const WR=Ks("timers",()=>{const{t}=Ut(),e=Pl({storeName:"timers",validationSchema:WQe}),n=we(C5()),r=we(!1);async function i(u){const c=e.getById(u);c&&c.status!=="running"&&await e.update(u,{startedAt:C5(),status:"running"})}async function o(u){const c=e.getById(u);c&&c.status==="running"&&await e.update(u,{startedAt:null,status:"inactive"})}async function a(){n.value=C5(),r.value=!1;const u=[];for(const c of e.items.value)c.status==="running"&&c.startedAt&&(C5()-c.startedAt>=c.duration?(u.push(e.update(c.id,{status:"finished"})),uet(c.id,t("timers.finished")+": "+(c.title||t("timers.noTitle")))):r.value=!0);await Promise.all(u).catch(c=>Bs(c)).then(()=>setTimeout(a,1e3))}const s=re(()=>e.items.value);return{...e,init:async()=>{await e.load(),_X||(_X=!0,await a())},timers:s,start:i,stop:o,reset:u=>i(u),now:re(()=>n.value),running:re(()=>r.value)}}),CX="q-slider__marker-labels",cet=t=>({value:t}),fet=({marker:t})=>he("div",{key:t.value,style:t.style,class:t.classes},t.label),vme=[34,37,40,33,39,38],det={...ra,...uy,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},het=["pan","update:modelValue","change"];function pet({updateValue:t,updatePosition:e,getDragging:n,formAttrs:r}){const{props:i,emit:o,slots:a,proxy:{$q:s}}=Lt(),l=ia(i,s),u=ik(r),c=we(!1),f=we(!1),d=we(!1),h=we(!1),p=re(()=>i.vertical===!0?"--v":"--h"),m=re(()=>"-"+(i.switchLabelSide===!0?"switched":"standard")),g=re(()=>i.vertical===!0?i.reverse===!0:i.reverse!==(s.lang.rtl===!0)),v=re(()=>isNaN(i.innerMin)===!0||i.innerMin<i.min?i.min:i.innerMin),y=re(()=>isNaN(i.innerMax)===!0||i.innerMax>i.max?i.max:i.innerMax),b=re(()=>i.disable!==!0&&i.readonly!==!0&&v.value<y.value),w=re(()=>{if(i.step===0)return Fe=>Fe;const Me=(String(i.step).trim().split(".")[1]||"").length;return Fe=>parseFloat(Fe.toFixed(Me))}),x=re(()=>i.step===0?1:i.step),S=re(()=>b.value===!0?i.tabindex||0:-1),_=re(()=>i.max-i.min),k=re(()=>y.value-v.value),C=re(()=>ue(v.value)),E=re(()=>ue(y.value)),M=re(()=>i.vertical===!0?g.value===!0?"bottom":"top":g.value===!0?"right":"left"),A=re(()=>i.vertical===!0?"height":"width"),N=re(()=>i.vertical===!0?"width":"height"),T=re(()=>i.vertical===!0?"vertical":"horizontal"),I=re(()=>{const Me={role:"slider","aria-valuemin":v.value,"aria-valuemax":y.value,"aria-orientation":T.value,"data-step":i.step};return i.disable===!0?Me["aria-disabled"]="true":i.readonly===!0&&(Me["aria-readonly"]="true"),Me}),O=re(()=>`q-slider q-slider${p.value} q-slider--${c.value===!0?"":"in"}active inline no-wrap `+(i.vertical===!0?"row":"column")+(i.disable===!0?" disabled":" q-slider--enabled"+(b.value===!0?" q-slider--editable":""))+(d.value==="both"?" q-slider--focus":"")+(i.label||i.labelAlways===!0?" q-slider--label":"")+(i.labelAlways===!0?" q-slider--label-always":"")+(l.value===!0?" q-slider--dark":"")+(i.dense===!0?" q-slider--dense q-slider--dense"+p.value:""));function q(Me){const Fe="q-slider__"+Me;return`${Fe} ${Fe}${p.value} ${Fe}${p.value}${m.value}`}function L(Me){const Fe="q-slider__"+Me;return`${Fe} ${Fe}${p.value}`}const Y=re(()=>{const Me=i.selectionColor||i.color;return"q-slider__selection absolute"+(Me!==void 0?` text-${Me}`:"")}),R=re(()=>L("markers")+" absolute overflow-hidden"),B=re(()=>L("track-container")),z=re(()=>q("pin")),P=re(()=>q("label")),$=re(()=>q("text-container")),X=re(()=>q("marker-labels-container")+(i.markerLabelsClass!==void 0?` ${i.markerLabelsClass}`:"")),K=re(()=>"q-slider__track relative-position no-outline"+(i.trackColor!==void 0?` bg-${i.trackColor}`:"")),Z=re(()=>{const Me={[N.value]:i.trackSize};return i.trackImg!==void 0&&(Me.backgroundImage=`url(${i.trackImg}) !important`),Me}),te=re(()=>"q-slider__inner absolute"+(i.innerTrackColor!==void 0?` bg-${i.innerTrackColor}`:"")),J=re(()=>{const Me=E.value-C.value,Fe={[M.value]:`${100*C.value}%`,[A.value]:Me===0?"2px":`${100*Me}%`};return i.innerTrackImg!==void 0&&(Fe.backgroundImage=`url(${i.innerTrackImg}) !important`),Fe});function fe(Me){const{min:Fe,max:Ue,step:G}=i;let Se=Fe+Me*(Ue-Fe);if(G>0){const Ie=(Se-v.value)%G;Se+=(Math.abs(Ie)>=G/2?(Ie<0?-1:1)*G:0)-Ie}return Se=w.value(Se),ja(Se,v.value,y.value)}function ue(Me){return _.value===0?0:(Me-i.min)/_.value}function de(Me,Fe){const Ue=jd(Me),G=i.vertical===!0?ja((Ue.top-Fe.top)/Fe.height,0,1):ja((Ue.left-Fe.left)/Fe.width,0,1);return ja(g.value===!0?1-G:G,C.value,E.value)}const ee=re(()=>Q9e(i.markers)===!0?i.markers:x.value),D=re(()=>{const Me=[],Fe=ee.value,Ue=i.max;let G=i.min;do Me.push(G),G+=Fe;while(G<Ue);return Me.push(Ue),Me}),oe=re(()=>{const Me=` ${CX}${p.value}-`;return CX+`${Me}${i.switchMarkerLabelsSide===!0?"switched":"standard"}${Me}${g.value===!0?"rtl":"ltr"}`}),W=re(()=>i.markerLabels===!1?null:j(i.markerLabels).map((Me,Fe)=>({index:Fe,value:Me.value,label:Me.label||Me.value,classes:oe.value+(Me.classes!==void 0?" "+Me.classes:""),style:{...se(Me.value),...Me.style||{}}}))),V=re(()=>({markerList:W.value,markerMap:pe.value,classes:oe.value,getStyle:se})),F=re(()=>{const Me=k.value===0?"2px":100*ee.value/k.value;return{...J.value,backgroundSize:i.vertical===!0?`2px ${Me}%`:`${Me}% 2px`}});function j(Me){if(Me===!1)return null;if(Me===!0)return D.value.map(cet);if(typeof Me=="function")return D.value.map(Ue=>{const G=Me(Ue);return Is(G)===!0?{...G,value:Ue}:{value:Ue,label:G}});const Fe=({value:Ue})=>Ue>=i.min&&Ue<=i.max;return Array.isArray(Me)===!0?Me.map(Ue=>Is(Ue)===!0?Ue:{value:Ue}).filter(Fe):Object.keys(Me).map(Ue=>{const G=Me[Ue],Se=Number(Ue);return Is(G)===!0?{...G,value:Se}:{value:Se,label:G}}).filter(Fe)}function se(Me){return{[M.value]:`${100*(Me-i.min)/_.value}%`}}const pe=re(()=>{if(i.markerLabels===!1)return null;const Me={};return W.value.forEach(Fe=>{Me[Fe.value]=Fe}),Me});function ae(){if(a["marker-label-group"]!==void 0)return a["marker-label-group"](V.value);const Me=a["marker-label"]||fet;return W.value.map(Fe=>Me({marker:Fe,...V.value}))}const H=re(()=>[[_m,Q,void 0,{[T.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Q(Me){Me.isFinal===!0?(h.value!==void 0&&(e(Me.evt),Me.touch===!0&&t(!0),h.value=void 0,o("pan","end")),c.value=!1,d.value=!1):Me.isFirst===!0?(h.value=n(Me.evt),e(Me.evt),t(),c.value=!0,o("pan","start")):(e(Me.evt),t())}function ie(){d.value=!1}function ce(Me){e(Me,n(Me)),t(),f.value=!0,c.value=!0,document.addEventListener("mouseup",ve,!0)}function ve(){f.value=!1,c.value=!1,t(!0),ie(),document.removeEventListener("mouseup",ve,!0)}function Te(Me){e(Me,n(Me)),t(!0)}function be(Me){vme.includes(Me.keyCode)&&t(!0)}function _e(Me){if(i.vertical===!0)return null;const Fe=s.lang.rtl!==i.reverse?1-Me:Me;return{transform:`translateX(calc(${2*Fe-1} * ${i.thumbSize} / 2 + ${50-100*Fe}%))`}}function ge(Me){const Fe=re(()=>f.value===!1&&(d.value===Me.focusValue||d.value==="both")?" q-slider--focus":""),Ue=re(()=>`q-slider__thumb q-slider__thumb${p.value} q-slider__thumb${p.value}-${g.value===!0?"rtl":"ltr"} absolute non-selectable`+Fe.value+(Me.thumbColor.value!==void 0?` text-${Me.thumbColor.value}`:"")),G=re(()=>({width:i.thumbSize,height:i.thumbSize,[M.value]:`${100*Me.ratio.value}%`,zIndex:d.value===Me.focusValue?2:void 0})),Se=re(()=>Me.labelColor.value!==void 0?` text-${Me.labelColor.value}`:""),Ie=re(()=>_e(Me.ratio.value)),qe=re(()=>"q-slider__text"+(Me.labelTextColor.value!==void 0?` text-${Me.labelTextColor.value}`:""));return()=>{const Ze=[he("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[he("path",{d:i.thumbPath})]),he("div",{class:"q-slider__focus-ring fit"})];return(i.label===!0||i.labelAlways===!0)&&(Ze.push(he("div",{class:z.value+" absolute fit no-pointer-events"+Se.value},[he("div",{class:P.value,style:{minWidth:i.thumbSize}},[he("div",{class:$.value,style:Ie.value},[he("span",{class:qe.value},Me.label.value)])])])),i.name!==void 0&&i.disable!==!0&&u(Ze,"push")),he("div",{class:Ue.value,style:G.value,...Me.getNodeData()},Ze)}}function Ae(Me,Fe,Ue,G){const Se=[];i.innerTrackColor!=="transparent"&&Se.push(he("div",{key:"inner",class:te.value,style:J.value})),i.selectionColor!=="transparent"&&Se.push(he("div",{key:"selection",class:Y.value,style:Me.value})),i.markers!==!1&&Se.push(he("div",{key:"marker",class:R.value,style:F.value})),G(Se);const Ie=[_3("div",{key:"trackC",class:B.value,tabindex:Fe.value,...Ue.value},[he("div",{class:K.value,style:Z.value},Se)],"slide",b.value,()=>H.value)];if(i.markerLabels!==!1){const qe=i.switchMarkerLabelsSide===!0?"unshift":"push";Ie[qe](he("div",{key:"markerL",class:X.value},ae()))}return Ie}return On(()=>{document.removeEventListener("mouseup",ve,!0)}),{state:{active:c,focus:d,preventFocus:f,dragging:h,editable:b,classes:O,tabindex:S,attributes:I,roundValueFn:w,keyStep:x,trackLen:_,innerMin:v,innerMinRatio:C,innerMax:y,innerMaxRatio:E,positionProp:M,sizeProp:A,isReversed:g},methods:{onActivate:ce,onMobileClick:Te,onBlur:ie,onKeyup:be,getContent:Ae,getThumbRenderFn:ge,convertRatioToModel:fe,convertModelToRatio:ue,getDraggingRatio:de}}}const met=()=>({}),kX=cn({name:"QSlider",props:{...det,modelValue:{required:!0,default:null,validator:t=>typeof t=="number"||t===null},labelValue:[String,Number]},emits:het,setup(t,{emit:e}){const{proxy:{$q:n}}=Lt(),{state:r,methods:i}=pet({updateValue:p,updatePosition:g,getDragging:m,formAttrs:Cae(t)}),o=we(null),a=we(0),s=we(0);function l(){s.value=t.modelValue===null?r.innerMin.value:ja(t.modelValue,r.innerMin.value,r.innerMax.value)}We(()=>`${t.modelValue}|${r.innerMin.value}|${r.innerMax.value}`,l),l();const u=re(()=>i.convertModelToRatio(s.value)),c=re(()=>r.active.value===!0?a.value:u.value),f=re(()=>{const b={[r.positionProp.value]:`${100*r.innerMinRatio.value}%`,[r.sizeProp.value]:`${100*(c.value-r.innerMinRatio.value)}%`};return t.selectionImg!==void 0&&(b.backgroundImage=`url(${t.selectionImg}) !important`),b}),d=i.getThumbRenderFn({focusValue:!0,getNodeData:met,ratio:c,label:re(()=>t.labelValue!==void 0?t.labelValue:s.value),thumbColor:re(()=>t.thumbColor||t.color),labelColor:re(()=>t.labelColor),labelTextColor:re(()=>t.labelTextColor)}),h=re(()=>r.editable.value!==!0?{}:n.platform.is.mobile===!0?{onClick:i.onMobileClick}:{onMousedown:i.onActivate,onFocus:v,onBlur:i.onBlur,onKeydown:y,onKeyup:i.onKeyup});function p(b){s.value!==t.modelValue&&e("update:modelValue",s.value),b===!0&&e("change",s.value)}function m(){return o.value.getBoundingClientRect()}function g(b,w=r.dragging.value){const x=i.getDraggingRatio(b,w);s.value=i.convertRatioToModel(x),a.value=t.snap!==!0||t.step===0?x:i.convertModelToRatio(s.value)}function v(){r.focus.value=!0}function y(b){if(vme.includes(b.keyCode)===!1)return;zr(b);const w=([34,33].includes(b.keyCode)?10:1)*r.keyStep.value,x=([34,37,40].includes(b.keyCode)?-1:1)*(r.isReversed.value===!0?-1:1)*(t.vertical===!0?-1:1)*w;s.value=ja(r.roundValueFn.value(s.value+x),r.innerMin.value,r.innerMax.value),p()}return()=>{const b=i.getContent(f,r.tabindex,h,w=>{w.push(d())});return he("div",{ref:o,class:r.classes.value+(t.modelValue===null?" q-slider--no-value":""),...r.attributes.value,"aria-valuenow":t.modelValue},b)}}}),Vs=cn({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:e}){const n=re(()=>{const r=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(i=>t[i]===!0).map(i=>`q-btn-group--${i}`).join(" ");return`q-btn-group row no-wrap${r.length!==0?" "+r:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>he("div",{class:n.value},Mr(e.default))}}),yme=cn({name:"QPopupProxy",props:{...wae,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(t,{slots:e,emit:n,attrs:r}){const{proxy:i}=Lt(),{$q:o}=i,a=we(!1),s=we(null),l=re(()=>parseInt(t.breakpoint,10)),{canShow:u}=xae({showing:a});function c(){return o.screen.width<l.value||o.screen.height<l.value?"dialog":"menu"}const f=we(c()),d=re(()=>f.value==="menu"?{maxHeight:"99vh"}:{});We(()=>c(),m=>{a.value!==!0&&(f.value=m)});function h(m){a.value=!0,n("show",m)}function p(m){a.value=!1,f.value=c(),n("hide",m)}return Object.assign(i,{show(m){u(m)===!0&&s.value.show(m)},hide(m){s.value.hide(m)},toggle(m){s.value.toggle(m)}}),Q0(i,"currentComponent",()=>({type:f.value,ref:s.value})),()=>{const m={ref:s,...d.value,...r,onShow:h,onHide:p};let g;return f.value==="dialog"?g=ly:(g=fP,Object.assign(m,{target:t.target,contextMenu:t.contextMenu,noParentEvent:!0,separateClosePopup:!0})),he(g,m,e.default)}}}),get={key:1,class:"track-artwork track-artwork-placeholder"},vet=nt({__name:"AlbumPicture",props:{track:{},artworkSize:{}},setup(t){const e=ume(),{getPictureStyle:n}=e,r=t,i=re(()=>n(r.track?.picture));return On(()=>{e.clearCache()}),(o,a)=>(ye(),He(oP,{size:r.artworkSize??"200px",rounded:"",class:"track-artwork-container"},{default:De(()=>[r.track?.picture?(ye(),Le("div",{key:0,style:Al(i.value),class:"track-artwork"},null,4)):(ye(),Le("div",get,[xe(le(L_),{width:"80",height:"80"})]))]),_:1},8,["size"]))}}),yet={class:"track-info-top"},bet={class:"title text-h6"},wet={class:"artist text-h7"},bme=nt({__name:"TrackInfo",props:{track:{},showArtwork:{type:Boolean},artworkSize:{},horizontal:{type:Boolean}},setup(t){const e=t;return(n,r)=>(ye(),Le("div",{class:Qr({"q-gutter-x-md":!0,row:!0,"track-info-row":!0,"items-center":!0,"justify-start":n.horizontal,"justify-center":!n.horizontal})},[n.showArtwork?(ye(),He(vet,Xc(Ka({key:0},e)),null,16)):ot("",!0),Ee("div",yet,[Ee("div",bet,$e(e.track?.title||"No track selected"),1),Ee("div",wet,$e(e.track?.artist||""),1)])],2))}});function xet(t,e){return re(()=>{const n=typeof t=="function"?t():t.value,r=e?e():void 0;if(!n)return{};let i="";if(r&&r.length>0){const o=r.map(s=>`${s}73`);i=`linear-gradient(45deg, ${o.map((s,l)=>{const u=l/(o.length-1)*100;return`${s} ${u}%`}).join(", ")})`}else i=`linear-gradient(45deg,
        rgba(79, 70, 229, 0.15) 0%,
        rgba(147, 51, 234, 0.15) 25%,
        rgba(236, 72, 153, 0.15) 50%,
        rgba(59, 130, 246, 0.15) 75%,
        rgba(34, 197, 94, 0.15) 100%
      )`;return{"--custom-gradient":i}})}function Xg(t){if(isNaN(t)||t<0)return"0:00";const e=Math.floor(t/60),n=Math.floor(t%60).toString().padStart(2,"0");return`${e}:${n}`}const _et={class:"progress-bar-time time-duration"},Cet=nt({__name:"JukeboxPlayer",props:{animatedBackground:{type:Boolean},showArtwork:{type:Boolean},modal:{type:Boolean}},setup(t){const e=t,{t:n}=Ut(),r=$k(),i=re(()=>!!e.animatedBackground&&r.isPlaying),o=xet(()=>!!e.animatedBackground&&r.isPlaying,()=>{const g=r.currentTrack;if(g?.palette&&g.palette.length>0)return g.palette;if(g?.color)return[g.color,g.color,g.color]}),a=we(!1);function s(g){g.preventDefault();const v=g.deltaY;let y=r.volume-v*.001;y=Math.max(0,Math.min(1,y)),r.setVolume(y)}const l={"--jp-color-primary":"var(--color-primary)","--jp-color-background-soft":"var(--color-background)","--jp-color-primary-dark":"var(--color-primary-dark)","--jp-color-primary-light":"var(--color-text-light)","--jp-color-background":"var(--color-background)","--jp-color-text":"var(--color-text)"};function u(g){g=g.replace("#","");let v=0,y=0,b=0;return g.length===3?(v=parseInt(g[0]+g[0],16),y=parseInt(g[1]+g[1],16),b=parseInt(g[2]+g[2],16)):g.length===6&&(v=parseInt(g.substring(0,2),16),y=parseInt(g.substring(2,4),16),b=parseInt(g.substring(4,6),16)),(.299*v+.587*y+.114*b)/255>.6?"#1e1e2e":"#fff"}function c(g){const v=document.querySelector(".jukebox-player");if(v)if(g){const y=u(g);v.style.setProperty("--track-color",y+"cc"),v.style.setProperty("--track-fill-color",u(y)),v.style.setProperty("--jp-color-primary",y+"cc"),v.style.setProperty("--jp-color-primary-dark",y),v.style.setProperty("--jp-color-primary-light",y+"cc"),v.style.setProperty("--jp-color-text","#333")}else Object.entries(l).forEach(([y,b])=>{v.style.setProperty(y,b)})}J0(()=>{const g=r.currentTrack?.color;setTimeout(()=>c(g),0)});const f=we(!1);function d(){f.value=!f.value}const h=re(()=>r.currentTime/r.duration),p=we(!1),m=g=>{if(g===null)return;const v=r.duration||1,y=g*v;r.seek(y)};return(g,v)=>(ye(),Le("div",{class:Qr({"jukebox-player-modal":e.modal,"jukebox-player":!0,"with-animated-bg":i.value}),style:Al(le(o))},[xe(bme,{track:le(r).currentTrack,"show-artwork":e.showArtwork},null,8,["track","show-artwork"]),xe(Sm,{class:"q-pa-none q-gutter-x-sm progress-bar"},{default:De(()=>[Ee("div",{class:"progress-bar-time time-current",onClick:d},[f.value?(ye(),Le(Tt,{key:1},[vt(" -"+$e(le(Xg)((le(r).duration||0)-le(r).currentTime)),1)],64)):(ye(),Le(Tt,{key:0},[vt($e(le(Xg)(le(r).currentTime)),1)],64))]),Ee("div",{class:"progress-bar-seek",onMouseenter:v[1]||(v[1]=y=>p.value=!0),onMouseleave:v[2]||(v[2]=y=>p.value=!1)},[xe(kX,{"model-value":h.value,min:0,disable:le(r).currentTrack===null,max:1,step:.001,label:!1,markers:!1,color:le(r).currentTrack!==null&&p.value?"info":"primary","track-size":p.value?"10px":"5px","onUpdate:modelValue":v[0]||(v[0]=y=>y!==null&&m(y))},null,8,["model-value","disable","color","track-size"])],32),Ee("div",_et,$e(le(Xg)(le(r).duration)),1)]),_:1}),xe(Sm,{class:"q-pa-none q-gutter-x-sm justify-between player-controls"},{default:De(()=>[xe(Vs,{flat:"",class:"playback-options"},{default:De(()=>[xe(Ct,{flat:"",class:Qr({"text-blue-grey-4":!le(r).shuffle}),onClick:le(r).toggleShuffle,title:le(n)("jukebox.shuffle")},{default:De(()=>[xe(le(HAe))]),_:1},8,["class","onClick","title"]),xe(Ct,{flat:"",class:Qr({"text-blue-grey-4":le(r).repeatMode!=="list"&&le(r).repeatMode!=="track"}),onClick:le(r).cycleRepeatMode,title:le(n)("jukebox.repeat")},{default:De(()=>[le(r).repeatMode==="off"?(ye(),He(le(SV),{key:0})):le(r).repeatMode==="list"?(ye(),He(le(SV),{key:1})):(ye(),He(le(C9e),{key:2}))]),_:1},8,["class","onClick","title"])]),_:1}),xe(Vs,{flat:"",class:"playback-controls"},{default:De(()=>[xe(Ct,{flat:"",onClick:v[3]||(v[3]=y=>le(r).playPrev()),disabled:!le(r).hasPrevTrack,class:"prev-track"},{default:De(()=>[xe(le(x9e))]),_:1},8,["disabled"]),xe(Ct,{flat:"",onClick:v[4]||(v[4]=y=>le(r).togglePlay()),disabled:!le(r).canPlay,class:"play-pause"},{default:De(()=>[le(r).isPlaying?(ye(),He(le(vae),{key:0})):(ye(),He(le(yae),{key:1}))]),_:1},8,["disabled"]),xe(Ct,{flat:"",onClick:v[5]||(v[5]=y=>le(r).playNext()),disabled:!le(r).currentTrack||!le(r).hasNextTrack,class:"next-track"},{default:De(()=>[xe(le(S9e))]),_:1},8,["disabled"])]),_:1}),xe(Vs,{flat:"",class:"volume-control"},{default:De(()=>[xe(Ct,{flat:"",onClick:v[10]||(v[10]=y=>le(r).toggleMute()),onWheel:Wo(s,["prevent"]),class:"volume-button",onMouseenter:v[11]||(v[11]=y=>a.value=!0),onMouseleave:v[12]||(v[12]=y=>a.value=!1)},{default:De(()=>[le(r).volume>0?(ye(),He(le(N9e),{key:0})):(ye(),He(le(D9e),{key:1})),xe(yme,{modelValue:a.value,"onUpdate:modelValue":v[7]||(v[7]=y=>a.value=y),"transition-show":"jump-left","transition-hide":"jump-right",anchor:"center left",self:"center right",breakpoint:0,onMouseleave:v[8]||(v[8]=y=>a.value=!1),onMouseenter:v[9]||(v[9]=y=>a.value=!0)},{default:De(()=>[Ee("div",{class:"volume-popup q-pa-sm",style:{width:"140px"},onWheel:Wo(s,["prevent"])},[xe(kX,{"model-value":le(r).volume,min:0,max:1,step:.01,label:!1,markers:!1,color:"info",size:"md",class:"volume-bar","onUpdate:modelValue":v[6]||(v[6]=y=>y!==null&&le(r).setVolume(y))},null,8,["model-value"])],32)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})],6))}}),wme=vr(Cet,[["__scopeId","data-v-c433d42e"]]),ket=nt({__name:"App",setup(t){const e=$k(),n=WR();we(!1);const r=we(0),i=[wV,n9e,r9e,i9e,o9e,a9e,ZAe,JAe,QAe,YAe,e9e,t9e],o=we(wV);We(()=>n.now,()=>{n.running&&(r.value===i.length&&(r.value=0),o.value=i[r.value],r.value+=1)});const{t:a}=Ut(),s=go(),l=[{section:Tc.NOTES,label:"navigation.notes",path:"/notes",icon:y9e},{section:Tc.CHARACTERS,label:"navigation.characters",path:"/characters",icon:bae},{section:Tc.PARTIES,label:"navigation.parties",path:"/parties",icon:M9e},{section:Tc.MODULES,label:"navigation.modules",path:"/modules",icon:WAe},{section:Tc.MONSTERS,label:"navigation.monsters",path:"/monsters",icon:gae},{section:Tc.ENCOUNTERS,label:"navigation.encounters",path:"/encounters",icon:O3},{section:Tc.TIMERS,label:"navigation.timers",path:"/timers",icon:o,ref:!0}];function u(S){return s.currentRoute.value.path.startsWith(S.path)}function c(){return s.currentRoute.value.path==="/jukebox"}const f=we(!1);function d(){f.value=!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}kt(async()=>{document.addEventListener("fullscreenchange",d),document.addEventListener("webkitfullscreenchange",d),document.addEventListener("mozfullscreenchange",d),document.addEventListener("MSFullscreenChange",d),d(),await e.init(),await n.init()}),Oo(()=>{document.removeEventListener("fullscreenchange",d),document.removeEventListener("webkitfullscreenchange",d),document.removeEventListener("mozfullscreenchange",d),document.removeEventListener("MSFullscreenChange",d)});const h=we(!1),p=we(!0);function m(){h.value=!h.value}const g=we(!0),v=fr(null);Cl("setTopMenuContent",S=>{v.value=S});const y=fr(null);Cl("setRightDrawerContent",S=>{y.value=S});const b=fr(null);Cl("setBottomDrawerContent",S=>{b.value=S});const w=we(!1),x=we(!1);return(S,_)=>(ye(),Le("div",null,[xe(goe,{view:"hHh LpR lFr"},{default:De(()=>[xe(cke,{bordered:"",class:"bg-primary text-white"},{default:De(()=>[xe(Sm,null,{default:De(()=>[xe(Sm,{class:"text-white justify-between"},{default:De(()=>[xe(Ct,{dense:"",flat:"",onClick:m,class:"q-mr-sm"},{default:De(()=>[xe(le(g9e))]),_:1}),v.value?(ye(),He(sf,{key:0,vertical:""})):ot("",!0),v.value?(ye(),He(ya(v.value.component),Xc(Ka({key:1},v.value.props)),null,16)):ot("",!0)]),_:1})]),_:1})]),_:1}),xe(wq,{"show-if-above":"",modelValue:h.value,"onUpdate:modelValue":_[2]||(_[2]=k=>h.value=k),side:"left",bordered:"",mini:g.value,onMouseenter:_[3]||(_[3]=k=>g.value=!1),onMouseleave:_[4]||(_[4]=k=>g.value=!0),class:"left-sidebar full-height column justify-between q-gutter-y-sm"},{default:De(()=>[Ee("div",null,[xe(hv,null,{default:De(()=>[(ye(),Le(Tt,null,Gn(l,(k,C)=>fo(xe(eu,{key:C,clickable:"",active:u(k),"active-class":"bg-secondary",to:k.path},{default:De(()=>[xe(Er,{side:""},{default:De(()=>[(ye(),He(ya(k.section===le(Tc).TIMERS&&k.icon.value?k.icon.value:k.icon),{key:k.section===le(Tc).TIMERS?r.value:void 0}))]),_:2},1024),xe(Er,null,{default:De(()=>[vt($e(le(a)(k.label)),1)]),_:2},1024)]),_:2},1032,["active","to"]),[[vd]])),64))]),_:1})]),Ee("div",null,[xe(hv,null,{default:De(()=>[c()?fo((ye(),He(eu,{key:0,clickable:"",active:c(),to:"/jukebox","active-class":"bg-secondary"},{default:De(()=>[xe(Er,{side:""},{default:De(()=>[xe(le(L_))]),_:1}),xe(Er,null,{default:De(()=>[vt($e(le(a)("app.jukebox")),1)]),_:1})]),_:1},8,["active"])),[[vd]]):fo((ye(),He(eu,{key:1,class:"jukebox-button",clickable:"",onClick:_[0]||(_[0]=k=>w.value=!0)},{default:De(()=>[xe(Er,{side:""},{default:De(()=>[xe(le(L_))]),_:1}),xe(Er,null,{default:De(()=>[vt($e(le(a)("app.jukebox")),1)]),_:1})]),_:1})),[[vd]]),fo((ye(),He(eu,{clickable:"",active:!1,onClick:_[1]||(_[1]=k=>x.value=!0)},{default:De(()=>[xe(Er,{side:""},{default:De(()=>[xe(le(pae))]),_:1}),xe(Er,null,{default:De(()=>[vt($e(le(a)("app.calculator")),1)]),_:1})]),_:1})),[[vd]])]),_:1})])]),_:1},8,["modelValue","mini"]),y.value?(ye(),He(wq,{key:0,modelValue:p.value,"onUpdate:modelValue":_[5]||(_[5]=k=>p.value=k),side:"right",bordered:"",class:"right-sidebar"},{default:De(()=>[(ye(),He(ya(y.value.component),Xc(Vm(y.value.props)),null,16))]),_:1},8,["modelValue"])):ot("",!0),xe(poe,null,{default:De(()=>[xe(le(zoe))]),_:1}),b.value?(ye(),He(_ke,{key:1,elevated:"",class:"q-pa-md text-primary bg-secondary"},{default:De(()=>[(ye(),He(ya(b.value.component),Xc(Vm(b.value.props)),null,16))]),_:1})):ot("",!0)]),_:1}),Ee("div",null,[xe($9e),xe(Z9e),xe(AQe),x.value?(ye(),He(aKe,{key:0,modelValue:x.value,"onUpdate:modelValue":_[6]||(_[6]=k=>x.value=k)},null,8,["modelValue"])):ot("",!0),xe(ly,{modelValue:w.value,"onUpdate:modelValue":_[9]||(_[9]=k=>w.value=k),seamless:"",position:"bottom"},{default:De(()=>[xe(T0,null,{default:De(()=>[xe(Sm,{class:"justify-between"},{default:De(()=>[xe(Ct,{flat:"",clickable:"",onClick:_[7]||(_[7]=k=>w.value=!1),to:"/jukebox"},{default:De(()=>[xe(le(d9e))]),_:1}),xe(Ct,{flat:"",clickable:"",onClick:_[8]||(_[8]=k=>w.value=!1)},{default:De(()=>[xe(le(pu))]),_:1})]),_:1}),xe(wme,{modal:!0,"show-artwork":!0})]),_:1})]),_:1},8,["modelValue"])])]))}}),Eet="http://json-schema.org/draft-07/schema#",Aet="PlayerCharacter",Tet="object",Met=["id","name","createdAt","updatedAt"],Det={id:{type:"string"},name:{type:"string"},notes:{type:"string"},createdAt:{type:"number"},updatedAt:{type:"number"}},Net={$schema:Eet,title:Aet,type:Tet,required:Met,properties:Det},ky=Ks("characters",()=>{const t=Pl({storeName:"characters",validationSchema:Net}),e=we(""),n=re(()=>{let r=t.items.value;if(e.value){const i=e.value.toLowerCase();r=r.filter(o=>o.name.toLowerCase().includes(i))}return r});return{...t,filtered:n,setFilter:r=>{e.value=r},clearFilter:()=>{e.value=""},setSearchQuery:r=>{e.value=r},searchQuery:e}}),Oet=cn({name:"QToolbarTitle",props:{shrink:Boolean},setup(t,{slots:e}){const n=re(()=>"q-toolbar__title ellipsis"+(t.shrink===!0?" col-shrink":""));return()=>he("div",{class:n.value},Mr(e.default))}}),EX={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},vC={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleLowerCase()}},xme=Object.keys(vC);xme.forEach(t=>{vC[t].regex=new RegExp(vC[t].pattern)});const Iet=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+xme.join("")+"])|(.)","g"),AX=/[.*+?^${}()|[\]\\]/g,Gi="",Pet={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Ret(t,e,n,r){let i,o,a,s,l,u;const c=we(null),f=we(h());function d(){return t.autogrow===!0||["textarea","text","search","url","tel","password"].includes(t.type)}We(()=>t.type+t.autogrow,m),We(()=>t.mask,C=>{if(C!==void 0)g(f.value,!0);else{const E=_(f.value);m(),t.modelValue!==E&&e("update:modelValue",E)}}),We(()=>t.fillMask+t.reverseFillMask,()=>{c.value===!0&&g(f.value,!0)}),We(()=>t.unmaskedValue,()=>{c.value===!0&&g(f.value)});function h(){if(m(),c.value===!0){const C=x(_(t.modelValue));return t.fillMask!==!1?k(C):C}return t.modelValue}function p(C){if(C<i.length)return i.slice(-C);let E="",M=i;const A=M.indexOf(Gi);if(A!==-1){for(let N=C-M.length;N>0;N--)E+=Gi;M=M.slice(0,A)+E+M.slice(A)}return M}function m(){if(c.value=t.mask!==void 0&&t.mask.length!==0&&d(),c.value===!1){s=void 0,i="",o="";return}const C=EX[t.mask]===void 0?t.mask:EX[t.mask],E=typeof t.fillMask=="string"&&t.fillMask.length!==0?t.fillMask.slice(0,1):"_",M=E.replace(AX,"\\$&"),A=[],N=[],T=[];let I=t.reverseFillMask===!0,O="",q="";C.replace(Iet,(B,z,P,$,X)=>{if($!==void 0){const K=vC[$];T.push(K),q=K.negate,I===!0&&(N.push("(?:"+q+"+)?("+K.pattern+"+)?(?:"+q+"+)?("+K.pattern+"+)?"),I=!1),N.push("(?:"+q+"+)?("+K.pattern+")?")}else if(P!==void 0)O="\\"+(P==="\\"?"":P),T.push(P),A.push("([^"+O+"]+)?"+O+"?");else{const K=z!==void 0?z:X;O=K==="\\"?"\\\\\\\\":K.replace(AX,"\\\\$&"),T.push(K),A.push("([^"+O+"]+)?"+O+"?")}});const L=new RegExp("^"+A.join("")+"("+(O===""?".":"[^"+O+"]")+"+)?"+(O===""?"":"["+O+"]*")+"$"),Y=N.length-1,R=N.map((B,z)=>z===0&&t.reverseFillMask===!0?new RegExp("^"+M+"*"+B):z===Y?new RegExp("^"+B+"("+(q===""?".":q)+"+)?"+(t.reverseFillMask===!0?"$":M+"*")):new RegExp("^"+B));a=T,s=B=>{const z=L.exec(t.reverseFillMask===!0?B:B.slice(0,T.length+1));z!==null&&(B=z.slice(1).join(""));const P=[],$=R.length;for(let X=0,K=B;X<$;X++){const Z=R[X].exec(K);if(Z===null)break;K=K.slice(Z.shift().length),P.push(...Z)}return P.length!==0?P.join(""):B},i=T.map(B=>typeof B=="string"?B:Gi).join(""),o=i.split(Gi).join(E)}function g(C,E,M){const A=r.value,N=A.selectionEnd,T=A.value.length-N,I=_(C);E===!0&&m();const O=x(I),q=t.fillMask!==!1?k(O):O,L=f.value!==q;A.value!==q&&(A.value=q),L===!0&&(f.value=q),document.activeElement===A&&Tn(()=>{if(q===o){const R=t.reverseFillMask===!0?o.length:0;A.setSelectionRange(R,R,"forward");return}if(M==="insertFromPaste"&&t.reverseFillMask!==!0){const R=A.selectionEnd;let B=N-1;for(let z=l;z<=B&&z<R;z++)i[z]!==Gi&&B++;y.right(A,B);return}if(["deleteContentBackward","deleteContentForward"].indexOf(M)!==-1){const R=t.reverseFillMask===!0?N===0?q.length>O.length?1:0:Math.max(0,q.length-(q===o?0:Math.min(O.length,T)+1))+1:N;A.setSelectionRange(R,R,"forward");return}if(t.reverseFillMask===!0)if(L===!0){const R=Math.max(0,q.length-(q===o?0:Math.min(O.length,T+1)));R===1&&N===1?A.setSelectionRange(R,R,"forward"):y.rightReverse(A,R)}else{const R=q.length-T;A.setSelectionRange(R,R,"backward")}else if(L===!0){const R=Math.max(0,i.indexOf(Gi),Math.min(O.length,N)-1);y.right(A,R)}else{const R=N-1;y.right(A,R)}});const Y=t.unmaskedValue===!0?_(q):q;String(t.modelValue)!==Y&&(t.modelValue!==null||Y!=="")&&n(Y,!0)}function v(C,E,M){const A=x(_(C.value));E=Math.max(0,i.indexOf(Gi),Math.min(A.length,E)),l=E,C.setSelectionRange(E,M,"forward")}const y={left(C,E){const M=i.slice(E-1).indexOf(Gi)===-1;let A=Math.max(0,E-1);for(;A>=0;A--)if(i[A]===Gi){E=A,M===!0&&E++;break}if(A<0&&i[E]!==void 0&&i[E]!==Gi)return y.right(C,0);E>=0&&C.setSelectionRange(E,E,"backward")},right(C,E){const M=C.value.length;let A=Math.min(M,E+1);for(;A<=M;A++)if(i[A]===Gi){E=A;break}else i[A-1]===Gi&&(E=A);if(A>M&&i[E-1]!==void 0&&i[E-1]!==Gi)return y.left(C,M);C.setSelectionRange(E,E,"forward")},leftReverse(C,E){const M=p(C.value.length);let A=Math.max(0,E-1);for(;A>=0;A--)if(M[A-1]===Gi){E=A;break}else if(M[A]===Gi&&(E=A,A===0))break;if(A<0&&M[E]!==void 0&&M[E]!==Gi)return y.rightReverse(C,0);E>=0&&C.setSelectionRange(E,E,"backward")},rightReverse(C,E){const M=C.value.length,A=p(M),N=A.slice(0,E+1).indexOf(Gi)===-1;let T=Math.min(M,E+1);for(;T<=M;T++)if(A[T-1]===Gi){E=T,E>0&&N===!0&&E--;break}if(T>M&&A[E-1]!==void 0&&A[E-1]!==Gi)return y.leftReverse(C,M);C.setSelectionRange(E,E,"forward")}};function b(C){e("click",C),u=void 0}function w(C){if(e("keydown",C),K8(C)===!0||C.altKey===!0)return;const E=r.value,M=E.selectionStart,A=E.selectionEnd;if(C.shiftKey||(u=void 0),C.keyCode===37||C.keyCode===39){C.shiftKey&&u===void 0&&(u=E.selectionDirection==="forward"?M:A);const N=y[(C.keyCode===39?"right":"left")+(t.reverseFillMask===!0?"Reverse":"")];if(C.preventDefault(),N(E,u===M?A:M),C.shiftKey){const T=E.selectionStart;E.setSelectionRange(Math.min(u,T),Math.max(u,T),"forward")}}else C.keyCode===8&&t.reverseFillMask!==!0&&M===A?(y.left(E,M),E.setSelectionRange(E.selectionStart,A,"backward")):C.keyCode===46&&t.reverseFillMask===!0&&M===A&&(y.rightReverse(E,A),E.setSelectionRange(M,E.selectionEnd,"forward"))}function x(C){if(C==null||C==="")return"";if(t.reverseFillMask===!0)return S(C);const E=a;let M=0,A="";for(let N=0;N<E.length;N++){const T=C[M],I=E[N];if(typeof I=="string")A+=I,T===I&&M++;else if(T!==void 0&&I.regex.test(T))A+=I.transform!==void 0?I.transform(T):T,M++;else return A}return A}function S(C){const E=a,M=i.indexOf(Gi);let A=C.length-1,N="";for(let T=E.length-1;T>=0&&A!==-1;T--){const I=E[T];let O=C[A];if(typeof I=="string")N=I+N,O===I&&A--;else if(O!==void 0&&I.regex.test(O))do N=(I.transform!==void 0?I.transform(O):O)+N,A--,O=C[A];while(M===T&&O!==void 0&&I.regex.test(O));else return N}return N}function _(C){return typeof C!="string"||s===void 0?typeof C=="number"?s(""+C):C:s(C)}function k(C){return o.length-C.length<=0?C:t.reverseFillMask===!0&&C.length!==0?o.slice(0,-C.length)+C:C+o.slice(C.length)}return{innerValue:f,hasMask:c,moveCursorForPaste:v,updateMaskValue:g,onMaskedKeydown:w,onMaskedClick:b}}function Fet(t,e){function n(){const r=t.modelValue;try{const i="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(r)===r&&("length"in r?Array.from(r):[r]).forEach(o=>{i.items.add(o)}),{files:i.files}}catch{return{files:void 0}}}return re(()=>{if(t.type==="file")return n()})}const ui=cn({name:"QInput",inheritAttrs:!1,props:{...rk,...Pet,...uy,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...lP,"paste","change","keydown","click","animationend"],setup(t,{emit:e,attrs:n}){const{proxy:r}=Lt(),{$q:i}=r,o={};let a=NaN,s,l,u=null,c;const f=we(null),d=kae(t),{innerValue:h,hasMask:p,moveCursorForPaste:m,updateMaskValue:g,onMaskedKeydown:v,onMaskedClick:y}=Ret(t,e,O,f),b=Fet(t),w=re(()=>P3(h.value)),x=Eae(T),S=uP({changeEvent:!0}),_=re(()=>t.type==="textarea"||t.autogrow===!0),k=re(()=>_.value===!0||["text","search","url","tel","password"].includes(t.type)),C=re(()=>{const z={...S.splitAttrs.listeners.value,onInput:T,onPaste:N,onChange:L,onBlur:Y,onFocus:ml};return z.onCompositionstart=z.onCompositionupdate=z.onCompositionend=x,p.value===!0&&(z.onKeydown=v,z.onClick=y),t.autogrow===!0&&(z.onAnimationend=I),z}),E=re(()=>{const z={tabindex:0,"data-autofocus":t.autofocus===!0||void 0,rows:t.type==="textarea"?6:void 0,"aria-label":t.label,name:d.value,...S.splitAttrs.attributes.value,id:S.targetUid.value,maxlength:t.maxlength,disabled:t.disable===!0,readonly:t.readonly===!0};return _.value===!1&&(z.type=t.type),t.autogrow===!0&&(z.rows=1),z});We(()=>t.type,()=>{f.value&&(f.value.value=t.modelValue)}),We(()=>t.modelValue,z=>{if(p.value===!0){if(l===!0&&(l=!1,String(z)===a))return;g(z)}else h.value!==z&&(h.value=z,t.type==="number"&&o.hasOwnProperty("value")===!0&&(s===!0?s=!1:delete o.value));t.autogrow===!0&&Tn(q)}),We(()=>t.autogrow,z=>{z===!0?Tn(q):f.value!==null&&n.rows>0&&(f.value.style.height="auto")}),We(()=>t.dense,()=>{t.autogrow===!0&&Tn(q)});function M(){X8(()=>{const z=document.activeElement;f.value!==null&&f.value!==z&&(z===null||z.id!==S.targetUid.value)&&f.value.focus({preventScroll:!0})})}function A(){f.value?.select()}function N(z){if(p.value===!0&&t.reverseFillMask!==!0){const P=z.target;m(P,P.selectionStart,P.selectionEnd)}e("paste",z)}function T(z){if(!z||!z.target)return;if(t.type==="file"){e("update:modelValue",z.target.files);return}const P=z.target.value;if(z.target.qComposing===!0){o.value=P;return}if(p.value===!0)g(P,!1,z.inputType);else if(O(P),k.value===!0&&z.target===document.activeElement){const{selectionStart:$,selectionEnd:X}=z.target;$!==void 0&&X!==void 0&&Tn(()=>{z.target===document.activeElement&&P.indexOf(z.target.value)===0&&z.target.setSelectionRange($,X)})}t.autogrow===!0&&q()}function I(z){e("animationend",z),q()}function O(z,P){c=()=>{u=null,t.type!=="number"&&o.hasOwnProperty("value")===!0&&delete o.value,t.modelValue!==z&&a!==z&&(a=z,P===!0&&(l=!0),e("update:modelValue",z),Tn(()=>{a===z&&(a=NaN)})),c=void 0},t.type==="number"&&(s=!0,o.value=z),t.debounce!==void 0?(u!==null&&clearTimeout(u),o.value=z,u=setTimeout(c,t.debounce)):c()}function q(){requestAnimationFrame(()=>{const z=f.value;if(z!==null){const P=z.parentNode.style,{scrollTop:$}=z,{overflowY:X,maxHeight:K}=i.platform.is.firefox===!0?{}:window.getComputedStyle(z),Z=X!==void 0&&X!=="scroll";Z===!0&&(z.style.overflowY="hidden"),P.marginBottom=z.scrollHeight-1+"px",z.style.height="1px",z.style.height=z.scrollHeight+"px",Z===!0&&(z.style.overflowY=parseInt(K,10)<z.scrollHeight?"auto":"hidden"),P.marginBottom="",z.scrollTop=$}})}function L(z){x(z),u!==null&&(clearTimeout(u),u=null),c?.(),e("change",z.target.value)}function Y(z){z!==void 0&&ml(z),u!==null&&(clearTimeout(u),u=null),c?.(),s=!1,l=!1,delete o.value,t.type!=="file"&&setTimeout(()=>{f.value!==null&&(f.value.value=h.value!==void 0?h.value:"")})}function R(){return o.hasOwnProperty("value")===!0?o.value:h.value!==void 0?h.value:""}On(()=>{Y()}),kt(()=>{t.autogrow===!0&&q()}),Object.assign(S,{innerValue:h,fieldClass:re(()=>`q-${_.value===!0?"textarea":"input"}`+(t.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:re(()=>t.type!=="file"&&typeof t.shadowText=="string"&&t.shadowText.length!==0),inputRef:f,emitValue:O,hasValue:w,floatingLabel:re(()=>w.value===!0&&(t.type!=="number"||isNaN(h.value)===!1)||P3(t.displayValue)),getControl:()=>he(_.value===!0?"textarea":"input",{ref:f,class:["q-field__native q-placeholder",t.inputClass],style:t.inputStyle,...E.value,...C.value,...t.type!=="file"?{value:R()}:b.value}),getShadowControl:()=>he("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(_.value===!0?"":" text-no-wrap")},[he("span",{class:"invisible"},R()),he("span",t.shadowText)])});const B=cP(S);return Object.assign(r,{focus:M,select:A,getNativeElement:()=>f.value}),Q0(r,"nativeEl",()=>f.value),B}}),Sme=nt({__name:"ViewHeader",props:{buttons:{type:Array,default:[]},title:{type:String,default:""},showCreate:{type:Boolean,default:!1},createTitle:{type:String,default:"Create"},onCreate:{type:Function,default:t=>{}},showEdit:{type:Boolean,default:!1},editTitle:{type:String,default:"Edit"},onEdit:{type:Function,default:t=>{}},showDelete:{type:Boolean,default:!1},deleteTitle:{type:String,default:"Delete"},onDelete:{type:Function,default:t=>{}},isEditing:{type:Boolean,default:!1},showSearch:{type:Boolean,default:!1},searchQuery:{type:String,default:""},searchPlaceholder:{type:String,default:""}},emits:["create","update:searchQuery"],setup(t,{emit:e}){const{t:n}=Ut(),r=t,i=e;return kt(()=>console.log(r.buttons)),(o,a)=>(ye(),Le(Tt,null,[r.title?(ye(),He(Oet,{key:0},{default:De(()=>[vt($e(r.title),1)]),_:1})):ot("",!0),r.buttons.length>0?(ye(),He(Vs,{key:1},{default:De(()=>[(ye(!0),Le(Tt,null,Gn(r.buttons,(s,l)=>(ye(),He(Ct,{color:s.color,onClick:s.event,title:le(n)(s.title),"aria-label":le(n)(s.title),disable:s.disabled},{default:De(()=>[(ye(),He(ya(s.icon)))]),_:2},1032,["color","onClick","title","aria-label","disable"]))),256))]),_:1})):ot("",!0),xe(Vs,null,{default:De(()=>[r.showCreate?(ye(),He(Ct,{key:0,color:"positive",onClick:r.onCreate,title:le(n)("common.create"),"aria-label":le(n)("common.create")},{default:De(()=>[xe(le(wv))]),_:1},8,["onClick","title","aria-label"])):ot("",!0),r.showEdit?(ye(),He(Ct,{key:1,color:"positive",onClick:r.onEdit,disabled:r.isEditing,title:le(n)("common.edit"),"aria-label":le(n)("common.edit")},{default:De(()=>[xe(le(Xw))]),_:1},8,["onClick","disabled","title","aria-label"])):ot("",!0),r.showDelete?(ye(),He(Ct,{key:2,color:"negative",onClick:r.onDelete,title:le(n)("common.delete"),"aria-label":le(n)("common.delete")},{default:De(()=>[xe(le(tk))]),_:1},8,["onClick","title","aria-label"])):ot("",!0)]),_:1}),r.showSearch?(ye(),He(ui,{key:2,autofocus:!1,"model-value":r.searchQuery,"onUpdate:modelValue":a[0]||(a[0]=s=>i("update:searchQuery",s)),placeholder:le(n)(r.searchPlaceholder),class:"search-input",clearable:"",dense:"",outlined:""},null,8,["model-value","placeholder"])):ot("",!0)],64))}});var eS={exports:{}},HA={exports:{}},UA={};/**
* @vue/compiler-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Nv=Symbol(""),Yg=Symbol(""),Bk=Symbol(""),K3=Symbol(""),GR=Symbol(""),P0=Symbol(""),KR=Symbol(""),XR=Symbol(""),zk=Symbol(""),qk=Symbol(""),Ey=Symbol(""),Vk=Symbol(""),YR=Symbol(""),Hk=Symbol(""),Uk=Symbol(""),jk=Symbol(""),Wk=Symbol(""),Gk=Symbol(""),Kk=Symbol(""),ZR=Symbol(""),JR=Symbol(""),h4=Symbol(""),X3=Symbol(""),Xk=Symbol(""),Yk=Symbol(""),Ov=Symbol(""),Ay=Symbol(""),Zk=Symbol(""),yC=Symbol(""),_me=Symbol(""),bC=Symbol(""),Y3=Symbol(""),Cme=Symbol(""),kme=Symbol(""),Jk=Symbol(""),Eme=Symbol(""),Ame=Symbol(""),Qk=Symbol(""),QR=Symbol(""),Wm={[Nv]:"Fragment",[Yg]:"Teleport",[Bk]:"Suspense",[K3]:"KeepAlive",[GR]:"BaseTransition",[P0]:"openBlock",[KR]:"createBlock",[XR]:"createElementBlock",[zk]:"createVNode",[qk]:"createElementVNode",[Ey]:"createCommentVNode",[Vk]:"createTextVNode",[YR]:"createStaticVNode",[Hk]:"resolveComponent",[Uk]:"resolveDynamicComponent",[jk]:"resolveDirective",[Wk]:"resolveFilter",[Gk]:"withDirectives",[Kk]:"renderList",[ZR]:"renderSlot",[JR]:"createSlots",[h4]:"toDisplayString",[X3]:"mergeProps",[Xk]:"normalizeClass",[Yk]:"normalizeStyle",[Ov]:"normalizeProps",[Ay]:"guardReactiveProps",[Zk]:"toHandlers",[yC]:"camelize",[_me]:"capitalize",[bC]:"toHandlerKey",[Y3]:"setBlockTracking",[Cme]:"pushScopeId",[kme]:"popScopeId",[Jk]:"withCtx",[Eme]:"unref",[Ame]:"isRef",[Qk]:"withMemo",[QR]:"isMemoSame"};function Tme(t){Object.getOwnPropertySymbols(t).forEach(e=>{Wm[e]=t[e]})}const Let={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},$et={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},Bet={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},zet={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},wo={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Mme(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:wo}}function Iv(t,e,n,r,i,o,a,s=!1,l=!1,u=!1,c=wo){return t&&(s?(t.helper(P0),t.helper(Xm(t.inSSR,u))):t.helper(Km(t.inSSR,u)),a&&t.helper(Gk)),{type:13,tag:e,props:n,children:r,patchFlag:i,dynamicProps:o,directives:a,isBlock:s,disableTracking:l,isComponent:u,loc:c}}function S0(t,e=wo){return{type:17,loc:e,elements:t}}function xl(t,e=wo){return{type:15,loc:e,properties:t}}function Ei(t,e){return{type:16,loc:wo,key:un(t)?yn(t,!0):t,value:e}}function yn(t,e=!1,n=wo,r=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:r}}function qet(t,e){return{type:5,loc:e,content:un(t)?yn(t,!1,e):t}}function lu(t,e=wo){return{type:8,loc:e,children:t}}function Qi(t,e=[],n=wo){return{type:14,loc:n,callee:t,arguments:e}}function Gm(t,e=void 0,n=!1,r=!1,i=wo){return{type:18,params:t,returns:e,newline:n,isSlot:r,loc:i}}function wC(t,e,n,r=!0){return{type:19,test:t,consequent:e,alternate:n,newline:r,loc:wo}}function Dme(t,e,n=!1,r=!1){return{type:20,index:t,value:e,needPauseTracking:n,inVOnce:r,needArraySpread:!1,loc:wo}}function Nme(t){return{type:21,body:t,loc:wo}}function Vet(t){return{type:22,elements:t,loc:wo}}function Het(t,e,n){return{type:23,test:t,consequent:e,alternate:n,loc:wo}}function Uet(t,e){return{type:24,left:t,right:e,loc:wo}}function jet(t){return{type:25,expressions:t,loc:wo}}function Wet(t){return{type:26,returns:t,loc:wo}}function Km(t,e){return t||e?zk:qk}function Xm(t,e){return t||e?KR:XR}function e7(t,{helper:e,removeHelper:n,inSSR:r}){t.isBlock||(t.isBlock=!0,n(Km(r,t.isComponent)),e(P0),e(Xm(r,t.isComponent)))}const TX=new Uint8Array([123,123]),MX=new Uint8Array([125,125]);function DX(t){return t>=97&&t<=122||t>=65&&t<=90}function cl(t){return t===32||t===10||t===9||t===12||t===13}function Ch(t){return t===47||t===62||cl(t)}function xC(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}const la={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class Get{constructor(e,n){this.stack=e,this.cbs=n,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=TX,this.delimiterClose=MX,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=TX,this.delimiterClose=MX}getPos(e){let n=1,r=e+1;for(let i=this.newlines.length-1;i>=0;i--){const o=this.newlines[i];if(e>o){n=i+2,r=e-o;break}}return{column:r,line:n,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const n=this.index+1-this.delimiterOpen.length;n>this.sectionStart&&this.cbs.ontext(this.sectionStart,n),this.state=3,this.sectionStart=n}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?Ch(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||cl(e)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.sectionStart=n+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===la.TitleEnd||this.currentSequence===la.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===la.Cdata[this.sequenceIndex]?++this.sequenceIndex===la.Cdata.length&&(this.state=28,this.currentSequence=la.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);if(n===10&&this.newlines.push(this.index),n===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===la.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,n){this.enterRCDATA(e,n),this.state=31}enterRCDATA(e,n){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=n}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):DX(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Ch(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Ch(e)){const n=this.buffer.slice(this.sectionStart,this.index);n!=="template"&&this.enterRCDATA(xC("</"+n),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){cl(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=DX(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||cl(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):cl(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):cl(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||Ch(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||Ch(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Ch(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Ch(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||Ch(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):cl(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):cl(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,n){(e===n||this.fastForwardTo(n))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){cl(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=la.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===la.ScriptEnd[3]?this.startSpecial(la.ScriptEnd,4):e===la.StyleEnd[3]?this.startSpecial(la.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===la.TitleEnd[3]?this.startSpecial(la.TitleEnd,4):e===la.TextareaEnd[3]?this.startSpecial(la.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);switch(n===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(n);break}case 2:{this.stateInterpolationOpen(n);break}case 3:{this.stateInterpolation(n);break}case 4:{this.stateInterpolationClose(n);break}case 31:{this.stateSpecialStartSequence(n);break}case 32:{this.stateInRCDATA(n);break}case 26:{this.stateCDATASequence(n);break}case 19:{this.stateInAttrValueDoubleQuotes(n);break}case 12:{this.stateInAttrName(n);break}case 13:{this.stateInDirName(n);break}case 14:{this.stateInDirArg(n);break}case 15:{this.stateInDynamicDirArg(n);break}case 16:{this.stateInDirModifier(n);break}case 28:{this.stateInCommentLike(n);break}case 27:{this.stateInSpecialComment(n);break}case 11:{this.stateBeforeAttrName(n);break}case 6:{this.stateInTagName(n);break}case 34:{this.stateInSFCRootTagName(n);break}case 9:{this.stateInClosingTagName(n);break}case 5:{this.stateBeforeTagName(n);break}case 17:{this.stateAfterAttrName(n);break}case 20:{this.stateInAttrValueSingleQuotes(n);break}case 18:{this.stateBeforeAttrValue(n);break}case 8:{this.stateBeforeClosingTagName(n);break}case 10:{this.stateAfterClosingTagName(n);break}case 29:{this.stateBeforeSpecialS(n);break}case 30:{this.stateBeforeSpecialT(n);break}case 21:{this.stateInAttrValueNoQuotes(n);break}case 7:{this.stateInSelfClosingTag(n);break}case 23:{this.stateInDeclaration(n);break}case 22:{this.stateBeforeDeclaration(n);break}case 25:{this.stateBeforeComment(n);break}case 24:{this.stateInProcessingInstruction(n);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===la.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,n){}}const Ket={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},Xet={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:t=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${t}.sync\` should be changed to \`v-model:${t}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function AD(t,{compatConfig:e}){const n=e&&e[t];return t==="MODE"?n||3:n}function Dm(t,e){const n=AD("MODE",e),r=AD(t,e);return n===3?r===!0:r!==!1}function Pv(t,e,n,...r){return Dm(t,e)}function Yet(t,e,n,...r){if(AD(t,e)==="suppress-warning")return;const{message:o,link:a}=Xet[t],s=`(deprecation ${t}) ${typeof o=="function"?o(...r):o}${a?`
  Details: ${a}`:""}`,l=new SyntaxError(s);l.code=t,n&&(l.loc=n),e.onWarn(l)}function eF(t){throw t}function Ome(t){}function ai(t,e,n,r){const i=`https://vuejs.org/error-reference/#compiler-${t}`,o=new SyntaxError(String(i));return o.code=t,o.loc=e,o}const Zet={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},Jet={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function Qet(t,e,n=!1,r=[],i=Object.create(null)){}function ett(t,e,n){return!1}function ttt(t,e){if(t&&(t.type==="ObjectProperty"||t.type==="ArrayPattern")){let n=e.length;for(;n--;){const r=e[n];if(r.type==="AssignmentExpression")return!0;if(r.type!=="ObjectProperty"&&!r.type.endsWith("Pattern"))break}}return!1}function ntt(t){let e=t.length;for(;e--;){const n=t[e];if(n.type==="NewExpression")return!0;if(n.type!=="MemberExpression")break}return!1}function rtt(t,e){for(const n of t.params)for(const r of md(n))e(r)}function itt(t,e){for(const n of t.body)if(n.type==="VariableDeclaration"){if(n.declare)continue;for(const r of n.declarations)for(const i of md(r.id))e(i)}else if(n.type==="FunctionDeclaration"||n.type==="ClassDeclaration"){if(n.declare||!n.id)continue;e(n.id)}else ott(n)&&att(n,!0,e)}function ott(t){return t.type==="ForOfStatement"||t.type==="ForInStatement"||t.type==="ForStatement"}function att(t,e,n){const r=t.type==="ForStatement"?t.init:t.left;if(r&&r.type==="VariableDeclaration"&&(r.kind==="var"?e:!e))for(const i of r.declarations)for(const o of md(i.id))n(o)}function md(t,e=[]){switch(t.type){case"Identifier":e.push(t);break;case"MemberExpression":let n=t;for(;n.type==="MemberExpression";)n=n.object;e.push(n);break;case"ObjectPattern":for(const r of t.properties)r.type==="RestElement"?md(r.argument,e):md(r.value,e);break;case"ArrayPattern":t.elements.forEach(r=>{r&&md(r,e)});break;case"RestElement":md(t.argument,e);break;case"AssignmentPattern":md(t.left,e);break}return e}const stt=t=>/Function(?:Expression|Declaration)$|Method$/.test(t.type),Ime=t=>t&&(t.type==="ObjectProperty"||t.type==="ObjectMethod")&&!t.computed,ltt=(t,e)=>Ime(e)&&e.key===t,Pme=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function Rme(t){return Pme.includes(t.type)?Rme(t.expression):t}const Xa=t=>t.type===4&&t.isStatic;function tF(t){switch(t){case"Teleport":case"teleport":return Yg;case"Suspense":case"suspense":return Bk;case"KeepAlive":case"keep-alive":return K3;case"BaseTransition":case"base-transition":return GR}}const utt=/^\d|[^\$\w\xA0-\uFFFF]/,p4=t=>!utt.test(t),ctt=/[A-Za-z_$\xA0-\uFFFF]/,ftt=/[\.\?\w$\xA0-\uFFFF]/,dtt=/\s+[.[]\s*|\s*[.[]\s+/g,Fme=t=>t.type===4?t.content:t.loc.source,Lme=t=>{const e=Fme(t).trim().replace(dtt,s=>s.trim());let n=0,r=[],i=0,o=0,a=null;for(let s=0;s<e.length;s++){const l=e.charAt(s);switch(n){case 0:if(l==="[")r.push(n),n=1,i++;else if(l==="(")r.push(n),n=2,o++;else if(!(s===0?ctt:ftt).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(r.push(n),n=3,a=l):l==="["?i++:l==="]"&&(--i||(n=r.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")r.push(n),n=3,a=l;else if(l==="(")o++;else if(l===")"){if(s===e.length-1)return!1;--o||(n=r.pop())}break;case 3:l===a&&(n=r.pop(),a=null);break}}return!i&&!o},htt=Mo,nF=Lme,ptt=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,$me=t=>ptt.test(Fme(t)),mtt=Mo,Bme=$me;function gtt(t,e,n=e.length){return zme({offset:t.offset,line:t.line,column:t.column},e,n)}function zme(t,e,n=e.length){let r=0,i=-1;for(let o=0;o<n;o++)e.charCodeAt(o)===10&&(r++,i=o);return t.offset+=n,t.line+=r,t.column=i===-1?t.column+n:n-i,t}function vtt(t,e){if(!t)throw new Error(e||"unexpected compiler condition")}function Ha(t,e,n=!1){for(let r=0;r<t.props.length;r++){const i=t.props[r];if(i.type===7&&(n||i.exp)&&(un(e)?i.name===e:e.test(i.name)))return i}}function m4(t,e,n=!1,r=!1){for(let i=0;i<t.props.length;i++){const o=t.props[i];if(o.type===6){if(n)continue;if(o.name===e&&(o.value||r))return o}else if(o.name==="bind"&&(o.exp||r)&&l0(o.arg,e))return o}}function l0(t,e){return!!(t&&Xa(t)&&t.content===e)}function qme(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function tS(t){return t.type===5||t.type===2}function rF(t){return t.type===7&&t.name==="slot"}function Rv(t){return t.type===1&&t.tagType===3}function Z3(t){return t.type===1&&t.tagType===2}const ytt=new Set([Ov,Ay]);function Vme(t,e=[]){if(t&&!un(t)&&t.type===14){const n=t.callee;if(!un(n)&&ytt.has(n))return Vme(t.arguments[0],e.concat(t))}return[t,e]}function J3(t,e,n){let r,i=t.type===13?t.props:t.arguments[2],o=[],a;if(i&&!un(i)&&i.type===14){const s=Vme(i);i=s[0],o=s[1],a=o[o.length-1]}if(i==null||un(i))r=xl([e]);else if(i.type===14){const s=i.arguments[0];!un(s)&&s.type===15?NX(e,s)||s.properties.unshift(e):i.callee===Zk?r=Qi(n.helper(X3),[xl([e]),i]):i.arguments.unshift(xl([e])),!r&&(r=i)}else i.type===15?(NX(e,i)||i.properties.unshift(e),r=i):(r=Qi(n.helper(X3),[xl([e]),i]),a&&a.callee===Ay&&(a=o[o.length-2]));t.type===13?a?a.arguments[0]=r:t.props=r:a?a.arguments[0]=r:t.arguments[2]=r}function NX(t,e){let n=!1;if(t.key.type===4){const r=t.key.content;n=e.properties.some(i=>i.key.type===4&&i.key.content===r)}return n}function Fv(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,r)=>n==="-"?"_":t.charCodeAt(r).toString())}`}function Ru(t,e){if(!t||Object.keys(e).length===0)return!1;switch(t.type){case 1:for(let n=0;n<t.props.length;n++){const r=t.props[n];if(r.type===7&&(Ru(r.arg,e)||Ru(r.exp,e)))return!0}return t.children.some(n=>Ru(n,e));case 11:return Ru(t.source,e)?!0:t.children.some(n=>Ru(n,e));case 9:return t.branches.some(n=>Ru(n,e));case 10:return Ru(t.condition,e)?!0:t.children.some(n=>Ru(n,e));case 4:return!t.isStatic&&p4(t.content)&&!!e[t.content];case 8:return t.children.some(n=>mr(n)&&Ru(n,e));case 5:case 12:return Ru(t.content,e);case 2:case 3:case 20:return!1;default:return!1}}function Hme(t){return t.type===14&&t.callee===Qk?t.arguments[1].returns:t}const Ume=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,jme={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Mg,isPreTag:Mg,isIgnoreNewlineTag:Mg,isCustomElement:Mg,onError:eF,onWarn:Ome,comments:!1,prefixIdentifiers:!1};let dr=jme,Q3=null,Td="",ha=null,er=null,Ss="",ed=-1,Up=-1,iF=0,Wh=!1,TD=null;const di=[],Ri=new Get(di,{onerr:Xf,ontext(t,e){k5(Bo(t,e),t,e)},ontextentity(t,e,n){k5(t,e,n)},oninterpolation(t,e){if(Wh)return k5(Bo(t,e),t,e);let n=t+Ri.delimiterOpen.length,r=e-Ri.delimiterClose.length;for(;cl(Td.charCodeAt(n));)n++;for(;cl(Td.charCodeAt(r-1));)r--;let i=Bo(n,r);i.includes("&")&&(i=dr.decodeEntities(i,!1)),MD({type:5,content:rS(i,!1,qi(n,r)),loc:qi(t,e)})},onopentagname(t,e){const n=Bo(t,e);ha={type:1,tag:n,ns:dr.getNamespace(n,di[0],dr.ns),tagType:0,props:[],children:[],loc:qi(t-1,e),codegenNode:void 0}},onopentagend(t){IX(t)},onclosetag(t,e){const n=Bo(t,e);if(!dr.isVoidTag(n)){let r=!1;for(let i=0;i<di.length;i++)if(di[i].tag.toLowerCase()===n.toLowerCase()){r=!0,i>0&&Xf(24,di[0].loc.start.offset);for(let a=0;a<=i;a++){const s=di.shift();nS(s,e,a<i)}break}r||Xf(23,Wme(t,60))}},onselfclosingtag(t){const e=ha.tag;ha.isSelfClosing=!0,IX(t),di[0]&&di[0].tag===e&&nS(di.shift(),t)},onattribname(t,e){er={type:6,name:Bo(t,e),nameLoc:qi(t,e),value:void 0,loc:qi(t)}},ondirname(t,e){const n=Bo(t,e),r=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!Wh&&r===""&&Xf(26,t),Wh||r==="")er={type:6,name:n,nameLoc:qi(t,e),value:void 0,loc:qi(t)};else if(er={type:7,name:r,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?[yn("prop")]:[],loc:qi(t)},r==="pre"){Wh=Ri.inVPre=!0,TD=ha;const i=ha.props;for(let o=0;o<i.length;o++)i[o].type===7&&(i[o]=Mtt(i[o]))}},ondirarg(t,e){if(t===e)return;const n=Bo(t,e);if(Wh)er.name+=n,am(er.nameLoc,e);else{const r=n[0]!=="[";er.arg=rS(r?n:n.slice(1,-1),r,qi(t,e),r?3:0)}},ondirmodifier(t,e){const n=Bo(t,e);if(Wh)er.name+="."+n,am(er.nameLoc,e);else if(er.name==="slot"){const r=er.arg;r&&(r.content+="."+n,am(r.loc,e))}else{const r=yn(n,!0,qi(t,e));er.modifiers.push(r)}},onattribdata(t,e){Ss+=Bo(t,e),ed<0&&(ed=t),Up=e},onattribentity(t,e,n){Ss+=t,ed<0&&(ed=e),Up=n},onattribnameend(t){const e=er.loc.start.offset,n=Bo(e,t);er.type===7&&(er.rawName=n),ha.props.some(r=>(r.type===7?r.rawName:r.name)===n)&&Xf(2,e)},onattribend(t,e){if(ha&&er){if(am(er.loc,e),t!==0)if(Ss.includes("&")&&(Ss=dr.decodeEntities(Ss,!0)),er.type===6)er.name==="class"&&(Ss=Kme(Ss).trim()),t===1&&!Ss&&Xf(13,e),er.value={type:2,content:Ss,loc:t===1?qi(ed,Up):qi(ed-1,Up+1)},Ri.inSFCRoot&&ha.tag==="template"&&er.name==="lang"&&Ss&&Ss!=="html"&&Ri.enterRCDATA(xC("</template"),0);else{let n=0;er.exp=rS(Ss,!1,qi(ed,Up),0,n),er.name==="for"&&(er.forParseResult=wtt(er.exp));let r=-1;er.name==="bind"&&(r=er.modifiers.findIndex(i=>i.content==="sync"))>-1&&Pv("COMPILER_V_BIND_SYNC",dr,er.loc,er.arg.loc.source)&&(er.name="model",er.modifiers.splice(r,1))}(er.type!==7||er.name!=="pre")&&ha.props.push(er)}Ss="",ed=Up=-1},oncomment(t,e){dr.comments&&MD({type:3,content:Bo(t,e),loc:qi(t-4,e+3)})},onend(){const t=Td.length;for(let e=0;e<di.length;e++)nS(di[e],t-1),Xf(24,di[e].loc.start.offset)},oncdata(t,e){di[0].ns!==0?k5(Bo(t,e),t,e):Xf(1,t-9)},onprocessinginstruction(t){(di[0]?di[0].ns:dr.ns)===0&&Xf(21,t-1)}}),OX=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,btt=/^\(|\)$/g;function wtt(t){const e=t.loc,n=t.content,r=n.match(Ume);if(!r)return;const[,i,o]=r,a=(f,d,h=!1)=>{const p=e.start.offset+d,m=p+f.length;return rS(f,!1,qi(p,m),0,h?1:0)},s={source:a(o.trim(),n.indexOf(o,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=i.trim().replace(btt,"").trim();const u=i.indexOf(l),c=l.match(OX);if(c){l=l.replace(OX,"").trim();const f=c[1].trim();let d;if(f&&(d=n.indexOf(f,u+l.length),s.key=a(f,d,!0)),c[2]){const h=c[2].trim();h&&(s.index=a(h,n.indexOf(h,s.key?d+f.length:u+l.length),!0))}}return l&&(s.value=a(l,u,!0)),s}function Bo(t,e){return Td.slice(t,e)}function IX(t){Ri.inSFCRoot&&(ha.innerLoc=qi(t+1,t+1)),MD(ha);const{tag:e,ns:n}=ha;n===0&&dr.isPreTag(e)&&iF++,dr.isVoidTag(e)?nS(ha,t):(di.unshift(ha),(n===1||n===2)&&(Ri.inXML=!0)),ha=null}function k5(t,e,n){{const o=di[0]&&di[0].tag;o!=="script"&&o!=="style"&&t.includes("&")&&(t=dr.decodeEntities(t,!1))}const r=di[0]||Q3,i=r.children[r.children.length-1];i&&i.type===2?(i.content+=t,am(i.loc,n)):r.children.push({type:2,content:t,loc:qi(e,n)})}function nS(t,e,n=!1){n?am(t.loc,Wme(e,60)):am(t.loc,xtt(e,62)+1),Ri.inSFCRoot&&(t.children.length?t.innerLoc.end=Un({},t.children[t.children.length-1].loc.end):t.innerLoc.end=Un({},t.innerLoc.start),t.innerLoc.source=Bo(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:r,ns:i,children:o}=t;if(Wh||(r==="slot"?t.tagType=2:PX(t)?t.tagType=3:_tt(t)&&(t.tagType=1)),Ri.inRCDATA||(t.children=Gme(o)),i===0&&dr.isIgnoreNewlineTag(r)){const a=o[0];a&&a.type===2&&(a.content=a.content.replace(/^\r?\n/,""))}i===0&&dr.isPreTag(r)&&iF--,TD===t&&(Wh=Ri.inVPre=!1,TD=null),Ri.inXML&&(di[0]?di[0].ns:dr.ns)===0&&(Ri.inXML=!1);{const a=t.props;if(!Ri.inSFCRoot&&Dm("COMPILER_NATIVE_TEMPLATE",dr)&&t.tag==="template"&&!PX(t)){const l=di[0]||Q3,u=l.children.indexOf(t);l.children.splice(u,1,...t.children)}const s=a.find(l=>l.type===6&&l.name==="inline-template");s&&Pv("COMPILER_INLINE_TEMPLATE",dr,s.loc)&&t.children.length&&(s.value={type:2,content:Bo(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:s.loc})}}function xtt(t,e){let n=t;for(;Td.charCodeAt(n)!==e&&n<Td.length-1;)n++;return n}function Wme(t,e){let n=t;for(;Td.charCodeAt(n)!==e&&n>=0;)n--;return n}const Stt=new Set(["if","else","else-if","for","slot"]);function PX({tag:t,props:e}){if(t==="template"){for(let n=0;n<e.length;n++)if(e[n].type===7&&Stt.has(e[n].name))return!0}return!1}function _tt({tag:t,props:e}){if(dr.isCustomElement(t))return!1;if(t==="component"||Ctt(t.charCodeAt(0))||tF(t)||dr.isBuiltInComponent&&dr.isBuiltInComponent(t)||dr.isNativeTag&&!dr.isNativeTag(t))return!0;for(let n=0;n<e.length;n++){const r=e[n];if(r.type===6){if(r.name==="is"&&r.value){if(r.value.content.startsWith("vue:"))return!0;if(Pv("COMPILER_IS_ON_ELEMENT",dr,r.loc))return!0}}else if(r.name==="bind"&&l0(r.arg,"is")&&Pv("COMPILER_IS_ON_ELEMENT",dr,r.loc))return!0}return!1}function Ctt(t){return t>64&&t<91}const ktt=/\r\n/g;function Gme(t){const e=dr.whitespace!=="preserve";let n=!1;for(let r=0;r<t.length;r++){const i=t[r];if(i.type===2)if(iF)i.content=i.content.replace(ktt,`
`);else if(Ett(i.content)){const o=t[r-1]&&t[r-1].type,a=t[r+1]&&t[r+1].type;!o||!a||e&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&Att(i.content)))?(n=!0,t[r]=null):i.content=" "}else e&&(i.content=Kme(i.content))}return n?t.filter(Boolean):t}function Ett(t){for(let e=0;e<t.length;e++)if(!cl(t.charCodeAt(e)))return!1;return!0}function Att(t){for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n===10||n===13)return!0}return!1}function Kme(t){let e="",n=!1;for(let r=0;r<t.length;r++)cl(t.charCodeAt(r))?n||(e+=" ",n=!0):(e+=t[r],n=!1);return e}function MD(t){(di[0]||Q3).children.push(t)}function qi(t,e){return{start:Ri.getPos(t),end:e==null?e:Ri.getPos(e),source:e==null?e:Bo(t,e)}}function Ttt(t){return qi(t.start.offset,t.end.offset)}function am(t,e){t.end=Ri.getPos(e),t.source=Bo(t.start.offset,e)}function Mtt(t){const e={type:6,name:t.rawName,nameLoc:qi(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const n=t.exp.loc;n.end.offset<t.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),e.value={type:2,content:t.exp.content,loc:n}}return e}function rS(t,e=!1,n,r=0,i=0){return yn(t,e,n,r)}function Xf(t,e,n){dr.onError(ai(t,qi(e,e)))}function Dtt(){Ri.reset(),ha=null,er=null,Ss="",ed=-1,Up=-1,di.length=0}function oF(t,e){if(Dtt(),Td=t,dr=Un({},jme),e){let i;for(i in e)e[i]!=null&&(dr[i]=e[i])}Ri.mode=dr.parseMode==="html"?1:dr.parseMode==="sfc"?2:0,Ri.inXML=dr.ns===1||dr.ns===2;const n=e&&e.delimiters;n&&(Ri.delimiterOpen=xC(n[0]),Ri.delimiterClose=xC(n[1]));const r=Q3=Mme([],t);return Ri.parse(Td),r.loc=qi(0,t.length),r.children=Gme(r.children),Q3=null,r}function Ntt(t,e){iS(t,void 0,e,!!Xme(t))}function Xme(t){const e=t.children.filter(n=>n.type!==3);return e.length===1&&e[0].type===1&&!Z3(e[0])?e[0]:null}function iS(t,e,n,r=!1,i=!1){const{children:o}=t,a=[];for(let f=0;f<o.length;f++){const d=o[f];if(d.type===1&&d.tagType===0){const h=r?0:Rs(d,n);if(h>0){if(h>=2){d.codegenNode.patchFlag=-1,a.push(d);continue}}else{const p=d.codegenNode;if(p.type===13){const m=p.patchFlag;if((m===void 0||m===512||m===1)&&Zme(d,n)>=2){const g=Jme(d);g&&(p.props=n.hoist(g))}p.dynamicProps&&(p.dynamicProps=n.hoist(p.dynamicProps))}}}else if(d.type===12&&(r?0:Rs(d,n))>=2){a.push(d);continue}if(d.type===1){const h=d.tagType===1;h&&n.scopes.vSlot++,iS(d,t,n,!1,i),h&&n.scopes.vSlot--}else if(d.type===11)iS(d,t,n,d.children.length===1,!0);else if(d.type===9)for(let h=0;h<d.branches.length;h++)iS(d.branches[h],t,n,d.branches[h].children.length===1,i)}let s=!1;const l=[];if(a.length===o.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&xt(t.codegenNode.children))t.codegenNode.children=u(S0(t.codegenNode.children)),s=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!xt(t.codegenNode.children)&&t.codegenNode.children.type===15){const f=c(t.codegenNode,"default");f&&(l.push(n.cached.length),f.returns=u(S0(f.returns)),s=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!xt(e.codegenNode.children)&&e.codegenNode.children.type===15){const f=Ha(t,"slot",!0),d=f&&f.arg&&c(e.codegenNode,f.arg);d&&(l.push(n.cached.length),d.returns=u(S0(d.returns)),s=!0)}}if(!s)for(const f of a)l.push(n.cached.length),f.codegenNode=n.cache(f.codegenNode);l.length&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!xt(t.codegenNode.children)&&t.codegenNode.children.type===15&&t.codegenNode.children.properties.push(Ei("__",yn(JSON.stringify(l),!1)));function u(f){const d=n.cache(f);return i&&n.hmr&&(d.needArraySpread=!0),d}function c(f,d){if(f.children&&!xt(f.children)&&f.children.type===15){const h=f.children.properties.find(p=>p.key===d||p.key.content===d);return h&&h.value}}a.length&&n.transformHoist&&n.transformHoist(o,n,t)}function Rs(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const r=n.get(t);if(r!==void 0)return r;const i=t.codegenNode;if(i.type!==13||i.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(i.patchFlag===void 0){let a=3;const s=Zme(t,e);if(s===0)return n.set(t,0),0;s<a&&(a=s);for(let l=0;l<t.children.length;l++){const u=Rs(t.children[l],e);if(u===0)return n.set(t,0),0;u<a&&(a=u)}if(a>1)for(let l=0;l<t.props.length;l++){const u=t.props[l];if(u.type===7&&u.name==="bind"&&u.exp){const c=Rs(u.exp,e);if(c===0)return n.set(t,0),0;c<a&&(a=c)}}if(i.isBlock){for(let l=0;l<t.props.length;l++)if(t.props[l].type===7)return n.set(t,0),0;e.removeHelper(P0),e.removeHelper(Xm(e.inSSR,i.isComponent)),i.isBlock=!1,e.helper(Km(e.inSSR,i.isComponent))}return n.set(t,a),a}else return n.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Rs(t.content,e);case 4:return t.constType;case 8:let o=3;for(let a=0;a<t.children.length;a++){const s=t.children[a];if(un(s)||is(s))continue;const l=Rs(s,e);if(l===0)return 0;l<o&&(o=l)}return o;case 20:return 2;default:return 0}}const Ott=new Set([Xk,Yk,Ov,Ay]);function Yme(t,e){if(t.type===14&&!un(t.callee)&&Ott.has(t.callee)){const n=t.arguments[0];if(n.type===4)return Rs(n,e);if(n.type===14)return Yme(n,e)}return 0}function Zme(t,e){let n=3;const r=Jme(t);if(r&&r.type===15){const{properties:i}=r;for(let o=0;o<i.length;o++){const{key:a,value:s}=i[o],l=Rs(a,e);if(l===0)return l;l<n&&(n=l);let u;if(s.type===4?u=Rs(s,e):s.type===14?u=Yme(s,e):u=0,u===0)return u;u<n&&(n=u)}}return n}function Jme(t){const e=t.codegenNode;if(e.type===13)return e.props}function Qme(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:r=!1,hmr:i=!1,cacheHandlers:o=!1,nodeTransforms:a=[],directiveTransforms:s={},transformHoist:l=null,isBuiltInComponent:u=Mo,isCustomElement:c=Mo,expressionPlugins:f=[],scopeId:d=null,slotted:h=!0,ssr:p=!1,inSSR:m=!1,ssrCssVars:g="",bindingMetadata:v=qn,inline:y=!1,isTS:b=!1,onError:w=eF,onWarn:x=Ome,compatConfig:S}){const _=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),k={filename:e,selfName:_&&X0(Jr(_[1])),prefixIdentifiers:n,hoistStatic:r,hmr:i,cacheHandlers:o,nodeTransforms:a,directiveTransforms:s,transformHoist:l,isBuiltInComponent:u,isCustomElement:c,expressionPlugins:f,scopeId:d,slotted:h,ssr:p,inSSR:m,ssrCssVars:g,bindingMetadata:v,inline:y,isTS:b,onError:w,onWarn:x,compatConfig:S,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(C){const E=k.helpers.get(C)||0;return k.helpers.set(C,E+1),C},removeHelper(C){const E=k.helpers.get(C);if(E){const M=E-1;M?k.helpers.set(C,M):k.helpers.delete(C)}},helperString(C){return`_${Wm[k.helper(C)]}`},replaceNode(C){k.parent.children[k.childIndex]=k.currentNode=C},removeNode(C){const E=k.parent.children,M=C?E.indexOf(C):k.currentNode?k.childIndex:-1;!C||C===k.currentNode?(k.currentNode=null,k.onNodeRemoved()):k.childIndex>M&&(k.childIndex--,k.onNodeRemoved()),k.parent.children.splice(M,1)},onNodeRemoved:Mo,addIdentifiers(C){},removeIdentifiers(C){},hoist(C){un(C)&&(C=yn(C)),k.hoists.push(C);const E=yn(`_hoisted_${k.hoists.length}`,!1,C.loc,2);return E.hoisted=C,E},cache(C,E=!1,M=!1){const A=Dme(k.cached.length,C,E,M);return k.cached.push(A),A}};return k.filters=new Set,k}function e1e(t,e){const n=Qme(t,e);g4(t,n),e.hoistStatic&&Ntt(t,n),e.ssr||Itt(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.transformed=!0,t.filters=[...n.filters]}function Itt(t,e){const{helper:n}=e,{children:r}=t;if(r.length===1){const i=Xme(t);if(i&&i.codegenNode){const o=i.codegenNode;o.type===13&&e7(o,e),t.codegenNode=o}else t.codegenNode=r[0]}else if(r.length>1){let i=64;t.codegenNode=Iv(e,n(Nv),void 0,t.children,i,void 0,void 0,!0,void 0,!1)}}function Ptt(t,e){let n=0;const r=()=>{n--};for(;n<t.children.length;n++){const i=t.children[n];un(i)||(e.grandParent=e.parent,e.parent=t,e.childIndex=n,e.onNodeRemoved=r,g4(i,e))}}function g4(t,e){e.currentNode=t;const{nodeTransforms:n}=e,r=[];for(let o=0;o<n.length;o++){const a=n[o](t,e);if(a&&(xt(a)?r.push(...a):r.push(a)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(Ey);break;case 5:e.ssr||e.helper(h4);break;case 9:for(let o=0;o<t.branches.length;o++)g4(t.branches[o],e);break;case 10:case 11:case 1:case 0:Ptt(t,e);break}e.currentNode=t;let i=r.length;for(;i--;)r[i]()}function aF(t,e){const n=un(t)?r=>r===t:r=>t.test(r);return(r,i)=>{if(r.type===1){const{props:o}=r;if(r.tagType===3&&o.some(rF))return;const a=[];for(let s=0;s<o.length;s++){const l=o[s];if(l.type===7&&n(l.name)){o.splice(s,1),s--;const u=e(r,l,i);u&&a.push(u)}}return a}}}const t7="/*@__PURE__*/",t1e=t=>`${Wm[t]}: _${Wm[t]}`;function Rtt(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:o=null,optimizeImports:a=!1,runtimeGlobalName:s="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:c=!1,isTS:f=!1,inSSR:d=!1}){const h={mode:e,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:o,optimizeImports:a,runtimeGlobalName:s,runtimeModuleName:l,ssrRuntimeModuleName:u,ssr:c,isTS:f,inSSR:d,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(m){return`_${Wm[m]}`},push(m,g=-2,v){h.code+=m},indent(){p(++h.indentLevel)},deindent(m=!1){m?--h.indentLevel:p(--h.indentLevel)},newline(){p(h.indentLevel)}};function p(m){h.push(`
`+"  ".repeat(m),0)}return h}function n1e(t,e={}){const n=Rtt(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:o,indent:a,deindent:s,newline:l,scopeId:u,ssr:c}=n,f=Array.from(t.helpers),d=f.length>0,h=!o&&r!=="module";Ftt(t,n);const m=c?"ssrRender":"render",v=(c?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${m}(${v}) {`),a(),h&&(i("with (_ctx) {"),a(),d&&(i(`const { ${f.map(t1e).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(jA(t.components,"component",n),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(jA(t.directives,"directive",n),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),jA(t.filters,"filter",n),l()),t.temps>0){i("let ");for(let y=0;y<t.temps;y++)i(`${y>0?", ":""}_temp${y}`)}return(t.components.length||t.directives.length||t.temps)&&(i(`
`,0),l()),c||i("return "),t.codegenNode?Ca(t.codegenNode,n):i("null"),h&&(s(),i("}")),s(),i("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function Ftt(t,e){const{ssr:n,prefixIdentifiers:r,push:i,newline:o,runtimeModuleName:a,runtimeGlobalName:s,ssrRuntimeModuleName:l}=e,u=s,c=Array.from(t.helpers);if(c.length>0&&(i(`const _Vue = ${u}
`,-1),t.hoists.length)){const f=[zk,qk,Ey,Vk,YR].filter(d=>c.includes(d)).map(t1e).join(", ");i(`const { ${f} } = _Vue
`,-1)}Ltt(t.hoists,e),o(),i("return ")}function jA(t,e,{helper:n,push:r,newline:i,isTS:o}){const a=n(e==="filter"?Wk:e==="component"?Hk:jk);for(let s=0;s<t.length;s++){let l=t[s];const u=l.endsWith("__self");u&&(l=l.slice(0,-6)),r(`const ${Fv(l,e)} = ${a}(${JSON.stringify(l)}${u?", true":""})${o?"!":""}`),s<t.length-1&&i()}}function Ltt(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:r}=e;r();for(let i=0;i<t.length;i++){const o=t[i];o&&(n(`const _hoisted_${i+1} = `),Ca(o,e),r())}e.pure=!1}function sF(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),v4(t,e,n),n&&e.deindent(),e.push("]")}function v4(t,e,n=!1,r=!0){const{push:i,newline:o}=e;for(let a=0;a<t.length;a++){const s=t[a];un(s)?i(s,-3):xt(s)?sF(s,e):Ca(s,e),a<t.length-1&&(n?(r&&i(","),o()):r&&i(", "))}}function Ca(t,e){if(un(t)){e.push(t,-3);return}if(is(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Ca(t.codegenNode,e);break;case 2:$tt(t,e);break;case 4:r1e(t,e);break;case 5:Btt(t,e);break;case 12:Ca(t.codegenNode,e);break;case 8:i1e(t,e);break;case 3:qtt(t,e);break;case 13:Vtt(t,e);break;case 14:Utt(t,e);break;case 15:jtt(t,e);break;case 17:Wtt(t,e);break;case 18:Gtt(t,e);break;case 19:Ktt(t,e);break;case 20:Xtt(t,e);break;case 21:v4(t.body,e,!0,!1);break}}function $tt(t,e){e.push(JSON.stringify(t.content),-3,t)}function r1e(t,e){const{content:n,isStatic:r}=t;e.push(r?JSON.stringify(n):n,-3,t)}function Btt(t,e){const{push:n,helper:r,pure:i}=e;i&&n(t7),n(`${r(h4)}(`),Ca(t.content,e),n(")")}function i1e(t,e){for(let n=0;n<t.children.length;n++){const r=t.children[n];un(r)?e.push(r,-3):Ca(r,e)}}function ztt(t,e){const{push:n}=e;if(t.type===8)n("["),i1e(t,e),n("]");else if(t.isStatic){const r=p4(t.content)?t.content:JSON.stringify(t.content);n(r,-2,t)}else n(`[${t.content}]`,-3,t)}function qtt(t,e){const{push:n,helper:r,pure:i}=e;i&&n(t7),n(`${r(Ey)}(${JSON.stringify(t.content)})`,-3,t)}function Vtt(t,e){const{push:n,helper:r,pure:i}=e,{tag:o,props:a,children:s,patchFlag:l,dynamicProps:u,directives:c,isBlock:f,disableTracking:d,isComponent:h}=t;let p;l&&(p=String(l)),c&&n(r(Gk)+"("),f&&n(`(${r(P0)}(${d?"true":""}), `),i&&n(t7);const m=f?Xm(e.inSSR,h):Km(e.inSSR,h);n(r(m)+"(",-2,t),v4(Htt([o,a,s,p,u]),e),n(")"),f&&n(")"),c&&(n(", "),Ca(c,e),n(")"))}function Htt(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function Utt(t,e){const{push:n,helper:r,pure:i}=e,o=un(t.callee)?t.callee:r(t.callee);i&&n(t7),n(o+"(",-2,t),v4(t.arguments,e),n(")")}function jtt(t,e){const{push:n,indent:r,deindent:i,newline:o}=e,{properties:a}=t;if(!a.length){n("{}",-2,t);return}const s=a.length>1||!1;n(s?"{":"{ "),s&&r();for(let l=0;l<a.length;l++){const{key:u,value:c}=a[l];ztt(u,e),n(": "),Ca(c,e),l<a.length-1&&(n(","),o())}s&&i(),n(s?"}":" }")}function Wtt(t,e){sF(t.elements,e)}function Gtt(t,e){const{push:n,indent:r,deindent:i}=e,{params:o,returns:a,body:s,newline:l,isSlot:u}=t;u&&n(`_${Wm[Jk]}(`),n("(",-2,t),xt(o)?v4(o,e):o&&Ca(o,e),n(") => "),(l||s)&&(n("{"),r()),a?(l&&n("return "),xt(a)?sF(a,e):Ca(a,e)):s&&Ca(s,e),(l||s)&&(i(),n("}")),u&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function Ktt(t,e){const{test:n,consequent:r,alternate:i,newline:o}=t,{push:a,indent:s,deindent:l,newline:u}=e;if(n.type===4){const f=!p4(n.content);f&&a("("),r1e(n,e),f&&a(")")}else a("("),Ca(n,e),a(")");o&&s(),e.indentLevel++,o||a(" "),a("? "),Ca(r,e),e.indentLevel--,o&&u(),o||a(" "),a(": ");const c=i.type===19;c||e.indentLevel++,Ca(i,e),c||e.indentLevel--,o&&l(!0)}function Xtt(t,e){const{push:n,helper:r,indent:i,deindent:o,newline:a}=e,{needPauseTracking:s,needArraySpread:l}=t;l&&n("[...("),n(`_cache[${t.index}] || (`),s&&(i(),n(`${r(Y3)}(-1`),t.inVOnce&&n(", true"),n("),"),a(),n("(")),n(`_cache[${t.index}] = `),Ca(t.value,e),s&&(n(`).cacheIndex = ${t.index},`),a(),n(`${r(Y3)}(1),`),a(),n(`_cache[${t.index}]`),o()),n(")"),l&&n(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Ytt=(t,e)=>{if(t.type===5)t.content=oS(t.content,e);else if(t.type===1){const n=Ha(t,"memo");for(let r=0;r<t.props.length;r++){const i=t.props[r];if(i.type===7&&i.name!=="for"){const o=i.exp,a=i.arg;o&&o.type===4&&!(i.name==="on"&&a)&&!(n&&a&&a.type===4&&a.content==="key")&&(i.exp=oS(o,e,i.name==="slot")),a&&a.type===4&&!a.isStatic&&(i.arg=oS(a,e))}}}};function oS(t,e,n=!1,r=!1,i=Object.create(e.identifiers)){return t}function o1e(t){return un(t)?t:t.type===4?t.content:t.children.map(o1e).join("")}const Ztt=aF(/^(if|else|else-if)$/,(t,e,n)=>a1e(t,e,n,(r,i,o)=>{const a=n.parent.children;let s=a.indexOf(r),l=0;for(;s-->=0;){const u=a[s];u&&u.type===9&&(l+=u.branches.length)}return()=>{if(o)r.codegenNode=FX(i,l,n);else{const u=Jtt(r.codegenNode);u.alternate=FX(i,l+r.branches.length-1,n)}}}));function a1e(t,e,n,r){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const i=e.exp?e.exp.loc:t.loc;n.onError(ai(28,e.loc)),e.exp=yn("true",!1,i)}if(e.name==="if"){const i=RX(t,e),o={type:9,loc:Ttt(t.loc),branches:[i]};if(n.replaceNode(o),r)return r(o,i,!0)}else{const i=n.parent.children;let o=i.indexOf(t);for(;o-->=-1;){const a=i[o];if(a&&a.type===3){n.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){n.removeNode(a);continue}if(a&&a.type===9){e.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&n.onError(ai(30,t.loc)),n.removeNode();const s=RX(t,e);a.branches.push(s);const l=r&&r(a,s,!1);g4(s,n),l&&l(),n.currentNode=null}else n.onError(ai(30,t.loc));break}}}function RX(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!Ha(t,"for")?t.children:[t],userKey:m4(t,"key"),isTemplateIf:n}}function FX(t,e,n){return t.condition?wC(t.condition,LX(t,e,n),Qi(n.helper(Ey),['""',"true"])):LX(t,e,n)}function LX(t,e,n){const{helper:r}=n,i=Ei("key",yn(`${e}`,!1,wo,2)),{children:o}=t,a=o[0];if(o.length!==1||a.type!==1)if(o.length===1&&a.type===11){const l=a.codegenNode;return J3(l,i,n),l}else return Iv(n,r(Nv),xl([i]),o,64,void 0,void 0,!0,!1,!1,t.loc);else{const l=a.codegenNode,u=Hme(l);return u.type===13&&e7(u,n),J3(u,i,n),l}}function Jtt(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const s1e=(t,e,n)=>{const{modifiers:r,loc:i}=t,o=t.arg;let{exp:a}=t;if(a&&a.type===4&&!a.content.trim()&&(a=void 0),!a){if(o.type!==4||!o.isStatic)return n.onError(ai(52,o.loc)),{props:[Ei(o,yn("",!0,i))]};l1e(t),a=t.exp}return o.type!==4?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=`${o.content} || ""`),r.some(s=>s.content==="camel")&&(o.type===4?o.isStatic?o.content=Jr(o.content):o.content=`${n.helperString(yC)}(${o.content})`:(o.children.unshift(`${n.helperString(yC)}(`),o.children.push(")"))),n.inSSR||(r.some(s=>s.content==="prop")&&$X(o,"."),r.some(s=>s.content==="attr")&&$X(o,"^")),{props:[Ei(o,a)]}},l1e=(t,e)=>{const n=t.arg,r=Jr(n.content);t.exp=yn(r,!1,n.loc)},$X=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},Qtt=aF("for",(t,e,n)=>{const{helper:r,removeHelper:i}=n;return u1e(t,e,n,o=>{const a=Qi(r(Kk),[o.source]),s=Rv(t),l=Ha(t,"memo"),u=m4(t,"key",!1,!0);u&&u.type===7&&!u.exp&&l1e(u);let f=u&&(u.type===6?u.value?yn(u.value.content,!0):void 0:u.exp);const d=u&&f?Ei("key",f):null,h=o.source.type===4&&o.source.constType>0,p=h?64:u?128:256;return o.codegenNode=Iv(n,r(Nv),void 0,a,p,void 0,void 0,!0,!h,!1,t.loc),()=>{let m;const{children:g}=o,v=g.length!==1||g[0].type!==1,y=Z3(t)?t:s&&t.children.length===1&&Z3(t.children[0])?t.children[0]:null;if(y?(m=y.codegenNode,s&&d&&J3(m,d,n)):v?m=Iv(n,r(Nv),d?xl([d]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(m=g[0].codegenNode,s&&d&&J3(m,d,n),m.isBlock!==!h&&(m.isBlock?(i(P0),i(Xm(n.inSSR,m.isComponent))):i(Km(n.inSSR,m.isComponent))),m.isBlock=!h,m.isBlock?(r(P0),r(Xm(n.inSSR,m.isComponent))):r(Km(n.inSSR,m.isComponent))),l){const b=Gm(SC(o.parseResult,[yn("_cached")]));b.body=Nme([lu(["const _memo = (",l.exp,")"]),lu(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${n.helperString(QR)}(_cached, _memo)) return _cached`]),lu(["const _item = ",m]),yn("_item.memo = _memo"),yn("return _item")]),a.arguments.push(b,yn("_cache"),yn(String(n.cached.length))),n.cached.push(null)}else a.arguments.push(Gm(SC(o.parseResult),m,!0))}})});function u1e(t,e,n,r){if(!e.exp){n.onError(ai(31,e.loc));return}const i=e.forParseResult;if(!i){n.onError(ai(32,e.loc));return}lF(i);const{addIdentifiers:o,removeIdentifiers:a,scopes:s}=n,{source:l,value:u,key:c,index:f}=i,d={type:11,loc:e.loc,source:l,valueAlias:u,keyAlias:c,objectIndexAlias:f,parseResult:i,children:Rv(t)?t.children:[t]};n.replaceNode(d),s.vFor++;const h=r&&r(d);return()=>{s.vFor--,h&&h()}}function lF(t,e){t.finalized||(t.finalized=!0)}function SC({value:t,key:e,index:n},r=[]){return ent([t,e,n,...r])}function ent(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,r)=>n||yn("_".repeat(r+1),!1))}const BX=yn("undefined",!1),c1e=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=Ha(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},tnt=(t,e)=>{let n;if(Rv(t)&&t.props.some(rF)&&(n=Ha(t,"for"))){const r=n.forParseResult;if(r){lF(r);const{value:i,key:o,index:a}=r,{addIdentifiers:s,removeIdentifiers:l}=e;return i&&s(i),o&&s(o),a&&s(a),()=>{i&&l(i),o&&l(o),a&&l(a)}}}},nnt=(t,e,n,r)=>Gm(t,n,!1,!0,n.length?n[0].loc:r);function f1e(t,e,n=nnt){e.helper(Jk);const{children:r,loc:i}=t,o=[],a=[];let s=e.scopes.vSlot>0||e.scopes.vFor>0;const l=Ha(t,"slot",!0);if(l){const{arg:g,exp:v}=l;g&&!Xa(g)&&(s=!0),o.push(Ei(g||yn("default",!0),n(v,void 0,r,i)))}let u=!1,c=!1;const f=[],d=new Set;let h=0;for(let g=0;g<r.length;g++){const v=r[g];let y;if(!Rv(v)||!(y=Ha(v,"slot",!0))){v.type!==3&&f.push(v);continue}if(l){e.onError(ai(37,y.loc));break}u=!0;const{children:b,loc:w}=v,{arg:x=yn("default",!0),exp:S,loc:_}=y;let k;Xa(x)?k=x?x.content:"default":s=!0;const C=Ha(v,"for"),E=n(S,C,b,w);let M,A;if(M=Ha(v,"if"))s=!0,a.push(wC(M.exp,E5(x,E,h++),BX));else if(A=Ha(v,/^else(-if)?$/,!0)){let N=g,T;for(;N--&&(T=r[N],!(T.type!==3&&DD(T))););if(T&&Rv(T)&&Ha(T,/^(else-)?if$/)){let I=a[a.length-1];for(;I.alternate.type===19;)I=I.alternate;I.alternate=A.exp?wC(A.exp,E5(x,E,h++),BX):E5(x,E,h++)}else e.onError(ai(30,A.loc))}else if(C){s=!0;const N=C.forParseResult;N?(lF(N),a.push(Qi(e.helper(Kk),[N.source,Gm(SC(N),E5(x,E),!0)]))):e.onError(ai(32,C.loc))}else{if(k){if(d.has(k)){e.onError(ai(38,_));continue}d.add(k),k==="default"&&(c=!0)}o.push(Ei(x,E))}}if(!l){const g=(v,y)=>{const b=n(v,void 0,y,i);return e.compatConfig&&(b.isNonScopedSlot=!0),Ei("default",b)};u?f.length&&f.some(v=>DD(v))&&(c?e.onError(ai(39,f[0].loc)):o.push(g(void 0,f))):o.push(g(void 0,r))}const p=s?2:aS(t.children)?3:1;let m=xl(o.concat(Ei("_",yn(p+"",!1))),i);return a.length&&(m=Qi(e.helper(JR),[m,S0(a)])),{slots:m,hasDynamicSlots:s}}function E5(t,e,n){const r=[Ei("name",t),Ei("fn",e)];return n!=null&&r.push(Ei("key",yn(String(n),!0))),xl(r)}function aS(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||aS(n.children))return!0;break;case 9:if(aS(n.branches))return!0;break;case 10:case 11:if(aS(n.children))return!0;break}}return!1}function DD(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():DD(t.content)}const d1e=new WeakMap,h1e=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:r,props:i}=t,o=t.tagType===1;let a=o?p1e(t,e):`"${r}"`;const s=mr(a)&&a.callee===Uk;let l,u,c=0,f,d,h,p=s||a===Yg||a===Bk||!o&&(r==="svg"||r==="foreignObject"||r==="math");if(i.length>0){const m=uF(t,e,void 0,o,s);l=m.props,c=m.patchFlag,d=m.dynamicPropNames;const g=m.directives;h=g&&g.length?S0(g.map(v=>m1e(v,e))):void 0,m.shouldUseBlock&&(p=!0)}if(t.children.length>0)if(a===K3&&(p=!0,c|=1024),o&&a!==Yg&&a!==K3){const{slots:g,hasDynamicSlots:v}=f1e(t,e);u=g,v&&(c|=1024)}else if(t.children.length===1&&a!==Yg){const g=t.children[0],v=g.type,y=v===5||v===8;y&&Rs(g,e)===0&&(c|=1),y||v===2?u=g:u=t.children}else u=t.children;d&&d.length&&(f=int(d)),t.codegenNode=Iv(e,a,l,u,c===0?void 0:c,f,h,!!p,!1,o,t.loc)};function p1e(t,e,n=!1){let{tag:r}=t;const i=ND(r),o=m4(t,"is",!1,!0);if(o)if(i||Dm("COMPILER_IS_ON_ELEMENT",e)){let s;if(o.type===6?s=o.value&&yn(o.value.content,!0):(s=o.exp,s||(s=yn("is",!1,o.arg.loc))),s)return Qi(e.helper(Uk),[s])}else o.type===6&&o.value.content.startsWith("vue:")&&(r=o.value.content.slice(4));const a=tF(r)||e.isBuiltInComponent(r);return a?(n||e.helper(a),a):(e.helper(Hk),e.components.add(r),Fv(r,"component"))}function uF(t,e,n=t.props,r,i,o=!1){const{tag:a,loc:s,children:l}=t;let u=[];const c=[],f=[],d=l.length>0;let h=!1,p=0,m=!1,g=!1,v=!1,y=!1,b=!1,w=!1;const x=[],S=E=>{u.length&&(c.push(xl(zX(u),s)),u=[]),E&&c.push(E)},_=()=>{e.scopes.vFor>0&&u.push(Ei(yn("ref_for",!0),yn("true")))},k=({key:E,value:M})=>{if(Xa(E)){const A=E.content,N=G0(A);if(N&&(!r||i)&&A.toLowerCase()!=="onclick"&&A!=="onUpdate:modelValue"&&!kd(A)&&(y=!0),N&&kd(A)&&(w=!0),N&&M.type===14&&(M=M.arguments[0]),M.type===20||(M.type===4||M.type===8)&&Rs(M,e)>0)return;A==="ref"?m=!0:A==="class"?g=!0:A==="style"?v=!0:A!=="key"&&!x.includes(A)&&x.push(A),r&&(A==="class"||A==="style")&&!x.includes(A)&&x.push(A)}else b=!0};for(let E=0;E<n.length;E++){const M=n[E];if(M.type===6){const{loc:A,name:N,nameLoc:T,value:I}=M;let O=!0;if(N==="ref"&&(m=!0,_()),N==="is"&&(ND(a)||I&&I.content.startsWith("vue:")||Dm("COMPILER_IS_ON_ELEMENT",e)))continue;u.push(Ei(yn(N,!0,T),yn(I?I.content:"",O,I?I.loc:A)))}else{const{name:A,arg:N,exp:T,loc:I,modifiers:O}=M,q=A==="bind",L=A==="on";if(A==="slot"){r||e.onError(ai(40,I));continue}if(A==="once"||A==="memo"||A==="is"||q&&l0(N,"is")&&(ND(a)||Dm("COMPILER_IS_ON_ELEMENT",e))||L&&o)continue;if((q&&l0(N,"key")||L&&d&&l0(N,"vue:before-update"))&&(h=!0),q&&l0(N,"ref")&&_(),!N&&(q||L)){if(b=!0,T)if(q){if(S(),Dm("COMPILER_V_BIND_OBJECT_ORDER",e)){c.unshift(T);continue}_(),S(),c.push(T)}else S({type:14,loc:I,callee:e.helper(Zk),arguments:r?[T]:[T,"true"]});else e.onError(ai(q?34:35,I));continue}q&&O.some(R=>R.content==="prop")&&(p|=32);const Y=e.directiveTransforms[A];if(Y){const{props:R,needRuntime:B}=Y(M,t,e);!o&&R.forEach(k),L&&N&&!Xa(N)?S(xl(R,s)):u.push(...R),B&&(f.push(M),is(B)&&d1e.set(M,B))}else mne(A)||(f.push(M),d&&(h=!0))}}let C;if(c.length?(S(),c.length>1?C=Qi(e.helper(X3),c,s):C=c[0]):u.length&&(C=xl(zX(u),s)),b?p|=16:(g&&!r&&(p|=2),v&&!r&&(p|=4),x.length&&(p|=8),y&&(p|=32)),!h&&(p===0||p===32)&&(m||w||f.length>0)&&(p|=512),!e.inSSR&&C)switch(C.type){case 15:let E=-1,M=-1,A=!1;for(let I=0;I<C.properties.length;I++){const O=C.properties[I].key;Xa(O)?O.content==="class"?E=I:O.content==="style"&&(M=I):O.isHandlerKey||(A=!0)}const N=C.properties[E],T=C.properties[M];A?C=Qi(e.helper(Ov),[C]):(N&&!Xa(N.value)&&(N.value=Qi(e.helper(Xk),[N.value])),T&&(v||T.value.type===4&&T.value.content.trim()[0]==="["||T.value.type===17)&&(T.value=Qi(e.helper(Yk),[T.value])));break;case 14:break;default:C=Qi(e.helper(Ov),[Qi(e.helper(Ay),[C])]);break}return{props:C,directives:f,patchFlag:p,dynamicPropNames:x,shouldUseBlock:h}}function zX(t){const e=new Map,n=[];for(let r=0;r<t.length;r++){const i=t[r];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const o=i.key.content,a=e.get(o);a?(o==="style"||o==="class"||G0(o))&&rnt(a,i):(e.set(o,i),n.push(i))}return n}function rnt(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=S0([t.value,e.value],t.loc)}function m1e(t,e){const n=[],r=d1e.get(t);r?n.push(e.helperString(r)):(e.helper(jk),e.directives.add(t.name),n.push(Fv(t.name,"directive")));const{loc:i}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const o=yn("true",!1,i);n.push(xl(t.modifiers.map(a=>Ei(a,o)),i))}return S0(n,t.loc)}function int(t){let e="[";for(let n=0,r=t.length;n<r;n++)e+=JSON.stringify(t[n]),n<r-1&&(e+=", ");return e+"]"}function ND(t){return t==="component"||t==="Component"}const ont=(t,e)=>{if(Z3(t)){const{children:n,loc:r}=t,{slotName:i,slotProps:o}=g1e(t,e),a=[e.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let s=2;o&&(a[2]=o,s=3),n.length&&(a[3]=Gm([],n,!1,!1,r),s=4),e.scopeId&&!e.slotted&&(s=5),a.splice(s),t.codegenNode=Qi(e.helper(ZR),a,r)}};function g1e(t,e){let n='"default"',r;const i=[];for(let o=0;o<t.props.length;o++){const a=t.props[o];if(a.type===6)a.value&&(a.name==="name"?n=JSON.stringify(a.value.content):(a.name=Jr(a.name),i.push(a)));else if(a.name==="bind"&&l0(a.arg,"name")){if(a.exp)n=a.exp;else if(a.arg&&a.arg.type===4){const s=Jr(a.arg.content);n=a.exp=yn(s,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&Xa(a.arg)&&(a.arg.content=Jr(a.arg.content)),i.push(a)}if(i.length>0){const{props:o,directives:a}=uF(t,e,i,!1,!1);r=o,a.length&&e.onError(ai(36,a[0].loc))}return{slotName:n,slotProps:r}}const cF=(t,e,n,r)=>{const{loc:i,modifiers:o,arg:a}=t;!t.exp&&!o.length&&n.onError(ai(35,i));let s;if(a.type===4)if(a.isStatic){let f=a.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const d=e.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?gm(Jr(f)):`on:${f}`;s=yn(d,!0,a.loc)}else s=lu([`${n.helperString(bC)}(`,a,")"]);else s=a,s.children.unshift(`${n.helperString(bC)}(`),s.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let u=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const f=nF(l),d=!(f||Bme(l)),h=l.content.includes(";");(d||u&&f)&&(l=lu([`${d?"$event":"(...args)"} => ${h?"{":"("}`,l,h?"}":")"]))}let c={props:[Ei(s,l||yn("() => {}",!1,i))]};return r&&(c=r(c)),u&&(c.props[0].value=n.cache(c.props[0].value)),c.props.forEach(f=>f.key.isHandlerKey=!0),c},ant=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let r,i=!1;for(let o=0;o<n.length;o++){const a=n[o];if(tS(a)){i=!0;for(let s=o+1;s<n.length;s++){const l=n[s];if(tS(l))r||(r=n[o]=lu([a],a.loc)),r.children.push(" + ",l),n.splice(s,1),s--;else{r=void 0;break}}}}if(!(!i||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(o=>o.type===7&&!e.directiveTransforms[o.name])&&t.tag!=="template")))for(let o=0;o<n.length;o++){const a=n[o];if(tS(a)||a.type===8){const s=[];(a.type!==2||a.content!==" ")&&s.push(a),!e.ssr&&Rs(a,e)===0&&s.push("1"),n[o]={type:12,content:a,loc:a.loc,codegenNode:Qi(e.helper(Vk),s)}}}}},qX=new WeakSet,snt=(t,e)=>{if(t.type===1&&Ha(t,"once",!0))return qX.has(t)||e.inVOnce||e.inSSR?void 0:(qX.add(t),e.inVOnce=!0,e.helper(Y3),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0,!0))})},fF=(t,e,n)=>{const{exp:r,arg:i}=t;if(!r)return n.onError(ai(41,t.loc)),A5();const o=r.loc.source.trim(),a=r.type===4?r.content:o,s=n.bindingMetadata[o];if(s==="props"||s==="props-aliased")return n.onError(ai(44,r.loc)),A5();if(!a.trim()||!nF(r))return n.onError(ai(42,r.loc)),A5();const l=i||yn("modelValue",!0),u=i?Xa(i)?`onUpdate:${Jr(i.content)}`:lu(['"onUpdate:" + ',i]):"onUpdate:modelValue";let c;const f=n.isTS?"($event: any)":"$event";c=lu([`${f} => ((`,r,") = $event)"]);const d=[Ei(l,t.exp),Ei(u,c)];if(t.modifiers.length&&e.tagType===1){const h=t.modifiers.map(m=>m.content).map(m=>(p4(m)?m:JSON.stringify(m))+": true").join(", "),p=i?Xa(i)?`${i.content}Modifiers`:lu([i,' + "Modifiers"']):"modelModifiers";d.push(Ei(p,yn(`{ ${h} }`,!1,t.loc,2)))}return A5(d)};function A5(t=[]){return{props:t}}const lnt=/[\w).+\-_$\]]/,unt=(t,e)=>{Dm("COMPILER_FILTERS",e)&&(t.type===5?_C(t.content,e):t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&_C(n.exp,e)}))};function _C(t,e){if(t.type===4)VX(t,e);else for(let n=0;n<t.children.length;n++){const r=t.children[n];typeof r=="object"&&(r.type===4?VX(r,e):r.type===8?_C(t,e):r.type===5&&_C(r.content,e))}}function VX(t,e){const n=t.content;let r=!1,i=!1,o=!1,a=!1,s=0,l=0,u=0,c=0,f,d,h,p,m=[];for(h=0;h<n.length;h++)if(d=f,f=n.charCodeAt(h),r)f===39&&d!==92&&(r=!1);else if(i)f===34&&d!==92&&(i=!1);else if(o)f===96&&d!==92&&(o=!1);else if(a)f===47&&d!==92&&(a=!1);else if(f===124&&n.charCodeAt(h+1)!==124&&n.charCodeAt(h-1)!==124&&!s&&!l&&!u)p===void 0?(c=h+1,p=n.slice(0,h).trim()):g();else{switch(f){case 34:i=!0;break;case 39:r=!0;break;case 96:o=!0;break;case 40:u++;break;case 41:u--;break;case 91:l++;break;case 93:l--;break;case 123:s++;break;case 125:s--;break}if(f===47){let v=h-1,y;for(;v>=0&&(y=n.charAt(v),y===" ");v--);(!y||!lnt.test(y))&&(a=!0)}}p===void 0?p=n.slice(0,h).trim():c!==0&&g();function g(){m.push(n.slice(c,h).trim()),c=h+1}if(m.length){for(h=0;h<m.length;h++)p=cnt(p,m[h],e);t.content=p,t.ast=void 0}}function cnt(t,e,n){n.helper(Wk);const r=e.indexOf("(");if(r<0)return n.filters.add(e),`${Fv(e,"filter")}(${t})`;{const i=e.slice(0,r),o=e.slice(r+1);return n.filters.add(i),`${Fv(i,"filter")}(${t}${o!==")"?","+o:o}`}}const HX=new WeakSet,fnt=(t,e)=>{if(t.type===1){const n=Ha(t,"memo");return!n||HX.has(t)?void 0:(HX.add(t),()=>{const r=t.codegenNode||e.currentNode.codegenNode;r&&r.type===13&&(t.tagType!==1&&e7(r,e),t.codegenNode=Qi(e.helper(Qk),[n.exp,Gm(void 0,r),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function v1e(t){return[[snt,Ztt,fnt,Qtt,unt,ont,h1e,c1e,ant],{on:cF,bind:s1e,model:fF}]}function y1e(t,e={}){const n=e.onError||eF,r=e.mode==="module";e.prefixIdentifiers===!0?n(ai(47)):r&&n(ai(48));const i=!1;e.cacheHandlers&&n(ai(49)),e.scopeId&&!r&&n(ai(50));const o=Un({},e,{prefixIdentifiers:i}),a=un(t)?oF(t,o):t,[s,l]=v1e();return e1e(a,Un({},o,{nodeTransforms:[...s,...e.nodeTransforms||[]],directiveTransforms:Un({},l,e.directiveTransforms||{})})),n1e(a,o)}const dnt={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},b1e=()=>({props:[]});/**
* @vue/compiler-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const dF=Symbol(""),hF=Symbol(""),pF=Symbol(""),mF=Symbol(""),CC=Symbol(""),gF=Symbol(""),vF=Symbol(""),yF=Symbol(""),bF=Symbol(""),wF=Symbol("");Tme({[dF]:"vModelRadio",[hF]:"vModelCheckbox",[pF]:"vModelText",[mF]:"vModelSelect",[CC]:"vModelDynamic",[gF]:"withModifiers",[vF]:"withKeys",[yF]:"vShow",[bF]:"Transition",[wF]:"TransitionGroup"});let Q1;function hnt(t,e=!1){return Q1||(Q1=document.createElement("div")),e?(Q1.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,Q1.children[0].getAttribute("foo")):(Q1.innerHTML=t,Q1.textContent)}const xF={parseMode:"html",isVoidTag:wne,isNativeTag:t=>vne(t)||yne(t)||bne(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:hnt,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return bF;if(t==="TransitionGroup"||t==="transition-group")return wF},getNamespace(t,e,n){let r=e?e.ns:n;if(e&&r===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(r=0);else e&&r===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(r=0);if(r===0){if(t==="svg")return 1;if(t==="math")return 2}return r}},w1e=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:yn("style",!0,e.loc),exp:pnt(e.value.content,e.loc),modifiers:[],loc:e.loc})})},pnt=(t,e)=>{const n=cI(t);return yn(JSON.stringify(n),!1,e,3)};function Md(t,e){return ai(t,e)}const mnt={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},gnt={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},vnt=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Md(53,i)),e.children.length&&(n.onError(Md(54,i)),e.children.length=0),{props:[Ei(yn("innerHTML",!0,i),r||yn("",!0))]}},ynt=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Md(55,i)),e.children.length&&(n.onError(Md(56,i)),e.children.length=0),{props:[Ei(yn("textContent",!0),r?Rs(r,n)>0?r:Qi(n.helperString(h4),[r],i):yn("",!0))]}},bnt=(t,e,n)=>{const r=fF(t,e,n);if(!r.props.length||e.tagType===1)return r;t.arg&&n.onError(Md(58,t.arg.loc));const{tag:i}=e,o=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||o){let a=pF,s=!1;if(i==="input"||o){const l=m4(e,"type");if(l){if(l.type===7)a=CC;else if(l.value)switch(l.value.content){case"radio":a=dF;break;case"checkbox":a=hF;break;case"file":s=!0,n.onError(Md(59,t.loc));break}}else qme(e)&&(a=CC)}else i==="select"&&(a=mF);s||(r.needRuntime=n.helper(a))}else n.onError(Md(57,t.loc));return r.props=r.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),r},wnt=No("passive,once,capture"),xnt=No("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Snt=No("left,right"),x1e=No("onkeyup,onkeydown,onkeypress"),_nt=(t,e,n,r)=>{const i=[],o=[],a=[];for(let s=0;s<e.length;s++){const l=e[s].content;l==="native"&&Pv("COMPILER_V_ON_NATIVE",n)||wnt(l)?a.push(l):Snt(l)?Xa(t)?x1e(t.content.toLowerCase())?i.push(l):o.push(l):(i.push(l),o.push(l)):xnt(l)?o.push(l):i.push(l)}return{keyModifiers:i,nonKeyModifiers:o,eventOptionModifiers:a}},UX=(t,e)=>Xa(t)&&t.content.toLowerCase()==="onclick"?yn(e,!0):t.type!==4?lu(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,Cnt=(t,e,n)=>cF(t,e,n,r=>{const{modifiers:i}=t;if(!i.length)return r;let{key:o,value:a}=r.props[0];const{keyModifiers:s,nonKeyModifiers:l,eventOptionModifiers:u}=_nt(o,i,n,t.loc);if(l.includes("right")&&(o=UX(o,"onContextmenu")),l.includes("middle")&&(o=UX(o,"onMouseup")),l.length&&(a=Qi(n.helper(gF),[a,JSON.stringify(l)])),s.length&&(!Xa(o)||x1e(o.content.toLowerCase()))&&(a=Qi(n.helper(vF),[a,JSON.stringify(s)])),u.length){const c=u.map(X0).join("");o=Xa(o)?yn(`${o.content}${c}`,!0):lu(["(",o,`) + "${c}"`])}return{props:[Ei(o,a)]}}),knt=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Md(61,i)),{props:[],needRuntime:n.helper(yF)}},Ent=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},S1e=[w1e],_1e={cloak:b1e,html:vnt,text:ynt,model:bnt,on:Cnt,show:knt};function Ant(t,e={}){return y1e(t,Un({},xF,e,{nodeTransforms:[Ent,...S1e,...e.nodeTransforms||[]],directiveTransforms:Un({},_1e,e.directiveTransforms||{}),transformHoist:null}))}function Tnt(t,e={}){return oF(t,Un({},xF,e))}const Mnt=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:GR,BindingTypes:dnt,CAMELIZE:yC,CAPITALIZE:_me,CREATE_BLOCK:KR,CREATE_COMMENT:Ey,CREATE_ELEMENT_BLOCK:XR,CREATE_ELEMENT_VNODE:qk,CREATE_SLOTS:JR,CREATE_STATIC:YR,CREATE_TEXT:Vk,CREATE_VNODE:zk,CompilerDeprecationTypes:Ket,ConstantTypes:zet,DOMDirectiveTransforms:_1e,DOMErrorCodes:mnt,DOMErrorMessages:gnt,DOMNodeTransforms:S1e,ElementTypes:Bet,ErrorCodes:Zet,FRAGMENT:Nv,GUARD_REACTIVE_PROPS:Ay,IS_MEMO_SAME:QR,IS_REF:Ame,KEEP_ALIVE:K3,MERGE_PROPS:X3,NORMALIZE_CLASS:Xk,NORMALIZE_PROPS:Ov,NORMALIZE_STYLE:Yk,Namespaces:Let,NodeTypes:$et,OPEN_BLOCK:P0,POP_SCOPE_ID:kme,PUSH_SCOPE_ID:Cme,RENDER_LIST:Kk,RENDER_SLOT:ZR,RESOLVE_COMPONENT:Hk,RESOLVE_DIRECTIVE:jk,RESOLVE_DYNAMIC_COMPONENT:Uk,RESOLVE_FILTER:Wk,SET_BLOCK_TRACKING:Y3,SUSPENSE:Bk,TELEPORT:Yg,TO_DISPLAY_STRING:h4,TO_HANDLERS:Zk,TO_HANDLER_KEY:bC,TRANSITION:bF,TRANSITION_GROUP:wF,TS_NODE_TYPES:Pme,UNREF:Eme,V_MODEL_CHECKBOX:hF,V_MODEL_DYNAMIC:CC,V_MODEL_RADIO:dF,V_MODEL_SELECT:mF,V_MODEL_TEXT:pF,V_ON_WITH_KEYS:vF,V_ON_WITH_MODIFIERS:gF,V_SHOW:yF,WITH_CTX:Jk,WITH_DIRECTIVES:Gk,WITH_MEMO:Qk,advancePositionWithClone:gtt,advancePositionWithMutation:zme,assert:vtt,baseCompile:y1e,baseParse:oF,buildDirectiveArgs:m1e,buildProps:uF,buildSlots:f1e,checkCompatEnabled:Pv,compile:Ant,convertToBlock:e7,createArrayExpression:S0,createAssignmentExpression:Uet,createBlockStatement:Nme,createCacheExpression:Dme,createCallExpression:Qi,createCompilerError:ai,createCompoundExpression:lu,createConditionalExpression:wC,createDOMCompilerError:Md,createForLoopParams:SC,createFunctionExpression:Gm,createIfStatement:Het,createInterpolation:qet,createObjectExpression:xl,createObjectProperty:Ei,createReturnStatement:Wet,createRoot:Mme,createSequenceExpression:jet,createSimpleExpression:yn,createStructuralDirectiveTransform:aF,createTemplateLiteral:Vet,createTransformContext:Qme,createVNodeCall:Iv,errorMessages:Jet,extractIdentifiers:md,findDir:Ha,findProp:m4,forAliasRE:Ume,generate:n1e,generateCodeFrame:gne,getBaseTransformPreset:v1e,getConstantType:Rs,getMemoedVNodeCall:Hme,getVNodeBlockHelper:Xm,getVNodeHelper:Km,hasDynamicKeyVBind:qme,hasScopeRef:Ru,helperNameMap:Wm,injectProp:J3,isCoreComponent:tF,isFnExpression:Bme,isFnExpressionBrowser:$me,isFnExpressionNode:mtt,isFunctionType:stt,isInDestructureAssignment:ttt,isInNewExpression:ntt,isMemberExpression:nF,isMemberExpressionBrowser:Lme,isMemberExpressionNode:htt,isReferencedIdentifier:ett,isSimpleIdentifier:p4,isSlotOutlet:Z3,isStaticArgOf:l0,isStaticExp:Xa,isStaticProperty:Ime,isStaticPropertyKey:ltt,isTemplateNode:Rv,isText:tS,isVSlot:rF,locStub:wo,noopDirectiveTransform:b1e,parse:Tnt,parserOptions:xF,processExpression:oS,processFor:u1e,processIf:a1e,processSlotOutlet:g1e,registerRuntimeHelpers:Tme,resolveComponentType:p1e,stringifyExpression:o1e,toValidAssetId:Fv,trackSlotScopes:c1e,trackVForSlotScopes:tnt,transform:e1e,transformBind:s1e,transformElement:h1e,transformExpression:Ytt,transformModel:fF,transformOn:cF,transformStyle:w1e,traverseNode:g4,unwrapTSNode:Rme,walkBlockDeclarations:itt,walkFunctionParams:rtt,walkIdentifiers:Qet,warnDeprecation:Yet},Symbol.toStringTag,{value:"Module"})),Dnt=e4(Mnt),Nnt=e4(xCe),Ont=e4(S6e);/**
* vue v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var jX;function Int(){return jX||(jX=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Dnt,n=Nnt,r=Ont;function i(l){var u=Object.create(null);if(l)for(var c in l)u[c]=l[c];return u.default=l,Object.freeze(u)}var o=i(n);const a=Object.create(null);function s(l,u){if(!r.isString(l))if(l.nodeType)l=l.innerHTML;else return r.NOOP;const c=r.genCacheKey(l,u),f=a[c];if(f)return f;if(l[0]==="#"){const m=document.querySelector(l);l=m?m.innerHTML:""}const d=r.extend({hoistStatic:!0,onError:void 0,onWarn:r.NOOP},u);!d.isCustomElement&&typeof customElements<"u"&&(d.isCustomElement=m=>!!customElements.get(m));const{code:h}=e.compile(l,d),p=new Function("Vue",h)(o);return p._rc=!0,a[c]=p}n.registerRuntimeCompiler(s),t.compile=s,Object.keys(n).forEach(function(l){l!=="default"&&!Object.prototype.hasOwnProperty.call(t,l)&&(t[l]=n[l])})}(UA)),UA}var WX;function Pnt(){return WX||(WX=1,HA.exports=Int()),HA.exports}/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function GX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GX(Object(n),!0).forEach(function(r){Rnt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sS(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sS=function(e){return typeof e}:sS=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sS(t)}function Rnt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vu(){return vu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vu.apply(this,arguments)}function Fnt(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Lnt(t,e){if(t==null)return{};var n=Fnt(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $nt(t){return Bnt(t)||znt(t)||qnt(t)||Vnt()}function Bnt(t){if(Array.isArray(t))return OD(t)}function znt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qnt(t,e){if(t){if(typeof t=="string")return OD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OD(t,e)}}function OD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vnt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Hnt="1.14.0";function Dd(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var lh=Dd(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),y4=Dd(/Edge/i),KX=Dd(/firefox/i),I2=Dd(/safari/i)&&!Dd(/chrome/i)&&!Dd(/android/i),C1e=Dd(/iP(ad|od|hone)/i),Unt=Dd(/chrome/i)&&Dd(/android/i),k1e={capture:!1,passive:!1};function Wn(t,e,n){t.addEventListener(e,n,!lh&&k1e)}function Pn(t,e,n){t.removeEventListener(e,n,!lh&&k1e)}function kC(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function jnt(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function zu(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&kC(t,e):kC(t,e))||r&&t===n)return t;if(t===n)break}while(t=jnt(t))}return null}var XX=/\s+/g;function _i(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(XX," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(XX," ")}}function Bt(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function Nm(t,e){var n="";if(typeof t=="string")n=t;else do{var r=Bt(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function E1e(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function Jc(){var t=document.scrollingElement;return t||document.documentElement}function hi(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var o,a,s,l,u,c,f;if(t!==window&&t.parentNode&&t!==Jc()?(o=t.getBoundingClientRect(),a=o.top,s=o.left,l=o.bottom,u=o.right,c=o.height,f=o.width):(a=0,s=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!lh))do if(i&&i.getBoundingClientRect&&(Bt(i,"transform")!=="none"||n&&Bt(i,"position")!=="static")){var d=i.getBoundingClientRect();a-=d.top+parseInt(Bt(i,"border-top-width")),s-=d.left+parseInt(Bt(i,"border-left-width")),l=a+o.height,u=s+o.width;break}while(i=i.parentNode);if(r&&t!==window){var h=Nm(i||t),p=h&&h.a,m=h&&h.d;h&&(a/=m,s/=p,f/=p,c/=m,l=a+c,u=s+f)}return{top:a,left:s,bottom:l,right:u,width:f,height:c}}}function YX(t,e,n){for(var r=u0(t,!0),i=hi(t)[e];r;){var o=hi(r)[n],a=void 0;if(a=i>=o,!a)return r;if(r===Jc())break;r=u0(r,!1)}return!1}function Lv(t,e,n,r){for(var i=0,o=0,a=t.children;o<a.length;){if(a[o].style.display!=="none"&&a[o]!==on.ghost&&(r||a[o]!==on.dragged)&&zu(a[o],n.draggable,t,!1)){if(i===e)return a[o];i++}o++}return null}function SF(t,e){for(var n=t.lastElementChild;n&&(n===on.ghost||Bt(n,"display")==="none"||e&&!kC(n,e));)n=n.previousElementSibling;return n||null}function Oi(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==on.clone&&(!e||kC(t,e))&&n++;return n}function ZX(t){var e=0,n=0,r=Jc();if(t)do{var i=Nm(t),o=i.a,a=i.d;e+=t.scrollLeft*o,n+=t.scrollTop*a}while(t!==r&&(t=t.parentNode));return[e,n]}function Wnt(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function u0(t,e){if(!t||!t.getBoundingClientRect)return Jc();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Bt(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Jc();if(r||e)return n;r=!0}}while(n=n.parentNode);return Jc()}function Gnt(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function WA(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var P2;function A1e(t,e){return function(){if(!P2){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),P2=setTimeout(function(){P2=void 0},e)}}}function Knt(){clearTimeout(P2),P2=void 0}function T1e(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function _F(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function JX(t,e){Bt(t,"position","absolute"),Bt(t,"top",e.top),Bt(t,"left",e.left),Bt(t,"width",e.width),Bt(t,"height",e.height)}function GA(t){Bt(t,"position",""),Bt(t,"top",""),Bt(t,"left",""),Bt(t,"width",""),Bt(t,"height","")}var ba="Sortable"+new Date().getTime();function Xnt(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(Bt(i,"display")==="none"||i===on.ghost)){t.push({target:i,rect:hi(i)});var o=cf({},t[t.length-1].rect);if(i.thisAnimationDuration){var a=Nm(i,!0);a&&(o.top-=a.f,o.left-=a.e)}i.fromRect=o}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(Wnt(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var o=!1,a=0;t.forEach(function(s){var l=0,u=s.target,c=u.fromRect,f=hi(u),d=u.prevFromRect,h=u.prevToRect,p=s.rect,m=Nm(u,!0);m&&(f.top-=m.f,f.left-=m.e),u.toRect=f,u.thisAnimationDuration&&WA(d,f)&&!WA(c,f)&&(p.top-f.top)/(p.left-f.left)===(c.top-f.top)/(c.left-f.left)&&(l=Znt(p,d,h,i.options)),WA(f,c)||(u.prevFromRect=c,u.prevToRect=f,l||(l=i.options.animation),i.animate(u,p,f,l)),l&&(o=!0,a=Math.max(a,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),o?e=setTimeout(function(){typeof r=="function"&&r()},a):typeof r=="function"&&r(),t=[]},animate:function(r,i,o,a){if(a){Bt(r,"transition",""),Bt(r,"transform","");var s=Nm(this.el),l=s&&s.a,u=s&&s.d,c=(i.left-o.left)/(l||1),f=(i.top-o.top)/(u||1);r.animatingX=!!c,r.animatingY=!!f,Bt(r,"transform","translate3d("+c+"px,"+f+"px,0)"),this.forRepaintDummy=Ynt(r),Bt(r,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),Bt(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Bt(r,"transition",""),Bt(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},a)}}}}function Ynt(t){return t.offsetWidth}function Znt(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var eg=[],KA={initializeByDefault:!0},b4={mount:function(e){for(var n in KA)KA.hasOwnProperty(n)&&!(n in e)&&(e[n]=KA[n]);eg.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),eg.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var o=e+"Global";eg.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][o]&&n[a.pluginName][o](cf({sortable:n},r)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](cf({sortable:n},r)))})},initializePlugins:function(e,n,r,i){eg.forEach(function(s){var l=s.pluginName;if(!(!e.options[l]&&!s.initializeByDefault)){var u=new s(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,vu(r,u.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var a=this.modifyOption(e,o,e.options[o]);typeof a<"u"&&(e.options[o]=a)}},getEventProperties:function(e,n){var r={};return eg.forEach(function(i){typeof i.eventProperties=="function"&&vu(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return eg.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(i=o.optionListeners[n].call(e[o.pluginName],r))}),i}};function Fb(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,o=t.cloneEl,a=t.toEl,s=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,f=t.newDraggableIndex,d=t.originalEvent,h=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[ba],!!e){var m,g=e.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!lh&&!y4?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=a||n,m.from=s||n,m.item=i||n,m.clone=o,m.oldIndex=l,m.newIndex=u,m.oldDraggableIndex=c,m.newDraggableIndex=f,m.originalEvent=d,m.pullMode=h?h.lastPutMode:void 0;var y=cf(cf({},p),b4.getEventProperties(r,e));for(var b in y)m[b]=y[b];n&&n.dispatchEvent(m),g[v]&&g[v].call(e,m)}}var Jnt=["evt"],ws=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,o=Lnt(r,Jnt);b4.pluginEvent.bind(on)(e,n,cf({dragEl:gt,parentEl:Mi,ghostEl:kn,rootEl:fi,nextEl:jp,lastDownEl:lS,cloneEl:Di,cloneHidden:e0,dragStarted:Lb,putSortable:$o,activeSortable:on.active,originalEvent:i,oldIndex:Ig,oldDraggableIndex:R2,newIndex:ul,newDraggableIndex:Gh,hideGhostForTarget:O1e,unhideGhostForTarget:I1e,cloneNowHidden:function(){e0=!0},cloneNowShown:function(){e0=!1},dispatchSortableEvent:function(s){za({sortable:n,name:s,originalEvent:i})}},o))};function za(t){Fb(cf({putSortable:$o,cloneEl:Di,targetEl:gt,rootEl:fi,oldIndex:Ig,oldDraggableIndex:R2,newIndex:ul,newDraggableIndex:Gh},t))}var gt,Mi,kn,fi,jp,lS,Di,e0,Ig,ul,R2,Gh,T5,$o,pg=!1,EC=!1,AC=[],Np,Ou,XA,YA,QX,eY,Lb,tg,F2,L2=!1,M5=!1,uS,ua,ZA=[],ID=!1,TC=[],n7=typeof document<"u",D5=C1e,tY=y4||lh?"cssFloat":"float",Qnt=n7&&!Unt&&!C1e&&"draggable"in document.createElement("div"),M1e=function(){if(n7){if(lh)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),D1e=function(e,n){var r=Bt(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=Lv(e,0,n),a=Lv(e,1,n),s=o&&Bt(o),l=a&&Bt(a),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+hi(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+hi(a).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&s.float!=="none"){var f=s.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===f)?"vertical":"horizontal"}return o&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=i&&r[tY]==="none"||a&&r[tY]==="none"&&u+c>i)?"vertical":"horizontal"},ert=function(e,n,r){var i=r?e.left:e.top,o=r?e.right:e.bottom,a=r?e.width:e.height,s=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===s||o===l||i+a/2===s+u/2},trt=function(e,n){var r;return AC.some(function(i){var o=i[ba].options.emptyInsertThreshold;if(!(!o||SF(i))){var a=hi(i),s=e>=a.left-o&&e<=a.right+o,l=n>=a.top-o&&n<=a.bottom+o;if(s&&l)return r=i}}),r},N1e=function(e){function n(o,a){return function(s,l,u,c){var f=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(o==null&&(a||f))return!0;if(o==null||o===!1)return!1;if(a&&o==="clone")return o;if(typeof o=="function")return n(o(s,l,u,c),a)(s,l,u,c);var d=(a?s:l).options.group.name;return o===!0||typeof o=="string"&&o===d||o.join&&o.indexOf(d)>-1}}var r={},i=e.group;(!i||sS(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},O1e=function(){!M1e&&kn&&Bt(kn,"display","none")},I1e=function(){!M1e&&kn&&Bt(kn,"display","")};n7&&document.addEventListener("click",function(t){if(EC)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),EC=!1,!1},!0);var Op=function(e){if(gt){e=e.touches?e.touches[0]:e;var n=trt(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[ba]._onDragOver(r)}}},nrt=function(e){gt&&gt.parentNode[ba]._isOutsideThisEl(e.target)};function on(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=vu({},e),t[ba]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return D1e(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:on.supportPointer!==!1&&"PointerEvent"in window&&!I2,emptyInsertThreshold:5};b4.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);N1e(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:Qnt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Wn(t,"pointerdown",this._onTapStart):(Wn(t,"mousedown",this._onTapStart),Wn(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Wn(t,"dragover",this),Wn(t,"dragenter",this)),AC.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),vu(this,Xnt())}on.prototype={constructor:on,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(tg=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,gt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,o=i.preventOnFilter,a=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(s||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(crt(r),!gt&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&I2&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=zu(l,i.draggable,r,!1),!(l&&l.animated)&&lS!==l)){if(Ig=Oi(l),R2=Oi(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){za({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),ws("filter",n,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(f){if(f=zu(u,f.trim(),r,!1),f)return za({sortable:n,rootEl:f,name:"filter",targetEl:l,fromEl:r,toEl:r}),ws("filter",n,{evt:e}),!0}),c)){o&&e.cancelable&&e.preventDefault();return}i.handle&&!zu(u,i.handle,r,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,n,r){var i=this,o=i.el,a=i.options,s=o.ownerDocument,l;if(r&&!gt&&r.parentNode===o){var u=hi(r);if(fi=o,gt=r,Mi=gt.parentNode,jp=gt.nextSibling,lS=r,T5=a.group,on.dragged=gt,Np={target:gt,clientX:(n||e).clientX,clientY:(n||e).clientY},QX=Np.clientX-u.left,eY=Np.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,gt.style["will-change"]="all",l=function(){if(ws("delayEnded",i,{evt:e}),on.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!KX&&i.nativeDraggable&&(gt.draggable=!0),i._triggerDragStart(e,n),za({sortable:i,name:"choose",originalEvent:e}),_i(gt,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){E1e(gt,c.trim(),JA)}),Wn(s,"dragover",Op),Wn(s,"mousemove",Op),Wn(s,"touchmove",Op),Wn(s,"mouseup",i._onDrop),Wn(s,"touchend",i._onDrop),Wn(s,"touchcancel",i._onDrop),KX&&this.nativeDraggable&&(this.options.touchStartThreshold=4,gt.draggable=!0),ws("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(y4||lh))){if(on.eventCanceled){this._onDrop();return}Wn(s,"mouseup",i._disableDelayedDrag),Wn(s,"touchend",i._disableDelayedDrag),Wn(s,"touchcancel",i._disableDelayedDrag),Wn(s,"mousemove",i._delayedDragTouchMoveHandler),Wn(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&Wn(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){gt&&JA(gt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Pn(e,"mouseup",this._disableDelayedDrag),Pn(e,"touchend",this._disableDelayedDrag),Pn(e,"touchcancel",this._disableDelayedDrag),Pn(e,"mousemove",this._delayedDragTouchMoveHandler),Pn(e,"touchmove",this._delayedDragTouchMoveHandler),Pn(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Wn(document,"pointermove",this._onTouchMove):n?Wn(document,"touchmove",this._onTouchMove):Wn(document,"mousemove",this._onTouchMove):(Wn(gt,"dragend",this),Wn(fi,"dragstart",this._onDragStart));try{document.selection?cS(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(pg=!1,fi&&gt){ws("dragStarted",this,{evt:n}),this.nativeDraggable&&Wn(document,"dragover",nrt);var r=this.options;!e&&_i(gt,r.dragClass,!1),_i(gt,r.ghostClass,!0),on.active=this,e&&this._appendGhost(),za({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Ou){this._lastX=Ou.clientX,this._lastY=Ou.clientY,O1e();for(var e=document.elementFromPoint(Ou.clientX,Ou.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ou.clientX,Ou.clientY),e!==n);)n=e;if(gt.parentNode[ba]._isOutsideThisEl(e),n)do{if(n[ba]){var r=void 0;if(r=n[ba]._onDragOver({clientX:Ou.clientX,clientY:Ou.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);I1e()}},_onTouchMove:function(e){if(Np){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,o=e.touches?e.touches[0]:e,a=kn&&Nm(kn,!0),s=kn&&a&&a.a,l=kn&&a&&a.d,u=D5&&ua&&ZX(ua),c=(o.clientX-Np.clientX+i.x)/(s||1)+(u?u[0]-ZA[0]:0)/(s||1),f=(o.clientY-Np.clientY+i.y)/(l||1)+(u?u[1]-ZA[1]:0)/(l||1);if(!on.active&&!pg){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(kn){a?(a.e+=c-(XA||0),a.f+=f-(YA||0)):a={a:1,b:0,c:0,d:1,e:c,f};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");Bt(kn,"webkitTransform",d),Bt(kn,"mozTransform",d),Bt(kn,"msTransform",d),Bt(kn,"transform",d),XA=c,YA=f,Ou=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!kn){var e=this.options.fallbackOnBody?document.body:fi,n=hi(gt,!0,D5,!0,e),r=this.options;if(D5){for(ua=e;Bt(ua,"position")==="static"&&Bt(ua,"transform")==="none"&&ua!==document;)ua=ua.parentNode;ua!==document.body&&ua!==document.documentElement?(ua===document&&(ua=Jc()),n.top+=ua.scrollTop,n.left+=ua.scrollLeft):ua=Jc(),ZA=ZX(ua)}kn=gt.cloneNode(!0),_i(kn,r.ghostClass,!1),_i(kn,r.fallbackClass,!0),_i(kn,r.dragClass,!0),Bt(kn,"transition",""),Bt(kn,"transform",""),Bt(kn,"box-sizing","border-box"),Bt(kn,"margin",0),Bt(kn,"top",n.top),Bt(kn,"left",n.left),Bt(kn,"width",n.width),Bt(kn,"height",n.height),Bt(kn,"opacity","0.8"),Bt(kn,"position",D5?"absolute":"fixed"),Bt(kn,"zIndex","100000"),Bt(kn,"pointerEvents","none"),on.ghost=kn,e.appendChild(kn),Bt(kn,"transform-origin",QX/parseInt(kn.style.width)*100+"% "+eY/parseInt(kn.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,o=r.options;if(ws("dragStart",this,{evt:e}),on.eventCanceled){this._onDrop();return}ws("setupClone",this),on.eventCanceled||(Di=_F(gt),Di.draggable=!1,Di.style["will-change"]="",this._hideClone(),_i(Di,this.options.chosenClass,!1),on.clone=Di),r.cloneId=cS(function(){ws("clone",r),!on.eventCanceled&&(r.options.removeCloneOnHide||fi.insertBefore(Di,gt),r._hideClone(),za({sortable:r,name:"clone"}))}),!n&&_i(gt,o.dragClass,!0),n?(EC=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Pn(document,"mouseup",r._onDrop),Pn(document,"touchend",r._onDrop),Pn(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(r,i,gt)),Wn(document,"drop",r),Bt(gt,"transform","translateZ(0)")),pg=!0,r._dragStartId=cS(r._dragStarted.bind(r,n,e)),Wn(document,"selectstart",r),Lb=!0,I2&&Bt(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,o,a,s=this.options,l=s.group,u=on.active,c=T5===l,f=s.sort,d=$o||u,h,p=this,m=!1;if(ID)return;function g(L,Y){ws(L,p,cf({evt:e,isOwner:c,axis:h?"vertical":"horizontal",revert:a,dragRect:i,targetRect:o,canSort:f,fromSortable:d,target:r,completed:y,onMove:function(B,z){return N5(fi,n,gt,i,B,hi(B),e,z)},changed:b},Y))}function v(){g("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function y(L){return g("dragOverCompleted",{insertion:L}),L&&(c?u._hideClone():u._showClone(p),p!==d&&(_i(gt,$o?$o.options.ghostClass:u.options.ghostClass,!1),_i(gt,s.ghostClass,!0)),$o!==p&&p!==on.active?$o=p:p===on.active&&$o&&($o=null),d===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){g("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(r===gt&&!gt.animated||r===n&&!r.animated)&&(tg=null),!s.dragoverBubble&&!e.rootEl&&r!==document&&(gt.parentNode[ba]._isOutsideThisEl(e.target),!L&&Op(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function b(){ul=Oi(gt),Gh=Oi(gt,s.draggable),za({sortable:p,name:"change",toEl:n,newIndex:ul,newDraggableIndex:Gh,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=zu(r,s.draggable,n,!0),g("dragOver"),on.eventCanceled)return m;if(gt.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return y(!1);if(EC=!1,u&&!s.disabled&&(c?f||(a=Mi!==fi):$o===this||(this.lastPutMode=T5.checkPull(this,u,gt,e))&&l.checkPut(this,u,gt,e))){if(h=this._getDirection(e,r)==="vertical",i=hi(gt),g("dragOverValid"),on.eventCanceled)return m;if(a)return Mi=fi,v(),this._hideClone(),g("revert"),on.eventCanceled||(jp?fi.insertBefore(gt,jp):fi.appendChild(gt)),y(!0);var w=SF(n,s.draggable);if(!w||art(e,h,this)&&!w.animated){if(w===gt)return y(!1);if(w&&n===e.target&&(r=w),r&&(o=hi(r)),N5(fi,n,gt,i,r,o,e,!!r)!==!1)return v(),n.appendChild(gt),Mi=n,b(),y(!0)}else if(w&&ort(e,h,this)){var x=Lv(n,0,s,!0);if(x===gt)return y(!1);if(r=x,o=hi(r),N5(fi,n,gt,i,r,o,e,!1)!==!1)return v(),n.insertBefore(gt,x),Mi=n,b(),y(!0)}else if(r.parentNode===n){o=hi(r);var S=0,_,k=gt.parentNode!==n,C=!ert(gt.animated&&gt.toRect||i,r.animated&&r.toRect||o,h),E=h?"top":"left",M=YX(r,"top","top")||YX(gt,"top","top"),A=M?M.scrollTop:void 0;tg!==r&&(_=o[E],L2=!1,M5=!C&&s.invertSwap||k),S=srt(e,r,o,h,C?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,M5,tg===r);var N;if(S!==0){var T=Oi(gt);do T-=S,N=Mi.children[T];while(N&&(Bt(N,"display")==="none"||N===kn))}if(S===0||N===r)return y(!1);tg=r,F2=S;var I=r.nextElementSibling,O=!1;O=S===1;var q=N5(fi,n,gt,i,r,o,e,O);if(q!==!1)return(q===1||q===-1)&&(O=q===1),ID=!0,setTimeout(irt,30),v(),O&&!I?n.appendChild(gt):r.parentNode.insertBefore(gt,O?I:r),M&&T1e(M,0,A-M.scrollTop),Mi=gt.parentNode,_!==void 0&&!M5&&(uS=Math.abs(_-hi(r)[E])),b(),y(!0)}if(n.contains(gt))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Pn(document,"mousemove",this._onTouchMove),Pn(document,"touchmove",this._onTouchMove),Pn(document,"pointermove",this._onTouchMove),Pn(document,"dragover",Op),Pn(document,"mousemove",Op),Pn(document,"touchmove",Op)},_offUpEvents:function(){var e=this.el.ownerDocument;Pn(e,"mouseup",this._onDrop),Pn(e,"touchend",this._onDrop),Pn(e,"pointerup",this._onDrop),Pn(e,"touchcancel",this._onDrop),Pn(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(ul=Oi(gt),Gh=Oi(gt,r.draggable),ws("drop",this,{evt:e}),Mi=gt&&gt.parentNode,ul=Oi(gt),Gh=Oi(gt,r.draggable),on.eventCanceled){this._nulling();return}pg=!1,M5=!1,L2=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),PD(this.cloneId),PD(this._dragStartId),this.nativeDraggable&&(Pn(document,"drop",this),Pn(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),I2&&Bt(document.body,"user-select",""),Bt(gt,"transform",""),e&&(Lb&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),kn&&kn.parentNode&&kn.parentNode.removeChild(kn),(fi===Mi||$o&&$o.lastPutMode!=="clone")&&Di&&Di.parentNode&&Di.parentNode.removeChild(Di),gt&&(this.nativeDraggable&&Pn(gt,"dragend",this),JA(gt),gt.style["will-change"]="",Lb&&!pg&&_i(gt,$o?$o.options.ghostClass:this.options.ghostClass,!1),_i(gt,this.options.chosenClass,!1),za({sortable:this,name:"unchoose",toEl:Mi,newIndex:null,newDraggableIndex:null,originalEvent:e}),fi!==Mi?(ul>=0&&(za({rootEl:Mi,name:"add",toEl:Mi,fromEl:fi,originalEvent:e}),za({sortable:this,name:"remove",toEl:Mi,originalEvent:e}),za({rootEl:Mi,name:"sort",toEl:Mi,fromEl:fi,originalEvent:e}),za({sortable:this,name:"sort",toEl:Mi,originalEvent:e})),$o&&$o.save()):ul!==Ig&&ul>=0&&(za({sortable:this,name:"update",toEl:Mi,originalEvent:e}),za({sortable:this,name:"sort",toEl:Mi,originalEvent:e})),on.active&&((ul==null||ul===-1)&&(ul=Ig,Gh=R2),za({sortable:this,name:"end",toEl:Mi,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ws("nulling",this),fi=gt=Mi=kn=jp=Di=lS=e0=Np=Ou=Lb=ul=Gh=Ig=R2=tg=F2=$o=T5=on.dragged=on.ghost=on.clone=on.active=null,TC.forEach(function(e){e.checked=!0}),TC.length=XA=YA=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":gt&&(this._onDragOver(e),rrt(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,o=r.length,a=this.options;i<o;i++)n=r[i],zu(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||urt(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(o,a){var s=i.children[a];zu(s,this.options.draggable,i,!1)&&(r[o]=s)},this),n&&this.captureAnimationState(),e.forEach(function(o){r[o]&&(i.removeChild(r[o]),i.appendChild(r[o]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return zu(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=b4.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&N1e(r)},destroy:function(){ws("destroy",this);var e=this.el;e[ba]=null,Pn(e,"mousedown",this._onTapStart),Pn(e,"touchstart",this._onTapStart),Pn(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Pn(e,"dragover",this),Pn(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),AC.splice(AC.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!e0){if(ws("hideClone",this),on.eventCanceled)return;Bt(Di,"display","none"),this.options.removeCloneOnHide&&Di.parentNode&&Di.parentNode.removeChild(Di),e0=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(e0){if(ws("showClone",this),on.eventCanceled)return;gt.parentNode==fi&&!this.options.group.revertClone?fi.insertBefore(Di,gt):jp?fi.insertBefore(Di,jp):fi.appendChild(Di),this.options.group.revertClone&&this.animate(gt,Di),Bt(Di,"display",""),e0=!1}}};function rrt(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function N5(t,e,n,r,i,o,a,s){var l,u=t[ba],c=u.options.onMove,f;return window.CustomEvent&&!lh&&!y4?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=o||hi(e),l.willInsertAfter=s,l.originalEvent=a,t.dispatchEvent(l),c&&(f=c.call(u,l,a)),f}function JA(t){t.draggable=!1}function irt(){ID=!1}function ort(t,e,n){var r=hi(Lv(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function art(t,e,n){var r=hi(SF(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function srt(t,e,n,r,i,o,a,s){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,c=r?n.top:n.left,f=r?n.bottom:n.right,d=!1;if(!a){if(s&&uS<u*i){if(!L2&&(F2===1?l>c+u*o/2:l<f-u*o/2)&&(L2=!0),L2)d=!0;else if(F2===1?l<c+uS:l>f-uS)return-F2}else if(l>c+u*(1-i)/2&&l<f-u*(1-i)/2)return lrt(e)}return d=d||a,d&&(l<c+u*o/2||l>f-u*o/2)?l>c+u/2?1:-1:0}function lrt(t){return Oi(gt)<Oi(t)?1:-1}function urt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function crt(t){TC.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&TC.push(r)}}function cS(t){return setTimeout(t,0)}function PD(t){return clearTimeout(t)}n7&&Wn(document,"touchmove",function(t){(on.active||pg)&&t.cancelable&&t.preventDefault()});on.utils={on:Wn,off:Pn,css:Bt,find:E1e,is:function(e,n){return!!zu(e,n,e,!1)},extend:Gnt,throttle:A1e,closest:zu,toggleClass:_i,clone:_F,index:Oi,nextTick:cS,cancelNextTick:PD,detectDirection:D1e,getChild:Lv};on.get=function(t){return t[ba]};on.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(on.utils=cf(cf({},on.utils),r.utils)),b4.mount(r)})};on.create=function(t,e){return new on(t,e)};on.version=Hnt;var Ki=[],$b,RD,FD=!1,QA,e9,MC,Bb;function frt(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Wn(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Wn(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Wn(document,"touchmove",this._handleFallbackAutoScroll):Wn(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Pn(document,"dragover",this._handleAutoScroll):(Pn(document,"pointermove",this._handleFallbackAutoScroll),Pn(document,"touchmove",this._handleFallbackAutoScroll),Pn(document,"mousemove",this._handleFallbackAutoScroll)),nY(),fS(),Knt()},nulling:function(){MC=RD=$b=FD=Bb=QA=e9=null,Ki.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,o=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(o,a);if(MC=n,r||this.options.forceAutoScrollFallback||y4||lh||I2){t9(n,this.options,s,r);var l=u0(s,!0);FD&&(!Bb||o!==QA||a!==e9)&&(Bb&&nY(),Bb=setInterval(function(){var u=u0(document.elementFromPoint(o,a),!0);u!==l&&(l=u,fS()),t9(n,i.options,u,r)},10),QA=o,e9=a)}else{if(!this.options.bubbleScroll||u0(s,!0)===Jc()){fS();return}t9(n,this.options,u0(s,!1),!1)}}},vu(t,{pluginName:"scroll",initializeByDefault:!0})}function fS(){Ki.forEach(function(t){clearInterval(t.pid)}),Ki=[]}function nY(){clearInterval(Bb)}var t9=A1e(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,s=e.scrollSpeed,l=Jc(),u=!1,c;RD!==n&&(RD=n,fS(),$b=e.scroll,c=e.scrollFn,$b===!0&&($b=u0(n,!0)));var f=0,d=$b;do{var h=d,p=hi(h),m=p.top,g=p.bottom,v=p.left,y=p.right,b=p.width,w=p.height,x=void 0,S=void 0,_=h.scrollWidth,k=h.scrollHeight,C=Bt(h),E=h.scrollLeft,M=h.scrollTop;h===l?(x=b<_&&(C.overflowX==="auto"||C.overflowX==="scroll"||C.overflowX==="visible"),S=w<k&&(C.overflowY==="auto"||C.overflowY==="scroll"||C.overflowY==="visible")):(x=b<_&&(C.overflowX==="auto"||C.overflowX==="scroll"),S=w<k&&(C.overflowY==="auto"||C.overflowY==="scroll"));var A=x&&(Math.abs(y-i)<=a&&E+b<_)-(Math.abs(v-i)<=a&&!!E),N=S&&(Math.abs(g-o)<=a&&M+w<k)-(Math.abs(m-o)<=a&&!!M);if(!Ki[f])for(var T=0;T<=f;T++)Ki[T]||(Ki[T]={});(Ki[f].vx!=A||Ki[f].vy!=N||Ki[f].el!==h)&&(Ki[f].el=h,Ki[f].vx=A,Ki[f].vy=N,clearInterval(Ki[f].pid),(A!=0||N!=0)&&(u=!0,Ki[f].pid=setInterval((function(){r&&this.layer===0&&on.active._onTouchMove(MC);var I=Ki[this.layer].vy?Ki[this.layer].vy*s:0,O=Ki[this.layer].vx?Ki[this.layer].vx*s:0;typeof c=="function"&&c.call(on.dragged.parentNode[ba],O,I,t,MC,Ki[this.layer].el)!=="continue"||T1e(Ki[this.layer].el,O,I)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&d!==l&&(d=u0(d,!1)));FD=u}},30),P1e=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,o=e.activeSortable,a=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||o;s();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(f)&&(a("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function CF(){}CF.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Lv(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:P1e};vu(CF,{pluginName:"revertOnSpill"});function kF(){}kF.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:P1e};vu(kF,{pluginName:"removeOnSpill"});var jl;function drt(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var r=n.dragEl;jl=r},dragOverValid:function(n){var r=n.completed,i=n.target,o=n.onMove,a=n.activeSortable,s=n.changed,l=n.cancel;if(a.options.swap){var u=this.sortable.el,c=this.options;if(i&&i!==u){var f=jl;o(i)!==!1?(_i(i,c.swapClass,!0),jl=i):jl=null,f&&f!==jl&&_i(f,c.swapClass,!1)}s(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,o=n.dragEl,a=i||this.sortable,s=this.options;jl&&_i(jl,s.swapClass,!1),jl&&(s.swap||i&&i.options.swap)&&o!==jl&&(a.captureAnimationState(),a!==r&&r.captureAnimationState(),hrt(o,jl),a.animateAll(),a!==r&&r.animateAll())},nulling:function(){jl=null}},vu(t,{pluginName:"swap",eventProperties:function(){return{swapItem:jl}}})}function hrt(t,e){var n=t.parentNode,r=e.parentNode,i,o;!n||!r||n.isEqualNode(e)||r.isEqualNode(t)||(i=Oi(t),o=Oi(e),n.isEqualNode(r)&&i<o&&o++,n.insertBefore(e,n.children[i]),r.insertBefore(t,r.children[o]))}var wn=[],sl=[],cb,Iu,fb=!1,xs=!1,ng=!1,Gr,db,O5;function prt(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?Wn(document,"pointerup",this._deselectMultiDrag):(Wn(document,"mouseup",this._deselectMultiDrag),Wn(document,"touchend",this._deselectMultiDrag)),Wn(document,"keydown",this._checkKeyDown),Wn(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,o){var a="";wn.length&&Iu===e?wn.forEach(function(s,l){a+=(l?", ":"")+s.textContent}):a=o.textContent,i.setData("Text",a)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;Gr=r},delayEnded:function(){this.isMultiDrag=~wn.indexOf(Gr)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var o=0;o<wn.length;o++)sl.push(_F(wn[o])),sl[o].sortableIndex=wn[o].sortableIndex,sl[o].draggable=!1,sl[o].style["will-change"]="",_i(sl[o],this.options.selectedClass,!1),wn[o]===Gr&&_i(sl[o],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,o=n.dispatchSortableEvent,a=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||wn.length&&Iu===r&&(rY(!0,i),o("clone"),a()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,o=n.cancel;this.isMultiDrag&&(rY(!1,i),sl.forEach(function(a){Bt(a,"display","")}),r(),O5=!1,o())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,o=n.cancel;this.isMultiDrag&&(sl.forEach(function(a){Bt(a,"display","none"),r.options.removeCloneOnHide&&a.parentNode&&a.parentNode.removeChild(a)}),i(),O5=!0,o())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Iu&&Iu.multiDrag._deselectMultiDrag(),wn.forEach(function(r){r.sortableIndex=Oi(r)}),wn=wn.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),ng=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){wn.forEach(function(a){a!==Gr&&Bt(a,"position","absolute")});var o=hi(Gr,!1,!0,!0);wn.forEach(function(a){a!==Gr&&JX(a,o)}),xs=!0,fb=!0}i.animateAll(function(){xs=!1,fb=!1,r.options.animation&&wn.forEach(function(a){GA(a)}),r.options.sort&&I5()})}},dragOver:function(n){var r=n.target,i=n.completed,o=n.cancel;xs&&~wn.indexOf(r)&&(i(!1),o())},revert:function(n){var r=n.fromSortable,i=n.rootEl,o=n.sortable,a=n.dragRect;wn.length>1&&(wn.forEach(function(s){o.addAnimationState({target:s,rect:xs?hi(s):a}),GA(s),s.fromRect=a,r.removeAnimationState(s)}),xs=!1,mrt(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,o=n.insertion,a=n.activeSortable,s=n.parentEl,l=n.putSortable,u=this.options;if(o){if(i&&a._hideClone(),fb=!1,u.animation&&wn.length>1&&(xs||!i&&!a.options.sort&&!l)){var c=hi(Gr,!1,!0,!0);wn.forEach(function(d){d!==Gr&&(JX(d,c),s.appendChild(d))}),xs=!0}if(!i)if(xs||I5(),wn.length>1){var f=O5;a._showClone(r),a.options.animation&&!O5&&f&&sl.forEach(function(d){a.addAnimationState({target:d,rect:db}),d.fromRect=db,d.thisAnimationDuration=null})}else a._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,o=n.activeSortable;if(wn.forEach(function(s){s.thisAnimationDuration=null}),o.options.animation&&!i&&o.multiDrag.isMultiDrag){db=vu({},r);var a=Nm(Gr,!0);db.top-=a.f,db.left-=a.e}},dragOverAnimationComplete:function(){xs&&(xs=!1,I5())},drop:function(n){var r=n.originalEvent,i=n.rootEl,o=n.parentEl,a=n.sortable,s=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(r){var f=this.options,d=o.children;if(!ng)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),_i(Gr,f.selectedClass,!~wn.indexOf(Gr)),~wn.indexOf(Gr))wn.splice(wn.indexOf(Gr),1),cb=null,Fb({sortable:a,rootEl:i,name:"deselect",targetEl:Gr});else{if(wn.push(Gr),Fb({sortable:a,rootEl:i,name:"select",targetEl:Gr}),r.shiftKey&&cb&&a.el.contains(cb)){var h=Oi(cb),p=Oi(Gr);if(~h&&~p&&h!==p){var m,g;for(p>h?(g=h,m=p):(g=p,m=h+1);g<m;g++)~wn.indexOf(d[g])||(_i(d[g],f.selectedClass,!0),wn.push(d[g]),Fb({sortable:a,rootEl:i,name:"select",targetEl:d[g]}))}}else cb=Gr;Iu=c}if(ng&&this.isMultiDrag){if(xs=!1,(o[ba].options.sort||o!==i)&&wn.length>1){var v=hi(Gr),y=Oi(Gr,":not(."+this.options.selectedClass+")");if(!fb&&f.animation&&(Gr.thisAnimationDuration=null),c.captureAnimationState(),!fb&&(f.animation&&(Gr.fromRect=v,wn.forEach(function(w){if(w.thisAnimationDuration=null,w!==Gr){var x=xs?hi(w):v;w.fromRect=x,c.addAnimationState({target:w,rect:x})}})),I5(),wn.forEach(function(w){d[y]?o.insertBefore(w,d[y]):o.appendChild(w),y++}),l===Oi(Gr))){var b=!1;wn.forEach(function(w){if(w.sortableIndex!==Oi(w)){b=!0;return}}),b&&s("update")}wn.forEach(function(w){GA(w)}),c.animateAll()}Iu=c}(i===o||u&&u.lastPutMode!=="clone")&&sl.forEach(function(w){w.parentNode&&w.parentNode.removeChild(w)})}},nullingGlobal:function(){this.isMultiDrag=ng=!1,sl.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Pn(document,"pointerup",this._deselectMultiDrag),Pn(document,"mouseup",this._deselectMultiDrag),Pn(document,"touchend",this._deselectMultiDrag),Pn(document,"keydown",this._checkKeyDown),Pn(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof ng<"u"&&ng)&&Iu===this.sortable&&!(n&&zu(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;wn.length;){var r=wn[0];_i(r,this.options.selectedClass,!1),wn.shift(),Fb({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},vu(t,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[ba];!r||!r.options.multiDrag||~wn.indexOf(n)||(Iu&&Iu!==r&&(Iu.multiDrag._deselectMultiDrag(),Iu=r),_i(n,r.options.selectedClass,!0),wn.push(n))},deselect:function(n){var r=n.parentNode[ba],i=wn.indexOf(n);!r||!r.options.multiDrag||!~i||(_i(n,r.options.selectedClass,!1),wn.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return wn.forEach(function(o){r.push({multiDragElement:o,index:o.sortableIndex});var a;xs&&o!==Gr?a=-1:xs?a=Oi(o,":not(."+n.options.selectedClass+")"):a=Oi(o),i.push({multiDragElement:o,index:a})}),{items:$nt(wn),clones:[].concat(sl),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function mrt(t,e){wn.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function rY(t,e){sl.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function I5(){wn.forEach(function(t){t!==Gr&&t.parentNode&&t.parentNode.removeChild(t)})}on.mount(new frt);on.mount(kF,CF);const grt=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:prt,Sortable:on,Swap:drt,default:on},Symbol.toStringTag,{value:"Module"})),vrt=e4(grt);var yrt=eS.exports,iY;function brt(){return iY||(iY=1,function(t,e){(function(r,i){t.exports=i(Pnt(),vrt)})(typeof self<"u"?self:yrt,function(n,r){return function(i){var o={};function a(s){if(o[s])return o[s].exports;var l=o[s]={i:s,l:!1,exports:{}};return i[s].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=i,a.c=o,a.d=function(s,l,u){a.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:u})},a.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},a.t=function(s,l){if(l&1&&(s=a(s)),l&8||l&4&&typeof s=="object"&&s&&s.__esModule)return s;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:s}),l&2&&typeof s!="string")for(var c in s)a.d(u,c,(function(f){return s[f]}).bind(null,c));return u},a.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(l,"a",l),l},a.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},a.p="",a(a.s="fb15")}({"00ee":function(i,o,a){var s=a("b622"),l=s("toStringTag"),u={};u[l]="z",i.exports=String(u)==="[object z]"},"0366":function(i,o,a){var s=a("1c0b");i.exports=function(l,u,c){if(s(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(f){return l.call(u,f)};case 2:return function(f,d){return l.call(u,f,d)};case 3:return function(f,d,h){return l.call(u,f,d,h)}}return function(){return l.apply(u,arguments)}}},"057f":function(i,o,a){var s=a("fc6a"),l=a("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(d){try{return l(d)}catch{return c.slice()}};i.exports.f=function(h){return c&&u.call(h)=="[object Window]"?f(h):l(s(h))}},"06cf":function(i,o,a){var s=a("83ab"),l=a("d1e7"),u=a("5c6c"),c=a("fc6a"),f=a("c04e"),d=a("5135"),h=a("0cfb"),p=Object.getOwnPropertyDescriptor;o.f=s?p:function(g,v){if(g=c(g),v=f(v,!0),h)try{return p(g,v)}catch{}if(d(g,v))return u(!l.f.call(g,v),g[v])}},"0cfb":function(i,o,a){var s=a("83ab"),l=a("d039"),u=a("cc12");i.exports=!s&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,o,a){var s=a("23e7"),l=a("d58f").left,u=a("a640"),c=a("ae40"),f=u("reduce"),d=c("reduce",{1:0});s({target:"Array",proto:!0,forced:!f||!d},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,o,a){var s=a("c6b6"),l=a("9263");i.exports=function(u,c){var f=u.exec;if(typeof f=="function"){var d=f.call(u,c);if(typeof d!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return d}if(s(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(i,o,a){var s=a("da84"),l=a("fdbc"),u=a("17c2"),c=a("9112");for(var f in l){var d=s[f],h=d&&d.prototype;if(h&&h.forEach!==u)try{c(h,"forEach",u)}catch{h.forEach=u}}},"17c2":function(i,o,a){var s=a("b727").forEach,l=a("a640"),u=a("ae40"),c=l("forEach"),f=u("forEach");i.exports=!c||!f?function(h){return s(this,h,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,o,a){var s=a("d066");i.exports=s("document","documentElement")},"1c0b":function(i,o){i.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},"1c7e":function(i,o,a){var s=a("b622"),l=s("iterator"),u=!1;try{var c=0,f={next:function(){return{done:!!c++}},return:function(){u=!0}};f[l]=function(){return this},Array.from(f,function(){throw 2})}catch{}i.exports=function(d,h){if(!h&&!u)return!1;var p=!1;try{var m={};m[l]=function(){return{next:function(){return{done:p=!0}}}},d(m)}catch{}return p}},"1d80":function(i,o){i.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},"1dde":function(i,o,a){var s=a("d039"),l=a("b622"),u=a("2d00"),c=l("species");i.exports=function(f){return u>=51||!s(function(){var d=[],h=d.constructor={};return h[c]=function(){return{foo:1}},d[f](Boolean).foo!==1})}},"23cb":function(i,o,a){var s=a("a691"),l=Math.max,u=Math.min;i.exports=function(c,f){var d=s(c);return d<0?l(d+f,0):u(d,f)}},"23e7":function(i,o,a){var s=a("da84"),l=a("06cf").f,u=a("9112"),c=a("6eeb"),f=a("ce4e"),d=a("e893"),h=a("94ca");i.exports=function(p,m){var g=p.target,v=p.global,y=p.stat,b,w,x,S,_,k;if(v?w=s:y?w=s[g]||f(g,{}):w=(s[g]||{}).prototype,w)for(x in m){if(_=m[x],p.noTargetGet?(k=l(w,x),S=k&&k.value):S=w[x],b=h(v?x:g+(y?".":"#")+x,p.forced),!b&&S!==void 0){if(typeof _==typeof S)continue;d(_,S)}(p.sham||S&&S.sham)&&u(_,"sham",!0),c(w,x,_,p)}}},"241c":function(i,o,a){var s=a("ca84"),l=a("7839"),u=l.concat("length","prototype");o.f=Object.getOwnPropertyNames||function(f){return s(f,u)}},"25f0":function(i,o,a){var s=a("6eeb"),l=a("825a"),u=a("d039"),c=a("ad6d"),f="toString",d=RegExp.prototype,h=d[f],p=u(function(){return h.call({source:"a",flags:"b"})!="/a/b"}),m=h.name!=f;(p||m)&&s(RegExp.prototype,f,function(){var v=l(this),y=String(v.source),b=v.flags,w=String(b===void 0&&v instanceof RegExp&&!("flags"in d)?c.call(v):b);return"/"+y+"/"+w},{unsafe:!0})},"2ca0":function(i,o,a){var s=a("23e7"),l=a("06cf").f,u=a("50c4"),c=a("5a34"),f=a("1d80"),d=a("ab13"),h=a("c430"),p="".startsWith,m=Math.min,g=d("startsWith"),v=!h&&!g&&!!function(){var y=l(String.prototype,"startsWith");return y&&!y.writable}();s({target:"String",proto:!0,forced:!v&&!g},{startsWith:function(b){var w=String(f(this));c(b);var x=u(m(arguments.length>1?arguments[1]:void 0,w.length)),S=String(b);return p?p.call(w,S,x):w.slice(x,x+S.length)===S}})},"2d00":function(i,o,a){var s=a("da84"),l=a("342f"),u=s.process,c=u&&u.versions,f=c&&c.v8,d,h;f?(d=f.split("."),h=d[0]+d[1]):l&&(d=l.match(/Edge\/(\d+)/),(!d||d[1]>=74)&&(d=l.match(/Chrome\/(\d+)/),d&&(h=d[1]))),i.exports=h&&+h},"342f":function(i,o,a){var s=a("d066");i.exports=s("navigator","userAgent")||""},"35a1":function(i,o,a){var s=a("f5df"),l=a("3f8c"),u=a("b622"),c=u("iterator");i.exports=function(f){if(f!=null)return f[c]||f["@@iterator"]||l[s(f)]}},"37e8":function(i,o,a){var s=a("83ab"),l=a("9bf2"),u=a("825a"),c=a("df75");i.exports=s?Object.defineProperties:function(d,h){u(d);for(var p=c(h),m=p.length,g=0,v;m>g;)l.f(d,v=p[g++],h[v]);return d}},"3bbe":function(i,o,a){var s=a("861d");i.exports=function(l){if(!s(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,o,a){var s=a("6547").charAt,l=a("69f3"),u=a("7dd0"),c="String Iterator",f=l.set,d=l.getterFor(c);u(String,"String",function(h){f(this,{type:c,string:String(h),index:0})},function(){var p=d(this),m=p.string,g=p.index,v;return g>=m.length?{value:void 0,done:!0}:(v=s(m,g),p.index+=v.length,{value:v,done:!1})})},"3f8c":function(i,o){i.exports={}},4160:function(i,o,a){var s=a("23e7"),l=a("17c2");s({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,o,a){var s=a("da84");i.exports=s},"44ad":function(i,o,a){var s=a("d039"),l=a("c6b6"),u="".split;i.exports=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(i,o,a){var s=a("b622"),l=a("7c73"),u=a("9bf2"),c=s("unscopables"),f=Array.prototype;f[c]==null&&u.f(f,c,{configurable:!0,value:l(null)}),i.exports=function(d){f[c][d]=!0}},"44e7":function(i,o,a){var s=a("861d"),l=a("c6b6"),u=a("b622"),c=u("match");i.exports=function(f){var d;return s(f)&&((d=f[c])!==void 0?!!d:l(f)=="RegExp")}},4930:function(i,o,a){var s=a("d039");i.exports=!!Object.getOwnPropertySymbols&&!s(function(){return!String(Symbol())})},"4d64":function(i,o,a){var s=a("fc6a"),l=a("50c4"),u=a("23cb"),c=function(f){return function(d,h,p){var m=s(d),g=l(m.length),v=u(p,g),y;if(f&&h!=h){for(;g>v;)if(y=m[v++],y!=y)return!0}else for(;g>v;v++)if((f||v in m)&&m[v]===h)return f||v||0;return!f&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,o,a){var s=a("23e7"),l=a("b727").filter,u=a("1dde"),c=a("ae40"),f=u("filter"),d=c("filter");s({target:"Array",proto:!0,forced:!f||!d},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,o,a){var s=a("0366"),l=a("7b0b"),u=a("9bdd"),c=a("e95a"),f=a("50c4"),d=a("8418"),h=a("35a1");i.exports=function(m){var g=l(m),v=typeof this=="function"?this:Array,y=arguments.length,b=y>1?arguments[1]:void 0,w=b!==void 0,x=h(g),S=0,_,k,C,E,M,A;if(w&&(b=s(b,y>2?arguments[2]:void 0,2)),x!=null&&!(v==Array&&c(x)))for(E=x.call(g),M=E.next,k=new v;!(C=M.call(E)).done;S++)A=w?u(E,b,[C.value,S],!0):C.value,d(k,S,A);else for(_=f(g.length),k=new v(_);_>S;S++)A=w?b(g[S],S):g[S],d(k,S,A);return k.length=S,k}},"4fad":function(i,o,a){var s=a("23e7"),l=a("6f53").entries;s({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(i,o,a){var s=a("a691"),l=Math.min;i.exports=function(u){return u>0?l(s(u),9007199254740991):0}},5135:function(i,o){var a={}.hasOwnProperty;i.exports=function(s,l){return a.call(s,l)}},5319:function(i,o,a){var s=a("d784"),l=a("825a"),u=a("7b0b"),c=a("50c4"),f=a("a691"),d=a("1d80"),h=a("8aa5"),p=a("14c3"),m=Math.max,g=Math.min,v=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g,w=function(x){return x===void 0?x:String(x)};s("replace",2,function(x,S,_,k){var C=k.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=k.REPLACE_KEEPS_$0,M=C?"$":"$0";return[function(T,I){var O=d(this),q=T?.[x];return q!==void 0?q.call(T,O,I):S.call(String(O),T,I)},function(N,T){if(!C&&E||typeof T=="string"&&T.indexOf(M)===-1){var I=_(S,N,this,T);if(I.done)return I.value}var O=l(N),q=String(this),L=typeof T=="function";L||(T=String(T));var Y=O.global;if(Y){var R=O.unicode;O.lastIndex=0}for(var B=[];;){var z=p(O,q);if(z===null||(B.push(z),!Y))break;var P=String(z[0]);P===""&&(O.lastIndex=h(q,c(O.lastIndex),R))}for(var $="",X=0,K=0;K<B.length;K++){z=B[K];for(var Z=String(z[0]),te=m(g(f(z.index),q.length),0),J=[],fe=1;fe<z.length;fe++)J.push(w(z[fe]));var ue=z.groups;if(L){var de=[Z].concat(J,te,q);ue!==void 0&&de.push(ue);var ee=String(T.apply(void 0,de))}else ee=A(Z,q,te,J,ue,T);te>=X&&($+=q.slice(X,te)+ee,X=te+Z.length)}return $+q.slice(X)}];function A(N,T,I,O,q,L){var Y=I+N.length,R=O.length,B=b;return q!==void 0&&(q=u(q),B=y),S.call(L,B,function(z,P){var $;switch(P.charAt(0)){case"$":return"$";case"&":return N;case"`":return T.slice(0,I);case"'":return T.slice(Y);case"<":$=q[P.slice(1,-1)];break;default:var X=+P;if(X===0)return z;if(X>R){var K=v(X/10);return K===0?z:K<=R?O[K-1]===void 0?P.charAt(1):O[K-1]+P.charAt(1):z}$=O[X-1]}return $===void 0?"":$})}})},5692:function(i,o,a){var s=a("c430"),l=a("c6cd");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:s?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,o,a){var s=a("d066"),l=a("241c"),u=a("7418"),c=a("825a");i.exports=s("Reflect","ownKeys")||function(d){var h=l.f(c(d)),p=u.f;return p?h.concat(p(d)):h}},"5a34":function(i,o,a){var s=a("44e7");i.exports=function(l){if(s(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,o){i.exports=function(a,s){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:s}}},"5db7":function(i,o,a){var s=a("23e7"),l=a("a2bf"),u=a("7b0b"),c=a("50c4"),f=a("1c0b"),d=a("65f0");s({target:"Array",proto:!0},{flatMap:function(p){var m=u(this),g=c(m.length),v;return f(p),v=d(m,0),v.length=l(v,m,m,g,0,1,p,arguments.length>1?arguments[1]:void 0),v}})},6547:function(i,o,a){var s=a("a691"),l=a("1d80"),u=function(c){return function(f,d){var h=String(l(f)),p=s(d),m=h.length,g,v;return p<0||p>=m?c?"":void 0:(g=h.charCodeAt(p),g<55296||g>56319||p+1===m||(v=h.charCodeAt(p+1))<56320||v>57343?c?h.charAt(p):g:c?h.slice(p,p+2):(g-55296<<10)+(v-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(i,o,a){var s=a("861d"),l=a("e8b5"),u=a("b622"),c=u("species");i.exports=function(f,d){var h;return l(f)&&(h=f.constructor,typeof h=="function"&&(h===Array||l(h.prototype))?h=void 0:s(h)&&(h=h[c],h===null&&(h=void 0))),new(h===void 0?Array:h)(d===0?0:d)}},"69f3":function(i,o,a){var s=a("7f9a"),l=a("da84"),u=a("861d"),c=a("9112"),f=a("5135"),d=a("f772"),h=a("d012"),p=l.WeakMap,m,g,v,y=function(C){return v(C)?g(C):m(C,{})},b=function(C){return function(E){var M;if(!u(E)||(M=g(E)).type!==C)throw TypeError("Incompatible receiver, "+C+" required");return M}};if(s){var w=new p,x=w.get,S=w.has,_=w.set;m=function(C,E){return _.call(w,C,E),E},g=function(C){return x.call(w,C)||{}},v=function(C){return S.call(w,C)}}else{var k=d("state");h[k]=!0,m=function(C,E){return c(C,k,E),E},g=function(C){return f(C,k)?C[k]:{}},v=function(C){return f(C,k)}}i.exports={set:m,get:g,has:v,enforce:y,getterFor:b}},"6eeb":function(i,o,a){var s=a("da84"),l=a("9112"),u=a("5135"),c=a("ce4e"),f=a("8925"),d=a("69f3"),h=d.get,p=d.enforce,m=String(String).split("String");(i.exports=function(g,v,y,b){var w=b?!!b.unsafe:!1,x=b?!!b.enumerable:!1,S=b?!!b.noTargetGet:!1;if(typeof y=="function"&&(typeof v=="string"&&!u(y,"name")&&l(y,"name",v),p(y).source=m.join(typeof v=="string"?v:"")),g===s){x?g[v]=y:c(v,y);return}else w?!S&&g[v]&&(x=!0):delete g[v];x?g[v]=y:l(g,v,y)})(Function.prototype,"toString",function(){return typeof this=="function"&&h(this).source||f(this)})},"6f53":function(i,o,a){var s=a("83ab"),l=a("df75"),u=a("fc6a"),c=a("d1e7").f,f=function(d){return function(h){for(var p=u(h),m=l(p),g=m.length,v=0,y=[],b;g>v;)b=m[v++],(!s||c.call(p,b))&&y.push(d?[b,p[b]]:p[b]);return y}};i.exports={entries:f(!0),values:f(!1)}},"73d9":function(i,o,a){var s=a("44d2");s("flatMap")},7418:function(i,o){o.f=Object.getOwnPropertySymbols},"746f":function(i,o,a){var s=a("428f"),l=a("5135"),u=a("e538"),c=a("9bf2").f;i.exports=function(f){var d=s.Symbol||(s.Symbol={});l(d,f)||c(d,f,{value:u.f(f)})}},7839:function(i,o){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,o,a){var s=a("1d80");i.exports=function(l){return Object(s(l))}},"7c73":function(i,o,a){var s=a("825a"),l=a("37e8"),u=a("7839"),c=a("d012"),f=a("1be4"),d=a("cc12"),h=a("f772"),p=">",m="<",g="prototype",v="script",y=h("IE_PROTO"),b=function(){},w=function(C){return m+v+p+C+m+"/"+v+p},x=function(C){C.write(w("")),C.close();var E=C.parentWindow.Object;return C=null,E},S=function(){var C=d("iframe"),E="java"+v+":",M;return C.style.display="none",f.appendChild(C),C.src=String(E),M=C.contentWindow.document,M.open(),M.write(w("document.F=Object")),M.close(),M.F},_,k=function(){try{_=document.domain&&new ActiveXObject("htmlfile")}catch{}k=_?x(_):S();for(var C=u.length;C--;)delete k[g][u[C]];return k()};c[y]=!0,i.exports=Object.create||function(E,M){var A;return E!==null?(b[g]=s(E),A=new b,b[g]=null,A[y]=E):A=k(),M===void 0?A:l(A,M)}},"7dd0":function(i,o,a){var s=a("23e7"),l=a("9ed3"),u=a("e163"),c=a("d2bb"),f=a("d44e"),d=a("9112"),h=a("6eeb"),p=a("b622"),m=a("c430"),g=a("3f8c"),v=a("ae93"),y=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,w=p("iterator"),x="keys",S="values",_="entries",k=function(){return this};i.exports=function(C,E,M,A,N,T,I){l(M,E,A);var O=function(K){if(K===N&&B)return B;if(!b&&K in Y)return Y[K];switch(K){case x:return function(){return new M(this,K)};case S:return function(){return new M(this,K)};case _:return function(){return new M(this,K)}}return function(){return new M(this)}},q=E+" Iterator",L=!1,Y=C.prototype,R=Y[w]||Y["@@iterator"]||N&&Y[N],B=!b&&R||O(N),z=E=="Array"&&Y.entries||R,P,$,X;if(z&&(P=u(z.call(new C)),y!==Object.prototype&&P.next&&(!m&&u(P)!==y&&(c?c(P,y):typeof P[w]!="function"&&d(P,w,k)),f(P,q,!0,!0),m&&(g[q]=k))),N==S&&R&&R.name!==S&&(L=!0,B=function(){return R.call(this)}),(!m||I)&&Y[w]!==B&&d(Y,w,B),g[E]=B,N)if($={values:O(S),keys:T?B:O(x),entries:O(_)},I)for(X in $)(b||L||!(X in Y))&&h(Y,X,$[X]);else s({target:E,proto:!0,forced:b||L},$);return $}},"7f9a":function(i,o,a){var s=a("da84"),l=a("8925"),u=s.WeakMap;i.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(i,o,a){var s=a("861d");i.exports=function(l){if(!s(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,o,a){var s=a("d039");i.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,o,a){var s=a("c04e"),l=a("9bf2"),u=a("5c6c");i.exports=function(c,f,d){var h=s(f);h in c?l.f(c,h,u(0,d)):c[h]=d}},"861d":function(i,o){i.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},8875:function(i,o,a){var s,l,u;(function(c,f){l=[],s=f,u=typeof s=="function"?s.apply(o,l):s,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function c(){var f=Object.getOwnPropertyDescriptor(document,"currentScript");if(!f&&"currentScript"in document&&document.currentScript||f&&f.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(_){var d=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,h=/@([^@]*):(\d+):(\d+)\s*$/ig,p=d.exec(_.stack)||h.exec(_.stack),m=p&&p[1]||!1,g=p&&p[2]||!1,v=document.location.href.replace(document.location.hash,""),y,b,w,x=document.getElementsByTagName("script");m===v&&(y=document.documentElement.outerHTML,b=new RegExp("(?:[^\\n]+?\\n){0,"+(g-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),w=y.replace(b,"$1").trim());for(var S=0;S<x.length;S++)if(x[S].readyState==="interactive"||x[S].src===m||m===v&&x[S].innerHTML&&x[S].innerHTML.trim()===w)return x[S];return null}}return c})},8925:function(i,o,a){var s=a("c6cd"),l=Function.toString;typeof s.inspectSource!="function"&&(s.inspectSource=function(u){return l.call(u)}),i.exports=s.inspectSource},"8aa5":function(i,o,a){var s=a("6547").charAt;i.exports=function(l,u,c){return u+(c?s(l,u).length:1)}},"8bbf":function(i,o){i.exports=n},"90e3":function(i,o){var a=0,s=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++a+s).toString(36)}},9112:function(i,o,a){var s=a("83ab"),l=a("9bf2"),u=a("5c6c");i.exports=s?function(c,f,d){return l.f(c,f,u(1,d))}:function(c,f,d){return c[f]=d,c}},9263:function(i,o,a){var s=a("ad6d"),l=a("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,f=u,d=function(){var g=/a/,v=/b*/g;return u.call(g,"a"),u.call(v,"a"),g.lastIndex!==0||v.lastIndex!==0}(),h=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,m=d||p||h;m&&(f=function(v){var y=this,b,w,x,S,_=h&&y.sticky,k=s.call(y),C=y.source,E=0,M=v;return _&&(k=k.replace("y",""),k.indexOf("g")===-1&&(k+="g"),M=String(v).slice(y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&v[y.lastIndex-1]!==`
`)&&(C="(?: "+C+")",M=" "+M,E++),w=new RegExp("^(?:"+C+")",k)),p&&(w=new RegExp("^"+C+"$(?!\\s)",k)),d&&(b=y.lastIndex),x=u.call(_?w:y,M),_?x?(x.input=x.input.slice(E),x[0]=x[0].slice(E),x.index=y.lastIndex,y.lastIndex+=x[0].length):y.lastIndex=0:d&&x&&(y.lastIndex=y.global?x.index+x[0].length:b),p&&x&&x.length>1&&c.call(x[0],w,function(){for(S=1;S<arguments.length-2;S++)arguments[S]===void 0&&(x[S]=void 0)}),x}),i.exports=f},"94ca":function(i,o,a){var s=a("d039"),l=/#|\.prototype\./,u=function(p,m){var g=f[c(p)];return g==h?!0:g==d?!1:typeof m=="function"?s(m):!!m},c=u.normalize=function(p){return String(p).replace(l,".").toLowerCase()},f=u.data={},d=u.NATIVE="N",h=u.POLYFILL="P";i.exports=u},"99af":function(i,o,a){var s=a("23e7"),l=a("d039"),u=a("e8b5"),c=a("861d"),f=a("7b0b"),d=a("50c4"),h=a("8418"),p=a("65f0"),m=a("1dde"),g=a("b622"),v=a("2d00"),y=g("isConcatSpreadable"),b=9007199254740991,w="Maximum allowed index exceeded",x=v>=51||!l(function(){var C=[];return C[y]=!1,C.concat()[0]!==C}),S=m("concat"),_=function(C){if(!c(C))return!1;var E=C[y];return E!==void 0?!!E:u(C)},k=!x||!S;s({target:"Array",proto:!0,forced:k},{concat:function(E){var M=f(this),A=p(M,0),N=0,T,I,O,q,L;for(T=-1,O=arguments.length;T<O;T++)if(L=T===-1?M:arguments[T],_(L)){if(q=d(L.length),N+q>b)throw TypeError(w);for(I=0;I<q;I++,N++)I in L&&h(A,N,L[I])}else{if(N>=b)throw TypeError(w);h(A,N++,L)}return A.length=N,A}})},"9bdd":function(i,o,a){var s=a("825a");i.exports=function(l,u,c,f){try{return f?u(s(c)[0],c[1]):u(c)}catch(h){var d=l.return;throw d!==void 0&&s(d.call(l)),h}}},"9bf2":function(i,o,a){var s=a("83ab"),l=a("0cfb"),u=a("825a"),c=a("c04e"),f=Object.defineProperty;o.f=s?f:function(h,p,m){if(u(h),p=c(p,!0),u(m),l)try{return f(h,p,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(h[p]=m.value),h}},"9ed3":function(i,o,a){var s=a("ae93").IteratorPrototype,l=a("7c73"),u=a("5c6c"),c=a("d44e"),f=a("3f8c"),d=function(){return this};i.exports=function(h,p,m){var g=p+" Iterator";return h.prototype=l(s,{next:u(1,m)}),c(h,g,!1,!0),f[g]=d,h}},"9f7f":function(i,o,a){var s=a("d039");function l(u,c){return RegExp(u,c)}o.UNSUPPORTED_Y=s(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),o.BROKEN_CARET=s(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(i,o,a){var s=a("e8b5"),l=a("50c4"),u=a("0366"),c=function(f,d,h,p,m,g,v,y){for(var b=m,w=0,x=v?u(v,y,3):!1,S;w<p;){if(w in h){if(S=x?x(h[w],w,d):h[w],g>0&&s(S))b=c(f,d,S,l(S.length),b,g-1)-1;else{if(b>=9007199254740991)throw TypeError("Exceed the acceptable array length");f[b]=S}b++}w++}return b};i.exports=c},a352:function(i,o){i.exports=r},a434:function(i,o,a){var s=a("23e7"),l=a("23cb"),u=a("a691"),c=a("50c4"),f=a("7b0b"),d=a("65f0"),h=a("8418"),p=a("1dde"),m=a("ae40"),g=p("splice"),v=m("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,b=Math.min,w=9007199254740991,x="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!g||!v},{splice:function(_,k){var C=f(this),E=c(C.length),M=l(_,E),A=arguments.length,N,T,I,O,q,L;if(A===0?N=T=0:A===1?(N=0,T=E-M):(N=A-2,T=b(y(u(k),0),E-M)),E+N-T>w)throw TypeError(x);for(I=d(C,T),O=0;O<T;O++)q=M+O,q in C&&h(I,O,C[q]);if(I.length=T,N<T){for(O=M;O<E-T;O++)q=O+T,L=O+N,q in C?C[L]=C[q]:delete C[L];for(O=E;O>E-T+N;O--)delete C[O-1]}else if(N>T)for(O=E-T;O>M;O--)q=O+T-1,L=O+N-1,q in C?C[L]=C[q]:delete C[L];for(O=0;O<N;O++)C[O+M]=arguments[O+2];return C.length=E-T+N,I}})},a4d3:function(i,o,a){var s=a("23e7"),l=a("da84"),u=a("d066"),c=a("c430"),f=a("83ab"),d=a("4930"),h=a("fdbf"),p=a("d039"),m=a("5135"),g=a("e8b5"),v=a("861d"),y=a("825a"),b=a("7b0b"),w=a("fc6a"),x=a("c04e"),S=a("5c6c"),_=a("7c73"),k=a("df75"),C=a("241c"),E=a("057f"),M=a("7418"),A=a("06cf"),N=a("9bf2"),T=a("d1e7"),I=a("9112"),O=a("6eeb"),q=a("5692"),L=a("f772"),Y=a("d012"),R=a("90e3"),B=a("b622"),z=a("e538"),P=a("746f"),$=a("d44e"),X=a("69f3"),K=a("b727").forEach,Z=L("hidden"),te="Symbol",J="prototype",fe=B("toPrimitive"),ue=X.set,de=X.getterFor(te),ee=Object[J],D=l.Symbol,oe=u("JSON","stringify"),W=A.f,V=N.f,F=E.f,j=T.f,se=q("symbols"),pe=q("op-symbols"),ae=q("string-to-symbol-registry"),H=q("symbol-to-string-registry"),Q=q("wks"),ie=l.QObject,ce=!ie||!ie[J]||!ie[J].findChild,ve=f&&p(function(){return _(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a!=7})?function(Ie,qe,Ze){var ft=W(ee,qe);ft&&delete ee[qe],V(Ie,qe,Ze),ft&&Ie!==ee&&V(ee,qe,ft)}:V,Te=function(Ie,qe){var Ze=se[Ie]=_(D[J]);return ue(Ze,{type:te,tag:Ie,description:qe}),f||(Ze.description=qe),Ze},be=h?function(Ie){return typeof Ie=="symbol"}:function(Ie){return Object(Ie)instanceof D},_e=function(qe,Ze,ft){qe===ee&&_e(pe,Ze,ft),y(qe);var Ot=x(Ze,!0);return y(ft),m(se,Ot)?(ft.enumerable?(m(qe,Z)&&qe[Z][Ot]&&(qe[Z][Ot]=!1),ft=_(ft,{enumerable:S(0,!1)})):(m(qe,Z)||V(qe,Z,S(1,{})),qe[Z][Ot]=!0),ve(qe,Ot,ft)):V(qe,Ot,ft)},ge=function(qe,Ze){y(qe);var ft=w(Ze),Ot=k(ft).concat(G(ft));return K(Ot,function(lr){(!f||Me.call(ft,lr))&&_e(qe,lr,ft[lr])}),qe},Ae=function(qe,Ze){return Ze===void 0?_(qe):ge(_(qe),Ze)},Me=function(qe){var Ze=x(qe,!0),ft=j.call(this,Ze);return this===ee&&m(se,Ze)&&!m(pe,Ze)?!1:ft||!m(this,Ze)||!m(se,Ze)||m(this,Z)&&this[Z][Ze]?ft:!0},Fe=function(qe,Ze){var ft=w(qe),Ot=x(Ze,!0);if(!(ft===ee&&m(se,Ot)&&!m(pe,Ot))){var lr=W(ft,Ot);return lr&&m(se,Ot)&&!(m(ft,Z)&&ft[Z][Ot])&&(lr.enumerable=!0),lr}},Ue=function(qe){var Ze=F(w(qe)),ft=[];return K(Ze,function(Ot){!m(se,Ot)&&!m(Y,Ot)&&ft.push(Ot)}),ft},G=function(qe){var Ze=qe===ee,ft=F(Ze?pe:w(qe)),Ot=[];return K(ft,function(lr){m(se,lr)&&(!Ze||m(ee,lr))&&Ot.push(se[lr])}),Ot};if(d||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor");var qe=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Ze=R(qe),ft=function(Ot){this===ee&&ft.call(pe,Ot),m(this,Z)&&m(this[Z],Ze)&&(this[Z][Ze]=!1),ve(this,Ze,S(1,Ot))};return f&&ce&&ve(ee,Ze,{configurable:!0,set:ft}),Te(Ze,qe)},O(D[J],"toString",function(){return de(this).tag}),O(D,"withoutSetter",function(Ie){return Te(R(Ie),Ie)}),T.f=Me,N.f=_e,A.f=Fe,C.f=E.f=Ue,M.f=G,z.f=function(Ie){return Te(B(Ie),Ie)},f&&(V(D[J],"description",{configurable:!0,get:function(){return de(this).description}}),c||O(ee,"propertyIsEnumerable",Me,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:D}),K(k(Q),function(Ie){P(Ie)}),s({target:te,stat:!0,forced:!d},{for:function(Ie){var qe=String(Ie);if(m(ae,qe))return ae[qe];var Ze=D(qe);return ae[qe]=Ze,H[Ze]=qe,Ze},keyFor:function(qe){if(!be(qe))throw TypeError(qe+" is not a symbol");if(m(H,qe))return H[qe]},useSetter:function(){ce=!0},useSimple:function(){ce=!1}}),s({target:"Object",stat:!0,forced:!d,sham:!f},{create:Ae,defineProperty:_e,defineProperties:ge,getOwnPropertyDescriptor:Fe}),s({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:Ue,getOwnPropertySymbols:G}),s({target:"Object",stat:!0,forced:p(function(){M.f(1)})},{getOwnPropertySymbols:function(qe){return M.f(b(qe))}}),oe){var Se=!d||p(function(){var Ie=D();return oe([Ie])!="[null]"||oe({a:Ie})!="{}"||oe(Object(Ie))!="{}"});s({target:"JSON",stat:!0,forced:Se},{stringify:function(qe,Ze,ft){for(var Ot=[qe],lr=1,$l;arguments.length>lr;)Ot.push(arguments[lr++]);if($l=Ze,!(!v(Ze)&&qe===void 0||be(qe)))return g(Ze)||(Ze=function(Nr,Bi){if(typeof $l=="function"&&(Bi=$l.call(this,Nr,Bi)),!be(Bi))return Bi}),Ot[1]=Ze,oe.apply(null,Ot)}})}D[J][fe]||I(D[J],fe,D[J].valueOf),$(D,te),Y[Z]=!0},a630:function(i,o,a){var s=a("23e7"),l=a("4df4"),u=a("1c7e"),c=!u(function(f){Array.from(f)});s({target:"Array",stat:!0,forced:c},{from:l})},a640:function(i,o,a){var s=a("d039");i.exports=function(l,u){var c=[][l];return!!c&&s(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(i,o){var a=Math.ceil,s=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?s:a)(l)}},ab13:function(i,o,a){var s=a("b622"),l=s("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(i,o,a){var s=a("23e7"),l=a("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,o,a){var s=a("825a");i.exports=function(){var l=s(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(i,o,a){var s=a("83ab"),l=a("d039"),u=a("5135"),c=Object.defineProperty,f={},d=function(h){throw h};i.exports=function(h,p){if(u(f,h))return f[h];p||(p={});var m=[][h],g=u(p,"ACCESSORS")?p.ACCESSORS:!1,v=u(p,0)?p[0]:d,y=u(p,1)?p[1]:void 0;return f[h]=!!m&&!l(function(){if(g&&!s)return!0;var b={length:-1};g?c(b,1,{enumerable:!0,get:d}):b[1]=1,m.call(b,v,y)})}},ae93:function(i,o,a){var s=a("e163"),l=a("9112"),u=a("5135"),c=a("b622"),f=a("c430"),d=c("iterator"),h=!1,p=function(){return this},m,g,v;[].keys&&(v=[].keys(),"next"in v?(g=s(s(v)),g!==Object.prototype&&(m=g)):h=!0),m==null&&(m={}),!f&&!u(m,d)&&l(m,d,p),i.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:h}},b041:function(i,o,a){var s=a("00ee"),l=a("f5df");i.exports=s?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,o,a){var s=a("83ab"),l=a("9bf2").f,u=Function.prototype,c=u.toString,f=/^\s*function ([^ (]*)/,d="name";s&&!(d in u)&&l(u,d,{configurable:!0,get:function(){try{return c.call(this).match(f)[1]}catch{return""}}})},b622:function(i,o,a){var s=a("da84"),l=a("5692"),u=a("5135"),c=a("90e3"),f=a("4930"),d=a("fdbf"),h=l("wks"),p=s.Symbol,m=d?p:p&&p.withoutSetter||c;i.exports=function(g){return u(h,g)||(f&&u(p,g)?h[g]=p[g]:h[g]=m("Symbol."+g)),h[g]}},b64b:function(i,o,a){var s=a("23e7"),l=a("7b0b"),u=a("df75"),c=a("d039"),f=c(function(){u(1)});s({target:"Object",stat:!0,forced:f},{keys:function(h){return u(l(h))}})},b727:function(i,o,a){var s=a("0366"),l=a("44ad"),u=a("7b0b"),c=a("50c4"),f=a("65f0"),d=[].push,h=function(p){var m=p==1,g=p==2,v=p==3,y=p==4,b=p==6,w=p==5||b;return function(x,S,_,k){for(var C=u(x),E=l(C),M=s(S,_,3),A=c(E.length),N=0,T=k||f,I=m?T(x,A):g?T(x,0):void 0,O,q;A>N;N++)if((w||N in E)&&(O=E[N],q=M(O,N,C),p)){if(m)I[N]=q;else if(q)switch(p){case 3:return!0;case 5:return O;case 6:return N;case 2:d.call(I,O)}else if(y)return!1}return b?-1:v||y?y:I}};i.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},c04e:function(i,o,a){var s=a("861d");i.exports=function(l,u){if(!s(l))return l;var c,f;if(u&&typeof(c=l.toString)=="function"&&!s(f=c.call(l))||typeof(c=l.valueOf)=="function"&&!s(f=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!s(f=c.call(l)))return f;throw TypeError("Can't convert object to primitive value")}},c430:function(i,o){i.exports=!1},c6b6:function(i,o){var a={}.toString;i.exports=function(s){return a.call(s).slice(8,-1)}},c6cd:function(i,o,a){var s=a("da84"),l=a("ce4e"),u="__core-js_shared__",c=s[u]||l(u,{});i.exports=c},c740:function(i,o,a){var s=a("23e7"),l=a("b727").findIndex,u=a("44d2"),c=a("ae40"),f="findIndex",d=!0,h=c(f);f in[]&&Array(1)[f](function(){d=!1}),s({target:"Array",proto:!0,forced:d||!h},{findIndex:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}}),u(f)},c8ba:function(i,o){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}i.exports=a},c975:function(i,o,a){var s=a("23e7"),l=a("4d64").indexOf,u=a("a640"),c=a("ae40"),f=[].indexOf,d=!!f&&1/[1].indexOf(1,-0)<0,h=u("indexOf"),p=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:d||!h||!p},{indexOf:function(g){return d?f.apply(this,arguments)||0:l(this,g,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,o,a){var s=a("5135"),l=a("fc6a"),u=a("4d64").indexOf,c=a("d012");i.exports=function(f,d){var h=l(f),p=0,m=[],g;for(g in h)!s(c,g)&&s(h,g)&&m.push(g);for(;d.length>p;)s(h,g=d[p++])&&(~u(m,g)||m.push(g));return m}},caad:function(i,o,a){var s=a("23e7"),l=a("4d64").includes,u=a("44d2"),c=a("ae40"),f=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!f},{includes:function(h){return l(this,h,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(i,o,a){var s=a("da84"),l=a("861d"),u=s.document,c=l(u)&&l(u.createElement);i.exports=function(f){return c?u.createElement(f):{}}},ce4e:function(i,o,a){var s=a("da84"),l=a("9112");i.exports=function(u,c){try{l(s,u,c)}catch{s[u]=c}return c}},d012:function(i,o){i.exports={}},d039:function(i,o){i.exports=function(a){try{return!!a()}catch{return!0}}},d066:function(i,o,a){var s=a("428f"),l=a("da84"),u=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,f){return arguments.length<2?u(s[c])||u(l[c]):s[c]&&s[c][f]||l[c]&&l[c][f]}},d1e7:function(i,o,a){var s={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!s.call({1:2},1);o.f=u?function(f){var d=l(this,f);return!!d&&d.enumerable}:s},d28b:function(i,o,a){var s=a("746f");s("iterator")},d2bb:function(i,o,a){var s=a("825a"),l=a("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},f;try{f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,f.call(c,[]),u=c instanceof Array}catch{}return function(h,p){return s(h),l(p),u?f.call(h,p):h.__proto__=p,h}}():void 0)},d3b7:function(i,o,a){var s=a("00ee"),l=a("6eeb"),u=a("b041");s||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(i,o,a){var s=a("9bf2").f,l=a("5135"),u=a("b622"),c=u("toStringTag");i.exports=function(f,d,h){f&&!l(f=h?f:f.prototype,c)&&s(f,c,{configurable:!0,value:d})}},d58f:function(i,o,a){var s=a("1c0b"),l=a("7b0b"),u=a("44ad"),c=a("50c4"),f=function(d){return function(h,p,m,g){s(p);var v=l(h),y=u(v),b=c(v.length),w=d?b-1:0,x=d?-1:1;if(m<2)for(;;){if(w in y){g=y[w],w+=x;break}if(w+=x,d?w<0:b<=w)throw TypeError("Reduce of empty array with no initial value")}for(;d?w>=0:b>w;w+=x)w in y&&(g=p(g,y[w],w,v));return g}};i.exports={left:f(!1),right:f(!0)}},d784:function(i,o,a){a("ac1f");var s=a("6eeb"),l=a("d039"),u=a("b622"),c=a("9263"),f=a("9112"),d=u("species"),h=!l(function(){var y=/./;return y.exec=function(){var b=[];return b.groups={a:"7"},b},"".replace(y,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),m=u("replace"),g=function(){return/./[m]?/./[m]("a","$0")==="":!1}(),v=!l(function(){var y=/(?:)/,b=y.exec;y.exec=function(){return b.apply(this,arguments)};var w="ab".split(y);return w.length!==2||w[0]!=="a"||w[1]!=="b"});i.exports=function(y,b,w,x){var S=u(y),_=!l(function(){var N={};return N[S]=function(){return 7},""[y](N)!=7}),k=_&&!l(function(){var N=!1,T=/a/;return y==="split"&&(T={},T.constructor={},T.constructor[d]=function(){return T},T.flags="",T[S]=/./[S]),T.exec=function(){return N=!0,null},T[S](""),!N});if(!_||!k||y==="replace"&&!(h&&p&&!g)||y==="split"&&!v){var C=/./[S],E=w(S,""[y],function(N,T,I,O,q){return T.exec===c?_&&!q?{done:!0,value:C.call(T,I,O)}:{done:!0,value:N.call(I,T,O)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}),M=E[0],A=E[1];s(String.prototype,y,M),s(RegExp.prototype,S,b==2?function(N,T){return A.call(N,this,T)}:function(N){return A.call(N,this)})}x&&f(RegExp.prototype[S],"sham",!0)}},d81d:function(i,o,a){var s=a("23e7"),l=a("b727").map,u=a("1dde"),c=a("ae40"),f=u("map"),d=c("map");s({target:"Array",proto:!0,forced:!f||!d},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,o,a){(function(s){var l=function(u){return u&&u.Math==Math&&u};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof s=="object"&&s)||Function("return this")()}).call(this,a("c8ba"))},dbb4:function(i,o,a){var s=a("23e7"),l=a("83ab"),u=a("56ef"),c=a("fc6a"),f=a("06cf"),d=a("8418");s({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var m=c(p),g=f.f,v=u(m),y={},b=0,w,x;v.length>b;)x=g(m,w=v[b++]),x!==void 0&&d(y,w,x);return y}})},dbf1:function(i,o,a){(function(s){a.d(o,"a",function(){return u});function l(){return typeof window<"u"?window.console:s.console}var u=l()}).call(this,a("c8ba"))},ddb0:function(i,o,a){var s=a("da84"),l=a("fdbc"),u=a("e260"),c=a("9112"),f=a("b622"),d=f("iterator"),h=f("toStringTag"),p=u.values;for(var m in l){var g=s[m],v=g&&g.prototype;if(v){if(v[d]!==p)try{c(v,d,p)}catch{v[d]=p}if(v[h]||c(v,h,m),l[m]){for(var y in u)if(v[y]!==u[y])try{c(v,y,u[y])}catch{v[y]=u[y]}}}}},df75:function(i,o,a){var s=a("ca84"),l=a("7839");i.exports=Object.keys||function(c){return s(c,l)}},e01a:function(i,o,a){var s=a("23e7"),l=a("83ab"),u=a("da84"),c=a("5135"),f=a("861d"),d=a("9bf2").f,h=a("e893"),p=u.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var m={},g=function(){var S=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),_=this instanceof g?new p(S):S===void 0?p():p(S);return S===""&&(m[_]=!0),_};h(g,p);var v=g.prototype=p.prototype;v.constructor=g;var y=v.toString,b=String(p("test"))=="Symbol(test)",w=/^Symbol\((.*)\)[^)]+$/;d(v,"description",{configurable:!0,get:function(){var S=f(this)?this.valueOf():this,_=y.call(S);if(c(m,S))return"";var k=b?_.slice(7,-1):_.replace(w,"$1");return k===""?void 0:k}}),s({global:!0,forced:!0},{Symbol:g})}},e163:function(i,o,a){var s=a("5135"),l=a("7b0b"),u=a("f772"),c=a("e177"),f=u("IE_PROTO"),d=Object.prototype;i.exports=c?Object.getPrototypeOf:function(h){return h=l(h),s(h,f)?h[f]:typeof h.constructor=="function"&&h instanceof h.constructor?h.constructor.prototype:h instanceof Object?d:null}},e177:function(i,o,a){var s=a("d039");i.exports=!s(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,o,a){var s=a("fc6a"),l=a("44d2"),u=a("3f8c"),c=a("69f3"),f=a("7dd0"),d="Array Iterator",h=c.set,p=c.getterFor(d);i.exports=f(Array,"Array",function(m,g){h(this,{type:d,target:s(m),index:0,kind:g})},function(){var m=p(this),g=m.target,v=m.kind,y=m.index++;return!g||y>=g.length?(m.target=void 0,{value:void 0,done:!0}):v=="keys"?{value:y,done:!1}:v=="values"?{value:g[y],done:!1}:{value:[y,g[y]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(i,o,a){var s=a("23e7"),l=a("d039"),u=a("fc6a"),c=a("06cf").f,f=a("83ab"),d=l(function(){c(1)}),h=!f||d;s({target:"Object",stat:!0,forced:h,sham:!f},{getOwnPropertyDescriptor:function(m,g){return c(u(m),g)}})},e538:function(i,o,a){var s=a("b622");o.f=s},e893:function(i,o,a){var s=a("5135"),l=a("56ef"),u=a("06cf"),c=a("9bf2");i.exports=function(f,d){for(var h=l(d),p=c.f,m=u.f,g=0;g<h.length;g++){var v=h[g];s(f,v)||p(f,v,m(d,v))}}},e8b5:function(i,o,a){var s=a("c6b6");i.exports=Array.isArray||function(u){return s(u)=="Array"}},e95a:function(i,o,a){var s=a("b622"),l=a("3f8c"),u=s("iterator"),c=Array.prototype;i.exports=function(f){return f!==void 0&&(l.Array===f||c[u]===f)}},f5df:function(i,o,a){var s=a("00ee"),l=a("c6b6"),u=a("b622"),c=u("toStringTag"),f=l(function(){return arguments}())=="Arguments",d=function(h,p){try{return h[p]}catch{}};i.exports=s?l:function(h){var p,m,g;return h===void 0?"Undefined":h===null?"Null":typeof(m=d(p=Object(h),c))=="string"?m:f?l(p):(g=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":g}},f772:function(i,o,a){var s=a("5692"),l=a("90e3"),u=s("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(i,o,a){if(a.r(o),typeof window<"u"){var s=window.document.currentScript;{var l=a("8875");s=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=s&&s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(a.p=u[1])}a("99af"),a("4de4"),a("4160"),a("c975"),a("d81d"),a("a434"),a("159b"),a("a4d3"),a("e439"),a("dbb4"),a("b64b");function c(be,_e,ge){return _e in be?Object.defineProperty(be,_e,{value:ge,enumerable:!0,configurable:!0,writable:!0}):be[_e]=ge,be}function f(be,_e){var ge=Object.keys(be);if(Object.getOwnPropertySymbols){var Ae=Object.getOwnPropertySymbols(be);_e&&(Ae=Ae.filter(function(Me){return Object.getOwnPropertyDescriptor(be,Me).enumerable})),ge.push.apply(ge,Ae)}return ge}function d(be){for(var _e=1;_e<arguments.length;_e++){var ge=arguments[_e]!=null?arguments[_e]:{};_e%2?f(Object(ge),!0).forEach(function(Ae){c(be,Ae,ge[Ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(be,Object.getOwnPropertyDescriptors(ge)):f(Object(ge)).forEach(function(Ae){Object.defineProperty(be,Ae,Object.getOwnPropertyDescriptor(ge,Ae))})}return be}function h(be){if(Array.isArray(be))return be}a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function p(be,_e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(be)))){var ge=[],Ae=!0,Me=!1,Fe=void 0;try{for(var Ue=be[Symbol.iterator](),G;!(Ae=(G=Ue.next()).done)&&(ge.push(G.value),!(_e&&ge.length===_e));Ae=!0);}catch(Se){Me=!0,Fe=Se}finally{try{!Ae&&Ue.return!=null&&Ue.return()}finally{if(Me)throw Fe}}return ge}}a("a630"),a("fb6a"),a("b0c0"),a("25f0");function m(be,_e){(_e==null||_e>be.length)&&(_e=be.length);for(var ge=0,Ae=new Array(_e);ge<_e;ge++)Ae[ge]=be[ge];return Ae}function g(be,_e){if(be){if(typeof be=="string")return m(be,_e);var ge=Object.prototype.toString.call(be).slice(8,-1);if(ge==="Object"&&be.constructor&&(ge=be.constructor.name),ge==="Map"||ge==="Set")return Array.from(be);if(ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return m(be,_e)}}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(be,_e){return h(be)||p(be,_e)||g(be,_e)||v()}function b(be){if(Array.isArray(be))return m(be)}function w(be){if(typeof Symbol<"u"&&Symbol.iterator in Object(be))return Array.from(be)}function x(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(be){return b(be)||w(be)||g(be)||x()}var _=a("a352"),k=a.n(_);function C(be){be.parentElement!==null&&be.parentElement.removeChild(be)}function E(be,_e,ge){var Ae=ge===0?be.children[0]:be.children[ge-1].nextSibling;be.insertBefore(_e,Ae)}var M=a("dbf1");a("13d5"),a("4fad"),a("ac1f"),a("5319");function A(be){var _e=Object.create(null);return function(Ae){var Me=_e[Ae];return Me||(_e[Ae]=be(Ae))}}var N=/-(\w)/g,T=A(function(be){return be.replace(N,function(_e,ge){return ge.toUpperCase()})});a("5db7"),a("73d9");var I=["Start","Add","Remove","Update","End"],O=["Choose","Unchoose","Sort","Filter","Clone"],q=["Move"],L=[q,I,O].flatMap(function(be){return be}).map(function(be){return"on".concat(be)}),Y={manage:q,manageAndEmit:I,emit:O};function R(be){return L.indexOf(be)!==-1}a("caad"),a("2ca0");var B=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function z(be){return B.includes(be)}function P(be){return["transition-group","TransitionGroup"].includes(be)}function $(be){return["id","class","role","style"].includes(be)||be.startsWith("data-")||be.startsWith("aria-")||be.startsWith("on")}function X(be){return be.reduce(function(_e,ge){var Ae=y(ge,2),Me=Ae[0],Fe=Ae[1];return _e[Me]=Fe,_e},{})}function K(be){var _e=be.$attrs,ge=be.componentData,Ae=ge===void 0?{}:ge,Me=X(Object.entries(_e).filter(function(Fe){var Ue=y(Fe,2),G=Ue[0];return Ue[1],$(G)}));return d(d({},Me),Ae)}function Z(be){var _e=be.$attrs,ge=be.callBackBuilder,Ae=X(te(_e));Object.entries(ge).forEach(function(Fe){var Ue=y(Fe,2),G=Ue[0],Se=Ue[1];Y[G].forEach(function(Ie){Ae["on".concat(Ie)]=Se(Ie)})});var Me="[data-draggable]".concat(Ae.draggable||"");return d(d({},Ae),{},{draggable:Me})}function te(be){return Object.entries(be).filter(function(_e){var ge=y(_e,2),Ae=ge[0];return ge[1],!$(Ae)}).map(function(_e){var ge=y(_e,2),Ae=ge[0],Me=ge[1];return[T(Ae),Me]}).filter(function(_e){var ge=y(_e,2),Ae=ge[0];return ge[1],!R(Ae)})}a("c740");function J(be,_e){if(!(be instanceof _e))throw new TypeError("Cannot call a class as a function")}function fe(be,_e){for(var ge=0;ge<_e.length;ge++){var Ae=_e[ge];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(be,Ae.key,Ae)}}function ue(be,_e,ge){return _e&&fe(be.prototype,_e),be}var de=function(_e){var ge=_e.el;return ge},ee=function(_e,ge){return _e.__draggable_context=ge},D=function(_e){return _e.__draggable_context},oe=function(){function be(_e){var ge=_e.nodes,Ae=ge.header,Me=ge.default,Fe=ge.footer,Ue=_e.root,G=_e.realList;J(this,be),this.defaultNodes=Me,this.children=[].concat(S(Ae),S(Me),S(Fe)),this.externalComponent=Ue.externalComponent,this.rootTransition=Ue.transition,this.tag=Ue.tag,this.realList=G}return ue(be,[{key:"render",value:function(ge,Ae){var Me=this.tag,Fe=this.children,Ue=this._isRootComponent,G=Ue?{default:function(){return Fe}}:Fe;return ge(Me,Ae,G)}},{key:"updated",value:function(){var ge=this.defaultNodes,Ae=this.realList;ge.forEach(function(Me,Fe){ee(de(Me),{element:Ae[Fe],index:Fe})})}},{key:"getUnderlyingVm",value:function(ge){return D(ge)}},{key:"getVmIndexFromDomIndex",value:function(ge,Ae){var Me=this.defaultNodes,Fe=Me.length,Ue=Ae.children,G=Ue.item(ge);if(G===null)return Fe;var Se=D(G);if(Se)return Se.index;if(Fe===0)return 0;var Ie=de(Me[0]),qe=S(Ue).findIndex(function(Ze){return Ze===Ie});return ge<qe?0:Fe}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),be}(),W=a("8bbf");function V(be,_e){var ge=be[_e];return ge?ge():[]}function F(be){var _e=be.$slots,ge=be.realList,Ae=be.getKey,Me=ge||[],Fe=["header","footer"].map(function(Ze){return V(_e,Ze)}),Ue=y(Fe,2),G=Ue[0],Se=Ue[1],Ie=_e.item;if(!Ie)throw new Error("draggable element must have an item slot");var qe=Me.flatMap(function(Ze,ft){return Ie({element:Ze,index:ft}).map(function(Ot){return Ot.key=Ae(Ze),Ot.props=d(d({},Ot.props||{}),{},{"data-draggable":!0}),Ot})});if(qe.length!==Me.length)throw new Error("Item slot must have only one child");return{header:G,footer:Se,default:qe}}function j(be){var _e=P(be),ge=!z(be)&&!_e;return{transition:_e,externalComponent:ge,tag:ge?Object(W.resolveComponent)(be):_e?W.TransitionGroup:be}}function se(be){var _e=be.$slots,ge=be.tag,Ae=be.realList,Me=be.getKey,Fe=F({$slots:_e,realList:Ae,getKey:Me}),Ue=j(ge);return new oe({nodes:Fe,root:Ue,realList:Ae})}function pe(be,_e){var ge=this;Object(W.nextTick)(function(){return ge.$emit(be.toLowerCase(),_e)})}function ae(be){var _e=this;return function(ge,Ae){if(_e.realList!==null)return _e["onDrag".concat(be)](ge,Ae)}}function H(be){var _e=this,ge=ae.call(this,be);return function(Ae,Me){ge.call(_e,Ae,Me),pe.call(_e,be,Ae)}}var Q=null,ie={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(_e){return _e}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},ce=["update:modelValue","change"].concat(S([].concat(S(Y.manageAndEmit),S(Y.emit)).map(function(be){return be.toLowerCase()}))),ve=Object(W.defineComponent)({name:"draggable",inheritAttrs:!1,props:ie,emits:ce,data:function(){return{error:!1}},render:function(){try{this.error=!1;var _e=this.$slots,ge=this.$attrs,Ae=this.tag,Me=this.componentData,Fe=this.realList,Ue=this.getKey,G=se({$slots:_e,tag:Ae,realList:Fe,getKey:Ue});this.componentStructure=G;var Se=K({$attrs:ge,componentData:Me});return G.render(W.h,Se)}catch(Ie){return this.error=!0,Object(W.h)("pre",{style:{color:"red"}},Ie.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&M.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var _e=this;if(!this.error){var ge=this.$attrs,Ae=this.$el,Me=this.componentStructure;Me.updated();var Fe=Z({$attrs:ge,callBackBuilder:{manageAndEmit:function(Se){return H.call(_e,Se)},emit:function(Se){return pe.bind(_e,Se)},manage:function(Se){return ae.call(_e,Se)}}}),Ue=Ae.nodeType===1?Ae:Ae.parentElement;this._sortable=new k.a(Ue,Fe),this.targetDomElement=Ue,Ue.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var _e=this.list;return _e||this.modelValue},getKey:function(){var _e=this.itemKey;return typeof _e=="function"?_e:function(ge){return ge[_e]}}},watch:{$attrs:{handler:function(_e){var ge=this._sortable;ge&&te(_e).forEach(function(Ae){var Me=y(Ae,2),Fe=Me[0],Ue=Me[1];ge.option(Fe,Ue)})},deep:!0}},methods:{getUnderlyingVm:function(_e){return this.componentStructure.getUnderlyingVm(_e)||null},getUnderlyingPotencialDraggableComponent:function(_e){return _e.__draggable_component__},emitChanges:function(_e){var ge=this;Object(W.nextTick)(function(){return ge.$emit("change",_e)})},alterList:function(_e){if(this.list){_e(this.list);return}var ge=S(this.modelValue);_e(ge),this.$emit("update:modelValue",ge)},spliceList:function(){var _e=arguments,ge=function(Me){return Me.splice.apply(Me,S(_e))};this.alterList(ge)},updatePosition:function(_e,ge){var Ae=function(Fe){return Fe.splice(ge,0,Fe.splice(_e,1)[0])};this.alterList(Ae)},getRelatedContextFromMoveEvent:function(_e){var ge=_e.to,Ae=_e.related,Me=this.getUnderlyingPotencialDraggableComponent(ge);if(!Me)return{component:Me};var Fe=Me.realList,Ue={list:Fe,component:Me};if(ge!==Ae&&Fe){var G=Me.getUnderlyingVm(Ae)||{};return d(d({},G),Ue)}return Ue},getVmIndexFromDomIndex:function(_e){return this.componentStructure.getVmIndexFromDomIndex(_e,this.targetDomElement)},onDragStart:function(_e){this.context=this.getUnderlyingVm(_e.item),_e.item._underlying_vm_=this.clone(this.context.element),Q=_e.item},onDragAdd:function(_e){var ge=_e.item._underlying_vm_;if(ge!==void 0){C(_e.item);var Ae=this.getVmIndexFromDomIndex(_e.newIndex);this.spliceList(Ae,0,ge);var Me={element:ge,newIndex:Ae};this.emitChanges({added:Me})}},onDragRemove:function(_e){if(E(this.$el,_e.item,_e.oldIndex),_e.pullMode==="clone"){C(_e.clone);return}var ge=this.context,Ae=ge.index,Me=ge.element;this.spliceList(Ae,1);var Fe={element:Me,oldIndex:Ae};this.emitChanges({removed:Fe})},onDragUpdate:function(_e){C(_e.item),E(_e.from,_e.item,_e.oldIndex);var ge=this.context.index,Ae=this.getVmIndexFromDomIndex(_e.newIndex);this.updatePosition(ge,Ae);var Me={element:this.context.element,oldIndex:ge,newIndex:Ae};this.emitChanges({moved:Me})},computeFutureIndex:function(_e,ge){if(!_e.element)return 0;var Ae=S(ge.to.children).filter(function(G){return G.style.display!=="none"}),Me=Ae.indexOf(ge.related),Fe=_e.component.getVmIndexFromDomIndex(Me),Ue=Ae.indexOf(Q)!==-1;return Ue||!ge.willInsertAfter?Fe:Fe+1},onDragMove:function(_e,ge){var Ae=this.move,Me=this.realList;if(!Ae||!Me)return!0;var Fe=this.getRelatedContextFromMoveEvent(_e),Ue=this.computeFutureIndex(Fe,_e),G=d(d({},this.context),{},{futureIndex:Ue}),Se=d(d({},_e),{},{relatedContext:Fe,draggedContext:G});return Ae(Se,ge)},onDragEnd:function(){Q=null}}}),Te=ve;o.default=Te},fb6a:function(i,o,a){var s=a("23e7"),l=a("861d"),u=a("e8b5"),c=a("23cb"),f=a("50c4"),d=a("fc6a"),h=a("8418"),p=a("b622"),m=a("1dde"),g=a("ae40"),v=m("slice"),y=g("slice",{ACCESSORS:!0,0:0,1:2}),b=p("species"),w=[].slice,x=Math.max;s({target:"Array",proto:!0,forced:!v||!y},{slice:function(_,k){var C=d(this),E=f(C.length),M=c(_,E),A=c(k===void 0?E:k,E),N,T,I;if(u(C)&&(N=C.constructor,typeof N=="function"&&(N===Array||u(N.prototype))?N=void 0:l(N)&&(N=N[b],N===null&&(N=void 0)),N===Array||N===void 0))return w.call(C,M,A);for(T=new(N===void 0?Array:N)(x(A-M,0)),I=0;M<A;M++,I++)M in C&&h(T,I,C[M]);return T.length=I,T}})},fc6a:function(i,o,a){var s=a("44ad"),l=a("1d80");i.exports=function(u){return s(l(u))}},fdbc:function(i,o){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,o,a){var s=a("4930");i.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})}(eS)),eS.exports}var wrt=brt();const R1e=vf(wrt),xrt={class:"q-pa-lg base-list-container"},Srt={key:0,class:"fixed-center text-primary"},_rt={key:1},Crt={key:1},krt={key:0,class:"q-gutter-md row items-stretch"},Ert={key:1,class:"q-gutter-md row items-stretch"},uh=nt({__name:"BaseListView",props:{items:{type:Array,required:!0},cardComponent:{type:[Object,Function,String],required:!0},editorComponent:{type:[Object,Function,String],required:!1},emptyMessage:{type:String,required:!0},createTitle:{type:String,required:!0},cardProps:{type:Function,default:t=>({})},editorProps:{type:Function,default:t=>({})},sidePanelVisible:{type:Boolean,default:!1},viewStyle:{type:String,default:"masonry"},draggable:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1}},emits:["create","edit","delete","submit","cancel","update:searchQuery","view","tag-click","copy","update:sidePanelVisible","sort"],setup(t,{emit:e}){const n=t,r=we(!1),i=we(null),o=we([...n.items]);We(()=>n.items,m=>{o.value=[...m]});const a=e;function s(){a("sort",o.value)}function l(){i.value=null,r.value=!0}function u(m){i.value=m,r.value=!0}function c(m){r.value=!1}function f(){r.value=!1}function d(){l(),a("create")}const h=m=>({...n.cardProps(m),draggable:n.draggable}),p=rr("setTopMenuContent");return kt(async()=>{p(n.hideHeader?null:{component:Sme,props:{showCreate:!0,createTitle:n.createTitle,onCreate:d}})}),On(()=>{p(null)}),(m,g)=>(ye(),Le("div",xrt,[t.items.length===0?(ye(),Le("div",Srt,$e(t.emptyMessage),1)):(ye(),Le("div",_rt,[t.draggable?(ye(),He(le(R1e),{key:"draggable",modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=v=>o.value=v),"item-key":"id",onEnd:s,tag:"div",class:"q-list simple-list"},{item:De(({element:v})=>[(ye(),He(ya(t.cardComponent),Xc(Vm(h(v))),null,16))]),_:1},8,["modelValue"])):(ye(),Le("div",Crt,[t.viewStyle==="masonry"?(ye(),Le("div",krt,[(ye(!0),Le(Tt,null,Gn(t.items,v=>(ye(),Le("div",{key:v.id,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[(ye(),He(ya(t.cardComponent),Ka({ref_for:!0},h(v),{onView:y=>m.$emit("view",v),onEdit:()=>{u(v),m.$emit("edit",v)},onDelete:y=>m.$emit("delete",v),onTagClick:g[1]||(g[1]=y=>m.$emit("tag-click",y)),onCopy:y=>m.$emit("copy",v)}),null,16,["onView","onEdit","onDelete","onCopy"]))]))),128))])):t.viewStyle==="grid"?(ye(),Le("div",Ert,[(ye(!0),Le(Tt,null,Gn(t.items,v=>(ye(),Le("div",{key:v.id,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[(ye(),He(ya(t.cardComponent),Ka({ref_for:!0},h(v),{onView:y=>m.$emit("view",v),onEdit:()=>{u(v),m.$emit("edit",v)},onDelete:y=>m.$emit("delete",v),onTagClick:g[2]||(g[2]=y=>m.$emit("tag-click",y)),onCopy:y=>m.$emit("copy",v)}),null,16,["onView","onEdit","onDelete","onCopy"]))]))),128))])):(ye(),He(hv,{separator:"",key:"static",class:"simple-list"},{default:De(()=>[(ye(!0),Le(Tt,null,Gn(t.items,v=>(ye(),He(ya(t.cardComponent),Ka({key:v.id},{ref_for:!0},h(v),{onView:y=>m.$emit("view",v),onEdit:()=>{u(v),m.$emit("edit",v)},onDelete:y=>m.$emit("delete",v),onTagClick:g[3]||(g[3]=y=>m.$emit("tag-click",y)),onCopy:y=>m.$emit("copy",v)}),null,16,["onView","onEdit","onDelete","onCopy"]))),128))]),_:1}))]))])),r.value&&t.editorComponent?(ye(),He(ya(t.editorComponent),Ka({key:2},t.editorProps(i.value),{"is-open":r.value,onSubmit:g[4]||(g[4]=v=>{c(),m.$emit("submit",v)}),onCancel:g[5]||(g[5]=()=>{f(),m.$emit("cancel")})}),null,16,["is-open"])):ot("",!0),Vr(m.$slots,"default")]))}}),Art={class:"stat-icon"},Trt={class:"stat-content"},Mrt=nt({__name:"StatCard",props:{item:{}},setup(t){const{t:e}=Ut();return(n,r)=>{const i=h1("router-link");return ye(),He(i,{to:n.item.route,class:"stat-card",exact:""},{default:De(()=>[Ee("div",Art,$e(n.item.icon),1),Ee("div",Trt,[Ee("h3",null,$e(le(e)("statCard."+n.item.key)),1),Ee("p",null,$e(n.item.count)+" "+$e(le(e)("statCard."+n.item.key).toLowerCase()),1)])]),_:1},8,["to"])}}}),Drt=vr(Mrt,[["__scopeId","data-v-9d2342a7"]]);function F1e(t,e){const n=we(null),r=re(()=>t.disable===!0?null:he("span",{ref:n,class:"no-outline",tabindex:-1}));function i(o){const a=e.value;o?.qAvoidFocus!==!0&&(o?.type.indexOf("key")===0?document.activeElement!==a&&a?.contains(document.activeElement)===!0&&a.focus():n.value!==null&&(o===void 0||a?.contains(o.target)===!0)&&n.value.focus())}return{refocusTargetEl:r,refocusTarget:i}}const L1e={xs:30,sm:35,md:40,lg:50,xl:60},Nrt=()=>he("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[he("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),he("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),Ort=cn({name:"QRadio",props:{...ra,...oy,...uy,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(t,{slots:e,emit:n}){const{proxy:r}=Lt(),i=ia(t,r.$q),o=ay(t,L1e),a=we(null),{refocusTargetEl:s,refocusTarget:l}=F1e(t,a),u=re(()=>vn(t.modelValue)===vn(t.val)),c=re(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(t.disable===!0?" disabled":"")+(i.value===!0?" q-radio--dark":"")+(t.dense===!0?" q-radio--dense":"")+(t.leftLabel===!0?" reverse":"")),f=re(()=>{const w=t.color!==void 0&&(t.keepColor===!0||u.value===!0)?` text-${t.color}`:"";return`q-radio__inner relative-position q-radio__inner--${u.value===!0?"truthy":"falsy"}${w}`}),d=re(()=>(u.value===!0?t.checkedIcon:t.uncheckedIcon)||null),h=re(()=>t.disable===!0?-1:t.tabindex||0),p=re(()=>{const w={type:"radio"};return t.name!==void 0&&Object.assign(w,{".checked":u.value===!0,"^checked":u.value===!0?"checked":void 0,name:t.name,value:t.val}),w}),m=ik(p);function g(w){w!==void 0&&(zr(w),l(w)),t.disable!==!0&&u.value!==!0&&n("update:modelValue",t.val,w)}function v(w){(w.keyCode===13||w.keyCode===32)&&zr(w)}function y(w){(w.keyCode===13||w.keyCode===32)&&g(w)}Object.assign(r,{set:g});const b=Nrt();return()=>{const w=d.value!==null?[he("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[he(Jo,{class:"q-radio__icon",name:d.value})])]:[b];t.disable!==!0&&m(w,"unshift"," q-radio__native q-ma-none q-pa-none");const x=[he("div",{class:f.value,style:o.value,"aria-hidden":"true"},w)];s.value!==null&&x.push(s.value);const S=t.label!==void 0?Ql(e.default,[t.label]):Mr(e.default);return S!==void 0&&x.push(he("div",{class:"q-radio__label q-anchor--skip"},S)),he("div",{ref:a,class:c.value,tabindex:h.value,role:"radio","aria-label":t.label,"aria-checked":u.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:g,onKeydown:v,onKeyup:y},x)}}}),$1e={...ra,...oy,...uy,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},B1e=["update:modelValue"];function z1e(t,e){const{props:n,slots:r,emit:i,proxy:o}=Lt(),{$q:a}=o,s=ia(n,a),l=we(null),{refocusTargetEl:u,refocusTarget:c}=F1e(n,l),f=ay(n,L1e),d=re(()=>n.val!==void 0&&Array.isArray(n.modelValue)),h=re(()=>{const A=vn(n.val);return d.value===!0?n.modelValue.findIndex(N=>vn(N)===A):-1}),p=re(()=>d.value===!0?h.value!==-1:vn(n.modelValue)===vn(n.trueValue)),m=re(()=>d.value===!0?h.value===-1:vn(n.modelValue)===vn(n.falseValue)),g=re(()=>p.value===!1&&m.value===!1),v=re(()=>n.disable===!0?-1:n.tabindex||0),y=re(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(s.value===!0?` q-${t}--dark`:"")+(n.dense===!0?` q-${t}--dense`:"")+(n.leftLabel===!0?" reverse":"")),b=re(()=>{const A=p.value===!0?"truthy":m.value===!0?"falsy":"indet",N=n.color!==void 0&&(n.keepColor===!0||(t==="toggle"?p.value===!0:m.value!==!0))?` text-${n.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${A}${N}`}),w=re(()=>{const A={type:"checkbox"};return n.name!==void 0&&Object.assign(A,{".checked":p.value,"^checked":p.value===!0?"checked":void 0,name:n.name,value:d.value===!0?n.val:n.trueValue}),A}),x=ik(w),S=re(()=>{const A={tabindex:v.value,role:t==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":g.value===!0?"mixed":p.value===!0?"true":"false"};return n.disable===!0&&(A["aria-disabled"]="true"),A});function _(A){A!==void 0&&(zr(A),c(A)),n.disable!==!0&&i("update:modelValue",k(),A)}function k(){if(d.value===!0){if(p.value===!0){const A=n.modelValue.slice();return A.splice(h.value,1),A}return n.modelValue.concat([n.val])}if(p.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(m.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function C(A){(A.keyCode===13||A.keyCode===32)&&zr(A)}function E(A){(A.keyCode===13||A.keyCode===32)&&_(A)}const M=e(p,g);return Object.assign(o,{toggle:_}),()=>{const A=M();n.disable!==!0&&x(A,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const N=[he("div",{class:b.value,style:f.value,"aria-hidden":"true"},A)];u.value!==null&&N.push(u.value);const T=n.label!==void 0?Ql(r.default,[n.label]):Mr(r.default);return T!==void 0&&N.push(he("div",{class:`q-${t}__label q-anchor--skip`},T)),he("div",{ref:l,class:y.value,...S.value,onClick:_,onKeydown:C,onKeyup:E},N)}}const Irt=()=>he("div",{key:"svg",class:"q-checkbox__bg absolute"},[he("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[he("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),he("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),Prt=cn({name:"QCheckbox",props:$1e,emits:B1e,setup(t){const e=Irt();function n(r,i){const o=re(()=>(r.value===!0?t.checkedIcon:i.value===!0?t.indeterminateIcon:t.uncheckedIcon)||null);return()=>o.value!==null?[he("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[he(Jo,{class:"q-checkbox__icon",name:o.value})])]:[e]}return z1e("checkbox",n)}}),EF=cn({name:"QToggle",props:{...$1e,icon:String,iconColor:String},emits:B1e,setup(t){function e(n,r){const i=re(()=>(n.value===!0?t.checkedIcon:r.value===!0?t.indeterminateIcon:t.uncheckedIcon)||t.icon),o=re(()=>n.value===!0?t.iconColor:null);return()=>[he("div",{class:"q-toggle__track"}),he("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},i.value!==void 0?[he(Jo,{name:i.value,color:o.value})]:void 0)]}return z1e("toggle",e)}}),q1e={radio:Ort,checkbox:Prt,toggle:EF},Rrt=Object.keys(q1e);function n9(t,e){if(typeof t=="function")return t;const n=t!==void 0?t:e;return r=>r[n]}const Frt=cn({name:"QOptionGroup",props:{...ra,modelValue:{required:!0},options:{type:Array,validator:t=>t.every(Is),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:t=>Rrt.includes(t)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(t,{emit:e,slots:n}){const{proxy:{$q:r}}=Lt(),i=Array.isArray(t.modelValue);t.type==="radio"?i===!0&&console.error("q-option-group: model should not be array"):i===!1&&console.error("q-option-group: model should be array in your case");const o=ia(t,r),a=re(()=>q1e[t.type]),s=re(()=>n9(t.optionValue,"value")),l=re(()=>n9(t.optionLabel,"label")),u=re(()=>n9(t.optionDisable,"disable")),c=re(()=>t.options.map(p=>({val:s.value(p),name:p.name===void 0?t.name:p.name,disable:t.disable||u.value(p),leftLabel:p.leftLabel===void 0?t.leftLabel:p.leftLabel,color:p.color===void 0?t.color:p.color,checkedIcon:p.checkedIcon,uncheckedIcon:p.uncheckedIcon,dark:p.dark===void 0?o.value:p.dark,size:p.size===void 0?t.size:p.size,dense:t.dense,keepColor:p.keepColor===void 0?t.keepColor:p.keepColor}))),f=re(()=>"q-option-group q-gutter-x-sm"+(t.inline===!0?" q-option-group--inline":"")),d=re(()=>{const p={role:"group"};return t.type==="radio"&&(p.role="radiogroup",t.disable===!0&&(p["aria-disabled"]="true")),p});function h(p){e("update:modelValue",p)}return()=>he("div",{class:f.value,...d.value},t.options.map((p,m)=>{const g=n["label-"+m]!==void 0?()=>n["label-"+m](p):n.label!==void 0?()=>n.label(p):void 0;return he("div",[he(a.value,{label:g===void 0?l.value(p):null,modelValue:t.modelValue,"onUpdate:modelValue":h,...c.value[m]},g)])}))}}),Lrt=cn({name:"DialogPluginComponent",props:{...ra,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:t=>["ok","cancel","none"].includes(t)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(t,{emit:e}){const{proxy:n}=Lt(),{$q:r}=n,i=ia(t,r),o=we(null),a=we(t.prompt!==void 0?t.prompt.model:t.options!==void 0?t.options.model:void 0),s=re(()=>"q-dialog-plugin"+(i.value===!0?" q-dialog-plugin--dark q-dark":"")+(t.progress!==!1?" q-dialog-plugin--progress":"")),l=re(()=>t.color||(i.value===!0?"amber":"primary")),u=re(()=>t.progress===!1?null:Is(t.progress)===!0?{component:t.progress.spinner||C3,props:{color:t.progress.color||l.value}}:{component:C3,props:{color:l.value}}),c=re(()=>t.prompt!==void 0||t.options!==void 0),f=re(()=>{if(c.value!==!0)return{};const{model:T,isValid:I,items:O,...q}=t.prompt!==void 0?t.prompt:t.options;return q}),d=re(()=>Is(t.ok)===!0||t.ok===!0?r.lang.label.ok:t.ok),h=re(()=>Is(t.cancel)===!0||t.cancel===!0?r.lang.label.cancel:t.cancel),p=re(()=>t.prompt!==void 0?t.prompt.isValid!==void 0&&t.prompt.isValid(a.value)!==!0:t.options!==void 0?t.options.isValid!==void 0&&t.options.isValid(a.value)!==!0:!1),m=re(()=>({color:l.value,label:d.value,ripple:!1,disable:p.value,...Is(t.ok)===!0?t.ok:{flat:!0},"data-autofocus":t.focus==="ok"&&c.value!==!0||void 0,onClick:b})),g=re(()=>({color:l.value,label:h.value,ripple:!1,...Is(t.cancel)===!0?t.cancel:{flat:!0},"data-autofocus":t.focus==="cancel"&&c.value!==!0||void 0,onClick:w}));We(()=>t.prompt&&t.prompt.model,S),We(()=>t.options&&t.options.model,S);function v(){o.value.show()}function y(){o.value.hide()}function b(){e("ok",vn(a.value)),y()}function w(){y()}function x(){e("hide")}function S(T){a.value=T}function _(T){p.value!==!0&&t.prompt.type!=="textarea"&&af(T,13)===!0&&b()}function k(T,I){return t.html===!0?he(Wa,{class:T,innerHTML:I}):he(Wa,{class:T},()=>I)}function C(){return[he(ui,{color:l.value,dense:!0,autofocus:!0,dark:i.value,...f.value,modelValue:a.value,"onUpdate:modelValue":S,onKeyup:_})]}function E(){return[he(Frt,{color:l.value,options:t.options.items,dark:i.value,...f.value,modelValue:a.value,"onUpdate:modelValue":S})]}function M(){const T=[];return t.cancel&&T.push(he(Ct,g.value)),t.ok&&T.push(he(Ct,m.value)),he(AR,{class:t.stackButtons===!0?"items-end":"",vertical:t.stackButtons,align:"right"},()=>T)}function A(){const T=[];return t.title&&T.push(k("q-dialog__title",t.title)),t.progress!==!1&&T.push(he(Wa,{class:"q-dialog__progress"},()=>he(u.value.component,u.value.props))),t.message&&T.push(k("q-dialog__message",t.message)),t.prompt!==void 0?T.push(he(Wa,{class:"scroll q-dialog-plugin__form"},C)):t.options!==void 0&&T.push(he(sf,{dark:i.value}),he(Wa,{class:"scroll q-dialog-plugin__form"},E),he(sf,{dark:i.value})),(t.ok||t.cancel)&&T.push(M()),T}function N(){return[he(T0,{class:[s.value,t.cardClass],style:t.cardStyle,dark:i.value},A)]}return Object.assign(n,{show:v,hide:y}),()=>he(ly,{ref:o,onHide:x},N)}});function V1e(t,e){for(const n in e)n!=="spinner"&&Object(e[n])===e[n]?(t[n]=Object(t[n])!==t[n]?{}:{...t[n]},V1e(t[n],e[n])):t[n]=e[n]}function $rt(t,e,n){return r=>{let i,o;const a=r.component!==void 0;if(a===!0){const{component:y,componentProps:b}=r;i=typeof y=="string"?n.component(y):y,o=b||{}}else{const{class:y,style:b,...w}=r;i=t,o=w,y!==void 0&&(w.cardClass=y),b!==void 0&&(w.cardStyle=b)}let s,l=!1;const u=we(null),c=GI(!1,"dialog"),f=y=>{if(u.value?.[y]!==void 0){u.value[y]();return}const b=s.$.subTree;if(b?.component){if(b.component.proxy&&b.component.proxy[y]){b.component.proxy[y]();return}if(b.component.subTree&&b.component.subTree.component&&b.component.subTree.component.proxy&&b.component.subTree.component.proxy[y]){b.component.subTree.component.proxy[y]();return}}console.error("[Quasar] Incorrectly defined Dialog component")},d=[],h=[],p={onOk(y){return d.push(y),p},onCancel(y){return h.push(y),p},onDismiss(y){return d.push(y),h.push(y),p},hide(){return f("hide"),p},update(y){if(s!==null){if(a===!0)Object.assign(o,y);else{const{class:b,style:w,...x}=y;b!==void 0&&(x.cardClass=b),w!==void 0&&(x.cardStyle=w),V1e(o,x)}s.$forceUpdate()}return p}},m=y=>{l=!0,d.forEach(b=>{b(y)})},g=()=>{v.unmount(c),xoe(c),v=null,s=null,l!==!0&&h.forEach(y=>{y()})};let v=dme({name:"QGlobalDialog",setup:()=>()=>he(i,{...o,ref:u,onOk:m,onHide:g,onVnodeMounted(...y){typeof o.onVnodeMounted=="function"&&o.onVnodeMounted(...y),Tn(()=>f("show"))}})},n);return s=v.mount(c),p}}const r7={install({$q:t,parentApp:e}){t.dialog=this.create=$rt(Lrt,!0,e)}};function Kd(t,e={}){return new Promise(n=>{r7.create({message:t,title:e.title||"Alert",ok:{label:e.okText||"OK",color:e.color||"primary"},...e}).onOk(()=>n())})}function E1(t,e={}){return new Promise(n=>{r7.create({message:t,title:e.title||"Confirm",ok:{label:e.okText||"OK",color:e.color||"primary"},cancel:{label:e.cancelText||"Cancel",color:e.color||"secondary"},persistent:!0,...e}).onOk(()=>n(!0)).onCancel(()=>n(!1))})}function Brt(t,e={}){return new Promise(n=>{r7.create({message:t,title:e.title||"Prompt",prompt:{model:e.modelValue||"",type:e.inputType||"text"},ok:{label:e.okText||"OK",color:e.color||"primary"},cancel:{label:e.cancelText||"Cancel",color:e.color||"secondary"},persistent:!0,...e}).onOk(r=>n(r)).onCancel(()=>n(null))})}const zrt={class:"q-pa-md q-gutter-md",style:{"max-width":"1200px",margin:"0 auto"}},qrt={class:"q-pa-xl q-mb-xl text-center"},Vrt={class:"q-mb-md flex flex-center column items-center"},Hrt={class:"q-mt-md"},Urt={class:"text-h2 text-bold"},jrt={class:"text-subtitle1 text-grey-7 q-mt-xs"},Wrt=nt({__name:"HomeView",setup(t){const e=_f(),n=$i(),r=Xs(),i=Rl(),o=Cf(),a=ky(),{t:s}=Ut(),l=re(()=>({notes:e.items.filter(c=>!c.hidden).length,characters:a.items.length,parties:r.filtered.length,monsters:i.filtered.length,encounters:o.filtered.length,modules:n.items.length})),u=re(()=>[{id:"notes",key:"notes",title:"home.stats.notes",count:l.value.notes,icon:"",route:"/notes"},{id:"parties",key:"parties",title:"home.stats.parties",count:l.value.parties,icon:"",route:"/parties"},{id:"monsters",key:"monsters",title:"home.stats.monsters",count:l.value.monsters,icon:"",route:"/monsters"},{id:"encounters",key:"encounters",title:"home.stats.encounters",count:l.value.encounters,icon:"",route:"/encounters"},{id:"characters",key:"characters",title:"home.stats.characters",count:l.value.characters,icon:"",route:"/characters"},{id:"modules",key:"modules",title:"home.stats.modules",count:l.value.modules,icon:"",route:"/modules"}]);return kt(async()=>{await Promise.all([e.load(),a.load(),r.load(),i.load(),o.load(),n.load()])}),(c,f)=>(ye(),Le("div",zrt,[Ee("div",qrt,[Ee("div",Vrt,[f[0]||(f[0]=Ee("img",{src:"/dmh-pwa/icon-192.png",alt:"DMH PWA Icon",style:{width:"150px",height:"150px"}},null,-1)),Ee("div",Hrt,[Ee("h1",Urt,$e(le(s)("project.name")),1),Ee("p",jrt,$e(le(s)("project.subtitle")),1)])])]),xe(uh,{items:u.value,"card-component":Drt,"card-props":d=>({item:d}),"empty-message":le(s)("common.empty"),"create-title":le(s)("common.create"),"show-search":!1,"view-style":"grid","hide-header":!0},null,8,["items","card-props","empty-message","create-title"])]))}}),Grt=vr(Wrt,[["__scopeId","data-v-ed9a1a07"]]),Krt="http://json-schema.org/draft-07/schema#",Xrt="NoteType",Yrt="object",Zrt=["id","name","createdAt","updatedAt"],Jrt={id:{type:"string",description:"Unique identifier for the note type"},name:{type:"string",description:"Name of the note type"},createdAt:{type:"number",description:"Timestamp when the note type was created"},updatedAt:{type:"number",description:"Timestamp when the note type was last updated"}},Qrt={$schema:Krt,title:Xrt,type:Yrt,required:Zrt,properties:Jrt},eit=Ks("noteTypes",()=>{const t=Pl({storeName:"noteTypes",validationSchema:Qrt}),e=we(""),n=re(()=>{let i=t.items.value;if(e.value){const o=e.value.toLowerCase();i=i.filter(a=>a.name.toLowerCase().includes(o))}return i}),r=t.sortedItems;return{...t,filtered:n,sortedItems:r,setFilter:i=>{e.value=i},clearFilter:()=>{e.value=""},setSearchQuery:i=>{e.value=i},searchQuery:e}}),tit=cn({name:"QSpace",setup(){const t=he("div",{class:"q-space"});return()=>t}}),nit={key:0},A1=nt({__name:"BaseCard",props:{showView:{type:Boolean,default:!1},showEdit:{type:Boolean,default:!1},showDelete:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["view","edit","delete","copy"],setup(t,{emit:e}){const{t:n}=Ut(),r=t,i=EI();function o(s){return s.type===Fi?!1:typeof s.children=="string"?s.children.trim().length>0:s.type===Tt&&Array.isArray(s.children)?s.children.some(o):!0}const a=re(()=>(i.default?i.default():[]).some(o));return(s,l)=>(ye(),He(T0,null,{default:De(()=>[s.$slots.header||t.title?(ye(),He(Wa,{key:0,class:"base-card-header",onClick:l[0]||(l[0]=u=>s.$emit("view")),style:{cursor:"pointer"}},{default:De(()=>[t.title?(ye(),Le("h5",nit,$e(t.title),1)):ot("",!0),Vr(s.$slots,"header")]),_:3})):ot("",!0),a.value?(ye(),He(Wa,{key:1,class:"base-card-content q-pt-none"},{default:De(()=>[Vr(s.$slots,"default")]),_:3})):ot("",!0),s.$slots.actions||r.showView||r.showEdit||r.showDelete?(ye(),He(AR,{key:2,class:"base-card-actions",align:"between"},{default:De(()=>[xe(sf),s.$slots.actions?(ye(),He(Vs,{key:0,flat:"",class:"base-card-actions-left"},{default:De(()=>[Vr(s.$slots,"actions")]),_:3})):ot("",!0),s.$slots.actions&&(r.showView||r.showEdit||r.showDelete)?(ye(),He(tit,{key:1})):ot("",!0),r.showView||r.showEdit||r.showDelete?(ye(),He(Vs,{key:2,flat:""},{default:De(()=>[r.showView?(ye(),He(Ct,{key:0,flat:"",color:"standard",size:"small",onClick:l[1]||(l[1]=u=>s.$emit("view")),title:le(n)("common.view")},{default:De(()=>[xe(le(h9e))]),_:1},8,["title"])):ot("",!0),r.showEdit?(ye(),He(Ct,{key:1,flat:"",color:"positive",size:"small",onClick:l[2]||(l[2]=u=>s.$emit("edit")),title:le(n)("common.edit")},{default:De(()=>[xe(le(Xw))]),_:1},8,["title"])):ot("",!0),r.showDelete?(ye(),He(Ct,{key:2,flat:"",color:"negative",size:"small",onClick:l[3]||(l[3]=u=>s.$emit("delete")),title:le(n)("common.delete")},{default:De(()=>[xe(le(tk))]),_:1},8,["title"])):ot("",!0)]),_:1})):ot("",!0)]),_:3})):ot("",!0)]),_:3}))}}),Ya=nt({__name:"Button",props:{variant:{default:"primary"},size:{default:"medium"},disabled:{type:Boolean,default:!1},type:{default:"button"},loading:{type:Boolean,default:!1},icon:{},color:{}},emits:["click"],setup(t,{emit:e}){const n=t,r=e;function i(s,l){!n.disabled&&!n.loading&&(s.stopPropagation(),r("click",(s instanceof MouseEvent,s)),l&&l())}const o={primary:"primary",secondary:"secondary",danger:"negative",success:"positive",warning:"warning",link:"primary",light:"grey-2",none:""},a={small:"sm",medium:"md",large:"lg"};return(s,l)=>(ye(),He(Ct,Ka({type:s.type,color:o[s.variant],size:a[s.size],disable:s.disabled||s.loading,loading:s.loading,onClick:i},s.$attrs),{default:De(()=>[Vr(s.$slots,"default")]),_:3},16,["type","color","size","disable","loading"]))}}),rit={key:0},iit={class:"note-card-footer"},oit={class:"tags"},ait=["onClick"],sit=nt({__name:"NoteCard",props:{note:{},moduleName:{}},emits:["edit","delete","view","tag-click","copy"],setup(t,{emit:e}){const n=t,r=e,i=we(null),o=we(!1),a=we(!1),{t:s}=Ut();function l(){i.value&&(o.value=i.value.scrollHeight>600)}kt(()=>{Tn(l)}),We(()=>n.note.content,()=>{Tn(l)});function u(){r("view",n.note)}function c(){r("edit",n.note)}function f(){r("delete",n.note)}function d(){a.value=!a.value}function h(){$t("NoteCard handleCopy",n.note),r("copy",n.note)}return(p,m)=>(ye(),He(A1,{showView:"",showEdit:"",showDelete:"",title:p.note.title,onView:u,onEdit:c,onDelete:f,onCopy:h},{actions:De(()=>[o.value?(ye(),He(Ya,{key:0,size:"small",variant:"secondary",onClick:d,title:a.value?le(s)("common.collapse"):le(s)("common.expand")},{default:De(()=>[a.value?(ye(),He(le(XAe),{key:0})):(ye(),He(le(KAe),{key:1}))]),_:1},8,["title"])):ot("",!0)]),default:De(()=>[p.note.content?.length>0||p.note.tags?.length>0?(ye(),Le("div",rit,[Ee("div",{ref_key:"contentRef",ref:i,class:Qr(["note-card-content",{clamped:o.value&&!a.value}])},[xe(Lk,{content:p.note.content},null,8,["content"])],2),Ee("div",iit,[Ee("div",oit,[(ye(!0),Le(Tt,null,Gn(p.note.tags,g=>(ye(),Le("span",{key:g,class:"tag",onClick:Wo(v=>r("tag-click",g),["stop"])},$e(le(s)("tagSelector.hash"))+$e(g),9,ait))),128))])])])):ot("",!0)]),_:1},8,["title"]))}}),H1e=vr(sit,[["__scopeId","data-v-fcab03e6"]]),AF=Symbol("editorInfoCtxKey");function lit(){const{dom:t,loading:e,editor:n,editorFactory:r}=rr(AF,{}),i=we();return kt(()=>{if(!t.value)return;const o=r.value(t.value);o&&(e.value=!0,i.value=o,o.create().then(a=>{n.value=a}).finally(()=>{e.value=!1}).catch(console.error))}),Oo(()=>{i.value?.destroy().catch(console.error)}),t}const uit=nt({name:"Milkdown",setup:()=>{const t=lit();return()=>xe("div",{"data-milkdown-root":!0,ref:t},null)}}),cit=nt({name:"MilkdownProvider",setup:(t,{slots:e})=>{const n=we(null),r=we(void 0),i=we(void 0),o=we(!0);return Cl(AF,{loading:o,dom:n,editor:i,editorFactory:r}),()=>xe(Tt,null,[e.default?.()])}});function fit(t){const{editorFactory:e,loading:n,editor:r}=rr(AF);return e.value=t,{loading:n,get:()=>r.value}}var U1e=typeof global=="object"&&global&&global.Object===Object&&global,dit=typeof self=="object"&&self&&self.Object===Object&&self,Ty=U1e||dit||Function("return this")(),DC=Ty.Symbol,j1e=Object.prototype,hit=j1e.hasOwnProperty,pit=j1e.toString,hb=DC?DC.toStringTag:void 0;function mit(t){var e=hit.call(t,hb),n=t[hb];try{t[hb]=void 0;var r=!0}catch{}var i=pit.call(t);return r&&(e?t[hb]=n:delete t[hb]),i}var git=Object.prototype,vit=git.toString;function yit(t){return vit.call(t)}var bit="[object Null]",wit="[object Undefined]",oY=DC?DC.toStringTag:void 0;function i7(t){return t==null?t===void 0?wit:bit:oY&&oY in Object(t)?mit(t):yit(t)}function w4(t){return t!=null&&typeof t=="object"}var LD=Array.isArray;function Xd(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function W1e(t){return t}var xit="[object AsyncFunction]",Sit="[object Function]",_it="[object GeneratorFunction]",Cit="[object Proxy]";function TF(t){if(!Xd(t))return!1;var e=i7(t);return e==Sit||e==_it||e==xit||e==Cit}var r9=Ty["__core-js_shared__"],aY=function(){var t=/[^.]+$/.exec(r9&&r9.keys&&r9.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kit(t){return!!aY&&aY in t}var Eit=Function.prototype,Ait=Eit.toString;function Tit(t){if(t!=null){try{return Ait.call(t)}catch{}try{return t+""}catch{}}return""}var Mit=/[\\^$.*+?()[\]{}|]/g,Dit=/^\[object .+?Constructor\]$/,Nit=Function.prototype,Oit=Object.prototype,Iit=Nit.toString,Pit=Oit.hasOwnProperty,Rit=RegExp("^"+Iit.call(Pit).replace(Mit,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Fit(t){if(!Xd(t)||kit(t))return!1;var e=TF(t)?Rit:Dit;return e.test(Tit(t))}function Lit(t,e){return t?.[e]}function MF(t,e){var n=Lit(t,e);return Fit(n)?n:void 0}var sY=Object.create,$it=function(){function t(){}return function(e){if(!Xd(e))return{};if(sY)return sY(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function G1e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Bit(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var zit=800,qit=16,Vit=Date.now;function Hit(t){var e=0,n=0;return function(){var r=Vit(),i=qit-(r-n);if(n=r,i>0){if(++e>=zit)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Uit(t){return function(){return t}}var NC=function(){try{var t=MF(Object,"defineProperty");return t({},"",{}),t}catch{}}(),jit=NC?function(t,e){return NC(t,"toString",{configurable:!0,enumerable:!1,value:Uit(e),writable:!0})}:W1e,Wit=Hit(jit),Git=9007199254740991,Kit=/^(?:0|[1-9]\d*)$/;function K1e(t,e){var n=typeof t;return e=e??Git,!!e&&(n=="number"||n!="symbol"&&Kit.test(t))&&t>-1&&t%1==0&&t<e}function DF(t,e,n){e=="__proto__"&&NC?NC(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function o7(t,e){return t===e||t!==t&&e!==e}var Xit=Object.prototype,Yit=Xit.hasOwnProperty;function Zit(t,e,n){var r=t[e];(!(Yit.call(t,e)&&o7(r,n))||n===void 0&&!(e in t))&&DF(t,e,n)}function Jit(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=void 0;l===void 0&&(l=t[s]),i?DF(n,s,l):Zit(n,s,l)}return n}var lY=Math.max;function Qit(t,e,n){return e=lY(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=lY(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),G1e(t,this,s)}}function X1e(t,e){return Wit(Qit(t,e,W1e),t+"")}var eot=9007199254740991;function Y1e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=eot}function NF(t){return t!=null&&Y1e(t.length)&&!TF(t)}function tot(t,e,n){if(!Xd(n))return!1;var r=typeof e;return(r=="number"?NF(n)&&K1e(e,n.length):r=="string"&&e in n)?o7(n[e],t):!1}function not(t){return X1e(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&tot(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}var rot=Object.prototype;function Z1e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||rot;return t===n}function iot(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var oot="[object Arguments]";function uY(t){return w4(t)&&i7(t)==oot}var J1e=Object.prototype,aot=J1e.hasOwnProperty,sot=J1e.propertyIsEnumerable,$D=uY(function(){return arguments}())?uY:function(t){return w4(t)&&aot.call(t,"callee")&&!sot.call(t,"callee")};function lot(){return!1}var Q1e=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cY=Q1e&&typeof module=="object"&&module&&!module.nodeType&&module,uot=cY&&cY.exports===Q1e,fY=uot?Ty.Buffer:void 0,cot=fY?fY.isBuffer:void 0,ege=cot||lot,fot="[object Arguments]",dot="[object Array]",hot="[object Boolean]",pot="[object Date]",mot="[object Error]",got="[object Function]",vot="[object Map]",yot="[object Number]",bot="[object Object]",wot="[object RegExp]",xot="[object Set]",Sot="[object String]",_ot="[object WeakMap]",Cot="[object ArrayBuffer]",kot="[object DataView]",Eot="[object Float32Array]",Aot="[object Float64Array]",Tot="[object Int8Array]",Mot="[object Int16Array]",Dot="[object Int32Array]",Not="[object Uint8Array]",Oot="[object Uint8ClampedArray]",Iot="[object Uint16Array]",Pot="[object Uint32Array]",ni={};ni[Eot]=ni[Aot]=ni[Tot]=ni[Mot]=ni[Dot]=ni[Not]=ni[Oot]=ni[Iot]=ni[Pot]=!0;ni[fot]=ni[dot]=ni[Cot]=ni[hot]=ni[kot]=ni[pot]=ni[mot]=ni[got]=ni[vot]=ni[yot]=ni[bot]=ni[wot]=ni[xot]=ni[Sot]=ni[_ot]=!1;function Rot(t){return w4(t)&&Y1e(t.length)&&!!ni[i7(t)]}function Fot(t){return function(e){return t(e)}}var tge=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$2=tge&&typeof module=="object"&&module&&!module.nodeType&&module,Lot=$2&&$2.exports===tge,i9=Lot&&U1e.process,dY=function(){try{var t=$2&&$2.require&&$2.require("util").types;return t||i9&&i9.binding&&i9.binding("util")}catch{}}(),hY=dY&&dY.isTypedArray,nge=hY?Fot(hY):Rot;function $ot(t,e){var n=LD(t),r=!n&&$D(t),i=!n&&!r&&ege(t),o=!n&&!r&&!i&&nge(t),a=n||r||i||o,s=a?iot(t.length,String):[],l=s.length;for(var u in t)a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||K1e(u,l))||s.push(u);return s}function Bot(t,e){return function(n){return t(e(n))}}function zot(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var qot=Object.prototype,Vot=qot.hasOwnProperty;function Hot(t){if(!Xd(t))return zot(t);var e=Z1e(t),n=[];for(var r in t)r=="constructor"&&(e||!Vot.call(t,r))||n.push(r);return n}function rge(t){return NF(t)?$ot(t):Hot(t)}var ew=MF(Object,"create");function Uot(){this.__data__=ew?ew(null):{},this.size=0}function jot(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Wot="__lodash_hash_undefined__",Got=Object.prototype,Kot=Got.hasOwnProperty;function Xot(t){var e=this.__data__;if(ew){var n=e[t];return n===Wot?void 0:n}return Kot.call(e,t)?e[t]:void 0}var Yot=Object.prototype,Zot=Yot.hasOwnProperty;function Jot(t){var e=this.__data__;return ew?e[t]!==void 0:Zot.call(e,t)}var Qot="__lodash_hash_undefined__";function eat(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ew&&e===void 0?Qot:e,this}function Ym(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ym.prototype.clear=Uot;Ym.prototype.delete=jot;Ym.prototype.get=Xot;Ym.prototype.has=Jot;Ym.prototype.set=eat;function tat(){this.__data__=[],this.size=0}function a7(t,e){for(var n=t.length;n--;)if(o7(t[n][0],e))return n;return-1}var nat=Array.prototype,rat=nat.splice;function iat(t){var e=this.__data__,n=a7(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():rat.call(e,n,1),--this.size,!0}function oat(t){var e=this.__data__,n=a7(e,t);return n<0?void 0:e[n][1]}function aat(t){return a7(this.__data__,t)>-1}function sat(t,e){var n=this.__data__,r=a7(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ch(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ch.prototype.clear=tat;ch.prototype.delete=iat;ch.prototype.get=oat;ch.prototype.has=aat;ch.prototype.set=sat;var ige=MF(Ty,"Map");function lat(){this.size=0,this.__data__={hash:new Ym,map:new(ige||ch),string:new Ym}}function uat(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function s7(t,e){var n=t.__data__;return uat(e)?n[typeof e=="string"?"string":"hash"]:n.map}function cat(t){var e=s7(this,t).delete(t);return this.size-=e?1:0,e}function fat(t){return s7(this,t).get(t)}function dat(t){return s7(this,t).has(t)}function hat(t,e){var n=s7(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function My(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}My.prototype.clear=lat;My.prototype.delete=cat;My.prototype.get=fat;My.prototype.has=dat;My.prototype.set=hat;var oge=Bot(Object.getPrototypeOf,Object),pat="[object Object]",mat=Function.prototype,gat=Object.prototype,age=mat.toString,vat=gat.hasOwnProperty,yat=age.call(Object);function bat(t){if(!w4(t)||i7(t)!=pat)return!1;var e=oge(t);if(e===null)return!0;var n=vat.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&age.call(n)==yat}function wat(){this.__data__=new ch,this.size=0}function xat(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Sat(t){return this.__data__.get(t)}function _at(t){return this.__data__.has(t)}var Cat=200;function kat(t,e){var n=this.__data__;if(n instanceof ch){var r=n.__data__;if(!ige||r.length<Cat-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new My(r)}return n.set(t,e),this.size=n.size,this}function Dy(t){var e=this.__data__=new ch(t);this.size=e.size}Dy.prototype.clear=wat;Dy.prototype.delete=xat;Dy.prototype.get=Sat;Dy.prototype.has=_at;Dy.prototype.set=kat;var sge=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pY=sge&&typeof module=="object"&&module&&!module.nodeType&&module,Eat=pY&&pY.exports===sge,mY=Eat?Ty.Buffer:void 0;mY&&mY.allocUnsafe;function Aat(t,e){return t.slice()}var gY=Ty.Uint8Array;function Tat(t){var e=new t.constructor(t.byteLength);return new gY(e).set(new gY(t)),e}function Mat(t,e){var n=Tat(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function Dat(t){return typeof t.constructor=="function"&&!Z1e(t)?$it(oge(t)):{}}function Nat(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[++i];if(n(o[l],l,o)===!1)break}return e}}var Oat=Nat();function BD(t,e,n){(n!==void 0&&!o7(t[e],n)||n===void 0&&!(e in t))&&DF(t,e,n)}function Iat(t){return w4(t)&&NF(t)}function zD(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Pat(t){return Jit(t,rge(t))}function Rat(t,e,n,r,i,o,a){var s=zD(t,n),l=zD(e,n),u=a.get(l);if(u){BD(t,n,u);return}var c=o?o(s,l,n+"",t,e,a):void 0,f=c===void 0;if(f){var d=LD(l),h=!d&&ege(l),p=!d&&!h&&nge(l);c=l,d||h||p?LD(s)?c=s:Iat(s)?c=Bit(s):h?(f=!1,c=Aat(l)):p?(f=!1,c=Mat(l)):c=[]:bat(l)||$D(l)?(c=s,$D(s)?c=Pat(s):(!Xd(s)||TF(s))&&(c=Dat(l))):f=!1}f&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),BD(t,n,c)}function OF(t,e,n,r,i){t!==e&&Oat(e,function(o,a){if(i||(i=new Dy),Xd(o))Rat(t,e,a,n,OF,r,i);else{var s=r?r(zD(t,a),o,a+"",t,e,i):void 0;s===void 0&&(s=o),BD(t,a,s)}},rge)}function lge(t,e,n,r,i,o){return Xd(t)&&Xd(e)&&(o.set(e,t),OF(t,e,void 0,lge,o),o.delete(e)),t}var Fat=not(function(t,e,n,r){OF(t,e,n,r)}),Lat=X1e(function(t){return t.push(void 0,lge),G1e(Fat,void 0,t)});const $at=1024;let Bat=0,tu=class{constructor(e,n){this.from=e,this.to=n}};class Bn{constructor(e={}){this.id=Bat++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Nl.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Bn.closedBy=new Bn({deserialize:t=>t.split(" ")});Bn.openedBy=new Bn({deserialize:t=>t.split(" ")});Bn.group=new Bn({deserialize:t=>t.split(" ")});Bn.isolate=new Bn({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Bn.contextHash=new Bn({perNode:!0});Bn.lookAhead=new Bn({perNode:!0});Bn.mounted=new Bn({perNode:!0});class tw{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[Bn.mounted.id]}}const zat=Object.create(null);let Nl=class uge{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):zat,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new uge(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Bn.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Bn.group),o=-1;o<(i?i.length:0);o++){let a=n[o<0?r.name:i[o]];if(a)return a}}}};Nl.none=new Nl("",Object.create(null),0,8);class IF{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let o of e){let a=o(r);a&&(i||(i=Object.assign({},r.props)),i[a[0].id]=a[1])}n.push(i?new Nl(r.name,i,r.id,r.flags):r)}return new IF(n)}}const P5=new WeakMap,vY=new WeakMap;var Ci;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Ci||(Ci={}));class Zr{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[a,s]of o)this.props[typeof a=="number"?a:a.id]=s}}toString(){let e=tw.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new OC(this.topNode,e)}cursorAt(e,n=0,r=0){let i=P5.get(this)||this.topNode,o=new OC(i);return o.moveTo(e,n),P5.set(this,o._tree),o}get topNode(){return new ka(this,0,0,null)}resolve(e,n=0){let r=nw(P5.get(this)||this.topNode,e,n,!1);return P5.set(this,r),r}resolveInner(e,n=0){let r=nw(vY.get(this)||this.topNode,e,n,!0);return vY.set(this,r),r}resolveStack(e,n=0){return Hat(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e,a=e.mode||0,s=(a&Ci.IncludeAnonymous)>0;for(let l=this.cursor(a|Ci.IncludeAnonymous);;){let u=!1;if(l.from<=o&&l.to>=i&&(!s&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&(s||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:FF(Nl.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Zr(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Zr(Nl.none,n,r,i)))}static build(e){return Uat(e)}}Zr.empty=new Zr(Nl.none,[],[],0);class PF{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new PF(this.buffer,this.index)}}class R0{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Nl.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return o+"("+a.join(",")+")"}findChild(e,n,r,i,o){let{buffer:a}=this,s=-1;for(let l=e;l!=n&&!(cge(o,i,a[l+1],a[l+2])&&(s=l,r>0));l=a[l+3]);return s}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),a=0;for(let s=e,l=0;s<n;){o[l++]=i[s++],o[l++]=i[s++]-r;let u=o[l++]=i[s++]-r;o[l++]=i[s++]-e,a=Math.max(a,u)}return new R0(o,a,this.set)}}function cge(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function nw(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let a=!r&&t instanceof ka&&t.index<0?null:t.parent;if(!a)return t;t=a}let o=r?0:Ci.IgnoreOverlays;if(r)for(let a=t,s=a.parent;s;a=s,s=a.parent)a instanceof ka&&a.index<0&&((i=s.enter(e,n,o))===null||i===void 0?void 0:i.from)!=a.from&&(t=s);for(;;){let a=t.enter(e,n,o);if(!a)return t;t=a}}class fge{cursor(e=0){return new OC(this,e)}getChild(e,n=null,r=null){let i=yY(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return yY(this,e,n,r)}resolve(e,n=0){return nw(this,e,n,!1)}resolveInner(e,n=0){return nw(this,e,n,!0)}matchContext(e){return qD(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class ka extends fge{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){for(let a=this;;){for(let{children:s,positions:l}=a._tree,u=n>0?s.length:-1;e!=u;e+=n){let c=s[e],f=l[e]+a.from;if(cge(i,r,f,f+c.length)){if(c instanceof R0){if(o&Ci.ExcludeBuffers)continue;let d=c.findChild(0,c.buffer.length,n,r-f,i);if(d>-1)return new Uc(new qat(a,c,e,f),null,d)}else if(o&Ci.IncludeAnonymous||!c.type.isAnonymous||RF(c)){let d;if(!(o&Ci.IgnoreMounts)&&(d=tw.get(c))&&!d.overlay)return new ka(d.tree,f,e,a);let h=new ka(c,f,e,a);return o&Ci.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(o&Ci.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+n:e=n<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&Ci.IgnoreOverlays)&&(i=tw.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:a,to:s}of i.overlay)if((n>0?a<=o:a<o)&&(n<0?s>=o:s>o))return new ka(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function yY(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(let a=!1;!a;)if(a=i.type.is(n),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function qD(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class qat{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Uc extends fge{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new Uc(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&Ci.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new Uc(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Uc(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Uc(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let a=r.buffer[this.index+1];e.push(r.slice(i,o,a)),n.push(0)}return new Zr(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function dge(t){if(!t.length)return null;let e=0,n=t[0];for(let o=1;o<t.length;o++){let a=t[o];(a.from>n.from||a.to<n.to)&&(n=a,e=o)}let r=n instanceof ka&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new Vat(i,n)}class Vat{constructor(e,n){this.heads=e,this.node=n}get next(){return dge(this.heads)}}function Hat(t,e,n){let r=t.resolveInner(e,n),i=null;for(let o=r instanceof ka?r:r.context.parent;o;o=o.parent)if(o.index<0){let a=o.parent;(i||(i=[r])).push(a.resolve(e,n)),o=a}else{let a=tw.get(o.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let s=new ka(a.tree,a.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(nw(s,e,n,!1))}}return i?dge(i):r}class OC{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ka)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof ka?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Ci.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ci.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ci.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,a=e<0?-1:r._tree.children.length;o!=a;o+=e){let s=r._tree.children[o];if(this.mode&Ci.IncludeAnonymous||s instanceof R0||!s.type.isAnonymous||RF(s))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;n=a,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new Uc(this.buffer,n,this.stack[i]);return this.bufferNode=new Uc(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return qD(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return qD(this._tree,e,i);let a=r[n.buffer[this.stack[o]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function RF(t){return t.children.some(e=>e instanceof R0||!e.type.isAnonymous||RF(e))}function Uat(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=$at,reused:o=[],minRepeatType:a=r.types.length}=t,s=Array.isArray(n)?new PF(n,n.length):n,l=r.types,u=0,c=0;function f(x,S,_,k,C,E){let{id:M,start:A,end:N,size:T}=s,I=c,O=u;for(;T<0;)if(s.next(),T==-1){let B=o[M];_.push(B),k.push(A-x);return}else if(T==-3){u=M;return}else if(T==-4){c=M;return}else throw new RangeError(`Unrecognized record size: ${T}`);let q=l[M],L,Y,R=A-x;if(N-A<=i&&(Y=g(s.pos-S,C))){let B=new Uint16Array(Y.size-Y.skip),z=s.pos-Y.size,P=B.length;for(;s.pos>z;)P=v(Y.start,B,P);L=new R0(B,N-Y.start,r),R=Y.start-x}else{let B=s.pos-T;s.next();let z=[],P=[],$=M>=a?M:-1,X=0,K=N;for(;s.pos>B;)$>=0&&s.id==$&&s.size>=0?(s.end<=K-i&&(p(z,P,A,X,s.end,K,$,I,O),X=z.length,K=s.end),s.next()):E>2500?d(A,B,z,P):f(A,B,z,P,$,E+1);if($>=0&&X>0&&X<z.length&&p(z,P,A,X,A,K,$,I,O),z.reverse(),P.reverse(),$>-1&&X>0){let Z=h(q,O);L=FF(q,z,P,0,z.length,0,N-A,Z,Z)}else L=m(q,z,P,N-A,I-N,O)}_.push(L),k.push(R)}function d(x,S,_,k){let C=[],E=0,M=-1;for(;s.pos>S;){let{id:A,start:N,end:T,size:I}=s;if(I>4)s.next();else{if(M>-1&&N<M)break;M<0&&(M=T-i),C.push(A,N,T),E++,s.next()}}if(E){let A=new Uint16Array(E*4),N=C[C.length-2];for(let T=C.length-3,I=0;T>=0;T-=3)A[I++]=C[T],A[I++]=C[T+1]-N,A[I++]=C[T+2]-N,A[I++]=I;_.push(new R0(A,C[2]-N,r)),k.push(N-x)}}function h(x,S){return(_,k,C)=>{let E=0,M=_.length-1,A,N;if(M>=0&&(A=_[M])instanceof Zr){if(!M&&A.type==x&&A.length==C)return A;(N=A.prop(Bn.lookAhead))&&(E=k[M]+A.length+N)}return m(x,_,k,C,E,S)}}function p(x,S,_,k,C,E,M,A,N){let T=[],I=[];for(;x.length>k;)T.push(x.pop()),I.push(S.pop()+_-C);x.push(m(r.types[M],T,I,E-C,A-E,N)),S.push(C-_)}function m(x,S,_,k,C,E,M){if(E){let A=[Bn.contextHash,E];M=M?[A].concat(M):[A]}if(C>25){let A=[Bn.lookAhead,C];M=M?[A].concat(M):[A]}return new Zr(x,S,_,k,M)}function g(x,S){let _=s.fork(),k=0,C=0,E=0,M=_.end-i,A={size:0,start:0,skip:0};e:for(let N=_.pos-x;_.pos>N;){let T=_.size;if(_.id==S&&T>=0){A.size=k,A.start=C,A.skip=E,E+=4,k+=4,_.next();continue}let I=_.pos-T;if(T<0||I<N||_.start<M)break;let O=_.id>=a?4:0,q=_.start;for(_.next();_.pos>I;){if(_.size<0)if(_.size==-3)O+=4;else break e;else _.id>=a&&(O+=4);_.next()}C=q,k+=T,E+=O}return(S<0||k==x)&&(A.size=k,A.start=C,A.skip=E),A.size>4?A:void 0}function v(x,S,_){let{id:k,start:C,end:E,size:M}=s;if(s.next(),M>=0&&k<a){let A=_;if(M>4){let N=s.pos-(M-4);for(;s.pos>N;)_=v(x,S,_)}S[--_]=A,S[--_]=E-x,S[--_]=C-x,S[--_]=k}else M==-3?u=k:M==-4&&(c=k);return _}let y=[],b=[];for(;s.pos>0;)f(t.start||0,t.bufferStart||0,y,b,-1,0);let w=(e=t.length)!==null&&e!==void 0?e:y.length?b[0]+y[0].length:0;return new Zr(l[t.topID],y.reverse(),b.reverse(),w)}const bY=new WeakMap;function dS(t,e){if(!t.isAnonymous||e instanceof R0||e.type!=t)return 1;let n=bY.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Zr)){n=1;break}n+=dS(t,r)}bY.set(e,n)}return n}function FF(t,e,n,r,i,o,a,s,l){let u=0;for(let p=r;p<i;p++)u+=dS(t,e[p]);let c=Math.ceil(u*1.5/8),f=[],d=[];function h(p,m,g,v,y){for(let b=g;b<v;){let w=b,x=m[b],S=dS(t,p[b]);for(b++;b<v;b++){let _=dS(t,p[b]);if(S+_>=c)break;S+=_}if(b==w+1){if(S>c){let _=p[w];h(_.children,_.positions,0,_.children.length,m[w]+y);continue}f.push(p[w])}else{let _=m[b-1]+p[b-1].length-x;f.push(FF(t,p,m,w,b,x,_,null,l))}d.push(x+y-o)}}return h(e,n,r,i,0),(s||l)(f,d,a)}class qNt{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof Uc?this.setBuffer(e.context.buffer,e.index,n):e instanceof ka&&this.map.set(e.tree,n)}get(e){return e instanceof Uc?this.getBuffer(e.context.buffer,e.index):e instanceof ka?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Nd{constructor(e,n,r,i,o=!1,a=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new Nd(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,a=e.length?e[0]:null;for(let s=0,l=0,u=0;;s++){let c=s<n.length?n[s]:null,f=c?c.fromA:1e9;if(f-l>=r)for(;a&&a.from<f;){let d=a;if(l>=d.from||f<=d.to||u){let h=Math.max(d.from,l)-u,p=Math.min(d.to,f)-u;d=h>=p?null:new Nd(h,p,d.tree,d.offset+u,s>0,!!c)}if(d&&i.push(d),a.to>f)break;a=o<e.length?e[o++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}let hge=class{startParse(e,n,r){return typeof e=="string"&&(e=new jat(e)),r=r?r.length?r.map(i=>new tu(i.from,i.to)):[new tu(0,0)]:[new tu(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}};class jat{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function HNt(t){return(e,n,r,i)=>new Gat(e,t,n,r,i)}class wY{constructor(e,n,r,i,o){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.from=o}}function xY(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class Wat{constructor(e,n,r,i,o,a,s){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=o,this.target=a,this.prev=s,this.depth=0,this.ranges=[]}}const VD=new Bn({perNode:!0});class Gat{constructor(e,n,r,i,o){this.nest=n,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Zr(r.type,r.children,r.positions,r.length,r.propValues.concat([[VD,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Bn.mounted.id]=new tw(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new Yat(this.fragments),n=null,r=null,i=new OC(new ka(this.baseTree,this.ranges[0].from,0,null),Ci.IncludeAnonymous|Ci.IgnoreMounts);e:for(let o,a;;){let s=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)s=!1;else if(e.hasNode(i)){if(n){let u=n.mounts.find(c=>c.frag.from<=i.from&&c.frag.to>=i.to&&c.mount.overlay);if(u)for(let c of u.mount.overlay){let f=c.from+u.pos,d=c.to+u.pos;f>=i.from&&d<=i.to&&!n.ranges.some(h=>h.from<d&&h.to>f)&&n.ranges.push({from:f,to:d})}}s=!1}else if(r&&(a=Kat(r.ranges,i.from,i.to)))s=a!=2;else if(!i.type.isAnonymous&&(o=this.nest(i,this.input))&&(i.from<i.to||!o.overlay)){i.tree||Xat(i);let u=e.findMounts(i.from,o.parser);if(typeof o.overlay=="function")n=new Wat(o.parser,o.overlay,u,this.inner.length,i.from,i.tree,n);else{let c=CY(this.ranges,o.overlay||(i.from<i.to?[new tu(i.from,i.to)]:[]));c.length&&xY(c),(c.length||!o.overlay)&&this.inner.push(new wY(o.parser,c.length?o.parser.startParse(this.input,kY(u,c),c):o.parser.startParse(""),o.overlay?o.overlay.map(f=>new tu(f.from-i.from,f.to-i.from)):null,i.tree,c.length?c[0].from:i.from)),o.overlay?c.length&&(r={ranges:c,depth:0,prev:r}):s=!1}}else if(n&&(l=n.predicate(i))&&(l===!0&&(l=new tu(i.from,i.to)),l.from<l.to)){let u=n.ranges.length-1;u>=0&&n.ranges[u].to==l.from?n.ranges[u]={from:n.ranges[u].from,to:l.to}:n.ranges.push(l)}if(s&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let u=CY(this.ranges,n.ranges);u.length&&(xY(u),this.inner.splice(n.index,0,new wY(n.parser,n.parser.startParse(this.input,kY(n.mounts,u),u),n.ranges.map(c=>new tu(c.from-n.start,c.to-n.start)),n.target,u[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function Kat(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function SY(t,e,n,r,i,o){if(e<n){let a=t.buffer[e+1];r.push(t.slice(e,n,a)),i.push(a-o)}}function Xat(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,o=i.children.indexOf(r),a=i.children[o],s=a.buffer,l=[o];function u(c,f,d,h,p,m){let g=n[m],v=[],y=[];SY(a,c,g,v,y,h);let b=s[g+1],w=s[g+2];l.push(v.length);let x=m?u(g+4,s[g+3],a.set.types[s[g]],b,w-b,m-1):e.toTree();return v.push(x),y.push(b-h),SY(a,s[g+3],f,v,y,h),new Zr(d,v,y,p)}i.children[o]=u(0,s.length,Nl.none,0,a.length,n.length-1);for(let c of l){let f=t.tree.children[c],d=t.tree.positions[c];t.yield(new ka(f,d+t.from,c,t._tree))}}class _Y{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(Ci.IncludeAnonymous|Ci.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,Ci.IgnoreOverlays|Ci.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof Zr)n=n.children[0];else break}return!1}}class Yat{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(VD))!==null&&n!==void 0?n:r.to,this.inner=new _Y(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(VD))!==null&&e!==void 0?e:n.to,this.inner=new _Y(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let o=this.inner.cursor.node;o;o=o.parent){let a=(r=o.tree)===null||r===void 0?void 0:r.prop(Bn.mounted);if(a&&a.parser==n)for(let s=this.fragI;s<this.fragments.length;s++){let l=this.fragments[s];if(l.from>=o.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:o.from-l.offset,mount:a})}}}return i}}function CY(t,e){let n=null,r=e;for(let i=1,o=0;i<t.length;i++){let a=t[i-1].to,s=t[i].from;for(;o<r.length;o++){let l=r[o];if(l.from>=s)break;l.to<=a||(n||(r=n=e.slice()),l.from<a?(n[o]=new tu(l.from,a),l.to>s&&n.splice(o+1,0,new tu(s,l.to))):l.to>s?n[o--]=new tu(s,l.to):n.splice(o--,1))}}return r}function Zat(t,e,n,r){let i=0,o=0,a=!1,s=!1,l=-1e9,u=[];for(;;){let c=i==t.length?1e9:a?t[i].to:t[i].from,f=o==e.length?1e9:s?e[o].to:e[o].from;if(a!=s){let d=Math.max(l,n),h=Math.min(c,f,r);d<h&&u.push(new tu(d,h))}if(l=Math.min(c,f),l==1e9)break;c==l&&(a?(a=!1,i++):a=!0),f==l&&(s?(s=!1,o++):s=!0)}return u}function kY(t,e){let n=[];for(let{pos:r,mount:i,frag:o}of t){let a=r+(i.overlay?i.overlay[0].from:0),s=a+i.tree.length,l=Math.max(o.from,a),u=Math.min(o.to,s);if(i.overlay){let c=i.overlay.map(d=>new tu(d.from+r,d.to+r)),f=Zat(e,c,l,u);for(let d=0,h=l;;d++){let p=d==f.length,m=p?u:f[d].from;if(m>h&&n.push(new Nd(h,m,i.tree,-a,o.from>=h||o.openStart,o.to<=m||o.openEnd)),p)break;h=f[d].to}}else n.push(new Nd(l,u,i.tree,-a,o.from>=a||o.openStart,o.to<=s||o.openEnd))}return n}let HD=[],pge=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?pge:HD).push(n=n+t[e])})();function Jat(t){if(t<768)return!1;for(let e=0,n=HD.length;;){let r=e+n>>1;if(t<HD[r])n=r;else if(t>=pge[r])e=r+1;else return!0;if(e==n)return!1}}function EY(t){return t>=127462&&t<=127487}const AY=8205;function Qat(t,e,n=!0,r=!0){return(n?mge:est)(t,e,r)}function mge(t,e,n){if(e==t.length)return e;e&&gge(t.charCodeAt(e))&&vge(t.charCodeAt(e-1))&&e--;let r=o9(t,e);for(e+=TY(r);e<t.length;){let i=o9(t,e);if(r==AY||i==AY||n&&Jat(i))e+=TY(i),r=i;else if(EY(i)){let o=0,a=e-2;for(;a>=0&&EY(o9(t,a));)o++,a-=2;if(o%2==0)break;e+=2}else break}return e}function est(t,e,n){for(;e>0;){let r=mge(t,e-2,n);if(r<e)return r;e--}return 0}function o9(t,e){let n=t.charCodeAt(e);if(!vge(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return gge(r)?(n-55296<<10)+(r-56320)+65536:n}function gge(t){return t>=56320&&t<57344}function vge(t){return t>=55296&&t<56320}function TY(t){return t<65536?1:2}class tr{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=$v(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),hS.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=$v(this,e,n);let r=[];return this.decompose(e,n,r,0),hS.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new B2(this),o=new B2(e);for(let a=n,s=n;;){if(i.next(a),o.next(a),a=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(s+=i.value.length,i.done||s>=r)return!0}}iter(e=1){return new B2(this,e)}iterRange(e,n=this.length){return new yge(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new bge(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?tr.empty:e.length<=32?new Vi(e):hS.from(Vi.split(e,[]))}}class Vi extends tr{constructor(e,n=tst(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let a=this.text[o],s=i+a.length;if((n?r:s)>=e)return new nst(i,s,r,a);i=s+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new Vi(MY(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let a=r.pop(),s=pS(o.text,a.text.slice(),0,o.length);if(s.length<=32)r.push(new Vi(s,a.length+o.length));else{let l=s.length>>1;r.push(new Vi(s.slice(0,l)),new Vi(s.slice(l)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof Vi))return super.replace(e,n,r);[e,n]=$v(this,e,n);let i=pS(this.text,pS(r.text,MY(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new Vi(i,o):hS.from(Vi.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){[e,n]=$v(this,e,n);let i="";for(let o=0,a=0;o<=n&&a<this.text.length;a++){let s=this.text[a],l=o+s.length;o>e&&a&&(i+=r),e<l&&n>o&&(i+=s.slice(Math.max(0,e-o),n-o)),o=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new Vi(r,i)),r=[],i=-1);return i>-1&&n.push(new Vi(r,i)),n}}let hS=class mg extends tr{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let a=this.children[o],s=i+a.length,l=r+a.lines-1;if((n?l:s)>=e)return a.lineInner(e,n,r,i);i=s+1,r=l+1}}decompose(e,n,r,i){for(let o=0,a=0;a<=n&&o<this.children.length;o++){let s=this.children[o],l=a+s.length;if(e<=l&&n>=a){let u=i&((a<=e?1:0)|(l>=n?2:0));a>=e&&l<=n&&!u?r.push(s):s.decompose(e-a,n-a,r,u)}a=l+1}}replace(e,n,r){if([e,n]=$v(this,e,n),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let a=this.children[i],s=o+a.length;if(e>=o&&n<=s){let l=a.replace(e-o,n-o,r),u=this.lines-a.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let c=this.children.slice();return c[i]=l,new mg(c,this.length-(n-e)+r.length)}return super.replace(o,s,l)}o=s+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=$v(this,e,n);let i="";for(let o=0,a=0;o<this.children.length&&a<=n;o++){let s=this.children[o],l=a+s.length;a>e&&o&&(i+=r),e<l&&n>a&&(i+=s.sliceString(e-a,n-a,r)),a=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof mg))return 0;let r=0,[i,o,a,s]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==a||o==s)return r;let l=this.children[i],u=e.children[o];if(l!=u)return r+l.scanIdentical(u,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let h of e)r+=h.lines;if(r<32){let h=[];for(let p of e)p.flatten(h);return new Vi(h,n)}let i=Math.max(32,r>>5),o=i<<1,a=i>>1,s=[],l=0,u=-1,c=[];function f(h){let p;if(h.lines>o&&h instanceof mg)for(let m of h.children)f(m);else h.lines>a&&(l>a||!l)?(d(),s.push(h)):h instanceof Vi&&l&&(p=c[c.length-1])instanceof Vi&&h.lines+p.lines<=32?(l+=h.lines,u+=h.length+1,c[c.length-1]=new Vi(p.text.concat(h.text),p.length+1+h.length)):(l+h.lines>i&&d(),l+=h.lines,u+=h.length+1,c.push(h))}function d(){l!=0&&(s.push(c.length==1?c[0]:mg.from(c,u)),u=-1,l=c.length=0)}for(let h of e)f(h);return d(),s.length==1?s[0]:new mg(s,n)}};tr.empty=new Vi([""],0);function tst(t){let e=-1;for(let n of t)e+=n.length+1;return e}function pS(t,e,n=0,r=1e9){for(let i=0,o=0,a=!0;o<t.length&&i<=r;o++){let s=t[o],l=i+s.length;l>=n&&(l>r&&(s=s.slice(0,r-i)),i<n&&(s=s.slice(n-i)),a?(e[e.length-1]+=s,a=!1):e.push(s)),i=l+1}return e}function MY(t,e,n){return pS(t,[""],e,n)}class B2{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Vi?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],a=o>>1,s=i instanceof Vi?i.text.length:i.children.length;if(a==(n>0?s:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Vi){let l=i.text[a+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[a+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Vi?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class yge{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new B2(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class bge{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(tr.prototype[Symbol.iterator]=function(){return this.iter()},B2.prototype[Symbol.iterator]=yge.prototype[Symbol.iterator]=bge.prototype[Symbol.iterator]=function(){return this});class nst{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function $v(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Zo(t,e,n=!0,r=!0){return Qat(t,e,n,r)}function rst(t){return t>=56320&&t<57344}function ist(t){return t>=55296&&t<56320}function Ds(t,e){let n=t.charCodeAt(e);if(!ist(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return rst(r)?(n-55296<<10)+(r-56320)+65536:n}function LF(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Bc(t){return t<65536?1:2}const UD=/\r\n?|\n/;var Ko=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Ko||(Ko={}));class Qc{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],a=this.sections[n++];a<0?(e(r,i,o),i+=o):i+=a,r+=o}}iterChangedRanges(e,n=!1){jD(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Qc(e)}composeDesc(e){return this.empty?e:e.empty?this:wge(this,e)}mapDesc(e,n=!1){return e.empty?this:WD(this,e,n)}mapPos(e,n=-1,r=Ko.Simple){let i=0,o=0;for(let a=0;a<this.sections.length;){let s=this.sections[a++],l=this.sections[a++],u=i+s;if(l<0){if(u>e)return o+(e-i);o+=s}else{if(r!=Ko.Simple&&u>=e&&(r==Ko.TrackDel&&i<e&&u>e||r==Ko.TrackBefore&&i<e||r==Ko.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!s)return e==i||n<0?o:o+l;o+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],a=this.sections[r++],s=i+o;if(a>=0&&i<=n&&s>=e)return i<e&&s>n?"cover":!0;i=s}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Qc(e)}static create(e){return new Qc(e)}}class lo extends Qc{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return jD(this,(n,r,i,o,a)=>e=e.replace(i,i+(r-n),a),!1),e}mapDesc(e,n=!1){return WD(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let a=n[i],s=n[i+1];if(s>=0){n[i]=s,n[i+1]=a;let l=i>>1;for(;r.length<l;)r.push(tr.empty);r.push(a?e.slice(o,o+a):tr.empty)}o+=a}return new lo(n,r)}compose(e){return this.empty?e:e.empty?this:wge(this,e,!0)}map(e,n=!1){return e.empty?this:WD(this,e,n,!0)}iterChanges(e,n=!1){jD(this,e,n)}get desc(){return Qc.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new rw(this);e:for(let a=0,s=0;;){let l=a==e.length?1e9:e[a++];for(;s<l||s==l&&o.len==0;){if(o.done)break e;let c=Math.min(o.len,l-s);pa(i,c,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;pa(n,c,f),f>0&&c0(r,n,o.text),o.forward(c),s+=c}let u=e[a++];for(;s<u;){if(o.done)break e;let c=Math.min(o.len,u-s);pa(n,c,-1),pa(i,c,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(c),s+=c}}return{changes:new lo(n,r),filtered:Qc.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],a=0,s=null;function l(c=!1){if(!c&&!i.length)return;a<n&&pa(i,n-a,-1);let f=new lo(i,o);s=s?s.compose(f.map(s)):f,i=[],o=[],a=0}function u(c){if(Array.isArray(c))for(let f of c)u(f);else if(c instanceof lo){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);l(),s=s?s.compose(c.map(s)):c}else{let{from:f,to:d=f,insert:h}=c;if(f>d||f<0||d>n)throw new RangeError(`Invalid change range ${f} to ${d} (in doc of length ${n})`);let p=h?typeof h=="string"?tr.of(h.split(r||UD)):h:tr.empty,m=p.length;if(f==d&&m==0)return;f<a&&l(),f>a&&pa(i,f-a,-1),pa(i,d-f,m),c0(o,i,p),a=d}}return u(e),l(!s),s}static empty(e){return new lo(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((a,s)=>s&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(tr.empty);r[i]=tr.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new lo(n,r)}static createSet(e,n){return new lo(e,n)}}function pa(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function c0(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(tr.empty);t.push(n)}}function jD(t,e,n){let r=t.inserted;for(let i=0,o=0,a=0;a<t.sections.length;){let s=t.sections[a++],l=t.sections[a++];if(l<0)i+=s,o+=s;else{let u=i,c=o,f=tr.empty;for(;u+=s,c+=l,l&&r&&(f=f.append(r[a-2>>1])),!(n||a==t.sections.length||t.sections[a+1]<0);)s=t.sections[a++],l=t.sections[a++];e(i,u,o,c,f),i=u,o=c}}}function WD(t,e,n,r=!1){let i=[],o=r?[]:null,a=new rw(t),s=new rw(e);for(let l=-1;;){if(a.done&&s.len||s.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&s.ins==-1){let u=Math.min(a.len,s.len);pa(i,u,-1),a.forward(u),s.forward(u)}else if(s.ins>=0&&(a.ins<0||l==a.i||a.off==0&&(s.len<a.len||s.len==a.len&&!n))){let u=s.len;for(pa(i,s.ins,-1);u;){let c=Math.min(a.len,u);a.ins>=0&&l<a.i&&a.len<=c&&(pa(i,0,a.ins),o&&c0(o,i,a.text),l=a.i),a.forward(c),u-=c}s.next()}else if(a.ins>=0){let u=0,c=a.len;for(;c;)if(s.ins==-1){let f=Math.min(c,s.len);u+=f,c-=f,s.forward(f)}else if(s.ins==0&&s.len<c)c-=s.len,s.next();else break;pa(i,u,l<a.i?a.ins:0),o&&l<a.i&&c0(o,i,a.text),l=a.i,a.forward(a.len-c)}else{if(a.done&&s.done)return o?lo.createSet(i,o):Qc.create(i);throw new Error("Mismatched change set lengths")}}}function wge(t,e,n=!1){let r=[],i=n?[]:null,o=new rw(t),a=new rw(e);for(let s=!1;;){if(o.done&&a.done)return i?lo.createSet(r,i):Qc.create(r);if(o.ins==0)pa(r,o.len,0,s),o.next();else if(a.len==0&&!a.done)pa(r,0,a.ins,s),i&&c0(i,r,a.text),a.next();else{if(o.done||a.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,a.len),u=r.length;if(o.ins==-1){let c=a.ins==-1?-1:a.off?0:a.ins;pa(r,l,c,s),i&&c&&c0(i,r,a.text)}else a.ins==-1?(pa(r,o.off?0:o.len,l,s),i&&c0(i,r,o.textBit(l))):(pa(r,o.off?0:o.len,a.off?0:a.ins,s),i&&!a.off&&c0(i,r,a.text));s=(o.ins>l||a.ins>=0&&a.len>l)&&(s||r.length>u),o.forward2(l),a.forward(l)}}}}class rw{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?tr.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?tr.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}let R5=class GD{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new GD(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Qe.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Qe.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Qe.range(e.anchor,e.head)}static create(e,n,r){return new GD(e,n,r)}};class Qe{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Qe.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Qe([this.main],0)}addRange(e,n=!0){return Qe.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Qe.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Qe(e.ranges.map(n=>R5.fromJSON(n)),e.main)}static single(e,n=e){return new Qe([Qe.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return Qe.normalized(e.slice(),n);r=o.to}return new Qe(e,n)}static cursor(e,n=0,r,i){return R5.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?R5.create(n,e,48|o):R5.create(e,n,(n>e?8:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],a=e[i-1];if(o.empty?o.from<=a.to:o.from<a.to){let s=a.from,l=Math.max(o.to,a.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?Qe.range(l,s):Qe.range(s,l))}}return new Qe(e,n)}}function xge(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let $F=0;class Et{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=$F++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new Et(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:BF),!!e.static,e.enables)}of(e){return new mS([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new mS(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new mS(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function BF(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class mS{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=$F++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,a=e[o]>>1,s=this.type==2,l=!1,u=!1,c=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?u=!0:(((n=e[f.id])!==null&&n!==void 0?n:1)&1)==0&&c.push(e[f.id]);return{create(f){return f.values[a]=r(f),1},update(f,d){if(l&&d.docChanged||u&&(d.docChanged||d.selection)||KD(f,c)){let h=r(f);if(s?!DY(h,f.values[a],i):!i(h,f.values[a]))return f.values[a]=h,1}return 0},reconfigure:(f,d)=>{let h,p=d.config.address[o];if(p!=null){let m=IC(d,p);if(this.dependencies.every(g=>g instanceof Et?d.facet(g)===f.facet(g):g instanceof Io?d.field(g,!1)==f.field(g,!1):!0)||(s?DY(h=r(f),m,i):i(h=r(f),m)))return f.values[a]=m,0}else h=r(f);return f.values[a]=h,1}}}}function DY(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function KD(t,e){let n=!1;for(let r of e)z2(t,r)&1&&(n=!0);return n}function ost(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),o=r.filter(l=>!(l&1)),a=t[e.id]>>1;function s(l){let u=[];for(let c=0;c<r.length;c++){let f=IC(l,r[c]);if(i[c]==2)for(let d of f)u.push(d);else u.push(f)}return e.combine(u)}return{create(l){for(let u of r)z2(l,u);return l.values[a]=s(l),1},update(l,u){if(!KD(l,o))return 0;let c=s(l);return e.compare(c,l.values[a])?0:(l.values[a]=c,1)},reconfigure(l,u){let c=KD(l,r),f=u.config.facets[e.id],d=u.facet(e);if(f&&!c&&BF(n,f))return l.values[a]=d,0;let h=s(l);return e.compare(h,d)?(l.values[a]=d,0):(l.values[a]=h,1)}}}const F5=Et.define({static:!0});class Io{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new Io($F++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(F5).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],a=this.updateF(o,i);return this.compareF(o,a)?0:(r.values[n]=a,1)},reconfigure:(r,i)=>{let o=r.facet(F5),a=i.facet(F5),s;return(s=o.find(l=>l.field==this))&&s!=a.find(l=>l.field==this)?(r.values[n]=s.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,F5.of({field:this,create:e})]}get extension(){return this}}const Qp={lowest:4,low:3,default:2,high:1,highest:0};function pb(t){return e=>new Sge(e,t)}const mp={highest:pb(Qp.highest),high:pb(Qp.high),default:pb(Qp.default),low:pb(Qp.low),lowest:pb(Qp.lowest)};class Sge{constructor(e,n){this.inner=e,this.prec=n}}class Bv{of(e){return new XD(this,e)}reconfigure(e){return Bv.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class XD{constructor(e,n){this.compartment=e,this.inner=n}}let NY=class _ge{constructor(e,n,r,i,o,a){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),a=new Map;for(let d of ast(e,n,a))d instanceof Io?i.push(d):(o[d.facet.id]||(o[d.facet.id]=[])).push(d);let s=Object.create(null),l=[],u=[];for(let d of i)s[d.id]=u.length<<1,u.push(h=>d.slot(h));let c=r?.config.facets;for(let d in o){let h=o[d],p=h[0].facet,m=c&&c[d]||[];if(h.every(g=>g.type==0))if(s[p.id]=l.length<<1|1,BF(m,h))l.push(r.facet(p));else{let g=p.combine(h.map(v=>v.value));l.push(r&&p.compare(g,r.facet(p))?r.facet(p):g)}else{for(let g of h)g.type==0?(s[g.id]=l.length<<1|1,l.push(g.value)):(s[g.id]=u.length<<1,u.push(v=>g.dynamicSlot(v)));s[p.id]=u.length<<1,u.push(g=>ost(g,p,h))}}let f=u.map(d=>d(s));return new _ge(e,a,f,s,l,o)}};function ast(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(a,s){let l=i.get(a);if(l!=null){if(l<=s)return;let u=r[l].indexOf(a);u>-1&&r[l].splice(u,1),a instanceof XD&&n.delete(a.compartment)}if(i.set(a,s),Array.isArray(a))for(let u of a)o(u,s);else if(a instanceof XD){if(n.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(a.compartment)||a.inner;n.set(a.compartment,u),o(u,s)}else if(a instanceof Sge)o(a.inner,a.prec);else if(a instanceof Io)r[s].push(a),a.provides&&o(a.provides,s);else if(a instanceof mS)r[s].push(a),a.facet.extensions&&o(a.facet.extensions,Qp.default);else{let u=a.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(u,s)}}return o(t,Qp.default),r.reduce((a,s)=>a.concat(s))}function z2(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function IC(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const Cge=Et.define(),YD=Et.define({combine:t=>t.some(e=>e),static:!0}),kge=Et.define({combine:t=>t.length?t[0]:void 0,static:!0}),Ege=Et.define(),Age=Et.define(),Tge=Et.define(),Mge=Et.define({combine:t=>t.length?t[0]:!1});class fh{constructor(e,n){this.type=e,this.value=n}static define(){return new sst}}class sst{of(e){return new fh(this,e)}}class lst{constructor(e){this.map=e}of(e){return new xn(this,e)}}class xn{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new xn(this.type,n)}is(e){return this.type==e}static define(e={}){return new lst(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}}xn.reconfigure=xn.define();xn.appendConfig=xn.define();let ts=class zb{constructor(e,n,r,i,o,a){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=a,this._doc=null,this._state=null,r&&xge(r,n.newLength),o.some(s=>s.type==zb.time)||(this.annotations=o.concat(zb.time.of(Date.now())))}static create(e,n,r,i,o,a){return new zb(e,n,r,i,o,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(zb.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}};ts.time=fh.define();ts.userEvent=fh.define();ts.addToHistory=fh.define();ts.remote=fh.define();function ust(t,e){let n=[];for(let r=0,i=0;;){let o,a;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],a=t[r++];else if(i<e.length)o=e[i++],a=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function Dge(t,e,n){var r;let i,o,a;return n?(i=e.changes,o=lo.empty(e.changes.length),a=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),a=t.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:xn.mapEffects(t.effects,i).concat(xn.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function ZD(t,e,n){let r=e.selection,i=Zg(e.annotations);return e.userEvent&&(i=i.concat(ts.userEvent.of(e.userEvent))),{changes:e.changes instanceof lo?e.changes:lo.of(e.changes||[],n,t.facet(kge)),selection:r&&(r instanceof Qe?r:Qe.single(r.anchor,r.head)),effects:Zg(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Nge(t,e,n){let r=ZD(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let a=!!e[o].sequential;r=Dge(r,ZD(t,e[o],a?r.changes.newLength:t.doc.length),a)}let i=ts.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return fst(n?cst(i):i)}function cst(t){let e=t.startState,n=!0;for(let i of e.facet(Ege)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:ust(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=lo.empty(e.doc.length);else{let a=t.changes.filter(n);i=a.changes,o=a.filtered.mapDesc(a.changes).invertedDesc}t=ts.create(e,i,t.selection&&t.selection.map(o),xn.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(Age);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof ts?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof ts?t=o[0]:t=Nge(e,Zg(o),!1)}return t}function fst(t){let e=t.startState,n=e.facet(Tge),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=Dge(r,ZD(e,o,t.changes.newLength),!0))}return r==t?t:ts.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const dst=[];function Zg(t){return t==null?dst:Array.isArray(t)?t:[t]}var mi=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(mi||(mi={}));const hst=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let JD;try{JD=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function pst(t){if(JD)return JD.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||hst.test(n)))return!0}return!1}function mst(t){return e=>{if(!/\S/.test(e))return mi.Space;if(pst(e))return mi.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return mi.Word;return mi.Other}}let gi=class Fu{constructor(e,n,r,i,o,a){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,a&&(a._state=this);for(let s=0;s<this.config.dynamicSlots.length;s++)z2(this,s<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return z2(this,r),IC(this,r)}update(...e){return Nge(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let s of e.effects)s.is(Bv.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,u)=>i.set(u,l)),n=null),i.set(s.value.compartment,s.value.extension)):s.is(xn.reconfigure)?(n=null,r=s.value):s.is(xn.appendConfig)&&(n=null,r=Zg(r).concat(s.value));let o;n?o=e.startState.values.slice():(n=NY.resolve(r,i,this),o=new Fu(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let a=e.startState.facet(YD)?e.newSelection:e.newSelection.asSingle();new Fu(n,e.newDoc,a,o,(s,l)=>l.update(s,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Qe.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],a=Zg(r.effects);for(let s=1;s<n.ranges.length;s++){let l=e(n.ranges[s]),u=this.changes(l.changes),c=u.map(i);for(let d=0;d<s;d++)o[d]=o[d].map(c);let f=i.mapDesc(u,!0);o.push(l.range.map(f)),i=i.compose(c),a=xn.mapEffects(a,c).concat(xn.mapEffects(Zg(l.effects),f))}return{changes:i,selection:Qe.create(o,n.mainIndex),effects:a}}changes(e=[]){return e instanceof lo?e:lo.of(e,this.doc.length,this.facet(Fu.lineSeparator))}toText(e){return tr.of(e.split(this.facet(Fu.lineSeparator)||UD))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(z2(this,n),IC(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Io&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let a=r[o],s=e[o];i.push(a.init(l=>a.spec.fromJSON(s,l)))}}return Fu.create({doc:e.doc,selection:Qe.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=NY.resolve(e.extensions||[],new Map),r=e.doc instanceof tr?e.doc:tr.of((e.doc||"").split(n.staticFacet(Fu.lineSeparator)||UD)),i=e.selection?e.selection instanceof Qe?e.selection:Qe.single(e.selection.anchor,e.selection.head):Qe.single(0);return xge(i,r.length),n.staticFacet(YD)||(i=i.asSingle()),new Fu(n,r,i,n.dynamicSlots.map(()=>null),(o,a)=>a.create(o),null)}get tabSize(){return this.facet(Fu.tabSize)}get lineBreak(){return this.facet(Fu.lineSeparator)||`
`}get readOnly(){return this.facet(Mge)}phrase(e,...n){for(let r of this.facet(Fu.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(Cge))for(let a of o(this,n,r))Object.prototype.hasOwnProperty.call(a,e)&&i.push(a[e]);return i}charCategorizer(e){return mst(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),a=e-r,s=e-r;for(;a>0;){let l=Zo(n,a,!1);if(o(n.slice(l,a))!=mi.Word)break;a=l}for(;s<i;){let l=Zo(n,s);if(o(n.slice(s,l))!=mi.Word)break;s=l}return a==s?null:Qe.range(a+r,s+r)}};gi.allowMultipleSelections=YD;gi.tabSize=Et.define({combine:t=>t.length?t[0]:4});gi.lineSeparator=kge;gi.readOnly=Mge;gi.phrases=Et.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});gi.languageData=Cge;gi.changeFilter=Ege;gi.transactionFilter=Age;gi.transactionExtender=Tge;Bv.reconfigure=xn.define();function kf(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let a=i[o],s=r[o];if(s===void 0)r[o]=a;else if(!(s===a||a===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](s,a);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Zm{eq(e){return this==e}range(e,n=e){return iw.create(e,n,this)}}Zm.prototype.startSide=Zm.prototype.endSide=0;Zm.prototype.point=!1;Zm.prototype.mapMode=Ko.TrackDel;class iw{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new iw(e,n,r)}}function QD(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class zF{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let a=i,s=o.length;;){if(a==s)return a;let l=a+s>>1,u=o[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==a)return u>=0?a:s;u>=0?s=l:a=l+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),a=this.findIndex(r,1e9,!1,o);o<a;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],a=-1,s=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,f=this.to[l]+e,d,h;if(c==f){let p=n.mapPos(c,u.startSide,u.mapMode);if(p==null||(d=h=p,u.startSide!=u.endSide&&(h=n.mapPos(c,u.endSide),h<d)))continue}else if(d=n.mapPos(c,u.startSide),h=n.mapPos(f,u.endSide),d>h||d==h&&u.startSide>0&&u.endSide<=0)continue;(h-d||u.endSide-u.startSide)<0||(a<0&&(a=d),u.point&&(s=Math.max(s,h-d)),r.push(u),i.push(d-a),o.push(h-a))}return{mapped:r.length?new zF(i,o,r,s):null,pos:a}}}class nr{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new nr(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,a=e.filter;if(n.length==0&&!a)return this;if(r&&(n=n.slice().sort(QD)),this.isEmpty)return n.length?nr.of(n):this;let s=new Oge(this,null,-1).goto(0),l=0,u=[],c=new Yd;for(;s.value||l<n.length;)if(l<n.length&&(s.from-n[l].from||s.startSide-n[l].value.startSide)>=0){let f=n[l++];c.addInner(f.from,f.to,f.value)||u.push(f)}else s.rangeIndex==1&&s.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(s.chunkIndex)<n[l].from)&&(!a||i>this.chunkEnd(s.chunkIndex)||o<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!a||i>s.to||o<s.from||a(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||u.push(iw.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?nr.empty:this.nextLayer.update({add:u,filter:a,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let a=0;a<this.chunk.length;a++){let s=this.chunkPos[a],l=this.chunk[a],u=e.touchesRange(s,s+l.length);if(u===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(s));else if(u===!0){let{mapped:c,pos:f}=l.map(s,e);c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(f))}}let o=this.nextLayer.map(e);return n.length==0?o:new nr(r,n,o||nr.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],a=this.chunk[i];if(n>=o&&e<=o+a.length&&a.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return ow.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return ow.from(e).goto(n)}static compare(e,n,r,i,o=-1){let a=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),s=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),l=OY(a,s,r),u=new mb(a,l,o),c=new mb(s,l,o);r.iterGaps((f,d,h)=>IY(u,f,c,d,h,i)),r.empty&&r.length==0&&IY(u,0,c,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let o=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),a=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(o.length!=a.length)return!1;if(!o.length)return!0;let s=OY(o,a),l=new mb(o,s,0).goto(r),u=new mb(a,s,0).goto(r);for(;;){if(l.to!=u.to||!eN(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,n,r,i,o=-1){let a=new mb(e,null,o).goto(n),s=n,l=a.openStart;for(;;){let u=Math.min(a.to,r);if(a.point){let c=a.activeForPoint(a.to),f=a.pointFrom<n?c.length+1:a.point.startSide<0?c.length:Math.min(c.length,l);i.point(s,u,a.point,c,f,a.pointRank),l=Math.min(a.openEnd(u),c.length)}else u>s&&(i.span(s,u,a.active,l),l=a.openEnd(u));if(a.to>r)return l+(a.point&&a.to>r?1:0);s=a.to,a.next()}}static of(e,n=!1){let r=new Yd;for(let i of e instanceof iw?[e]:n?gst(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return nr.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=nr.empty;i=i.nextLayer)n=new nr(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}nr.empty=new nr([],[],null,-1);function gst(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(QD(e,r)>0)return t.slice().sort(QD);e=r}return t}nr.empty.nextLayer=nr.empty;class Yd{finishChunk(e){this.chunks.push(new zF(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Yd)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(nr.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=nr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function OY(t,e,n){let r=new Map;for(let o of t)for(let a=0;a<o.chunk.length;a++)o.chunk[a].maxPoint<=0&&r.set(o.chunk[a],o.chunkPos[a]);let i=new Set;for(let o of e)for(let a=0;a<o.chunk.length;a++){let s=r.get(o.chunk[a]);s!=null&&(n?n.mapPos(s):s)==o.chunkPos[a]&&!n?.touchesRange(s,s+o.chunk[a].length)&&i.add(o.chunk[a])}return i}class Oge{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class ow{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let a=e[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new Oge(a,n,r,o));return i.length==1?i[0]:new ow(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)a9(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)a9(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),a9(this.heap,0)}}}function a9(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class mb{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ow.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){L5(this.active,e),L5(this.activeTo,e),L5(this.activeRank,e),this.minActive=PY(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&(o-this.activeRank[n]||i-this.activeTo[n])>0;)n++;$5(this.active,n,r),$5(this.activeTo,n,i),$5(this.activeRank,n,o),e&&$5(e,n,this.cursor.from),this.minActive=PY(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&L5(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function IY(t,e,n,r,i,o){t.goto(e),n.goto(r);let a=r+i,s=r,l=r-e;for(;;){let u=t.to+l-n.to,c=u||t.endSide-n.endSide,f=c<0?t.to+l:n.to,d=Math.min(f,a);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&eN(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(s,d,t.point,n.point):d>s&&!eN(t.active,n.active)&&o.compareRange(s,d,t.active,n.active),f>a)break;(u||t.openEnd!=n.openEnd)&&o.boundChange&&o.boundChange(f),s=f,c<=0&&t.next(),c>=0&&n.next()}}function eN(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function L5(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function $5(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function PY(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Ny(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Zo(t,i));return r}function tN(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=Zo(t,i)}return r===!0?-1:t.length}const nN="",RY=typeof Symbol>"u"?"__"+nN:Symbol.for(nN),rN=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),FY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class F0{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function o(a,s,l,u){let c=[],f=/^@(\w+)\b/.exec(a[0]),d=f&&f[1]=="keyframes";if(f&&s==null)return l.push(a[0]+";");for(let h in s){let p=s[h];if(/&/.test(h))o(h.split(/,\s*/).map(m=>a.map(g=>m.replace(/&/,g))).reduce((m,g)=>m.concat(g)),p,l);else if(p&&typeof p=="object"){if(!f)throw new RangeError("The value of a property ("+h+") should be a primitive value.");o(i(h),p,c,d)}else p!=null&&c.push(h.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(c.length||d)&&l.push((r&&!f&&!u?a.map(r):a).join(", ")+" {"+c.join(" ")+"}")}for(let a in e)o(i(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=FY[RY]||1;return FY[RY]=e+1,nN+e.toString(36)}static mount(e,n,r){let i=e[rN],o=r&&r.nonce;i?o&&i.setNonce(o):i=new vst(e,o),i.mount(Array.isArray(n)?n:[n],e)}}let LY=new Map;class vst{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=LY.get(r);if(o)return e[rN]=o;this.sheet=new i.CSSStyleSheet,LY.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[rN]=this}mount(e,n){let r=this.sheet,i=0,o=0;for(let a=0;a<e.length;a++){let s=e[a],l=this.modules.indexOf(s);if(l<o&&l>-1&&(this.modules.splice(l,1),o--,l=-1),l==-1){if(this.modules.splice(o++,0,s),r)for(let u=0;u<s.rules.length;u++)r.insertRule(s.rules[u],i++)}else{for(;o<l;)i+=this.modules[o++].rules.length;i+=s.rules.length,o++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let a="";for(let l=0;l<this.modules.length;l++)a+=this.modules[l].getRules()+`
`;this.styleTag.textContent=a;let s=n.head||n;this.styleTag.parentNode!=s&&s.insertBefore(this.styleTag,s.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Zd={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},aw={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},yst=typeof navigator<"u"&&/Mac/.test(navigator.platform),bst=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Uo=0;Uo<10;Uo++)Zd[48+Uo]=Zd[96+Uo]=String(Uo);for(var Uo=1;Uo<=24;Uo++)Zd[Uo+111]="F"+Uo;for(var Uo=65;Uo<=90;Uo++)Zd[Uo]=String.fromCharCode(Uo+32),aw[Uo]=String.fromCharCode(Uo);for(var s9 in Zd)aw.hasOwnProperty(s9)||(aw[s9]=Zd[s9]);function Ige(t){var e=yst&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||bst&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?aw:Zd)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function Lr(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)Pge(t,arguments[e]);return t}function Pge(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)Pge(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}function sw(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function iN(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function gS(t,e){if(!e.anchorNode)return!1;try{return iN(t,e.anchorNode)}catch{return!1}}function lw(t){return t.nodeType==3?Qm(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function q2(t,e,n,r){return n?$Y(t,e,n,r,-1)||$Y(t,e,n,r,1):!1}function Jm(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function PC(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function $Y(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:ff(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=Jm(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?ff(t):0}else return!1}}function ff(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function l7(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function wst(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function Rge(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function xst(t,e,n,r,i,o,a,s){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t,f=!1;c&&!f;)if(c.nodeType==1){let d,h=c==l.body,p=1,m=1;if(h)d=wst(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(f=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let y=c.getBoundingClientRect();({scaleX:p,scaleY:m}=Rge(c,y)),d={left:y.left,right:y.left+c.clientWidth*p,top:y.top,bottom:y.top+c.clientHeight*m}}let g=0,v=0;if(i=="nearest")e.top<d.top?(v=e.top-(d.top+a),n>0&&e.bottom>d.bottom+v&&(v=e.bottom-d.bottom+a)):e.bottom>d.bottom&&(v=e.bottom-d.bottom+a,n<0&&e.top-v<d.top&&(v=e.top-(d.top+a)));else{let y=e.bottom-e.top,b=d.bottom-d.top;v=(i=="center"&&y<=b?e.top+y/2-b/2:i=="start"||i=="center"&&n<0?e.top-a:e.bottom-b+a)-d.top}if(r=="nearest"?e.left<d.left?(g=e.left-(d.left+o),n>0&&e.right>d.right+g&&(g=e.right-d.right+o)):e.right>d.right&&(g=e.right-d.right+o,n<0&&e.left<d.left+g&&(g=e.left-(d.left+o))):g=(r=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:r=="start"==s?e.left-o:e.right-(d.right-d.left)+o)-d.left,g||v)if(h)u.scrollBy(g,v);else{let y=0,b=0;if(v){let w=c.scrollTop;c.scrollTop+=v/m,b=(c.scrollTop-w)*m}if(g){let w=c.scrollLeft;c.scrollLeft+=g/p,y=(c.scrollLeft-w)*p}e={left:e.left-y,top:e.top-b,right:e.right-y,bottom:e.bottom-b},y&&Math.abs(y-g)<1&&(r="nearest"),b&&Math.abs(b-v)<1&&(i="nearest")}if(h)break;(e.top<d.top||e.bottom>d.bottom||e.left<d.left||e.right>d.right)&&(e={left:Math.max(e.left,d.left),right:Math.min(e.right,d.right),top:Math.max(e.top,d.top),bottom:Math.min(e.bottom,d.bottom)}),c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function Sst(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class _st{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?ff(n):0),r,Math.min(e.focusOffset,r?ff(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let rg=null;function Fge(t){if(t.setActive)return t.setActive();if(rg)return t.focus(rg);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(rg==null?{get preventScroll(){return rg={preventScroll:!0},!0}}:void 0),!rg){rg=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let BY;function Qm(t,e,n=e){let r=BY||(BY=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Jg(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,t.dispatchEvent(o);let a=new KeyboardEvent("keyup",i);return a.synthetic=!0,t.dispatchEvent(a),o.defaultPrevented||a.defaultPrevented}function Cst(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function Lge(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function kst(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,ff(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=ff(n))}else{if(n==t)return!0;r=Jm(n),n=n.parentNode}}function $ge(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function Bge(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=ff(n)}else if(n.parentNode&&!PC(n))r=Jm(n),n=n.parentNode;else return null}}function zge(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!PC(n))r=Jm(n)+1,n=n.parentNode;else return null}}class wa{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new wa(e.parentNode,Jm(e),n)}static after(e,n){return new wa(e.parentNode,Jm(e)+1,n)}}const qF=[];class qr{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,o;for(let a of this.children){if(a.flags&7){if(!a.dom&&(o=i?i.nextSibling:r.firstChild)){let s=qr.get(o);(!s||!s.parent&&s.canReuseDOM(a))&&a.reuseDOM(o)}a.sync(e,n),a.flags&=-8}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=a.dom&&(n.written=!0),a.dom.parentNode==r)for(;o&&o!=a.dom;)o=zY(o);else r.insertBefore(a.dom,o);i=a.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=zY(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=ff(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!qr.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let a=this.children[i];if(a.dom==r)return o;o+=a.length+a.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,o=-1,a=-1,s=-1;for(let l=0,u=r,c=r;l<this.children.length;l++){let f=this.children[l],d=u+f.length;if(u<e&&d>n)return f.domBoundsAround(e,n,u);if(d>=e&&i==-1&&(i=l,o=u),u>n&&f.dom.parentNode==this.dom){a=l,s=c;break}c=d,u=d+f.breakAfter}return{from:o,to:s<0?r+this.length:s,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=qF){this.markDirty();for(let i=e;i<n;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new qge(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,o,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}qr.prototype.breakAfter=0;function zY(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class qge{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function Vge(t,e,n,r,i,o,a,s,l){let{children:u}=t,c=u.length?u[e]:null,f=o.length?o[o.length-1]:null,d=f?f.breakAfter:a;if(!(e==r&&c&&!a&&!d&&o.length<2&&c.merge(n,i,o.length?f:null,n==0,s,l))){if(r<u.length){let h=u[r];h&&(i<h.length||h.breakAfter&&f?.breakAfter)?(e==r&&(h=h.split(i),i=0),!d&&f&&h.merge(0,i,f,!0,0,l)?o[o.length-1]=h:((i||h.children.length&&!h.children[0].length)&&h.merge(0,i,null,!1,0,l),o.push(h))):h?.breakAfter&&(f?f.breakAfter=1:a=1),r++}for(c&&(c.breakAfter=a,n>0&&(!a&&o.length&&c.merge(n,c.length,o[0],!1,s,0)?c.breakAfter=o.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,s,0),e++));e<r&&o.length;)if(u[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:s;else if(u[e].become(o[0]))e++,o.shift(),s=o.length?0:l;else break;!o.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,s,l)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function Hge(t,e,n,r,i,o){let a=t.childCursor(),{i:s,off:l}=a.findPos(n,1),{i:u,off:c}=a.findPos(e,-1),f=e-n;for(let d of r)f+=d.length;t.length+=f,Vge(t,u,c,s,l,r,0,i,o)}let Ns=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},oN=typeof document<"u"?document:{documentElement:{style:{}}};const aN=/Edge\/(\d+)/.exec(Ns.userAgent),Uge=/MSIE \d/.test(Ns.userAgent),sN=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ns.userAgent),u7=!!(Uge||sN||aN),qY=!u7&&/gecko\/(\d+)/i.test(Ns.userAgent),l9=!u7&&/Chrome\/(\d+)/.exec(Ns.userAgent),Est="webkitFontSmoothing"in oN.documentElement.style,jge=!u7&&/Apple Computer/.test(Ns.vendor),VY=jge&&(/Mobile\/\w+/.test(Ns.userAgent)||Ns.maxTouchPoints>2);var At={mac:VY||/Mac/.test(Ns.platform),windows:/Win/.test(Ns.platform),linux:/Linux|X11/.test(Ns.platform),ie:u7,ie_version:Uge?oN.documentMode||6:sN?+sN[1]:aN?+aN[1]:0,gecko:qY,gecko_version:qY?+(/Firefox\/(\d+)/.exec(Ns.userAgent)||[0,0])[1]:0,chrome:!!l9,chrome_version:l9?+l9[1]:0,ios:VY,android:/Android\b/.test(Ns.userAgent),safari:jge,webkit_version:Est?+(/\bAppleWebKit\/(\d+)/.exec(Ns.userAgent)||[0,0])[1]:0,tabSize:oN.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Ast=256;class tc extends qr{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof tc)||this.length-(n-e)+r.length>Ast||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new tc(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new wa(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Tst(this.dom,e,n)}}class Jd extends qr{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(Lge(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,o,a){return r&&(!(r instanceof Jd&&r.mark.eq(this.mark))||e&&o<=0||n<this.length&&a<=0)?!1:(Hge(this,e,n,r?r.children.slice():[],o-1,a-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,o=0;for(let s of this.children){let l=r+s.length;l>e&&n.push(r<e?s.split(e-r):s),i<0&&r>=e&&(i=o),r=l,o++}let a=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Jd(this.mark,n,a)}domAtPos(e){return Wge(this,e)}coordsAt(e,n){return Kge(this,e,n)}}function Tst(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,a=0;e==0&&n<0||e==r&&n>=0?At.chrome||At.gecko||(e?(i--,a=1):o<r&&(o++,a=-1)):n<0?i--:o<r&&o++;let s=Qm(t,i,o).getClientRects();if(!s.length)return null;let l=s[(a?a<0:n>=0)?0:s.length-1];return At.safari&&!a&&l.width==0&&(l=Array.prototype.find.call(s,u=>u.width)||l),a?l7(l,a<0):l||null}class f0 extends qr{static create(e,n,r){return new f0(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=f0.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,o,a){return r&&(!(r instanceof f0)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof f0&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return tr.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):tr.empty}domAtPos(e){return(this.length?e==0:this.side>0)?wa.before(this.dom):wa.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let a=this.side?this.side<0:e>0;for(let s=a?i.length-1:0;o=i[s],!(e>0?s==0:s==i.length-1||o.top<o.bottom);s+=a?-1:1);return l7(o,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class zv extends qr{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof zv&&e.side==this.side}split(){return new zv(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?wa.before(this.dom):wa.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return tr.empty}get isHidden(){return!0}}tc.prototype.children=f0.prototype.children=zv.prototype.children=qF;function Wge(t,e){let n=t.dom,{children:r}=t,i=0;for(let o=0;i<r.length;i++){let a=r[i],s=o+a.length;if(!(s==o&&a.getSide()<=0)){if(e>o&&e<s&&a.dom.parentNode==n)return a.domAtPos(e-o);if(e<=o)break;o=s}}for(let o=i;o>0;o--){let a=r[o-1];if(a.dom.parentNode==n)return a.domAtPos(a.length)}for(let o=i;o<r.length;o++){let a=r[o];if(a.dom.parentNode==n)return a.domAtPos(0)}return new wa(n,0)}function Gge(t,e,n){let r,{children:i}=t;n>0&&e instanceof Jd&&i.length&&(r=i[i.length-1])instanceof Jd&&r.mark.eq(e.mark)?Gge(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function Kge(t,e,n){let r=null,i=-1,o=null,a=-1;function s(u,c){for(let f=0,d=0;f<u.children.length&&d<=c;f++){let h=u.children[f],p=d+h.length;p>=c&&(h.children.length?s(h,c-d):(!o||o.isHidden&&(n>0||Dst(o,h)))&&(p>c||d==p&&h.getSide()>0)?(o=h,a=c-d):(d<c||d==p&&h.getSide()<0&&!h.isHidden)&&(r=h,i=c-d)),d=p}}s(t,e);let l=(n<0?r:o)||r||o;return l?l.coordsAt(Math.max(0,l==r?i:a),n):Mst(t)}function Mst(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=lw(e);return n[n.length-1]||null}function Dst(t,e){let n=t.coordsAt(0,1),r=e.coordsAt(0,1);return n&&r&&r.top<n.bottom}function lN(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const HY=Object.create(null);function RC(t,e,n){if(t==e)return!0;t||(t=HY),e||(e=HY);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(i.indexOf(o)==-1||t[o]!==e[o]))return!1;return!0}function uN(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function Nst(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}let dh=class{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}};var ns=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(ns||(ns={}));let Yt=class extends Zm{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new x4(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new L0(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:a}=Xge(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(a?n?2e8:1:-6e8)+1}return new L0(e,r,i,n,e.widget||null,!0)}static line(e){return new S4(e)}static set(e,n=!1){return nr.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};Yt.none=nr.empty;class x4 extends Yt{constructor(e){let{start:n,end:r}=Xge(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof x4&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&RC(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}x4.prototype.point=!1;class S4 extends Yt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof S4&&this.spec.class==e.spec.class&&RC(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}S4.prototype.mapMode=Ko.TrackBefore;S4.prototype.point=!0;class L0 extends Yt{constructor(e,n,r,i,o,a){super(n,r,o,e),this.block=i,this.isReplace=a,this.mapMode=i?n<=0?Ko.TrackBefore:Ko.TrackAfter:Ko.TrackDel}get type(){return this.startSide!=this.endSide?ns.WidgetRange:this.startSide<=0?ns.WidgetBefore:ns.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof L0&&Ost(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}L0.prototype.point=!0;function Xge(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function Ost(t,e){return t==e||!!(t&&e&&t.compare(e))}function vS(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Yi extends qr{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,o,a){if(r){if(!(r instanceof Yi))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),Hge(this,e,n,r?r.children.slice():[],o,a),!0}split(e){let n=new Yi;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){RC(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){Gge(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=lN(n,this.attrs||{})),r&&(this.attrs=lN({class:r},this.attrs||{}))}domAtPos(e){return Wge(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(Lge(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(uN(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&qr.get(i)instanceof Jd;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=qr.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!At.ios||!this.children.some(o=>o instanceof tc))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof tc)||/[^ -~]/.test(r.text))return null;let i=lw(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=Kge(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let a=(o-i.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(e){return e instanceof Yi&&this.children.length==0&&e.children.length==0&&RC(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],a=i+o.length;if(a>=n){if(o instanceof Yi)return o;if(a>n)break}i=a+o.breakAfter}return null}}class Od extends qr{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,o,a){return r&&(!(r instanceof Od)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?wa.before(this.dom):wa.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new Od(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return qF}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):tr.empty}domBoundsAround(){return null}become(e){return e instanceof Od&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof cN?null:l7(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class cN extends dh{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class V2{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Od&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Yi),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(B5(new zv(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Od)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:s}=this.cursor.next(this.skip);if(this.skip=0,s)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(B5(new tc(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,o,a){if(this.disallowBlockEffectsFor[a]&&r instanceof L0){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=n-e;if(r instanceof L0)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Od(r.widget||qv.block,s,r));else{let l=f0.create(r.widget||qv.inline,s,s?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&o<=i.length&&(e<n||r.startSide>0),c=!l.isEditable&&(e<n||o>i.length||r.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(f.append(B5(new zv(1),i),o),o=i.length+Math.max(0,o-i.length)),f.append(B5(l,i),o),this.atCursorPos=c,this.pendingBuffer=c?e<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,r,i,o){let a=new V2(e,n,r,o);return a.openEnd=nr.spans(i,n,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function B5(t,e){for(let n of e)t=new Jd(n,[t],t.length);return t}class qv extends dh{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}qv.inline=new qv("span");qv.block=new qv("div");var si=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(si||(si={}));const e1=si.LTR,VF=si.RTL;function Yge(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Ist=Yge("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Pst=Yge("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),fN=Object.create(null),_c=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);fN[e]=n,fN[n]=-e}function Zge(t){return t<=247?Ist[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Pst[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Rst=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class d0{get dir(){return this.level%2?VF:e1}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let o=-1;for(let a=0;a<e.length;a++){let s=e[a];if(s.from<=n&&s.to>=n){if(s.level==r)return a;(o<0||(i!=0?i<0?s.from<n:s.to>n:e[o].level>s.level))&&(o=a)}}if(o<0)throw new RangeError("Index out of range");return o}}function Jge(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!Jge(r.inner,i.inner))return!1}return!0}const $r=[];function Fst(t,e,n,r,i){for(let o=0;o<=r.length;o++){let a=o?r[o-1].to:e,s=o<r.length?r[o].from:n,l=o?256:i;for(let u=a,c=l,f=l;u<s;u++){let d=Zge(t.charCodeAt(u));d==512?d=c:d==8&&f==4&&(d=16),$r[u]=d==4?2:d,d&7&&(f=d),c=d}for(let u=a,c=l,f=l;u<s;u++){let d=$r[u];if(d==128)u<s-1&&c==$r[u+1]&&c&24?d=$r[u]=c:$r[u]=256;else if(d==64){let h=u+1;for(;h<s&&$r[h]==64;)h++;let p=u&&c==8||h<n&&$r[h]==8?f==1?1:8:256;for(let m=u;m<h;m++)$r[m]=p;u=h-1}else d==8&&f==1&&($r[u]=1);c=d,d&7&&(f=d)}}}function Lst(t,e,n,r,i){let o=i==1?2:1;for(let a=0,s=0,l=0;a<=r.length;a++){let u=a?r[a-1].to:e,c=a<r.length?r[a].from:n;for(let f=u,d,h,p;f<c;f++)if(h=fN[d=t.charCodeAt(f)])if(h<0){for(let m=s-3;m>=0;m-=3)if(_c[m+1]==-h){let g=_c[m+2],v=g&2?i:g&4?g&1?o:i:0;v&&($r[f]=$r[_c[m]]=v),s=m;break}}else{if(_c.length==189)break;_c[s++]=f,_c[s++]=d,_c[s++]=l}else if((p=$r[f])==2||p==1){let m=p==i;l=m?0:1;for(let g=s-3;g>=0;g-=3){let v=_c[g+2];if(v&2)break;if(m)_c[g+2]|=2;else{if(v&4)break;_c[g+2]|=4}}}}}function $st(t,e,n,r){for(let i=0,o=r;i<=n.length;i++){let a=i?n[i-1].to:t,s=i<n.length?n[i].from:e;for(let l=a;l<s;){let u=$r[l];if(u==256){let c=l+1;for(;;)if(c==s){if(i==n.length)break;c=n[i++].to,s=i<n.length?n[i].from:e}else if($r[c]==256)c++;else break;let f=o==1,d=(c<e?$r[c]:r)==1,h=f==d?f?1:2:r;for(let p=c,m=i,g=m?n[m-1].to:t;p>l;)p==g&&(p=n[--m].from,g=m?n[m-1].to:t),$r[--p]=h;l=c}else o=u,l++}}}function dN(t,e,n,r,i,o,a){let s=r%2?2:1;if(r%2==i%2)for(let l=e,u=0;l<n;){let c=!0,f=!1;if(u==o.length||l<o[u].from){let m=$r[l];m!=s&&(c=!1,f=m==16)}let d=!c&&s==1?[]:null,h=c?r:r+1,p=l;e:for(;;)if(u<o.length&&p==o[u].from){if(f)break e;let m=o[u];if(!c)for(let g=m.to,v=u+1;;){if(g==n)break e;if(v<o.length&&o[v].from==g)g=o[v++].to;else{if($r[g]==s)break e;break}}if(u++,d)d.push(m);else{m.from>l&&a.push(new d0(l,m.from,h));let g=m.direction==e1!=!(h%2);hN(t,g?r+1:r,i,m.inner,m.from,m.to,a),l=m.to}p=m.to}else{if(p==n||(c?$r[p]!=s:$r[p]==s))break;p++}d?dN(t,l,p,r+1,i,d,a):l<p&&a.push(new d0(l,p,h)),l=p}else for(let l=n,u=o.length;l>e;){let c=!0,f=!1;if(!u||l>o[u-1].to){let m=$r[l-1];m!=s&&(c=!1,f=m==16)}let d=!c&&s==1?[]:null,h=c?r:r+1,p=l;e:for(;;)if(u&&p==o[u-1].to){if(f)break e;let m=o[--u];if(!c)for(let g=m.from,v=u;;){if(g==e)break e;if(v&&o[v-1].to==g)g=o[--v].from;else{if($r[g-1]==s)break e;break}}if(d)d.push(m);else{m.to<l&&a.push(new d0(m.to,l,h));let g=m.direction==e1!=!(h%2);hN(t,g?r+1:r,i,m.inner,m.from,m.to,a),l=m.from}p=m.from}else{if(p==e||(c?$r[p-1]!=s:$r[p-1]==s))break;p--}d?dN(t,p,l,r+1,i,d,a):p<l&&a.push(new d0(p,l,h)),l=p}}function hN(t,e,n,r,i,o,a){let s=e%2?2:1;Fst(t,i,o,r,s),Lst(t,i,o,r,s),$st(i,o,r,s),dN(t,i,o,e,n,r,a)}function Bst(t,e,n){if(!t)return[new d0(0,0,e==VF?1:0)];if(e==e1&&!n.length&&!Rst.test(t))return Qge(t.length);if(n.length)for(;t.length>$r.length;)$r[$r.length]=256;let r=[],i=e==e1?0:1;return hN(t,i,i,n,0,t.length,r),r}function Qge(t){return[new d0(0,t,0)]}let eve="";function zst(t,e,n,r,i){var o;let a=r.head-t.from,s=d0.find(e,a,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),l=e[s],u=l.side(i,n);if(a==u){let d=s+=i?1:-1;if(d<0||d>=e.length)return null;l=e[s=d],a=l.side(!i,n),u=l.side(i,n)}let c=Zo(t.text,a,l.forward(i,n));(c<l.from||c>l.to)&&(c=u),eve=t.text.slice(Math.min(a,c),Math.max(a,c));let f=s==(i?e.length-1:0)?null:e[s+(i?1:-1)];return f&&c==u&&f.level+(i?0:1)<l.level?Qe.cursor(f.side(!i,n)+t.from,f.forward(i,n)?1:-1,f.level):Qe.cursor(c+t.from,l.forward(i,n)?-1:1,l.level)}function qst(t,e,n){for(let r=e;r<n;r++){let i=Zge(t.charCodeAt(r));if(i==1)return e1;if(i==2||i==4)return VF}return e1}const tve=Et.define(),nve=Et.define(),rve=Et.define(),ive=Et.define(),pN=Et.define(),ove=Et.define(),ave=Et.define(),HF=Et.define(),UF=Et.define(),sve=Et.define({combine:t=>t.some(e=>e)}),lve=Et.define({combine:t=>t.some(e=>e)}),uve=Et.define();class Qg{constructor(e,n="nearest",r="nearest",i=5,o=5,a=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=a}map(e){return e.empty?this:new Qg(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Qg(Qe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const z5=xn.define({map:(t,e)=>t.map(e)}),cve=xn.define();function Fs(t,e,n){let r=t.facet(ive);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const gd=Et.define({combine:t=>t.length?t[0]:!0});let Vst=0;const Pg=Et.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class io{constructor(e,n,r,i,o){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=o(this),this.extension=this.baseExtensions.concat(Pg.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Pg.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:o,decorations:a}=n||{};return new io(Vst++,e,r,i,s=>{let l=[];return a&&l.push(uw.of(u=>{let c=u.plugin(s);return c?a(c):Yt.none})),o&&l.push(o(s)),l})}static fromClass(e,n){return io.define((r,i)=>new e(r,i),n)}}class u9{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Fs(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){Fs(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Fs(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const fve=Et.define(),jF=Et.define(),uw=Et.define(),dve=Et.define(),WF=Et.define(),hve=Et.define();function UY(t,e){let n=t.state.facet(hve);if(!n.length)return n;let r=n.map(o=>o instanceof Function?o(t):o),i=[];return nr.spans(r,e.from,e.to,{point(){},span(o,a,s,l){let u=o-e.from,c=a-e.from,f=i;for(let d=s.length-1;d>=0;d--,l--){let h=s[d].spec.bidiIsolate,p;if(h==null&&(h=qst(e.text,u,c)),l>0&&f.length&&(p=f[f.length-1]).to==u&&p.direction==h)p.to=c,f=p.inner;else{let m={from:u,to:c,direction:h,inner:[]};f.push(m),f=m.inner}}}}),i}const pve=Et.define();function GF(t){let e=0,n=0,r=0,i=0;for(let o of t.state.facet(pve)){let a=o(t);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(n=Math.max(n,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(i=Math.max(i,a.bottom)))}return{left:e,right:n,top:r,bottom:i}}const qb=Et.define();class uu{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new uu(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,a=0,s=0;;i++){let l=i==e.length?null:e[i],u=a-s,c=l?l.fromB:1e9;for(;o<n.length&&n[o]<c;){let f=n[o],d=n[o+1],h=Math.max(s,f),p=Math.min(c,d);if(h<=p&&new uu(h+u,p+u,h,p).addToSet(r),d>c)break;o+=2}if(!l)return r;new uu(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),a=l.toA,s=l.toB}}}class FC{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=lo.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,a,s,l)=>i.push(new uu(o,a,s,l))),this.changedRanges=i}static create(e,n,r){return new FC(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class jY extends qr{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Yt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Yi],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new uu(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!Xst(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?Ust(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;r=new uu(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(At.ie||At.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,s=this.updateDeco(),l=Gst(a,s,e.changes);return r=uu.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=At.chrome||At.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||i.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof Od&&a.widget instanceof cN&&o.push(a.dom);i.updateGaps(o)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(n);for(let a=i.length-1;;a--){let s=a>=0?i[a]:null;if(!s)break;let{fromA:l,toA:u,fromB:c,toB:f}=s,d,h,p,m;if(r&&r.range.fromB<f&&r.range.toB>c){let w=V2.build(this.view.state.doc,c,r.range.fromB,this.decorations,this.dynamicDecorationMap),x=V2.build(this.view.state.doc,r.range.toB,f,this.decorations,this.dynamicDecorationMap);h=w.breakAtStart,p=w.openStart,m=x.openEnd;let S=this.compositionView(r);x.breakAtStart?S.breakAfter=1:x.content.length&&S.merge(S.length,S.length,x.content[0],!1,x.openStart,0)&&(S.breakAfter=x.content[0].breakAfter,x.content.shift()),w.content.length&&S.merge(0,0,w.content[w.content.length-1],!0,0,w.openEnd)&&w.content.pop(),d=w.content.concat(S).concat(x.content)}else({content:d,breakAtStart:h,openStart:p,openEnd:m}=V2.build(this.view.state.doc,c,f,this.decorations,this.dynamicDecorationMap));let{i:g,off:v}=o.findPos(u,1),{i:y,off:b}=o.findPos(l,-1);Vge(this,y,b,g,v,d,h,p,m)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(cve)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new tc(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new Jd(i,[n],n.length);let r=new Yi;return r.append(n,0),r}fixCompositionDOM(e){let n=(o,a)=>{a.flags|=8|(a.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(a);let s=qr.get(o);s&&s!=a&&(s.dom=null),a.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],n(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&!(this.view.state.facet(gd)||this.dom.tabIndex>-1)&&gS(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||o))return;let a=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(s.anchor)),u=s.empty?l:this.moveToLine(this.domAtPos(s.head));if(At.gecko&&s.empty&&!this.hasComposition&&Hst(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=u=new wa(f,0),a=!0}let c=this.view.observer.selectionRange;(a||!c.focusNode||(!q2(l.node,l.offset,c.anchorNode,c.anchorOffset)||!q2(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,s))&&(this.view.observer.ignore(()=>{At.android&&At.chrome&&this.dom.contains(c.focusNode)&&Kst(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=sw(this.view.root);if(f)if(s.empty){if(At.gecko){let d=jst(l.node,l.offset);if(d&&d!=3){let h=(d==1?Bge:zge)(l.node,l.offset);h&&(l=new wa(h.node,h.offset))}}f.collapse(l.node,l.offset),s.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=s.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(u.node,u.offset)}catch{}}else{let d=document.createRange();s.anchor>s.head&&([l,u]=[u,l]),d.setEnd(u.node,u.offset),d.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(d)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new wa(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new wa(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&q2(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=sw(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let a=Yi.find(this,n.head);if(!a)return;let s=a.posAtStart;if(n.head==s||n.head==s+a.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(n.head+n.assoc);r.collapse(c.node,c.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&r.collapse(i,o)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let o=qr.get(n.childNodes[i]);o instanceof Yi&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=qr.get(n.childNodes[i]);o instanceof Yi&&(r=o.domAtPos(o.length))}return r?new wa(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=qr.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof Yi)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let o=this.length,a=this.children.length-1;a>=0;a--){let s=this.children[a],l=o-s.breakAfter,u=l-s.length;if(l<e)break;if(u<=e&&(u<e||s.covers(-1))&&(l>e||s.covers(1))&&(!r||s instanceof Yi&&!(r instanceof Yi&&n>=0)))r=s,i=u;else if(r&&u==e&&l==e&&s instanceof Od&&Math.abs(n)<2){if(s.deco.startSide<0)break;a&&(r=null)}o=u}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof Yi))return null;for(;i.children.length;){let{i:s,off:l}=i.childPos(r,1);for(;;s++){if(s==i.children.length)return null;if((i=i.children[s]).length)break}r=l}if(!(i instanceof tc))return null;let o=Zo(i.text,r);if(o==r)return null;let a=Qm(i.dom,r,o).getClientRects();for(let s=0;s<a.length;s++){let l=a[s];if(s==a.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,a=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,l=this.view.textDirection==si.LTR;for(let u=0,c=0;c<this.children.length;c++){let f=this.children[c],d=u+f.length;if(d>i)break;if(u>=r){let h=f.dom.getBoundingClientRect();if(n.push(h.height),a){let p=f.dom.lastChild,m=p?lw(p):[];if(m.length){let g=m[m.length-1],v=l?g.right-h.left:h.right-g.left;v>s&&(s=v,this.minWidth=o,this.minWidthFrom=u,this.minWidthTo=d)}}}u=d+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?si.RTL:si.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Yi){let a=o.measureTextSize();if(a)return a}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=lw(e.firstChild)[0];n=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new qge(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],a=o?o.from-1:this.length;if(a>r){let s=(n.lineBlockAt(a).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Yt.replace({widget:new cN(s),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!o)break;r=o.to+1}return Yt.set(e)}updateDeco(){let e=1,n=this.view.state.facet(uw).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(dve).map((o,a)=>{let s=typeof o=="function";return s&&(r=!0),s?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(nr.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(uve))try{if(u(this.view,e.range,e))return!0}catch(c){Fs(this.view.state,c,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=GF(this.view),a={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:s,offsetHeight:l}=this.view.scrollDOM;xst(this.view.scrollDOM,a,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,s),-s),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==si.LTR)}}function Hst(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function mve(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=Bge(n.focusNode,n.focusOffset),i=zge(n.focusNode,n.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let s=qr.get(i.node);if(!s||s instanceof tc&&s.text!=i.node.nodeValue)o=i;else if(t.docView.lastCompositionAfterCursor){let l=qr.get(r.node);!l||l instanceof tc&&l.text!=r.node.nodeValue||(o=i)}}if(t.docView.lastCompositionAfterCursor=o!=r,!o)return null;let a=e-o.offset;return{from:a,to:a+o.node.nodeValue.length,node:o.node}}function Ust(t,e,n){let r=mve(t,n);if(!r)return null;let{node:i,from:o,to:a}=r,s=i.nodeValue;if(/[\n\r]/.test(s)||t.state.doc.sliceString(r.from,r.to)!=s)return null;let l=e.invertedDesc,u=new uu(l.mapPos(o),l.mapPos(a),o,a),c=[];for(let f=i.parentNode;;f=f.parentNode){let d=qr.get(f);if(d instanceof Jd)c.push({node:f,deco:d.mark});else{if(d instanceof Yi||f.nodeName=="DIV"&&f.parentNode==t.contentDOM)return{range:u,text:i,marks:c,line:f};if(f!=t.contentDOM)c.push({node:f,deco:new x4({inclusive:!0,attributes:Nst(f),tagName:f.tagName.toLowerCase()})});else return null}}}function jst(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let Wst=class{constructor(){this.changes=[]}compareRange(e,n){vS(e,n,this.changes)}comparePoint(e,n){vS(e,n,this.changes)}boundChange(e){vS(e,e,this.changes)}};function Gst(t,e,n){let r=new Wst;return nr.compare(t,e,n,r),r.changes}function Kst(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function Xst(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function Yst(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return Qe.cursor(e);o==0?n=1:o==i.length&&(n=-1);let a=o,s=o;n<0?a=Zo(i.text,o,!1):s=Zo(i.text,o);let l=r(i.text.slice(a,s));for(;a>0;){let u=Zo(i.text,a,!1);if(r(i.text.slice(u,a))!=l)break;a=u}for(;s<i.length;){let u=Zo(i.text,s);if(r(i.text.slice(s,u))!=l)break;s=u}return Qe.range(a+i.from,s+i.from)}function Zst(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Jst(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function c9(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function WY(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function GY(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function mN(t,e,n){let r,i,o,a,s=!1,l,u,c,f;for(let p=t.firstChild;p;p=p.nextSibling){let m=lw(p);for(let g=0;g<m.length;g++){let v=m[g];i&&c9(i,v)&&(v=WY(GY(v,i.bottom),i.top));let y=Zst(e,v),b=Jst(n,v);if(y==0&&b==0)return p.nodeType==3?KY(p,e,n):mN(p,e,n);(!r||a>b||a==b&&o>y)&&(r=p,i=v,o=y,a=b,s=y?e<v.left?g>0:g<m.length-1:!0),y==0?n>v.bottom&&(!c||c.bottom<v.bottom)?(l=p,c=v):n<v.top&&(!f||f.top>v.top)&&(u=p,f=v):c&&c9(c,v)?c=GY(c,v.bottom):f&&c9(f,v)&&(f=WY(f,v.top))}}if(c&&c.bottom>=n?(r=l,i=c):f&&f.top<=n&&(r=u,i=f),!r)return{node:t,offset:0};let d=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return KY(r,d,n);if(s&&r.contentEditable!="false")return mN(r,d,n);let h=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:h}}function KY(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,a=0;for(let s=0;s<r;s++){let l=Qm(t,s,s+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;a||(a=e-c.left);let f=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&f<o){let d=e>=(c.left+c.right)/2,h=d;if((At.chrome||At.gecko)&&Qm(t,s).getBoundingClientRect().left==c.right&&(h=!d),f<=0)return{node:t,offset:s+(h?1:0)};i=s+(h?1:0),o=f}}}return{node:t,offset:i>-1?i:a>0?t.nodeValue.length:0}}function gve(t,e,n,r=-1){var i,o;let a=t.contentDOM.getBoundingClientRect(),s=a.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:f}=e,d=f-s;if(d<0)return 0;if(d>u)return t.state.doc.length;for(let w=t.viewState.heightOracle.textHeight/2,x=!1;l=t.elementAtHeight(d),l.type!=ns.Text;)for(;d=r>0?l.bottom+w:l.top-w,!(d>=0&&d<=u);){if(x)return n?null:0;x=!0,r=-r}f=s+d;let h=l.from;if(h<t.viewport.from)return t.viewport.from==0?0:n?null:XY(t,a,l,c,f);if(h>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:XY(t,a,l,c,f);let p=t.dom.ownerDocument,m=t.root.elementFromPoint?t.root:p,g=m.elementFromPoint(c,f);g&&!t.contentDOM.contains(g)&&(g=null),g||(c=Math.max(a.left+1,Math.min(a.right-1,c)),g=m.elementFromPoint(c,f),g&&!t.contentDOM.contains(g)&&(g=null));let v,y=-1;if(g&&((i=t.docView.nearest(g))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let w=p.caretPositionFromPoint(c,f);w&&({offsetNode:v,offset:y}=w)}else if(p.caretRangeFromPoint){let w=p.caretRangeFromPoint(c,f);w&&({startContainer:v,startOffset:y}=w,(!t.contentDOM.contains(v)||At.safari&&Qst(v,y,c)||At.chrome&&elt(v,y,c))&&(v=void 0))}v&&(y=Math.min(ff(v),y))}if(!v||!t.docView.dom.contains(v)){let w=Yi.find(t.docView,h);if(!w)return d>l.top+l.height/2?l.to:l.from;({node:v,offset:y}=mN(w.dom,c,f))}let b=t.docView.nearest(v);if(!b)return null;if(b.isWidget&&((o=b.dom)===null||o===void 0?void 0:o.nodeType)==1){let w=b.dom.getBoundingClientRect();return e.y<w.top||e.y<=w.bottom&&e.x<=(w.left+w.right)/2?b.posAtStart:b.posAtEnd}else return b.localPosFromDOM(v,y)+b.posAtStart}function XY(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let s=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-s)*.5)/s);o+=l*t.viewState.heightOracle.lineLength}let a=t.state.sliceDoc(n.from,n.to);return n.from+tN(a,o,t.state.tabSize)}function Qst(t,e,n){let r,i=t;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(;;){let o=i.nextSibling;if(o){if(o.nodeName=="BR")break;return!1}else{let a=i.parentNode;if(!a||a.nodeName=="DIV")break;i=a}}return Qm(t,r-1,r).getBoundingClientRect().right>n}function elt(t,e,n){if(e!=0)return!1;for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=t.nodeType==1?t.getBoundingClientRect():Qm(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function gN(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let o of r.type){if(o.from>e)break;if(!(o.to<e)){if(o.from<e&&o.to>e)return o;(!i||o.type==ns.Text&&(i.type!=o.type||(n<0?o.from<e:o.to>e)))&&(i=o)}}return i||r}return r}function tlt(t,e,n,r){let i=gN(t,e.head,e.assoc||-1),o=!r||i.type!=ns.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let a=t.dom.getBoundingClientRect(),s=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(s==si.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(l!=null)return Qe.cursor(l,n?-1:1)}return Qe.cursor(n?i.to:i.from,n?-1:1)}function YY(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),a=t.textDirectionAt(i.from);for(let s=e,l=null;;){let u=zst(i,o,a,s,n),c=eve;if(!u){if(i.number==(n?t.state.doc.lines:1))return s;c=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),u=t.visualLineSide(i,!n)}if(l){if(!l(c))return s}else{if(!r)return u;l=r(c)}s=u}}function nlt(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let a=r(o);return i==mi.Space&&(i=a),i==a}}function rlt(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return Qe.cursor(i,e.assoc);let a=e.goalColumn,s,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i,e.assoc||-1),c=t.documentTop;if(u)a==null&&(a=u.left-l.left),s=o<0?u.top:u.bottom;else{let h=t.viewState.lineBlockAt(i);a==null&&(a=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-h.from))),s=(o<0?h.top:h.bottom)+c}let f=l.left+a,d=r??t.viewState.heightOracle.textHeight>>1;for(let h=0;;h+=10){let p=s+(d+h)*o,m=gve(t,{x:f,y:p},!1,o);if(p<l.top||p>l.bottom||(o<0?m<i:m>i)){let g=t.docView.coordsForChar(m),v=!g||p<g.top?-1:1;return Qe.cursor(m,v,void 0,a)}}}function yS(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(o,a,s)=>{if(e>o&&e<a){let l=r||n||(e-o<a-e?-1:1);e=l<0?o:a,r=l}});if(!r)return e}}function f9(t,e,n){let r=yS(t.state.facet(WF).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:Qe.cursor(r,r<n.from?1:-1)}const Vb="";class ilt{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(gi.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Vb}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let a=i.nextSibling;if(a==n)break;let s=qr.get(i),l=qr.get(a);(s&&l?s.breakAfter:(s?s.breakAfter:PC(i))||PC(a)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=a}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,a=1,s;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(s=i.exec(n))&&(o=s.index,a=s[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),a>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=a-1);r=o+a}}readNode(e){if(e.cmIgnore)return;let n=qr.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(olt(e,r.node,r.offset)?n:0))}}function olt(t,e,n){for(;;){if(!e||n<ff(e))return!1;if(e==t)return!0;n=Jm(e)+1,e=e.parentNode}}class ZY{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class alt{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:o,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let s=o||a?[]:ult(e),l=new ilt(s,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=clt(s,this.bounds.from)}else{let s=e.observer.selectionRange,l=o&&o.node==s.focusNode&&o.offset==s.focusOffset||!iN(e.contentDOM,s.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(s.focusNode,s.focusOffset),u=a&&a.node==s.anchorNode&&a.offset==s.anchorOffset||!iN(e.contentDOM,s.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(s.anchorNode,s.anchorOffset),c=e.viewport;if((At.ios||At.chrome)&&e.state.selection.main.empty&&l!=u&&(c.from>0||c.to<e.state.doc.length)){let f=Math.min(l,u),d=Math.max(l,u),h=c.from-f,p=c.to-d;(h==0||h==1||f==0)&&(p==0||p==-1||d==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=Qe.single(u,l)}}}function vve(t,e){let n,{newSel:r}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:s}=e.bounds,l=i.from,u=null;(o===8||At.android&&e.text.length<s-a)&&(l=i.to,u="end");let c=llt(t.state.doc.sliceString(a,s,Vb),e.text,l-a,u);c&&(At.chrome&&o==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Vb+Vb&&c.toB--,n={from:a+c.from,to:a+c.toA,insert:tr.of(e.text.slice(c.from,c.toB).split(Vb))})}else r&&(!t.hasFocus&&t.state.facet(gd)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(At.mac||At.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Qe.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:tr.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:At.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Qe.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:tr.of([" "])}),n)return KF(t,n,r,o);if(r&&!r.main.eq(i)){let a=!1,s="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(a=!0),s=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:a,userEvent:s}),!0}else return!1}function KF(t,e,n,r=-1){if(At.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(At.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Jg(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Jg(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Jg(t.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a,s=()=>a||(a=slt(t,e,n));return t.state.facet(ove).some(l=>l(t,e.from,e.to,o,s))||t.dispatch(s()),!0}function slt(t,e,n){let r,i=t.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let s=o.from<e.from?i.sliceDoc(o.from,e.from):"",l=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(t.state.toText(s+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let s=i.changes(e),l=n&&n.main.to<=s.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let u=t.state.sliceDoc(e.from,e.to),c,f=n&&mve(t,n.main.head);if(f){let p=e.insert.length-(e.to-e.from);c={from:f.from,to:f.to-p}}else c=t.state.doc.lineAt(o.head);let d=o.to-e.to,h=o.to-o.from;r=i.changeByRange(p=>{if(p.from==o.from&&p.to==o.to)return{changes:s,range:l||p.map(s)};let m=p.to-d,g=m-u.length;if(p.to-p.from!=h||t.state.sliceDoc(g,m)!=u||p.to>=c.from&&p.from<=c.to)return{range:p};let v=i.changes({from:g,to:m,insert:e.insert}),y=p.to-o.to;return{changes:v,range:l?Qe.range(Math.max(0,l.anchor+y),Math.max(0,l.head+y)):p.map(v)}})}else r={changes:s,selection:l&&i.selection.replaceRange(l)}}let a="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:a,scrollIntoView:!0})}function llt(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let a=t.length,s=e.length;for(;a>0&&s>0&&t.charCodeAt(a-1)==e.charCodeAt(s-1);)a--,s--;if(r=="end"){let l=Math.max(0,o-Math.min(a,s));n-=a+l-o}if(a<o&&t.length<e.length){let l=n<=o&&n>=a?o-n:0;o-=l,s=o+(s-a),a=o}else if(s<o){let l=n<=o&&n>=s?o-n:0;o-=l,a=o+(a-s),s=o}return{from:o,toA:a,toB:s}}function ult(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new ZY(n,r)),(i!=n||o!=r)&&e.push(new ZY(i,o))),e}function clt(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Qe.single(n+e,r+e):null}let flt=class{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,At.safari&&e.contentDOM.addEventListener("input",()=>null),At.gecko&&Alt(e.contentDOM.ownerDocument)}handleEvent(e){!blt(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=dlt(e),r=this.handlers,i=this.view.contentDOM;for(let o in n)if(o!="scroll"){let a=!n[o].handlers.length,s=r[o];s&&a!=!s.handlers.length&&(i.removeEventListener(o,this.handleEvent),s=null),s||i.addEventListener(o,this.handleEvent,{passive:a})}for(let o in r)o!="scroll"&&!n[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&bve.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),At.android&&At.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return At.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=yve.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||hlt.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Jg(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:At.safari&&!At.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function JY(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){Fs(n.state,i)}}}function dlt(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,o=i&&i.plugin.domEventHandlers,a=i&&i.plugin.domEventObservers;if(o)for(let s in o){let l=o[s];l&&n(s).handlers.push(JY(r.value,l))}if(a)for(let s in a){let l=a[s];l&&n(s).observers.push(JY(r.value,l))}}for(let r in nc)n(r).handlers.push(nc[r]);for(let r in yu)n(r).observers.push(yu[r]);return e}const yve=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],hlt="dthko",bve=[16,17,18,20,91,92,224,225],q5=6;function V5(t){return Math.max(0,t)*.7+8}function plt(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class mlt{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=Sst(e.contentDOM),this.atoms=e.state.facet(WF).map(a=>a(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(gi.allowMultipleSelections)&&glt(e,n),this.dragging=ylt(e,n)&&Sve(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&plt(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,o=0,a=this.view.win.innerWidth,s=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:s}=this.scrollParents.y.getBoundingClientRect());let l=GF(this.view);e.clientX-l.left<=i+q5?n=-V5(i-e.clientX):e.clientX+l.right>=a-q5&&(n=V5(e.clientX-a)),e.clientY-l.top<=o+q5?r=-V5(o-e.clientY):e.clientY+l.bottom>=s-q5&&(r=V5(e.clientY-s)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let a=yS(this.atoms,i.from,0);a!=i.from&&(o=Qe.cursor(a,-1))}else{let a=yS(this.atoms,i.from,-1),s=yS(this.atoms,i.to,1);(a!=i.from||s!=i.to)&&(o=Qe.range(i.from==i.anchor?a:s,i.from==i.head?a:s))}o&&(n||(n=e.ranges.slice()),n[r]=o)}return n?Qe.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function glt(t,e){let n=t.state.facet(tve);return n.length?n[0](e):At.mac?e.metaKey:e.ctrlKey}function vlt(t,e){let n=t.state.facet(nve);return n.length?n[0](e):At.mac?!e.altKey:!e.ctrlKey}function ylt(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=sw(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let a=i[o];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function blt(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=qr.get(n))&&r.ignoreEvent(e))return!1;return!0}const nc=Object.create(null),yu=Object.create(null),wve=At.ie&&At.ie_version<15||At.ios&&At.webkit_version<604;function wlt(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),xve(t,n.value)},50)}function c7(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function xve(t,e){e=c7(t.state,HF,e);let{state:n}=t,r,i=1,o=n.toText(e),a=o.lines==n.selection.ranges.length;if(vN!=null&&n.selection.ranges.every(l=>l.empty)&&vN==o.toString()){let l=-1;r=n.changeByRange(u=>{let c=n.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let f=n.toText((a?o.line(i++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:f},range:Qe.cursor(u.from+f.length)}})}else a?r=n.changeByRange(l=>{let u=o.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:Qe.cursor(l.from+u.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}yu.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};nc.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);yu.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};yu.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};nc.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(rve))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=_lt(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new mlt(t,e,n,r)),r&&t.observer.ignore(()=>{Fge(t.contentDOM);let o=t.root.activeElement;o&&!o.contains(t.contentDOM)&&o.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function QY(t,e,n,r){if(r==1)return Qe.cursor(e,n);if(r==2)return Yst(t.state,e,n);{let i=Yi.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),a=i?i.posAtStart:o.from,s=i?i.posAtEnd:o.to;return s<t.state.doc.length&&s==o.to&&s++,Qe.range(a,s)}}let eZ=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function xlt(t,e,n,r){let i=Yi.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let a=i.coordsAt(o,-1);if(a&&eZ(n,r,a))return-1;let s=i.coordsAt(o,1);return s&&eZ(n,r,s)?1:a&&a.bottom>=r?-1:1}function tZ(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:xlt(t,n,e.clientX,e.clientY)}}const Slt=At.ie&&At.ie_version<=11;let nZ=null,rZ=0,iZ=0;function Sve(t){if(!Slt)return t.detail;let e=nZ,n=iZ;return nZ=t,iZ=Date.now(),rZ=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(rZ+1)%3:1}function _lt(t,e){let n=tZ(t,e),r=Sve(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,a,s){let l=tZ(t,o),u,c=QY(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!a){let f=QY(t,n.pos,n.bias,r),d=Math.min(f.from,c.from),h=Math.max(f.to,c.to);c=d<c.from?Qe.range(d,h):Qe.range(h,d)}return a?i.replaceRange(i.main.extend(c.from,c.to)):s&&r==1&&i.ranges.length>1&&(u=Clt(i,l.pos))?u:s?i.addRange(c):Qe.create([c])}}}function Clt(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return Qe.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}nc.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,a=o+i.length;(o>=n.to||a<=n.from)&&(n=Qe.range(o,a))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",c7(t.state,UF,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};nc.dragend=t=>(t.inputState.draggedContent=null,!1);function oZ(t,e,n,r){if(n=c7(t.state,HF,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,a=r&&o&&vlt(t,e)?{from:o.from,to:o.to}:null,s={from:i,insert:n},l=t.state.changes(a?[a,s]:s);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"}),t.inputState.draggedContent=null}nc.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&oZ(t,e,r.filter(a=>a!=null).join(t.state.lineBreak),!1)};for(let a=0;a<n.length;a++){let s=new FileReader;s.onerror=o,s.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(s.result)||(r[a]=s.result),o()},s.readAsText(n[a])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return oZ(t,e,r,!0),!0}return!1};nc.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=wve?null:e.clipboardData;return n?(xve(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(wlt(t),!1)};function klt(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function Elt(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let a=t.doc.lineAt(o);a.number>i&&(e.push(a.text),n.push({from:a.from,to:Math.min(t.doc.length,a.to+1)})),i=a.number}r=!0}return{text:c7(t,UF,e.join(t.lineBreak)),ranges:n,linewise:r}}let vN=null;nc.copy=nc.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=Elt(t.state);if(!n&&!i)return!1;vN=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=wve?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(klt(t,n),!1)};const _ve=fh.define();function Cve(t,e){let n=[];for(let r of t.facet(ave)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:_ve.of(!0)}):null}function kve(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=Cve(t.state,e);n?t.dispatch(n):t.update([])}},10)}yu.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),kve(t)};yu.blur=t=>{t.observer.clearSelectionRange(),kve(t)};yu.compositionstart=yu.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};yu.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,At.chrome&&At.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};yu.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};nc.beforeinput=(t,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let o=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),a=e.getTargetRanges();if(o&&a.length){let s=a[0],l=t.posAtDOM(s.startContainer,s.startOffset),u=t.posAtDOM(s.endContainer,s.endOffset);return KF(t,{from:l,to:u,insert:t.state.toText(o)},null),!0}}let i;if(At.chrome&&At.android&&(i=yve.find(o=>o.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>o+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return At.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),At.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>yu.compositionend(t,e),20),!1};const aZ=new Set;function Alt(t){aZ.has(t)||(aZ.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const sZ=["pre-wrap","normal","pre-line","break-spaces"];let Vv=!1;function lZ(){Vv=!1}class Tlt{constructor(e){this.lineWrapping=e,this.doc=tr.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return sZ.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,a){let s=sZ.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,l){this.heightSamples={};for(let u=0;u<a.length;u++){let c=a[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class Mlt{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class zc{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?ns.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof L0?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new zc(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var ii=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(ii||(ii={}));const bS=.001;class rs{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>bS&&(Vv=!0),this.height=e)}replace(e,n,r){return rs.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,a=r.doc;for(let s=i.length-1;s>=0;s--){let{fromA:l,toA:u,fromB:c,toB:f}=i[s],d=o.lineAt(l,ii.ByPosNoHeight,r.setDoc(n),0,0),h=d.to>=u?d:o.lineAt(u,ii.ByPosNoHeight,r,0,0);for(f+=h.to-u,u=h.to;s>0&&d.from<=i[s-1].toA;)l=i[s-1].fromA,c=i[s-1].fromB,s--,l<d.from&&(d=o.lineAt(l,ii.ByPosNoHeight,r,0,0));c+=d.from-l,l=d.from;let p=XF.build(r.setDoc(a),e,c,f);o=LC(o,o.replace(l,u,p))}return o.updateHeight(r,0)}static empty(){return new fl(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let s=e[n-1];s.break?e.splice(--n,1,s.left,null,s.right):e.splice(--n,1,s.left,s.right),r+=1+s.break,i-=s.size}else if(o>i*2){let s=e[r];s.break?e.splice(r,1,s.left,null,s.right):e.splice(r,1,s.left,s.right),r+=2+s.break,o-=s.size}else break;else if(i<o){let s=e[n++];s&&(i+=s.size)}else{let s=e[--r];s&&(o+=s.size)}let a=0;return e[n-1]==null?(a=1,n--):e[n]==null&&(a=1,r++),new Dlt(rs.of(e.slice(0,n)),a,rs.of(e.slice(r)))}}function LC(t,e){return t==e?t:(t.constructor!=e.constructor&&(Vv=!0),e)}rs.prototype.size=1;class Eve extends rs{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new zc(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,n,r,i,o,a){e<=o+this.length&&n>=o&&a(this.blockAt(0,r,i,o))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class fl extends Eve{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new zc(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof fl||i instanceof qo&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof qo?i=new fl(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):rs.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class qo extends rs{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,a,s=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*o);a=l/o,this.length>o+1&&(s=(this.height-l)/(this.length-o-1))}else a=this.height/o;return{firstLine:r,lastLine:i,perLine:a,perChar:s}}blockAt(e,n,r,i){let{firstLine:o,lastLine:a,perLine:s,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),c=n.doc.lineAt(u),f=s+c.length*l,d=Math.max(r,e-f/2);return new zc(c.from,c.length,d,f,0)}else{let u=Math.max(0,Math.min(a-o,Math.floor((e-r)/s))),{from:c,length:f}=n.doc.line(o+u);return new zc(c,f,r+s*u,s,0)}}lineAt(e,n,r,i,o){if(n==ii.ByHeight)return this.blockAt(e,r,i,o);if(n==ii.ByPosNoHeight){let{from:h,to:p}=r.doc.lineAt(e);return new zc(h,p-h,0,0,0)}let{firstLine:a,perLine:s,perChar:l}=this.heightMetrics(r,o),u=r.doc.lineAt(e),c=s+u.length*l,f=u.number-a,d=i+s*f+l*(u.from-o-f);return new zc(u.from,u.length,Math.max(i,Math.min(d,i+this.height-c)),c,0)}forEachLine(e,n,r,i,o,a){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:s,perLine:l,perChar:u}=this.heightMetrics(r,o);for(let c=e,f=i;c<=n;){let d=r.doc.lineAt(c);if(c==e){let p=d.number-s;f+=l*p+u*(e-o-p)}let h=l+u*d.length;a(new zc(d.from,d.length,f,h,0)),f+=h,c=d.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof qo?r[r.length-1]=new qo(o.length+i):r.push(null,new qo(i-1))}if(e>0){let o=r[0];o instanceof qo?r[0]=new qo(e+o.length):r.unshift(new qo(e-1),null)}return rs.of(r)}decomposeLeft(e,n){n.push(new qo(e-1),null)}decomposeRight(e,n){n.push(null,new qo(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let a=[],s=Math.max(n,i.from),l=-1;for(i.from>n&&a.push(new qo(i.from-n-1).updateHeight(e,n));s<=o&&i.more;){let c=e.doc.lineAt(s).length;a.length&&a.push(null);let f=i.heights[i.index++];l==-1?l=f:Math.abs(f-l)>=bS&&(l=-2);let d=new fl(c,f);d.outdated=!1,a.push(d),s+=c+1}s<=o&&a.push(null,new qo(o-s).updateHeight(e,s));let u=rs.of(a);return(l<0||Math.abs(u.height-this.height)>=bS||Math.abs(l-this.heightMetrics(e,n).perLine)>=bS)&&(Vv=!0),LC(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Dlt extends rs{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let a=i+this.left.height,s=o+this.left.length+this.break,l=n==ii.ByHeight?e<a:e<s,u=l?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,a,s);if(this.break||(l?u.to<s:u.from>s))return u;let c=n==ii.ByPosNoHeight?ii.ByPosNoHeight:ii.ByPos;return l?u.join(this.right.lineAt(s,c,r,a,s)):this.left.lineAt(s,c,r,i,o).join(u)}forEachLine(e,n,r,i,o,a){let s=i+this.left.height,l=o+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,o,a),n>=l&&this.right.forEachLine(e,n,r,s,l,a);else{let u=this.lineAt(l,ii.ByPos,r,i,o);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,o,a),u.to>=e&&u.from<=n&&a(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,s,l,a)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let a=o.length;for(let s of r)o.push(s);if(e>0&&uZ(o,a-1),n<this.length){let s=o.length;this.decomposeRight(n,o),uZ(o,s)}return rs.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?rs.of(this.break?[e,null,n]:[e,n]):(this.left=LC(this.left,e),this.right=LC(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:a}=this,s=n+o.length+this.break,l=null;return i&&i.from<=n+o.length&&i.more?l=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=s+a.length&&i.more?l=a=a.updateHeight(e,s,r,i):a.updateHeight(e,s,r),l?this.balanced(o,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function uZ(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof qo&&(r=t[e+1])instanceof qo&&t.splice(e-1,3,new qo(n.length+1+r.length))}const Nlt=5;class XF{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof fl?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new fl(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let a=n-e;r.block?this.addBlock(new Eve(a,i,r)):(a||o||i>=Nlt)&&this.addLineDeco(i,o,a)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new fl(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new qo(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof fl)return e;let n=new fl(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof fl)&&!this.isCovered?this.nodes.push(new fl(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof fl&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new XF(r,e);return nr.spans(n,r,i,o,0),o.finish(r)}}function Olt(t,e,n){let r=new Ilt;return nr.compare(t,e,n,r,0),r.changes}class Ilt{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&vS(e,n,this.changes,5)}}function Plt(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),a=Math.min(i.innerWidth,n.right),s=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let c=u,f=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&f.overflow!="visible"){let d=c.getBoundingClientRect();o=Math.max(o,d.left),a=Math.min(a,d.right),s=Math.max(s,d.top),l=Math.min(u==t.parentNode?i.innerHeight:l,d.bottom)}u=f.position=="absolute"||f.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:o-n.left,right:Math.max(o,a)-n.left,top:s-(n.top+e),bottom:Math.max(s,l)-(n.top+e)}}function Rlt(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function Flt(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class d9{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,n){return Yt.replace({widget:new Llt(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class Llt extends dh{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class cZ{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=fZ,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=si.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(jF).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Tlt(n),this.stateDeco=e.facet(uw).filter(r=>typeof r!="function"),this.heightMap=rs.empty().applyChanges(this.stateDeco,tr.empty,this.heightOracle.setDoc(e.doc),[new uu(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Yt.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:a})=>i>=o&&i<=a)){let{from:o,to:a}=this.lineBlockAt(i);e.push(new H5(o,a))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?fZ:new YF(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Hb(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(uw).filter(c=>typeof c!="function");let i=e.changedRanges,o=uu.extendWithRanges(i,Olt(r,this.stateDeco,e?e.changes:lo.empty(this.state.doc.length))),a=this.heightMap.height,s=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);lZ(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=a||Vv)&&(e.flags|=2),s?(this.scrollAnchorPos=e.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(lve)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?si.RTL:si.LTR;let a=this.heightOracle.mustRefreshForWrapping(o),s=n.getBoundingClientRect(),l=a||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;let u=0,c=0;if(s.width&&s.height){let{scaleX:w,scaleY:x}=Rge(n,s);(w>.005&&Math.abs(this.scaleX-w)>.005||x>.005&&Math.abs(this.scaleY-x)>.005)&&(this.scaleX=w,this.scaleY=x,u|=16,a=l=!0)}let f=(parseInt(r.paddingTop)||0)*this.scaleY,d=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=d)&&(this.paddingTop=f,this.paddingBottom=d,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let h=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=$ge(e.scrollDOM);let p=(this.printing?Flt:Plt)(n,this.paddingTop),m=p.top-this.pixelViewport.top,g=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget&&!Rlt(e.dom))return 0;let y=s.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),l){let w=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(w)&&(a=!0),a||i.lineWrapping&&Math.abs(y-this.contentDOMWidth)>i.charWidth){let{lineHeight:x,charWidth:S,textHeight:_}=e.docView.measureTextSize();a=x>0&&i.refresh(o,x,S,_,y/S,w),a&&(e.docView.minWidth=0,u|=16)}m>0&&g>0?c=Math.max(m,g):m<0&&g<0&&(c=Math.min(m,g)),lZ();for(let x of this.viewports){let S=x.from==this.viewport.from?w:e.docView.measureVisibleLineHeights(x);this.heightMap=(a?rs.empty().applyChanges(this.stateDeco,tr.empty,this.heightOracle,[new uu(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new Mlt(x.from,S))}Vv&&(u|=2)}let b=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(u&2||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:a,visibleBottom:s}=this,l=new H5(i.lineAt(a-r*1e3,ii.ByHeight,o,0,0).from,i.lineAt(s+(1-r)*1e3,ii.ByHeight,o,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(u,ii.ByPos,o,0,0),d;n.y=="center"?d=(f.top+f.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&u<l.from?d=f.top:d=f.bottom-c,l=new H5(i.lineAt(d-1e3/2,ii.ByHeight,o,0,0).from,i.lineAt(d+c+1e3/2,ii.ByHeight,o,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new H5(this.heightMap.lineAt(r,ii.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,ii.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,ii.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,ii.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:s}=this;return(e==0||i<=a-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=s+Math.max(10,Math.min(r,250)))&&i>a-2*1e3&&o<s+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new d9(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,a=i<<1;if(this.defaultTextDirection!=si.LTR&&!r)return[];let s=[],l=(c,f,d,h)=>{if(f-c<o)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let v of m)if(v>c&&v<f){l(c,v-10,d,h),l(v+10,f,d,h);return}let g=Blt(e,v=>v.from>=d.from&&v.to<=d.to&&Math.abs(v.from-c)<o&&Math.abs(v.to-f)<o&&!m.some(y=>v.from<y&&v.to>y));if(!g){if(f<d.to&&n&&r&&n.visibleRanges.some(b=>b.from<=f&&b.to>=f)){let b=n.moveToLineBoundary(Qe.cursor(f),!1,!0).head;b>c&&(f=b)}let v=this.gapSize(d,c,f,h),y=r||v<2e6?v:2e6;g=new d9(c,f,v,y)}s.push(g)},u=c=>{if(c.length<a||c.type!=ns.Text)return;let f=$lt(c.from,c.to,this.stateDeco);if(f.total<a)return;let d=this.scrollTarget?this.scrollTarget.range.head:null,h,p;if(r){let m=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,v;if(d!=null){let y=j5(f,d),b=((this.visibleBottom-this.visibleTop)/2+m)/c.height;g=y-b,v=y+b}else g=(this.visibleTop-c.top-m)/c.height,v=(this.visibleBottom-c.top+m)/c.height;h=U5(f,g),p=U5(f,v)}else{let m=f.total*this.heightOracle.charWidth,g=i*this.heightOracle.charWidth,v=0;if(m>2e6)for(let S of e)S.from>=c.from&&S.from<c.to&&S.size!=S.displaySize&&S.from*this.heightOracle.charWidth+v<this.pixelViewport.left&&(v=S.size-S.displaySize);let y=this.pixelViewport.left+v,b=this.pixelViewport.right+v,w,x;if(d!=null){let S=j5(f,d),_=((b-y)/2+g)/m;w=S-_,x=S+_}else w=(y-g)/m,x=(b+g)/m;h=U5(f,w),p=U5(f,x)}h>c.from&&l(c.from,h,c,f),p<c.to&&l(p,c.to,c,f)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(u):u(c);return s}gapSize(e,n,r,i){let o=j5(i,r)-j5(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){d9.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Yt.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];nr.spans(n,this.viewport.from,this.viewport.to,{span(o,a){r.push({from:o,to:a})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let o=0;o<r.length&&!(i&8);o++){let a=this.visibleRanges[o],s=r[o];(a.from!=s.from||a.to!=s.to)&&(i|=4,e&&e.mapPos(a.from,-1)==s.from&&e.mapPos(a.to,1)==s.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Hb(this.heightMap.lineAt(e,ii.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||Hb(this.heightMap.lineAt(this.scaler.fromDOM(e),ii.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Hb(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class H5{constructor(e,n){this.from=e,this.to=n}}function $lt(t,e,n){let r=[],i=t,o=0;return nr.spans(n,t,e,{span(){},point(a,s){a>i&&(r.push({from:i,to:a}),o+=a-i),i=s}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function U5({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:a}=e[i],s=a-o;if(r<=s)return o+r;r-=s}}function j5(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function Blt(t,e){for(let n of t)if(e(n))return n}const fZ={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class YF{constructor(e,n,r){let i=0,o=0,a=0;this.viewports=r.map(({from:s,to:l})=>{let u=n.lineAt(s,ii.ByPos,e,0,0).top,c=n.lineAt(l,ii.ByPos,e,0,0).bottom;return i+=c-u,{from:s,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let s of this.viewports)s.domTop=a+(s.top-o)*this.scale,a=s.domBottom=s.domTop+(s.bottom-s.top),o=s.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof YF?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function Hb(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new zc(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>Hb(i,e)):t._content)}const W5=Et.define({combine:t=>t.join(" ")}),yN=Et.define({combine:t=>t.indexOf(!0)>-1}),bN=F0.newName(),Ave=F0.newName(),Tve=F0.newName(),Mve={"&light":"."+Ave,"&dark":"."+Tve};function wN(t,e,n){return new F0(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const zlt=wN("."+bN,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Mve),qlt={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},h9=At.ie&&At.ie_version<=11;let Vlt=class{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new _st,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(At.ie&&At.ie_version<=11||At.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&At.android&&e.constructor.EDIT_CONTEXT!==!1&&!(At.chrome&&At.chrome_version<126)&&(this.editContext=new Ult(e),e.state.facet(gd)&&(e.contentDOM.editContext=this.editContext.editContext)),h9&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(gd)?r.root.activeElement!=this.dom:!gS(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(At.ie&&At.ie_version<=11||At.android&&At.chrome)&&!r.state.selection.main.empty&&i.focusNode&&q2(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=sw(e.root);if(!n)return!1;let r=At.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Hlt(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=gS(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&kst(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,qlt),h9&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),h9&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&Jg(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let a=this.readMutation(o);a&&(a.typeOver&&(i=!0),n==-1?{from:n,to:r}=a:(n=Math.min(a.from,n),r=Math.max(a.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&gS(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new alt(this.view,e,n,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=vve(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=dZ(n,e.previousSibling||e.target.previousSibling,-1),i=dZ(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(gd)!=e.state.facet(gd)&&(e.view.contentDOM.editContext=e.state.facet(gd)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}};function dZ(t,e,n){for(;e;){let r=qr.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function hZ(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor);return q2(a.node,a.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function Hlt(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return hZ(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?hZ(t,n):null}class Ult{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:o,head:a}=i,s=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:s,drifted:!1});let u={from:s,to:l,insert:tr.of(r.text.split(`
`))};if(u.from==this.from&&o<this.from?u.from=o:u.to==this.to&&o>this.to&&(u.to=o),u.from==u.to&&!u.insert.length){let c=Qe.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));c.main.eq(i)||e.dispatch({selection:c,userEvent:"select"});return}if((At.mac||At.android)&&u.from==a-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(u={from:s,to:l,insert:tr.of([r.text.replace("."," ")])}),this.pendingContextChange=u,!e.state.readOnly){let c=this.to-this.from+(u.to-u.from+u.insert.length);KF(e,u,Qe.single(this.toEditorPos(r.selectionStart,c),this.toEditorPos(r.selectionEnd,c)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let a=this.toEditorPos(r.rangeStart),s=this.toEditorPos(r.rangeEnd);a<s;a++){let l=e.coordsForChar(a);o=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||o||new DOMRect,i.push(o)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let a=o.underlineStyle,s=o.underlineThickness;if(a!="None"&&s!="None"){let l=this.toEditorPos(o.rangeStart),u=this.toEditorPos(o.rangeEnd);if(l<u){let c=`text-decoration: underline ${a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${s=="Thin"?1:2}px`;i.push(Yt.mark({attributes:{style:c}}).range(l,u))}}}e.dispatch({effects:cve.of(Yt.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=sw(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,a,s,l,u)=>{if(r)return;let c=u.length-(a-o);if(i&&a>=i.to)if(i.from==o&&i.to==a&&i.insert.eq(u)){i=this.pendingContextChange=null,n+=c,this.to+=c;return}else i=null,this.revertPending(e.state);if(o+=n,a+=n,a<=this.from)this.from+=c,this.to+=c;else if(o<this.to){if(o<this.from||a>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(a),u.toString()),this.to+=c}n+=c}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}let Dt=class xN{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Cst(e.parent)||document,this.viewState=new cZ(e.state||gi.create(e)),e.scrollTo&&e.scrollTo.is(z5)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Pg).map(i=>new u9(i));for(let i of this.plugins)i.update(this);this.observer=new Vlt(this),this.inputState=new flt(this),this.inputState.ensureHandlers(this.plugins),this.docView=new jY(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof ts?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let d of e){if(d.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=d.state}if(this.destroyed){this.viewState.state=o;return}let a=this.hasFocus,s=0,l=null;e.some(d=>d.annotation(_ve))?(this.inputState.notifiedFocused=a,s=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,l=Cve(o,a),l||(s=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(c=null)):this.observer.clear(),o.facet(gi.phrases)!=this.state.facet(gi.phrases))return this.setState(o);i=FC.create(this,o,e),i.flags|=s;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(f&&(f=f.map(d.changes)),d.scrollIntoView){let{main:h}=d.state.selection;f=new Qg(h.empty?h:Qe.cursor(h.head,h.head>h.anchor?-1:1))}for(let h of d.effects)h.is(z5)&&(f=h.value.clip(this.state))}this.viewState.update(i,f),this.bidiCache=$C.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(qb)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(W5)!=i.state.facet(W5)&&(this.viewState.mustMeasureContent=!0),(n||r||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let d of this.state.facet(pN))try{d(i)}catch(h){Fs(this.state,h,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!vve(this,c)&&u.force&&Jg(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new cZ(e),this.plugins=e.facet(Pg).map(r=>new u9(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new jY(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Pg),r=e.state.facet(Pg);if(n!=r){let i=[];for(let o of r){let a=n.indexOf(o);if(a<0)i.push(new u9(o));else{let s=this.plugins[a];s.mustUpdate=e,i.push(s)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Fs(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:a}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let s=0;;s++){if(a<0)if($ge(r))o=-1,a=this.viewState.heightMap.height;else{let h=this.viewState.scrollAnchorAt(i);o=h.from,a=h.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(s>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(h=>{try{return h.read(this)}catch(p){return Fs(this.state,p),pZ}}),f=FC.create(this,this.state,[]),d=!1;f.flags|=l,n?n.flags|=l:n=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),d=this.docView.update(f),d&&this.docViewUpdate());for(let h=0;h<u.length;h++)if(c[h]!=pZ)try{let p=u[h];p.write&&p.write(c[h],this)}catch(p){Fs(this.state,p)}if(d&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let p=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-a;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let s of this.state.facet(pN))s(n)}get themeClasses(){return bN+" "+(this.state.facet(yN)?Tve:Ave)+" "+this.state.facet(W5)}updateAttrs(){let e=mZ(this,fve,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(gd)?"true":"false",class:"cm-content",style:`${At.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),mZ(this,jF,n);let r=this.observer.ignore(()=>{let i=uN(this.contentDOM,this.contentAttrs,n),o=uN(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(xN.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(qb);let e=this.state.facet(xN.cspNonce);F0.mount(this.root,this.styleModules.concat(zlt).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return f9(this,e,YY(this,e,n,r))}moveByGroup(e,n){return f9(this,e,YY(this,e,n,r=>nlt(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[n?r.length-1:0];return Qe.cursor(o.side(n,i)+e.from,o.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return tlt(this,e,n,r)}moveVertically(e,n,r){return f9(this,e,rlt(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),gve(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),a=o[d0.find(o,e-i.from,-1,n)];return l7(r,a.dir==si.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(sve)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>jlt)return Qge(e.length);let n=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==n&&(o.fresh||Jge(o.isolates,r=UY(this,e))))return o.order;r||(r=UY(this,e));let i=Bst(e.text,n,r);return this.bidiCache.push(new $C(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||At.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Fge(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return z5.of(new Qg(typeof e=="number"?Qe.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return z5.of(new Qg(Qe.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return io.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return io.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=F0.newName(),i=[W5.of(r),qb.of(wN(`.${r}`,e))];return n&&n.dark&&i.push(yN.of(!0)),i}static baseTheme(e){return mp.lowest(qb.of(wN("."+bN,e,Mve)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&qr.get(r)||qr.get(e);return((n=i?.rootView)===null||n===void 0?void 0:n.view)||null}};Dt.styleModule=qb;Dt.inputHandler=ove;Dt.clipboardInputFilter=HF;Dt.clipboardOutputFilter=UF;Dt.scrollHandler=uve;Dt.focusChangeEffect=ave;Dt.perLineTextDirection=sve;Dt.exceptionSink=ive;Dt.updateListener=pN;Dt.editable=gd;Dt.mouseSelectionStyle=rve;Dt.dragMovesSelection=nve;Dt.clickAddsSelectionRange=tve;Dt.decorations=uw;Dt.outerDecorations=dve;Dt.atomicRanges=WF;Dt.bidiIsolatedRanges=hve;Dt.scrollMargins=pve;Dt.darkTheme=yN;Dt.cspNonce=Et.define({combine:t=>t.length?t[0]:""});Dt.contentAttributes=jF;Dt.editorAttributes=fve;Dt.lineWrapping=Dt.contentAttributes.of({class:"cm-lineWrapping"});Dt.announce=xn.define();const jlt=4096,pZ={};class $C{constructor(e,n,r,i,o,a){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=o,this.order=a}static update(e,n){if(n.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:si.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let a=e[o];a.dir==i&&!n.touchesRange(a.from,a.to)&&r.push(new $C(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function mZ(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],a=typeof o=="function"?o(t):o;a&&lN(a,n)}return n}const Wlt=At.mac?"mac":At.windows?"win":At.linux?"linux":"key";function Glt(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,a,s;for(let l=0;l<n.length-1;++l){const u=n[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))o=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))e=="mac"?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),s&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function G5(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Klt=mp.default(Dt.domEventHandlers({keydown(t,e){return Nve(Dve(e.state),t,e,"editor")}})),Oy=Et.define({enables:Klt}),gZ=new WeakMap;function Dve(t){let e=t.facet(Oy),n=gZ.get(e);return n||gZ.set(e,n=Zlt(e.reduce((r,i)=>r.concat(i),[]))),n}function Xlt(t,e,n){return Nve(Dve(t.state),e,t,n)}let t0=null;const Ylt=4e3;function Zlt(t,e=Wlt){let n=Object.create(null),r=Object.create(null),i=(a,s)=>{let l=r[a];if(l==null)r[a]=s;else if(l!=s)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},o=(a,s,l,u,c)=>{var f,d;let h=n[a]||(n[a]=Object.create(null)),p=s.split(/ (?!$)/).map(v=>Glt(v,e));for(let v=1;v<p.length;v++){let y=p.slice(0,v).join(" ");i(y,!0),h[y]||(h[y]={preventDefault:!0,stopPropagation:!1,run:[b=>{let w=t0={view:b,prefix:y,scope:a};return setTimeout(()=>{t0==w&&(t0=null)},Ylt),!0}]})}let m=p.join(" ");i(m,!1);let g=h[m]||(h[m]={preventDefault:!1,stopPropagation:!1,run:((d=(f=h._any)===null||f===void 0?void 0:f.run)===null||d===void 0?void 0:d.slice())||[]});l&&g.run.push(l),u&&(g.preventDefault=!0),c&&(g.stopPropagation=!0)};for(let a of t){let s=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let u of s){let c=n[u]||(n[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=a;for(let d in c)c[d].run.push(h=>f(h,SN))}let l=a[e]||a.key;if(l)for(let u of s)o(u,l,a.run,a.preventDefault,a.stopPropagation),a.shift&&o(u,"Shift-"+l,a.shift,a.preventDefault,a.stopPropagation)}return n}let SN=null;function Nve(t,e,n,r){SN=e;let i=Ige(e),o=Ds(i,0),a=Bc(o)==i.length&&i!=" ",s="",l=!1,u=!1,c=!1;t0&&t0.view==n&&t0.scope==r&&(s=t0.prefix+" ",bve.indexOf(e.keyCode)<0&&(u=!0,t0=null));let f=new Set,d=g=>{if(g){for(let v of g.run)if(!f.has(v)&&(f.add(v),v(n)))return g.stopPropagation&&(c=!0),!0;g.preventDefault&&(g.stopPropagation&&(c=!0),u=!0)}return!1},h=t[r],p,m;return h&&(d(h[s+G5(i,e,!a)])?l=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(At.windows&&e.ctrlKey&&e.altKey)&&(p=Zd[e.keyCode])&&p!=i?(d(h[s+G5(p,e,!0)])||e.shiftKey&&(m=aw[e.keyCode])!=i&&m!=p&&d(h[s+G5(m,e,!1)]))&&(l=!0):a&&e.shiftKey&&d(h[s+G5(i,e,!0)])&&(l=!0),!l&&d(h._any)&&(l=!0)),u&&(l=!0),l&&c&&e.stopPropagation(),SN=null,l}class _4{constructor(e,n,r,i,o){this.className=e,this.left=n,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=Ove(e);return[new _4(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return Jlt(e,n,r)}}function Ove(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==si.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function vZ(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let o=t.dom.getBoundingClientRect(),a=(i.top+i.bottom)/2,s=t.posAtCoords({x:o.left+1,y:a}),l=t.posAtCoords({x:o.right-1,y:a});return s==null||l==null?r:{from:Math.max(r.from,Math.min(s,l)),to:Math.min(r.to,Math.max(s,l))}}function Jlt(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),o=t.textDirection==si.LTR,a=t.contentDOM,s=a.getBoundingClientRect(),l=Ove(t),u=a.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),f=s.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),d=s.right-(c?parseInt(c.paddingRight):0),h=gN(t,r,1),p=gN(t,i,-1),m=h.type==ns.Text?h:null,g=p.type==ns.Text?p:null;if(m&&(t.lineWrapping||h.widgetLineBreaks)&&(m=vZ(t,r,1,m)),g&&(t.lineWrapping||p.widgetLineBreaks)&&(g=vZ(t,i,-1,g)),m&&g&&m.from==g.from&&m.to==g.to)return y(b(n.from,n.to,m));{let x=m?b(n.from,null,m):w(h,!1),S=g?b(null,n.to,g):w(p,!0),_=[];return(m||h).to<(g||p).from-(m&&g?1:0)||h.widgetLineBreaks>1&&x.bottom+t.defaultLineHeight/2<S.top?_.push(v(f,x.bottom,d,S.top)):x.bottom<S.top&&t.elementAtHeight((x.bottom+S.top)/2).type==ns.Text&&(x.bottom=S.top=(x.bottom+S.top)/2),y(x).concat(_).concat(y(S))}function v(x,S,_,k){return new _4(e,x-l.left,S-l.top,_-x,k-S)}function y({top:x,bottom:S,horizontal:_}){let k=[];for(let C=0;C<_.length;C+=2)k.push(v(_[C],x,_[C+1],S));return k}function b(x,S,_){let k=1e9,C=-1e9,E=[];function M(T,I,O,q,L){let Y=t.coordsAtPos(T,T==_.to?-2:2),R=t.coordsAtPos(O,O==_.from?2:-2);!Y||!R||(k=Math.min(Y.top,R.top,k),C=Math.max(Y.bottom,R.bottom,C),L==si.LTR?E.push(o&&I?f:Y.left,o&&q?d:R.right):E.push(!o&&q?f:R.left,!o&&I?d:Y.right))}let A=x??_.from,N=S??_.to;for(let T of t.visibleRanges)if(T.to>A&&T.from<N)for(let I=Math.max(T.from,A),O=Math.min(T.to,N);;){let q=t.state.doc.lineAt(I);for(let L of t.bidiSpans(q)){let Y=L.from+q.from,R=L.to+q.from;if(Y>=O)break;R>I&&M(Math.max(Y,I),x==null&&Y<=A,Math.min(R,O),S==null&&R>=N,L.dir)}if(I=q.to+1,I>=O)break}return E.length==0&&M(A,x==null,N,S==null,t.textDirection),{top:k,bottom:C,horizontal:E}}function w(x,S){let _=s.top+(S?x.top:x.bottom);return{top:_,bottom:_,horizontal:[]}}}function Qlt(t,e){return t.constructor==e.constructor&&t.eq(e)}class eut{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(wS)!=e.state.facet(wS)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(wS);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!Qlt(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const wS=Et.define();function Ive(t){return[io.define(e=>new eut(e,t)),wS.of(t)]}const cw=Et.define({combine(t){return kf(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function Pve(t={}){return[cw.of(t),tut,nut,rut,lve.of(!0)]}function Rve(t){return t.startState.facet(cw)!=t.state.facet(cw)}const tut=Ive({above:!0,markers(t){let{state:e}=t,n=e.facet(cw),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty||n.drawRangeCursor){let a=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",s=i.empty?i:Qe.cursor(i.head,i.head>i.anchor?-1:1);for(let l of _4.forRange(t,a,s))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=Rve(t);return n&&yZ(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){yZ(e.state,t)},class:"cm-cursorLayer"});function yZ(t,e){e.style.animationDuration=t.facet(cw).cursorBlinkRate+"ms"}const nut=Ive({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:_4.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||Rve(t)},class:"cm-selectionLayer"}),rut=mp.highest(Dt.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),Fve=xn.define({map(t,e){return t==null?null:e.mapPos(t)}}),Ub=Io.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(Fve)?r.value:n,t)}}),iut=io.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Ub);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Ub)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Ub),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Ub)!=t&&this.view.dispatch({effects:Fve.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function out(){return[Ub,iut]}function bZ(t,e,n,r,i){e.lastIndex=0;for(let o=t.iterRange(n,r),a=n,s;!o.next().done;a+=o.value.length)if(!o.lineBreak)for(;s=e.exec(o.value);)i(a+s.index,s)}function aut(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),o=Math.min(t.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class sut{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:o,maxLength:a=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(s,l,u,c)=>i(c,u,u+s[0].length,s,l);else if(typeof r=="function")this.addMatch=(s,l,u,c)=>{let f=r(s,l,u);f&&c(u,u+s[0].length,f)};else if(r)this.addMatch=(s,l,u,c)=>c(u,u+s[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=a}createDeco(e){let n=new Yd,r=n.add.bind(n);for(let{from:i,to:o}of aut(e,this.maxLength))bZ(e.state.doc,this.regexp,i,o,(a,s)=>this.addMatch(s,e,a,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,a,s,l)=>{l>=e.view.viewport.from&&s<=e.view.viewport.to&&(r=Math.min(s,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let o of e.visibleRanges){let a=Math.max(o.from,r),s=Math.min(o.to,i);if(s>=a){let l=e.state.doc.lineAt(a),u=l.to<s?e.state.doc.lineAt(s):l,c=Math.max(o.from,l.from),f=Math.min(o.to,u.to);if(this.boundary){for(;a>l.from;a--)if(this.boundary.test(l.text[a-1-l.from])){c=a;break}for(;s<u.to;s++)if(this.boundary.test(u.text[s-u.from])){f=s;break}}let d=[],h,p=(m,g,v)=>d.push(v.range(m,g));if(l==u)for(this.regexp.lastIndex=c-l.from;(h=this.regexp.exec(l.text))&&h.index<f-l.from;)this.addMatch(h,e,h.index+l.from,p);else bZ(e.state.doc,this.regexp,c,f,(m,g)=>this.addMatch(g,e,m,p));n=n.update({filterFrom:c,filterTo:f,filter:(m,g)=>m<c||g>f,add:d})}}return n}}const _N=/x/.unicode!=null?"gu":"g",lut=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,_N),uut={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let p9=null;function cut(){var t;if(p9==null&&typeof document<"u"&&document.body){let e=document.body.style;p9=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return p9||!1}const xS=Et.define({combine(t){let e=kf(t,{render:null,specialChars:lut,addSpecialChars:null});return(e.replaceTabs=!cut())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,_N)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,_N)),e}});function fut(t={}){return[xS.of(t),dut()]}let wZ=null;function dut(){return wZ||(wZ=io.fromClass(class{constructor(t){this.view=t,this.decorations=Yt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(xS)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new sut({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,o=Ds(e[0],0);if(o==9){let a=i.lineAt(r),s=n.state.tabSize,l=Ny(a.text,s,r-a.from);return Yt.replace({widget:new gut((s-l%s)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=Yt.replace({widget:new mut(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(xS);t.startState.facet(xS)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const hut="";function put(t){return t>=32?hut:t==10?"":String.fromCharCode(9216+t)}class mut extends dh{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=put(this.code),r=e.state.phrase("Control character")+" "+(uut[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let o=document.createElement("span");return o.textContent=n,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class gut extends dh{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function vut(){return but}const yut=Yt.line({class:"cm-activeLine"}),but=io.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(yut.range(i.from)),e=i.from)}return Yt.set(n)}},{decorations:t=>t.decorations}),CN=2e3;function wut(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),o=[];if(e.off>CN||n.off>CN||e.col<0||n.col<0){let a=Math.min(e.off,n.off),s=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let u=t.doc.line(l);u.length<=s&&o.push(Qe.range(u.from+a,u.to+s))}}else{let a=Math.min(e.col,n.col),s=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let u=t.doc.line(l),c=tN(u.text,a,t.tabSize,!0);if(c<0)o.push(Qe.cursor(u.to));else{let f=tN(u.text,s,t.tabSize);o.push(Qe.range(u.from+c,u.from+f))}}}return o}function xut(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function xZ(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,o=i>CN?-1:i==r.length?xut(t,e.clientX):Ny(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function Sut(t,e){let n=xZ(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(n.line).from),a=i.state.doc.lineAt(o);n={line:a.number,col:n.col,off:Math.min(n.off,a.length)},r=r.map(i.changes)}},get(i,o,a){let s=xZ(t,i);if(!s)return r;let l=wut(t.state,n,s);return l.length?a?Qe.create(l.concat(r.ranges)):Qe.create(l):r}}:null}function _ut(t){let e=n=>n.altKey&&n.button==0;return Dt.mouseSelectionStyle.of((n,r)=>e(r)?Sut(n,r):null)}const Cut={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},kut={style:"cursor: crosshair"};function Eut(t={}){let[e,n]=Cut[t.key||"Alt"],r=io.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,Dt.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?kut:null})]}const gb="-10000px";class Lve{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(a=>a);let o=null;this.tooltipViews=this.tooltips.map(a=>o=r(a,o))}update(e,n){var r;let i=e.state.facet(this.facet),o=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let a=[],s=n?[]:null;for(let l=0;l<o.length;l++){let u=o[l],c=-1;if(u){for(let f=0;f<this.tooltips.length;f++){let d=this.tooltips[f];d&&d.create==u.create&&(c=f)}if(c<0)a[l]=this.createTooltipView(u,l?a[l-1]:null),s&&(s[l]=!!u.above);else{let f=a[l]=this.tooltipViews[c];s&&(s[l]=n[c]),f.update&&f.update(e)}}}for(let l of this.tooltipViews)a.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(s.forEach((l,u)=>n[u]=l),n.length=s.length),this.input=i,this.tooltips=o,this.tooltipViews=a,!0}}function Aut(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const m9=Et.define({combine:t=>{var e,n,r;return{position:At.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||Aut}}}),SZ=new WeakMap,ZF=io.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(m9);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Lve(t,JF,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(m9);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=gb,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(At.gecko)n=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==gb&&o.style.left=="0px"){let a=o.getBoundingClientRect();n=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(n||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(t=o.width/this.parent.offsetWidth,e=o.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=GF(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,a)=>{let s=this.manager.tooltipViews[a];return s.getCoords?s.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(m9).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let s of this.manager.tooltipViews)s.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:o}=t,a=[];for(let s=0;s<this.manager.tooltips.length;s++){let l=this.manager.tooltips[s],u=this.manager.tooltipViews[s],{dom:c}=u,f=t.pos[s],d=t.size[s];if(!f||l.clip!==!1&&(f.bottom<=Math.max(n.top,r.top)||f.top>=Math.min(n.bottom,r.bottom)||f.right<Math.max(n.left,r.left)-.1||f.left>Math.min(n.right,r.right)+.1)){c.style.top=gb;continue}let h=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,p=h?7:0,m=d.right-d.left,g=(e=SZ.get(u))!==null&&e!==void 0?e:d.bottom-d.top,v=u.offset||Mut,y=this.view.textDirection==si.LTR,b=d.width>r.right-r.left?y?r.left:r.right-d.width:y?Math.max(r.left,Math.min(f.left-(h?14:0)+v.x,r.right-m)):Math.min(Math.max(r.left,f.left-m+(h?14:0)-v.x),r.right-m),w=this.above[s];!l.strictSide&&(w?f.top-g-p-v.y<r.top:f.bottom+g+p+v.y>r.bottom)&&w==r.bottom-f.bottom>f.top-r.top&&(w=this.above[s]=!w);let x=(w?f.top-r.top:r.bottom-f.bottom)-p;if(x<g&&u.resize!==!1){if(x<this.view.defaultLineHeight){c.style.top=gb;continue}SZ.set(u,g),c.style.height=(g=x)/o+"px"}else c.style.height&&(c.style.height="");let S=w?f.top-g-p-v.y:f.bottom+p+v.y,_=b+m;if(u.overlap!==!0)for(let k of a)k.left<_&&k.right>b&&k.top<S+g&&k.bottom>S&&(S=w?k.top-g-2-p:k.bottom+p+2);if(this.position=="absolute"?(c.style.top=(S-t.parent.top)/o+"px",_Z(c,(b-t.parent.left)/i)):(c.style.top=S/o+"px",_Z(c,b/i)),h){let k=f.left+(y?v.x:-v.x)-(b+14-7);h.style.left=k/i+"px"}u.overlap!==!0&&a.push({left:b,top:S,right:_,bottom:S+g}),c.classList.toggle("cm-tooltip-above",w),c.classList.toggle("cm-tooltip-below",!w),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=gb}},{eventObservers:{scroll(){this.maybeMeasure()}}});function _Z(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const Tut=Dt.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Mut={x:0,y:0},JF=Et.define({enables:[ZF,Tut]}),BC=Et.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class f7{static create(e){return new f7(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Lve(e,BC,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Dut=JF.compute([BC],t=>{let e=t.facet(BC);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:f7.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class Nut{constructor(e,n,r,i,o){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,o=1;if(r instanceof f0)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let s=e.coordsAtPos(i);if(!s||n.y<s.top||n.y>s.bottom||n.x<s.left-e.defaultCharacterWidth||n.x>s.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(c=>c.from<=i&&c.to>=i),u=l&&l.dir==si.RTL?-1:1;o=n.x<s.left?-u:u}let a=this.source(e,i,o);if(a?.then){let s=this.pending={pos:i};a.then(l=>{this.pending==s&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>Fs(e.state,l,"hover tooltip"))}else a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let e=this.view.plugin(ZF),n=e?e.manager.tooltips.findIndex(r=>r.create==f7.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!Out(o.dom,e)||this.pending){let{pos:a}=i[0]||this.pending,s=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:a;(a==s?this.view.posAtCoords(this.lastMove)!=a:!Iut(this.view,a,s,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const K5=4;function Out(t,e){let{left:n,right:r,top:i,bottom:o}=t.getBoundingClientRect(),a;if(a=t.querySelector(".cm-tooltip-arrow")){let s=a.getBoundingClientRect();i=Math.min(s.top,i),o=Math.max(s.bottom,o)}return e.clientX>=n-K5&&e.clientX<=r+K5&&e.clientY>=i-K5&&e.clientY<=o+K5}function Iut(t,e,n,r,i,o){let a=t.scrollDOM.getBoundingClientRect(),s=t.documentTop+t.documentPadding.top+t.contentHeight;if(a.left>r||a.right<r||a.top>i||Math.min(a.bottom,s)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function Put(t,e={}){let n=xn.define(),r=Io.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(a=>!e.hideOn(o,a))),o.docChanged)){let a=[];for(let s of i){let l=o.changes.mapPos(s.pos,-1,Ko.TrackDel);if(l!=null){let u=Object.assign(Object.create(null),s);u.pos=l,u.end!=null&&(u.end=o.changes.mapPos(u.end)),a.push(u)}}i=a}for(let a of o.effects)a.is(n)&&(i=a.value),a.is(Rut)&&(i=[]);return i},provide:i=>BC.from(i)});return{active:r,extension:[r,io.define(i=>new Nut(i,t,r,n,e.hoverTime||300)),Dut]}}function $ve(t,e){let n=t.plugin(ZF);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const Rut=xn.define(),CZ=Et.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function fw(t,e){let n=t.plugin(Bve),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const Bve=io.fromClass(class{constructor(t){this.input=t.state.facet(dw),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(CZ);this.top=new X5(t,!0,e.topContainer),this.bottom=new X5(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(CZ);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new X5(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new X5(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(dw);if(n!=this.input){let r=n.filter(l=>l),i=[],o=[],a=[],s=[];for(let l of r){let u=this.specs.indexOf(l),c;u<0?(c=l(t.view),s.push(c)):(c=this.panels[u],c.update&&c.update(t)),i.push(c),(c.top?o:a).push(c)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(a);for(let l of s)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Dt.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class X5{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=kZ(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=kZ(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function kZ(t){let e=t.nextSibling;return t.remove(),e}const dw=Et.define({enables:Bve});class Qd extends Zm{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Qd.prototype.elementClass="";Qd.prototype.toDOM=void 0;Qd.prototype.mapMode=Ko.TrackBefore;Qd.prototype.startSide=Qd.prototype.endSide=-1;Qd.prototype.point=!0;const SS=Et.define(),Fut=Et.define(),Lut={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>nr.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},H2=Et.define();function $ut(t){return[zve(),H2.of({...Lut,...t})]}const EZ=Et.define({combine:t=>t.some(e=>e)});function zve(t){return[But]}const But=io.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(H2).map(e=>new TZ(t,e)),this.fixed=!t.state.facet(EZ);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(EZ)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=nr.iter(this.view.state.facet(SS),this.view.viewport.from),r=[],i=this.gutters.map(o=>new zut(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let a=!0;for(let s of o.type)if(s.type==ns.Text&&a){kN(n,r,s.from);for(let l of i)l.line(this.view,s,r);a=!1}else if(s.widget)for(let l of i)l.widget(this.view,s)}else if(o.type==ns.Text){kN(n,r,o.from);for(let a of i)a.line(this.view,o,r)}else if(o.widget)for(let a of i)a.widget(this.view,o);for(let o of i)o.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(H2),n=t.state.facet(H2),r=t.docChanged||t.heightChanged||t.viewportChanged||!nr.eq(t.startState.facet(SS),t.state.facet(SS),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let o of n){let a=e.indexOf(o);a<0?i.push(new TZ(this.view,o)):(this.gutters[a].update(t),i.push(this.gutters[a]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)o.config.side=="after"?this.getDOMAfter().appendChild(o.dom):this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>Dt.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==si.LTR?{left:r,right:i}:{right:r,left:i}})});function AZ(t){return Array.isArray(t)?t:[t]}function kN(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class zut{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=nr.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,o=(n.top-this.height)/e.scaleY,a=n.height/e.scaleY;if(this.i==i.elements.length){let s=new qve(e,a,o,r);i.elements.push(s),i.dom.appendChild(s.dom)}else i.elements[this.i].update(e,a,o,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];kN(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);let a=this.gutter;i.length==0&&!a.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let o of e.state.facet(Fut)){let a=o(e,n.widget,n);a&&(i||(i=[])).push(a)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class TZ{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,a;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();a=(l.top+l.bottom)/2}else a=i.clientY;let s=e.lineBlockAtHeight(a-e.documentTop);n.domEventHandlers[r](e,s,i)&&i.preventDefault()});this.markers=AZ(n.markers(e)),n.initialSpacer&&(this.spacer=new qve(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=AZ(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!nr.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class qve{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),qut(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,a=0;;){let s=a,l=o<n.length?n[o++]:null,u=!1;if(l){let c=l.elementClass;c&&(r+=" "+c);for(let f=a;f<this.markers.length;f++)if(this.markers[f].compare(l)){s=f,u=!0;break}}else s=this.markers.length;for(;a<s;){let c=this.markers[a++];if(c.toDOM){c.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&a++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function qut(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const Vut=Et.define(),Hut=Et.define(),Rg=Et.define({combine(t){return kf(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let o=r[i],a=n[i];r[i]=o?(s,l,u)=>o(s,l,u)||a(s,l,u):a}return r}})}});class g9 extends Qd{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function v9(t,e){return t.state.facet(Rg).formatNumber(e,t.state)}const Uut=H2.compute([Rg],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Vut)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new g9(v9(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(Hut)){let o=i(e,n,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(Rg)!=e.state.facet(Rg),initialSpacer(e){return new g9(v9(e,MZ(e.state.doc.lines)))},updateSpacer(e,n){let r=v9(n.view,MZ(n.view.state.doc.lines));return r==e.number?e:new g9(r)},domEventHandlers:t.facet(Rg).domEventHandlers,side:"before"}));function jut(t={}){return[Rg.of(t),zve(),Uut]}function MZ(t){let e=9;for(;e<t;)e=e*10+9;return e}const Wut=new class extends Qd{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Gut=SS.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Wut.range(i)))}return nr.of(e)});function Kut(){return Gut}let Xut=0;class Xl{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=Xut++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Xl&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new Xl(r,[],null,[]);if(i.set.push(i),n)for(let o of n.set)i.set.push(o);return i}static defineModifier(e){let n=new zC(e);return r=>r.modified.indexOf(n)>-1?r:zC.get(r.base||r,r.modified.concat(n).sort((i,o)=>i.id-o.id))}}let Yut=0;class zC{constructor(e){this.name=e,this.instances=[],this.id=Yut++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(s=>s.base==e&&Zut(n,s.modified));if(r)return r;let i=[],o=new Xl(e.name,i,e,n);for(let s of n)s.instances.push(o);let a=Jut(n);for(let s of e.set)if(!s.modified.length)for(let l of a)i.push(zC.get(s,l));return o}}function Zut(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function Jut(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function Qut(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],a=2,s=i;for(let f=0;;){if(s=="..."&&f>0&&f+3==i.length){a=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!d)throw new RangeError("Invalid path: "+i);if(o.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),f+=d[0].length,f==i.length)break;let h=i[f++];if(f==i.length&&h=="!"){a=0;break}if(h!="/")throw new RangeError("Invalid path: "+i);s=i.slice(f)}let l=o.length-1,u=o[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new qC(r,a,l>0?o.slice(0,l):null);e[u]=c.sort(e[u])}}return Vve.add(e)}const Vve=new Bn;class qC{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}qC.empty=new qC([],2,null);function Hve(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let a of o.tag)n[a.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let a=i;for(let s of o)for(let l of s.set){let u=n[l.id];if(u){a=a?a+" "+u:u;break}}return a},scope:r}}function ect(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function tct(t,e,n,r=0,i=t.length){let o=new nct(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}class nct{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,o){let{type:a,from:s,to:l}=e;if(s>=r||l<=n)return;a.isTop&&(o=this.highlighters.filter(h=>!h.scope||h.scope(a)));let u=i,c=rct(e)||qC.empty,f=ect(o,c.tags);if(f&&(u&&(u+=" "),u+=f,c.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(Math.max(n,s),u),c.opaque)return;let d=e.tree&&e.tree.prop(Bn.mounted);if(d&&d.overlay){let h=e.node.enter(d.overlay[0].from+s,1),p=this.highlighters.filter(g=>!g.scope||g.scope(d.tree.type)),m=e.firstChild();for(let g=0,v=s;;g++){let y=g<d.overlay.length?d.overlay[g]:null,b=y?y.from+s:l,w=Math.max(n,v),x=Math.min(r,b);if(w<x&&m)for(;e.from<x&&(this.highlightRange(e,w,x,i,o),this.startSpan(Math.min(x,e.to),u),!(e.to>=b||!e.nextSibling())););if(!y||b>r)break;v=y.to+s,v>n&&(this.highlightRange(h.cursor(),Math.max(n,y.from+s),Math.min(r,v),"",p),this.startSpan(Math.min(r,v),u))}m&&e.parent()}else if(e.firstChild()){d&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function rct(t){let e=t.type.prop(Vve);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const yt=Xl.define,Y5=yt(),Kh=yt(),DZ=yt(Kh),NZ=yt(Kh),Xh=yt(),Z5=yt(Xh),y9=yt(Xh),Mc=yt(),Ip=yt(Mc),Cc=yt(),kc=yt(),EN=yt(),vb=yt(EN),J5=yt(),Ye={comment:Y5,lineComment:yt(Y5),blockComment:yt(Y5),docComment:yt(Y5),name:Kh,variableName:yt(Kh),typeName:DZ,tagName:yt(DZ),propertyName:NZ,attributeName:yt(NZ),className:yt(Kh),labelName:yt(Kh),namespace:yt(Kh),macroName:yt(Kh),literal:Xh,string:Z5,docString:yt(Z5),character:yt(Z5),attributeValue:yt(Z5),number:y9,integer:yt(y9),float:yt(y9),bool:yt(Xh),regexp:yt(Xh),escape:yt(Xh),color:yt(Xh),url:yt(Xh),keyword:Cc,self:yt(Cc),null:yt(Cc),atom:yt(Cc),unit:yt(Cc),modifier:yt(Cc),operatorKeyword:yt(Cc),controlKeyword:yt(Cc),definitionKeyword:yt(Cc),moduleKeyword:yt(Cc),operator:kc,derefOperator:yt(kc),arithmeticOperator:yt(kc),logicOperator:yt(kc),bitwiseOperator:yt(kc),compareOperator:yt(kc),updateOperator:yt(kc),definitionOperator:yt(kc),typeOperator:yt(kc),controlOperator:yt(kc),punctuation:EN,separator:yt(EN),bracket:vb,angleBracket:yt(vb),squareBracket:yt(vb),paren:yt(vb),brace:yt(vb),content:Mc,heading:Ip,heading1:yt(Ip),heading2:yt(Ip),heading3:yt(Ip),heading4:yt(Ip),heading5:yt(Ip),heading6:yt(Ip),contentSeparator:yt(Mc),list:yt(Mc),quote:yt(Mc),emphasis:yt(Mc),strong:yt(Mc),link:yt(Mc),monospace:yt(Mc),strikethrough:yt(Mc),inserted:yt(),deleted:yt(),changed:yt(),invalid:yt(),meta:J5,documentMeta:yt(J5),annotation:yt(J5),processingInstruction:yt(J5),definition:Xl.defineModifier("definition"),constant:Xl.defineModifier("constant"),function:Xl.defineModifier("function"),standard:Xl.defineModifier("standard"),local:Xl.defineModifier("local"),special:Xl.defineModifier("special")};for(let t in Ye){let e=Ye[t];e instanceof Xl&&(e.name=t)}Hve([{tag:Ye.link,class:"tok-link"},{tag:Ye.heading,class:"tok-heading"},{tag:Ye.emphasis,class:"tok-emphasis"},{tag:Ye.strong,class:"tok-strong"},{tag:Ye.keyword,class:"tok-keyword"},{tag:Ye.atom,class:"tok-atom"},{tag:Ye.bool,class:"tok-bool"},{tag:Ye.url,class:"tok-url"},{tag:Ye.labelName,class:"tok-labelName"},{tag:Ye.inserted,class:"tok-inserted"},{tag:Ye.deleted,class:"tok-deleted"},{tag:Ye.literal,class:"tok-literal"},{tag:Ye.string,class:"tok-string"},{tag:Ye.number,class:"tok-number"},{tag:[Ye.regexp,Ye.escape,Ye.special(Ye.string)],class:"tok-string2"},{tag:Ye.variableName,class:"tok-variableName"},{tag:Ye.local(Ye.variableName),class:"tok-variableName tok-local"},{tag:Ye.definition(Ye.variableName),class:"tok-variableName tok-definition"},{tag:Ye.special(Ye.variableName),class:"tok-variableName2"},{tag:Ye.definition(Ye.propertyName),class:"tok-propertyName tok-definition"},{tag:Ye.typeName,class:"tok-typeName"},{tag:Ye.namespace,class:"tok-namespace"},{tag:Ye.className,class:"tok-className"},{tag:Ye.macroName,class:"tok-macroName"},{tag:Ye.propertyName,class:"tok-propertyName"},{tag:Ye.operator,class:"tok-operator"},{tag:Ye.comment,class:"tok-comment"},{tag:Ye.meta,class:"tok-meta"},{tag:Ye.invalid,class:"tok-invalid"},{tag:Ye.punctuation,class:"tok-punctuation"}]);var b9;const sm=new Bn;function Uve(t){return Et.define({combine:t?e=>e.concat(t):void 0})}const ict=new Bn;class nu{constructor(e,n,r=[],i=""){this.data=e,this.name=i,gi.prototype.hasOwnProperty("tree")||Object.defineProperty(gi.prototype,"tree",{get(){return ta(this)}}),this.parser=n,this.extension=[$0.of(this),gi.languageData.of((o,a,s)=>{let l=OZ(o,a,s),u=l.type.prop(sm);if(!u)return[];let c=o.facet(u),f=l.type.prop(ict);if(f){let d=l.resolve(a-l.from,s);for(let h of f)if(h.test(d,o)){let p=o.facet(h.facet);return h.type=="replace"?p:p.concat(c)}}return c})].concat(r)}isActiveAt(e,n,r=-1){return OZ(e,n,r).type.prop(sm)==this.data}findRegions(e){let n=e.facet($0);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,a)=>{if(o.prop(sm)==this.data){r.push({from:a,to:a+o.length});return}let s=o.prop(Bn.mounted);if(s){if(s.tree.prop(sm)==this.data){if(s.overlay)for(let l of s.overlay)r.push({from:l.from+a,to:l.to+a});else r.push({from:a,to:a+o.length});return}else if(s.overlay){let l=r.length;if(i(s.tree,s.overlay[0].from+a),r.length>l)return}}for(let l=0;l<o.children.length;l++){let u=o.children[l];u instanceof Zr&&i(u,o.positions[l]+a)}};return i(ta(e),0),r}get allowsNesting(){return!0}}nu.setState=xn.define();function OZ(t,e,n){let r=t.facet($0),i=ta(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,Ci.ExcludeBuffers))o.type.isTop&&(i=o);return i}class AN extends nu{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=Uve(e.languageData);return new AN(n,e.parser.configure({props:[sm.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new AN(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ta(t){let e=t.field(nu.state,!1);return e?e.tree:Zr.empty}class oct{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let yb=null,TN=class MN{constructor(e,n,r=[],i,o,a,s,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=a,this.skipped=s,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new MN(e,n,[],Zr.empty,0,r,[],null)}startParse(){return this.parser.startParse(new oct(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Zr.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Nd.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Nd.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=yb;yb=this;try{return e()}finally{yb=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=IZ(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:a,skipped:s}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,f,d)=>l.push({fromA:u,toA:c,fromB:f,toB:d})),r=Nd.applyChanges(r,l),i=Zr.empty,o=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){s=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),f=e.mapPos(u.to,-1);c<f&&s.push({from:c,to:f})}}}return new MN(this.parser,n,r,i,o,a,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=IZ(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends hge{createParse(n,r,i){let o=i[0].from,a=i[i.length-1].to;return{parsedPos:o,advance(){let l=yb;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=a,new Zr(Nl.none,[],[],a-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return yb}};function IZ(t,e,n){return Nd.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Hv{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Hv(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=TN.create(e.facet($0).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Hv(r)}}nu.state=Io.define({create:Hv.init,update(t,e){for(let n of e.effects)if(n.is(nu.setState))return n.value;return e.startState.facet($0)!=e.state.facet($0)?Hv.init(e.state):t.apply(e)}});let jve=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(jve=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const w9=typeof navigator<"u"&&(!((b9=navigator.scheduling)===null||b9===void 0)&&b9.isInputPending)?()=>navigator.scheduling.isInputPending():null,act=io.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(nu.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(nu.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=jve(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(nu.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!w9?Math.max(25,e.timeRemaining()-5):1e9),s=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work(()=>w9&&w9()||Date.now()>a,i+(s?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:nu.setState.of(new Hv(o.context))})),this.chunkBudget>0&&!(l&&!s)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Fs(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),$0=Et.define({combine(t){return t.length?t[0]:null},enables:t=>[nu.state,act,Dt.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class sct{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class je{constructor(e,n,r,i,o,a=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=o,this.support=a,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new je(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(o=>o==n))return i;if(r)for(let i of e)for(let o of i.alias){let a=n.indexOf(o);if(a>-1&&(o.length>2||!/\w/.test(n[a-1])&&!/\w/.test(n[a+o.length])))return i}return null}}const lct=Et.define(),d7=Et.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function t1(t){let e=t.facet(d7);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function hw(t,e){let n="",r=t.tabSize,i=t.facet(d7)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}function QF(t,e){t instanceof gi&&(t=new h7(t));for(let r of t.state.facet(lct)){let i=r(t,e);if(i!==void 0)return i}let n=ta(t.state);return n.length>=e?uct(t,n,e):null}class h7{constructor(e,n={}){this.state=e,this.options=n,this.unit=t1(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.countColumn(r,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(o+=a-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,n=e.length){return Ny(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let a=o(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Wve=new Bn;function uct(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let o=[];for(let a=i;a&&!(a.from<r.node.from||a.to>r.node.to||a.from==r.node.from&&a.type==r.node.type);a=a.parent)o.push(a);for(let a=o.length-1;a>=0;a--)r={node:o[a],next:r}}return Gve(r,t,n)}function Gve(t,e,n){for(let r=t;r;r=r.next){let i=fct(r.node);if(i)return i(eL.create(e,n,r))}return 0}function cct(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function fct(t){let e=t.type.prop(Wve);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Bn.closedBy))){let i=t.lastChild,o=i&&r.indexOf(i.name)>-1;return a=>Kve(a,!0,1,void 0,o&&!cct(a)?i.from:void 0)}return t.parent==null?dct:null}function dct(){return 0}class eL extends h7{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new eL(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(hct(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return Gve(this.context.next,this.base,this.pos)}}function hct(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function pct(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),a=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let s=n.to;;){let l=e.childAfter(s);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=a)return null;let u=/^ */.exec(o.text.slice(n.to-o.from))[0].length;return{from:n.from,to:n.to+u}}s=l.to}}function YNt({closing:t,align:e=!0,units:n=1}){return r=>Kve(r,e,n,t)}function Kve(t,e,n,r,i){let o=t.textAfter,a=o.match(/^\s*/)[0].length,s=r&&o.slice(a,a+r.length)==r||i==t.pos+a,l=e?pct(t):null;return l?s?t.column(l.from):t.column(l.to):t.baseIndent+(s?0:t.unit*n)}const ZNt=t=>t.baseIndent;function JNt({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const mct=200;function gct(){return gi.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+mct)return t;let o=n.sliceString(i.from,r);if(!e.some(u=>u.test(o)))return t;let{state:a}=t,s=-1,l=[];for(let{head:u}of a.selection.ranges){let c=a.doc.lineAt(u);if(c.from==s)continue;s=c.from;let f=QF(a,c.from);if(f==null)continue;let d=/^\s*/.exec(c.text)[0],h=hw(a,f);d!=h&&l.push({from:c.from,to:c.from+d.length,insert:h})}return l.length?[t,{changes:l,sequential:!0}]:t})}const vct=Et.define(),yct=new Bn;function QNt(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function bct(t,e,n){let r=ta(t);if(r.length<n)return null;let i=r.resolveStack(n,1),o=null;for(let a=i;a;a=a.next){let s=a.node;if(s.to<=n||s.from>n)continue;if(o&&s.from<e)break;let l=s.type.prop(yct);if(l&&(s.to<r.length-50||r.length==t.doc.length||!wct(s))){let u=l(s,t);u&&u.from<=n&&u.from>=e&&u.to>n&&(o=u)}}return o}function wct(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function VC(t,e,n){for(let r of t.facet(vct)){let i=r(t,e,n);if(i)return i}return bct(t,e,n)}function Xve(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const p7=xn.define({map:Xve}),C4=xn.define({map:Xve});function Yve(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const n1=Io.define({create(){return Yt.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=PZ(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(p7)&&!xct(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(Qve),i=r?Yt.replace({widget:new Tct(r(e.state,n.value))}):RZ;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(C4)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=PZ(t,e.selection.main.head)),t},provide:t=>Dt.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(RZ.range(r,i))}return Yt.set(e,!0)}});function PZ(t,e,n=e){let r=!1;return t.between(e,n,(i,o)=>{i<n&&o>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(i,o)=>i>=n||o<=e}):t}function HC(t,e,n){var r;let i=null;return(r=t.field(n1,!1))===null||r===void 0||r.between(e,n,(o,a)=>{(!i||i.from>o)&&(i={from:o,to:a})}),i}function xct(t,e,n){let r=!1;return t.between(e,e,(i,o)=>{i==e&&o==n&&(r=!0)}),r}function Zve(t,e){return t.field(n1,!1)?e:e.concat(xn.appendConfig.of(eye()))}const Sct=t=>{for(let e of Yve(t)){let n=VC(t.state,e.from,e.to);if(n)return t.dispatch({effects:Zve(t.state,[p7.of(n),Jve(t,n)])}),!0}return!1},_ct=t=>{if(!t.state.field(n1,!1))return!1;let e=[];for(let n of Yve(t)){let r=HC(t.state,n.from,n.to);r&&e.push(C4.of(r),Jve(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function Jve(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Dt.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const Cct=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),o=VC(e,i.from,i.to);o&&n.push(p7.of(o)),r=(o?t.lineBlockAt(o.to):i).to+1}return n.length&&t.dispatch({effects:Zve(t.state,n)}),!!n.length},kct=t=>{let e=t.state.field(n1,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(C4.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},Ect=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Sct},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:_ct},{key:"Ctrl-Alt-[",run:Cct},{key:"Ctrl-Alt-]",run:kct}],Act={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Qve=Et.define({combine(t){return kf(t,Act)}});function eye(t){return[n1,Nct]}function tye(t,e){let{state:n}=t,r=n.facet(Qve),i=a=>{let s=t.lineBlockAt(t.posAtDOM(a.target)),l=HC(t.state,s.from,s.to);l&&t.dispatch({effects:C4.of(l)}),a.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",n.phrase("folded code")),o.title=n.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const RZ=Yt.replace({widget:new class extends dh{toDOM(t){return tye(t,null)}}});class Tct extends dh{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return tye(e,this.value)}}const Mct={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class x9 extends Qd{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function Dct(t={}){let e={...Mct,...t},n=new x9(e,!0),r=new x9(e,!1),i=io.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet($0)!=a.state.facet($0)||a.startState.field(n1,!1)!=a.state.field(n1,!1)||ta(a.startState)!=ta(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let s=new Yd;for(let l of a.viewportLineBlocks){let u=HC(a.state,l.from,l.to)?r:VC(a.state,l.from,l.to)?n:null;u&&s.add(l.from,l.from,u)}return s.finish()}}),{domEventHandlers:o}=e;return[i,$ut({class:"cm-foldGutter",markers(a){var s;return((s=a.plugin(i))===null||s===void 0?void 0:s.markers)||nr.empty},initialSpacer(){return new x9(e,!1)},domEventHandlers:{...o,click:(a,s,l)=>{if(o.click&&o.click(a,s,l))return!0;let u=HC(a.state,s.from,s.to);if(u)return a.dispatch({effects:C4.of(u)}),!0;let c=VC(a.state,s.from,s.to);return c?(a.dispatch({effects:p7.of(c)}),!0):!1}}}),eye()]}const Nct=Dt.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class k4{constructor(e,n){this.specs=e;let r;function i(s){let l=F0.newName();return(r||(r=Object.create(null)))["."+l]=s,l}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,a=n.scope;this.scope=a instanceof nu?s=>s.prop(sm)==a.data:a?s=>s==a:void 0,this.style=Hve(e.map(s=>({tag:s.tag,class:s.class||i(Object.assign({},s,{tag:null}))})),{all:o}).style,this.module=r?new F0(r):null,this.themeType=n.themeType}static define(e,n){return new k4(e,n||{})}}const DN=Et.define(),nye=Et.define({combine(t){return t.length?[t[0]]:null}});function S9(t){let e=t.facet(DN);return e.length?e:t.facet(nye)}function rye(t,e){let n=[Ict],r;return t instanceof k4&&(t.module&&n.push(Dt.styleModule.of(t.module)),r=t.themeType),e?.fallback?n.push(nye.of(t)):r?n.push(DN.computeN([Dt.darkTheme],i=>i.facet(Dt.darkTheme)==(r=="dark")?[t]:[])):n.push(DN.of(t)),n}class Oct{constructor(e){this.markCache=Object.create(null),this.tree=ta(e.state),this.decorations=this.buildDeco(e,S9(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=ta(e.state),r=S9(e.state),i=r!=S9(e.startState),{viewport:o}=e.view,a=e.changes.mapPos(this.decoratedTo,1);n.length<o.to&&!i&&n.type==this.tree.type&&a>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,n){if(!n||!this.tree.length)return Yt.none;let r=new Yd;for(let{from:i,to:o}of e.visibleRanges)tct(this.tree,n,(a,s,l)=>{r.add(a,s,this.markCache[l]||(this.markCache[l]=Yt.mark({class:l})))},i,o);return r.finish()}}const Ict=mp.high(io.fromClass(Oct,{decorations:t=>t.decorations})),Pct=k4.define([{tag:Ye.meta,color:"#404740"},{tag:Ye.link,textDecoration:"underline"},{tag:Ye.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Ye.emphasis,fontStyle:"italic"},{tag:Ye.strong,fontWeight:"bold"},{tag:Ye.strikethrough,textDecoration:"line-through"},{tag:Ye.keyword,color:"#708"},{tag:[Ye.atom,Ye.bool,Ye.url,Ye.contentSeparator,Ye.labelName],color:"#219"},{tag:[Ye.literal,Ye.inserted],color:"#164"},{tag:[Ye.string,Ye.deleted],color:"#a11"},{tag:[Ye.regexp,Ye.escape,Ye.special(Ye.string)],color:"#e40"},{tag:Ye.definition(Ye.variableName),color:"#00f"},{tag:Ye.local(Ye.variableName),color:"#30a"},{tag:[Ye.typeName,Ye.namespace],color:"#085"},{tag:Ye.className,color:"#167"},{tag:[Ye.special(Ye.variableName),Ye.macroName],color:"#256"},{tag:Ye.definition(Ye.propertyName),color:"#00c"},{tag:Ye.comment,color:"#940"},{tag:Ye.invalid,color:"#f00"}]),Rct=Dt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),iye=1e4,oye="()[]{}",aye=Et.define({combine(t){return kf(t,{afterCursor:!0,brackets:oye,maxScanDistance:iye,renderMatch:$ct})}}),Fct=Yt.mark({class:"cm-matchingBracket"}),Lct=Yt.mark({class:"cm-nonmatchingBracket"});function $ct(t){let e=[],n=t.matched?Fct:Lct;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const Bct=Io.define({create(){return Yt.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(aye);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=jc(e.state,i.head,-1,r)||i.head>0&&jc(e.state,i.head-1,1,r)||r.afterCursor&&(jc(e.state,i.head,1,r)||i.head<e.state.doc.length&&jc(e.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,e.state)))}return Yt.set(n,!0)},provide:t=>Dt.decorations.from(t)}),zct=[Bct,Rct];function qct(t={}){return[aye.of(t),zct]}const Vct=new Bn;function NN(t,e,n){let r=t.prop(e<0?Bn.openedBy:Bn.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function ON(t){let e=t.type.prop(Vct);return e?e(t.node):t}function jc(t,e,n,r={}){let i=r.maxScanDistance||iye,o=r.brackets||oye,a=ta(t),s=a.resolveInner(e,n);for(let l=s;l;l=l.parent){let u=NN(l.type,n,o);if(u&&l.from<l.to){let c=ON(l);if(c&&(n>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return Hct(t,e,n,l,c,u,o)}}return Uct(t,e,n,a,s.type,i,o)}function Hct(t,e,n,r,i,o,a){let s=r.parent,l={from:i.from,to:i.to},u=0,c=s?.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do if(n<0?c.to<=r.from:c.from>=r.to){if(u==0&&o.indexOf(c.type.name)>-1&&c.from<c.to){let f=ON(c);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(NN(c.type,n,a))u++;else if(NN(c.type,-n,a)){if(u==0){let f=ON(c);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}u--}}while(n<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function Uct(t,e,n,r,i,o,a){let s=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=a.indexOf(s);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let d=0;!c.next().done&&d<=o;){let h=c.value;n<0&&(d+=h.length);let p=e+d*n;for(let m=n>0?0:h.length-1,g=n>0?h.length:-1;m!=g;m+=n){let v=a.indexOf(h[m]);if(!(v<0||r.resolveInner(p+m,1).type!=i))if(v%2==0==n>0)f++;else{if(f==1)return{start:u,end:{from:p+m,to:p+m+1},matched:v>>1==l>>1};f--}}n>0&&(d+=h.length)}return c.done?{start:u,matched:!1}:null}function FZ(t,e,n,r=0,i=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let o=i;for(let a=r;a<e;a++)t.charCodeAt(a)==9?o+=n-o%n:o++;return o}class sye{constructor(e,n,r,i){this.string=e,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=FZ(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:FZ(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let i=a=>r?a.toLowerCase():a,o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function jct(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||Wct,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||rL,mergeTokens:t.mergeTokens!==!1}}function Wct(t){if(typeof t!="object")return t;let e={};for(let n in t){let r=t[n];e[n]=r instanceof Array?r.slice():r}return e}const LZ=new WeakMap;class tL extends nu{constructor(e){let n=Uve(e.languageData),r=jct(e),i,o=new class extends hge{createParse(a,s,l){return new Kct(i,a,s,l)}};super(n,o,[],e.name),this.topNode=Zct(n,this),i=this,this.streamParser=r,this.stateAfter=new Bn({perNode:!0}),this.tokenTable=e.tokenTable?new fye(r.tokenTable):Yct}static define(e){return new tL(e)}getIndent(e){let n,{overrideIndentation:r}=e.options;r&&(n=LZ.get(e.state),n!=null&&n<e.pos-1e4&&(n=void 0));let i=nL(this,e.node.tree,e.node.from,e.node.from,n??e.pos),o,a;if(i?(a=i.state,o=i.pos+1):(a=this.streamParser.startState(e.unit),o=e.node.from),e.pos-o>1e4)return null;for(;o<e.pos;){let l=e.state.doc.lineAt(o),u=Math.min(e.pos,l.to);if(l.length){let c=r?r(l.from):-1,f=new sye(l.text,e.state.tabSize,e.unit,c<0?void 0:c);for(;f.pos<u-l.from;)uye(this.streamParser.token,f,a)}else this.streamParser.blankLine(a,e.unit);if(u==e.pos)break;o=l.to+1}let s=e.lineAt(e.pos);return r&&n==null&&LZ.set(e.state,s.from),this.streamParser.indent(a,/^\s*(.*)/.exec(s.text)[1],e)}get allowsNesting(){return!1}}function nL(t,e,n,r,i){let o=n>=r&&n+e.length<=i&&e.prop(t.stateAfter);if(o)return{state:t.streamParser.copyState(o),pos:n+e.length};for(let a=e.children.length-1;a>=0;a--){let s=e.children[a],l=n+e.positions[a],u=s instanceof Zr&&l<i&&nL(t,s,l,r,i);if(u)return u}return null}function lye(t,e,n,r,i){if(i&&n<=0&&r>=e.length)return e;!i&&n==0&&e.type==t.topNode&&(i=!0);for(let o=e.children.length-1;o>=0;o--){let a=e.positions[o],s=e.children[o],l;if(a<r&&s instanceof Zr){if(!(l=lye(t,s,n-a,r-a,i)))break;return i?new Zr(e.type,e.children.slice(0,o).concat(l),e.positions.slice(0,o+1),a+l.length):l}}return null}function Gct(t,e,n,r,i){for(let o of e){let a=o.from+(o.openStart?25:0),s=o.to-(o.openEnd?25:0),l=a<=n&&s>n&&nL(t,o.tree,0-o.offset,n,s),u;if(l&&l.pos<=r&&(u=lye(t,o.tree,n+o.offset,l.pos+o.offset,!1)))return{state:l.state,tree:u}}return{state:t.streamParser.startState(i?t1(i):4),tree:Zr.empty}}class Kct{constructor(e,n,r,i){this.lang=e,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let o=TN.get(),a=i[0].from,{state:s,tree:l}=Gct(e,r,a,this.to,o?.state);this.state=s,this.parsedPos=this.chunkStart=a+l.length;for(let u=0;u<l.children.length;u++)this.chunks.push(l.children[u]),this.chunkPos.push(l.positions[u]);o&&this.parsedPos<o.viewport.from-1e5&&i.some(u=>u.from<=o.viewport.from&&u.to>=o.viewport.from)&&(this.state=this.lang.streamParser.startState(t1(o.state)),o.skipUntilInView(this.parsedPos,o.viewport.from),this.parsedPos=o.viewport.from),this.moveRangeIndex()}advance(){let e=TN.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+2048);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let i=this.rangeIndex;;){let o=this.ranges[i].to;if(o>=r||(n=n.slice(0,o-(r-n.length)),i++,i==this.ranges.length))break;let a=this.ranges[i].from,s=this.lineAfter(a);n+=s,r=a+s.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,o=e+n;if(r>0?i>o:i>=o)break;let a=this.ranges[++this.rangeIndex].from;n+=a-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,i){let o=4;if(this.ranges.length>1){i=this.skipGapsTo(n,i,1),n+=i;let s=this.chunk.length;i=this.skipGapsTo(r,i,-1),r+=i,o+=this.chunk.length-s}let a=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&o==4&&a>=0&&this.chunk[a]==e&&this.chunk[a+2]==n?this.chunk[a+2]=r:this.chunk.push(e,n,r,o),i}parseLine(e){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:o}=this.lang,a=new sye(n,e?e.state.tabSize:4,e?t1(e.state):2);if(a.eol())o.blankLine(this.state,a.indentUnit);else for(;!a.eol();){let s=uye(o.token,a,this.state);if(s&&(i=this.emitToken(this.lang.tokenTable.resolve(s),this.parsedPos+a.start,this.parsedPos+a.pos,i)),a.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Zr.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:Xct,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new Zr(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Zr(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function uye(t,e,n){e.start=e.pos;for(let r=0;r<10;r++){let i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const rL=Object.create(null),pw=[Nl.none],Xct=new IF(pw),$Z=[],BZ=Object.create(null),cye=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])cye[t]=dye(rL,e);class fye{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),cye)}resolve(e){return e?this.table[e]||(this.table[e]=dye(this.extra,e)):0}}const Yct=new fye(rL);function _9(t,e){$Z.indexOf(t)>-1||($Z.push(t),console.warn(e))}function dye(t,e){let n=[];for(let s of e.split(" ")){let l=[];for(let u of s.split(".")){let c=t[u]||Ye[u];c?typeof c=="function"?l.length?l=l.map(c):_9(u,`Modifier ${u} used at start of tag`):l.length?_9(u,`Tag ${u} used as modifier`):l=Array.isArray(c)?c:[c]:_9(u,`Unknown highlighting tag ${u}`)}for(let u of l)n.push(u)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(s=>s.id),o=BZ[i];if(o)return o.id;let a=BZ[i]=Nl.define({id:pw.length,name:r,props:[Qut({[r]:n})]});return pw.push(a),a.id}function Zct(t,e){let n=Nl.define({id:pw.length,name:"Document",props:[sm.add(()=>t),Wve.add(()=>r=>e.getIndent(r))],top:!0});return pw.push(n),n}si.RTL,si.LTR;function et(t){return new sct(tL.define(t))}function kh(t){return Ge(()=>import("./index-B8IMej3f.js"),__vite__mapDeps([0,1])).then(e=>e.sql({dialect:e[t]}))}const Jct=[je.of({name:"C",extensions:["c","h","ino"],load(){return Ge(()=>import("./index-BnRQntLi.js"),__vite__mapDeps([2,1])).then(t=>t.cpp())}}),je.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return Ge(()=>import("./index-BnRQntLi.js"),__vite__mapDeps([2,1])).then(t=>t.cpp())}}),je.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return kh("Cassandra")}}),je.of({name:"CSS",extensions:["css"],load(){return Ge(()=>import("./index-CUJ2ZwIl.js"),__vite__mapDeps([3,1])).then(t=>t.css())}}),je.of({name:"Go",extensions:["go"],load(){return Ge(()=>import("./index-IIqnekr7.js"),__vite__mapDeps([4,1])).then(t=>t.go())}}),je.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return Ge(()=>import("./index-C6k4OsxE.js"),__vite__mapDeps([5,1,3,6])).then(t=>t.html())}}),je.of({name:"Java",extensions:["java"],load(){return Ge(()=>import("./index-DKXzOsyr.js"),__vite__mapDeps([7,1])).then(t=>t.java())}}),je.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return Ge(()=>import("./index-CKOIJbkl.js"),__vite__mapDeps([6,1])).then(t=>t.javascript())}}),je.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return Ge(()=>import("./index-CQr2Esza.js"),__vite__mapDeps([8,1])).then(t=>t.json())}}),je.of({name:"JSX",extensions:["jsx"],load(){return Ge(()=>import("./index-CKOIJbkl.js"),__vite__mapDeps([6,1])).then(t=>t.javascript({jsx:!0}))}}),je.of({name:"LESS",extensions:["less"],load(){return Ge(()=>import("./index-DI18Cm3u.js"),__vite__mapDeps([9,3,1])).then(t=>t.less())}}),je.of({name:"Liquid",extensions:["liquid"],load(){return Ge(()=>import("./index-vOorZOUn.js"),__vite__mapDeps([10,5,1,3,6])).then(t=>t.liquid())}}),je.of({name:"MariaDB SQL",load(){return kh("MariaSQL")}}),je.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return Ge(()=>import("./index-CENMd7FR.js"),__vite__mapDeps([11,5,1,3,6])).then(t=>t.markdown())}}),je.of({name:"MS SQL",load(){return kh("MSSQL")}}),je.of({name:"MySQL",load(){return kh("MySQL")}}),je.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return Ge(()=>import("./index-B1RC5t3i.js"),__vite__mapDeps([12,1,5,3,6])).then(t=>t.php())}}),je.of({name:"PLSQL",extensions:["pls"],load(){return kh("PLSQL")}}),je.of({name:"PostgreSQL",load(){return kh("PostgreSQL")}}),je.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return Ge(()=>import("./index-BwLonodZ.js"),__vite__mapDeps([13,1])).then(t=>t.python())}}),je.of({name:"Rust",extensions:["rs"],load(){return Ge(()=>import("./index-CCDXFXVR.js"),__vite__mapDeps([14,1])).then(t=>t.rust())}}),je.of({name:"Sass",extensions:["sass"],load(){return Ge(()=>import("./index-lH0WRoWF.js"),__vite__mapDeps([15,1,3])).then(t=>t.sass({indented:!0}))}}),je.of({name:"SCSS",extensions:["scss"],load(){return Ge(()=>import("./index-lH0WRoWF.js"),__vite__mapDeps([15,1,3])).then(t=>t.sass())}}),je.of({name:"SQL",extensions:["sql"],load(){return kh("StandardSQL")}}),je.of({name:"SQLite",load(){return kh("SQLite")}}),je.of({name:"TSX",extensions:["tsx"],load(){return Ge(()=>import("./index-CKOIJbkl.js"),__vite__mapDeps([6,1])).then(t=>t.javascript({jsx:!0,typescript:!0}))}}),je.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return Ge(()=>import("./index-CKOIJbkl.js"),__vite__mapDeps([6,1])).then(t=>t.javascript({typescript:!0}))}}),je.of({name:"WebAssembly",extensions:["wat","wast"],load(){return Ge(()=>import("./index-lkF9FtKD.js"),__vite__mapDeps([16,1])).then(t=>t.wast())}}),je.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return Ge(()=>import("./index-xlm5Ad-_.js"),__vite__mapDeps([17,1])).then(t=>t.xml())}}),je.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return Ge(()=>import("./index-L6k2Z6El.js"),__vite__mapDeps([18,1])).then(t=>t.yaml())}}),je.of({name:"APL",extensions:["dyalog","apl"],load(){return Ge(()=>import("./apl-B4CMkyY2.js"),[]).then(t=>et(t.apl))}}),je.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return Ge(()=>import("./asciiarmor-Df11BRmG.js"),[]).then(t=>et(t.asciiArmor))}}),je.of({name:"ASN.1",extensions:["asn","asn1"],load(){return Ge(()=>import("./asn1-EdZsLKOL.js"),[]).then(t=>et(t.asn1({})))}}),je.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return Ge(()=>import("./asterisk-B-8jnY81.js"),[]).then(t=>et(t.asterisk))}}),je.of({name:"Brainfuck",extensions:["b","bf"],load(){return Ge(()=>import("./brainfuck-C4LP7Hcl.js"),[]).then(t=>et(t.brainfuck))}}),je.of({name:"Cobol",extensions:["cob","cpy"],load(){return Ge(()=>import("./cobol-CWcv1MsR.js"),[]).then(t=>et(t.cobol))}}),je.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return Ge(()=>import("./clike-Cr_nJiF2.js"),[]).then(t=>et(t.csharp))}}),je.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return Ge(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>et(t.clojure))}}),je.of({name:"ClojureScript",extensions:["cljs"],load(){return Ge(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>et(t.clojure))}}),je.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return Ge(()=>import("./css-BnMrqG3P.js"),[]).then(t=>et(t.gss))}}),je.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return Ge(()=>import("./cmake-BQqOBYOt.js"),[]).then(t=>et(t.cmake))}}),je.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return Ge(()=>import("./coffeescript-S37ZYGWr.js"),[]).then(t=>et(t.coffeeScript))}}),je.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return Ge(()=>import("./commonlisp-DBKNyK5s.js"),[]).then(t=>et(t.commonLisp))}}),je.of({name:"Cypher",extensions:["cyp","cypher"],load(){return Ge(()=>import("./cypher-C_CwsFkJ.js"),[]).then(t=>et(t.cypher))}}),je.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return Ge(()=>import("./python-BuPzkPfP.js"),[]).then(t=>et(t.cython))}}),je.of({name:"Crystal",extensions:["cr"],load(){return Ge(()=>import("./crystal-SjHAIU92.js"),[]).then(t=>et(t.crystal))}}),je.of({name:"D",extensions:["d"],load(){return Ge(()=>import("./d-pRatUO7H.js"),[]).then(t=>et(t.d))}}),je.of({name:"Dart",extensions:["dart"],load(){return Ge(()=>import("./clike-Cr_nJiF2.js"),[]).then(t=>et(t.dart))}}),je.of({name:"diff",extensions:["diff","patch"],load(){return Ge(()=>import("./diff-DbItnlRl.js"),[]).then(t=>et(t.diff))}}),je.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return Ge(()=>import("./dockerfile-BU1Ap__c.js"),__vite__mapDeps([19,20])).then(t=>et(t.dockerFile))}}),je.of({name:"DTD",extensions:["dtd"],load(){return Ge(()=>import("./dtd-DF_7sFjM.js"),[]).then(t=>et(t.dtd))}}),je.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return Ge(()=>import("./dylan-DwRh75JA.js"),[]).then(t=>et(t.dylan))}}),je.of({name:"EBNF",load(){return Ge(()=>import("./ebnf-CDyGwa7X.js"),[]).then(t=>et(t.ebnf))}}),je.of({name:"ECL",extensions:["ecl"],load(){return Ge(()=>import("./ecl-Cabwm37j.js"),[]).then(t=>et(t.ecl))}}),je.of({name:"edn",extensions:["edn"],load(){return Ge(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>et(t.clojure))}}),je.of({name:"Eiffel",extensions:["e"],load(){return Ge(()=>import("./eiffel-CnydiIhH.js"),[]).then(t=>et(t.eiffel))}}),je.of({name:"Elm",extensions:["elm"],load(){return Ge(()=>import("./elm-vLlmbW-K.js"),[]).then(t=>et(t.elm))}}),je.of({name:"Erlang",extensions:["erl"],load(){return Ge(()=>import("./erlang-BNw1qcRV.js"),[]).then(t=>et(t.erlang))}}),je.of({name:"Esper",load(){return Ge(()=>import("./sql-D0XecflT.js"),[]).then(t=>et(t.esper))}}),je.of({name:"Factor",extensions:["factor"],load(){return Ge(()=>import("./factor-BPndPnYX.js"),__vite__mapDeps([21,20])).then(t=>et(t.factor))}}),je.of({name:"FCL",load(){return Ge(()=>import("./fcl-Kvtd6kyn.js"),[]).then(t=>et(t.fcl))}}),je.of({name:"Forth",extensions:["forth","fth","4th"],load(){return Ge(()=>import("./forth-Ffai-XNe.js"),[]).then(t=>et(t.forth))}}),je.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return Ge(()=>import("./fortran-DYz_wnZ1.js"),[]).then(t=>et(t.fortran))}}),je.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return Ge(()=>import("./mllike-CXdrOF99.js"),[]).then(t=>et(t.fSharp))}}),je.of({name:"Gas",extensions:["s"],load(){return Ge(()=>import("./gas-Bneqetm1.js"),[]).then(t=>et(t.gas))}}),je.of({name:"Gherkin",extensions:["feature"],load(){return Ge(()=>import("./gherkin-heZmZLOM.js"),[]).then(t=>et(t.gherkin))}}),je.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return Ge(()=>import("./groovy-D9Dt4D0W.js"),[]).then(t=>et(t.groovy))}}),je.of({name:"Haskell",extensions:["hs"],load(){return Ge(()=>import("./haskell-BWDZoCOh.js"),[]).then(t=>et(t.haskell))}}),je.of({name:"Haxe",extensions:["hx"],load(){return Ge(()=>import("./haxe-H-WmDvRZ.js"),[]).then(t=>et(t.haxe))}}),je.of({name:"HXML",extensions:["hxml"],load(){return Ge(()=>import("./haxe-H-WmDvRZ.js"),[]).then(t=>et(t.hxml))}}),je.of({name:"HTTP",load(){return Ge(()=>import("./http-DBlCnlav.js"),[]).then(t=>et(t.http))}}),je.of({name:"IDL",extensions:["pro"],load(){return Ge(()=>import("./idl-BEugSyMb.js"),[]).then(t=>et(t.idl))}}),je.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return Ge(()=>import("./javascript-qCveANmP.js"),[]).then(t=>et(t.jsonld))}}),je.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return Ge(()=>import("./jinja2-C4DGRd-O.js"),[]).then(t=>et(t.jinja2))}}),je.of({name:"Julia",extensions:["jl"],load(){return Ge(()=>import("./julia-DuME0IfC.js"),[]).then(t=>et(t.julia))}}),je.of({name:"Kotlin",extensions:["kt","kts"],load(){return Ge(()=>import("./clike-Cr_nJiF2.js"),[]).then(t=>et(t.kotlin))}}),je.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return Ge(()=>import("./livescript-BwQOo05w.js"),[]).then(t=>et(t.liveScript))}}),je.of({name:"Lua",extensions:["lua"],load(){return Ge(()=>import("./lua-BgMRiT3U.js"),[]).then(t=>et(t.lua))}}),je.of({name:"mIRC",extensions:["mrc"],load(){return Ge(()=>import("./mirc-CjQqDB4T.js"),[]).then(t=>et(t.mirc))}}),je.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return Ge(()=>import("./mathematica-DTrFuWx2.js"),[]).then(t=>et(t.mathematica))}}),je.of({name:"Modelica",extensions:["mo"],load(){return Ge(()=>import("./modelica-Dc1JOy9r.js"),[]).then(t=>et(t.modelica))}}),je.of({name:"MUMPS",extensions:["mps"],load(){return Ge(()=>import("./mumps-BT43cFF4.js"),[]).then(t=>et(t.mumps))}}),je.of({name:"Mbox",extensions:["mbox"],load(){return Ge(()=>import("./mbox-CNhZ1qSd.js"),[]).then(t=>et(t.mbox))}}),je.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return Ge(()=>import("./nginx-DdIZxoE0.js"),[]).then(t=>et(t.nginx))}}),je.of({name:"NSIS",extensions:["nsh","nsi"],load(){return Ge(()=>import("./nsis-ClDXqMnM.js"),__vite__mapDeps([22,20])).then(t=>et(t.nsis))}}),je.of({name:"NTriples",extensions:["nt","nq"],load(){return Ge(()=>import("./ntriples-BfvgReVJ.js"),[]).then(t=>et(t.ntriples))}}),je.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return Ge(()=>import("./clike-Cr_nJiF2.js"),[]).then(t=>et(t.objectiveC))}}),je.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return Ge(()=>import("./clike-Cr_nJiF2.js"),[]).then(t=>et(t.objectiveCpp))}}),je.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return Ge(()=>import("./mllike-CXdrOF99.js"),[]).then(t=>et(t.oCaml))}}),je.of({name:"Octave",extensions:["m"],load(){return Ge(()=>import("./octave-Ck1zUtKM.js"),[]).then(t=>et(t.octave))}}),je.of({name:"Oz",extensions:["oz"],load(){return Ge(()=>import("./oz-BzwKVEFT.js"),[]).then(t=>et(t.oz))}}),je.of({name:"Pascal",extensions:["p","pas"],load(){return Ge(()=>import("./pascal--L3eBynH.js"),[]).then(t=>et(t.pascal))}}),je.of({name:"Perl",extensions:["pl","pm"],load(){return Ge(()=>import("./perl-CdXCOZ3F.js"),[]).then(t=>et(t.perl))}}),je.of({name:"Pig",extensions:["pig"],load(){return Ge(()=>import("./pig-CevX1Tat.js"),[]).then(t=>et(t.pig))}}),je.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return Ge(()=>import("./powershell-CFHJl5sT.js"),[]).then(t=>et(t.powerShell))}}),je.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return Ge(()=>import("./properties-C78fOPTZ.js"),[]).then(t=>et(t.properties))}}),je.of({name:"ProtoBuf",extensions:["proto"],load(){return Ge(()=>import("./protobuf-ChK-085T.js"),[]).then(t=>et(t.protobuf))}}),je.of({name:"Pug",alias:["jade"],extensions:["pug","jade"],load(){return Ge(()=>import("./pug-DukmZTjD.js"),__vite__mapDeps([23,24])).then(t=>et(t.pug))}}),je.of({name:"Puppet",extensions:["pp"],load(){return Ge(()=>import("./puppet-DMA9R1ak.js"),[]).then(t=>et(t.puppet))}}),je.of({name:"Q",extensions:["q"],load(){return Ge(()=>import("./q-ZnEupP5q.js"),[]).then(t=>et(t.q))}}),je.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return Ge(()=>import("./r-B6wPVr8A.js"),[]).then(t=>et(t.r))}}),je.of({name:"RPM Changes",load(){return Ge(()=>import("./rpm-CTu-6PCP.js"),[]).then(t=>et(t.rpmChanges))}}),je.of({name:"RPM Spec",extensions:["spec"],load(){return Ge(()=>import("./rpm-CTu-6PCP.js"),[]).then(t=>et(t.rpmSpec))}}),je.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return Ge(()=>import("./ruby-B2Rjki9n.js"),[]).then(t=>et(t.ruby))}}),je.of({name:"SAS",extensions:["sas"],load(){return Ge(()=>import("./sas-B4kiWyti.js"),[]).then(t=>et(t.sas))}}),je.of({name:"Scala",extensions:["scala"],load(){return Ge(()=>import("./clike-Cr_nJiF2.js"),[]).then(t=>et(t.scala))}}),je.of({name:"Scheme",extensions:["scm","ss"],load(){return Ge(()=>import("./scheme-C41bIUwD.js"),[]).then(t=>et(t.scheme))}}),je.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return Ge(()=>import("./shell-CjFT_Tl9.js"),[]).then(t=>et(t.shell))}}),je.of({name:"Sieve",extensions:["siv","sieve"],load(){return Ge(()=>import("./sieve-C3Gn_uJK.js"),[]).then(t=>et(t.sieve))}}),je.of({name:"Smalltalk",extensions:["st"],load(){return Ge(()=>import("./smalltalk-CnHTOXQT.js"),[]).then(t=>et(t.smalltalk))}}),je.of({name:"Solr",load(){return Ge(()=>import("./solr-DehyRSwq.js"),[]).then(t=>et(t.solr))}}),je.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return Ge(()=>import("./mllike-CXdrOF99.js"),[]).then(t=>et(t.sml))}}),je.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return Ge(()=>import("./sparql-DkYu6x3z.js"),[]).then(t=>et(t.sparql))}}),je.of({name:"Spreadsheet",alias:["excel","formula"],load(){return Ge(()=>import("./spreadsheet-BCZA_wO0.js"),[]).then(t=>et(t.spreadsheet))}}),je.of({name:"Squirrel",extensions:["nut"],load(){return Ge(()=>import("./clike-Cr_nJiF2.js"),[]).then(t=>et(t.squirrel))}}),je.of({name:"Stylus",extensions:["styl"],load(){return Ge(()=>import("./stylus-B533Al4x.js"),[]).then(t=>et(t.stylus))}}),je.of({name:"Swift",extensions:["swift"],load(){return Ge(()=>import("./swift-BzpIVaGY.js"),[]).then(t=>et(t.swift))}}),je.of({name:"sTeX",load(){return Ge(()=>import("./stex-C3f8Ysf7.js"),[]).then(t=>et(t.stex))}}),je.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return Ge(()=>import("./stex-C3f8Ysf7.js"),[]).then(t=>et(t.stex))}}),je.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return Ge(()=>import("./verilog-C6RDOZhf.js"),[]).then(t=>et(t.verilog))}}),je.of({name:"Tcl",extensions:["tcl"],load(){return Ge(()=>import("./tcl-DVfN8rqt.js"),[]).then(t=>et(t.tcl))}}),je.of({name:"Textile",extensions:["textile"],load(){return Ge(()=>import("./textile-CnDTJFAw.js"),[]).then(t=>et(t.textile))}}),je.of({name:"TiddlyWiki",load(){return Ge(()=>import("./tiddlywiki-DO-Gjzrf.js"),[]).then(t=>et(t.tiddlyWiki))}}),je.of({name:"Tiki wiki",load(){return Ge(()=>import("./tiki-DGYXhP31.js"),[]).then(t=>et(t.tiki))}}),je.of({name:"TOML",extensions:["toml"],load(){return Ge(()=>import("./toml-BXUEaScT.js"),[]).then(t=>et(t.toml))}}),je.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return Ge(()=>import("./troff-wAsdV37c.js"),[]).then(t=>et(t.troff))}}),je.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return Ge(()=>import("./ttcn-CfJYG6tj.js"),[]).then(t=>et(t.ttcn))}}),je.of({name:"TTCN_CFG",extensions:["cfg"],load(){return Ge(()=>import("./ttcn-cfg-B9xdYoR4.js"),[]).then(t=>et(t.ttcnCfg))}}),je.of({name:"Turtle",extensions:["ttl"],load(){return Ge(()=>import("./turtle-B1tBg_DP.js"),[]).then(t=>et(t.turtle))}}),je.of({name:"Web IDL",extensions:["webidl"],load(){return Ge(()=>import("./webidl-ZXfAyPTL.js"),[]).then(t=>et(t.webIDL))}}),je.of({name:"VB.NET",extensions:["vb"],load(){return Ge(()=>import("./vb-CmGdzxic.js"),[]).then(t=>et(t.vb))}}),je.of({name:"VBScript",extensions:["vbs"],load(){return Ge(()=>import("./vbscript-BuJXcnF6.js"),[]).then(t=>et(t.vbScript))}}),je.of({name:"Velocity",extensions:["vtl"],load(){return Ge(()=>import("./velocity-D8B20fx6.js"),[]).then(t=>et(t.velocity))}}),je.of({name:"Verilog",extensions:["v"],load(){return Ge(()=>import("./verilog-C6RDOZhf.js"),[]).then(t=>et(t.verilog))}}),je.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return Ge(()=>import("./vhdl-lSbBsy5d.js"),[]).then(t=>et(t.vhdl))}}),je.of({name:"XQuery",extensions:["xy","xquery"],load(){return Ge(()=>import("./xquery-CQfU5ijd.js"),[]).then(t=>et(t.xQuery))}}),je.of({name:"Yacas",extensions:["ys"],load(){return Ge(()=>import("./yacas-BJ4BC0dw.js"),[]).then(t=>et(t.yacas))}}),je.of({name:"Z80",extensions:["z80"],load(){return Ge(()=>import("./z80-Hz9HOZM7.js"),[]).then(t=>et(t.z80))}}),je.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return Ge(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>et(t.mscgen))}}),je.of({name:"X",extensions:["xu"],load(){return Ge(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>et(t.xu))}}),je.of({name:"MsGenny",extensions:["msgenny"],load(){return Ge(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>et(t.msgenny))}}),je.of({name:"Vue",extensions:["vue"],load(){return Ge(()=>import("./index-CxmknPlN.js"),__vite__mapDeps([25,5,1,3,6])).then(t=>t.vue())}}),je.of({name:"Angular Template",load(){return Ge(()=>import("./index-BGZgXiam.js"),__vite__mapDeps([26,5,1,3,6])).then(t=>t.angular())}})],Qct="#e5c07b",zZ="#e06c75",eft="#56b6c2",tft="#ffffff",_S="#abb2bf",IN="#7d8799",nft="#61afef",rft="#98c379",qZ="#d19a66",ift="#c678dd",oft="#21252b",VZ="#2c313a",HZ="#282c34",C9="#353a42",aft="#3E4451",UZ="#528bff",sft=Dt.theme({"&":{color:_S,backgroundColor:HZ},".cm-content":{caretColor:UZ},".cm-cursor, .cm-dropCursor":{borderLeftColor:UZ},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:aft},".cm-panels":{backgroundColor:oft,color:_S},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:HZ,color:IN,border:"none"},".cm-activeLineGutter":{backgroundColor:VZ},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:C9},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:C9,borderBottomColor:C9},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:VZ,color:_S}}},{dark:!0}),lft=k4.define([{tag:Ye.keyword,color:ift},{tag:[Ye.name,Ye.deleted,Ye.character,Ye.propertyName,Ye.macroName],color:zZ},{tag:[Ye.function(Ye.variableName),Ye.labelName],color:nft},{tag:[Ye.color,Ye.constant(Ye.name),Ye.standard(Ye.name)],color:qZ},{tag:[Ye.definition(Ye.name),Ye.separator],color:_S},{tag:[Ye.typeName,Ye.className,Ye.number,Ye.changed,Ye.annotation,Ye.modifier,Ye.self,Ye.namespace],color:Qct},{tag:[Ye.operator,Ye.operatorKeyword,Ye.url,Ye.escape,Ye.regexp,Ye.link,Ye.special(Ye.string)],color:eft},{tag:[Ye.meta,Ye.comment],color:IN},{tag:Ye.strong,fontWeight:"bold"},{tag:Ye.emphasis,fontStyle:"italic"},{tag:Ye.strikethrough,textDecoration:"line-through"},{tag:Ye.link,color:IN,textDecoration:"underline"},{tag:Ye.heading,fontWeight:"bold",color:zZ},{tag:[Ye.atom,Ye.bool,Ye.special(Ye.variableName)],color:qZ},{tag:[Ye.processingInstruction,Ye.string,Ye.inserted],color:rft},{tag:Ye.invalid,color:tft}]),uft=[sft,rye(lft)];function zo(t){this.content=t}zo.prototype={constructor:zo,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new zo(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new zo(n)},addToStart:function(t,e){return new zo([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new zo(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new zo(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=zo.from(t),t.size?new zo(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=zo.from(t),t.size?new zo(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=zo.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};zo.from=function(t){if(t instanceof zo)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new zo(e)};function hye(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)n++;return n}if(i.content.size||o.content.size){let a=hye(i.content,o.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function pye(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let a=t.child(--i),s=e.child(--o),l=a.nodeSize;if(a==s){n-=l,r-=l;continue}if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){let u=0,c=Math.min(a.text.length,s.text.length);for(;u<c&&a.text[a.text.length-u-1]==s.text[s.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){let u=pye(a.content,s.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class rt{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let a=0,s=0;s<n;a++){let l=this.content[a],u=s+l.nodeSize;if(u>e&&r(l,i+s,o||null,a)!==!1&&l.content.size){let c=s+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,n-c),r,i+c)}s=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",a=!0;return this.nodesBetween(e,n,(s,l)=>{let u=s.isText?s.text.slice(Math.max(e,l)-l,n-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&u||s.isTextblock)&&r&&(a?a=!1:o+=r),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new rt(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,a=0;a<n;o++){let s=this.content[o],l=a+s.nodeSize;l>e&&((a<e||l>n)&&(s.isText?s=s.cut(Math.max(0,e-a),Math.min(s.text.length,n-a)):s=s.cut(Math.max(0,e-a-1),Math.min(s.content.size,n-a-1))),r.push(s),i+=s.nodeSize),a=l}return new rt(r,i)}cutByIndex(e,n){return e==n?rt.empty:e==0&&n==this.content.length?this:new rt(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new rt(i,o)}addToStart(e){return new rt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new rt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return hye(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return pye(this,e,n,r)}findIndex(e){if(e==0)return Q5(0,e);if(e==this.size)return Q5(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=e)return o==e?Q5(n+1,o):Q5(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return rt.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new rt(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return rt.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new rt(n||e,r)}static from(e){if(!e)return rt.empty;if(e instanceof rt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new rt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}rt.empty=new rt([],0);const k9={index:0,offset:0};function Q5(t,e){return k9.index=t,k9.offset=e,k9}function UC(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!UC(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!UC(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class Nn{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&UC(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Nn.none;if(e instanceof Nn)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}Nn.none=[];class jC extends Error{}let _t=class gg{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=gye(this.content,e+this.openStart,n);return r&&new gg(r,this.openStart,this.openEnd)}removeBetween(e,n){return new gg(mye(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return gg.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new gg(rt.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new gg(e,r,i)}};_t.empty=new _t(rt.empty,0,0);function mye(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:a,offset:s}=t.findIndex(n);if(i==e||o.isText){if(s!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(mye(o.content,e-i-1,n-i-1)))}function gye(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),a=t.maybeChild(i);if(o==e||a.isText)return t.cut(0,e).append(n).append(t.cut(e));let s=gye(a.content,e-o-1,n);return s&&t.replaceChild(i,a.copy(s))}function cft(t,e,n){if(n.openStart>t.depth)throw new jC("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new jC("Inconsistent open depths");return vye(t,e,n,0)}function vye(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=vye(t,e,n,r+1);return o.copy(o.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,s=a.content;return Im(a,s.cut(0,t.parentOffset).append(n.content).append(s.cut(e.parentOffset)))}else{let{start:a,end:s}=fft(n,t);return Im(o,bye(t,a,s,e,r))}else return Im(o,WC(t,e,r))}function yye(t,e){if(!e.type.compatibleContent(t.type))throw new jC("Cannot join "+e.type.name+" onto "+t.type.name)}function PN(t,e,n){let r=t.node(n);return yye(r,e.node(n)),r}function Om(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function U2(t,e,n,r){let i=(e||t).node(n),o=0,a=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Om(t.nodeAfter,r),o++));for(let s=o;s<a;s++)Om(i.child(s),r);e&&e.depth==n&&e.textOffset&&Om(e.nodeBefore,r)}function Im(t,e){return t.type.checkContent(e),t.copy(e)}function bye(t,e,n,r,i){let o=t.depth>i&&PN(t,e,i+1),a=r.depth>i&&PN(n,r,i+1),s=[];return U2(null,t,i,s),o&&a&&e.index(i)==n.index(i)?(yye(o,a),Om(Im(o,bye(t,e,n,r,i+1)),s)):(o&&Om(Im(o,WC(t,e,i+1)),s),U2(e,n,i,s),a&&Om(Im(a,WC(n,r,i+1)),s)),U2(r,null,i,s),new rt(s)}function WC(t,e,n){let r=[];if(U2(null,t,n,r),t.depth>n){let i=PN(t,e,n+1);Om(Im(i,WC(t,e,n+1)),r)}return U2(e,null,n,r),new rt(r)}function fft(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(rt.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class mw{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Nn.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let s=r;r=i,i=s}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new wye(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let a=e;;){let{index:s,offset:l}=a.content.findIndex(o),u=o-l;if(r.push(a,s,i+l),!u||(a=a.child(s),a.isText))break;o=u-1,i+=l+1}return new mw(n,r,o)}static resolveCached(e,n){let r=jZ.get(e);if(r)for(let o=0;o<r.elts.length;o++){let a=r.elts[o];if(a.pos==n)return a}else jZ.set(e,r=new dft);let i=r.elts[r.i]=mw.resolve(e,n);return r.i=(r.i+1)%hft,i}}class dft{constructor(){this.elts=[],this.i=0}}const hft=12,jZ=new WeakMap;class wye{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const pft=Object.create(null);let Id=class RN{constructor(e,n,r,i=Nn.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||rt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&UC(this.attrs,n||e.defaultAttrs||pft)&&Nn.sameSet(this.marks,r||Nn.none)}copy(e=null){return e==this.content?this:new RN(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new RN(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return _t.empty;let i=this.resolve(e),o=this.resolve(n),a=r?0:i.sharedDepth(n),s=i.start(a),u=i.node(a).content.cut(i.pos-s,o.pos-s);return new _t(u,i.depth-a,o.depth-a)}replace(e,n,r){return cft(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return mw.resolveCached(this,e)}resolveNoCache(e){return mw.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),xye(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=rt.empty,i=0,o=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,o),s=a&&a.matchFragment(this.content,n);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),a=o&&o.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Nn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Nn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=rt.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Id.prototype.text=void 0;let mft=class FN extends Id{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):xye(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new FN(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new FN(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function xye(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class r1{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new gft(e,n);if(r.next==null)return r1.empty;let i=Sye(r);r.next&&r.err("Unexpected trailing text");let o=_ft(Sft(i));return Cft(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(a,s){let l=a.matchFragment(e,r);if(l&&(!n||l.validEnd))return rt.from(s.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:c,next:f}=a.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,s.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in n)&&(!i.type||l.validEnd)&&(r.push({match:s.contentMatch,type:s,via:i}),n[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return o}).join(`
`)}}r1.empty=new r1(!0);class gft{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Sye(t){let e=[];do e.push(vft(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function vft(t){let e=[];do e.push(yft(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function yft(t){let e=xft(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=bft(t,e);else break;return e}function WZ(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function bft(t,e){let n=WZ(t),r=n;return t.eat(",")&&(t.next!="}"?r=WZ(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function wft(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let a=n[o];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function xft(t){if(t.eat("(")){let e=Sye(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=wft(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Sft(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(a,s,l){let u={term:l,to:s};return e[a].push(u),u}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,u)=>l.concat(o(u,s)),[]);if(a.type=="seq")for(let l=0;;l++){let u=o(a.exprs[l],s);if(l==a.exprs.length-1)return u;i(u,s=n())}else if(a.type=="star"){let l=n();return r(s,l),i(o(a.expr,l),l),[r(l)]}else if(a.type=="plus"){let l=n();return i(o(a.expr,s),l),i(o(a.expr,l),l),[r(l)]}else{if(a.type=="opt")return[r(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let u=0;u<a.min;u++){let c=n();i(o(a.expr,l),c),l=c}if(a.max==-1)i(o(a.expr,l),l);else for(let u=a.min;u<a.max;u++){let c=n();r(l,c),i(o(a.expr,l),c),l=c}return[r(l)]}else{if(a.type=="name")return[r(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function _ye(t,e){return e-t}function GZ(t,e){let n=[];return r(e),n.sort(_ye);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&n.indexOf(l)==-1&&r(l)}}}function _ft(t){let e=Object.create(null);return n(GZ(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let c=0;c<i.length;c++)i[c][0]==s&&(u=i[c][1]);GZ(t,l).forEach(c=>{u||i.push([s,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new r1(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(_ye);o.next.push({type:i[a][0],next:e[s.join(",")]||n(s)})}return o}}function Cft(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Cye(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function kye(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Eye(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function Aye(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new Eft(t,r,e[r]);return n}let GC=class Tye{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Aye(e,r.attrs),this.defaultAttrs=Cye(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==r1.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:kye(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Id(this,this.computeAttrs(e),rt.from(n),Nn.setFrom(r))}createChecked(e=null,n,r){return n=rt.from(n),this.checkContent(n),new Id(this,this.computeAttrs(e),n,Nn.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=rt.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(rt.empty,!0);return o?new Id(this,e,n.append(o),Nn.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Eye(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Nn.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,a)=>r[o]=new Tye(o,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function kft(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class Eft{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?kft(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class m7{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=Aye(e,i.attrs),this.excluded=null;let o=Cye(this.attrs);this.instance=o?new Nn(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Nn(this,kye(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,a)=>r[o]=new m7(o,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Eye(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Mye{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=zo.from(e.nodes),n.marks=zo.from(e.marks||{}),this.nodes=GC.compile(this.spec.nodes,this),this.marks=m7.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=r[a]||(r[a]=r1.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?KZ(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:KZ(this,a.split(" "))}this.nodeFromJSON=i=>Id.fromJSON(this,i),this.markFromJSON=i=>Nn.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof GC){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new mft(r,r.defaultAttrs,e,Nn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function KZ(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],a=o;if(o)n.push(o);else for(let s in t.marks){let l=t.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function Aft(t){return t.tag!=null}function Tft(t){return t.style!=null}class i1{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(Aft(i))this.tags.push(i);else if(Tft(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new YZ(this,n,!1);return r.addAll(e,Nn.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new YZ(this,n,!0);return r.addAll(e,Nn.none,n.from,n.to),_t.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Nft(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=n))){if(a.getAttrs){let l=a.getAttrs(n);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let s=n[a];if((s.priority==null?50:s.priority)<o)break}n.splice(a,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(a=>{r(a=ZZ(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(a=>{r(a=ZZ(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new i1(e,i1.schemaRules(e)))}}const Dye={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Mft={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Nye={ol:!0,ul:!0},gw=1,LN=2,j2=4;function XZ(t,e,n){return e!=null?(e?gw:0)|(e==="full"?LN:0):t&&t.whitespace=="pre"?gw|LN:n&~j2}class e6{constructor(e,n,r,i,o,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=Nn.none,this.match=o||(a&j2?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(rt.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&gw)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=rt.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(rt.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Dye.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class YZ{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,a=XZ(null,n.preserveWhitespace,0)|(r?j2:0);i?o=new e6(i.type,i.attrs,Nn.none,!0,n.topMatch||i.type.contentMatch,a):r?o=new e6(null,null,Nn.none,!0,null,a):o=new e6(e.schema.topNodeType,null,Nn.none,!0,null,a),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,o=i.options&LN?"full":this.localPreserveWS||(i.options&gw)>0;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],s=e.previousSibling;(!a||s&&s.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),s;Nye.hasOwnProperty(a)&&this.parser.normalizeLists&&Dft(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,r));e:if(l?l.ignore:Mft.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,c=this.needsBlock;if(Dye.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),u=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=l&&l.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),u&&this.sync(o),this.needsBlock=c}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,l,u,l.consuming===!1?s:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],a=r.getPropertyValue(o);if(a)for(let s=void 0;;){let l=this.parser.matchStyle(o,a,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return n}addElementByRule(e,n,r,i){let o,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(a,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}o&&this.sync(s)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let a=r?e.childNodes[r]:e.firstChild,s=i==null?null:e.childNodes[i];a!=s;a=a.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(a,n);this.findAtPoint(e,o)}findPlace(e,n,r){let i,o;for(let a=this.open,s=0;a>=0;a--){let l=this.nodes[a],u=l.findWrapping(e);if(u&&(!i||i.length>u.length+s)&&(i=u,o=l,!u.length))break;if(l.solid){if(r)break;s+=2}}if(!i)return null;this.sync(o);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let a=Nn.none;for(let s of i.concat(e.marks))(o.type?o.type.allowsMarkType(s.type):JZ(s.type,e.type))&&(a=s.addToSet(a));return o.content.push(e.mark(a)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let s=XZ(e,o,a.options);a.options&j2&&a.content.length==0&&(s|=j2);let l=Nn.none;return r=r.filter(u=>(a.type?a.type.allowsMarkType(u.type):JZ(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new e6(e,n,l,i,null,s)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=gw)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),a=(s,l)=>{for(;s>=0;s--){let u=n[s];if(u==""){if(s==n.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;l--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Dft(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Nye.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Nft(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ZZ(t){let e={};for(let n in t)e[n]=t[n];return e}function JZ(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:c}=s.edge(l);if(u==e||o.indexOf(c)<0&&a(c))return!0}};if(a(i.contentMatch))return!0}}class T1{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=E9(n).createDocumentFragment());let i=r,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let u=a.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let u=a.marks[l++],c=this.serializeMark(u,a.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=CS(E9(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&CS(E9(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return CS(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new T1(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=QZ(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return QZ(e.marks)}}function QZ(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function E9(t){return t.document||window.document}const eJ=new WeakMap;function Oft(t){let e=eJ.get(t);return e===void 0&&eJ.set(t,e=Ift(t)),e}function Ift(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function CS(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=Oft(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let s,l=n?t.createElementNS(n,i):t.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let f in u)if(u[f]!=null){let d=f.indexOf(" ");d>0?l.setAttributeNS(f.slice(0,d),f.slice(d+1),u[f]):f=="style"&&l.style?l.style.cssText=u[f]:l.setAttribute(f,u[f])}}for(let f=c;f<e.length;f++){let d=e[f];if(d===0){if(f<e.length-1||f>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=CS(t,d,n,r);if(l.appendChild(h),p){if(s)throw new RangeError("Multiple content holes");s=p}}}return{dom:l,contentDOM:s}}const Oye=65535,Iye=Math.pow(2,16);function Pft(t,e){return t+e*Iye}function tJ(t){return t&Oye}function Rft(t){return(t-(t&Oye))/Iye}const Pye=1,Rye=2,kS=4,Fye=8;class $N{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Fye)>0}get deletedBefore(){return(this.delInfo&(Pye|kS))>0}get deletedAfter(){return(this.delInfo&(Rye|kS))>0}get deletedAcross(){return(this.delInfo&kS)>0}}class vl{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&vl.empty)return vl.empty}recover(e){let n=0,r=tJ(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Rft(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[s+o],c=this.ranges[s+a],f=l+u;if(e<=f){let d=u?e==l?-1:e==f?1:n:n,h=l+i+(d<0?0:c);if(r)return h;let p=e==(n<0?l:f)?null:Pft(s/3,e-l),m=e==l?Rye:e==f?Pye:kS;return(n<0?e!=l:e!=f)&&(m|=Fye),new $N(h,m,p)}i+=c-u}return r?e+i:new $N(e+i,0,null)}touches(e,n){let r=0,i=tJ(n),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[s+o],c=l+u;if(e<=c&&s==i*3)return!0;r+=this.ranges[s+a]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(s,s+u,l,l+c),o+=c-u}}invert(){return new vl(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?vl.empty:new vl(e<0?[0,-e,0]:[0,0,e])}}vl.empty=new vl([]);class vw{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new vw(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new vw;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],s=a.mapResult(e,n);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this._maps[l].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return r?e:new $N(e,i,null)}}const A9=Object.create(null);class Oa{getMap(){return vl.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=A9[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in A9)throw new RangeError("Duplicate use of step JSON ID "+e);return A9[e]=n,n.prototype.jsonID=e,n}}class to{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new to(e,null)}static fail(e){return new to(null,e)}static fromReplace(e,n,r,i){try{return to.ok(e.replace(n,r,i))}catch(o){if(o instanceof jC)return to.fail(o.message);throw o}}}function iL(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(iL(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return rt.fromArray(r)}class Sd extends Oa{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new _t(iL(n.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return to.fromReplace(e,this.from,this.to,o)}invert(){return new Wc(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Sd(n.pos,r.pos,this.mark)}merge(e){return e instanceof Sd&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Sd(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Sd(n.from,n.to,e.markFromJSON(n.mark))}}Oa.jsonID("addMark",Sd);class Wc extends Oa{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new _t(iL(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return to.fromReplace(e,this.from,this.to,r)}invert(){return new Sd(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Wc(n.pos,r.pos,this.mark)}merge(e){return e instanceof Wc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Wc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Wc(n.from,n.to,e.markFromJSON(n.mark))}}Oa.jsonID("removeMark",Wc);class h0 extends Oa{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return to.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return to.fromReplace(e,this.pos,this.pos+1,new _t(rt.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new h0(this.pos,n.marks[i]);return new h0(this.pos,this.mark)}}return new o1(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new h0(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new h0(n.pos,e.markFromJSON(n.mark))}}Oa.jsonID("addNodeMark",h0);class o1 extends Oa{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return to.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return to.fromReplace(e,this.pos,this.pos+1,new _t(rt.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new h0(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new o1(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new o1(n.pos,e.markFromJSON(n.mark))}}Oa.jsonID("removeNodeMark",o1);class Eo extends Oa{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&BN(e,this.from,this.to)?to.fail("Structure replace would overwrite content"):to.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new vl([this.from,this.to-this.from,this.slice.size])}invert(e){return new Eo(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Eo(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Eo)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?_t.empty:new _t(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Eo(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?_t.empty:new _t(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Eo(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Eo(n.from,n.to,_t.fromJSON(e,n.slice),!!n.structure)}}Oa.jsonID("replace",Eo);class Ea extends Oa{constructor(e,n,r,i,o,a,s=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(e){if(this.structure&&(BN(e,this.from,this.gapFrom)||BN(e,this.gapTo,this.to)))return to.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return to.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?to.fromReplace(e,this.from,this.to,r):to.fail("Content does not fit in gap")}getMap(){return new vl([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ea(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Ea(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ea(n.from,n.to,n.gapFrom,n.gapTo,_t.fromJSON(e,n.slice),n.insert,!!n.structure)}}Oa.jsonID("replaceAround",Ea);function BN(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function Fft(t,e,n,r){let i=[],o=[],a,s;t.doc.nodesBetween(e,n,(l,u,c)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&c.type.allowsMarkType(r.type)){let d=Math.max(u,e),h=Math.min(u+l.nodeSize,n),p=r.addToSet(f);for(let m=0;m<f.length;m++)f[m].isInSet(p)||(a&&a.to==d&&a.mark.eq(f[m])?a.to=h:i.push(a=new Wc(d,h,f[m])));s&&s.to==d?s.to=h:o.push(s=new Sd(d,h,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function Lft(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(r instanceof m7){let u=a.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(a.marks)&&(l=[r]):l=a.marks;if(l&&l.length){let u=Math.min(s+a.nodeSize,n);for(let c=0;c<l.length;c++){let f=l[c],d;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&f.eq(i[h].style)&&(d=p)}d?(d.to=u,d.step=o):i.push({style:f,from:Math.max(s,e),to:u,step:o})}}}),i.forEach(a=>t.step(new Wc(a.from,a.to,a.style)))}function oL(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),a=[],s=e+1;for(let l=0;l<o.childCount;l++){let u=o.child(l),c=s+u.nodeSize,f=r.matchType(u.type);if(!f)a.push(new Eo(s,c,_t.empty));else{r=f;for(let d=0;d<u.marks.length;d++)n.allowsMarkType(u.marks[d].type)||t.step(new Wc(s,c,u.marks[d]));if(i&&u.isText&&n.whitespace!="pre"){let d,h=/\r?\n|\r/g,p;for(;d=h.exec(u.text);)p||(p=new _t(rt.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),a.push(new Eo(s+d.index,s+d.index+d[0].length,p))}}s=c}if(!r.validEnd){let l=r.fillBefore(rt.empty,!0);t.replace(s,s,new _t(l,0,0))}for(let l=a.length-1;l>=0;l--)t.step(a[l])}function $ft(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function g7(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,a,n))return r;if(r==0||i.type.spec.isolating||!$ft(i,o,a))break}return null}function Bft(t,e,n){let{$from:r,$to:i,depth:o}=e,a=r.before(o+1),s=i.after(o+1),l=a,u=s,c=rt.empty,f=0;for(let p=o,m=!1;p>n;p--)m||r.index(p)>0?(m=!0,c=rt.from(r.node(p).copy(c)),f++):l--;let d=rt.empty,h=0;for(let p=o,m=!1;p>n;p--)m||i.after(p+1)<i.end(p)?(m=!0,d=rt.from(i.node(p).copy(d)),h++):u++;t.step(new Ea(l,u,a,s,new _t(c.append(d),f,h),c.size-f,!0))}function aL(t,e,n=null,r=t){let i=zft(t,e),o=i&&qft(r,e);return o?i.map(nJ).concat({type:e,attrs:n}).concat(o.map(nJ)):null}function nJ(t){return{type:t,attrs:null}}function zft(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return n.canReplaceWith(r,i,a)?o:null}function qft(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:e).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:a}function Vft(t,e,n){let r=rt.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let s=n[a].type.contentMatch.matchFragment(r);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=rt.from(n[a].type.create(n[a].attrs,r))}let i=e.start,o=e.end;t.step(new Ea(i,o,i,o,new _t(r,0,0),n.length,!0))}function Hft(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(a,s)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,l)&&Uft(t.doc,t.mapping.slice(o).map(s),r)){let u=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!p?u=!1:!h&&p&&(u=!0)}u===!1&&$ye(t,a,s,o),oL(t,t.mapping.slice(o).map(s,1),r,void 0,u===null);let c=t.mapping.slice(o),f=c.map(s,1),d=c.map(s+a.nodeSize,1);return t.step(new Ea(f,d,f+1,d-1,new _t(rt.from(r.create(l,null,a.marks)),0,0),1,!0)),u===!0&&Lye(t,a,s,o),!1}})}function Lye(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(i.text);){let l=t.mapping.slice(r).map(n+1+o+a.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function $ye(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+o);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function Uft(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function jft(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let a=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ea(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new _t(rt.from(a),0,0),1,!0))}function W2(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),p=r&&r[c+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let m=r&&r[c]||f;if(!f.canReplace(d+1,f.childCount)||!m.type.validContent(h))return!1}let s=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function Wft(t,e,n=1,r){let i=t.doc.resolve(e),o=rt.empty,a=rt.empty;for(let s=i.depth,l=i.depth-n,u=n-1;s>l;s--,u--){o=rt.from(i.node(s).copy(o));let c=r&&r[u];a=rt.from(c?c.type.create(c.attrs,a):i.node(s).copy(a))}t.step(new Eo(e,e,new _t(o.append(a),n,n),!0))}function v7(t,e){let n=t.resolve(e),r=n.index();return Kft(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Gft(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),a=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function Kft(t,e){return!!(t&&e&&!t.isLeaf&&Gft(t,e))}function Xft(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),a=o.node().type;if(i&&a.inlineContent){let c=a.whitespace=="pre",f=!!a.contentMatch.matchType(i);c&&!f?r=!1:!c&&f&&(r=!0)}let s=t.steps.length;if(r===!1){let c=t.doc.resolve(e+n);$ye(t,c.node(),c.before(),s)}a.inlineContent&&oL(t,e+n-1,a,o.node().contentMatchAt(o.index()),r==null);let l=t.mapping.slice(s),u=l.map(e-n);if(t.step(new Eo(u,l.map(e+n,-1),_t.empty,!0)),r===!0){let c=t.doc.resolve(u);Lye(t,c.node(),c.before(),t.steps.length)}return t}function Yft(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function Bye(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let a=r.depth;a>=0;a--){let s=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(s>0?1:0),u=r.node(a),c=!1;if(o==1)c=u.canReplace(l,l,i);else{let f=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(l,l,f[0])}if(c)return s==0?r.pos:s<0?r.before(a+1):r.after(a+1)}return null}function y7(t,e,n=e,r=_t.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return zye(i,o,r)?new Eo(e,n,r):new Zft(i,o,r).fit()}function zye(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Zft{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=rt.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=rt.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,a=r.depth,s=i.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new _t(o,a,s);return e>-1?new Ea(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Eo(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=T9(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let a=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:u}=this.frontier[s],c,f=null;if(n==1&&(a?u.matchType(a.type)||(f=u.fillBefore(rt.from(a),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:s,parent:o,inject:f};if(n==2&&a&&(c=u.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:s,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=T9(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new _t(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=T9(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new _t(jb(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new _t(jb(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let m=0;m<o.length;m++)this.openFrontierNode(o[m]);let a=this.unplaced,s=r?r.content:a.content,l=a.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)c.push(i.child(m));f=f.matchFragment(i)}let h=s.size+e-(a.content.size-a.openEnd);for(;u<s.childCount;){let m=s.child(u),g=f.matchType(m.type);if(!g)break;u++,(u>1||l==0||m.content.size)&&(f=g,c.push(qye(m.mark(d.allowedMarks(m.marks)),u==1?l:0,u==s.childCount?h:-1)))}let p=u==s.childCount;p||(h=-1),this.placed=Wb(this.placed,n,rt.from(c)),this.frontier[n].match=f,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=s;m<h;m++){let v=g.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),g=v.content}this.unplaced=p?e==0?_t.empty:new _t(jb(a.content,e-1,1),e-1,h<0?a.openEnd:e-1):new _t(jb(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!M9(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=M9(e,n,i,r,o);if(a){for(let s=n-1;s>=0;s--){let{match:l,type:u}=this.frontier[s],c=M9(e,s,u,l,!0);if(!c||c.childCount)continue e}return{depth:n,fit:a,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Wb(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Wb(this.placed,this.depth,rt.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(rt.empty,!0);n.childCount&&(this.placed=Wb(this.placed,this.frontier.length,n))}}function jb(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(jb(t.firstChild.content,e-1,n)))}function Wb(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Wb(t.lastChild.content,e-1,n)))}function T9(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function qye(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,qye(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(rt.empty,!0)))),t.copy(r)}function M9(t,e,n,r,i){let o=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,a);return s&&!Jft(n,o.content,a)?s:null}function Jft(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Qft(t){return t.spec.defining||t.spec.definingForContent}function edt(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(zye(i,o,r))return t.step(new Eo(e,n,r));let a=Hye(i,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let p=i.node(d).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;a.indexOf(d)>-1?s=d:i.before(d)==h&&a.splice(1,0,-d)}let l=a.indexOf(s),u=[],c=r.openStart;for(let d=r.content,h=0;;h++){let p=d.firstChild;if(u.push(p),h==r.openStart)break;d=p.content}for(let d=c-1;d>=0;d--){let h=u[d],p=Qft(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(s)-1)))c=d;else if(p||!h.type.isTextblock)break}for(let d=r.openStart;d>=0;d--){let h=(d+c+1)%(r.openStart+1),p=u[h];if(p)for(let m=0;m<a.length;m++){let g=a[(m+l)%a.length],v=!0;g<0&&(v=!1,g=-g);let y=i.node(g-1),b=i.index(g-1);if(y.canReplaceWith(b,b,p.type,p.marks))return t.replace(i.before(g),v?o.after(g):n,new _t(Vye(r.content,0,r.openStart,h),h,r.openEnd))}}let f=t.steps.length;for(let d=a.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let h=a[d];h<0||(e=i.before(h),n=o.after(h))}}function Vye(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(Vye(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),a=o.fillBefore(t).append(t);t=a.append(o.matchFragment(a).fillBefore(rt.empty,!0))}return t}function tdt(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=Yft(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new _t(rt.from(r),0,0))}function ndt(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=Hye(r,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||r.node(s).type.contentMatch.validEnd)return t.delete(r.start(s),i.end(s));if(s>0&&(l||r.node(s-1).canReplace(r.index(s-1),i.indexAfter(s-1))))return t.delete(r.before(s),i.after(s))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function Hye(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class ev extends Oa{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return to.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return to.fromReplace(e,this.pos,this.pos+1,new _t(rt.from(i),0,n.isLeaf?0:1))}getMap(){return vl.empty}invert(e){return new ev(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ev(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ev(n.pos,n.attr,n.value)}}Oa.jsonID("attr",ev);class yw extends Oa{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return to.ok(r)}getMap(){return vl.empty}invert(e){return new yw(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new yw(n.attr,n.value)}}Oa.jsonID("docAttr",yw);let Uv=class extends Error{};Uv=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Uv.prototype=Object.create(Error.prototype);Uv.prototype.constructor=Uv;Uv.prototype.name="TransformError";class Uye{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new vw}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Uv(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=_t.empty){let i=y7(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new _t(rt.from(r),0,0))}delete(e,n){return this.replace(e,n,_t.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return edt(this,e,n,r),this}replaceRangeWith(e,n,r){return tdt(this,e,n,r),this}deleteRange(e,n){return ndt(this,e,n),this}lift(e,n){return Bft(this,e,n),this}join(e,n=1){return Xft(this,e,n),this}wrap(e,n){return Vft(this,e,n),this}setBlockType(e,n=e,r,i=null){return Hft(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return jft(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new ev(e,n,r)),this}setDocAttribute(e,n){return this.step(new yw(e,n)),this}addNodeMark(e,n){return this.step(new h0(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Nn)n.isInSet(r.marks)&&this.step(new o1(e,n));else{let i=r.marks,o,a=[];for(;o=n.isInSet(i);)a.push(new o1(e,o)),i=o.removeFromSet(i);for(let s=a.length-1;s>=0;s--)this.step(a[s])}return this}split(e,n=1,r){return Wft(this,e,n,r),this}addMark(e,n,r){return Fft(this,e,n,r),this}removeMark(e,n,r){return Lft(this,e,n,r),this}clearIncompatible(e,n,r){return oL(this,e,n,r),this}}const D9=Object.create(null);class sn{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new jye(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=_t.empty){let r=n.content.lastChild,i=null;for(let s=0;s<n.openEnd;s++)i=r,r=r.lastChild;let o=e.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:u}=a[s],c=e.mapping.slice(o);e.replaceRange(c.map(l.pos),c.map(u.pos),s?_t.empty:n),s==0&&oJ(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:s}=i[o],l=e.mapping.slice(r),u=l.map(a.pos),c=l.map(s.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),oJ(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new zt(e):vg(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let a=n<0?vg(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):vg(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Hs(e.node(0))}static atStart(e){return vg(e,e,0,0,1)||new Hs(e)}static atEnd(e){return vg(e,e,e.content.size,e.childCount,-1)||new Hs(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=D9[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in D9)throw new RangeError("Duplicate use of selection JSON ID "+e);return D9[e]=n,n.prototype.jsonID=e,n}getBookmark(){return zt.between(this.$anchor,this.$head).getBookmark()}}sn.prototype.visible=!0;class jye{constructor(e,n){this.$from=e,this.$to=n}}let rJ=!1;function iJ(t){!rJ&&!t.parent.inlineContent&&(rJ=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class zt extends sn{constructor(e,n=e){iJ(e),iJ(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return sn.near(r);let i=e.resolve(n.map(this.anchor));return new zt(i.parent.inlineContent?i:r,r)}replace(e,n=_t.empty){if(super.replace(e,n),n==_t.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof zt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new b7(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new zt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=sn.findFrom(n,r,!0)||sn.findFrom(n,-r,!0);if(o)n=o.$head;else return sn.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(sn.findFrom(e,-r,!0)||sn.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new zt(e,n)}}sn.jsonID("text",zt);class b7{constructor(e,n){this.anchor=e,this.head=n}map(e){return new b7(e.map(this.anchor),e.map(this.head))}resolve(e){return zt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Zt extends sn{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?sn.near(o):new Zt(o)}content(){return new _t(rt.from(this.node),0,0)}eq(e){return e instanceof Zt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new sL(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Zt(e.resolve(n.anchor))}static create(e,n){return new Zt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Zt.prototype.visible=!1;sn.jsonID("node",Zt);class sL{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new b7(r,r):new sL(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Zt.isSelectable(r)?new Zt(n):sn.near(n)}}class Hs extends sn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=_t.empty){if(n==_t.empty){e.delete(0,e.doc.content.size);let r=sn.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Hs(e)}map(e){return new Hs(e)}eq(e){return e instanceof Hs}getBookmark(){return rdt}}sn.jsonID("all",Hs);const rdt={map(){return this},resolve(t){return new Hs(t)}};function vg(t,e,n,r,i,o=!1){if(e.inlineContent)return zt.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let s=e.child(a);if(s.isAtom){if(!o&&Zt.isSelectable(s))return Zt.create(t,n-(i<0?s.nodeSize:0))}else{let l=vg(t,s,n+i,i<0?s.childCount:0,i,o);if(l)return l}n+=s.nodeSize*i}return null}function oJ(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Eo||i instanceof Ea))return;let o=t.mapping.maps[r],a;o.forEach((s,l,u,c)=>{a==null&&(a=c)}),t.setSelection(sn.near(t.doc.resolve(a),n))}const aJ=1,t6=2,sJ=4;class idt extends Uye{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|aJ)&~t6,this.storedMarks=null,this}get selectionSet(){return(this.updated&aJ)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=t6,this}ensureMarks(e){return Nn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&t6)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~t6,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Nn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(n);o=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(sn.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=sJ,this}get scrolledIntoView(){return(this.updated&sJ)>0}}function lJ(t,e){return!e||!t?t:t.bind(e)}class Gb{constructor(e,n,r){this.name=e,this.init=lJ(n.init,r),this.apply=lJ(n.apply,r)}}const odt=[new Gb("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Gb("selection",{init(t,e){return t.selection||sn.atStart(e.doc)},apply(t){return t.selection}}),new Gb("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Gb("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class N9{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=odt.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Gb(r.key,r.spec.state,r))})}}class lm{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,u=i?i[a].state:this,c=l<n.length&&s.spec.appendTransaction.call(s,l?n.slice(l):n,u,r);if(c&&r.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<a?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[a]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new lm(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new idt(this)}static create(e){let n=new N9(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new lm(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new N9(this.schema,e.plugins),r=n.fields,i=new lm(n);for(let o=0;o<r.length;o++){let a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new N9(e.schema,e.plugins),o=new lm(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=Id.fromJSON(e.schema,n.doc);else if(a.name=="selection")o.selection=sn.fromJSON(o.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let s in r){let l=r[s],u=l.spec.state;if(l.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,s)){o[a.name]=u.fromJSON.call(l,e,n[s],o);return}}o[a.name]=a.init(e,o)}}),o}}function Wye(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Wye(i,e,{})),n[r]=i}return n}class yi{constructor(e){this.spec=e,this.props={},e.props&&Wye(e.props,this,this.props),this.key=e.key?e.key.key:Gye("plugin")}getState(e){return e[this.key]}}const O9=Object.create(null);function Gye(t){return t in O9?t+"$"+ ++O9[t]:(O9[t]=0,t+"$")}class Ai{constructor(e="key"){this.key=Gye(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}class Ys{constructor(e,n,r={}){this.match=e,this.match=e,this.handler=typeof n=="string"?adt(n):n,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1,this.inCodeMark=r.inCodeMark!==!1}}function adt(t){return function(e,n,r,i){let o=t;if(n[1]){let a=n[0].lastIndexOf(n[1]);o+=n[0].slice(a+n[1].length),r+=a;let s=r-i;s>0&&(o=n[0].slice(a-s,a)+o,r=i)}return e.tr.insertText(o,r,i)}}const sdt=(t,e)=>{let n=t.plugins;for(let r=0;r<n.length;r++){let i=n[r],o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){let a=t.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l--)a.step(s.steps[l].invert(s.docs[l]));if(o.text){let l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else a.delete(o.from,o.to);e(a)}return!0}}return!1};new Ys(/--$/,"",{inCodeMark:!1});new Ys(/\.\.\.$/,"",{inCodeMark:!1});new Ys(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1});new Ys(/"$/,"",{inCodeMark:!1});new Ys(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1});new Ys(/'$/,"",{inCodeMark:!1});function lL(t,e,n=null,r){return new Ys(t,(i,o,a,s)=>{let l=n instanceof Function?n(o):n,u=i.tr.delete(a,s),c=u.doc.resolve(a),f=c.blockRange(),d=f&&aL(f,e,l);if(!d)return null;u.wrap(f,d);let h=u.doc.resolve(a-1).nodeBefore;return h&&h.type==e&&v7(u.doc,a-1)&&(!r||r(o,h))&&u.join(a-1),u})}function uL(t,e,n=null){return new Ys(t,(r,i,o,a)=>{let s=r.doc.resolve(o),l=n instanceof Function?n(i):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e)?r.tr.delete(o,a).setBlockType(o,o,e,l):null})}var Zs=(t=>(t.docTypeError="docTypeError",t.contextNotFound="contextNotFound",t.timerNotFound="timerNotFound",t.ctxCallOutOfScope="ctxCallOutOfScope",t.createNodeInParserFail="createNodeInParserFail",t.stackOverFlow="stackOverFlow",t.parserMatchError="parserMatchError",t.serializerMatchError="serializerMatchError",t.getAtomFromSchemaFail="getAtomFromSchemaFail",t.expectDomTypeError="expectDomTypeError",t.callCommandBeforeEditorView="callCommandBeforeEditorView",t.missingRootElement="missingRootElement",t.missingNodeInSchema="missingNodeInSchema",t.missingMarkInSchema="missingMarkInSchema",t.ctxNotBind="ctxNotBind",t.missingYjsDoc="missingYjsDoc",t))(Zs||{});class Fl extends Error{constructor(e,n){super(n),this.name="MilkdownError",this.code=e}}const ldt=(t,e)=>typeof e=="function"?"[Function]":e,w7=t=>JSON.stringify(t,ldt);function udt(t){return new Fl(Zs.docTypeError,`Doc type error, unsupported type: ${w7(t)}`)}function cdt(t){return new Fl(Zs.contextNotFound,`Context "${t}" not found, do you forget to inject it?`)}function fdt(t){return new Fl(Zs.timerNotFound,`Timer "${t}" not found, do you forget to record it?`)}function x7(){return new Fl(Zs.ctxCallOutOfScope,"Should not call a context out of the plugin.")}function ddt(t,e,n){const i=`Cannot create node for ${"name"in t?t.name:t}`,o=c=>{if(c==null)return"null";if(Array.isArray(c))return`[${c.map(o).join(", ")}]`;if(typeof c=="object")return"toJSON"in c&&typeof c.toJSON=="function"?JSON.stringify(c.toJSON()):"spec"in c?JSON.stringify(c.spec):JSON.stringify(c);if(typeof c=="string"||typeof c=="number"||typeof c=="boolean")return JSON.stringify(c);if(typeof c=="function")return`[Function: ${c.name||"anonymous"}]`;try{return String(c)}catch{return"[Unserializable]"}},a=["[Description]",i],s=["[Attributes]",e],l=["[Content]",(n??[]).map(c=>c?typeof c=="object"&&"type"in c?`${c}`:o(c):"null")],u=[a,s,l].reduce((c,[f,d])=>{const h=`${f}: ${o(d)}.`;return c.concat(h)},[]);return new Fl(Zs.createNodeInParserFail,u.join(`
`))}function Kye(){return new Fl(Zs.stackOverFlow,"Stack over flow, cannot pop on an empty stack.")}function hdt(t){return new Fl(Zs.parserMatchError,`Cannot match target parser for node: ${w7(t)}.`)}function pdt(t){return new Fl(Zs.serializerMatchError,`Cannot match target serializer for node: ${w7(t)}.`)}function mdt(t,e){return new Fl(Zs.getAtomFromSchemaFail,`Cannot get ${t}: ${e} from schema.`)}function mc(t){return new Fl(Zs.expectDomTypeError,`Expect to be a dom, but get: ${w7(t)}.`)}function I9(){return new Fl(Zs.callCommandBeforeEditorView,"You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized")}function gdt(t){return new Fl(Zs.missingNodeInSchema,`Missing node in schema, milkdown cannot find "${t}" in schema.`)}function vdt(t){return new Fl(Zs.missingMarkInSchema,`Missing mark in schema, milkdown cannot find "${t}" in schema.`)}const B0=typeof navigator<"u"?navigator:null,uJ=typeof document<"u"?document:null,gp=B0&&B0.userAgent||"",zN=/Edge\/(\d+)/.exec(gp),Xye=/MSIE \d/.exec(gp),qN=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(gp),S7=!!(Xye||qN||zN),ydt=Xye?document.documentMode:qN?+qN[1]:zN?+zN[1]:0,Yye=!S7&&/gecko\/(\d+)/i.test(gp),bdt=Yye&&+(/Firefox\/(\d+)/.exec(gp)||[0,0])[1],VN=!S7&&/Chrome\/(\d+)/.exec(gp),wdt=!!VN,xdt=VN?+VN[1]:0,Zye=!S7&&!!B0&&/Apple Computer/.test(B0.vendor),Jye=Zye&&(/Mobile\/\w+/.test(gp)||!!B0&&B0.maxTouchPoints>2),Sdt=Jye||(B0?/Mac/.test(B0.platform):!1),_dt=/Android \d/.test(gp),Qye=!!uJ&&"webkitFontSmoothing"in uJ.documentElement.style,Cdt=Qye?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;var n6=Object.freeze({__proto__:null,android:_dt,chrome:wdt,chrome_version:xdt,gecko:Yye,gecko_version:bdt,ie:S7,ie_version:ydt,ios:Jye,mac:Sdt,safari:Zye,webkit:Qye,webkit_version:Cdt});function P9(t,e,n,r,i,o){if(t.composing)return!1;const a=t.state,s=a.doc.resolve(e);if(s.parent.type.spec.code)return!1;const l=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,void 0,"")+r;for(let u of i){const c=u,f=c.match.exec(l),d=f&&f[0]&&c.handler(a,f,e-(f[0].length-r.length),n);if(d)return c.undoable!==!1&&d.setMeta(o,{transform:d,from:e,to:n,text:r}),t.dispatch(d),!0}return!1}const kdt=new Ai("MILKDOWN_CUSTOM_INPUTRULES");function Edt({rules:t}){const e=new yi({key:kdt,isInputRules:!0,state:{init(){return null},apply(n,r){const i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,o){return P9(n,r,i,o,t,e)},handleDOMEvents:{compositionend:n=>(setTimeout(()=>{const{$cursor:r}=n.state.selection;r&&P9(n,r.pos,r.pos,"",t,e)}),!1)},handleKeyDown(n,r){if(r.key!=="Enter")return!1;const{$cursor:i}=n.state.selection;return i?P9(n,i.pos,i.pos,`
`,t,e):!1}}});return e}function E4(t,e,n={}){return new Ys(t,(r,i,o,a)=>{var s,l,u,c;const{tr:f}=r,d=i.length;let h=i[d-1],p=i[0],m=[],g=a;const v={group:h,fullMatch:p,start:o,end:a},y=(s=n.updateCaptured)==null?void 0:s.call(n,v);if(Object.assign(v,y),{group:h,fullMatch:p,start:o,end:a}=v,p===null||h?.trim()==="")return null;if(h){const b=p.search(/\S/),w=o+p.indexOf(h),x=w+h.length;m=(l=f.storedMarks)!=null?l:[],x<a&&f.delete(x,a),w>o&&f.delete(o+b,w),g=o+b+h.length;const S=(u=n.getAttr)==null?void 0:u.call(n,i);f.addMark(o,g,e.create(S)),f.setStoredMarks(m),(c=n.beforeDispatch)==null||c.call(n,{match:i,start:o,end:a,tr:f})}return f})}function Adt(t,e,n={}){return new Ys(t,(r,i,o,a)=>{var s,l,u;const{tr:c}=r;let f=i[1],d=i[0];const h={group:f,fullMatch:d,start:o,end:a},p=(s=n.updateCaptured)==null?void 0:s.call(n,h);if(Object.assign(h,p),{group:f,fullMatch:d,start:o,end:a}=h,d===null||!f||f.trim()==="")return null;const m=(l=n.getAttr)==null?void 0:l.call(n,i),g=e.createAndFill(m);return g&&(c.replaceRangeWith(e.isBlock?c.doc.resolve(o).before():o,a,g),(u=n.beforeDispatch)==null||u.call(n,{match:[d,f??""],start:o,end:a,tr:c})),c})}var Tdt=Object.defineProperty,Mdt=Object.defineProperties,Ddt=Object.getOwnPropertyDescriptors,cJ=Object.getOwnPropertySymbols,Ndt=Object.prototype.hasOwnProperty,Odt=Object.prototype.propertyIsEnumerable,fJ=(t,e,n)=>e in t?Tdt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Idt=(t,e)=>{for(var n in e||(e={}))Ndt.call(e,n)&&fJ(t,n,e[n]);if(cJ)for(var n of cJ(e))Odt.call(e,n)&&fJ(t,n,e[n]);return t},Pdt=(t,e)=>Mdt(t,Ddt(e));function dJ(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function _7(t,e,n){const i=t.state.doc.content.size,o=dJ(e,0,i),a=dJ(n,0,i),s=t.coordsAtPos(o),l=t.coordsAtPos(a,-1),u=Math.min(s.top,l.top),c=Math.max(s.bottom,l.bottom),f=Math.min(s.left,l.left),d=Math.max(s.right,l.right),h=d-f,p=c-u,v={top:u,bottom:c,left:f,right:d,width:h,height:p,x:f,y:u};return Pdt(Idt({},v),{toJSON:()=>v})}function C7(t){return Object.assign(Object.create(t),t).setTime(Date.now())}function Rdt(t,e){return Array.isArray(t)&&t.includes(e.type)||e.type===t}function Fdt(t){if(t.content.childCount===1){const e=t.content.firstChild;if(e?.type.name==="text"&&e.marks.length===0)return e;if(e?.type.name==="paragraph"&&e.childCount===1){const n=e.firstChild;if(n?.type.name==="text"&&n.marks.length===0)return n}}return!1}function ef(t){return e=>{for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r)){const i=e.before(n),o=e.after(n);return{from:i,to:o,node:r}}}}}function Ldt(t,e){return ef(n=>n.type===e)(t)}function $dt(t,e){const n=e.nodes[t];if(!n)throw mdt("node",t);return n}function cL(t){return e=>{for(let n=e.depth;n>0;n--){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}}function Bdt(t){return e=>cL(t)(e.$from)}function zdt(t,e){if(!(t instanceof Zt))return;const{node:n,$from:r}=t;if(Rdt(e,n))return{node:n,pos:r.pos,start:r.start(r.depth),depth:r.depth}}const ebe=(t,e)=>{const{selection:n,doc:r}=t;if(n instanceof Zt)return{hasNode:n.node.type===e,pos:n.from,target:n.node};const{from:i,to:o}=n;let a=!1,s=-1,l=null;return r.nodesBetween(i,o,(u,c)=>l?!1:u.type===e?(a=!0,s=c,l=u,!1):!0),{hasNode:a,pos:s,target:l}};class tbe{constructor(){this.sliceMap=new Map,this.get=e=>{const n=typeof e=="string"?[...this.sliceMap.values()].find(r=>r.type.name===e):this.sliceMap.get(e.id);if(!n){const r=typeof e=="string"?e:e.name;throw cdt(r)}return n},this.remove=e=>{const n=typeof e=="string"?[...this.sliceMap.values()].find(r=>r.type.name===e):this.sliceMap.get(e.id);n&&this.sliceMap.delete(n.type.id)},this.has=e=>typeof e=="string"?[...this.sliceMap.values()].some(n=>n.type.name===e):this.sliceMap.has(e.id)}}class qdt{constructor(e,n,r){this.#t=[],this.#r=()=>{this.#t.forEach(i=>i(this.#e))},this.set=i=>{this.#e=i,this.#r()},this.get=()=>this.#e,this.update=i=>{this.#e=i(this.#e),this.#r()},this.type=r,this.#e=n,e.set(r.id,this)}#t;#e;#r;on(e){return this.#t.push(e),()=>{this.#t=this.#t.filter(n=>n!==e)}}once(e){const n=this.on(r=>{e(r),n()});return n}off(e){this.#t=this.#t.filter(n=>n!==e)}offAll(){this.#t=[]}}class Vdt{constructor(e,n){this.id=Symbol(`Context-${n}`),this.name=n,this._defaultValue=e,this._typeInfo=()=>{throw x7()}}create(e,n=this._defaultValue){return new qdt(e,n,this)}}const Xn=(t,e)=>new Vdt(t,e);class Hdt{constructor(e,n,r){this.#n=new Set,this.#l=new Set,this.#i=new Map,this.#o=new Map,this.read=()=>({metadata:this.#t,injectedSlices:[...this.#n].map(i=>({name:typeof i=="string"?i:i.name,value:this.#a(i)})),consumedSlices:[...this.#l].map(i=>({name:typeof i=="string"?i:i.name,value:this.#a(i)})),recordedTimers:[...this.#i].map(([i,{duration:o}])=>({name:i.name,duration:o,status:this.#s(i)})),waitTimers:[...this.#o].map(([i,{duration:o}])=>({name:i.name,duration:o,status:this.#s(i)}))}),this.onRecord=i=>{this.#i.set(i,{start:Date.now(),duration:0})},this.onClear=i=>{this.#i.delete(i)},this.onDone=i=>{const o=this.#i.get(i);o&&(o.duration=Date.now()-o.start)},this.onWait=(i,o)=>{const a=Date.now();o.finally(()=>{this.#o.set(i,{duration:Date.now()-a})}).catch(console.error)},this.onInject=i=>{this.#n.add(i)},this.onRemove=i=>{this.#n.delete(i)},this.onUse=i=>{this.#l.add(i)},this.#a=i=>this.#e.get(i).get(),this.#s=i=>this.#r.get(i).status,this.#e=e,this.#r=n,this.#t=r}#t;#e;#r;#n;#l;#i;#o;#a;#s}class fL{constructor(e,n,r){this.produce=i=>i&&Object.keys(i).length?new fL(this.#t,this.#e,{...i}):this,this.inject=(i,o)=>{const a=i.create(this.#t.sliceMap);return o!=null&&a.set(o),this.#n?.onInject(i),this},this.remove=i=>(this.#t.remove(i),this.#n?.onRemove(i),this),this.record=i=>(i.create(this.#e.store),this.#n?.onRecord(i),this),this.clearTimer=i=>(this.#e.remove(i),this.#n?.onClear(i),this),this.isInjected=i=>this.#t.has(i),this.isRecorded=i=>this.#e.has(i),this.use=i=>(this.#n?.onUse(i),this.#t.get(i)),this.get=i=>this.use(i).get(),this.set=(i,o)=>this.use(i).set(o),this.update=(i,o)=>this.use(i).update(o),this.timer=i=>this.#e.get(i),this.done=i=>{this.timer(i).done(),this.#n?.onDone(i)},this.wait=i=>{const o=this.timer(i).start();return this.#n?.onWait(i,o),o},this.waitTimers=async i=>{await Promise.all(this.get(i).map(o=>this.wait(o)))},this.#t=e,this.#e=n,this.#r=r,r&&(this.#n=new Hdt(e,n,r))}#t;#e;#r;#n;get meta(){return this.#r}get inspector(){return this.#n}}class Udt{constructor(){this.store=new Map,this.get=e=>{const n=this.store.get(e.id);if(!n)throw fdt(e.name);return n},this.remove=e=>{this.store.delete(e.id)},this.has=e=>this.store.has(e.id)}}class jdt{constructor(e,n){this.#t=null,this.#e=null,this.#n="pending",this.start=()=>(this.#t??=new Promise((r,i)=>{this.#e=o=>{o instanceof CustomEvent&&o.detail.id===this.#r&&(this.#n="resolved",this.#l(),o.stopImmediatePropagation(),r())},this.#i(()=>{this.#n==="pending"&&(this.#n="rejected"),this.#l(),i(new Error(`Timing ${this.type.name} timeout.`))}),this.#n="pending",addEventListener(this.type.name,this.#e)}),this.#t),this.done=()=>{const r=new CustomEvent(this.type.name,{detail:{id:this.#r}});dispatchEvent(r)},this.#l=()=>{this.#e&&removeEventListener(this.type.name,this.#e)},this.#i=r=>{setTimeout(()=>{r()},this.type.timeout)},this.#r=Symbol(n.name),this.type=n,e.set(n.id,this)}#t;#e;#r;#n;get status(){return this.#n}#l;#i}class Wdt{constructor(e,n=3e3){this.create=r=>new jdt(r,this),this.id=Symbol(`Timer-${e}`),this.name=e,this.timeout=n}}const hh=(t,e=3e3)=>new Wdt(t,e),Gdt={};function dL(t,e){const n=Gdt,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return nbe(t,r,i)}function nbe(t,e,n){if(Kdt(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return hJ(t.children,e,n)}return Array.isArray(t)?hJ(t,e,n):""}function hJ(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=nbe(t[i],e,n);return r.join("")}function Kdt(t){return!!(t&&typeof t=="object")}const pJ=document.createElement("i");function hL(t){const e="&"+t+";";pJ.innerHTML=e;const n=pJ.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function kl(t,e,n,r){const i=t.length;let o=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(e,0),t.splice(...a),o+=1e4,e+=1e4}function Yl(t,e){return t.length>0?(kl(t,t.length,0,e),t):e}const mJ={}.hasOwnProperty;function rbe(t){const e={};let n=-1;for(;++n<t.length;)Xdt(e,t[n]);return e}function Xdt(t,e){let n;for(n in e){const i=(mJ.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let a;if(o)for(a in o){mJ.call(i,a)||(i[a]=[]);const s=o[a];Ydt(i[a],Array.isArray(s)?s:s?[s]:[])}}}function Ydt(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);kl(t,0,0,r)}function ibe(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Zu(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ga=vp(/[A-Za-z]/),Ls=vp(/[\dA-Za-z]/),Zdt=vp(/[#-'*+\--9=?A-Z^-~]/);function KC(t){return t!==null&&(t<32||t===127)}const HN=vp(/\d/),Jdt=vp(/[\dA-Fa-f]/),Qdt=vp(/[!-/:-@[-`{-~]/);function Vt(t){return t!==null&&t<-2}function Ur(t){return t!==null&&(t<0||t===32)}function Hn(t){return t===-2||t===-1||t===32}const k7=vp(new RegExp("\\p{P}|\\p{S}","u")),a1=vp(/\s/);function vp(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function $n(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return Hn(l)?(t.enter(n),s(l)):e(l)}function s(l){return Hn(l)&&o++<i?(t.consume(l),s):(t.exit(n),e(l))}}const eht={tokenize:tht};function tht(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),$n(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),o(s)}function o(s){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(s)}function a(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return Vt(s)?(t.consume(s),t.exit("chunkText"),o):(t.consume(s),a)}}const nht={tokenize:rht},gJ={tokenize:iht};function rht(t){const e=this,n=[];let r=0,i,o,a;return s;function s(b){if(r<n.length){const w=n[r];return e.containerState=w[1],t.attempt(w[0].continuation,l,u)(b)}return u(b)}function l(b){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&y();const w=e.events.length;let x=w,S;for(;x--;)if(e.events[x][0]==="exit"&&e.events[x][1].type==="chunkFlow"){S=e.events[x][1].end;break}v(r);let _=w;for(;_<e.events.length;)e.events[_][1].end={...S},_++;return kl(e.events,x+1,0,e.events.slice(w)),e.events.length=_,u(b)}return s(b)}function u(b){if(r===n.length){if(!i)return d(b);if(i.currentConstruct&&i.currentConstruct.concrete)return p(b);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(gJ,c,f)(b)}function c(b){return i&&y(),v(r),d(b)}function f(b){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,p(b)}function d(b){return e.containerState={},t.attempt(gJ,h,p)(b)}function h(b){return r++,n.push([e.currentConstruct,e.containerState]),d(b)}function p(b){if(b===null){i&&y(),v(0),t.consume(b);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),m(b)}function m(b){if(b===null){g(t.exit("chunkFlow"),!0),v(0),t.consume(b);return}return Vt(b)?(t.consume(b),g(t.exit("chunkFlow")),r=0,e.interrupt=void 0,s):(t.consume(b),m)}function g(b,w){const x=e.sliceStream(b);if(w&&x.push(null),b.previous=o,o&&(o.next=b),o=b,i.defineSkip(b.start),i.write(x),e.parser.lazy[b.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<a&&(!i.events[S][1].end||i.events[S][1].end.offset>a))return;const _=e.events.length;let k=_,C,E;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){if(C){E=e.events[k][1].end;break}C=!0}for(v(r),S=_;S<e.events.length;)e.events[S][1].end={...E},S++;kl(e.events,k+1,0,e.events.slice(_)),e.events.length=S}}function v(b){let w=n.length;for(;w-- >b;){const x=n[w];e.containerState=x[1],x[0].exit.call(e,t)}n.length=b}function y(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function iht(t,e,n){return $n(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jv(t){if(t===null||Ur(t)||a1(t))return 1;if(k7(t))return 2}function E7(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const UN={name:"attention",resolveAll:oht,tokenize:aht};function oht(t,e){let n=-1,r,i,o,a,s,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},d={...t[n][1].start};vJ(f,-l),vJ(d,l),a={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:d},o={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},t[r][1].end={...a.start},t[n][1].start={...s.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Yl(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Yl(u,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",o,e]]),u=Yl(u,E7(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Yl(u,[["exit",o,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=Yl(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,kl(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function aht(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=jv(r);let o;return a;function a(l){return o=l,t.enter("attentionSequence"),s(l)}function s(l){if(l===o)return t.consume(l),s;const u=t.exit("attentionSequence"),c=jv(l),f=!c||c===2&&i||n.includes(l),d=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?f:f&&(i||!d)),u._close=!!(o===42?d:d&&(c||!f)),e(l)}}function vJ(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const sht={name:"autolink",tokenize:lht};function lht(t,e,n){let r=0;return i;function i(h){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(h){return Ga(h)?(t.consume(h),a):h===64?n(h):u(h)}function a(h){return h===43||h===45||h===46||Ls(h)?(r=1,s(h)):u(h)}function s(h){return h===58?(t.consume(h),r=0,l):(h===43||h===45||h===46||Ls(h))&&r++<32?(t.consume(h),s):(r=0,u(h))}function l(h){return h===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):h===null||h===32||h===60||KC(h)?n(h):(t.consume(h),l)}function u(h){return h===64?(t.consume(h),c):Zdt(h)?(t.consume(h),u):n(h)}function c(h){return Ls(h)?f(h):n(h)}function f(h){return h===46?(t.consume(h),r=0,c):h===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):d(h)}function d(h){if((h===45||Ls(h))&&r++<63){const p=h===45?d:f;return t.consume(h),p}return n(h)}}const A4={partial:!0,tokenize:uht};function uht(t,e,n){return r;function r(o){return Hn(o)?$n(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||Vt(o)?e(o):n(o)}}const obe={continuation:{tokenize:fht},exit:dht,name:"blockQuote",tokenize:cht};function cht(t,e,n){const r=this;return i;function i(a){if(a===62){const s=r.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),o}return n(a)}function o(a){return Hn(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function fht(t,e,n){const r=this;return i;function i(a){return Hn(a)?$n(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return t.attempt(obe,e,n)(a)}}function dht(t){t.exit("blockQuote")}const abe={name:"characterEscape",tokenize:hht};function hht(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return Qdt(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const sbe={name:"characterReference",tokenize:pht};function pht(t,e,n){const r=this;let i=0,o,a;return s;function s(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),o=31,a=Ls,c(f))}function u(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,a=Jdt,c):(t.enter("characterReferenceValue"),o=7,a=HN,c(f))}function c(f){if(f===59&&i){const d=t.exit("characterReferenceValue");return a===Ls&&!hL(r.sliceSerialize(d))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(f)&&i++<o?(t.consume(f),c):n(f)}}const yJ={partial:!0,tokenize:ght},bJ={concrete:!0,name:"codeFenced",tokenize:mht};function mht(t,e,n){const r=this,i={partial:!0,tokenize:x};let o=0,a=0,s;return l;function l(S){return u(S)}function u(S){const _=r.events[r.events.length-1];return o=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,s=S,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===s?(a++,t.consume(S),c):a<3?n(S):(t.exit("codeFencedFenceSequence"),Hn(S)?$n(t,f,"whitespace")(S):f(S))}function f(S){return S===null||Vt(S)?(t.exit("codeFencedFence"),r.interrupt?e(S):t.check(yJ,m,w)(S)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),d(S))}function d(S){return S===null||Vt(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(S)):Hn(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),$n(t,h,"whitespace")(S)):S===96&&S===s?n(S):(t.consume(S),d)}function h(S){return S===null||Vt(S)?f(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||Vt(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(S)):S===96&&S===s?n(S):(t.consume(S),p)}function m(S){return t.attempt(i,w,g)(S)}function g(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),v}function v(S){return o>0&&Hn(S)?$n(t,y,"linePrefix",o+1)(S):y(S)}function y(S){return S===null||Vt(S)?t.check(yJ,m,w)(S):(t.enter("codeFlowValue"),b(S))}function b(S){return S===null||Vt(S)?(t.exit("codeFlowValue"),y(S)):(t.consume(S),b)}function w(S){return t.exit("codeFenced"),e(S)}function x(S,_,k){let C=0;return E;function E(I){return S.enter("lineEnding"),S.consume(I),S.exit("lineEnding"),M}function M(I){return S.enter("codeFencedFence"),Hn(I)?$n(S,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):A(I)}function A(I){return I===s?(S.enter("codeFencedFenceSequence"),N(I)):k(I)}function N(I){return I===s?(C++,S.consume(I),N):C>=a?(S.exit("codeFencedFenceSequence"),Hn(I)?$n(S,T,"whitespace")(I):T(I)):k(I)}function T(I){return I===null||Vt(I)?(S.exit("codeFencedFence"),_(I)):k(I)}}}function ght(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const R9={name:"codeIndented",tokenize:yht},vht={partial:!0,tokenize:bht};function yht(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),$n(t,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?l(u):Vt(u)?t.attempt(vht,a,l)(u):(t.enter("codeFlowValue"),s(u))}function s(u){return u===null||Vt(u)?(t.exit("codeFlowValue"),a(u)):(t.consume(u),s)}function l(u){return t.exit("codeIndented"),e(u)}}function bht(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):Vt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):$n(t,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):Vt(a)?i(a):n(a)}}const wht={name:"codeText",previous:Sht,resolve:xht,tokenize:_ht};function xht(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Sht(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function _ht(t,e,n){let r=0,i,o;return a;function a(f){return t.enter("codeText"),t.enter("codeTextSequence"),s(f)}function s(f){return f===96?(t.consume(f),r++,s):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(o=t.enter("codeTextSequence"),i=0,c(f)):Vt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Vt(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),u)}function c(f){return f===96?(t.consume(f),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(o.type="codeTextData",u(f))}}class Cht{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&bb(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),bb(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),bb(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);bb(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);bb(this.left,n.reverse())}}}function bb(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function lbe(t){const e={};let n=-1,r,i,o,a,s,l,u;const c=new Cht(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,kht(c,n)),n=e[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=c.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},s=c.slice(i,n),s.unshift(r),c.splice(i,n-i+1,s))}}return kl(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function kht(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],u={};let c,f,d=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;t.get(++i)[1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<s.length;)s[d][0]==="exit"&&s[d-1][0]==="enter"&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(m=d+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),d=g.length;d--;){const v=s.slice(g[d],g[d+1]),y=o.pop();l.push([y,y+v.length-1]),t.splice(y,2,v)}for(l.reverse(),d=-1;++d<l.length;)u[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return u}const Eht={resolve:Tht,tokenize:Mht},Aht={partial:!0,tokenize:Dht};function Tht(t){return lbe(t),t}function Mht(t,e){let n;return r;function r(s){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):Vt(s)?t.check(Aht,a,o)(s):(t.consume(s),i)}function o(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function a(s){return t.consume(s),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Dht(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),$n(t,o,"linePrefix")}function o(a){if(a===null||Vt(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function ube(t,e,n,r,i,o,a,s,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(v){return v===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(v),t.exit(o),d):v===null||v===32||v===41||KC(v)?n(v):(t.enter(r),t.enter(a),t.enter(s),t.enter("chunkString",{contentType:"string"}),m(v))}function d(v){return v===62?(t.enter(o),t.consume(v),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(t.exit("chunkString"),t.exit(s),d(v)):v===null||v===60||Vt(v)?n(v):(t.consume(v),v===92?p:h)}function p(v){return v===60||v===62||v===92?(t.consume(v),h):h(v)}function m(v){return!c&&(v===null||v===41||Ur(v))?(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(r),e(v)):c<u&&v===40?(t.consume(v),c++,m):v===41?(t.consume(v),c--,m):v===null||v===32||v===40||KC(v)?n(v):(t.consume(v),v===92?g:m)}function g(v){return v===40||v===41||v===92?(t.consume(v),m):m(v)}}function cbe(t,e,n,r,i,o){const a=this;let s=0,l;return u;function u(h){return t.enter(r),t.enter(i),t.consume(h),t.exit(i),t.enter(o),c}function c(h){return s>999||h===null||h===91||h===93&&!l||h===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(t.exit(o),t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):Vt(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Vt(h)||s++>999?(t.exit("chunkString"),c(h)):(t.consume(h),l||(l=!Hn(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(t.consume(h),s++,f):f(h)}}function fbe(t,e,n,r,i,o){let a;return s;function s(d){return d===34||d===39||d===40?(t.enter(r),t.enter(i),t.consume(d),t.exit(i),a=d===40?41:d,l):n(d)}function l(d){return d===a?(t.enter(i),t.consume(d),t.exit(i),t.exit(r),e):(t.enter(o),u(d))}function u(d){return d===a?(t.exit(o),l(a)):d===null?n(d):Vt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),$n(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===a||d===null||Vt(d)?(t.exit("chunkString"),u(d)):(t.consume(d),d===92?f:c)}function f(d){return d===a||d===92?(t.consume(d),c):c(d)}}function G2(t,e){let n;return r;function r(i){return Vt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Hn(i)?$n(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Nht={name:"definition",tokenize:Iht},Oht={partial:!0,tokenize:Pht};function Iht(t,e,n){const r=this;let i;return o;function o(h){return t.enter("definition"),a(h)}function a(h){return cbe.call(r,t,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function s(h){return i=Zu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(t.enter("definitionMarker"),t.consume(h),t.exit("definitionMarker"),l):n(h)}function l(h){return Ur(h)?G2(t,u)(h):u(h)}function u(h){return ube(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return t.attempt(Oht,f,f)(h)}function f(h){return Hn(h)?$n(t,d,"whitespace")(h):d(h)}function d(h){return h===null||Vt(h)?(t.exit("definition"),r.parser.defined.push(i),e(h)):n(h)}}function Pht(t,e,n){return r;function r(s){return Ur(s)?G2(t,i)(s):n(s)}function i(s){return fbe(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return Hn(s)?$n(t,a,"whitespace")(s):a(s)}function a(s){return s===null||Vt(s)?e(s):n(s)}}const Rht={name:"hardBreakEscape",tokenize:Fht};function Fht(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return Vt(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const Lht={name:"headingAtx",resolve:$ht,tokenize:Bht};function $ht(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},kl(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function Bht(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),o(c)}function o(c){return t.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(t.consume(c),a):c===null||Ur(c)?(t.exit("atxHeadingSequence"),s(c)):n(c)}function s(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||Vt(c)?(t.exit("atxHeading"),e(c)):Hn(c)?$n(t,s,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||Ur(c)?(t.exit("atxHeadingText"),s(c)):(t.consume(c),u)}}const zht=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wJ=["pre","script","style","textarea"],qht={concrete:!0,name:"htmlFlow",resolveTo:Uht,tokenize:jht},Vht={partial:!0,tokenize:Ght},Hht={partial:!0,tokenize:Wht};function Uht(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function jht(t,e,n){const r=this;let i,o,a,s,l;return u;function u(P){return c(P)}function c(P){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(P),f}function f(P){return P===33?(t.consume(P),d):P===47?(t.consume(P),o=!0,m):P===63?(t.consume(P),i=3,r.interrupt?e:R):Ga(P)?(t.consume(P),a=String.fromCharCode(P),g):n(P)}function d(P){return P===45?(t.consume(P),i=2,h):P===91?(t.consume(P),i=5,s=0,p):Ga(P)?(t.consume(P),i=4,r.interrupt?e:R):n(P)}function h(P){return P===45?(t.consume(P),r.interrupt?e:R):n(P)}function p(P){const $="CDATA[";return P===$.charCodeAt(s++)?(t.consume(P),s===$.length?r.interrupt?e:A:p):n(P)}function m(P){return Ga(P)?(t.consume(P),a=String.fromCharCode(P),g):n(P)}function g(P){if(P===null||P===47||P===62||Ur(P)){const $=P===47,X=a.toLowerCase();return!$&&!o&&wJ.includes(X)?(i=1,r.interrupt?e(P):A(P)):zht.includes(a.toLowerCase())?(i=6,$?(t.consume(P),v):r.interrupt?e(P):A(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):o?y(P):b(P))}return P===45||Ls(P)?(t.consume(P),a+=String.fromCharCode(P),g):n(P)}function v(P){return P===62?(t.consume(P),r.interrupt?e:A):n(P)}function y(P){return Hn(P)?(t.consume(P),y):E(P)}function b(P){return P===47?(t.consume(P),E):P===58||P===95||Ga(P)?(t.consume(P),w):Hn(P)?(t.consume(P),b):E(P)}function w(P){return P===45||P===46||P===58||P===95||Ls(P)?(t.consume(P),w):x(P)}function x(P){return P===61?(t.consume(P),S):Hn(P)?(t.consume(P),x):b(P)}function S(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),l=P,_):Hn(P)?(t.consume(P),S):k(P)}function _(P){return P===l?(t.consume(P),l=null,C):P===null||Vt(P)?n(P):(t.consume(P),_)}function k(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||Ur(P)?x(P):(t.consume(P),k)}function C(P){return P===47||P===62||Hn(P)?b(P):n(P)}function E(P){return P===62?(t.consume(P),M):n(P)}function M(P){return P===null||Vt(P)?A(P):Hn(P)?(t.consume(P),M):n(P)}function A(P){return P===45&&i===2?(t.consume(P),O):P===60&&i===1?(t.consume(P),q):P===62&&i===4?(t.consume(P),B):P===63&&i===3?(t.consume(P),R):P===93&&i===5?(t.consume(P),Y):Vt(P)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Vht,z,N)(P)):P===null||Vt(P)?(t.exit("htmlFlowData"),N(P)):(t.consume(P),A)}function N(P){return t.check(Hht,T,z)(P)}function T(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),I}function I(P){return P===null||Vt(P)?N(P):(t.enter("htmlFlowData"),A(P))}function O(P){return P===45?(t.consume(P),R):A(P)}function q(P){return P===47?(t.consume(P),a="",L):A(P)}function L(P){if(P===62){const $=a.toLowerCase();return wJ.includes($)?(t.consume(P),B):A(P)}return Ga(P)&&a.length<8?(t.consume(P),a+=String.fromCharCode(P),L):A(P)}function Y(P){return P===93?(t.consume(P),R):A(P)}function R(P){return P===62?(t.consume(P),B):P===45&&i===2?(t.consume(P),R):A(P)}function B(P){return P===null||Vt(P)?(t.exit("htmlFlowData"),z(P)):(t.consume(P),B)}function z(P){return t.exit("htmlFlow"),e(P)}}function Wht(t,e,n){const r=this;return i;function i(a){return Vt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function Ght(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(A4,e,n)}}const Kht={name:"htmlText",tokenize:Xht};function Xht(t,e,n){const r=this;let i,o,a;return s;function s(R){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(R),l}function l(R){return R===33?(t.consume(R),u):R===47?(t.consume(R),x):R===63?(t.consume(R),b):Ga(R)?(t.consume(R),k):n(R)}function u(R){return R===45?(t.consume(R),c):R===91?(t.consume(R),o=0,p):Ga(R)?(t.consume(R),y):n(R)}function c(R){return R===45?(t.consume(R),h):n(R)}function f(R){return R===null?n(R):R===45?(t.consume(R),d):Vt(R)?(a=f,q(R)):(t.consume(R),f)}function d(R){return R===45?(t.consume(R),h):f(R)}function h(R){return R===62?O(R):R===45?d(R):f(R)}function p(R){const B="CDATA[";return R===B.charCodeAt(o++)?(t.consume(R),o===B.length?m:p):n(R)}function m(R){return R===null?n(R):R===93?(t.consume(R),g):Vt(R)?(a=m,q(R)):(t.consume(R),m)}function g(R){return R===93?(t.consume(R),v):m(R)}function v(R){return R===62?O(R):R===93?(t.consume(R),v):m(R)}function y(R){return R===null||R===62?O(R):Vt(R)?(a=y,q(R)):(t.consume(R),y)}function b(R){return R===null?n(R):R===63?(t.consume(R),w):Vt(R)?(a=b,q(R)):(t.consume(R),b)}function w(R){return R===62?O(R):b(R)}function x(R){return Ga(R)?(t.consume(R),S):n(R)}function S(R){return R===45||Ls(R)?(t.consume(R),S):_(R)}function _(R){return Vt(R)?(a=_,q(R)):Hn(R)?(t.consume(R),_):O(R)}function k(R){return R===45||Ls(R)?(t.consume(R),k):R===47||R===62||Ur(R)?C(R):n(R)}function C(R){return R===47?(t.consume(R),O):R===58||R===95||Ga(R)?(t.consume(R),E):Vt(R)?(a=C,q(R)):Hn(R)?(t.consume(R),C):O(R)}function E(R){return R===45||R===46||R===58||R===95||Ls(R)?(t.consume(R),E):M(R)}function M(R){return R===61?(t.consume(R),A):Vt(R)?(a=M,q(R)):Hn(R)?(t.consume(R),M):C(R)}function A(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),i=R,N):Vt(R)?(a=A,q(R)):Hn(R)?(t.consume(R),A):(t.consume(R),T)}function N(R){return R===i?(t.consume(R),i=void 0,I):R===null?n(R):Vt(R)?(a=N,q(R)):(t.consume(R),N)}function T(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||Ur(R)?C(R):(t.consume(R),T)}function I(R){return R===47||R===62||Ur(R)?C(R):n(R)}function O(R){return R===62?(t.consume(R),t.exit("htmlTextData"),t.exit("htmlText"),e):n(R)}function q(R){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),L}function L(R){return Hn(R)?$n(t,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):Y(R)}function Y(R){return t.enter("htmlTextData"),a(R)}}const pL={name:"labelEnd",resolveAll:Qht,resolveTo:e0t,tokenize:t0t},Yht={tokenize:n0t},Zht={tokenize:r0t},Jht={tokenize:i0t};function Qht(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&kl(t,0,t.length,n),t}function e0t(t,e){let n=t.length,r=0,i,o,a,s;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[o][1].start},end:{...t[a][1].end}},c={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[a-2][1].start}};return s=[["enter",l,e],["enter",u,e]],s=Yl(s,t.slice(o+1,o+r+3)),s=Yl(s,[["enter",c,e]]),s=Yl(s,E7(e.parser.constructs.insideSpan.null,t.slice(o+r+4,a-3),e)),s=Yl(s,[["exit",c,e],t[a-2],t[a-1],["exit",u,e]]),s=Yl(s,t.slice(a+1)),s=Yl(s,[["exit",l,e]]),kl(t,o,t.length,s),t}function t0t(t,e,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(d){return o?o._inactive?f(d):(a=r.parser.defined.includes(Zu(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelEnd"),l):n(d)}function l(d){return d===40?t.attempt(Yht,c,a?c:f)(d):d===91?t.attempt(Zht,c,a?u:f)(d):a?c(d):f(d)}function u(d){return t.attempt(Jht,c,f)(d)}function c(d){return e(d)}function f(d){return o._balanced=!0,n(d)}}function n0t(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return Ur(f)?G2(t,o)(f):o(f)}function o(f){return f===41?c(f):ube(t,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return Ur(f)?G2(t,l)(f):c(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?fbe(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return Ur(f)?G2(t,c)(f):c(f)}function c(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function r0t(t,e,n){const r=this;return i;function i(s){return cbe.call(r,t,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(Zu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(s):n(s)}function a(s){return n(s)}}function i0t(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const o0t={name:"labelStartImage",resolveAll:pL.resolveAll,tokenize:a0t};function a0t(t,e,n){const r=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),o}function o(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),a):n(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const s0t={name:"labelStartLink",resolveAll:pL.resolveAll,tokenize:l0t};function l0t(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const F9={name:"lineEnding",tokenize:u0t};function u0t(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),$n(t,e,"linePrefix")}}const ES={name:"thematicBreak",tokenize:c0t};function c0t(t,e,n){let r=0,i;return o;function o(u){return t.enter("thematicBreak"),a(u)}function a(u){return i=u,s(u)}function s(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Vt(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),Hn(u)?$n(t,s,"whitespace")(u):s(u))}}const _s={continuation:{tokenize:p0t},exit:g0t,name:"list",tokenize:h0t},f0t={partial:!0,tokenize:v0t},d0t={partial:!0,tokenize:m0t};function h0t(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:HN(h)){if(r.containerState.type||(r.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(ES,n,u)(h):u(h);if(!r.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(h)}return n(h)}function l(h){return HN(h)&&++a<10?(t.consume(h),l):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),u(h)):n(h)}function u(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,t.check(A4,r.interrupt?n:c,t.attempt(f0t,d,f))}function c(h){return r.containerState.initialBlankLine=!0,o++,d(h)}function f(h){return Hn(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}function p0t(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(A4,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,$n(t,e,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!Hn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(d0t,e,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,$n(t,t.attempt(_s,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function m0t(t,e,n){const r=this;return $n(t,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(o):n(o)}}function g0t(t){t.exit(this.containerState.type)}function v0t(t,e,n){const r=this;return $n(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!Hn(o)&&a&&a[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const xJ={name:"setextUnderline",resolveTo:y0t,tokenize:b0t};function y0t(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",a,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function b0t(t,e,n){const r=this;let i;return o;function o(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return t.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(t.consume(u),s):(t.exit("setextHeadingLineSequence"),Hn(u)?$n(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Vt(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const w0t={tokenize:x0t};function x0t(t){const e=this,n=t.attempt(A4,r,t.attempt(this.parser.constructs.flowInitial,i,$n(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Eht,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const S0t={resolveAll:hbe()},_0t=dbe("string"),C0t=dbe("text");function dbe(t){return{resolveAll:hbe(t==="text"?k0t:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,a,s);return a;function a(c){return u(c)?o(c):s(c)}function s(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function hbe(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function k0t(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,a=-1,s=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(u===-2)l=!0,s++;else if(u!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(s=0),s){const u={type:n===t.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const E0t={42:_s,43:_s,45:_s,48:_s,49:_s,50:_s,51:_s,52:_s,53:_s,54:_s,55:_s,56:_s,57:_s,62:obe},A0t={91:Nht},T0t={[-2]:R9,[-1]:R9,32:R9},M0t={35:Lht,42:ES,45:[xJ,ES],60:qht,61:xJ,95:ES,96:bJ,126:bJ},D0t={38:sbe,92:abe},N0t={[-5]:F9,[-4]:F9,[-3]:F9,33:o0t,38:sbe,42:UN,60:[sht,Kht],91:s0t,92:[Rht,abe],93:pL,95:UN,96:wht},O0t={null:[UN,S0t]},I0t={null:[42,95]},P0t={null:[]},R0t=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:I0t,contentInitial:A0t,disable:P0t,document:E0t,flow:M0t,flowInitial:T0t,insideSpan:O0t,string:D0t,text:N0t},Symbol.toStringTag,{value:"Module"}));function F0t(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:_(x),check:_(S),consume:y,enter:b,exit:w,interrupt:_(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:p,parser:t,previous:null,sliceSerialize:d,sliceStream:h,write:f};let c=e.tokenize.call(u,l);return e.resolveAll&&o.push(e),u;function f(M){return a=Yl(a,M),g(),a[a.length-1]!==null?[]:(k(e,0),u.events=E7(o,u.events,u),u.events)}function d(M,A){return $0t(h(M),A)}function h(M){return L0t(a,M)}function p(){const{_bufferIndex:M,_index:A,line:N,column:T,offset:I}=r;return{_bufferIndex:M,_index:A,line:N,column:T,offset:I}}function m(M){i[M.line]=M.column,E()}function g(){let M;for(;r._index<a.length;){const A=a[r._index];if(typeof A=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<A.length;)v(A.charCodeAt(r._bufferIndex));else v(A)}}function v(M){c=c(M)}function y(M){Vt(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,E()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=M}function b(M,A){const N=A||{};return N.type=M,N.start=p(),u.events.push(["enter",N,u]),s.push(N),N}function w(M){const A=s.pop();return A.end=p(),u.events.push(["exit",A,u]),A}function x(M,A){k(M,A.from)}function S(M,A){A.restore()}function _(M,A){return N;function N(T,I,O){let q,L,Y,R;return Array.isArray(T)?z(T):"tokenize"in T?z([T]):B(T);function B(K){return Z;function Z(te){const J=te!==null&&K[te],fe=te!==null&&K.null,ue=[...Array.isArray(J)?J:J?[J]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return z(ue)(te)}}function z(K){return q=K,L=0,K.length===0?O:P(K[L])}function P(K){return Z;function Z(te){return R=C(),Y=K,K.partial||(u.currentConstruct=K),K.name&&u.parser.constructs.disable.null.includes(K.name)?X():K.tokenize.call(A?Object.assign(Object.create(u),A):u,l,$,X)(te)}}function $(K){return M(Y,R),I}function X(K){return R.restore(),++L<q.length?P(q[L]):O}}}function k(M,A){M.resolveAll&&!o.includes(M)&&o.push(M),M.resolve&&kl(u.events,A,u.events.length-A,M.resolve(u.events.slice(A),u)),M.resolveTo&&(u.events=M.resolveTo(u.events,u))}function C(){const M=p(),A=u.previous,N=u.currentConstruct,T=u.events.length,I=Array.from(s);return{from:T,restore:O};function O(){r=M,u.previous=A,u.currentConstruct=N,u.events.length=T,s=I,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function L0t(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,o)];else{if(a=t.slice(n,i),r>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(t[i].slice(0,o))}return a}function $0t(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function B0t(t){const r={constructs:rbe([R0t,...(t||{}).extensions||[]]),content:i(eht),defined:[],document:i(nht),flow:i(w0t),lazy:{},string:i(_0t),text:i(C0t)};return r;function i(o){return a;function a(s){return F0t(r,o,s)}}}function z0t(t){for(;!lbe(t););return t}const SJ=/[\0\t\n\r]/g;function q0t(){let t=1,e="",n=!0,r;return i;function i(o,a,s){const l=[];let u,c,f,d,h;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),f=0,e="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(SJ.lastIndex=f,u=SJ.exec(o),d=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(d),!u){e=o.slice(f);break}if(h===10&&f===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<d&&(l.push(o.slice(f,d)),t+=d-f),h){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=d+1}return s&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const V0t=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function pbe(t){return t.replace(V0t,H0t)}function H0t(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return ibe(n.slice(o?2:1),o?16:10)}return hL(n)||t}function K2(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?_J(t.position):"start"in t||"end"in t?_J(t):"line"in t||"column"in t?jN(t):""}function jN(t){return CJ(t&&t.line)+":"+CJ(t&&t.column)}function _J(t){return jN(t&&t.start)+"-"+jN(t&&t.end)}function CJ(t){return t&&typeof t=="number"?t:1}const mbe={}.hasOwnProperty;function U0t(t,e,n){return typeof e!="string"&&(n=e,e=void 0),j0t(n)(z0t(B0t(n).document().write(q0t()(t,e,!0))))}function j0t(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(j),autolinkProtocol:C,autolinkEmail:C,atxHeading:o(oe),blockQuote:o(fe),characterEscape:C,characterReference:C,codeFenced:o(ue),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(ue,a),codeText:o(de,a),codeTextData:C,data:C,codeFlowValue:C,definition:o(ee),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(D),hardBreakEscape:o(W),hardBreakTrailing:o(W),htmlFlow:o(V,a),htmlFlowData:C,htmlText:o(V,a),htmlTextData:C,image:o(F),label:a,link:o(j),listItem:o(pe),listItemValue:d,listOrdered:o(se,f),listUnordered:o(se),paragraph:o(ae),reference:P,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(oe),strong:o(H),thematicBreak:o(ie)},exit:{atxHeading:l(),atxHeadingSequence:x,autolink:l(),autolinkEmail:J,autolinkProtocol:te,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:X,characterReferenceMarkerNumeric:X,characterReferenceValue:K,characterReference:Z,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:E,codeIndented:l(v),codeText:l(I),codeTextData:E,data:E,definition:l(),definitionDestinationString:w,definitionLabelString:y,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(A),hardBreakTrailing:l(A),htmlFlow:l(N),htmlFlowData:E,htmlText:l(T),htmlTextData:E,image:l(q),label:Y,labelText:L,lineEnding:M,link:l(O),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:$,resourceDestinationString:R,resourceTitleString:B,resource:z,setextHeading:l(k),setextHeadingLineSequence:_,setextHeadingText:S,strong:l(),thematicBreak:l()}};gbe(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ce){let ve={type:"root",children:[]};const Te={stack:[ve],tokenStack:[],config:e,enter:s,exit:u,buffer:a,resume:c,data:n},be=[];let _e=-1;for(;++_e<ce.length;)if(ce[_e][1].type==="listOrdered"||ce[_e][1].type==="listUnordered")if(ce[_e][0]==="enter")be.push(_e);else{const ge=be.pop();_e=i(ce,ge,_e)}for(_e=-1;++_e<ce.length;){const ge=e[ce[_e][0]];mbe.call(ge,ce[_e][1].type)&&ge[ce[_e][1].type].call(Object.assign({sliceSerialize:ce[_e][2].sliceSerialize},Te),ce[_e][1])}if(Te.tokenStack.length>0){const ge=Te.tokenStack[Te.tokenStack.length-1];(ge[1]||kJ).call(Te,void 0,ge[0])}for(ve.position={start:Eh(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:Eh(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},_e=-1;++_e<e.transforms.length;)ve=e.transforms[_e](ve)||ve;return ve}function i(ce,ve,Te){let be=ve-1,_e=-1,ge=!1,Ae,Me,Fe,Ue;for(;++be<=Te;){const G=ce[be];switch(G[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{G[0]==="enter"?_e++:_e--,Ue=void 0;break}case"lineEndingBlank":{G[0]==="enter"&&(Ae&&!Ue&&!_e&&!Fe&&(Fe=be),Ue=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ue=void 0}if(!_e&&G[0]==="enter"&&G[1].type==="listItemPrefix"||_e===-1&&G[0]==="exit"&&(G[1].type==="listUnordered"||G[1].type==="listOrdered")){if(Ae){let Se=be;for(Me=void 0;Se--;){const Ie=ce[Se];if(Ie[1].type==="lineEnding"||Ie[1].type==="lineEndingBlank"){if(Ie[0]==="exit")continue;Me&&(ce[Me][1].type="lineEndingBlank",ge=!0),Ie[1].type="lineEnding",Me=Se}else if(!(Ie[1].type==="linePrefix"||Ie[1].type==="blockQuotePrefix"||Ie[1].type==="blockQuotePrefixWhitespace"||Ie[1].type==="blockQuoteMarker"||Ie[1].type==="listItemIndent"))break}Fe&&(!Me||Fe<Me)&&(Ae._spread=!0),Ae.end=Object.assign({},Me?ce[Me][1].start:G[1].end),ce.splice(Me||be,0,["exit",Ae,G[2]]),be++,Te++}if(G[1].type==="listItemPrefix"){const Se={type:"listItem",_spread:!1,start:Object.assign({},G[1].start),end:void 0};Ae=Se,ce.splice(be,0,["enter",Se,G[2]]),be++,Te++,Fe=void 0,Ue=!0}}}return ce[ve][1]._spread=ge,Te}function o(ce,ve){return Te;function Te(be){s.call(this,ce(be),be),ve&&ve.call(this,be)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(ce,ve,Te){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([ve,Te||void 0]),ce.position={start:Eh(ve.start),end:void 0}}function l(ce){return ve;function ve(Te){ce&&ce.call(this,Te),u.call(this,Te)}}function u(ce,ve){const Te=this.stack.pop(),be=this.tokenStack.pop();if(be)be[0].type!==ce.type&&(ve?ve.call(this,ce,be[0]):(be[1]||kJ).call(this,ce,be[0]));else throw new Error("Cannot close `"+ce.type+"` ("+K2({start:ce.start,end:ce.end})+"): its not open");Te.position.end=Eh(ce.end)}function c(){return dL(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d(ce){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function h(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=ce}function p(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=ce}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce.replace(/(\r?\n|\r)$/g,"")}function y(ce){const ve=this.resume(),Te=this.stack[this.stack.length-1];Te.label=ve,Te.identifier=Zu(this.sliceSerialize(ce)).toLowerCase()}function b(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ce}function w(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ce}function x(ce){const ve=this.stack[this.stack.length-1];if(!ve.depth){const Te=this.sliceSerialize(ce).length;ve.depth=Te}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function _(ce){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function C(ce){const Te=this.stack[this.stack.length-1].children;let be=Te[Te.length-1];(!be||be.type!=="text")&&(be=Q(),be.position={start:Eh(ce.start),end:void 0},Te.push(be)),this.stack.push(be)}function E(ce){const ve=this.stack.pop();ve.value+=this.sliceSerialize(ce),ve.position.end=Eh(ce.end)}function M(ce){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Te=ve.children[ve.children.length-1];Te.position.end=Eh(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ve.type)&&(C.call(this,ce),E.call(this,ce))}function A(){this.data.atHardBreak=!0}function N(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce}function T(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce}function I(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce}function O(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=ve,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function q(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=ve,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function L(ce){const ve=this.sliceSerialize(ce),Te=this.stack[this.stack.length-2];Te.label=pbe(ve),Te.identifier=Zu(ve).toLowerCase()}function Y(){const ce=this.stack[this.stack.length-1],ve=this.resume(),Te=this.stack[this.stack.length-1];if(this.data.inReference=!0,Te.type==="link"){const be=ce.children;Te.children=be}else Te.alt=ve}function R(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ce}function B(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ce}function z(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function $(ce){const ve=this.resume(),Te=this.stack[this.stack.length-1];Te.label=ve,Te.identifier=Zu(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function X(ce){this.data.characterReferenceType=ce.type}function K(ce){const ve=this.sliceSerialize(ce),Te=this.data.characterReferenceType;let be;Te?(be=ibe(ve,Te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):be=hL(ve);const _e=this.stack[this.stack.length-1];_e.value+=be}function Z(ce){const ve=this.stack.pop();ve.position.end=Eh(ce.end)}function te(ce){E.call(this,ce);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(ce)}function J(ce){E.call(this,ce);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(ce)}function fe(){return{type:"blockquote",children:[]}}function ue(){return{type:"code",lang:null,meta:null,value:""}}function de(){return{type:"inlineCode",value:""}}function ee(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function D(){return{type:"emphasis",children:[]}}function oe(){return{type:"heading",depth:0,children:[]}}function W(){return{type:"break"}}function V(){return{type:"html",value:""}}function F(){return{type:"image",title:null,url:"",alt:null}}function j(){return{type:"link",title:null,url:"",children:[]}}function se(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function pe(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function ae(){return{type:"paragraph",children:[]}}function H(){return{type:"strong",children:[]}}function Q(){return{type:"text",value:""}}function ie(){return{type:"thematicBreak"}}}function Eh(t){return{line:t.line,column:t.column,offset:t.offset}}function gbe(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?gbe(t,r):W0t(t,r)}}function W0t(t,e){let n;for(n in e)if(mbe.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function kJ(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+K2({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+K2({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+K2({start:e.start,end:e.end})+") is still open")}function WN(t){const e=this;e.parser=n;function n(r){return U0t(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}const EJ={}.hasOwnProperty;function G0t(t,e){const n=e||{};function r(i,...o){let a=r.invalid;const s=r.handlers;if(i&&EJ.call(i,t)){const l=String(i[t]);a=EJ.call(s,l)?s[l]:r.unknown}if(a)return a.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const K0t={}.hasOwnProperty;function vbe(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)vbe(t,e.extensions[n]);for(r in e)if(K0t.call(e,r))switch(r){case"extensions":break;case"unsafe":{AJ(t[r],e[r]);break}case"join":{AJ(t[r],e[r]);break}case"handlers":{X0t(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function AJ(t,e){e&&t.push(...e)}function X0t(t,e){e&&Object.assign(t,e)}function Y0t(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(t,o.current()),Z0t);return i(),a}function Z0t(t,e,n){return">"+(n?"":" ")+t}function ybe(t,e){return TJ(t,e.inConstruct,!0)&&!TJ(t,e.notInConstruct,!1)}function TJ(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function MJ(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&ybe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function bbe(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>a&&(a=o):o=1,i=r+e.length,r=n.indexOf(e,i);return a}function GN(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function J0t(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Q0t(t,e,n,r){const i=J0t(n),o=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(GN(t,n)){const f=n.enter("codeIndented"),d=n.indentLines(o,ept);return f(),d}const s=n.createTracker(r),l=i.repeat(Math.max(bbe(o,i)+1,3)),u=n.enter("codeFenced");let c=s.move(l);if(t.lang){const f=n.enter(`codeFencedLang${a}`);c+=s.move(n.safe(t.lang,{before:c,after:" ",encode:["`"],...s.current()})),f()}if(t.lang&&t.meta){const f=n.enter(`codeFencedMeta${a}`);c+=s.move(" "),c+=s.move(n.safe(t.meta,{before:c,after:`
`,encode:["`"],...s.current()})),f()}return c+=s.move(`
`),o&&(c+=s.move(o+`
`)),c+=s.move(l),u(),c}function ept(t,e,n){return(n?"":"    ")+t}function mL(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function tpt(t,e,n,r){const i=mL(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!t.url||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),s(),t.title&&(s=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),a(),u}function npt(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function z0(t){return"&#x"+t.toString(16).toUpperCase()+";"}function XC(t,e,n){const r=jv(t),i=jv(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}wbe.peek=rpt;function wbe(t,e,n,r){const i=npt(n),o=n.enter("emphasis"),a=n.createTracker(r),s=a.move(i);let l=a.move(n.containerPhrasing(t,{after:i,before:s,...a.current()}));const u=l.charCodeAt(0),c=XC(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=z0(u)+l.slice(1));const f=l.charCodeAt(l.length-1),d=XC(r.after.charCodeAt(0),f,i);d.inside&&(l=l.slice(0,-1)+z0(f));const h=a.move(i);return o(),n.attentionEncodeSurroundingInfo={after:d.outside,before:c.outside},s+l+h}function rpt(t,e,n){return n.options.emphasis||"*"}const A7=function(t){if(t==null)return spt;if(typeof t=="function")return T7(t);if(typeof t=="object")return Array.isArray(t)?ipt(t):opt(t);if(typeof t=="string")return apt(t);throw new Error("Expected function, string, or object as test")};function ipt(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=A7(t[n]);return T7(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function opt(t){const e=t;return T7(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function apt(t){return T7(e);function e(n){return n&&n.type===t}}function T7(t){return e;function e(n,r,i){return!!(lpt(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function spt(){return!0}function lpt(t){return t!==null&&typeof t=="object"&&"type"in t}const xbe=[],upt=!0,KN=!1,XN="skip";function gL(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=A7(i),a=r?-1:1;s(t,void 0,[])();function s(l,u,c){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=xbe,p,m,g;if((!e||o(l,u,c[c.length-1]||void 0))&&(h=cpt(n(l,c)),h[0]===KN))return h;if("children"in l&&l.children){const v=l;if(v.children&&h[0]!==XN)for(m=(r?v.children.length:-1)+a,g=c.concat(v);m>-1&&m<v.children.length;){const y=v.children[m];if(p=s(y,m,g)(),p[0]===KN)return p;m=typeof p[1]=="number"?p[1]:m+a}}return h}}}function cpt(t){return Array.isArray(t)?t:typeof t=="number"?[upt,t]:t==null?xbe:[t]}function yp(t,e,n,r){let i,o,a;typeof e=="function"&&typeof n!="function"?(o=void 0,a=e,i=n):(o=e,a=n,i=r),gL(t,o,s,i);function s(l,u){const c=u[u.length-1],f=c?c.children.indexOf(l):void 0;return a(l,f,c)}}function Sbe(t,e){let n=!1;return yp(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,KN}),!!((!t.depth||t.depth<3)&&dL(t)&&(e.options.setext||n))}function fpt(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(Sbe(t,n)){const c=n.enter("headingSetext"),f=n.enter("phrasing"),d=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return f(),c(),d+`
`+(i===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const a="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");o.move(a+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=z0(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),l(),s(),u}_be.peek=dpt;function _be(t){return t.value||""}function dpt(){return"<"}Cbe.peek=hpt;function Cbe(t,e,n,r){const i=mL(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),s(),t.title&&(s=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),u+=l.move(")"),a(),u}function hpt(){return"!"}kbe.peek=ppt;function kbe(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const u=n.safe(t.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(t),{before:l,after:"]",...s.current()});return a(),n.stack=c,o(),i==="full"||!u||u!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function ppt(){return"!"}Ebe.peek=mpt;function Ebe(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const a=n.unsafe[o],s=n.compilePattern(a);let l;if(a.atBreak)for(;l=s.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function mpt(){return"`"}function Abe(t,e){const n=dL(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Tbe.peek=gpt;function Tbe(t,e,n,r){const i=mL(n),o=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let s,l;if(Abe(t,n)){const c=n.stack;n.stack=[],s=n.enter("autolink");let f=a.move("<");return f+=a.move(n.containerPhrasing(t,{before:f,after:">",...a.current()})),f+=a.move(">"),s(),n.stack=c,f}s=n.enter("link"),l=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(t,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),s(),u}function gpt(t,e,n){return Abe(t,n)?"<":"["}Mbe.peek=vpt;function Mbe(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(t),{before:l,after:"]",...s.current()});return a(),n.stack=c,o(),i==="full"||!u||u!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function vpt(){return"["}function vL(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function ypt(t){const e=vL(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function bpt(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Dbe(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function wpt(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=t.ordered?bpt(n):vL(n);const s=t.ordered?a==="."?")":".":ypt(n);let l=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const c=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),Dbe(n)===a&&c){let f=-1;for(;++f<t.children.length;){const d=t.children[f];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;const u=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),u}function xpt(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Spt(t,e,n,r){const i=xpt(n);let o=n.bulletCurrent||vL(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const s=n.createTracker(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,s.current()),c);return l(),u;function c(f,d,h){return d?(h?"":" ".repeat(a))+f:(h?o:o+" ".repeat(a-o.length))+f}}function _pt(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(t,r);return o(),i(),a}const Cpt=A7(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function kpt(t,e,n,r){return(t.children.some(function(a){return Cpt(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Ept(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Nbe.peek=Apt;function Nbe(t,e,n,r){const i=Ept(n),o=n.enter("strong"),a=n.createTracker(r),s=a.move(i+i);let l=a.move(n.containerPhrasing(t,{after:i,before:s,...a.current()}));const u=l.charCodeAt(0),c=XC(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=z0(u)+l.slice(1));const f=l.charCodeAt(l.length-1),d=XC(r.after.charCodeAt(0),f,i);d.inside&&(l=l.slice(0,-1)+z0(f));const h=a.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:d.outside,before:c.outside},s+l+h}function Apt(t,e,n){return n.options.strong||"*"}function Tpt(t,e,n,r){return n.safe(t.value,r)}function Mpt(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Dpt(t,e,n){const r=(Dbe(n)+(n.options.ruleSpaces?" ":"")).repeat(Mpt(n));return n.options.ruleSpaces?r.slice(0,-1):r}const yL={blockquote:Y0t,break:MJ,code:Q0t,definition:tpt,emphasis:wbe,hardBreak:MJ,heading:fpt,html:_be,image:Cbe,imageReference:kbe,inlineCode:Ebe,link:Tbe,linkReference:Mbe,list:wpt,listItem:Spt,paragraph:_pt,root:kpt,strong:Nbe,text:Tpt,thematicBreak:Dpt},Npt=[Opt];function Opt(t,e,n,r){if(e.type==="code"&&GN(e,r)&&(t.type==="list"||t.type===e.type&&GN(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&Sbe(e,r))?void 0:n.spread?1:0}const Pp=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Ipt=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Pp},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Pp},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Pp},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Pp},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Pp},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Pp},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Pp},{atBreak:!0,character:"~"}];function Ppt(t){return t.label||!t.identifier?t.label||"":pbe(t.identifier)}function Rpt(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function Fpt(t,e,n){const r=e.indexStack,i=t.children||[],o=[];let a=-1,s=n.before,l;r.push(-1);let u=e.createTracker(n);for(;++a<i.length;){const c=i[a];let f;if(r[r.length-1]=a,a+1<i.length){let p=e.handle.handlers[i[a+1].type];p&&p.peek&&(p=p.peek),f=p?p(i[a+1],t,e,{before:"",after:"",...u.current()}).charAt(0):""}else f=n.after;o.length>0&&(s==="\r"||s===`
`)&&c.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),s=" ",u=e.createTracker(n),u.move(o.join("")));let d=e.handle(c,t,e,{...u.current(),after:f,before:s});l&&l===d.slice(0,1)&&(d=z0(l.charCodeAt(0))+d.slice(1));const h=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,l=void 0,h&&(o.length>0&&h.before&&s===o[o.length-1].slice(-1)&&(o[o.length-1]=o[o.length-1].slice(0,-1)+z0(s.charCodeAt(0))),h.after&&(l=f)),u.move(d),o.push(d),s=d.slice(-1)}return r.pop(),o.join("")}function Lpt(t,e,n){const r=e.indexStack,i=t.children||[],o=e.createTracker(n),a=[];let s=-1;for(r.push(-1);++s<i.length;){const l=i[s];r[r.length-1]=s,a.push(o.move(e.handle(l,t,e,{before:`
`,after:`
`,...o.current()}))),l.type!=="list"&&(e.bulletLastUsed=void 0),s<i.length-1&&a.push(o.move($pt(l,i[s+1],t,e)))}return r.pop(),a.join("")}function $pt(t,e,n,r){let i=r.join.length;for(;i--;){const o=r.join[i](t,e,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}const Bpt=/\r?\n|\r/g;function zpt(t,e){const n=[];let r=0,i=0,o;for(;o=Bpt.exec(t);)a(t.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return a(t.slice(r)),n.join("");function a(s){n.push(e(s,i,!s))}}function qpt(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),i=[],o=[],a={};let s=-1;for(;++s<t.unsafe.length;){const c=t.unsafe[s];if(!ybe(t.stack,c))continue;const f=t.compilePattern(c);let d;for(;d=f.exec(r);){const h="before"in c||!!c.atBreak,p="after"in c,m=d.index+(h?d[1].length:0);i.includes(m)?(a[m].before&&!h&&(a[m].before=!1),a[m].after&&!p&&(a[m].after=!1)):(i.push(m),a[m]={before:h,after:p})}}i.sort(Vpt);let l=n.before?n.before.length:0;const u=r.length-(n.after?n.after.length:0);for(s=-1;++s<i.length;){const c=i[s];c<l||c>=u||c+1<u&&i[s+1]===c+1&&a[c].after&&!a[c+1].before&&!a[c+1].after||i[s-1]===c-1&&a[c].before&&!a[c-1].before&&!a[c-1].after||(l!==c&&o.push(DJ(r.slice(l,c),"\\")),l=c,/[!-/:-@[-`{-~]/.test(r.charAt(c))&&(!n.encode||!n.encode.includes(r.charAt(c)))?o.push("\\"):(o.push(z0(r.charCodeAt(c))),l++))}return o.push(DJ(r.slice(l,u),n.after)),o.join("")}function Vpt(t,e){return t-e}function DJ(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e;let a=-1,s=0,l;for(;l=n.exec(o);)r.push(l.index);for(;++a<r.length;)s!==r[a]&&i.push(t.slice(s,r[a])),i.push("\\"),s=r[a];return i.push(t.slice(s)),i.join("")}function Hpt(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:l,current:a,shift:s};function a(){return{now:{line:i,column:o},lineShift:r}}function s(u){r+=u}function l(u){const c=u||"",f=c.split(/\r?\n|\r/g),d=f[f.length-1];return i+=f.length-1,o=f.length===1?o+d.length:1+d.length+r,c}}function Upt(t,e){const n=e||{},r={associationId:Ppt,containerPhrasing:Kpt,containerFlow:Xpt,createTracker:Hpt,compilePattern:Rpt,enter:o,handlers:{...yL},handle:void 0,indentLines:zpt,indexStack:[],join:[...Npt],options:{},safe:Ypt,stack:[],unsafe:[...Ipt]};vbe(r,n),r.options.tightDefinitions&&r.join.push(Gpt),r.handle=G0t("type",{invalid:jpt,unknown:Wpt,handlers:r.handlers});let i=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function o(a){return r.stack.push(a),s;function s(){r.stack.pop()}}}function jpt(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function Wpt(t){const e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function Gpt(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function Kpt(t,e){return Fpt(t,this,e)}function Xpt(t,e){return Lpt(t,this,e)}function Ypt(t,e){return qpt(this,t,e)}function YN(t){const e=this;e.compiler=n;function n(r){return Upt(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}}function NJ(t){if(t)throw t}var L9,OJ;function Zpt(){if(OJ)return L9;OJ=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},o=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var c=t.call(u,"constructor"),f=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!f)return!1;var d;for(d in u);return typeof d>"u"||t.call(u,d)},a=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},s=function(u,c){if(c==="__proto__")if(t.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return L9=function l(){var u,c,f,d,h,p,m=arguments[0],g=1,v=arguments.length,y=!1;for(typeof m=="boolean"&&(y=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<v;++g)if(u=arguments[g],u!=null)for(c in u)f=s(m,c),d=s(u,c),m!==d&&(y&&d&&(o(d)||(h=i(d)))?(h?(h=!1,p=f&&i(f)?f:[]):p=f&&o(f)?f:{},a(m,{name:c,newValue:l(y,p,d)})):typeof d<"u"&&a(m,{name:c,newValue:d}));return m},L9}var Jpt=Zpt();const $9=vf(Jpt);function ZN(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Qpt(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...u){const c=t[++o];let f=-1;if(l){a(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?emt(c,s)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function emt(t,e){let n;return r;function r(...a){const s=t.length>a.length;let l;s&&a.push(i);try{l=t.apply(this,a)}catch(u){const c=u;if(s&&n)throw c;return i(c)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){n||(n=!0,e(a,...s))}function o(a){i(null,a)}}class Js extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(a=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=K2(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Js.prototype.file="";Js.prototype.name="";Js.prototype.reason="";Js.prototype.message="";Js.prototype.stack="";Js.prototype.column=void 0;Js.prototype.line=void 0;Js.prototype.ancestors=void 0;Js.prototype.cause=void 0;Js.prototype.fatal=void 0;Js.prototype.place=void 0;Js.prototype.ruleId=void 0;Js.prototype.source=void 0;const Ic={basename:tmt,dirname:nmt,extname:rmt,join:imt,sep:"/"};function tmt(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');T4(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,s=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(t.codePointAt(i)===e.codePointAt(s--)?s<0&&(r=i):(s=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function nmt(t){if(T4(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function rmt(t){T4(t);let e=t.length,n=-1,r=0,i=-1,o=0,a;for(;e--;){const s=t.codePointAt(e);if(s===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),s===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function imt(...t){let e=-1,n;for(;++e<t.length;)T4(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":omt(n)}function omt(t){T4(t);const e=t.codePointAt(0)===47;let n=amt(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function amt(t,e){let n="",r=0,i=-1,o=0,a=-1,s,l;for(;++a<=t.length;){if(a<t.length)s=t.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return n}function T4(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const smt={cwd:lmt};function lmt(){return"/"}function JN(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function umt(t){if(typeof t=="string")t=new URL(t);else if(!JN(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return cmt(t)}function cmt(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const B9=["history","path","basename","stem","extname","dirname"];class fmt{constructor(e){let n;e?JN(e)?n={path:e}:typeof e=="string"||dmt(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":smt.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<B9.length;){const o=B9[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)B9.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ic.basename(this.path):void 0}set basename(e){q9(e,"basename"),z9(e,"basename"),this.path=Ic.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ic.dirname(this.path):void 0}set dirname(e){IJ(this.basename,"dirname"),this.path=Ic.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ic.extname(this.path):void 0}set extname(e){if(z9(e,"extname"),IJ(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ic.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){JN(e)&&(e=umt(e)),q9(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ic.basename(this.path,this.extname):void 0}set stem(e){q9(e,"stem"),z9(e,"stem"),this.path=Ic.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Js(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function z9(t,e){if(t&&t.includes(Ic.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ic.sep+"`")}function q9(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function IJ(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function dmt(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const hmt=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},pmt={}.hasOwnProperty;class bL extends hmt{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Qpt()}copy(){const e=new bL;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data($9(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(U9("data",this.frozen),this.namespace[e]=n,this):pmt.call(this.namespace,e)&&this.namespace[e]||void 0:e?(U9("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=r6(e),r=this.parser||this.Parser;return V9("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),V9("process",this.parser||this.Parser),H9("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const s=r6(e),l=r.parse(s);r.run(l,s,function(c,f,d){if(c||!f||!d)return u(c);const h=f,p=r.stringify(h,d);gmt(p)?d.value=p:d.result=p,u(c,d)});function u(c,f){c||!f?a(c):o?o(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),V9("processSync",this.parser||this.Parser),H9("processSync",this.compiler||this.Compiler),this.process(e,i),RJ("processSync","process",n),r;function i(o,a){n=!0,NJ(o),r=a}}run(e,n,r){PJ(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,s){const l=r6(n);i.run(e,l,u);function u(c,f,d){const h=f||e;c?s(c):a?a(h):r(void 0,h,d)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),RJ("runSync","run",r),i;function o(a,s){NJ(a),i=s,r=!0}}stringify(e,n){this.freeze();const r=r6(n),i=this.compiler||this.Compiler;return H9("stringify",i),PJ(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(U9("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?s(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;l(c,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=$9(!0,i.settings,u.settings))}function s(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];o(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let f=-1,d=-1;for(;++f<r.length;)if(r[f][0]===u){d=f;break}if(d===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const m=r[d][1];ZN(m)&&ZN(h)&&(h=$9(!0,m,h)),r[d]=[u,h,...p]}}}}const QN=new bL().freeze();function V9(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function H9(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function U9(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function PJ(t){if(!ZN(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function RJ(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function r6(t){return mmt(t)?t:new fmt(t)}function mmt(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function gmt(t){return typeof t=="string"||vmt(t)}function vmt(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var Obe=t=>{throw TypeError(t)},Ibe=(t,e,n)=>e.has(t)||Obe("Cannot "+n),Rn=(t,e,n)=>(Ibe(t,e,"read from private field"),n?n.call(t):e.get(t)),Xi=(t,e,n)=>e.has(t)?Obe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ri=(t,e,n,r)=>(Ibe(t,e,"write to private field"),e.set(t,n),n),Dc,Kb,AS,TS,MS,Xb,Yb,td,Zb,DS,NS,Jb,OS,Qb,IS,PS,yg,Wp,RS,e2;class Pbe{}class Rbe{constructor(){this.elements=[],this.size=()=>this.elements.length,this.top=()=>this.elements.at(-1),this.push=e=>{this.top()?.push(e)},this.open=e=>{this.elements.push(e)},this.close=()=>{const e=this.elements.pop();if(!e)throw Kye();return e}}}class wL extends Pbe{constructor(e,n,r){super(),this.type=e,this.content=n,this.attrs=r}push(e,...n){this.content.push(e,...n)}pop(){return this.content.pop()}static create(e,n,r){return new wL(e,n,r)}}const eO=class extends Rbe{constructor(e){super(),Xi(this,Dc),Xi(this,Kb),Xi(this,AS),Xi(this,TS),Xi(this,MS),Xi(this,Xb),Xi(this,Yb),ri(this,Dc,Nn.none),ri(this,Kb,n=>n.isText),ri(this,AS,(n,r)=>{if(Rn(this,Kb).call(this,n)&&Rn(this,Kb).call(this,r)&&Nn.sameSet(n.marks,r.marks))return this.schema.text(n.text+r.text,n.marks)}),ri(this,TS,n=>{const r=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.parseMarkdown.match(n));if(!r)throw hdt(n);return r}),ri(this,MS,n=>{const r=Rn(this,TS).call(this,n);r.spec.parseMarkdown.runner(this,n,r)}),this.injectRoot=(n,r,i)=>(this.openNode(r,i),this.next(n.children),this),this.openNode=(n,r)=>(this.open(wL.create(n,[],r)),this),ri(this,Xb,()=>{ri(this,Dc,Nn.none);const n=this.close();return Rn(this,Yb).call(this,n.type,n.attrs,n.content)}),this.closeNode=()=>{try{Rn(this,Xb).call(this)}catch(n){console.error(n)}return this},ri(this,Yb,(n,r,i)=>{const o=n.createAndFill(r,i,Rn(this,Dc));if(!o)throw ddt(n,r,i);return this.push(o),o}),this.addNode=(n,r,i)=>{try{Rn(this,Yb).call(this,n,r,i)}catch(o){console.error(o)}return this},this.openMark=(n,r)=>{const i=n.create(r);return ri(this,Dc,i.addToSet(Rn(this,Dc))),this},this.closeMark=n=>(ri(this,Dc,n.removeFromSet(Rn(this,Dc))),this),this.addText=n=>{try{const r=this.top();if(!r)throw Kye();const i=r.pop(),o=this.schema.text(n,Rn(this,Dc));if(!i)return r.push(o),this;const a=Rn(this,AS).call(this,i,o);return a?(r.push(a),this):(r.push(i,o),this)}catch(r){return console.error(r),this}},this.build=()=>{let n;do n=Rn(this,Xb).call(this);while(this.size());return n},this.next=(n=[])=>([n].flat().forEach(r=>Rn(this,MS).call(this,r)),this),this.toDoc=()=>this.build(),this.run=(n,r)=>{const i=n.runSync(n.parse(r),r);return this.next(i),this},this.schema=e}};Dc=new WeakMap;Kb=new WeakMap;AS=new WeakMap;TS=new WeakMap;MS=new WeakMap;Xb=new WeakMap;Yb=new WeakMap;eO.create=(t,e)=>{const n=new eO(t);return r=>(n.run(e,r),n.toDoc())};let ymt=eO;const tO=class extends Pbe{constructor(e,n,r,i={}){super(),this.type=e,this.children=n,this.value=r,this.props=i,this.push=(o,...a)=>{this.children||(this.children=[]),this.children.push(o,...a)},this.pop=()=>this.children?.pop()}};tO.create=(t,e,n,r={})=>new tO(t,e,n,r);let FJ=tO;const bmt=t=>Object.prototype.hasOwnProperty.call(t,"size"),nO=class extends Rbe{constructor(e){super(),Xi(this,td),Xi(this,Zb),Xi(this,DS),Xi(this,NS),Xi(this,Jb),Xi(this,OS),Xi(this,Qb),Xi(this,IS),Xi(this,PS),Xi(this,yg),Xi(this,Wp),Xi(this,RS),Xi(this,e2),ri(this,td,Nn.none),ri(this,Zb,n=>{const r=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.toMarkdown.match(n));if(!r)throw pdt(n.type);return r}),ri(this,DS,n=>Rn(this,Zb).call(this,n).spec.toMarkdown.runner(this,n)),ri(this,NS,(n,r)=>Rn(this,Zb).call(this,n).spec.toMarkdown.runner(this,n,r)),ri(this,Jb,n=>{const{marks:r}=n,i=s=>s.type.spec.priority??50;[...r].sort((s,l)=>i(s)-i(l)).every(s=>!Rn(this,NS).call(this,s,n))&&Rn(this,DS).call(this,n),r.forEach(s=>Rn(this,e2).call(this,s))}),ri(this,OS,(n,r)=>{if(n.type===r||n.children?.length!==1)return n;const i=l=>{if(l.type===r)return l;if(l.children?.length!==1)return null;const[u]=l.children;return u?i(u):null},o=i(n);if(!o)return n;const a=o.children?[...o.children]:void 0,s={...n,children:a};return s.children=a,o.children=[s],o}),ri(this,Qb,n=>{const{children:r}=n;return r&&(n.children=r.reduce((i,o,a)=>{if(a===0)return[o];const s=i.at(-1);if(s&&s.isMark&&o.isMark){o=Rn(this,OS).call(this,o,s.type);const{children:l,...u}=o,{children:c,...f}=s;if(o.type===s.type&&l&&c&&JSON.stringify(u)===JSON.stringify(f)){const d={...f,children:[...c,...l]};return i.slice(0,-1).concat(Rn(this,Qb).call(this,d))}}return i.concat(o)},[])),n}),ri(this,IS,n=>{const r={...n.props,type:n.type};return n.children&&(r.children=n.children),n.value&&(r.value=n.value),r}),this.openNode=(n,r,i)=>(this.open(FJ.create(n,void 0,r,i)),this),ri(this,PS,(n,r)=>{let i="",o="";const a=n.children;let s=-1,l=-1;const u=f=>{f&&f.forEach((d,h)=>{d.type==="text"&&d.value&&(s<0&&(s=h),l=h)})};if(a){u(a);const f=a?.[l],d=a?.[s];if(f&&f.value.endsWith(" ")){const h=f.value,p=h.trimEnd();o=h.slice(p.length),f.value=p}if(d&&d.value.startsWith(" ")){const h=d.value,p=h.trimStart();i=h.slice(0,h.length-p.length),d.value=p}}i.length&&Rn(this,Wp).call(this,"text",void 0,i);const c=r();return o.length&&Rn(this,Wp).call(this,"text",void 0,o),c}),ri(this,yg,(n=!1)=>{const r=this.close(),i=()=>Rn(this,Wp).call(this,r.type,r.children,r.value,r.props);return n?Rn(this,PS).call(this,r,i):i()}),this.closeNode=()=>(Rn(this,yg).call(this),this),ri(this,Wp,(n,r,i,o)=>{const a=FJ.create(n,r,i,o),s=Rn(this,Qb).call(this,Rn(this,IS).call(this,a));return this.push(s),s}),this.addNode=(n,r,i,o)=>(Rn(this,Wp).call(this,n,r,i,o),this),ri(this,RS,(n,r,i,o)=>n.isInSet(Rn(this,td))?this:(ri(this,td,n.addToSet(Rn(this,td))),this.openNode(r,i,{...o,isMark:!0}))),ri(this,e2,n=>{n.isInSet(Rn(this,td))&&(ri(this,td,n.type.removeFromSet(Rn(this,td))),Rn(this,yg).call(this,!0))}),this.withMark=(n,r,i,o)=>(Rn(this,RS).call(this,n,r,i,o),this),this.closeMark=n=>(Rn(this,e2).call(this,n),this),this.build=()=>{let n=null;do n=Rn(this,yg).call(this);while(this.size());return n},this.next=n=>bmt(n)?(n.forEach(r=>{Rn(this,Jb).call(this,r)}),this):(Rn(this,Jb).call(this,n),this),this.toString=n=>n.stringify(this.build()),this.run=n=>(this.next(n),this),this.schema=e}};td=new WeakMap;Zb=new WeakMap;DS=new WeakMap;NS=new WeakMap;Jb=new WeakMap;OS=new WeakMap;Qb=new WeakMap;IS=new WeakMap;PS=new WeakMap;yg=new WeakMap;Wp=new WeakMap;RS=new WeakMap;e2=new WeakMap;nO.create=(t,e)=>{const n=new nO(t);return r=>(n.run(r),n.toString(e))};let wmt=nO;const xL=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Fbe(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const Lbe=(t,e,n)=>{let r=Fbe(t,n);if(!r)return!1;let i=SL(r);if(!i){let a=r.blockRange(),s=a&&g7(a);return s==null?!1:(e&&e(t.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(qbe(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Wv(o,"end")||Zt.isSelectable(o)))for(let a=r.depth;;a--){let s=y7(t.doc,r.before(a),r.after(a),_t.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Wv(o,"end")?sn.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Zt.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},xmt=(t,e,n)=>{let r=Fbe(t,n);if(!r)return!1;let i=SL(r);return i?Smt(t,i,e):!1};function Smt(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let a=e.nodeAfter,s=a,l=e.pos+1;for(;!s.isTextblock;l++){if(s.type.spec.isolating)return!1;let c=s.firstChild;if(!c)return!1;s=c}let u=y7(t.doc,o,l,_t.empty);if(!u||u.from!=o||u instanceof Eo&&u.slice.size>=l-o)return!1;if(n){let c=t.tr.step(u);c.setSelection(zt.create(c.doc,o)),n(c.scrollIntoView())}return!0}function Wv(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const $be=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=SL(r)}let a=o&&o.nodeBefore;return!a||!Zt.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Zt.create(t.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function SL(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function _mt(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Cmt=(t,e,n)=>{let r=_mt(t,n);if(!r)return!1;let i=Bbe(r);if(!i)return!1;let o=i.nodeAfter;if(qbe(t,i,e,1))return!0;if(r.parent.content.size==0&&(Wv(o,"start")||Zt.isSelectable(o))){let a=y7(t.doc,r.before(),r.after(),_t.empty);if(a&&a.slice.size<a.to-a.from){if(e){let s=t.tr.step(a);s.setSelection(Wv(o,"start")?sn.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):Zt.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},kmt=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=Bbe(r)}let a=o&&o.nodeAfter;return!a||!Zt.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Zt.create(t.doc,o.pos)).scrollIntoView()),!0)};function Bbe(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Emt=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function _L(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const zbe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),a=_L(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(e){let s=n.after(),l=t.tr.replaceWith(s,s,a.createAndFill());l.setSelection(sn.near(l.doc.resolve(s),1)),e(l.scrollIntoView())}return!0},Amt=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Hs||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=_L(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=t.tr.insert(a,o.createAndFill());s.setSelection(zt.create(s.doc,a+1)),e(s.scrollIntoView())}return!0},Tmt=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(W2(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&g7(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function Mmt(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Zt&&e.selection.node.isBlock)return!r.parentOffset||!W2(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],a,s,l=!1,u=!1;for(let h=r.depth;;h--)if(r.node(h).isBlock){l=r.end(h)==r.pos+(r.depth-h),u=r.start(h)==r.pos-(r.depth-h),s=_L(r.node(h-1).contentMatchAt(r.indexAfter(h-1))),o.unshift(l&&s?{type:s}:null),a=h;break}else{if(h==1)return!1;o.unshift(null)}let c=e.tr;(e.selection instanceof zt||e.selection instanceof Hs)&&c.deleteSelection();let f=c.mapping.map(r.pos),d=W2(c.doc,f,o.length,o);if(d||(o[0]=s?{type:s}:null,d=W2(c.doc,f,o.length,o)),!d)return!1;if(c.split(f,o.length,o),!l&&u&&r.node(a).type!=s){let h=c.mapping.map(r.before(a)),p=c.doc.resolve(h);s&&r.node(a-1).canReplaceWith(p.index(),p.index()+1,s)&&c.setNodeMarkup(c.mapping.map(r.before(a)),s)}return n&&n(c.scrollIntoView()),!0}}const Dmt=Mmt(),Nmt=(t,e)=>(e&&e(t.tr.setSelection(new Hs(t.doc))),!0);function Omt(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||v7(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function qbe(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,a,s,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&Omt(t,e,n))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(a=(s=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(n){let h=e.pos+o.nodeSize,p=rt.empty;for(let v=a.length-1;v>=0;v--)p=rt.from(a[v].create(null,p));p=rt.from(i.copy(p));let m=t.tr.step(new Ea(e.pos-1,h,e.pos,h,new _t(p,1,0),a.length,!0)),g=m.doc.resolve(h+2*a.length);g.nodeAfter&&g.nodeAfter.type==i.type&&v7(m.doc,g.pos)&&m.join(g.pos),n(m.scrollIntoView())}return!0}let c=o.type.spec.isolating||r>0&&l?null:sn.findFrom(e,1),f=c&&c.$from.blockRange(c.$to),d=f&&g7(f);if(d!=null&&d>=e.depth)return n&&n(t.tr.lift(f,d).scrollIntoView()),!0;if(u&&Wv(o,"start",!0)&&Wv(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let m=o,g=1;for(;!m.isTextblock;m=m.firstChild)g++;if(h.canReplace(h.childCount,h.childCount,m.content)){if(n){let v=rt.empty;for(let b=p.length-1;b>=0;b--)v=rt.from(p[b].copy(v));let y=t.tr.step(new Ea(e.pos-p.length,e.pos+o.nodeSize,e.pos+g,e.pos+o.nodeSize-g,new _t(v,p.length,0),0,!0));n(y.scrollIntoView())}return!0}}return!1}function Vbe(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(zt.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const Imt=Vbe(-1),Pmt=Vbe(1);function CL(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o),s=a&&aL(a,t,e);return s?(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0):!1}}function bw(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:s}}=n.selection.ranges[o];n.doc.nodesBetween(a,s,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let c=n.doc.resolve(u),f=c.index();i=c.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[a];o.setBlockType(s,l,t,e)}r(o.scrollIntoView())}return!0}}function Rmt(t,e,n,r){for(let i=0;i<e.length;i++){let{$from:o,$to:a}=e[i],s=o.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(o.pos,a.pos,(l,u)=>{if(s)return!1;s=l.inlineContent&&l.type.allowsMarkType(n)}),s)return!0}return!1}function M7(t,e=null,n){return function(r,i){let{empty:o,$cursor:a,ranges:s}=r.selection;if(o&&!a||!Rmt(r.doc,s,t))return!1;if(i)if(a)t.isInSet(r.storedMarks||a.marks())?i(r.tr.removeStoredMark(t)):i(r.tr.addStoredMark(t.create(e)));else{let l,u=r.tr;l=!s.some(c=>r.doc.rangeHasMark(c.$from.pos,c.$to.pos,t));for(let c=0;c<s.length;c++){let{$from:f,$to:d}=s[c];if(!l)u.removeMark(f.pos,d.pos,t);else{let h=f.pos,p=d.pos,m=f.nodeAfter,g=d.nodeBefore,v=m&&m.isText?/^\s*/.exec(m.text)[0].length:0,y=g&&g.isText?/\s*$/.exec(g.text)[0].length:0;h+v<p&&(h+=v,p-=y),u.addMark(h,p,t.create(e))}}i(u.scrollIntoView())}return!0}}function Iy(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let j9=Iy(xL,Lbe,$be),LJ=Iy(xL,Cmt,kmt);const ud={Enter:Iy(Emt,Amt,Tmt,Dmt),"Mod-Enter":zbe,Backspace:j9,"Mod-Backspace":j9,"Shift-Backspace":j9,Delete:LJ,"Mod-Delete":LJ,"Mod-a":Nmt},Hbe={"Ctrl-h":ud.Backspace,"Alt-Backspace":ud["Mod-Backspace"],"Ctrl-d":ud.Delete,"Ctrl-Alt-Backspace":ud["Mod-Delete"],"Alt-Delete":ud["Mod-Delete"],"Alt-d":ud["Mod-Delete"],"Ctrl-a":Imt,"Ctrl-e":Pmt};for(let t in ud)Hbe[t]=ud[t];const Fmt=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,Lmt=Fmt?Hbe:ud,$mt=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Bmt=typeof navigator<"u"&&/Win/.test(navigator.platform);function zmt(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,a;for(let s=0;s<e.length-1;s++){let l=e[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))$mt?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function qmt(t){let e=Object.create(null);for(let n in t)e[zmt(n)]=t[n];return e}function W9(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Ube(t){return new yi({props:{handleKeyDown:kL(t)}})}function kL(t){let e=qmt(t);return function(n,r){let i=Ige(r),o,a=e[W9(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let s=e[W9(i,r,!1)];if(s&&s(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Bmt&&r.ctrlKey&&r.altKey)&&(o=Zd[r.keyCode])&&o!=i){let s=e[W9(o,r)];if(s&&s(n.state,n.dispatch,n))return!0}}return!1}}const jo=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Gv=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let rO=null;const ld=function(t,e,n){let r=rO||(rO=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Vmt=function(){rO=null},s1=function(t,e,n,r){return n&&($J(t,e,n,r,-1)||$J(t,e,n,r,1))},Hmt=/^(img|br|input|textarea|hr)$/i;function $J(t,e,n,r,i){for(var o;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Jl(t))){let a=t.parentNode;if(!a||a.nodeType!=1||M4(t)||Hmt.test(t.nodeName)||t.contentEditable=="false")return!1;e=jo(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?Jl(t):0}else return!1}}function Jl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Umt(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Jl(t)}else if(t.parentNode&&!M4(t))e=jo(t),t=t.parentNode;else return null}}function jmt(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!M4(t))e=jo(t)+1,t=t.parentNode;else return null}}function Wmt(t,e,n){for(let r=e==0,i=e==Jl(t);r||i;){if(t==n)return!0;let o=jo(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Jl(t)}}function M4(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const D7=function(t){return t.focusNode&&s1(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function em(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Gmt(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Kmt(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Jl(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Jl(r.startContainer),r.startOffset)}}}const df=typeof navigator<"u"?navigator:null,BJ=typeof document<"u"?document:null,bp=df&&df.userAgent||"",iO=/Edge\/(\d+)/.exec(bp),jbe=/MSIE \d/.exec(bp),oO=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(bp),Us=!!(jbe||oO||iO),_0=jbe?document.documentMode:oO?+oO[1]:iO?+iO[1]:0,rc=!Us&&/gecko\/(\d+)/i.test(bp);rc&&+(/Firefox\/(\d+)/.exec(bp)||[0,0])[1];const aO=!Us&&/Chrome\/(\d+)/.exec(bp),Sa=!!aO,Wbe=aO?+aO[1]:0,ss=!Us&&!!df&&/Apple Computer/.test(df.vendor),Kv=ss&&(/Mobile\/\w+/.test(bp)||!!df&&df.maxTouchPoints>2),Gl=Kv||(df?/Mac/.test(df.platform):!1),Xmt=df?/Win/.test(df.platform):!1,_d=/Android \d/.test(bp),D4=!!BJ&&"webkitFontSmoothing"in BJ.documentElement.style,Ymt=D4?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Zmt(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Yf(t,e){return typeof t=="number"?t:t[e]}function Jmt(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function zJ(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=Gv(a);continue}let s=a,l=s==o.body,u=l?Zmt(o):Jmt(s),c=0,f=0;if(e.top<u.top+Yf(r,"top")?f=-(u.top-e.top+Yf(i,"top")):e.bottom>u.bottom-Yf(r,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+Yf(i,"top")-u.top:e.bottom-u.bottom+Yf(i,"bottom")),e.left<u.left+Yf(r,"left")?c=-(u.left-e.left+Yf(i,"left")):e.right>u.right-Yf(r,"right")&&(c=e.right-u.right+Yf(i,"right")),c||f)if(l)o.defaultView.scrollBy(c,f);else{let h=s.scrollLeft,p=s.scrollTop;f&&(s.scrollTop+=f),c&&(s.scrollLeft+=c);let m=s.scrollLeft-h,g=s.scrollTop-p;e={left:e.left-m,top:e.top-g,right:e.right-m,bottom:e.bottom-g}}let d=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(d))break;a=d=="absolute"?a.offsetParent:Gv(a)}}function Qmt(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let s=t.root.elementFromPoint(o,a);if(!s||s==t.dom||!t.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=n-20){r=s,i=l.top;break}}return{refDOM:r,refTop:i,stack:Gbe(t.dom)}}function Gbe(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Gv(r));return e}function e1t({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Kbe(n,r==0?0:r-e)}function Kbe(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ig=null;function t1t(t){if(t.setActive)return t.setActive();if(ig)return t.focus(ig);let e=Gbe(t);t.focus(ig==null?{get preventScroll(){return ig={preventScroll:!0},!0}}:void 0),ig||(ig=!1,Kbe(e,0))}function Xbe(t,e){let n,r=2e8,i,o=0,a=e.top,s=e.top,l,u;for(let c=t.firstChild,f=0;c;c=c.nextSibling,f++){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=ld(c).getClientRects();else continue;for(let h=0;h<d.length;h++){let p=d[h];if(p.top<=a&&p.bottom>=s){a=Math.max(p.bottom,a),s=Math.min(p.top,s);let m=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(m<r){n=c,r=m,i=m&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,c.nodeType==1&&m&&(o=f+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=c,u={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(o=f+1)}}return!n&&l&&(n=l,i=u,r=0),n&&n.nodeType==3?n1t(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:Xbe(n,i)}function n1t(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Ph(r,1);if(o.top!=o.bottom&&EL(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function EL(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function r1t(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function i1t(t,e,n){let{node:r,offset:i}=Xbe(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function o1t(t,e,n,r){let i=-1;for(let o=e,a=!1;o!=t.dom;){let s=t.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&(!a&&l.left>r.left||l.top>r.top?i=s.posBefore:(!a&&l.right<r.left||l.bottom<r.top)&&(i=s.posAfter),a=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function Ybe(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let a=t.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(EL(e,u))return Ybe(a,e,u)}}if((o=(o+1)%r)==i)break}return t}function a1t(t,e){let n=t.dom.ownerDocument,r,i=0,o=Kmt(n,e.left,e.top);o&&({node:r,offset:i}=o);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),s;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=t.dom.getBoundingClientRect();if(!EL(e,u)||(a=Ybe(t.dom,e,u),!a))return null}if(ss)for(let u=a;r&&u;u=Gv(u))u.draggable&&(r=void 0);if(a=r1t(a,e),r){if(rc&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],f;c.nodeName=="IMG"&&(f=c.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let u;D4&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=o1t(t,r,i,e))}s==null&&(s=i1t(t,a,e));let l=t.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function qJ(t){return t.top<t.bottom||t.left<t.right}function Ph(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(qJ(r))return r}return Array.prototype.find.call(n,qJ)||t.getBoundingClientRect()}const s1t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Zbe(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),a=D4||rc;if(r.nodeType==3)if(a&&(s1t.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Ph(ld(r,i,i),n);if(rc&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Ph(ld(r,i-1,i-1),-1);if(u.top==l.top){let c=Ph(ld(r,i,i+1),-1);if(c.top!=l.top)return wb(c,c.left<u.left)}}return l}else{let l=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(l--,c=1):n<0?l--:u++,wb(Ph(ld(r,l,u),c),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Jl(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return G9(l.getBoundingClientRect(),!1)}if(o==null&&i<Jl(r)){let l=r.childNodes[i];if(l.nodeType==1)return G9(l.getBoundingClientRect(),!0)}return G9(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Jl(r))){let l=r.childNodes[i-1],u=l.nodeType==3?ld(l,Jl(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return wb(Ph(u,1),!1)}if(o==null&&i<Jl(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?ld(l,0,a?0:1):l.nodeType==1?l:null:null;if(u)return wb(Ph(u,-1),!0)}return wb(Ph(r.nodeType==3?ld(r):r,-n),n>=0)}function wb(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function G9(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Jbe(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function l1t(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return Jbe(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let s=t.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=Zbe(t,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=ld(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(n=="up"?a.top-c.top>(c.bottom-a.top)*2:c.bottom-a.bottom>(a.bottom-c.top)*2))return!1}}return!0})}const u1t=/[\u0590-\u08ac]/;function c1t(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=t.domSelection();return s?!u1t.test(r.parent.textContent)||!s.modify?n=="left"||n=="backward"?o:a:Jbe(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:f}=t.domSelectionRange(),d=s.caretBidiLevel;s.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:m}=t.domSelectionRange(),g=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&u==m;try{s.collapse(c,f),l&&(l!=c||u!=f)&&s.extend&&s.extend(l,u)}catch{}return d!=null&&(s.caretBidiLevel=d),g}):r.pos==r.start()||r.pos==r.end()}let VJ=null,HJ=null,UJ=!1;function f1t(t,e,n){return VJ==e&&HJ==n?UJ:(VJ=e,HJ=n,UJ=n=="up"||n=="down"?l1t(t,e,n):c1t(t,e,n))}const cu=0,jJ=1,um=2,hf=3;class N4{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=cu,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,a;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>jo(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!n||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let s=i.children[a];if(s.size){i=s;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],s=o+a.size;if(s>e||a instanceof e2e){i=e-o;break}o=s}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Qbe&&o.side>=0;r--);if(n<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&n&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?jo(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?jo(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=r,s=0;;s++){let l=this.children[s],u=a+l.size;if(i==-1&&e<=u){let c=a+l.border;if(e>=c&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,c);e=a;for(let f=s;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=jo(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>n||s==this.children.length-1)){n=u;for(let c=s+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=jo(f.dom);break}n+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),a=Math.max(e,n);for(let h=0,p=0;h<this.children.length;h++){let m=this.children[h],g=p+m.size;if(o>p&&a<g)return m.setSelection(e-p-m.border,n-p-m.border,r,i);p=g}let s=this.domFromPos(e,e?-1:1),l=n==e?s:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),c=r.domSelectionRange(),f=!1;if((rc||ss)&&e==n){let{node:h,offset:p}=s;if(h.nodeType==3){if(f=!!(p&&h.nodeValue[p-1]==`
`),f&&p==h.nodeValue.length)for(let m=h,g;m;m=m.parentNode){if(g=m.nextSibling){g.nodeName=="BR"&&(s=l={node:g.parentNode,offset:jo(g)+1});break}let v=m.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let m=h.childNodes[p-1];f=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(rc&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||f&&ss)&&s1(s.node,s.offset,c.anchorNode,c.anchorOffset)&&s1(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((u.extend||e==n)&&!f){u.collapse(s.node,s.offset);try{e!=n&&u.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let p=s;s=l,l=p}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],a=r+o.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let s=r+o.border,l=a-o.border;if(e>=s&&n<=l){this.dirty=e==r||n==a?um:jJ,e==s&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=hf:o.markDirty(e-s,n-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?um:hf}r=a}this.dirty=um}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?um:jJ;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Qbe extends N4{constructor(e,n,r,i){let o,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==cu&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class d1t extends N4{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class l1 extends N4{constructor(e,n,r,i,o){super(e,[],r,i),this.mark=n,this.spec=o}static create(e,n,r,i){let o=i.nodeViews[n.type.name],a=o&&o(n,i,r);return(!a||!a.dom)&&(a=T1.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new l1(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&hf||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=hf&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=cu){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=cu}}slice(e,n,r){let i=l1.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=lO(o,n,a,r)),e>0&&(o=lO(o,0,e,r));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class C0 extends N4{constructor(e,n,r,i,o,a,s,l,u){super(e,[],o,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=s}static create(e,n,r,i,o,a){let s=o.nodeViews[n.type.name],l,u=s&&s(n,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},r,i),c=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=T1.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let d=c;return c=r2e(c,r,n),u?l=new h1t(e,n,r,i,c,f||null,d,u,o,a+1):n.isText?new N7(e,n,r,i,c,d,o):new C0(e,n,r,i,c,f||null,d,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>rt.empty)}return e}matchesNode(e,n,r){return this.dirty==cu&&e.eq(this.node)&&YC(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new m1t(this,a&&a.node,e);y1t(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&l.syncToMarks(c==this.node.childCount?Nn.none:this.node.child(c).marks,r,e),l.placeWidget(u,e,i)},(u,c,f,d)=>{l.syncToMarks(u.marks,r,e);let h;l.findNodeMatch(u,c,f,d)||s&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,c,f,h,e)||l.updateNextNode(u,c,f,e,d,i)||l.addNode(u,c,f,e,i),i+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==um)&&(a&&this.protectLocalComposition(e,a),t2e(this.contentDOM,this.children,e),Kv&&b1t(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof zt)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=w1t(this.node.content,a,r-n,i-n);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new d1t(this,o,n,i);e.input.compositionNodes.push(a),this.children=lO(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==hf||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=cu}updateOuterDeco(e){if(YC(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=n2e(this.dom,this.nodeDOM,sO(this.outerDeco,this.node,n),sO(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function WJ(t,e,n,r,i){r2e(r,e,t);let o=new C0(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class N7 extends C0{constructor(e,n,r,i,o,a,s){super(e,n,r,i,o,null,a,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==hf||this.dirty!=cu&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=cu||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=cu,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new N7(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=hf)}get domAtom(){return!1}isText(e){return this.node.text==e}}class e2e extends N4{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==cu&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class h1t extends C0{constructor(e,n,r,i,o,a,s,l,u,c){super(e,n,r,i,o,a,s,u,c),this.spec=l}update(e,n,r,i){if(this.dirty==hf)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function t2e(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let a=e[o],s=a.dom;if(s.parentNode==t){for(;s!=r;)r=GJ(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(s,r);if(a instanceof l1){let l=r?r.previousSibling:t.lastChild;t2e(a.contentDOM,a.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=GJ(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const X2=function(t){t&&(this.nodeName=t)};X2.prototype=Object.create(null);const cm=[new X2];function sO(t,e,n){if(t.length==0)return cm;let r=n?cm[0]:new X2,i=[r];for(let o=0;o<t.length;o++){let a=t[o].type.attrs;if(a){a.nodeName&&i.push(r=new X2(a.nodeName));for(let s in a){let l=a[s];l!=null&&(n&&i.length==1&&i.push(r=new X2(e.isInline?"span":"div")),s=="class"?r.class=(r.class?r.class+" ":"")+l:s=="style"?r.style=(r.style?r.style+";":"")+l:s!="nodeName"&&(r[s]=l))}}}return i}function n2e(t,e,n,r){if(n==cm&&r==cm)return e;let i=e;for(let o=0;o<r.length;o++){let a=r[o],s=n[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=cm[0]),i=l}p1t(i,s||cm[0],a)}return i}function p1t(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function r2e(t,e,n){return n2e(t,t,cm,sO(e,n,t.nodeType!=1))}function YC(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function GJ(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class m1t{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=g1t(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=cu,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=l1.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let u=this.top.children[s];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let a=this.top.children[i];return a.dirty==hf&&a.dom==a.contentDOM&&(a.dirty=um),a.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof C0){let u=this.preMatch.matched.get(l);if(u!=null&&u!=o)return!1;let c=l.dom,f,d=this.isLocked(c)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=hf&&YC(n,l.outerDeco));if(!d&&l.update(e,n,r,i))return this.destroyBetween(this.index,s),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(l,e,n,r,i,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=um,f.updateChildren(i,a+1),f.dirty=cu),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!YC(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let s=C0.create(this.top,n,r,i,o,a);if(s.contentDOM){s.children=e.children,e.children=[];for(let l of s.children)l.parent=s}return e.destroy(),s}addNode(e,n,r,i,o){let a=C0.create(this.top,e,n,r,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Qbe(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof l1;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof N7)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ss||Sa)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new e2e(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function g1t(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(r){let u=n.children[r-1];if(u instanceof l1)n=u,r=u.children.length;else{s=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=t.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function v1t(t,e){return t.type.side-e.type.side}function y1t(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let a=0,s=[],l=null;for(let u=0;;){let c,f;for(;a<i.length&&i[a].to==o;){let g=i[a++];g.widget&&(c?(f||(f=[c])).push(g):c=g)}if(c)if(f){f.sort(v1t);for(let g=0;g<f.length;g++)n(f[g],u,!!l)}else n(c,u,!!l);let d,h;if(l)h=-1,d=l,l=null;else if(u<t.childCount)h=u,d=t.child(u++);else break;for(let g=0;g<s.length;g++)s[g].to<=o&&s.splice(g--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let p=o+d.nodeSize;if(d.isText){let g=p;a<i.length&&i[a].from<g&&(g=i[a].from);for(let v=0;v<s.length;v++)s[v].to<g&&(g=s[v].to);g<p&&(l=d.cut(g-o),d=d.cut(0,g-o),p=g,h=-1)}else for(;a<i.length&&i[a].to<p;)a++;let m=d.isInline&&!d.isLeaf?s.filter(g=>!g.inline):s.slice();r(d,m,e.forChild(o,d),h),o=p}}function b1t(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function w1t(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let a=t.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=n){if(o>=r&&l.slice(r-e.length-s,r-s)==e)return r-e.length;let u=s<r?l.lastIndexOf(e,r-s-1):-1;if(u>=0&&u+e.length+s>=n)return s+u;if(n==r&&l.length>=r+e.length-s&&l.slice(r-s,r-s+e.length)==e)return r}}return-1}function lO(t,e,n,r,i){let o=[];for(let a=0,s=0;a<t.length;a++){let l=t[a],u=s,c=s+=l.size;u>=n||c<=e?o.push(l):(u<e&&o.push(l.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(l.slice(n-u,l.size,r)))}return o}function AL(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s=r.resolve(a),l,u;if(D7(n)){for(l=a;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&Zt.isSelectable(f)&&i.parent&&!(f.isInline&&Wmt(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;u=new Zt(a==d?s:r.resolve(d))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=a,d=a;for(let h=0;h<n.rangeCount;h++){let p=n.getRangeAt(h);f=Math.min(f,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),d=Math.max(d,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(f<0)return null;[l,a]=d==t.state.selection.anchor?[d,f]:[f,d],s=r.resolve(a)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let c=r.resolve(l);if(!u){let f=e=="pointer"||t.state.selection.head<s.pos&&!o?1:-1;u=TL(t,c,s,f)}return u}function i2e(t){return t.editable?t.hasFocus():a2e(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Pd(t,e=!1){let n=t.state.selection;if(o2e(t,n),!!i2e(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Sa){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&s1(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)S1t(t);else{let{anchor:r,head:i}=n,o,a;KJ&&!(n instanceof zt)&&(n.$from.parent.inlineContent||(o=XJ(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=XJ(t,n.to))),t.docView.setSelection(r,i,t,e),KJ&&(o&&YJ(o),a&&YJ(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&x1t(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const KJ=ss||Sa&&Wbe<63;function XJ(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(ss&&i&&i.contentEditable=="false")return K9(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return K9(i);if(o)return K9(o)}}function K9(t){return t.contentEditable="true",ss&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function YJ(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function x1t(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!i2e(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function S1t(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,jo(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Us&&_0<=11&&(r.disabled=!0,r.disabled=!1)}function o2e(t,e){if(e instanceof Zt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(ZJ(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else ZJ(t)}function ZJ(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function TL(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||zt.between(e,n,r)}function JJ(t){return t.editable&&!t.hasFocus()?!1:a2e(t)}function a2e(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function _1t(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return s1(e.node,e.offset,n.anchorNode,n.anchorOffset)}function uO(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&sn.findFrom(o,e)}function Yh(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function QJ(t,e,n){let r=t.state.selection;if(r instanceof zt)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Yh(t,new zt(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=uO(t.state,e);return i&&i instanceof Zt?Yh(t,i):!1}else if(!(Gl&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=t.docView.descAt(s))&&!a.contentDOM?Zt.isSelectable(o)?Yh(t,new Zt(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):D4?Yh(t,new zt(t.state.doc.resolve(e<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Zt&&r.node.isInline)return Yh(t,new zt(e>0?r.$to:r.$from));{let i=uO(t.state,e);return i?Yh(t,i):!1}}}function ZC(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Y2(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function og(t,e){return e<0?C1t(t):k1t(t)}function C1t(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,a=!1;for(rc&&n.nodeType==1&&r<ZC(n)&&Y2(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let s=n.childNodes[r-1];if(Y2(s,-1))i=n,o=--r;else if(s.nodeType==3)n=s,r=n.nodeValue.length;else break}}else{if(s2e(n))break;{let s=n.previousSibling;for(;s&&Y2(s,-1);)i=n.parentNode,o=jo(s),s=s.previousSibling;if(s)n=s,r=ZC(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?cO(t,n,r):i&&cO(t,i,o)}function k1t(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=ZC(n),o,a;for(;;)if(r<i){if(n.nodeType!=1)break;let s=n.childNodes[r];if(Y2(s,1))o=n,a=++r;else break}else{if(s2e(n))break;{let s=n.nextSibling;for(;s&&Y2(s,1);)o=s.parentNode,a=jo(s)+1,s=s.nextSibling;if(s)n=s,r=0,i=ZC(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&cO(t,o,a)}function s2e(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function E1t(t,e){for(;t&&e==t.childNodes.length&&!M4(t);)e=jo(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function A1t(t,e){for(;t&&!e&&!M4(t);)e=jo(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function cO(t,e,n){if(e.nodeType!=3){let o,a;(a=E1t(e,n))?(e=a,n=0):(o=A1t(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(D7(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Pd(t)},50)}function eQ(t,e){let n=t.state.doc.resolve(e);if(!(Sa||Xmt)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function tQ(t,e,n){let r=t.state.selection;if(r instanceof zt&&!r.empty||n.indexOf("s")>-1||Gl&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=uO(t.state,e);if(a&&a instanceof Zt)return Yh(t,a)}if(!i.parent.inlineContent){let a=e<0?i:o,s=r instanceof Hs?sn.near(a,e):sn.findFrom(a,e);return s?Yh(t,s):!1}return!1}function nQ(t,e){if(!(t.state.selection instanceof zt))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let a=t.state.tr;return e<0?a.delete(n.pos-o.nodeSize,n.pos):a.delete(n.pos,n.pos+o.nodeSize),t.dispatch(a),!0}return!1}function rQ(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function T1t(t){if(!ss||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;rQ(t,r,"true"),setTimeout(()=>rQ(t,r,"false"),20)}return!1}function M1t(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function D1t(t,e){let n=e.keyCode,r=M1t(e);if(n==8||Gl&&n==72&&r=="c")return nQ(t,-1)||og(t,-1);if(n==46&&!e.shiftKey||Gl&&n==68&&r=="c")return nQ(t,1)||og(t,1);if(n==13||n==27)return!0;if(n==37||Gl&&n==66&&r=="c"){let i=n==37?eQ(t,t.state.selection.from)=="ltr"?-1:1:-1;return QJ(t,i,r)||og(t,i)}else if(n==39||Gl&&n==70&&r=="c"){let i=n==39?eQ(t,t.state.selection.from)=="ltr"?1:-1:1;return QJ(t,i,r)||og(t,i)}else{if(n==38||Gl&&n==80&&r=="c")return tQ(t,-1,r)||og(t,-1);if(n==40||Gl&&n==78&&r=="c")return T1t(t)||tQ(t,1,r)||og(t,1);if(r==(Gl?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function ML(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let a=t.someProp("clipboardSerializer")||T1.fromSchema(t.state.schema),s=h2e(),l=s.createElement("div");l.appendChild(a.serializeFragment(r,{document:s}));let u=l.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=d2e[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let p=s.createElement(c[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d,slice:e}}function l2e(t,e,n,r,i){let o=i.parent.type.spec.code,a,s;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",d=>{e=d(e,o||r,t)}),o)return e?new _t(rt.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):_t.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r,t));if(f)s=f;else{let d=i.marks(),{schema:h}=t.state,p=T1.fromSchema(h);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let g=a.appendChild(document.createElement("p"));m&&g.appendChild(p.serializeNode(h.text(m,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),a=P1t(n),D4&&R1t(a);let u=a&&a.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=a.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;a=d}if(s||(s=(t.someProp("clipboardParser")||t.someProp("domParser")||i1.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!N1t.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)s=F1t(iQ(s,+c[1],+c[2]),c[4]);else if(s=_t.maxOpen(O1t(s.content,i),!0),s.openStart||s.openEnd){let f=0,d=0;for(let h=s.content.firstChild;f<s.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=s.content.lastChild;d<s.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);s=iQ(s,f,d)}return t.someProp("transformPasted",f=>{s=f(s,t)}),s}const N1t=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function O1t(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,a=[];if(t.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),u;if(!l)return a=null;if(u=a.length&&o.length&&c2e(l,o,s,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=f2e(a[a.length-1],o.length));let c=u2e(s,l);a.push(c),i=i.matchType(c.type),o=l}}),a)return rt.from(a)}return t}function u2e(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,rt.from(t));return t}function c2e(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=c2e(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(rt.from(u2e(n,t,i+1))))}}function f2e(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,f2e(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(rt.empty,!0);return t.copy(n.append(r))}function fO(t,e,n,r,i,o){let a=e<0?t.firstChild:t.lastChild,s=a.content;return t.childCount>1&&(o=0),i<r-1&&(s=fO(s,e,n,r,i+1,o)),i>=n&&(s=e<0?a.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(rt.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(s))}function iQ(t,e,n){return e<t.openStart&&(t=new _t(fO(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new _t(fO(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const d2e={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let oQ=null;function h2e(){return oQ||(oQ=document.implementation.createHTMLDocument("title"))}let X9=null;function I1t(t){let e=window.trustedTypes;return e?(X9||(X9=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),X9.createHTML(t)):t}function P1t(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=h2e().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&d2e[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=I1t(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function R1t(t){let e=t.querySelectorAll(Sa?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function F1t(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:a}=t;for(let s=r.length-2;s>=0;s-=2){let l=n.nodes[r[s]];if(!l||l.hasRequiredAttrs())break;i=rt.from(l.create(r[s+1],i)),o++,a++}return new _t(i,o,a)}const ls={},us={},L1t={touchstart:!0,touchmove:!0};class $1t{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function B1t(t){for(let e in ls){let n=ls[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{q1t(t,r)&&!DL(t,r)&&(t.editable||!(r.type in us))&&n(t,r)},L1t[e]?{passive:!0}:void 0)}ss&&t.dom.addEventListener("input",()=>null),dO(t)}function p0(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function z1t(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function dO(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>DL(t,r))})}function DL(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function q1t(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function V1t(t,e){!DL(t,e)&&ls[e.type]&&(t.editable||!(e.type in us))&&ls[e.type](t,e)}us.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!m2e(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(_d&&Sa&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Kv&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,em(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||D1t(t,n)?n.preventDefault():p0(t,"key")};us.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};us.keypress=(t,e)=>{let n=e;if(m2e(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Gl&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof zt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,i,o))&&t.dispatch(o()),n.preventDefault()}};function O7(t){return{left:t.clientX,top:t.clientY}}function H1t(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function NL(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(t.someProp(e,s=>a>o.depth?s(t,n,o.nodeAfter,o.before(a),i,!0):s(t,n,o.node(a),o.before(a),i,!1)))return!0;return!1}function tv(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function U1t(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Zt.isSelectable(r)?(tv(t,new Zt(n)),!0):!1}function j1t(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Zt&&(r=n.node);let o=t.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(Zt.isSelectable(s)){r&&n.$from.depth>0&&a>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(a);break}}return i!=null?(tv(t,Zt.create(t.state.doc,i)),!0):!1}function W1t(t,e,n,r,i){return NL(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?j1t(t,n):U1t(t,n))}function G1t(t,e,n,r){return NL(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function K1t(t,e,n,r){return NL(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||X1t(t,n,r)}function X1t(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(tv(t,zt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)tv(t,zt.create(r,s+1,s+1+a.content.size));else if(Zt.isSelectable(a))tv(t,Zt.create(r,s));else continue;return!0}}function OL(t){return JC(t)}const p2e=Gl?"metaKey":"ctrlKey";ls.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=OL(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&H1t(n,t.input.lastClick)&&!n[p2e]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let a=t.posAtCoords(O7(n));a&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Y1t(t,a,n,!!r)):(o=="doubleClick"?G1t:K1t)(t,a.pos,a.inside,n)?n.preventDefault():p0(t,"pointer"))};class Y1t{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[p2e],this.allowDefault=r.shiftKey;let o,a;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),a=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,a=c.depth?c.before():0}const s=i?null:r.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof Zt&&u.from<=a&&u.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&rc&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),p0(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Pd(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(O7(e))),this.updateAllowDefault(e),this.allowDefault||!n?p0(this.view,"pointer"):W1t(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ss&&this.mightDrag&&!this.mightDrag.node.isAtom||Sa&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(tv(this.view,sn.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):p0(this.view,"pointer")}move(e){this.updateAllowDefault(e),p0(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ls.touchstart=t=>{t.input.lastTouch=Date.now(),OL(t),p0(t,"pointer")};ls.touchmove=t=>{t.input.lastTouch=Date.now(),p0(t,"pointer")};ls.contextmenu=t=>OL(t);function m2e(t,e){return t.composing?!0:ss&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Z1t=_d?5e3:-1;us.compositionstart=us.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof zt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),JC(t,!0),t.markCursor=null;else if(JC(t,!e.selection.empty),rc&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=t.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}t.input.composing=!0}g2e(t,Z1t)};us.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,g2e(t,20))};function g2e(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>JC(t),e))}function v2e(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Q1t());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function J1t(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=Umt(e.focusNode,e.focusOffset),r=jmt(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function Q1t(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function JC(t,e=!1){if(!(_d&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),v2e(t),e||t.docView&&t.docView.dirty){let n=AL(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function egt(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const ww=Us&&_0<15||Kv&&Ymt<604;ls.copy=us.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=ww?null:n.clipboardData,a=r.content(),{dom:s,text:l}=ML(t,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):egt(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function tgt(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function ngt(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?xw(t,r.value,null,i,e):xw(t,r.textContent,r.innerHTML,i,e)},50)}function xw(t,e,n,r,i){let o=l2e(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||_t.empty)))return!0;if(!o)return!1;let a=tgt(o),s=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function y2e(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}us.paste=(t,e)=>{let n=e;if(t.composing&&!_d)return;let r=ww?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&xw(t,y2e(r),r.getData("text/html"),i,n)?n.preventDefault():ngt(t,n)};class b2e{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const rgt=Gl?"altKey":"ctrlKey";function w2e(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[rgt]}ls.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(O7(n)),a;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Zt?i.to-1:i.to))){if(r&&r.mightDrag)a=Zt.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(a=Zt.create(t.state.doc,f.posBefore))}}let s=(a||t.state.selection).content(),{dom:l,text:u,slice:c}=ML(t,s);(!n.dataTransfer.files.length||!Sa||Wbe>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ww?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",ww||n.dataTransfer.setData("text/plain",u),t.dragging=new b2e(c,w2e(t,n),a)};ls.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};us.dragover=us.dragenter=(t,e)=>e.preventDefault();us.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(O7(n));if(!i)return;let o=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",p=>{a=p(a,t)}):a=l2e(t,y2e(n.dataTransfer),ww?null:n.dataTransfer.getData("text/html"),!1,o);let s=!!(r&&w2e(t,n));if(t.someProp("handleDrop",p=>p(t,n,a||_t.empty,s))){n.preventDefault();return}if(!a)return;n.preventDefault();let l=a?Bye(t.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let u=t.state.tr;if(s){let{node:p}=r;p?p.replace(u):u.deleteSelection()}let c=u.mapping.map(l),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,a.content.firstChild):u.replaceRange(c,c,a),u.doc.eq(d))return;let h=u.doc.resolve(c);if(f&&Zt.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new Zt(h));else{let p=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((m,g,v,y)=>p=y),u.setSelection(TL(t,h,u.doc.resolve(p)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};ls.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Pd(t)},20))};ls.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ls.beforeinput=(t,e)=>{if(Sa&&_d&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,em(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in us)ls[t]=us[t];function Sw(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class QC{constructor(e,n){this.toDOM=e,this.spec=n||Pm,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new no(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof QC&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Sw(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class k0{constructor(e,n){this.attrs=e,this.spec=n||Pm}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new no(o,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof k0&&Sw(this.attrs,e.attrs)&&Sw(this.spec,e.spec)}static is(e){return e.type instanceof k0}destroy(){}}class IL{constructor(e,n){this.attrs=e,this.spec=n||Pm}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=o.pos?null:new no(o.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof IL&&Sw(this.attrs,e.attrs)&&Sw(this.spec,e.spec)}destroy(){}}class no{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new no(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new no(e,e,new QC(n,r))}static inline(e,n,r,i){return new no(e,n,new k0(r,i))}static node(e,n,r,i){return new no(e,n,new IL(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof k0}get widget(){return this.type instanceof QC}}const bg=[],Pm={};class Br{constructor(e,n){this.local=e.length?e:bg,this.children=n.length?n:bg}static create(e,n){return n.length?e8(n,e,0,Pm):da}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=n&&s.to>=e&&(!o||o(s.spec))&&r.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let s=this.children[a]+1;this.children[a+2].findInner(e-s,n-s,r,i+s,o)}}map(e,n,r){return this==da||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Pm)}mapInner(e,n,r,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,r,i);l&&l.type.valid(n,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?igt(this.children,a||[],e,n,r,i,o):a?new Br(a.sort(Rm),bg):da}add(e,n){return n.length?this==da?Br.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((s,l)=>{let u=l+r,c;if(c=S2e(n,s,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,c,u+1):i.splice(o,0,l,l+s.nodeSize,e8(c,s,u+1,Pm)),o+=3}});let a=x2e(o?_2e(n):n,-r);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||a.splice(s--,1);return new Br(a.length?this.local.concat(a).sort(Rm):this.local,i||this.children)}remove(e){return e.length==0||this==da?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let a,s=r[o]+n,l=r[o+1]+n;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>s&&f.to<l&&(e[c]=null,(a||(a=[])).push(f));if(!a)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(a,s+1);u!=da?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let s=0;s<i.length;s++)i[s].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Br(i,r):da}forChild(e,n){if(this==da)return this;if(n.isLeaf)return Br.empty;let r,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(r=this.children[s+2]);break}let o=e+1,a=o+n.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof k0){let u=Math.max(o,l.from)-o,c=Math.min(a,l.to)-o;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let s=new Br(i.sort(Rm),bg);return r?new n0([s,r]):s}return r||da}eq(e){if(this==e)return!0;if(!(e instanceof Br)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return PL(this.localsInner(e))}localsInner(e){if(this==da)return bg;if(e.inlineContent||!this.local.some(k0.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof k0||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Br.empty=new Br([],[]);Br.removeOverlap=PL;const da=Br.empty;class n0{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Pm));return n0.from(r)}forChild(e,n){if(n.isLeaf)return Br.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=da&&(o instanceof n0?r=r.concat(o.members):r.push(o))}return n0.from(r)}eq(e){if(!(e instanceof n0)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let a=0;a<o.length;a++)n.push(o[a])}}return n?PL(r?n:n.sort(Rm)):bg}static from(e){switch(e.length){case 0:return da;case 1:return e[0];default:return new n0(e.every(n=>n instanceof Br)?e:e.reduce((n,r)=>n.concat(r instanceof Br?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function igt(t,e,n,r,i,o,a){let s=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let f=0;n.maps[u].forEach((d,h,p,m)=>{let g=m-p-(h-d);for(let v=0;v<s.length;v+=3){let y=s[v+1];if(y<0||d>y+c-f)continue;let b=s[v]+c-f;h>=b?s[v+1]=d<=b?-2:-1:d>=c&&g&&(s[v]+=g,s[v+1]+=g)}f+=g}),c=n.maps[u].map(c,-1)}let l=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){l=!0,s[u+1]=-1;continue}let c=n.map(t[u]+o),f=c-i;if(f<0||f>=r.content.size){l=!0;continue}let d=n.map(t[u+1]+o,-1),h=d-i,{index:p,offset:m}=r.content.findIndex(f),g=r.maybeChild(p);if(g&&m==f&&m+g.nodeSize==h){let v=s[u+2].mapInner(n,g,c+1,t[u]+o+1,a);v!=da?(s[u]=f,s[u+1]=h,s[u+2]=v):(s[u+1]=-2,l=!0)}else l=!0}if(l){let u=ogt(s,t,e,n,i,o,a),c=e8(u,r,0,a);e=c.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let h=c.children[f];for(;d<s.length&&s[d]<h;)d+=3;s.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new Br(e.sort(Rm),s)}function x2e(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new no(i.from+e,i.to+e,i.type))}return n}function ogt(t,e,n,r,i,o,a){function s(l,u){for(let c=0;c<l.local.length;c++){let f=l.local[c].map(r,i,u);f?n.push(f):a.onRemove&&a.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)s(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&s(t[l+2],e[l]+o+1);return n}function S2e(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,a;o<t.length;o++)(a=t[o])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[o]=null);return i}function _2e(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function e8(t,e,n,r){let i=[],o=!1;e.forEach((s,l)=>{let u=S2e(t,s,l+n);if(u){o=!0;let c=e8(u,s,n+l+1,r);c!=da&&i.push(l,l+s.nodeSize,c)}});let a=x2e(o?_2e(t):t,-n).sort(Rm);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new Br(a,i):da}function Rm(t,e){return t.from-e.from||t.to-e.to}function PL(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),aQ(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),aQ(e,i,r.copy(o.from,r.to)));break}}}return e}function aQ(t,e,n){for(;e<t.length&&Rm(n,t[e])>0;)e++;t.splice(e,0,n)}function Y9(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=da&&e.push(r)}),t.cursorWrapper&&e.push(Br.create(t.state.doc,[t.cursorWrapper.deco])),n0.from(e)}const agt={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},sgt=Us&&_0<=11;class lgt{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class ugt{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new lgt,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Us&&_0<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),sgt&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,agt)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(JJ(this.view)){if(this.suppressingSelectionUpdates)return Pd(this.view);if(Us&&_0<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&s1(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Gv(o))n.add(o);for(let o=e.anchorNode;o;o=Gv(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&JJ(e)&&!this.ignoreSelectionChange(r),o=-1,a=-1,s=!1,l=[];if(e.editable)for(let c=0;c<n.length;c++){let f=this.registerMutation(n[c],l);f&&(o=o<0?f.from:Math.min(f.from,o),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(s=!0))}if(rc&&l.length){let c=l.filter(f=>f.nodeName=="BR");if(c.length==2){let[f,d]=c;f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let d of c){let h=d.parentNode;h&&h.nodeName=="LI"&&(!f||dgt(e,f)!=h)&&d.remove()}}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&D7(r)&&(u=AL(e))&&u.eq(sn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Pd(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,a),cgt(e)),this.handleDOMChange(o,a,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Pd(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let f=e.addedNodes[c];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Us&&_0<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let a=i&&i.parentNode==e.target?jo(i)+1:0,s=r.localPosFromDOM(e.target,a,-1),l=o&&o.parentNode==e.target?jo(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:s,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let sQ=new WeakMap,lQ=!1;function cgt(t){if(!sQ.has(t)&&(sQ.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=rc,lQ)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),lQ=!0}}function uQ(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return s1(a.node,a.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function fgt(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return uQ(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?uQ(t,n):null}function dgt(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function hgt(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:a,to:s}=t.docView.parseRange(e,n),l=t.domSelectionRange(),u,c=l.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],D7(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Sa&&t.input.lastKeyCode===8)for(let g=o;g>i;g--){let v=r.childNodes[g-1],y=v.pmViewDesc;if(v.nodeName=="BR"&&!y){o=g;break}if(!y||y.size)break}let f=t.state.doc,d=t.someProp("domParser")||i1.fromSchema(t.state.schema),h=f.resolve(a),p=null,m=d.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:pgt,context:h});if(u&&u[0].pos!=null){let g=u[0].pos,v=u[1]&&u[1].pos;v==null&&(v=g),p={anchor:g+a,head:v+a}}return{doc:m,sel:p,from:a,to:s}}function pgt(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ss&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||ss&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const mgt=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function ggt(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let k=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,C=AL(t,k);if(C&&!t.state.selection.eq(C)){if(Sa&&_d&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",M=>M(t,em(13,"Enter"))))return;let E=t.state.tr.setSelection(C);k=="pointer"?E.setMeta("pointer",!0):k=="key"&&E.scrollIntoView(),o&&E.setMeta("composition",o),t.dispatch(E)}return}let a=t.state.doc.resolve(e),s=a.sharedDepth(n);e=a.before(s+1),n=t.state.doc.resolve(n).after(s+1);let l=t.state.selection,u=hgt(t,e,n),c=t.state.doc,f=c.slice(u.from,u.to),d,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,h="end"):(d=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let p=bgt(f.content,u.doc.content,u.from,d,h);if(p&&t.input.domChangeCount++,(Kv&&t.input.lastIOSEnter>Date.now()-225||_d)&&i.some(k=>k.nodeType==1&&!mgt.test(k.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",k=>k(t,em(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof zt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let k=cQ(t,t.state.doc,u.sel);if(k&&!k.eq(t.state.selection)){let C=t.state.tr.setSelection(k);o&&C.setMeta("composition",o),t.dispatch(C)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof zt&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),Us&&_0<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>u.from&&u.doc.textBetween(p.start-u.from-1,p.start-u.from+1)==" "&&(p.start--,p.endA--,p.endB--);let m=u.doc.resolveNoCache(p.start-u.from),g=u.doc.resolveNoCache(p.endB-u.from),v=c.resolve(p.start),y=m.sameParent(g)&&m.parent.inlineContent&&v.end()>=p.endA,b;if((Kv&&t.input.lastIOSEnter>Date.now()-225&&(!y||i.some(k=>k.nodeName=="DIV"||k.nodeName=="P"))||!y&&m.pos<u.doc.content.size&&(!m.sameParent(g)||!m.parent.inlineContent)&&!/\S/.test(u.doc.textBetween(m.pos,g.pos,"",""))&&(b=sn.findFrom(u.doc.resolve(m.pos+1),1,!0))&&b.head>m.pos)&&t.someProp("handleKeyDown",k=>k(t,em(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&ygt(c,p.start,p.endA,m,g)&&t.someProp("handleKeyDown",k=>k(t,em(8,"Backspace")))){_d&&Sa&&t.domObserver.suppressSelectionUpdates();return}Sa&&p.endB==p.start&&(t.input.lastChromeDelete=Date.now()),_d&&!y&&m.start()!=g.start()&&g.parentOffset==0&&m.depth==g.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==p.endA&&(p.endB-=2,g=u.doc.resolveNoCache(p.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(k){return k(t,em(13,"Enter"))})},20));let w=p.start,x=p.endA,S=k=>{let C=k||t.state.tr.replace(w,x,u.doc.slice(p.start-u.from,p.endB-u.from));if(u.sel){let E=cQ(t,C.doc,u.sel);E&&!(Sa&&t.composing&&E.empty&&(p.start!=p.endB||t.input.lastChromeDelete<Date.now()-100)&&(E.head==w||E.head==C.mapping.map(x)-1)||Us&&E.empty&&E.head==w)&&C.setSelection(E)}return o&&C.setMeta("composition",o),C.scrollIntoView()},_;if(y){if(m.pos==g.pos){Us&&_0<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Pd(t),20));let k=S(t.state.tr.delete(w,x)),C=c.resolve(p.start).marksAcross(c.resolve(p.endA));C&&k.ensureMarks(C),t.dispatch(k)}else if(p.endA==p.endB&&(_=vgt(m.parent.content.cut(m.parentOffset,g.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start())))){let k=S(t.state.tr);_.type=="add"?k.addMark(w,x,_.mark):k.removeMark(w,x,_.mark),t.dispatch(k)}else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let k=m.parent.textBetween(m.parentOffset,g.parentOffset),C=()=>S(t.state.tr.insertText(k,w,x));t.someProp("handleTextInput",E=>E(t,w,x,k,C))||t.dispatch(C())}}else t.dispatch(S())}function cQ(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:TL(t,e.resolve(n.anchor),e.resolve(n.head))}function vgt(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,a,s,l;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=c=>c.mark(s.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(rt.from(u).eq(t))return{mark:s,type:a}}function ygt(t,e,n,r,i){if(n-e<=i.pos-r.pos||Z9(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let s=o.nodeAfter;return s!=null&&n==e+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=t.resolve(Z9(o,!0,!0));return!a.parent.isTextblock||a.pos>n||Z9(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Z9(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function bgt(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a,b:s}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));r-=a+l-o}if(a<o&&t.size<e.size){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<e.size&&fQ(e.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<t.size&&fQ(t.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function fQ(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class RL{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new $1t,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(gQ),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=pQ(this),hQ(this),this.nodeViews=mQ(this),this.docView=WJ(this.state.doc,dQ(this),Y9(this),this.dom,this),this.domObserver=new ugt(this,(r,i,o,a)=>ggt(this,r,i,o,a)),this.domObserver.start(),B1t(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&dO(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(gQ),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,a=!1;e.storedMarks&&this.composing&&(v2e(this),a=!0),this.state=e;let s=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=mQ(this);xgt(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&dO(this),this.editable=pQ(this),hQ(this);let l=Y9(this),u=dQ(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(e.doc,u,l);(f||!e.selection.eq(i.selection))&&(a=!0);let d=c=="preserve"&&a&&this.dom.style.overflowAnchor==null&&Qmt(this);if(a){this.domObserver.stop();let h=f&&(Us||Sa)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&wgt(i.selection,e.selection);if(f){let p=Sa?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=J1t(this)),(o||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=WJ(e.doc,u,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&_1t(this))?Pd(this,h):(o2e(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():d&&e1t(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Zt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&zJ(this,n.getBoundingClientRect(),e)}else zJ(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new b2e(e.slice,e.move,i<0?void 0:Zt.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[e];if(s!=null&&(i=n?n(s):s))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[e];if(s!=null&&(i=n?n(s):s))return i}}hasFocus(){if(Us){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&t1t(this.dom),Pd(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return a1t(this,e)}coordsAtPos(e,n=1){return Zbe(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return f1t(this,n||this.state,e)}pasteHTML(e,n){return xw(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return xw(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return ML(this,e)}destroy(){this.docView&&(z1t(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Y9(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Vmt())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return V1t(this,e)}domSelectionRange(){let e=this.domSelection();return e?ss&&this.root.nodeType===11&&Gmt(this.dom.ownerDocument)==this.dom&&fgt(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}RL.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function dQ(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[no.node(0,t.state.doc.content.size,e)]}function hQ(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:no.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function pQ(t){return!t.someProp("editable",e=>e(t.state)===!1)}function wgt(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function mQ(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function xgt(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function gQ(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}function wp(t,e){return t.meta={package:"@milkdown/core",group:"System",...e},t}const C2e={strong:(t,e,n,r)=>{const i=t.marker||n.options.strong||"*",o=n.enter("strong"),a=n.createTracker(r);let s=a.move(i+i);return s+=a.move(n.containerPhrasing(t,{before:s,after:i,...a.current()})),s+=a.move(i+i),o(),s},emphasis:(t,e,n,r)=>{const i=t.marker||n.options.emphasis||"*",o=n.enter("emphasis"),a=n.createTracker(r);let s=a.move(i);return s+=a.move(n.containerPhrasing(t,{before:s,after:i,...a.current()})),s+=a.move(i),o(),s}},Xr=Xn({},"editorView"),t2=Xn({},"editorState"),J9=Xn([],"initTimer"),hO=Xn({},"editor"),_w=Xn([],"inputRules"),q0=Xn([],"prosePlugins"),Cw=Xn([],"remarkPlugins"),kw=Xn([],"nodeView"),Ew=Xn([],"markView"),Fm=Xn(QN().use(WN).use(YN),"remark"),Z2=Xn({handlers:C2e},"remarkStringifyOptions"),FS=hh("ConfigReady");function Sgt(t){const e=n=>(n.record(FS),async()=>(await t(n),n.done(FS),()=>{n.clearTimer(FS)}));return wp(e,{displayName:"Config"}),e}const Lm=hh("InitReady");function _gt(t){const e=n=>(n.inject(hO,t).inject(q0,[]).inject(Cw,[]).inject(_w,[]).inject(kw,[]).inject(Ew,[]).inject(Z2,{handlers:C2e}).inject(Fm,QN().use(WN).use(YN)).inject(J9,[FS]).record(Lm),async()=>{await n.waitTimers(J9);const r=n.get(Z2);return n.set(Fm,QN().use(WN).use(YN,r)),n.done(Lm),()=>{n.remove(hO).remove(q0).remove(Cw).remove(_w).remove(kw).remove(Ew).remove(Z2).remove(Fm).remove(J9).clearTimer(Lm)}});return wp(e,{displayName:"Init"}),e}const fu=hh("SchemaReady"),Q9=Xn([],"schemaTimer"),tf=Xn({},"schema"),J2=Xn([],"nodes"),Q2=Xn([],"marks");function vQ(t){return{...t,parseDOM:t.parseDOM?.map(e=>({priority:t.priority,...e}))}}const k2e=t=>(t.inject(tf,{}).inject(J2,[]).inject(Q2,[]).inject(Q9,[Lm]).record(fu),async()=>{await t.waitTimers(Q9);const e=t.get(Fm),r=t.get(Cw).reduce((s,l)=>s.use(l.plugin,l.options),e);t.set(Fm,r);const i=Object.fromEntries(t.get(J2).map(([s,l])=>[s,vQ(l)])),o=Object.fromEntries(t.get(Q2).map(([s,l])=>[s,vQ(l)])),a=new Mye({nodes:i,marks:o});return t.set(tf,a),t.done(fu),()=>{t.remove(tf).remove(J2).remove(Q2).remove(Q9).clearTimer(fu)}});wp(k2e,{displayName:"Schema"});class E2e{constructor(){this.#t=new tbe,this.#e=null,this.setCtx=e=>{this.#e=e},this.chain=()=>{if(this.#e==null)throw I9();const e=this.#e,n=[],r=this.get.bind(this),i={run:()=>{const a=Iy(...n),s=e.get(Xr);return a(s.state,s.dispatch,s)},inline:a=>(n.push(a),i),pipe:o.bind(this)};function o(a,s){const l=r(a);return n.push(l(s)),i}return i}}#t;#e;get ctx(){return this.#e}create(e,n){const r=e.create(this.#t.sliceMap);return r.set(n),r}get(e){return this.#t.get(e).get()}remove(e){return this.#t.remove(e)}call(e,n){if(this.#e==null)throw I9();const i=this.get(e)(n),o=this.#e.get(Xr);return i(o.state,o.dispatch,o)}inline(e){if(this.#e==null)throw I9();const n=this.#e.get(Xr);return e(n.state,n.dispatch,n)}}function Cgt(t="cmdKey"){return Xn(()=>()=>!1,t)}const It=Xn(new E2e,"commands"),eT=Xn([fu],"commandsTimer"),e3=hh("CommandsReady"),A2e=t=>{const e=new E2e;return e.setCtx(t),t.inject(It,e).inject(eT,[fu]).record(e3),async()=>(await t.waitTimers(eT),t.done(e3),()=>{t.remove(It).remove(eT).clearTimer(e3)})};wp(A2e,{displayName:"Commands"});function kgt(t){const e=Iy(sdt,xL,xmt,$be);return t.Backspace=e,t}class T2e{constructor(){this.#t=null,this.#e=[],this.setCtx=e=>{this.#t=e},this.add=e=>(this.#e.push(e),()=>{this.#e=this.#e.filter(n=>n!==e)}),this.addObjectKeymap=e=>{const n=[];return Object.entries(e).forEach(([r,i])=>{if(typeof i=="function"){const o={key:r,onRun:()=>i};this.#e.push(o),n.push(()=>{this.#e=this.#e.filter(a=>a!==o)})}else this.#e.push(i),n.push(()=>{this.#e=this.#e.filter(o=>o!==i)})}),()=>{n.forEach(r=>r())}},this.addBaseKeymap=()=>{const e=kgt(Lmt);return this.addObjectKeymap(e)},this.build=()=>{const e={};return this.#e.forEach(r=>{e[r.key]=[...e[r.key]||[],r]}),Object.fromEntries(Object.entries(e).map(([r,i])=>{const o=i.sort((s,l)=>(l.priority??50)-(s.priority??50));return[r,(s,l,u)=>{const c=this.#t;if(c==null)throw x7();const f=o.map(h=>h.onRun(c));return Iy(...f)(s,l,u)}]}))}}#t;#e;get ctx(){return this.#t}}const t8=Xn(new T2e,"keymap"),tT=Xn([fu],"keymapTimer"),t3=hh("KeymapReady"),Egt=t=>{const e=new T2e;return e.setCtx(t),t.inject(t8,e).inject(tT,[fu]).record(t3),async()=>(await t.waitTimers(tT),t.done(t3),()=>{t.remove(t8).remove(tT).clearTimer(t3)})},LS=hh("ParserReady"),M2e=()=>{throw x7()},n3=Xn(M2e,"parser"),nT=Xn([],"parserTimer"),D2e=t=>(t.inject(n3,M2e).inject(nT,[fu]).record(LS),async()=>{await t.waitTimers(nT);const e=t.get(Fm),n=t.get(tf);return t.set(n3,ymt.create(n,e)),t.done(LS),()=>{t.remove(n3).remove(nT).clearTimer(LS)}});wp(D2e,{displayName:"Parser"});const r3=hh("SerializerReady"),rT=Xn([],"serializerTimer"),N2e=()=>{throw x7()},nv=Xn(N2e,"serializer"),O2e=t=>(t.inject(nv,N2e).inject(rT,[fu]).record(r3),async()=>{await t.waitTimers(rT);const e=t.get(Fm),n=t.get(tf);return t.set(nv,wmt.create(n,e)),t.done(r3),()=>{t.remove(nv).remove(rT).clearTimer(r3)}});wp(O2e,{displayName:"Serializer"});const $S=Xn("","defaultValue"),iT=Xn(t=>t,"stateOptions"),oT=Xn([],"editorStateTimer"),BS=hh("EditorStateReady");function Agt(t,e,n){if(typeof t=="string")return e(t);if(t.type==="html")return i1.fromSchema(n).parse(t.dom);if(t.type==="json")return Id.fromJSON(n,t.value);throw udt(t)}const Tgt=new Ai("MILKDOWN_STATE_TRACKER"),I2e=t=>(t.inject($S,"").inject(t2,{}).inject(iT,e=>e).inject(oT,[LS,r3,e3,t3]).record(BS),async()=>{await t.waitTimers(oT);const e=t.get(tf),n=t.get(n3),r=t.get(_w),i=t.get(iT),o=t.get(q0),a=t.get($S),s=Agt(a,n,e),l=t.get(t8),u=l.addBaseKeymap(),c=[...o,new yi({key:Tgt,state:{init:()=>{},apply:(h,p,m,g)=>{t.set(t2,g)}}}),Edt({rules:r}),Ube(l.build())];t.set(q0,c);const f=i({schema:e,doc:s,plugins:c}),d=lm.create(f);return t.set(t2,d),t.done(BS),()=>{u(),t.remove($S).remove(t2).remove(iT).remove(oT).clearTimer(BS)}});wp(I2e,{displayName:"EditorState"});const zS=hh("EditorViewReady"),aT=Xn([],"editorViewTimer"),i3=Xn({},"editorViewOptions"),qS=Xn(null,"root"),pO=Xn(null,"rootDOM"),mO=Xn({},"rootAttrs");function Mgt(t,e){const n=document.createElement("div");n.className="milkdown",t.appendChild(n),e.set(pO,n);const r=e.get(mO);return Object.entries(r).forEach(([i,o])=>n.setAttribute(i,o)),n}function Dgt(t){t.classList.add("editor"),t.setAttribute("role","textbox")}const Ngt=new Ai("MILKDOWN_VIEW_CLEAR"),P2e=t=>(t.inject(qS,document.body).inject(Xr,{}).inject(i3,{}).inject(pO,null).inject(mO,{}).inject(aT,[BS]).record(zS),async()=>{await t.wait(Lm);const e=t.get(qS)||document.body,n=typeof e=="string"?document.querySelector(e):e;t.update(q0,l=>[new yi({key:Ngt,view:u=>{const c=n?Mgt(n,t):void 0;return(()=>{if(c&&n){const d=u.dom;n.replaceChild(c,d),c.appendChild(d)}})(),{destroy:()=>{c?.parentNode&&c?.parentNode.replaceChild(u.dom,c),c?.remove()}}}}),...l]),await t.waitTimers(aT);const r=t.get(t2),i=t.get(i3),o=Object.fromEntries(t.get(kw)),a=Object.fromEntries(t.get(Ew)),s=new RL(n,{state:r,nodeViews:o,markViews:a,...i});return Dgt(s.dom),t.set(Xr,s),t.done(zS),()=>{s?.destroy(),t.remove(qS).remove(Xr).remove(i3).remove(pO).remove(mO).remove(aT).clearTimer(zS)}});wp(P2e,{displayName:"EditorView"});var n8=(t=>(t.Idle="Idle",t.OnCreate="OnCreate",t.Created="Created",t.OnDestroy="OnDestroy",t.Destroyed="Destroyed",t))(n8||{});class FL{constructor(){this.#t=!1,this.#e="Idle",this.#r=[],this.#n=()=>{},this.#l=new tbe,this.#i=new Udt,this.#o=new Map,this.#a=new Map,this.#s=new fL(this.#l,this.#i),this.#u=()=>{const e=Sgt(async r=>{await Promise.all(this.#r.map(i=>i(r)))}),n=[k2e,D2e,O2e,A2e,Egt,I2e,P2e,_gt(this),e];this.#c(n,this.#a)},this.#c=(e,n)=>{e.forEach(r=>{const i=this.#s.produce(this.#t?r.meta:void 0),o=r(i);n.set(r,{ctx:i,handler:o,cleanup:void 0})})},this.#f=(e,n=!1)=>Promise.all([e].flat().map(r=>{const o=this.#o.get(r)?.cleanup;return n?this.#o.delete(r):this.#o.set(r,{ctx:void 0,handler:void 0,cleanup:void 0}),typeof o=="function"?o():o})),this.#h=async()=>{await Promise.all([...this.#a.entries()].map(([e,{cleanup:n}])=>typeof n=="function"?n():n)),this.#a.clear()},this.#d=e=>{this.#e=e,this.#n(e)},this.#p=e=>[...e.entries()].map(async([n,r])=>{const{ctx:i,handler:o}=r;if(!o)return;const a=await o();e.set(n,{ctx:i,handler:o,cleanup:a})}),this.enableInspector=(e=!0)=>(this.#t=e,this),this.onStatusChange=e=>(this.#n=e,this),this.config=e=>(this.#r.push(e),this),this.removeConfig=e=>(this.#r=this.#r.filter(n=>n!==e),this),this.use=e=>{const n=[e].flat();return n.flat().forEach(r=>{this.#o.set(r,{ctx:void 0,handler:void 0,cleanup:void 0})}),this.#e==="Created"&&this.#c(n,this.#o),this},this.remove=async e=>this.#e==="OnCreate"?(console.warn("[Milkdown]: You are trying to remove plugins when the editor is creating, this is not recommended, please check your code."),new Promise(n=>{setTimeout(()=>{n(this.remove(e))},50)})):(await this.#f([e].flat(),!0),this),this.create=async()=>this.#e==="OnCreate"?this:(this.#e==="Created"&&await this.destroy(),this.#d("OnCreate"),this.#u(),this.#c([...this.#o.keys()],this.#o),await Promise.all([this.#p(this.#a),this.#p(this.#o)].flat()),this.#d("Created"),this),this.destroy=async(e=!1)=>this.#e==="Destroyed"||this.#e==="OnDestroy"?this:this.#e==="OnCreate"?new Promise(n=>{setTimeout(()=>{n(this.destroy(e))},50)}):(e&&(this.#r=[]),this.#d("OnDestroy"),await this.#f([...this.#o.keys()],e),await this.#h(),this.#d("Destroyed"),this),this.action=e=>e(this.#s),this.inspect=()=>this.#t?[...this.#a.values(),...this.#o.values()].map(({ctx:e})=>e?.inspector?.read()).filter(e=>!!e):(console.warn("[Milkdown]: You are trying to collect inspection when inspector is disabled, please enable inspector by `editor.enableInspector()` first."),[])}static make(){return new FL}#t;#e;#r;#n;#l;#i;#o;#a;#s;#u;#c;#f;#h;#d;#p;get ctx(){return this.#s}get status(){return this.#e}}LR("abcedfghicklmn",10);function fn(t,e){const n=Cgt(t),r=i=>async()=>{r.key=n,await i.wait(e3);const o=e(i);return i.get(It).create(n,o),r.run=a=>i.get(It).call(t,a),()=>{i.get(It).remove(n)}};return r}function Ia(t){const e=n=>async()=>{await n.wait(fu);const r=t(n);return n.update(_w,i=>[...i,r]),e.inputRule=r,()=>{n.update(_w,i=>i.filter(o=>o!==r))}};return e}function Ogt(t,e){const n=r=>async()=>{const i=e(r);return r.update(Q2,o=>[...o.filter(a=>a[0]!==t),[t,i]]),n.id=t,n.schema=i,()=>{r.update(Q2,o=>o.filter(([a])=>a!==t))}};return n.type=r=>{const i=r.get(tf).marks[t];if(!i)throw vdt(t);return i},n}function LL(t,e){const n=r=>async()=>{const i=e(r);return r.update(J2,o=>[...o.filter(a=>a[0]!==t),[t,i]]),n.id=t,n.schema=i,()=>{r.update(J2,o=>o.filter(([a])=>a!==t))}};return n.type=r=>{const i=r.get(tf).nodes[t];if(!i)throw gdt(t);return i},n}function xo(t){let e;const n=r=>async()=>(await r.wait(fu),e=t(r),r.update(q0,i=>[...i,e]),()=>{r.update(q0,i=>i.filter(o=>o!==e))});return n.plugin=()=>e,n.key=()=>e.spec.key,n}function R2e(t){const e=n=>async()=>{await n.wait(t3);const r=n.get(t8),i=t(n),o=r.addObjectKeymap(i);return e.keymap=i,()=>{o()}};return e}function O4(t,e){const n=r=>async()=>{await r.wait(fu);const i=e(r);return t.type(r)instanceof GC?r.update(kw,o=>[...o,[t.id,i]]):r.update(Ew,o=>[...o,[t.id,i]]),n.view=i,n.type=t,()=>{t.type(r)instanceof GC?r.update(kw,o=>o.filter(a=>a[0]!==t.id)):r.update(Ew,o=>o.filter(a=>a[0]!==t.id))}};return n}function Fr(t,e){const n=Xn(t,e),r=i=>(i.inject(n),()=>()=>{i.remove(n)});return r.key=n,r}function Wi(t,e){const n=Fr(e,t),r=LL(t,o=>o.get(n.key)(o)),i=[n,r];return i.id=r.id,i.node=r,i.type=o=>r.type(o),i.ctx=n,i.key=n.key,i.extendSchema=o=>{const a=o(e);return Wi(t,a)},i}function M1(t,e){const n=Fr(e,t),r=Ogt(t,o=>o.get(n.key)(o)),i=[n,r];return i.id=r.id,i.mark=r,i.type=o=>r.type(o),i.ctx=n,i.key=n.key,i.extendSchema=o=>{const a=o(e);return M1(t,a)},i}function Qs(t,e){const n=Object.fromEntries(Object.entries(e).map(([a,{shortcuts:s,priority:l}])=>[a,{shortcuts:s,priority:l}])),r=Fr(n,`${t}Keymap`),i=R2e(a=>{const s=a.get(r.key),l=Object.entries(e).flatMap(([u,{command:c}])=>{const f=s[u],d=[f.shortcuts].flat(),h=f.priority;return d.map(p=>[p,{key:p,onRun:c,priority:h}])});return Object.fromEntries(l)}),o=[r,i];return o.ctx=r,o.shortcuts=i,o.key=r.key,o.keymap=i.keymap,o}const gc=(t,e=()=>({}))=>Fr(e,`${t}Attr`),I4=(t,e=()=>({}))=>Fr(e,`${t}Attr`);function Ef(t,e,n){const r=Fr({},t),i=a=>async()=>{await a.wait(Lm);const l={plugin:e(a),options:a.get(r.key)};return a.update(Cw,u=>[...u,l]),()=>{a.update(Cw,u=>u.filter(c=>c!==l))}},o=[r,i];return o.id=t,o.plugin=i,o.options=r,o}function Igt(t){return e=>{const n=e.get(Xr);return e.get(tf),e.get(nv)(n.state.doc)}}var sT,yQ;function Pgt(){if(yQ)return sT;yQ=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,l=typeof Go=="object"&&Go&&Go.Object===Object&&Go,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),f=Object.prototype,d=f.toString,h=Math.max,p=Math.min,m=function(){return c.Date.now()};function g(S,_,k){var C,E,M,A,N,T,I=0,O=!1,q=!1,L=!0;if(typeof S!="function")throw new TypeError(t);_=x(_)||0,y(k)&&(O=!!k.leading,q="maxWait"in k,M=q?h(x(k.maxWait)||0,_):M,L="trailing"in k?!!k.trailing:L);function Y(te){var J=C,fe=E;return C=E=void 0,I=te,A=S.apply(fe,J),A}function R(te){return I=te,N=setTimeout(P,_),O?Y(te):A}function B(te){var J=te-T,fe=te-I,ue=_-J;return q?p(ue,M-fe):ue}function z(te){var J=te-T,fe=te-I;return T===void 0||J>=_||J<0||q&&fe>=M}function P(){var te=m();if(z(te))return $(te);N=setTimeout(P,B(te))}function $(te){return N=void 0,L&&C?Y(te):(C=E=void 0,A)}function X(){N!==void 0&&clearTimeout(N),I=0,C=T=E=N=void 0}function K(){return N===void 0?A:$(m())}function Z(){var te=m(),J=z(te);if(C=arguments,E=this,T=te,J){if(N===void 0)return R(T);if(q)return N=setTimeout(P,_),Y(T)}return N===void 0&&(N=setTimeout(P,_)),A}return Z.cancel=X,Z.flush=K,Z}function v(S,_,k){var C=!0,E=!0;if(typeof S!="function")throw new TypeError(t);return y(k)&&(C="leading"in k?!!k.leading:C,E="trailing"in k?!!k.trailing:E),g(S,_,{leading:C,maxWait:_,trailing:E})}function y(S){var _=typeof S;return!!S&&(_=="object"||_=="function")}function b(S){return!!S&&typeof S=="object"}function w(S){return typeof S=="symbol"||b(S)&&d.call(S)==n}function x(S){if(typeof S=="number")return S;if(w(S))return e;if(y(S)){var _=typeof S.valueOf=="function"?S.valueOf():S;S=y(_)?_+"":_}if(typeof S!="string")return S===0?S:+S;S=S.replace(r,"");var k=o.test(S);return k||a.test(S)?s(S.slice(2),k?2:8):i.test(S)?e:+S}return sT=v,sT}var Rgt=Pgt();const I7=vf(Rgt),gO=Math.min,rv=Math.max,r8=Math.round,nf=t=>({x:t,y:t}),Fgt={left:"right",right:"left",bottom:"top",top:"bottom"},Lgt={start:"end",end:"start"};function bQ(t,e,n){return rv(t,gO(e,n))}function P7(t,e){return typeof t=="function"?t(e):t}function u1(t){return t.split("-")[0]}function R7(t){return t.split("-")[1]}function F2e(t){return t==="x"?"y":"x"}function L2e(t){return t==="y"?"height":"width"}const $gt=new Set(["top","bottom"]);function m0(t){return $gt.has(u1(t))?"y":"x"}function $2e(t){return F2e(m0(t))}function Bgt(t,e,n){n===void 0&&(n=!1);const r=R7(t),i=$2e(t),o=L2e(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=i8(a)),[a,i8(a)]}function zgt(t){const e=i8(t);return[vO(t),e,vO(e)]}function vO(t){return t.replace(/start|end/g,e=>Lgt[e])}const wQ=["left","right"],xQ=["right","left"],qgt=["top","bottom"],Vgt=["bottom","top"];function Hgt(t,e,n){switch(t){case"top":case"bottom":return n?e?xQ:wQ:e?wQ:xQ;case"left":case"right":return e?qgt:Vgt;default:return[]}}function Ugt(t,e,n,r){const i=R7(t);let o=Hgt(u1(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(vO)))),o}function i8(t){return t.replace(/left|right|bottom|top/g,e=>Fgt[e])}function jgt(t){return{top:0,right:0,bottom:0,left:0,...t}}function Wgt(t){return typeof t!="number"?jgt(t):{top:t,right:t,bottom:t,left:t}}function o8(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function SQ(t,e,n){let{reference:r,floating:i}=t;const o=m0(e),a=$2e(e),s=L2e(a),l=u1(e),u=o==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(R7(e)){case"start":h[a]-=d*(n&&u?-1:1);break;case"end":h[a]+=d*(n&&u?-1:1);break}return h}const Ggt=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:f}=SQ(u,r,l),d=r,h={},p=0;for(let m=0;m<s.length;m++){const{name:g,fn:v}=s[m],{x:y,y:b,data:w,reset:x}=await v({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:u,platform:a,elements:{reference:t,floating:e}});c=y??c,f=b??f,h={...h,[g]:{...h[g],...w}},x&&p<=50&&(p++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(u=x.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):x.rects),{x:c,y:f}=SQ(u,d,l)),m=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function B2e(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=P7(e,t),p=Wgt(h),g=s[d?f==="floating"?"reference":"floating":f],v=o8(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),w=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},x=o8(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:b,strategy:l}):y);return{top:(v.top-x.top+p.top)/w.y,bottom:(x.bottom-v.bottom+p.bottom)/w.y,left:(v.left-x.left+p.left)/w.x,right:(x.right-v.right+p.right)/w.x}}const Kgt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=P7(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=u1(i),y=m0(s),b=u1(s)===s,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),x=d||(b||!m?[i8(s)]:zgt(s)),S=p!=="none";!d&&S&&x.push(...Ugt(s,m,p,w));const _=[s,...x],k=await B2e(e,g),C=[];let E=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&C.push(k[v]),f){const T=Bgt(i,a,w);C.push(k[T[0]],k[T[1]])}if(E=[...E,{placement:i,overflows:C}],!C.every(T=>T<=0)){var M,A;const T=(((M=o.flip)==null?void 0:M.index)||0)+1,I=_[T];if(I&&(!(f==="alignment"?y!==m0(I):!1)||E.every(L=>L.overflows[0]>0&&m0(L.placement)===y)))return{data:{index:T,overflows:E},reset:{placement:I}};let O=(A=E.filter(q=>q.overflows[0]<=0).sort((q,L)=>q.overflows[1]-L.overflows[1])[0])==null?void 0:A.placement;if(!O)switch(h){case"bestFit":{var N;const q=(N=E.filter(L=>{if(S){const Y=m0(L.placement);return Y===y||Y==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(Y=>Y>0).reduce((Y,R)=>Y+R,0)]).sort((L,Y)=>L[1]-Y[1])[0])==null?void 0:N[0];q&&(O=q);break}case"initialPlacement":O=s;break}if(i!==O)return{reset:{placement:O}}}return{}}}},Xgt=new Set(["left","top"]);async function Ygt(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=u1(n),s=R7(n),l=m0(n)==="y",u=Xgt.has(a)?-1:1,c=o&&l?-1:1,f=P7(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const Zgt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await Ygt(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},Jgt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:g=>{let{x:v,y}=g;return{x:v,y}}},...l}=P7(t,e),u={x:n,y:r},c=await B2e(e,l),f=m0(u1(i)),d=F2e(f);let h=u[d],p=u[f];if(o){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=h+c[g],b=h-c[v];h=bQ(y,h,b)}if(a){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=p+c[g],b=p-c[v];p=bQ(y,p,b)}const m=s.fn({...e,[d]:h,[f]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[d]:o,[f]:a}}}}}};function F7(){return typeof window<"u"}function Py(t){return z2e(t)?(t.nodeName||"").toLowerCase():"#document"}function El(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ph(t){var e;return(e=(z2e(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function z2e(t){return F7()?t instanceof Node||t instanceof El(t).Node:!1}function ic(t){return F7()?t instanceof Element||t instanceof El(t).Element:!1}function pf(t){return F7()?t instanceof HTMLElement||t instanceof El(t).HTMLElement:!1}function _Q(t){return!F7()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof El(t).ShadowRoot}const Qgt=new Set(["inline","contents"]);function P4(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=oc(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Qgt.has(i)}const evt=new Set(["table","td","th"]);function tvt(t){return evt.has(Py(t))}const nvt=[":popover-open",":modal"];function L7(t){return nvt.some(e=>{try{return t.matches(e)}catch{return!1}})}const rvt=["transform","translate","scale","rotate","perspective"],ivt=["transform","translate","scale","rotate","perspective","filter"],ovt=["paint","layout","strict","content"];function $L(t){const e=BL(),n=ic(t)?oc(t):t;return rvt.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||ivt.some(r=>(n.willChange||"").includes(r))||ovt.some(r=>(n.contain||"").includes(r))}function avt(t){let e=V0(t);for(;pf(e)&&!Xv(e);){if($L(e))return e;if(L7(e))return null;e=V0(e)}return null}function BL(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const svt=new Set(["html","body","#document"]);function Xv(t){return svt.has(Py(t))}function oc(t){return El(t).getComputedStyle(t)}function $7(t){return ic(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function V0(t){if(Py(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_Q(t)&&t.host||ph(t);return _Q(e)?e.host:e}function q2e(t){const e=V0(t);return Xv(e)?t.ownerDocument?t.ownerDocument.body:t.body:pf(e)&&P4(e)?e:q2e(e)}function V2e(t,e,n){var r;e===void 0&&(e=[]);const i=q2e(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=El(i);return o?(yO(a),e.concat(a,a.visualViewport||[],P4(i)?i:[],[])):e.concat(i,V2e(i,[]))}function yO(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function H2e(t){const e=oc(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=pf(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=r8(n)!==o||r8(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function U2e(t){return ic(t)?t:t.contextElement}function iv(t){const e=U2e(t);if(!pf(e))return nf(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=H2e(e);let a=(o?r8(n.width):n.width)/r,s=(o?r8(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const lvt=nf(0);function j2e(t){const e=El(t);return!BL()||!e.visualViewport?lvt:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uvt(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==El(t)?!1:e}function Aw(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=U2e(t);let a=nf(1);e&&(r?ic(r)&&(a=iv(r)):a=iv(t));const s=uvt(o,n,r)?j2e(o):nf(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,c=i.width/a.x,f=i.height/a.y;if(o){const d=El(o),h=r&&ic(r)?El(r):r;let p=d,m=yO(p);for(;m&&r&&h!==p;){const g=iv(m),v=m.getBoundingClientRect(),y=oc(m),b=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,w=v.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,f*=g.y,l+=b,u+=w,p=El(m),m=yO(p)}}return o8({width:c,height:f,x:l,y:u})}function zL(t,e){const n=$7(t).scrollLeft;return e?e.left+n:Aw(ph(t)).left+n}function W2e(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:zL(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function cvt(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=ph(r),s=e?L7(e.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},u=nf(1);const c=nf(0),f=pf(r);if((f||!f&&!o)&&((Py(r)!=="body"||P4(a))&&(l=$7(r)),pf(r))){const h=Aw(r);u=iv(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const d=a&&!f&&!o?W2e(a,l,!0):nf(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function fvt(t){return Array.from(t.getClientRects())}function dvt(t){const e=ph(t),n=$7(t),r=t.ownerDocument.body,i=rv(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=rv(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+zL(t);const s=-n.scrollTop;return oc(r).direction==="rtl"&&(a+=rv(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function hvt(t,e){const n=El(t),r=ph(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=BL();(!u||u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}const pvt=new Set(["absolute","fixed"]);function mvt(t,e){const n=Aw(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=pf(t)?iv(t):nf(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:a,height:s,x:l,y:u}}function CQ(t,e,n){let r;if(e==="viewport")r=hvt(t,n);else if(e==="document")r=dvt(ph(t));else if(ic(e))r=mvt(e,n);else{const i=j2e(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return o8(r)}function G2e(t,e){const n=V0(t);return n===e||!ic(n)||Xv(n)?!1:oc(n).position==="fixed"||G2e(n,e)}function gvt(t,e){const n=e.get(t);if(n)return n;let r=V2e(t,[]).filter(s=>ic(s)&&Py(s)!=="body"),i=null;const o=oc(t).position==="fixed";let a=o?V0(t):t;for(;ic(a)&&!Xv(a);){const s=oc(a),l=$L(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&pvt.has(i.position)||P4(a)&&!l&&G2e(t,a))?r=r.filter(c=>c!==a):i=s,a=V0(a)}return e.set(t,r),r}function vvt(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?L7(e)?[]:gvt(e,this._c):[].concat(n),r],s=a[0],l=a.reduce((u,c)=>{const f=CQ(e,c,i);return u.top=rv(f.top,u.top),u.right=gO(f.right,u.right),u.bottom=gO(f.bottom,u.bottom),u.left=rv(f.left,u.left),u},CQ(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function yvt(t){const{width:e,height:n}=H2e(t);return{width:e,height:n}}function bvt(t,e,n){const r=pf(e),i=ph(e),o=n==="fixed",a=Aw(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=nf(0);function u(){l.x=zL(i)}if(r||!r&&!o)if((Py(e)!=="body"||P4(i))&&(s=$7(e)),r){const h=Aw(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&u();o&&!r&&i&&u();const c=i&&!r&&!o?W2e(i,s):nf(0),f=a.left+s.scrollLeft-l.x-c.x,d=a.top+s.scrollTop-l.y-c.y;return{x:f,y:d,width:a.width,height:a.height}}function lT(t){return oc(t).position==="static"}function kQ(t,e){if(!pf(t)||oc(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ph(t)===n&&(n=n.ownerDocument.body),n}function K2e(t,e){const n=El(t);if(L7(t))return n;if(!pf(t)){let i=V0(t);for(;i&&!Xv(i);){if(ic(i)&&!lT(i))return i;i=V0(i)}return n}let r=kQ(t,e);for(;r&&tvt(r)&&lT(r);)r=kQ(r,e);return r&&Xv(r)&&lT(r)&&!$L(r)?n:r||avt(t)||n}const wvt=async function(t){const e=this.getOffsetParent||K2e,n=this.getDimensions,r=await n(t.floating);return{reference:bvt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xvt(t){return oc(t).direction==="rtl"}const Svt={convertOffsetParentRelativeRectToViewportRelativeRect:cvt,getDocumentElement:ph,getClippingRect:vvt,getOffsetParent:K2e,getElementRects:wvt,getClientRects:fvt,getDimensions:yvt,getScale:iv,isElement:ic,isRTL:xvt},H0=Zgt,EQ=Jgt,a8=Kgt,ac=(t,e,n)=>{const r=new Map,i={platform:Svt,...n},o={...i.platform,_c:r};return Ggt(t,e,{...i,platform:o})};function R4(t,e){return Object.assign(t,{meta:{package:"@milkdown/plugin-block",...e}}),t}const _vt=t=>!ef(n=>n.type.name==="table")(t),B7=Fr({filterNodes:_vt},"blockConfig");R4(B7,{displayName:"Ctx<blockConfig>"});function Cvt(t,e,n){if(!t.dom.parentElement)return null;try{const i=t.posAtCoords({left:e.x,top:e.y})?.inside;if(i==null||i<0)return null;let o=t.state.doc.resolve(i),a=t.state.doc.nodeAt(i),s=t.nodeDOM(i);const l=c=>{const f=o.depth>=1&&o.index(o.depth)===0;if(!(c||f))return;const h=o.before(o.depth);a=t.state.doc.nodeAt(h),s=t.nodeDOM(h),o=t.state.doc.resolve(h),n(o,a)||l(!0)},u=n(o,a);return l(!u),!s||!a?null:{node:a,$pos:o,el:s}}catch{return null}}const AQ=n6.ie&&n6.ie_version<15||n6.ios&&n6.webkit_version<604,TQ=20;class kvt{constructor(){this.#e=()=>{if(!this.#n)return null;const e=this.#n,n=this.#a;if(n&&Zt.isSelectable(e.node)){const r=Zt.create(n.state.doc,e.$pos.pos);return n.dispatch(n.state.tr.setSelection(r)),n.focus(),this.#r=r,r}return null},this.#r=null,this.#n=null,this.#l=void 0,this.#i=!1,this.#u=()=>{this.#s?.({type:"hide"}),this.#n=null},this.#c=e=>{this.#n=e,this.#s?.({type:"show",active:e})},this.bind=(e,n)=>{this.#t=e,this.#s=n},this.addEvent=e=>{e.addEventListener("mousedown",this.#f),e.addEventListener("mouseup",this.#h),e.addEventListener("dragstart",this.#d)},this.removeEvent=e=>{e.removeEventListener("mousedown",this.#f),e.removeEventListener("mouseup",this.#h),e.removeEventListener("dragstart",this.#d)},this.unBind=()=>{this.#s=void 0},this.#f=()=>{this.#l=this.#n?.el.getBoundingClientRect(),this.#e()},this.#h=()=>{if(!this.#i){requestAnimationFrame(()=>{this.#l&&this.#a?.focus()});return}this.#i=!1,this.#r=null},this.#d=e=>{this.#i=!0;const n=this.#a;if(!n)return;n.dom.dataset.dragging="true";const r=this.#r;if(e.dataTransfer&&r){const i=r.content();e.dataTransfer.effectAllowed="copyMove";const{dom:o,text:a}=n.serializeForClipboard(i);e.dataTransfer.clearData(),e.dataTransfer.setData(AQ?"Text":"text/html",o.innerHTML),AQ||e.dataTransfer.setData("text/plain",a);const s=this.#n?.el;s&&e.dataTransfer.setDragImage(s,0,0),n.dragging={slice:i,move:!0}}},this.keydownCallback=e=>(this.#u(),this.#i=!1,e.dom.dataset.dragging="false",!1),this.#p=I7((e,n)=>{if(!e.editable)return;const r=e.dom.getBoundingClientRect(),i=r.left+r.width/2;if(!(e.root.elementFromPoint(i,n.clientY)instanceof Element)){this.#u();return}const a=this.#o;if(!a)return;const s=Cvt(e,{x:i,y:n.clientY},a);if(!s){this.#u();return}this.#c(s)},200),this.mousemoveCallback=(e,n)=>(e.composing||!e.editable||this.#p(e,n),!1),this.dragoverCallback=(e,n)=>{if(this.#i){const r=this.#a?.dom.parentElement;if(!r)return!1;const i=r.scrollHeight>r.clientHeight,o=r.getBoundingClientRect();if(i){if(r.scrollTop>0&&Math.abs(n.y-o.y)<TQ){const l=r.scrollTop>10?r.scrollTop-10:0;return r.scrollTop=l,!1}const a=Math.round(e.dom.getBoundingClientRect().height);if(Math.round(r.scrollTop+o.height)<a&&Math.abs(n.y-(o.height+o.y))<TQ){const l=r.scrollTop+10;return r.scrollTop=l,!1}}}return!1},this.dragenterCallback=e=>{e.dragging&&(this.#i=!0,e.dom.dataset.dragging="true")},this.dragleaveCallback=(e,n)=>{const r=n.clientX,i=n.clientY;(r<0||i<0||r>window.innerWidth||i>window.innerHeight)&&(this.#n=null,this.#m(e))},this.dropCallback=e=>(this.#m(e),!1),this.dragendCallback=e=>{this.#m(e)},this.#m=e=>{this.#i=!1,e.dom.dataset.dragging="false"}}#t;#e;#r;#n;#l;#i;get#o(){try{return this.#t?.get(B7.key).filterNodes}catch{return}}get#a(){return this.#t?.get(Xr)}#s;#u;#c;#f;#h;#d;#p;#m}const qL=Fr(()=>new kvt,"blockService"),z7=Fr({},"blockServiceInstance");R4(qL,{displayName:"Ctx<blockService>"});R4(z7,{displayName:"Ctx<blockServiceInstance>"});const q7=Fr({},"blockSpec");R4(q7,{displayName:"Ctx<blockSpec>"});const VL=xo(t=>{const e=new Ai("MILKDOWN_BLOCK"),r=t.get(qL.key)();t.set(z7.key,r);const i=t.get(q7.key);return new yi({key:e,...i,props:{...i.props,handleDOMEvents:{drop:o=>r.dropCallback(o),pointermove:(o,a)=>r.mousemoveCallback(o,a),keydown:o=>r.keydownCallback(o),dragover:(o,a)=>r.dragoverCallback(o,a),dragleave:(o,a)=>r.dragleaveCallback(o,a),dragenter:o=>r.dragenterCallback(o),dragend:o=>r.dragendCallback(o)}}})});R4(VL,{displayName:"Prose<block>"});class Evt{constructor(e){this.#n=null,this.#i=!1,this.update=()=>{requestAnimationFrame(()=>{if(!this.#i)try{this.#f(),this.#i=!0}catch{}})},this.destroy=()=>{this.#r?.unBind(),this.#r?.removeEvent(this.#t),this.#t.remove()},this.show=n=>{const r=n.el,i=this.#e.get(Xr).dom,o={ctx:this.#e,active:n,editorDom:i,blockDom:this.#t},a={contextElement:r,getBoundingClientRect:()=>this.#u?this.#u(o):r.getBoundingClientRect()},s=[a8()];if(this.#s){const l=this.#s(o),u=H0(l);s.push(u)}ac(a,this.#t,{placement:this.#c?this.#c(o):"left",middleware:[...s,...this.#o],...this.#a}).then(({x:l,y:u})=>{Object.assign(this.#t.style,{left:`${l}px`,top:`${u}px`}),this.#t.dataset.show="true"}).catch(console.error)},this.hide=()=>{this.#t.dataset.show="false"},this.#e=e.ctx,this.#t=e.content,this.#s=e.getOffset,this.#u=e.getPosition,this.#c=e.getPlacement,this.#o=e.middleware??[],this.#a=e.floatingUIOptions??{},this.#l=e.root,this.hide()}#t;#e;#r;#n;#l;#i;#o;#a;#s;#u;#c;get active(){return this.#n}#f(){const e=this.#e.get(Xr);(this.#l??e.dom.parentElement??document.body).appendChild(this.#t);const r=this.#e.get(z7.key);r.bind(this.#e,i=>{i.type==="hide"?(this.hide(),this.#n=null):i.type==="show"&&(this.show(i.active),this.#n=i.active)}),this.#r=r,this.#r.addEvent(this.#t),this.#t.draggable=!0}}const V7=[q7,B7,qL,z7,VL];V7.key=q7.key;V7.pluginKey=VL.key;function Avt(t,e){return function(n,r){let{$from:i,$to:o,node:a}=n.selection;if(a&&a.isBlock||i.depth<2||!i.sameParent(o))return!1;let s=i.node(-1);if(s.type!=t)return!1;if(i.parent.content.size==0&&i.node(-1).childCount==i.indexAfter(-1)){if(i.depth==3||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(r){let f=rt.empty,d=i.index(-1)?1:i.index(-2)?2:3;for(let v=i.depth-d;v>=i.depth-3;v--)f=rt.from(i.node(v).copy(f));let h=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3;f=f.append(rt.from(t.createAndFill()));let p=i.before(i.depth-(d-1)),m=n.tr.replace(p,i.after(-h),new _t(f,4-d,0)),g=-1;m.doc.nodesBetween(p,m.doc.content.size,(v,y)=>{if(g>-1)return!1;v.isTextblock&&v.content.size==0&&(g=y+1)}),g>-1&&m.setSelection(sn.near(m.doc.resolve(g))),r(m.scrollIntoView())}return!0}let l=o.pos==i.end()?s.contentMatchAt(0).defaultType:null,u=n.tr.delete(i.pos,o.pos),c=l?[null,{type:l}]:void 0;return W2(u.doc,i.pos,2,c)?(r&&r(u.split(i.pos,2,c).scrollIntoView()),!0):!1}}function Tvt(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?Mvt(e,n,t,o):Dvt(e,n,o):!0:!1}}function Mvt(t,e,n,r){let i=t.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(i.step(new Ea(o-1,a,o,a,new _t(rt.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new wye(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const s=g7(r);if(s==null)return!1;i.lift(r,s);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return v7(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function Dvt(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,m=n.startIndex;p>m;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),a=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let s=n.startIndex==0,l=n.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(s?0:1),c+1,a.content.append(l?rt.empty:rt.from(i))))return!1;let f=o.pos,d=f+a.nodeSize;return r.step(new Ea(f-(s?1:0),d+(l?1:0),f+1,d-1,new _t((s?rt.empty:rt.from(i.copy(rt.empty))).append(l?rt.empty:rt.from(i.copy(rt.empty))),s?0:1,l?0:1),s?0:1)),e(r.scrollIntoView()),!0}function Nvt(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=t)return!1;if(n){let u=l.lastChild&&l.lastChild.type==s.type,c=rt.from(u?t.create():null),f=new _t(rt.from(t.create(null,rt.from(s.type.create(null,c)))),u?3:1,0),d=o.start,h=o.end;n(e.tr.step(new Ea(d-(u?3:1),h,d,h,f,1,!0)).scrollIntoView())}return!0}}function Ovt(t){const e=new Map;if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return yp(t,"definition",function(r){const i=MQ(r.identifier);i&&!e.get(i)&&e.set(i,r)}),n;function n(r){const i=MQ(r);return e.get(i)}}function MQ(t){return String(t||"").toUpperCase()}function Ivt(){return function(t){const e=Ovt(t);yp(t,function(n,r,i){if(n.type==="definition"&&i!==void 0&&typeof r=="number")return i.children.splice(r,1),[XN,r];if(n.type==="imageReference"||n.type==="linkReference"){const o=e(n.identifier);if(o&&i&&typeof r=="number")return i.children[r]=n.type==="imageReference"?{type:"image",url:o.url,title:o.title,alt:n.alt}:{type:"link",url:o.url,title:o.title,children:n.children},[XN,r]}})}}function X2e(t,e){if(!(e.childCount>=1&&e.lastChild?.type.name==="hardbreak")){t.next(e.content);return}const r=[];e.content.forEach((i,o,a)=>{a!==e.childCount-1&&r.push(i)}),t.next(rt.fromArray(r))}function Je(t,e){return Object.assign(t,{meta:{package:"@milkdown/preset-commonmark",...e}}),t}const HL=I4("emphasis");Je(HL,{displayName:"Attr<emphasis>",group:"Emphasis"});const D1=M1("emphasis",t=>({attrs:{marker:{default:t.get(Z2).emphasis||"*",validate:"string"}},parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>e==="italic"}],toDOM:e=>["em",t.get(HL.key)(e)],parseMarkdown:{match:e=>e.type==="emphasis",runner:(e,n,r)=>{e.openMark(r,{marker:n.marker}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="emphasis",runner:(e,n)=>{e.withMark(n,"emphasis",void 0,{marker:n.attrs.marker})}}}));Je(D1.mark,{displayName:"MarkSchema<emphasis>",group:"Emphasis"});Je(D1.ctx,{displayName:"MarkSchemaCtx<emphasis>",group:"Emphasis"});const H7=fn("ToggleEmphasis",t=>()=>M7(D1.type(t)));Je(H7,{displayName:"Command<toggleEmphasisCommand>",group:"Emphasis"});const Y2e=Ia(t=>E4(/(?:^|[^*])\*([^*]+)\*$/,D1.type(t),{getAttr:()=>({marker:"*"}),updateCaptured:({fullMatch:e,start:n})=>e.startsWith("*")?{}:{fullMatch:e.slice(1),start:n+1}}));Je(Y2e,{displayName:"InputRule<emphasis>|Star",group:"Emphasis"});const Z2e=Ia(t=>E4(/(?:^|[^_])_([^_]+)_$/,D1.type(t),{getAttr:()=>({marker:"_"}),updateCaptured:({fullMatch:e,start:n})=>e.startsWith("_")?{}:{fullMatch:e.slice(1),start:n+1}}));Je(Z2e,{displayName:"InputRule<emphasis>|Underscore",group:"Emphasis"});const UL=Qs("emphasisKeymap",{ToggleEmphasis:{shortcuts:"Mod-i",command:t=>{const e=t.get(It);return()=>e.call(H7.key)}}});Je(UL.ctx,{displayName:"KeymapCtx<emphasis>",group:"Emphasis"});Je(UL.shortcuts,{displayName:"Keymap<emphasis>",group:"Emphasis"});const jL=I4("strong");Je(jL,{displayName:"Attr<strong>",group:"Strong"});const Ry=M1("strong",t=>({attrs:{marker:{default:t.get(Z2).strong||"*",validate:"string"}},parseDOM:[{tag:"b",getAttrs:e=>e.style.fontWeight!="normal"&&null},{tag:"strong"},{style:"font-style",getAttrs:e=>e==="bold"},{style:"font-weight=400",clearMark:e=>e.type.name=="strong"},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:e=>["strong",t.get(jL.key)(e)],parseMarkdown:{match:e=>e.type==="strong",runner:(e,n,r)=>{e.openMark(r,{marker:n.marker}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="strong",runner:(e,n)=>{e.withMark(n,"strong",void 0,{marker:n.attrs.marker})}}}));Je(Ry.mark,{displayName:"MarkSchema<strong>",group:"Strong"});Je(Ry.ctx,{displayName:"MarkSchemaCtx<strong>",group:"Strong"});const U7=fn("ToggleStrong",t=>()=>M7(Ry.type(t)));Je(U7,{displayName:"Command<toggleStrongCommand>",group:"Strong"});const J2e=Ia(t=>E4(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,Ry.type(t),{getAttr:e=>({marker:e[0].startsWith("*")?"*":"_"})}));Je(J2e,{displayName:"InputRule<strong>",group:"Strong"});const WL=Qs("strongKeymap",{ToggleBold:{shortcuts:["Mod-b"],command:t=>{const e=t.get(It);return()=>e.call(U7.key)}}});Je(WL.ctx,{displayName:"KeymapCtx<strong>",group:"Strong"});Je(WL.shortcuts,{displayName:"Keymap<strong>",group:"Strong"});const GL=I4("inlineCode");Je(GL,{displayName:"Attr<inlineCode>",group:"InlineCode"});const Cd=M1("inlineCode",t=>({priority:100,code:!0,parseDOM:[{tag:"code"}],toDOM:e=>["code",t.get(GL.key)(e)],parseMarkdown:{match:e=>e.type==="inlineCode",runner:(e,n,r)=>{e.openMark(r),e.addText(n.value),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="inlineCode",runner:(e,n,r)=>{e.withMark(n,"inlineCode",r.text||"")}}}));Je(Cd.mark,{displayName:"MarkSchema<inlineCode>",group:"InlineCode"});Je(Cd.ctx,{displayName:"MarkSchemaCtx<inlineCode>",group:"InlineCode"});const j7=fn("ToggleInlineCode",t=>()=>(e,n)=>{const{selection:r,tr:i}=e;if(r.empty)return!1;const{from:o,to:a}=r;return e.doc.rangeHasMark(o,a,Cd.type(t))?(n?.(i.removeMark(o,a,Cd.type(t))),!0):(Object.keys(e.schema.marks).filter(u=>u!==Cd.type.name).map(u=>e.schema.marks[u]).forEach(u=>{i.removeMark(o,a,u)}),n?.(i.addMark(o,a,Cd.type(t).create())),!0)});Je(j7,{displayName:"Command<toggleInlineCodeCommand>",group:"InlineCode"});const Q2e=Ia(t=>E4(/(?:`)([^`]+)(?:`)$/,Cd.type(t)));Je(Q2e,{displayName:"InputRule<inlineCodeInputRule>",group:"InlineCode"});const KL=Qs("inlineCodeKeymap",{ToggleInlineCode:{shortcuts:"Mod-e",command:t=>{const e=t.get(It);return()=>e.call(j7.key)}}});Je(KL.ctx,{displayName:"KeymapCtx<inlineCode>",group:"InlineCode"});Je(KL.shortcuts,{displayName:"Keymap<inlineCode>",group:"InlineCode"});const XL=I4("link");Je(XL,{displayName:"Attr<link>",group:"Link"});const Ju=M1("link",t=>({attrs:{href:{validate:"string"},title:{default:null,validate:"string|null"}},parseDOM:[{tag:"a[href]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw mc(e);return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:e=>["a",{...t.get(XL.key)(e),...e.attrs}],parseMarkdown:{match:e=>e.type==="link",runner:(e,n,r)=>{const i=n.url,o=n.title;e.openMark(r,{href:i,title:o}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="link",runner:(e,n)=>{e.withMark(n,"link",void 0,{title:n.attrs.title,url:n.attrs.href})}}}));Je(Ju.mark,{displayName:"MarkSchema<link>",group:"Link"});const e3e=fn("ToggleLink",t=>(e={})=>M7(Ju.type(t),e));Je(e3e,{displayName:"Command<toggleLinkCommand>",group:"Link"});const t3e=fn("UpdateLink",t=>(e={})=>(n,r)=>{if(!r)return!1;let i,o=-1;const{selection:a}=n,{from:s,to:l}=a;if(n.doc.nodesBetween(s,s===l?l+1:l,(p,m)=>{if(Ju.type(t).isInSet(p.marks))return i=p,o=m,!1}),!i)return!1;const u=i.marks.find(({type:p})=>p===Ju.type(t));if(!u)return!1;const c=o,f=o+i.nodeSize,{tr:d}=n,h=Ju.type(t).create({...u.attrs,...e});return h?(r(d.removeMark(c,f,u).addMark(c,f,h).setSelection(new zt(d.selection.$anchor)).scrollIntoView()),!0):!1});Je(t3e,{displayName:"Command<updateLinkCommand>",group:"Link"});const n3e=LL("doc",()=>({content:"block+",parseMarkdown:{match:({type:t})=>t==="root",runner:(t,e,n)=>{t.injectRoot(e,n)}},toMarkdown:{match:t=>t.type.name==="doc",runner:(t,e)=>{t.openNode("root"),t.next(e.content)}}}));Je(n3e,{displayName:"NodeSchema<doc>",group:"Doc"});function Pvt(t){return gL(t,e=>e.type==="html"&&["<br />","<br>","<br >","<br/>"].includes(e.value?.trim()),(e,n)=>{if(!n.length)return;const r=n[n.length-1];if(!r)return;const i=r.children.indexOf(e);i!==-1&&r.children.splice(i,1)},!0)}const W7=Ef("remark-preserve-empty-line",()=>()=>Pvt);Je(W7.plugin,{displayName:"Remark<remarkPreserveEmptyLine>",group:"Remark"});Je(W7.options,{displayName:"RemarkConfig<remarkPreserveEmptyLine>",group:"Remark"});const YL=gc("paragraph");Je(YL,{displayName:"Attr<paragraph>",group:"Paragraph"});const Af=Wi("paragraph",t=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:e=>["p",t.get(YL.key)(e),0],parseMarkdown:{match:e=>e.type==="paragraph",runner:(e,n,r)=>{e.openNode(r),n.children?e.next(n.children):e.addText(n.value||""),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="paragraph",runner:(e,n)=>{const i=t.get(Xr).state?.doc.lastChild;e.openNode("paragraph"),(!n.content||n.content.size===0)&&n!==i&&Rvt(t)?e.addNode("html",void 0,"<br />"):X2e(e,n),e.closeNode()}}}));function Rvt(t){let e=!1;try{t.get(W7.id),e=!0}catch{e=!1}return e}Je(Af.node,{displayName:"NodeSchema<paragraph>",group:"Paragraph"});Je(Af.ctx,{displayName:"NodeSchemaCtx<paragraph>",group:"Paragraph"});const ZL=fn("TurnIntoText",t=>()=>bw(Af.type(t)));Je(ZL,{displayName:"Command<turnIntoTextCommand>",group:"Paragraph"});const JL=Qs("paragraphKeymap",{TurnIntoText:{shortcuts:"Mod-Alt-0",command:t=>{const e=t.get(It);return()=>e.call(ZL.key)}}});Je(JL.ctx,{displayName:"KeymapCtx<paragraph>",group:"Paragraph"});Je(JL.shortcuts,{displayName:"Keymap<paragraph>",group:"Paragraph"});const Fvt=Array(6).fill(0).map((t,e)=>e+1);function Lvt(t){return t.textContent.toLowerCase().trim().replace(/\s+/g,"-")}const G7=Fr(Lvt,"headingIdGenerator");Je(G7,{displayName:"Ctx<HeadingIdGenerator>",group:"Heading"});const QL=gc("heading");Je(QL,{displayName:"Attr<heading>",group:"Heading"});const gl=Wi("heading",t=>{const e=t.get(G7.key);return{content:"inline*",group:"block",defining:!0,attrs:{id:{default:"",validate:"string"},level:{default:1,validate:"number"}},parseDOM:Fvt.map(n=>({tag:`h${n}`,getAttrs:r=>{if(!(r instanceof HTMLElement))throw mc(r);return{level:n,id:r.id}}})),toDOM:n=>[`h${n.attrs.level}`,{...t.get(QL.key)(n),id:n.attrs.id||e(n)},0],parseMarkdown:{match:({type:n})=>n==="heading",runner:(n,r,i)=>{const o=r.depth;n.openNode(i,{level:o}),n.next(r.children),n.closeNode()}},toMarkdown:{match:n=>n.type.name==="heading",runner:(n,r)=>{n.openNode("heading",void 0,{depth:r.attrs.level}),X2e(n,r),n.closeNode()}}}});Je(gl.node,{displayName:"NodeSchema<heading>",group:"Heading"});Je(gl.ctx,{displayName:"NodeSchemaCtx<heading>",group:"Heading"});const r3e=Ia(t=>uL(/^(?<hashes>#+)\s$/,gl.type(t),e=>{const n=e.groups?.hashes?.length||0,r=t.get(Xr),{$from:i}=r.state.selection,o=i.node();if(o.type.name==="heading"){let a=Number(o.attrs.level)+Number(n);return a>6&&(a=6),{level:a}}return{level:n}}));Je(r3e,{displayName:"InputRule<wrapInHeadingInputRule>",group:"Heading"});const Zh=fn("WrapInHeading",t=>e=>(e??=1,e<1?bw(Af.type(t)):bw(gl.type(t),{level:e})));Je(Zh,{displayName:"Command<wrapInHeadingCommand>",group:"Heading"});const e$=fn("DowngradeHeading",t=>()=>(e,n,r)=>{const{$from:i}=e.selection,o=i.node();if(o.type!==gl.type(t)||!e.selection.empty||i.parentOffset!==0)return!1;const a=o.attrs.level-1;return a?(n?.(e.tr.setNodeMarkup(e.selection.$from.before(),void 0,{...o.attrs,level:a})),!0):bw(Af.type(t))(e,n,r)});Je(e$,{displayName:"Command<downgradeHeadingCommand>",group:"Heading"});const t$=Qs("headingKeymap",{TurnIntoH1:{shortcuts:"Mod-Alt-1",command:t=>{const e=t.get(It);return()=>e.call(Zh.key,1)}},TurnIntoH2:{shortcuts:"Mod-Alt-2",command:t=>{const e=t.get(It);return()=>e.call(Zh.key,2)}},TurnIntoH3:{shortcuts:"Mod-Alt-3",command:t=>{const e=t.get(It);return()=>e.call(Zh.key,3)}},TurnIntoH4:{shortcuts:"Mod-Alt-4",command:t=>{const e=t.get(It);return()=>e.call(Zh.key,4)}},TurnIntoH5:{shortcuts:"Mod-Alt-5",command:t=>{const e=t.get(It);return()=>e.call(Zh.key,5)}},TurnIntoH6:{shortcuts:"Mod-Alt-6",command:t=>{const e=t.get(It);return()=>e.call(Zh.key,6)}},DowngradeHeading:{shortcuts:["Delete","Backspace"],command:t=>{const e=t.get(It);return()=>e.call(e$.key)}}});Je(t$.ctx,{displayName:"KeymapCtx<heading>",group:"Heading"});Je(t$.shortcuts,{displayName:"Keymap<heading>",group:"Heading"});const n$=gc("blockquote");Je(n$,{displayName:"Attr<blockquote>",group:"Blockquote"});const Fy=Wi("blockquote",t=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:e=>["blockquote",t.get(n$.key)(e),0],parseMarkdown:{match:({type:e})=>e==="blockquote",runner:(e,n,r)=>{e.openNode(r).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="blockquote",runner:(e,n)=>{e.openNode("blockquote").next(n.content).closeNode()}}}));Je(Fy.node,{displayName:"NodeSchema<blockquote>",group:"Blockquote"});Je(Fy.ctx,{displayName:"NodeSchemaCtx<blockquote>",group:"Blockquote"});const i3e=Ia(t=>lL(/^\s*>\s$/,Fy.type(t)));Je(i3e,{displayName:"InputRule<wrapInBlockquoteInputRule>",group:"Blockquote"});const r$=fn("WrapInBlockquote",t=>()=>CL(Fy.type(t)));Je(r$,{displayName:"Command<wrapInBlockquoteCommand>",group:"Blockquote"});const i$=Qs("blockquoteKeymap",{WrapInBlockquote:{shortcuts:"Mod-Shift-b",command:t=>{const e=t.get(It);return()=>e.call(r$.key)}}});Je(i$.ctx,{displayName:"KeymapCtx<blockquote>",group:"Blockquote"});Je(i$.shortcuts,{displayName:"Keymap<blockquote>",group:"Blockquote"});const o$=gc("codeBlock",()=>({pre:{},code:{}}));Je(o$,{displayName:"Attr<codeBlock>",group:"CodeBlock"});const mf=Wi("code_block",t=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:"",validate:"string"}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>{if(!(e instanceof HTMLElement))throw mc(e);return{language:e.dataset.language}}}],toDOM:e=>{const n=t.get(o$.key)(e),r=e.attrs.language,i=r&&r.length>0?{"data-language":r}:void 0;return["pre",{...n.pre,...i},["code",n.code,0]]},parseMarkdown:{match:({type:e})=>e==="code",runner:(e,n,r)=>{const i=n.lang??"",o=n.value;e.openNode(r,{language:i}),o&&e.addText(o),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="code_block",runner:(e,n)=>{e.addNode("code",void 0,n.content.firstChild?.text||"",{lang:n.attrs.language})}}}));Je(mf.node,{displayName:"NodeSchema<codeBlock>",group:"CodeBlock"});Je(mf.ctx,{displayName:"NodeSchemaCtx<codeBlock>",group:"CodeBlock"});const o3e=Ia(t=>uL(/^```(?<language>[a-z]*)?[\s\n]$/,mf.type(t),e=>({language:e.groups?.language??""})));Je(o3e,{displayName:"InputRule<createCodeBlockInputRule>",group:"CodeBlock"});const a$=fn("CreateCodeBlock",t=>(e="")=>bw(mf.type(t),{language:e}));Je(a$,{displayName:"Command<createCodeBlockCommand>",group:"CodeBlock"});const $vt=fn("UpdateCodeBlockLanguage",()=>({pos:t,language:e}={pos:-1,language:""})=>(n,r)=>t>=0?(r?.(n.tr.setNodeAttribute(t,"language",e)),!0):!1);Je($vt,{displayName:"Command<updateCodeBlockLanguageCommand>",group:"CodeBlock"});const s$=Qs("codeBlockKeymap",{CreateCodeBlock:{shortcuts:"Mod-Alt-c",command:t=>{const e=t.get(It);return()=>e.call(a$.key)}}});Je(s$.ctx,{displayName:"KeymapCtx<codeBlock>",group:"CodeBlock"});Je(s$.shortcuts,{displayName:"Keymap<codeBlock>",group:"CodeBlock"});const l$=gc("image");Je(l$,{displayName:"Attr<image>",group:"Image"});const N1=Wi("image",t=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:"",validate:"string"},alt:{default:"",validate:"string"},title:{default:"",validate:"string"}},parseDOM:[{tag:"img[src]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw mc(e);return{src:e.getAttribute("src")||"",alt:e.getAttribute("alt")||"",title:e.getAttribute("title")||e.getAttribute("alt")||""}}}],toDOM:e=>["img",{...t.get(l$.key)(e),...e.attrs}],parseMarkdown:{match:({type:e})=>e==="image",runner:(e,n,r)=>{const i=n.url,o=n.alt,a=n.title;e.addNode(r,{src:i,alt:o,title:a})}},toMarkdown:{match:e=>e.type.name==="image",runner:(e,n)=>{e.addNode("image",void 0,void 0,{title:n.attrs.title,url:n.attrs.src,alt:n.attrs.alt})}}}));Je(N1.node,{displayName:"NodeSchema<image>",group:"Image"});Je(N1.ctx,{displayName:"NodeSchemaCtx<image>",group:"Image"});const a3e=fn("InsertImage",t=>(e={})=>(n,r)=>{if(!r)return!0;const{src:i="",alt:o="",title:a=""}=e,s=N1.type(t).create({src:i,alt:o,title:a});return s&&r(n.tr.replaceSelectionWith(s).scrollIntoView()),!0});Je(a3e,{displayName:"Command<insertImageCommand>",group:"Image"});const s3e=fn("UpdateImage",t=>(e={})=>(n,r)=>{const i=zdt(n.selection,N1.type(t));if(!i)return!1;const{node:o,pos:a}=i,s={...o.attrs},{src:l,alt:u,title:c}=e;return l!==void 0&&(s.src=l),u!==void 0&&(s.alt=u),c!==void 0&&(s.title=c),r?.(n.tr.setNodeMarkup(a,void 0,s).scrollIntoView()),!0});Je(s3e,{displayName:"Command<updateImageCommand>",group:"Image"});const Bvt=Ia(t=>new Ys(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,(e,n,r,i)=>{const[o,a,s="",l]=n;return o?e.tr.replaceWith(r,i,N1.type(t).create({src:s,alt:a,title:l})):null}));Je(Bvt,{displayName:"InputRule<insertImageInputRule>",group:"Image"});const s8=gc("hardbreak",t=>({"data-type":"hardbreak","data-is-inline":t.attrs.isInline}));Je(s8,{displayName:"Attr<hardbreak>",group:"Hardbreak"});const $m=Wi("hardbreak",t=>({inline:!0,group:"inline",attrs:{isInline:{default:!1,validate:"boolean"}},selectable:!1,parseDOM:[{tag:"br"},{tag:'span[data-type="hardbreak"]',getAttrs:()=>({isInline:!0})}],toDOM:e=>e.attrs.isInline?["span",t.get(s8.key)(e)," "]:["br",t.get(s8.key)(e)],parseMarkdown:{match:({type:e})=>e==="break",runner:(e,n,r)=>{e.addNode(r,{isInline:!!n.data?.isInline})}},leafText:()=>`
`,toMarkdown:{match:e=>e.type.name==="hardbreak",runner:(e,n)=>{n.attrs.isInline?e.addNode("text",void 0,`
`):e.addNode("break")}}}));Je($m.node,{displayName:"NodeSchema<hardbreak>",group:"Hardbreak"});Je($m.ctx,{displayName:"NodeSchemaCtx<hardbreak>",group:"Hardbreak"});const u$=fn("InsertHardbreak",t=>()=>(e,n)=>{const{selection:r,tr:i}=e;if(!(r instanceof zt))return!1;if(r.empty){const o=r.$from.node();if(o.childCount>0&&o.lastChild?.type.name==="hardbreak")return n?.(i.replaceRangeWith(r.to-1,r.to,e.schema.node("paragraph")).setSelection(sn.near(i.doc.resolve(r.to))).scrollIntoView()),!0}return n?.(i.setMeta("hardbreak",!0).replaceSelectionWith($m.type(t).create()).scrollIntoView()),!0});Je(u$,{displayName:"Command<insertHardbreakCommand>",group:"Hardbreak"});const c$=Qs("hardbreakKeymap",{InsertHardbreak:{shortcuts:"Shift-Enter",command:t=>{const e=t.get(It);return()=>e.call(u$.key)}}});Je(c$.ctx,{displayName:"KeymapCtx<hardbreak>",group:"Hardbreak"});Je(c$.shortcuts,{displayName:"Keymap<hardbreak>",group:"Hardbreak"});const f$=gc("hr");Je(f$,{displayName:"Attr<hr>",group:"Hr"});const Ly=Wi("hr",t=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",t.get(f$.key)(e)],parseMarkdown:{match:({type:e})=>e==="thematicBreak",runner:(e,n,r)=>{e.addNode(r)}},toMarkdown:{match:e=>e.type.name==="hr",runner:e=>{e.addNode("thematicBreak")}}}));Je(Ly.node,{displayName:"NodeSchema<hr>",group:"Hr"});Je(Ly.ctx,{displayName:"NodeSchemaCtx<hr>",group:"Hr"});const l3e=Ia(t=>new Ys(/^(?:---|___\s|\*\*\*\s)$/,(e,n,r,i)=>{const{tr:o}=e;return n[0]&&o.replaceWith(r-1,i,Ly.type(t).create()),o}));Je(l3e,{displayName:"InputRule<insertHrInputRule>",group:"Hr"});const u3e=fn("InsertHr",t=>()=>(e,n)=>{if(!n)return!0;const r=Af.node.type(t).create(),{tr:i,selection:o}=e,{from:a}=o,s=Ly.type(t).create();if(!s)return!0;const l=i.replaceSelectionWith(s).insert(a,r),u=sn.findFrom(l.doc.resolve(a),1,!0);return u&&n(l.setSelection(u).scrollIntoView()),!0});Je(u3e,{displayName:"Command<insertHrCommand>",group:"Hr"});const d$=gc("bulletList");Je(d$,{displayName:"Attr<bulletList>",group:"BulletList"});const O1=Wi("bullet_list",t=>({content:"listItem+",group:"block",attrs:{spread:{default:!1,validate:"boolean"}},parseDOM:[{tag:"ul",getAttrs:e=>{if(!(e instanceof HTMLElement))throw mc(e);return{spread:e.dataset.spread==="true"}}}],toDOM:e=>["ul",{...t.get(d$.key)(e),"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e,ordered:n})=>e==="list"&&!n,runner:(e,n,r)=>{const i=n.spread!=null?`${n.spread}`:"false";e.openNode(r,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="bullet_list",runner:(e,n)=>{e.openNode("list",void 0,{ordered:!1,spread:n.attrs.spread}).next(n.content).closeNode()}}}));Je(O1.node,{displayName:"NodeSchema<bulletList>",group:"BulletList"});Je(O1.ctx,{displayName:"NodeSchemaCtx<bulletList>",group:"BulletList"});const c3e=Ia(t=>lL(/^\s*([-+*])\s$/,O1.type(t)));Je(c3e,{displayName:"InputRule<wrapInBulletListInputRule>",group:"BulletList"});const h$=fn("WrapInBulletList",t=>()=>CL(O1.type(t)));Je(h$,{displayName:"Command<wrapInBulletListCommand>",group:"BulletList"});const p$=Qs("bulletListKeymap",{WrapInBulletList:{shortcuts:"Mod-Alt-8",command:t=>{const e=t.get(It);return()=>e.call(h$.key)}}});Je(p$.ctx,{displayName:"KeymapCtx<bulletListKeymap>",group:"BulletList"});Je(p$.shortcuts,{displayName:"Keymap<bulletListKeymap>",group:"BulletList"});const m$=gc("orderedList");Je(m$,{displayName:"Attr<orderedList>",group:"OrderedList"});const I1=Wi("ordered_list",t=>({content:"listItem+",group:"block",attrs:{order:{default:1,validate:"number"},spread:{default:!1,validate:"boolean"}},parseDOM:[{tag:"ol",getAttrs:e=>{if(!(e instanceof HTMLElement))throw mc(e);return{spread:e.dataset.spread,order:e.hasAttribute("start")?Number(e.getAttribute("start")):1}}}],toDOM:e=>["ol",{...t.get(m$.key)(e),...e.attrs.order===1?{}:e.attrs.order,"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e,ordered:n})=>e==="list"&&!!n,runner:(e,n,r)=>{const i=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="ordered_list",runner:(e,n)=>{e.openNode("list",void 0,{ordered:!0,start:1,spread:n.attrs.spread==="true"}),e.next(n.content),e.closeNode()}}}));Je(I1.node,{displayName:"NodeSchema<orderedList>",group:"OrderedList"});Je(I1.ctx,{displayName:"NodeSchemaCtx<orderedList>",group:"OrderedList"});const f3e=Ia(t=>lL(/^\s*(\d+)\.\s$/,I1.type(t),e=>({order:Number(e[1])}),(e,n)=>n.childCount+n.attrs.order===Number(e[1])));Je(f3e,{displayName:"InputRule<wrapInOrderedListInputRule>",group:"OrderedList"});const g$=fn("WrapInOrderedList",t=>()=>CL(I1.type(t)));Je(g$,{displayName:"Command<wrapInOrderedListCommand>",group:"OrderedList"});const v$=Qs("orderedListKeymap",{WrapInOrderedList:{shortcuts:"Mod-Alt-7",command:t=>{const e=t.get(It);return()=>e.call(g$.key)}}});Je(v$.ctx,{displayName:"KeymapCtx<orderedList>",group:"OrderedList"});Je(v$.shortcuts,{displayName:"Keymap<orderedList>",group:"OrderedList"});const y$=gc("listItem");Je(y$,{displayName:"Attr<listItem>",group:"ListItem"});const vc=Wi("list_item",t=>({group:"listItem",content:"paragraph block*",attrs:{label:{default:"",validate:"string"},listType:{default:"bullet",validate:"string"},spread:{default:!0,validate:"boolean"}},defining:!0,parseDOM:[{tag:"li",getAttrs:e=>{if(!(e instanceof HTMLElement))throw mc(e);return{label:e.dataset.label,listType:e.dataset.listType,spread:e.dataset.spread==="true"}}}],toDOM:e=>["li",{...t.get(y$.key)(e),"data-label":e.attrs.label,"data-list-type":e.attrs.listType,"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e})=>e==="listItem",runner:(e,n,r)=>{const i=n.label!=null?`${n.label}.`:"",o=n.label!=null?"ordered":"bullet",a=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{label:i,listType:o,spread:a}),e.next(n.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="list_item",runner:(e,n)=>{e.openNode("listItem",void 0,{spread:n.attrs.spread}),e.next(n.content),e.closeNode()}}}));Je(vc.node,{displayName:"NodeSchema<listItem>",group:"ListItem"});Je(vc.ctx,{displayName:"NodeSchemaCtx<listItem>",group:"ListItem"});const b$=fn("SinkListItem",t=>()=>Nvt(vc.type(t)));Je(b$,{displayName:"Command<sinkListItemCommand>",group:"ListItem"});const w$=fn("LiftListItem",t=>()=>Tvt(vc.type(t)));Je(w$,{displayName:"Command<liftListItemCommand>",group:"ListItem"});const x$=fn("SplitListItem",t=>()=>Avt(vc.type(t)));Je(x$,{displayName:"Command<splitListItemCommand>",group:"ListItem"});function zvt(t){return(e,n,r)=>{const{selection:i}=e;if(!(i instanceof zt))return!1;const{empty:o,$from:a}=i;return!o||a.parentOffset!==0||a.node(-1).type!==vc.type(t)?!1:Lbe(e,n,r)}}const S$=fn("LiftFirstListItem",t=>()=>zvt(t));Je(S$,{displayName:"Command<liftFirstListItemCommand>",group:"ListItem"});const _$=Qs("listItemKeymap",{NextListItem:{shortcuts:"Enter",command:t=>{const e=t.get(It);return()=>e.call(x$.key)}},SinkListItem:{shortcuts:["Tab","Mod-]"],command:t=>{const e=t.get(It);return()=>e.call(b$.key)}},LiftListItem:{shortcuts:["Shift-Tab","Mod-["],command:t=>{const e=t.get(It);return()=>e.call(w$.key)}},LiftFirstListItem:{shortcuts:["Backspace","Delete"],command:t=>{const e=t.get(It);return()=>e.call(S$.key)}}});Je(_$.ctx,{displayName:"KeymapCtx<listItem>",group:"ListItem"});Je(_$.shortcuts,{displayName:"Keymap<listItem>",group:"ListItem"});const d3e=LL("text",()=>({group:"inline",parseMarkdown:{match:({type:t})=>t==="text",runner:(t,e)=>{t.addText(e.value)}},toMarkdown:{match:t=>t.type.name==="text",runner:(t,e)=>{t.addNode("text",void 0,e.text)}}}));Je(d3e,{displayName:"NodeSchema<text>",group:"Text"});const C$=gc("html");Je(C$,{displayName:"Attr<html>",group:"Html"});const k$=Wi("html",t=>({atom:!0,group:"inline",inline:!0,attrs:{value:{default:"",validate:"string"}},toDOM:e=>{const n=document.createElement("span"),r={...t.get(C$.key)(e),"data-value":e.attrs.value,"data-type":"html"};return n.textContent=e.attrs.value,["span",r,e.attrs.value]},parseDOM:[{tag:'span[data-type="html"]',getAttrs:e=>({value:e.dataset.value??""})}],parseMarkdown:{match:({type:e})=>e==="html",runner:(e,n,r)=>{e.addNode(r,{value:n.value})}},toMarkdown:{match:e=>e.type.name==="html",runner:(e,n)=>{e.addNode("html",void 0,n.attrs.value)}}}));Je(k$.node,{displayName:"NodeSchema<html>",group:"Html"});Je(k$.ctx,{displayName:"NodeSchemaCtx<html>",group:"Html"});const qvt=[n3e,YL,Af,G7,QL,gl,s8,$m,n$,Fy,o$,mf,f$,Ly,l$,N1,d$,O1,m$,I1,y$,vc,HL,D1,jL,Ry,GL,Cd,XL,Ju,C$,k$,d3e].flat(),Vvt=[i3e,c3e,f3e,o3e,l3e,r3e].flat(),Hvt=[Y2e,Z2e,Q2e,J2e],wg=fn("IsMarkSelected",()=>t=>e=>{if(!t)return!1;const{doc:n,selection:r}=e;return n.rangeHasMark(r.from,r.to,t)}),h3e=fn("IsNoteSelected",()=>t=>e=>t?ebe(e,t).hasNode:!1),Lo=fn("ClearTextInCurrentBlock",()=>()=>(t,e)=>{let n=t.tr;const{$from:r,$to:i}=n.selection,{pos:o}=r,{pos:a}=i,s=o-r.node().content.size;return s<0?!1:(n=n.deleteRange(s,a),e?.(n),!0)}),nd=fn("SetBlockType",()=>t=>(e,n)=>{const{nodeType:r,attrs:i=null}=t??{};if(!r)return!1;const o=e.tr,{from:a,to:s}=o.selection;try{o.setBlockType(a,s,r,i)}catch{return!1}return n?.(o),!0}),n2=fn("WrapInBlockType",()=>t=>(e,n)=>{const{nodeType:r,attrs:i=null}=t??{};if(!r)return!1;let o=e.tr;try{const{$from:a,$to:s}=o.selection,l=a.blockRange(s),u=l&&aL(l,r,i);if(!u)return!1;o=o.wrap(l,u)}catch{return!1}return n?.(o),!0}),r2=fn("AddBlockType",()=>t=>(e,n)=>{const{nodeType:r,attrs:i=null}=t??{};if(!r)return!1;const o=e.tr;try{const a=r instanceof Id?r:r.createAndFill(i);if(!a)return!1;o.replaceSelectionWith(a)}catch{return!1}return n?.(o),!0}),p3e=fn("SelectTextNearPos",()=>t=>(e,n)=>{const{pos:r}=t??{};if(r==null)return!1;const i=(a,s,l)=>Math.min(Math.max(a,s),l),o=e.tr;try{const a=e.doc.resolve(i(r,0,e.doc.content.size));o.setSelection(zt.near(a))}catch{return!1}return n?.(o.scrollIntoView()),!0}),Uvt=[ZL,r$,Zh,e$,a$,u$,u3e,a3e,s3e,g$,h$,b$,x$,w$,S$,H7,j7,U7,e3e,t3e,wg,h3e,Lo,nd,n2,r2,p3e],jvt=[i$,s$,c$,t$,_$,v$,p$,JL,UL,KL,WL].flat(),E$=Ef("remarkAddOrderInList",()=>()=>t=>{yp(t,"list",e=>{if(e.ordered){const n=e.start??1;e.children.forEach((r,i)=>{r.label=i+n})}})});Je(E$.plugin,{displayName:"Remark<remarkAddOrderInListPlugin>",group:"Remark"});Je(E$.options,{displayName:"RemarkConfig<remarkAddOrderInListPlugin>",group:"Remark"});const A$=Ef("remarkLineBreak",()=>()=>t=>{const e=/[\t ]*(?:\r?\n|\r)/g;yp(t,"text",(n,r,i)=>{if(!n.value||typeof n.value!="string")return;const o=[];let a=0;e.lastIndex=0;let s=e.exec(n.value);for(;s;){const u=s.index;a!==u&&o.push({type:"text",value:n.value.slice(a,u)}),o.push({type:"break",data:{isInline:!0}}),a=u+s[0].length,s=e.exec(n.value)}if(o.length>0&&i&&typeof r=="number")return a<n.value.length&&o.push({type:"text",value:n.value.slice(a)}),i.children.splice(r,1,...o),r+o.length})});Je(A$.plugin,{displayName:"Remark<remarkLineBreak>",group:"Remark"});Je(A$.options,{displayName:"RemarkConfig<remarkLineBreak>",group:"Remark"});const T$=Ef("remarkInlineLink",()=>Ivt);Je(T$.plugin,{displayName:"Remark<remarkInlineLinkPlugin>",group:"Remark"});Je(T$.options,{displayName:"RemarkConfig<remarkInlineLinkPlugin>",group:"Remark"});const Wvt=t=>!!t.children,Gvt=t=>t.type==="html";function Kvt(t,e){return n(t,0,null)[0];function n(r,i,o){if(Wvt(r)){const a=[];for(let s=0,l=r.children.length;s<l;s++){const u=r.children[s];if(u){const c=n(u,s,r);if(c)for(let f=0,d=c.length;f<d;f++){const h=c[f];h&&a.push(h)}}}r.children=a}return e(r,i,o)}}const M$=Ef("remarkHTMLTransformer",()=>()=>t=>{Kvt(t,(e,n,r)=>Gvt(e)?(r?.type==="root"&&(e.children=[{...e}],delete e.value,e.type="paragraph"),[e]):[e])});Je(M$.plugin,{displayName:"Remark<remarkHtmlTransformer>",group:"Remark"});Je(M$.options,{displayName:"RemarkConfig<remarkHtmlTransformer>",group:"Remark"});const D$=Ef("remarkMarker",()=>()=>(t,e)=>{const n=r=>e.value.charAt(r.position.start.offset);yp(t,r=>["strong","emphasis"].includes(r.type),r=>{r.marker=n(r)})});Je(D$.plugin,{displayName:"Remark<remarkMarker>",group:"Remark"});Je(D$.options,{displayName:"RemarkConfig<remarkMarker>",group:"Remark"});const m3e=xo(()=>{let t=!1;const e=new Ai("MILKDOWN_INLINE_NODES_CURSOR"),n=new yi({key:e,state:{init(){return!1},apply(r){if(!r.selection.empty)return!1;const i=r.selection.$from,o=i.nodeBefore,a=i.nodeAfter;return!!(o&&a&&o.isInline&&!o.isText&&a.isInline&&!a.isText)}},props:{handleDOMEvents:{compositionend:(r,i)=>t?(t=!1,requestAnimationFrame(()=>{if(n.getState(r.state)){const a=r.state.selection.from;i.preventDefault(),r.dispatch(r.state.tr.insertText(i.data||"",a))}}),!0):!1,compositionstart:r=>(n.getState(r.state)&&(t=!0),!1),beforeinput:(r,i)=>{if(n.getState(r.state)&&i instanceof InputEvent&&i.data&&!t){const a=r.state.selection.from;return i.preventDefault(),r.dispatch(r.state.tr.insertText(i.data||"",a)),!0}return!1}},decorations(r){if(n.getState(r)){const a=r.selection.$from.pos,s=document.createElement("span"),l=no.widget(a,s,{side:-1}),u=document.createElement("span"),c=no.widget(a,u);return setTimeout(()=>{s.contentEditable="true",u.contentEditable="true"}),Br.create(r.doc,[l,c])}return Br.empty}}});return n});Je(m3e,{displayName:"Prose<inlineNodesCursorPlugin>",group:"Prose"});const g3e=xo(t=>new yi({key:new Ai("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(e,n,r)=>{if(!e.length)return;const[i]=e;if(!i)return;const[o]=i.steps;if(i.getMeta("hardbreak")){if(!(o instanceof Eo))return;const{from:l}=o;return r.tr.setNodeMarkup(l,$m.type(t),void 0,[])}if(o instanceof Sd){let l=r.tr;const{from:u,to:c}=o;return r.doc.nodesBetween(u,c,(f,d)=>{f.type===$m.type(t)&&(l=l.setNodeMarkup(d,$m.type(t),void 0,[]))}),l}}}));Je(g3e,{displayName:"Prose<hardbreakClearMarkPlugin>",group:"Prose"});const N$=Fr(["table","code_block"],"hardbreakFilterNodes");Je(N$,{displayName:"Ctx<hardbreakFilterNodes>",group:"Prose"});const v3e=xo(t=>{const e=t.get(N$.key);return new yi({key:new Ai("MILKDOWN_HARDBREAK_FILTER"),filterTransaction:(n,r)=>{const i=n.getMeta("hardbreak"),[o]=n.steps;if(i&&o){const{from:a}=o,s=r.doc.resolve(a);let l=s.depth,u=!0;for(;l>0;)e.includes(s.node(l).type.name)&&(u=!1),l--;return u}return!0}})});Je(v3e,{displayName:"Prose<hardbreakFilterPlugin>",group:"Prose"});const y3e=xo(t=>{const e=new Ai("MILKDOWN_HEADING_ID"),n=r=>{if(r.composing)return;const i=t.get(G7.key),o=r.state.tr.setMeta("addToHistory",!1);let a=!1;const s={};r.state.doc.descendants((l,u)=>{if(l.type===gl.type(t)){if(l.textContent.trim().length===0)return;const c=l.attrs;let f=i(l);s[f]?(s[f]+=1,f+=`-#${s[f]}`):s[f]=1,c.id!==f&&(a=!0,o.setMeta(e,!0).setNodeMarkup(u,void 0,{...c,id:f}))}}),a&&r.dispatch(o)};return new yi({key:e,view:r=>(n(r),{update:(i,o)=>{i.state.doc.eq(o.doc)||n(i)}})})});Je(y3e,{displayName:"Prose<syncHeadingIdPlugin>",group:"Prose"});const b3e=xo(t=>{const e=n=>{if(n.composing||!n.editable)return;const r=I1.type(t),i=O1.type(t),o=vc.type(t),a=n.state,s=(c,f)=>{let d=!1;const h=`${f+1}.`;return c.label!==h&&(c.label=h,d=!0),d};let l=a.tr,u=!1;a.doc.descendants((c,f,d,h)=>{if(c.type===i){const p=c.maybeChild(0);p?.type===o&&p.attrs.listType==="ordered"&&(u=!0,l.setNodeMarkup(f,r,{spread:"true"}),c.descendants((m,g,v,y)=>{if(m.type===o){const b={...m.attrs};s(b,y)&&(l=l.setNodeMarkup(g,void 0,b))}return!1}))}else if(c.type===o&&d?.type===r){const p={...c.attrs};let m=!1;p.listType!=="ordered"&&(p.listType="ordered",m=!0),d?.maybeChild(0)&&(m=s(p,h)),m&&(l=l.setNodeMarkup(f,void 0,p),u=!0)}}),u&&n.dispatch(l.setMeta("addToHistory",!1))};return new yi({key:new Ai("MILKDOWN_KEEP_LIST_ORDER"),view:n=>(e(n),{update:r=>{e(r)}})})});Je(b3e,{displayName:"Prose<syncListOrderPlugin>",group:"Prose"});const Xvt=[g3e,N$,v3e,m3e,E$,T$,A$,M$,D$,W7,y3e,b3e].flat(),Yvt=[qvt,Vvt,Hvt,Uvt,jvt,Xvt].flat();var uT,DQ;function Zvt(){if(DQ)return uT;DQ=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,l=typeof Go=="object"&&Go&&Go.Object===Object&&Go,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),f=Object.prototype,d=f.toString,h=Math.max,p=Math.min,m=function(){return c.Date.now()};function g(x,S,_){var k,C,E,M,A,N,T=0,I=!1,O=!1,q=!0;if(typeof x!="function")throw new TypeError(t);S=w(S)||0,v(_)&&(I=!!_.leading,O="maxWait"in _,E=O?h(w(_.maxWait)||0,S):E,q="trailing"in _?!!_.trailing:q);function L(Z){var te=k,J=C;return k=C=void 0,T=Z,M=x.apply(J,te),M}function Y(Z){return T=Z,A=setTimeout(z,S),I?L(Z):M}function R(Z){var te=Z-N,J=Z-T,fe=S-te;return O?p(fe,E-J):fe}function B(Z){var te=Z-N,J=Z-T;return N===void 0||te>=S||te<0||O&&J>=E}function z(){var Z=m();if(B(Z))return P(Z);A=setTimeout(z,R(Z))}function P(Z){return A=void 0,q&&k?L(Z):(k=C=void 0,M)}function $(){A!==void 0&&clearTimeout(A),T=0,k=N=C=A=void 0}function X(){return A===void 0?M:P(m())}function K(){var Z=m(),te=B(Z);if(k=arguments,C=this,N=Z,te){if(A===void 0)return Y(N);if(O)return A=setTimeout(z,S),L(N)}return A===void 0&&(A=setTimeout(z,S)),M}return K.cancel=$,K.flush=X,K}function v(x){var S=typeof x;return!!x&&(S=="object"||S=="function")}function y(x){return!!x&&typeof x=="object"}function b(x){return typeof x=="symbol"||y(x)&&d.call(x)==n}function w(x){if(typeof x=="number")return x;if(b(x))return e;if(v(x)){var S=typeof x.valueOf=="function"?x.valueOf():x;x=v(S)?S+"":S}if(typeof x!="string")return x===0?x:+x;x=x.replace(r,"");var _=o.test(x);return _||a.test(x)?s(x.slice(2),_?2:8):i.test(x)?e:+x}return uT=g,uT}var Jvt=Zvt();const O$=vf(Jvt);function Qvt(t){const e=Fr({},`${t}_SLASH_SPEC`),n=xo(i=>{const o=i.get(e.key);return new yi({key:new Ai(`${t}_SLASH`),...o})}),r=[e,n];return r.key=e.key,r.pluginKey=n.key,e.meta={package:"@milkdown/plugin-slash",displayName:`Ctx<slashSpec>|${t}`},n.meta={package:"@milkdown/plugin-slash",displayName:`Prose<slash>|${t}`},r}class eyt{constructor(e){this.#t=!1,this.onShow=()=>{},this.onHide=()=>{},this.#u=(n,r)=>{const{state:i,composing:o}=n,{selection:a,doc:s}=i,{ranges:l}=a,u=Math.min(...l.map(h=>h.$from.pos)),c=Math.max(...l.map(h=>h.$to.pos)),f=r&&r.doc.eq(s)&&r.selection.eq(a);if(this.#t||((this.#n??n.dom.parentElement??document.body).appendChild(this.element),this.#t=!0),o||f)return;if(!this.#o(n,r)){this.hide();return}ac({getBoundingClientRect:()=>_7(n,u,c)},this.element,{placement:"bottom-start",middleware:[a8(),H0(this.#s),...this.#e],...this.#r}).then(({x:h,y:p})=>{Object.assign(this.element.style,{left:`${h}px`,top:`${p}px`})}).catch(console.error),this.show()},this.update=(n,r)=>{this.#a(n,r)},this.getContent=(n,r=i=>i.type.name==="paragraph")=>{const{selection:i}=n.state,{empty:o,$from:a}=i,s=n.state.selection instanceof zt;if(typeof document>"u")return;const l=this.element.contains(document.activeElement),u=!n.hasFocus()&&!l,c=!n.editable,d=!Bdt(r)(n.state.selection);if(!(u||c||!o||!s||d))return a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,void 0,"")},this.destroy=()=>{this.#a.cancel()},this.show=()=>{this.element.dataset.show="true",this.onShow()},this.hide=()=>{this.element.dataset.show="false",this.onHide()},this.element=e.content,this.#l=e.debounce??200,this.#o=e.shouldShow??this.#c,this.#i=e.trigger??"/",this.#s=e.offset,this.#e=e.middleware??[],this.#r=e.floatingUIOptions??{},this.#n=e.root,this.#a=O$(this.#u,this.#l)}#t;#e;#r;#n;#l;#i;#o;#a;#s;#u;#c(e){const n=this.getContent(e);if(!n)return!1;const r=n.at(-1);return r?Array.isArray(this.#i)?this.#i.includes(r):this.#i===r:!1}}function w3e(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=w3e(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function na(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=w3e(t))&&(r&&(r+=" "),r+=e);return r}/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:x3e,setPrototypeOf:NQ,isFrozen:tyt,getPrototypeOf:nyt,getOwnPropertyDescriptor:ryt}=Object;let{freeze:cs,seal:bu,create:S3e}=Object,{apply:bO,construct:wO}=typeof Reflect<"u"&&Reflect;cs||(cs=function(e){return e});bu||(bu=function(e){return e});bO||(bO=function(e,n,r){return e.apply(n,r)});wO||(wO=function(e,n){return new e(...n)});const i6=fs(Array.prototype.forEach),iyt=fs(Array.prototype.lastIndexOf),OQ=fs(Array.prototype.pop),xb=fs(Array.prototype.push),oyt=fs(Array.prototype.splice),VS=fs(String.prototype.toLowerCase),cT=fs(String.prototype.toString),IQ=fs(String.prototype.match),Sb=fs(String.prototype.replace),ayt=fs(String.prototype.indexOf),syt=fs(String.prototype.trim),$u=fs(Object.prototype.hasOwnProperty),La=fs(RegExp.prototype.test),_b=lyt(TypeError);function fs(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return bO(t,e,r)}}function lyt(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return wO(t,n)}}function zn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:VS;NQ&&NQ(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(tyt(e)||(e[r]=o),i=o)}t[i]=!0}return t}function uyt(t){for(let e=0;e<t.length;e++)$u(t,e)||(t[e]=null);return t}function rd(t){const e=S3e(null);for(const[n,r]of x3e(t))$u(t,n)&&(Array.isArray(r)?e[n]=uyt(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=rd(r):e[n]=r);return e}function Cb(t,e){for(;t!==null;){const r=ryt(t,e);if(r){if(r.get)return fs(r.get);if(typeof r.value=="function")return fs(r.value)}t=nyt(t)}function n(){return null}return n}const PQ=cs(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),fT=cs(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),dT=cs(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),cyt=cs(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),hT=cs(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),fyt=cs(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),RQ=cs(["#text"]),FQ=cs(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),pT=cs(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),LQ=cs(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),o6=cs(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),dyt=bu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),hyt=bu(/<%[\w\W]*|[\w\W]*%>/gm),pyt=bu(/\$\{[\w\W]*/gm),myt=bu(/^data-[\-\w.\u00B7-\uFFFF]+$/),gyt=bu(/^aria-[\-\w]+$/),_3e=bu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vyt=bu(/^(?:\w+script|data):/i),yyt=bu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),C3e=bu(/^html$/i),byt=bu(/^[a-z][.\w]*(-[.\w]+)+$/i);var $Q=Object.freeze({__proto__:null,ARIA_ATTR:gyt,ATTR_WHITESPACE:yyt,CUSTOM_ELEMENT:byt,DATA_ATTR:myt,DOCTYPE_NAME:C3e,ERB_EXPR:hyt,IS_ALLOWED_URI:_3e,IS_SCRIPT_OR_DATA:vyt,MUSTACHE_EXPR:dyt,TMPLIT_EXPR:pyt});const kb={element:1,text:3,progressingInstruction:7,comment:8,document:9},wyt=function(){return typeof window>"u"?null:window},xyt=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},BQ=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function k3e(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wyt();const e=Rt=>k3e(Rt);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==kb.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:a,Node:s,Element:l,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:h}=t,p=l.prototype,m=Cb(p,"cloneNode"),g=Cb(p,"remove"),v=Cb(p,"nextSibling"),y=Cb(p,"childNodes"),b=Cb(p,"parentNode");if(typeof a=="function"){const Rt=n.createElement("template");Rt.content&&Rt.content.ownerDocument&&(n=Rt.content.ownerDocument)}let w,x="";const{implementation:S,createNodeIterator:_,createDocumentFragment:k,getElementsByTagName:C}=n,{importNode:E}=r;let M=BQ();e.isSupported=typeof x3e=="function"&&typeof b=="function"&&S&&S.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:A,ERB_EXPR:N,TMPLIT_EXPR:T,DATA_ATTR:I,ARIA_ATTR:O,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:Y}=$Q;let{IS_ALLOWED_URI:R}=$Q,B=null;const z=zn({},[...PQ,...fT,...dT,...hT,...RQ]);let P=null;const $=zn({},[...FQ,...pT,...LQ,...o6]);let X=Object.seal(S3e(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,Z=null,te=!0,J=!0,fe=!1,ue=!0,de=!1,ee=!0,D=!1,oe=!1,W=!1,V=!1,F=!1,j=!1,se=!0,pe=!1;const ae="user-content-";let H=!0,Q=!1,ie={},ce=null;const ve=zn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Te=null;const be=zn({},["audio","video","img","source","image","track"]);let _e=null;const ge=zn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ae="http://www.w3.org/1998/Math/MathML",Me="http://www.w3.org/2000/svg",Fe="http://www.w3.org/1999/xhtml";let Ue=Fe,G=!1,Se=null;const Ie=zn({},[Ae,Me,Fe],cT);let qe=zn({},["mi","mo","mn","ms","mtext"]),Ze=zn({},["annotation-xml"]);const ft=zn({},["title","style","font","a","script"]);let Ot=null;const lr=["application/xhtml+xml","text/html"],$l="text/html";let Nr=null,Bi=null;const Bl=n.createElement("form"),gs=function(Be){return Be instanceof RegExp||Be instanceof Function},wc=function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Bi&&Bi===Be)){if((!Be||typeof Be!="object")&&(Be={}),Be=rd(Be),Ot=lr.indexOf(Be.PARSER_MEDIA_TYPE)===-1?$l:Be.PARSER_MEDIA_TYPE,Nr=Ot==="application/xhtml+xml"?cT:VS,B=$u(Be,"ALLOWED_TAGS")?zn({},Be.ALLOWED_TAGS,Nr):z,P=$u(Be,"ALLOWED_ATTR")?zn({},Be.ALLOWED_ATTR,Nr):$,Se=$u(Be,"ALLOWED_NAMESPACES")?zn({},Be.ALLOWED_NAMESPACES,cT):Ie,_e=$u(Be,"ADD_URI_SAFE_ATTR")?zn(rd(ge),Be.ADD_URI_SAFE_ATTR,Nr):ge,Te=$u(Be,"ADD_DATA_URI_TAGS")?zn(rd(be),Be.ADD_DATA_URI_TAGS,Nr):be,ce=$u(Be,"FORBID_CONTENTS")?zn({},Be.FORBID_CONTENTS,Nr):ve,K=$u(Be,"FORBID_TAGS")?zn({},Be.FORBID_TAGS,Nr):rd({}),Z=$u(Be,"FORBID_ATTR")?zn({},Be.FORBID_ATTR,Nr):rd({}),ie=$u(Be,"USE_PROFILES")?Be.USE_PROFILES:!1,te=Be.ALLOW_ARIA_ATTR!==!1,J=Be.ALLOW_DATA_ATTR!==!1,fe=Be.ALLOW_UNKNOWN_PROTOCOLS||!1,ue=Be.ALLOW_SELF_CLOSE_IN_ATTR!==!1,de=Be.SAFE_FOR_TEMPLATES||!1,ee=Be.SAFE_FOR_XML!==!1,D=Be.WHOLE_DOCUMENT||!1,V=Be.RETURN_DOM||!1,F=Be.RETURN_DOM_FRAGMENT||!1,j=Be.RETURN_TRUSTED_TYPE||!1,W=Be.FORCE_BODY||!1,se=Be.SANITIZE_DOM!==!1,pe=Be.SANITIZE_NAMED_PROPS||!1,H=Be.KEEP_CONTENT!==!1,Q=Be.IN_PLACE||!1,R=Be.ALLOWED_URI_REGEXP||_3e,Ue=Be.NAMESPACE||Fe,qe=Be.MATHML_TEXT_INTEGRATION_POINTS||qe,Ze=Be.HTML_INTEGRATION_POINTS||Ze,X=Be.CUSTOM_ELEMENT_HANDLING||{},Be.CUSTOM_ELEMENT_HANDLING&&gs(Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&gs(Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&typeof Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),de&&(J=!1),F&&(V=!0),ie&&(B=zn({},RQ),P=[],ie.html===!0&&(zn(B,PQ),zn(P,FQ)),ie.svg===!0&&(zn(B,fT),zn(P,pT),zn(P,o6)),ie.svgFilters===!0&&(zn(B,dT),zn(P,pT),zn(P,o6)),ie.mathMl===!0&&(zn(B,hT),zn(P,LQ),zn(P,o6))),Be.ADD_TAGS&&(B===z&&(B=rd(B)),zn(B,Be.ADD_TAGS,Nr)),Be.ADD_ATTR&&(P===$&&(P=rd(P)),zn(P,Be.ADD_ATTR,Nr)),Be.ADD_URI_SAFE_ATTR&&zn(_e,Be.ADD_URI_SAFE_ATTR,Nr),Be.FORBID_CONTENTS&&(ce===ve&&(ce=rd(ce)),zn(ce,Be.FORBID_CONTENTS,Nr)),H&&(B["#text"]=!0),D&&zn(B,["html","head","body"]),B.table&&(zn(B,["tbody"]),delete K.tbody),Be.TRUSTED_TYPES_POLICY){if(typeof Be.TRUSTED_TYPES_POLICY.createHTML!="function")throw _b('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Be.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw _b('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=Be.TRUSTED_TYPES_POLICY,x=w.createHTML("")}else w===void 0&&(w=xyt(h,i)),w!==null&&typeof x=="string"&&(x=w.createHTML(""));cs&&cs(Be),Bi=Be}},Rf=zn({},[...fT,...dT,...cyt]),Ff=zn({},[...hT,...fyt]),yh=function(Be){let at=b(Be);(!at||!at.tagName)&&(at={namespaceURI:Ue,tagName:"template"});const Ne=VS(Be.tagName),st=VS(at.tagName);return Se[Be.namespaceURI]?Be.namespaceURI===Me?at.namespaceURI===Fe?Ne==="svg":at.namespaceURI===Ae?Ne==="svg"&&(st==="annotation-xml"||qe[st]):!!Rf[Ne]:Be.namespaceURI===Ae?at.namespaceURI===Fe?Ne==="math":at.namespaceURI===Me?Ne==="math"&&Ze[st]:!!Ff[Ne]:Be.namespaceURI===Fe?at.namespaceURI===Me&&!Ze[st]||at.namespaceURI===Ae&&!qe[st]?!1:!Ff[Ne]&&(ft[Ne]||!Rf[Ne]):!!(Ot==="application/xhtml+xml"&&Se[Be.namespaceURI]):!1},Po=function(Be){xb(e.removed,{element:Be});try{b(Be).removeChild(Be)}catch{g(Be)}},tl=function(Be,at){try{xb(e.removed,{attribute:at.getAttributeNode(Be),from:at})}catch{xb(e.removed,{attribute:null,from:at})}if(at.removeAttribute(Be),Be==="is")if(V||F)try{Po(at)}catch{}else try{at.setAttribute(Be,"")}catch{}},Lf=function(Be){let at=null,Ne=null;if(W)Be="<remove></remove>"+Be;else{const pt=IQ(Be,/^[\r\n\t ]+/);Ne=pt&&pt[0]}Ot==="application/xhtml+xml"&&Ue===Fe&&(Be='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Be+"</body></html>");const st=w?w.createHTML(Be):Be;if(Ue===Fe)try{at=new d().parseFromString(st,Ot)}catch{}if(!at||!at.documentElement){at=S.createDocument(Ue,"template",null);try{at.documentElement.innerHTML=G?x:st}catch{}}const dt=at.body||at.documentElement;return Be&&Ne&&dt.insertBefore(n.createTextNode(Ne),dt.childNodes[0]||null),Ue===Fe?C.call(at,D?"html":"body")[0]:D?at.documentElement:dt},$f=function(Be){return _.call(Be.ownerDocument||Be,Be,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},xc=function(Be){return Be instanceof f&&(typeof Be.nodeName!="string"||typeof Be.textContent!="string"||typeof Be.removeChild!="function"||!(Be.attributes instanceof c)||typeof Be.removeAttribute!="function"||typeof Be.setAttribute!="function"||typeof Be.namespaceURI!="string"||typeof Be.insertBefore!="function"||typeof Be.hasChildNodes!="function")},vs=function(Be){return typeof s=="function"&&Be instanceof s};function zi(Rt,Be,at){i6(Rt,Ne=>{Ne.call(e,Be,at,Bi)})}const Ra=function(Be){let at=null;if(zi(M.beforeSanitizeElements,Be,null),xc(Be))return Po(Be),!0;const Ne=Nr(Be.nodeName);if(zi(M.uponSanitizeElement,Be,{tagName:Ne,allowedTags:B}),ee&&Be.hasChildNodes()&&!vs(Be.firstElementChild)&&La(/<[/\w!]/g,Be.innerHTML)&&La(/<[/\w!]/g,Be.textContent)||Be.nodeType===kb.progressingInstruction||ee&&Be.nodeType===kb.comment&&La(/<[/\w]/g,Be.data))return Po(Be),!0;if(!B[Ne]||K[Ne]){if(!K[Ne]&&Mu(Ne)&&(X.tagNameCheck instanceof RegExp&&La(X.tagNameCheck,Ne)||X.tagNameCheck instanceof Function&&X.tagNameCheck(Ne)))return!1;if(H&&!ce[Ne]){const st=b(Be)||Be.parentNode,dt=y(Be)||Be.childNodes;if(dt&&st){const pt=dt.length;for(let qt=pt-1;qt>=0;--qt){const Cn=m(dt[qt],!0);Cn.__removalCount=(Be.__removalCount||0)+1,st.insertBefore(Cn,v(Be))}}}return Po(Be),!0}return Be instanceof l&&!yh(Be)||(Ne==="noscript"||Ne==="noembed"||Ne==="noframes")&&La(/<\/no(script|embed|frames)/i,Be.innerHTML)?(Po(Be),!0):(de&&Be.nodeType===kb.text&&(at=Be.textContent,i6([A,N,T],st=>{at=Sb(at,st," ")}),Be.textContent!==at&&(xb(e.removed,{element:Be.cloneNode()}),Be.textContent=at)),zi(M.afterSanitizeElements,Be,null),!1)},ys=function(Be,at,Ne){if(se&&(at==="id"||at==="name")&&(Ne in n||Ne in Bl))return!1;if(!(J&&!Z[at]&&La(I,at))){if(!(te&&La(O,at))){if(!P[at]||Z[at]){if(!(Mu(Be)&&(X.tagNameCheck instanceof RegExp&&La(X.tagNameCheck,Be)||X.tagNameCheck instanceof Function&&X.tagNameCheck(Be))&&(X.attributeNameCheck instanceof RegExp&&La(X.attributeNameCheck,at)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck(at))||at==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&La(X.tagNameCheck,Ne)||X.tagNameCheck instanceof Function&&X.tagNameCheck(Ne))))return!1}else if(!_e[at]){if(!La(R,Sb(Ne,L,""))){if(!((at==="src"||at==="xlink:href"||at==="href")&&Be!=="script"&&ayt(Ne,"data:")===0&&Te[Be])){if(!(fe&&!La(q,Sb(Ne,L,"")))){if(Ne)return!1}}}}}}return!0},Mu=function(Be){return Be!=="annotation-xml"&&IQ(Be,Y)},Bf=function(Be){zi(M.beforeSanitizeAttributes,Be,null);const{attributes:at}=Be;if(!at||xc(Be))return;const Ne={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P,forceKeepAttr:void 0};let st=at.length;for(;st--;){const dt=at[st],{name:pt,namespaceURI:qt,value:Cn}=dt,ur=Nr(pt),Jn=Cn;let ti=pt==="value"?Jn:syt(Jn);if(Ne.attrName=ur,Ne.attrValue=ti,Ne.keepAttr=!0,Ne.forceKeepAttr=void 0,zi(M.uponSanitizeAttribute,Be,Ne),ti=Ne.attrValue,pe&&(ur==="id"||ur==="name")&&(tl(pt,Be),ti=ae+ti),ee&&La(/((--!?|])>)|<\/(style|title)/i,ti)){tl(pt,Be);continue}if(Ne.forceKeepAttr)continue;if(!Ne.keepAttr){tl(pt,Be);continue}if(!ue&&La(/\/>/i,ti)){tl(pt,Be);continue}de&&i6([A,N,T],Ky=>{ti=Sb(ti,Ky," ")});const Gy=Nr(Be.nodeName);if(!ys(Gy,ur,ti)){tl(pt,Be);continue}if(w&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!qt)switch(h.getAttributeType(Gy,ur)){case"TrustedHTML":{ti=w.createHTML(ti);break}case"TrustedScriptURL":{ti=w.createScriptURL(ti);break}}if(ti!==Jn)try{qt?Be.setAttributeNS(qt,pt,ti):Be.setAttribute(pt,ti),xc(Be)?Po(Be):OQ(e.removed)}catch{tl(pt,Be)}}zi(M.afterSanitizeAttributes,Be,null)},zf=function Rt(Be){let at=null;const Ne=$f(Be);for(zi(M.beforeSanitizeShadowDOM,Be,null);at=Ne.nextNode();)zi(M.uponSanitizeShadowNode,at,null),Ra(at),Bf(at),at.content instanceof o&&Rt(at.content);zi(M.afterSanitizeShadowDOM,Be,null)};return e.sanitize=function(Rt){let Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},at=null,Ne=null,st=null,dt=null;if(G=!Rt,G&&(Rt="<!-->"),typeof Rt!="string"&&!vs(Rt))if(typeof Rt.toString=="function"){if(Rt=Rt.toString(),typeof Rt!="string")throw _b("dirty is not a string, aborting")}else throw _b("toString is not a function");if(!e.isSupported)return Rt;if(oe||wc(Be),e.removed=[],typeof Rt=="string"&&(Q=!1),Q){if(Rt.nodeName){const Cn=Nr(Rt.nodeName);if(!B[Cn]||K[Cn])throw _b("root node is forbidden and cannot be sanitized in-place")}}else if(Rt instanceof s)at=Lf("<!---->"),Ne=at.ownerDocument.importNode(Rt,!0),Ne.nodeType===kb.element&&Ne.nodeName==="BODY"||Ne.nodeName==="HTML"?at=Ne:at.appendChild(Ne);else{if(!V&&!de&&!D&&Rt.indexOf("<")===-1)return w&&j?w.createHTML(Rt):Rt;if(at=Lf(Rt),!at)return V?null:j?x:""}at&&W&&Po(at.firstChild);const pt=$f(Q?Rt:at);for(;st=pt.nextNode();)Ra(st),Bf(st),st.content instanceof o&&zf(st.content);if(Q)return Rt;if(V){if(F)for(dt=k.call(at.ownerDocument);at.firstChild;)dt.appendChild(at.firstChild);else dt=at;return(P.shadowroot||P.shadowrootmode)&&(dt=E.call(r,dt,!0)),dt}let qt=D?at.outerHTML:at.innerHTML;return D&&B["!doctype"]&&at.ownerDocument&&at.ownerDocument.doctype&&at.ownerDocument.doctype.name&&La(C3e,at.ownerDocument.doctype.name)&&(qt="<!DOCTYPE "+at.ownerDocument.doctype.name+`>
`+qt),de&&i6([A,N,T],Cn=>{qt=Sb(qt,Cn," ")}),w&&j?w.createHTML(qt):qt},e.setConfig=function(){let Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};wc(Rt),oe=!0},e.clearConfig=function(){Bi=null,oe=!1},e.isValidAttribute=function(Rt,Be,at){Bi||wc({});const Ne=Nr(Rt),st=Nr(Be);return ys(Ne,st,at)},e.addHook=function(Rt,Be){typeof Be=="function"&&xb(M[Rt],Be)},e.removeHook=function(Rt,Be){if(Be!==void 0){const at=iyt(M[Rt],Be);return at===-1?void 0:oyt(M[Rt],at,1)[0]}return OQ(M[Rt])},e.removeHooks=function(Rt){M[Rt]=[]},e.removeAllHooks=function(){M=BQ()},e}var yc=k3e();function Yv({icon:t,class:e,onClick:n}){return he("span",{class:na("milkdown-icon",e),onPointerdown:n,ref:r=>{r&&t&&(r.innerHTML=yc.sanitize(t.trim()))}})}Yv.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};var Syt=Object.defineProperty,zQ=Object.getOwnPropertySymbols,_yt=Object.prototype.hasOwnProperty,Cyt=Object.prototype.propertyIsEnumerable,qQ=(t,e,n)=>e in t?Syt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kyt=(t,e)=>{for(var n in e||(e={}))_yt.call(e,n)&&qQ(t,n,e[n]);if(zQ)for(var n of zQ(e))Cyt.call(e,n)&&qQ(t,n,e[n]);return t};function F4(t,e){return Object.assign(t,{meta:kyt({package:"@milkdown/components"},e)}),t}const Eyt={imageIcon:"",captionIcon:"",uploadButton:"Upload file",confirmButton:"Confirm ",uploadPlaceholderText:"or paste the image link ...",captionPlaceholderText:"Image caption",onUpload:t=>Promise.resolve(URL.createObjectURL(t))},K7=Fr(Eyt,"imageBlockConfigCtx");F4(K7,{displayName:"Config<image-block>",group:"ImageBlock"});function Ayt(t){return yp(t,"paragraph",(e,n,r)=>{var i,o;if(((i=e.children)==null?void 0:i.length)!==1)return;const a=(o=e.children)==null?void 0:o[0];if(!a||a.type!=="image")return;const{url:s,alt:l,title:u}=a,c={type:"image-block",url:s,alt:l,title:u};r.children.splice(n,1,c)})}const I$=Ef("remark-image-block",()=>()=>Ayt);F4(I$.plugin,{displayName:"Remark<remarkImageBlock>",group:"ImageBlock"});F4(I$.options,{displayName:"RemarkConfig<remarkImageBlock>",group:"ImageBlock"});var Tyt=Object.defineProperty,VQ=Object.getOwnPropertySymbols,Myt=Object.prototype.hasOwnProperty,Dyt=Object.prototype.propertyIsEnumerable,HQ=(t,e,n)=>e in t?Tyt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nyt=(t,e)=>{for(var n in e||(e={}))Myt.call(e,n)&&HQ(t,n,e[n]);if(VQ)for(var n of VQ(e))Dyt.call(e,n)&&HQ(t,n,e[n]);return t};const xO="image-block",X7=Wi("image-block",()=>({inline:!1,group:"block",selectable:!0,draggable:!0,isolating:!0,marks:"",atom:!0,priority:100,attrs:{src:{default:"",validate:"string"},caption:{default:"",validate:"string"},ratio:{default:1,validate:"number"}},parseDOM:[{tag:`img[data-type="${xO}"]`,getAttrs:t=>{var e;if(!(t instanceof HTMLElement))throw mc(t);return{src:t.getAttribute("src")||"",caption:t.getAttribute("caption")||"",ratio:Number((e=t.getAttribute("ratio"))!=null?e:1)}}}],toDOM:t=>["img",Nyt({"data-type":xO},t.attrs)],parseMarkdown:{match:({type:t})=>t==="image-block",runner:(t,e,n)=>{const r=e.url,i=e.title;let o=Number(e.alt||1);(Number.isNaN(o)||o===0)&&(o=1),t.addNode(n,{src:r,caption:i,ratio:o})}},toMarkdown:{match:t=>t.type.name==="image-block",runner:(t,e)=>{t.openNode("paragraph"),t.addNode("image",void 0,void 0,{title:e.attrs.caption,url:e.attrs.src,alt:`${Number.parseFloat(e.attrs.ratio).toFixed(2)}`}),t.closeNode()}}}));F4(X7.node,{displayName:"NodeSchema<image-block>",group:"ImageBlock"});function o3({icon:t,class:e,onClick:n}){return he("span",{class:na("milkdown-icon",e),onPointerdown:n,ref:r=>{r&&t&&(r.innerHTML=yc.sanitize(t.trim()))}})}o3.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const Oyt=LR("abcdefg",8),Iyt=nt({props:{src:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setLink:{type:Function,required:!0},imageIcon:{type:String,required:!1},uploadButton:{type:String,required:!1},confirmButton:{type:String,required:!1},uploadPlaceholderText:{type:String,required:!1},onUpload:{type:Function,required:!0}},setup({readonly:t,src:e,setLink:n,onUpload:r,imageIcon:i,uploadButton:o,confirmButton:a,uploadPlaceholderText:s,className:l}){var u,c;const f=we(!1),d=we(),h=we((u=e.value)!=null?u:""),p=we(Oyt()),m=we(((c=e.value)==null?void 0:c.length)!==0),g=w=>{const S=w.target.value;m.value=S.length!==0,h.value=S},v=w=>{var x,S;w.key==="Enter"&&n((S=(x=d.value)==null?void 0:x.value)!=null?S:"")},y=()=>{var w,x;n((x=(w=d.value)==null?void 0:w.value)!=null?x:"")},b=w=>{var x;const S=(x=w.target.files)==null?void 0:x[0];S&&r(S).then(_=>{_&&(n(_),m.value=!0)}).catch(_=>{console.error("An error occurred while uploading image"),console.error(_)})};return()=>he("div",{class:na("image-edit",l)},he(o3,{icon:i,class:"image-icon"}),he("div",{class:na("link-importer",f.value&&"focus")},he("input",{ref:d,draggable:"true",onDragstart:w=>{w.preventDefault(),w.stopPropagation()},disabled:t.value,class:"link-input-area",value:h.value,onInput:g,onKeydown:v,onFocus:()=>f.value=!0,onBlur:()=>f.value=!1}),!m.value&&he("div",{class:"placeholder"},he("input",{disabled:t.value,class:"hidden",id:p.value,type:"file",accept:"image/*",onChange:b}),he("label",{class:"uploader",for:p.value},he(o3,{icon:o})),he("span",{class:"text",onClick:()=>{var w;return(w=d.value)==null?void 0:w.focus()}},s))),h.value&&he("div",{class:"confirm",onClick:()=>y()},he(o3,{icon:a})))}}),Pyt=nt({props:{src:{type:Object,required:!0},caption:{type:Object,required:!0},ratio:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setAttr:{type:Function,required:!0},config:{type:Object,required:!0}},setup({src:t,caption:e,ratio:n,readonly:r,setAttr:i,config:o}){var a;const s=we(),l=we(),u=we(!!((a=e.value)!=null&&a.length)),c=we(0),f=()=>{var y;const b=s.value;if(!b)return;const w=b.closest(".milkdown-image-block");if(!w)return;const x=w.getBoundingClientRect().width;if(!x)return;const S=b.height,_=b.width,k=_<x?S:x*(S/_),C=(k*((y=n.value)!=null?y:1)).toFixed(2);b.dataset.origin=k.toFixed(2),b.dataset.height=C,b.style.height=`${C}px`},d=y=>{y.preventDefault(),y.stopPropagation(),!r.value&&(u.value=!u.value)},h=y=>{const w=y.target.value;c.value&&window.clearTimeout(c.value),c.value=window.setTimeout(()=>{i("caption",w)},1e3)},p=y=>{const w=y.target.value;c.value&&(window.clearTimeout(c.value),c.value=0),i("caption",w)},m=y=>{y.preventDefault();const b=s.value;if(!b)return;const w=b.getBoundingClientRect().top,x=y.clientY-w,S=Number(x<100?100:x).toFixed(2);b.dataset.height=S,b.style.height=`${S}px`},g=()=>{window.removeEventListener("pointermove",m),window.removeEventListener("pointerup",g);const y=s.value;if(!y)return;const b=Number(y.dataset.origin),w=Number(y.dataset.height),x=Number.parseFloat(Number(w/b).toFixed(2));Number.isNaN(x)||i("ratio",x)},v=y=>{r.value||(y.preventDefault(),y.stopPropagation(),window.addEventListener("pointermove",m),window.addEventListener("pointerup",g))};return()=>he(Tt,null,he("div",{class:"image-wrapper"},he("div",{class:"operation"},he("div",{class:"operation-item",onPointerdown:d},he(o3,{icon:o.captionIcon}))),he("img",{ref:s,"data-type":xO,onLoad:f,src:t.value,alt:e.value}),he("div",{ref:l,class:"image-resize-handle",onPointerdown:v})),u.value&&he("input",{draggable:"true",onDragstart:y=>{y.preventDefault(),y.stopPropagation()},class:"caption-input",placeholder:o?.captionPlaceholderText,onInput:h,onBlur:p,value:e.value}))}});var Ryt=Object.defineProperty,UQ=Object.getOwnPropertySymbols,Fyt=Object.prototype.hasOwnProperty,Lyt=Object.prototype.propertyIsEnumerable,jQ=(t,e,n)=>e in t?Ryt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$yt=(t,e)=>{for(var n in e||(e={}))Fyt.call(e,n)&&jQ(t,n,e[n]);if(UQ)for(var n of UQ(e))Lyt.call(e,n)&&jQ(t,n,e[n]);return t};const Byt=nt({props:{src:{type:Object,required:!0},caption:{type:Object,required:!0},ratio:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setAttr:{type:Function,required:!0},config:{type:Object,required:!0}},setup(t){const{src:e}=t;return()=>{var n;return(n=e.value)!=null&&n.length?he(Pyt,$yt({},t)):he(Iyt,{src:t.src,selected:t.selected,readonly:t.readonly,setLink:r=>t.setAttr("src",r),imageIcon:t.config.imageIcon,uploadButton:t.config.uploadButton,confirmButton:t.config.confirmButton,uploadPlaceholderText:t.config.uploadPlaceholderText,onUpload:t.config.onUpload})}}}),E3e=O4(X7.node,t=>(e,n,r)=>{const i=we(e.attrs.src),o=we(e.attrs.caption),a=we(e.attrs.ratio),s=we(!1),l=we(!n.editable),u=(g,v)=>{if(!n.editable)return;const y=r();y!=null&&n.dispatch(n.state.tr.setNodeAttribute(y,g,g==="src"?yc.sanitize(v):v))},c=t.get(K7.key),f=Aa(Byt,{src:i,caption:o,ratio:a,selected:s,readonly:l,setAttr:u,config:c}),d=document.createElement("div");d.className="milkdown-image-block",f.mount(d);const h=J0(()=>{s.value?d.classList.add("selected"):d.classList.remove("selected")}),p=c.proxyDomURL,m=g=>{if(!p)i.value=g.attrs.src;else{const v=p(g.attrs.src);typeof v=="string"?i.value=v:v.then(y=>{i.value=y}).catch(console.error)}a.value=g.attrs.ratio,o.value=g.attrs.caption,l.value=!n.editable};return m(e),{dom:d,update:g=>g.type!==e.type?!1:(m(g),!0),stopEvent:g=>g.target instanceof HTMLInputElement,selectNode:()=>{s.value=!0},deselectNode:()=>{s.value=!1},destroy:()=>{h(),f.unmount(),d.remove()}}});F4(E3e,{displayName:"NodeView<image-block>",group:"ImageBlock"});const zyt=[I$,X7,E3e,K7].flat();var SO,_O;if(typeof WeakMap<"u"){let t=new WeakMap;SO=e=>t.get(e),_O=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;SO=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},_O=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var Sr=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let o=r+1,a=i+1;for(let s=1;o<this.width&&this.map[e+s]==n;s++)o++;for(let s=1;a<this.height&&this.map[e+this.width*s]==n;s++)a++;return{left:r,top:i,right:o,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:o,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:a==this.height)?null:this.map[r+this.width*(n<0?o-1:a)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:o}=this.findCell(t),{left:a,right:s,top:l,bottom:u}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(i,l),right:Math.max(r,s),bottom:Math.max(o,u)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const o=r*this.width+i,a=this.map[o];n[a]||(n[a]=!0,!(i==t.left&&i&&this.map[o-1]==a||r==t.top&&r&&this.map[o-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const s=(t+1)*this.width;for(;a<s&&this.map[a]<i;)a++;return a==s?o-1:this.map[a]}i=o}}static get(t){return SO(t)||_O(t,qyt(t))}};function qyt(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=Vyt(t),n=t.childCount,r=[];let i=0,o=null;const a=[];for(let u=0,c=e*n;u<c;u++)r[u]=0;for(let u=0,c=0;u<n;u++){const f=t.child(u);c++;for(let p=0;;p++){for(;i<r.length&&r[i]!=0;)i++;if(p==f.childCount)break;const m=f.child(p),{colspan:g,rowspan:v,colwidth:y}=m.attrs;for(let b=0;b<v;b++){if(b+u>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:c,n:v-b});break}const w=i+b*e;for(let x=0;x<g;x++){r[w+x]==0?r[w+x]=c:(o||(o=[])).push({type:"collision",row:u,pos:c,n:g-x});const S=y&&y[x];if(S){const _=(w+x)%e*2,k=a[_];k==null||k!=S&&a[_+1]==1?(a[_]=S,a[_+1]=1):k==S&&a[_+1]++}}}i+=g,c+=m.nodeSize}const d=(u+1)*e;let h=0;for(;i<d;)r[i++]==0&&h++;h&&(o||(o=[])).push({type:"missing",row:u,n:h}),c++}(e===0||n===0)&&(o||(o=[])).push({type:"zero_sized"});const s=new Sr(e,n,r,o);let l=!1;for(let u=0;!l&&u<a.length;u+=2)a[u]!=null&&a[u+1]<n&&(l=!0);return l&&Hyt(s,a,t),s}function Vyt(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let o=0;if(n)for(let a=0;a<r;a++){const s=t.child(a);for(let l=0;l<s.childCount;l++){const u=s.child(l);a+u.attrs.rowspan>r&&(o+=u.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const s=i.child(a);o+=s.attrs.colspan,s.attrs.rowspan>1&&(n=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function Hyt(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const o=t.map[i];if(r[o])continue;r[o]=!0;const a=n.nodeAt(o);if(!a)throw new RangeError(`No cell with offset ${o} found`);let s=null;const l=a.attrs;for(let u=0;u<l.colspan;u++){const c=(i+u)%t.width,f=e[c*2];f!=null&&(!l.colwidth||l.colwidth[u]!=f)&&((s||(s=Uyt(l)))[u]=f)}s&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}function Uyt(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function WQ(t,e){if(typeof t=="string")return{};const n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(a=>Number(a)):null,i=Number(t.getAttribute("colspan")||1),o={colspan:i,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(const a in e){const s=e[a].getFromDOM,l=s&&s(t);l!=null&&(o[a]=l)}return o}function GQ(t,e){const n={};t.attrs.colspan!=1&&(n.colspan=t.attrs.colspan),t.attrs.rowspan!=1&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(","));for(const r in e){const i=e[r].setDOMAttr;i&&i(t.attrs[r],n)}return n}function jyt(t){if(t!==null){if(!Array.isArray(t))throw new TypeError("colwidth must be null or an array");for(const e of t)if(typeof e!="number")throw new TypeError("colwidth must be null or an array of numbers")}}function Wyt(t){const e=t.cellAttributes||{},n={colspan:{default:1,validate:"number"},rowspan:{default:1,validate:"number"},colwidth:{default:null,validate:jyt}};for(const r in e)n[r]={default:e[r].default,validate:e[r].validate};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:r=>WQ(r,e)}],toDOM(r){return["td",GQ(r,e),0]}},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:r=>WQ(r,e)}],toDOM(r){return["th",GQ(r,e),0]}}}}function wu(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var r0=new Ai("selectingCells");function L4(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function Au(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function Y7(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=L4(e.$head)||Gyt(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function Gyt(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function CO(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function Kyt(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function P$(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function A3e(t,e,n){const r=t.node(-1),i=Sr.get(r),o=t.start(-1),a=i.nextCell(t.pos-o,e,n);return a==null?null:t.node(0).resolve(o+a)}function c1(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function Xyt(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function Yyt(t,e,n){const r=wu(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var jr=class id extends sn{constructor(e,n=e){const r=e.node(-1),i=Sr.get(r),o=e.start(-1),a=i.rectBetween(e.pos-o,n.pos-o),s=e.node(0),l=i.cellsInRect(a).filter(c=>c!=n.pos-o);l.unshift(n.pos-o);const u=l.map(c=>{const f=r.nodeAt(c);if(!f)throw RangeError(`No cell with offset ${c} found`);const d=o+c+1;return new jye(s.resolve(d),s.resolve(d+f.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(CO(r)&&CO(i)&&P$(r,i)){const o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?id.rowSelection(r,i):o&&this.isColSelection()?id.colSelection(r,i):new id(r,i)}return zt.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=Sr.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},a=[];for(let l=i.top;l<i.bottom;l++){const u=[];for(let c=l*n.width+i.left,f=i.left;f<i.right;f++,c++){const d=n.map[c];if(o[d])continue;o[d]=!0;const h=n.findCell(d);let p=e.nodeAt(d);if(!p)throw RangeError(`No cell with offset ${d} found`);const m=i.left-h.left,g=h.right-i.right;if(m>0||g>0){let v=p.attrs;if(m>0&&(v=c1(v,0,m)),g>0&&(v=c1(v,v.colspan-g,g)),h.left<i.left){if(p=p.type.createAndFill(v),!p)throw RangeError(`Could not create cell with attrs ${JSON.stringify(v)}`)}else p=p.type.create(v,p.content)}if(h.top<i.top||h.bottom>i.bottom){const v={...p.attrs,rowspan:Math.min(h.bottom,i.bottom)-Math.max(h.top,i.top)};h.top<i.top?p=p.type.createAndFill(v):p=p.type.create(v,p.content)}u.push(p)}a.push(e.child(l).copy(rt.from(u)))}const s=this.isColSelection()&&this.isRowSelection()?e:a;return new _t(rt.from(s),1,1)}replace(e,n=_t.empty){const r=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:s,$to:l}=i[a],u=e.mapping.slice(r);e.replace(u.map(s.pos),u.map(l.pos),a?_t.empty:n)}const o=sn.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,n){this.replace(e,new _t(rt.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Sr.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<o.length;a++)e(n.nodeAt(o[a]),i+o[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=Sr.get(r),o=e.start(-1),a=i.findCell(e.pos-o),s=i.findCell(n.pos-o),l=e.node(0);return a.top<=s.top?(a.top>0&&(e=l.resolve(o+i.map[a.left])),s.bottom<i.height&&(n=l.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(o+i.map[s.left])),a.bottom<i.height&&(e=l.resolve(o+i.map[i.width*(i.height-1)+a.right-1]))),new id(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Sr.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),o=n.colCount(this.$headCell.pos-r);if(Math.min(i,o)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,s=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,s)==n.width}eq(e){return e instanceof id&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=Sr.get(r),o=e.start(-1),a=i.findCell(e.pos-o),s=i.findCell(n.pos-o),l=e.node(0);return a.left<=s.left?(a.left>0&&(e=l.resolve(o+i.map[a.top*i.width])),s.right<i.width&&(n=l.resolve(o+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(o+i.map[s.top*i.width])),a.right<i.width&&(e=l.resolve(o+i.map[i.width*(a.top+1)-1]))),new id(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new id(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new id(e.resolve(n),e.resolve(r))}getBookmark(){return new Zyt(this.$anchorCell.pos,this.$headCell.pos)}};jr.prototype.visible=!1;sn.jsonID("cell",jr);var Zyt=class T3e{constructor(e,n){this.anchor=e,this.head=n}map(e){return new T3e(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&P$(n,r)?new jr(n,r):sn.near(r,1)}};function Jyt(t){if(!(t.selection instanceof jr))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(no.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Br.create(t.doc,e)}function Qyt({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let o=e.depth;o>=0&&!(e.before(o+1)>e.start(o));o--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function ebt({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&e.parentOffset===0}function tbt(t,e,n){const r=(e||t).selection,i=(e||t).doc;let o,a;if(r instanceof Zt&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")o=jr.create(i,r.from);else if(a=="row"){const s=i.resolve(r.from+1);o=jr.rowSelection(s,s)}else if(!n){const s=Sr.get(r.node),l=r.from+1,u=l+s.map[s.width*s.height-1];o=jr.create(i,l+1,u)}}else r instanceof zt&&Qyt(r)?o=zt.create(i,r.from):r instanceof zt&&ebt(r)&&(o=zt.create(i,r.$from.start(),r.$from.end()));return o&&(e||(e=t.tr)).setSelection(o),e}var nbt=new Ai("fix-tables");function M3e(t,e,n,r){const i=t.childCount,o=e.childCount;e:for(let a=0,s=0;a<o;a++){const l=e.child(a);for(let u=s,c=Math.min(i,a+3);u<c;u++)if(t.child(u)==l){s=u+1,n+=l.nodeSize;continue e}r(l,n),s<i&&t.child(s).sameMarkup(l)?M3e(t.child(s),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function rbt(t,e){let n;const r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=ibt(t,i,o,n))};return e?e.doc!=t.doc&&M3e(e.doc,t.doc,0,r):t.doc.descendants(r),n}function ibt(t,e,n,r){const i=Sr.get(e);if(!i.problems)return r;r||(r=t.tr);const o=[];for(let l=0;l<i.height;l++)o.push(0);for(let l=0;l<i.problems.length;l++){const u=i.problems[l];if(u.type=="collision"){const c=e.nodeAt(u.pos);if(!c)continue;const f=c.attrs;for(let d=0;d<f.rowspan;d++)o[u.row+d]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,c1(f,f.colspan-u.n,u.n))}else if(u.type=="missing")o[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const c=e.nodeAt(u.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...c.attrs,rowspan:c.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const c=e.nodeAt(u.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...c.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const c=r.mapping.map(n);r.delete(c,c+e.nodeSize)}}let a,s;for(let l=0;l<o.length;l++)o[l]&&(a==null&&(a=l),s=l);for(let l=0,u=n+1;l<i.height;l++){const c=e.child(l),f=u+c.nodeSize,d=o[l];if(d>0){let h="cell";c.firstChild&&(h=c.firstChild.type.spec.tableRole);const p=[];for(let g=0;g<d;g++){const v=wu(t.schema)[h].createAndFill();v&&p.push(v)}const m=(l==0||a==l-1)&&s==l?u+1:f-1;r.insert(r.mapping.map(m),p)}u=f}return r.setMeta(nbt,{fixTables:!0})}function xp(t){const e=t.selection,n=Y7(t),r=n.node(-1),i=n.start(-1),o=Sr.get(r);return{...e instanceof jr?o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function D3e(t,{map:e,tableStart:n,table:r},i){let o=i>0?-1:0;Yyt(e,r,i+o)&&(o=i==0||i==e.width?null:0);for(let a=0;a<e.height;a++){const s=a*e.width+i;if(i>0&&i<e.width&&e.map[s-1]==e.map[s]){const l=e.map[s],u=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,Xyt(u.attrs,i-e.colCount(l))),a+=u.attrs.rowspan-1}else{const l=o==null?wu(r.type.schema).cell:r.nodeAt(e.map[s+o]).type,u=e.positionAt(a,i,r);t.insert(t.mapping.map(n+u),l.createAndFill())}}return t}function obt(t,e){if(!Au(t))return!1;if(e){const n=xp(t);e(D3e(t.tr,n,n.left))}return!0}function abt(t,e){if(!Au(t))return!1;if(e){const n=xp(t);e(D3e(t.tr,n,n.right))}return!0}function sbt(t,{map:e,table:n,tableStart:r},i){const o=t.mapping.maps.length;for(let a=0;a<e.height;){const s=a*e.width+i,l=e.map[s],u=n.nodeAt(l),c=u.attrs;if(i>0&&e.map[s-1]==l||i<e.width-1&&e.map[s+1]==l)t.setNodeMarkup(t.mapping.slice(o).map(r+l),null,c1(c,i-e.colCount(l)));else{const f=t.mapping.slice(o).map(r+l);t.delete(f,f+u.nodeSize)}a+=c.rowspan}}function lbt(t,e){if(!Au(t))return!1;if(e){const n=xp(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;sbt(r,n,i),i!=n.left;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=Sr.get(o)}e(r)}return!0}function ubt(t,{map:e,table:n,tableStart:r},i){let o=0;for(let u=0;u<i;u++)o+=n.child(u).nodeSize;const a=o+n.child(i).nodeSize,s=t.mapping.maps.length;t.delete(o+r,a+r);const l=new Set;for(let u=0,c=i*e.width;u<e.width;u++,c++){const f=e.map[c];if(!l.has(f)){if(l.add(f),i>0&&f==e.map[c-e.width]){const d=n.nodeAt(f).attrs;t.setNodeMarkup(t.mapping.slice(s).map(f+r),null,{...d,rowspan:d.rowspan-1}),u+=d.colspan-1}else if(i<e.height&&f==e.map[c+e.width]){const d=n.nodeAt(f),h=d.attrs,p=d.type.create({...h,rowspan:d.attrs.rowspan-1},d.content),m=e.positionAt(i+1,u,n);t.insert(t.mapping.slice(s).map(r+m),p),u+=h.colspan-1}}}}function cbt(t,e){if(!Au(t))return!1;if(e){const n=xp(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;ubt(r,n,i),i!=n.top;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=Sr.get(n.table)}e(r)}return!0}function fbt(t,e){return function(n,r){if(!Au(n))return!1;const i=Y7(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const o=n.tr;n.selection instanceof jr?n.selection.forEachCell((a,s)=>{a.attrs[t]!==e&&o.setNodeMarkup(s,null,{...a.attrs,[t]:e})}):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(o)}return!0}}function dbt(t){return function(e,n){if(!Au(e))return!1;if(n){const r=wu(e.schema),i=xp(e),o=e.tr,a=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),s=a.map(l=>i.table.nodeAt(l));for(let l=0;l<a.length;l++)s[l].type==r.header_cell&&o.setNodeMarkup(i.tableStart+a[l],r.cell,s[l].attrs);if(o.steps.length==0)for(let l=0;l<a.length;l++)o.setNodeMarkup(i.tableStart+a[l],r.header_cell,s[l].attrs);n(o)}return!0}}function KQ(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const o=e.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function R$(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?dbt(t):function(n,r){if(!Au(n))return!1;if(r){const i=wu(n.schema),o=xp(n),a=n.tr,s=KQ("row",o,i),l=KQ("column",o,i),c=(t==="column"?s:t==="row"?l:!1)?1:0,f=t=="column"?{left:0,top:c,right:1,bottom:o.map.height}:t=="row"?{left:c,top:0,right:o.map.width,bottom:1}:o,d=t=="column"?l?i.cell:i.header_cell:t=="row"?s?i.cell:i.header_cell:i.cell;o.map.cellsInRect(f).forEach(h=>{const p=h+o.tableStart,m=a.doc.nodeAt(p);m&&a.setNodeMarkup(p,d,m.attrs)}),r(a)}return!0}}R$("row",{useDeprecatedLogic:!0});R$("column",{useDeprecatedLogic:!0});R$("cell",{useDeprecatedLogic:!0});function hbt(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const o=t.node(-1).child(r),a=o.lastChild;if(a)return i-1-a.nodeSize;i-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function N3e(t){return function(e,n){if(!Au(e))return!1;const r=hbt(Y7(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(zt.between(i,Kyt(i))).scrollIntoView())}return!0}}function pbt(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function a6(t,e){const n=t.selection;if(!(n instanceof jr))return!1;if(e){const r=t.tr,i=wu(t.schema).cell.createAndFill().content;n.forEachCell((o,a)=>{o.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+o.nodeSize-1),new _t(i,0,0))}),r.docChanged&&e(r)}return!0}function mbt(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),o=i.type.spec.tableRole,a=i.type.schema,s=[];if(o=="row")for(let l=0;l<e.childCount;l++){let u=e.child(l).content;const c=l?0:Math.max(0,n-1),f=l<e.childCount-1?0:Math.max(0,r-1);(c||f)&&(u=kO(wu(a).row,new _t(u,c,f)).content),s.push(u)}else if(o=="cell"||o=="header_cell")s.push(n||r?kO(wu(a).row,new _t(e,n,r)).content:e);else return null;return gbt(a,s)}function gbt(t,e){const n=[];for(let i=0;i<e.length;i++){const o=e[i];for(let a=o.childCount-1;a>=0;a--){const{rowspan:s,colspan:l}=o.child(a).attrs;for(let u=i;u<i+s;u++)n[u]=(n[u]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(rt.empty),n[i]<r){const o=wu(t).cell.createAndFill(),a=[];for(let s=n[i];s<r;s++)a.push(o);e[i]=e[i].append(rt.from(a))}return{height:e.length,width:r,rows:e}}function kO(t,e){const n=t.createAndFill();return new Uye(n).replace(0,n.content.size,e).doc}function vbt({width:t,height:e,rows:n},r,i){if(t!=r){const o=[],a=[];for(let s=0;s<n.length;s++){const l=n[s],u=[];for(let c=o[s]||0,f=0;c<r;f++){let d=l.child(f%l.childCount);c+d.attrs.colspan>r&&(d=d.type.createChecked(c1(d.attrs,d.attrs.colspan,c+d.attrs.colspan-r),d.content)),u.push(d),c+=d.attrs.colspan;for(let h=1;h<d.attrs.rowspan;h++)o[s+h]=(o[s+h]||0)+d.attrs.colspan}a.push(rt.from(u))}n=a,t=r}if(e!=i){const o=[];for(let a=0,s=0;a<i;a++,s++){const l=[],u=n[s%e];for(let c=0;c<u.childCount;c++){let f=u.child(c);a+f.attrs.rowspan>i&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,i-f.attrs.rowspan)},f.content)),l.push(f)}o.push(rt.from(l))}n=o,e=i}return{width:t,height:e,rows:n}}function ybt(t,e,n,r,i,o,a){const s=t.doc.type.schema,l=wu(s);let u,c;if(i>e.width)for(let f=0,d=0;f<e.height;f++){const h=n.child(f);d+=h.nodeSize;const p=[];let m;h.lastChild==null||h.lastChild.type==l.cell?m=u||(u=l.cell.createAndFill()):m=c||(c=l.header_cell.createAndFill());for(let g=e.width;g<i;g++)p.push(m);t.insert(t.mapping.slice(a).map(d-1+r),p)}if(o>e.height){const f=[];for(let p=0,m=(e.height-1)*e.width;p<Math.max(e.width,i);p++){const g=p>=e.width?!1:n.nodeAt(e.map[m+p]).type==l.header_cell;f.push(g?c||(c=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}const d=l.row.create(null,rt.from(f)),h=[];for(let p=e.height;p<o;p++)h.push(d);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),h)}return!!(u||c)}function XQ(t,e,n,r,i,o,a,s){if(a==0||a==e.height)return!1;let l=!1;for(let u=i;u<o;u++){const c=a*e.width+u,f=e.map[c];if(e.map[c-e.width]==f){l=!0;const d=n.nodeAt(f),{top:h,left:p}=e.findCell(f);t.setNodeMarkup(t.mapping.slice(s).map(f+r),null,{...d.attrs,rowspan:a-h}),t.insert(t.mapping.slice(s).map(e.positionAt(a,p,n)),d.type.createAndFill({...d.attrs,rowspan:h+d.attrs.rowspan-a})),u+=d.attrs.colspan-1}}return l}function YQ(t,e,n,r,i,o,a,s){if(a==0||a==e.width)return!1;let l=!1;for(let u=i;u<o;u++){const c=u*e.width+a,f=e.map[c];if(e.map[c-1]==f){l=!0;const d=n.nodeAt(f),h=e.colCount(f),p=t.mapping.slice(s).map(f+r);t.setNodeMarkup(p,null,c1(d.attrs,a-h,d.attrs.colspan-(a-h))),t.insert(p+d.nodeSize,d.type.createAndFill(c1(d.attrs,0,a-h))),u+=d.attrs.rowspan-1}}return l}function ZQ(t,e,n,r,i){let o=n?t.doc.nodeAt(n-1):t.doc;if(!o)throw new Error("No table found");let a=Sr.get(o);const{top:s,left:l}=r,u=l+i.width,c=s+i.height,f=t.tr;let d=0;function h(){if(o=n?f.doc.nodeAt(n-1):f.doc,!o)throw new Error("No table found");a=Sr.get(o),d=f.mapping.maps.length}ybt(f,a,o,n,u,c,d)&&h(),XQ(f,a,o,n,l,u,s,d)&&h(),XQ(f,a,o,n,l,u,c,d)&&h(),YQ(f,a,o,n,s,c,l,d)&&h(),YQ(f,a,o,n,s,c,u,d)&&h();for(let p=s;p<c;p++){const m=a.positionAt(p,l,o),g=a.positionAt(p,u,o);f.replace(f.mapping.slice(d).map(m+n),f.mapping.slice(d).map(g+n),new _t(i.rows[p-s],0,0))}h(),f.setSelection(new jr(f.doc.resolve(n+a.positionAt(s,l,o)),f.doc.resolve(n+a.positionAt(c-1,u-1,o)))),e(f)}var bbt=kL({ArrowLeft:s6("horiz",-1),ArrowRight:s6("horiz",1),ArrowUp:s6("vert",-1),ArrowDown:s6("vert",1),"Shift-ArrowLeft":l6("horiz",-1),"Shift-ArrowRight":l6("horiz",1),"Shift-ArrowUp":l6("vert",-1),"Shift-ArrowDown":l6("vert",1),Backspace:a6,"Mod-Backspace":a6,Delete:a6,"Mod-Delete":a6});function HS(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function s6(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof jr)return HS(n,r,sn.near(o.$headCell,e));if(t!="horiz"&&!o.empty)return!1;const a=O3e(i,t,e);if(a==null)return!1;if(t=="horiz")return HS(n,r,sn.near(n.doc.resolve(o.head+e),e));{const s=n.doc.resolve(a),l=A3e(s,t,e);let u;return l?u=sn.near(l,1):e<0?u=sn.near(n.doc.resolve(s.before(-1)),-1):u=sn.near(n.doc.resolve(s.after(-1)),1),HS(n,r,u)}}}function l6(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let a;if(o instanceof jr)a=o;else{const l=O3e(i,t,e);if(l==null)return!1;a=new jr(n.doc.resolve(l))}const s=A3e(a.$headCell,t,e);return s?HS(n,r,new jr(a.$anchorCell,s)):!1}}function wbt(t,e){const n=t.state.doc,r=L4(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new jr(r))),!0):!1}function xbt(t,e,n){if(!Au(t.state))return!1;let r=mbt(n);const i=t.state.selection;if(i instanceof jr){r||(r={width:1,height:1,rows:[rt.from(kO(wu(t.state.schema).cell,n))]});const o=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),s=Sr.get(o).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=vbt(r,s.right-s.left,s.bottom-s.top),ZQ(t.state,t.dispatch,a,s,r),!0}else if(r){const o=Y7(t.state),a=o.start(-1);return ZQ(t.state,t.dispatch,a,Sr.get(o.node(-1)).findCell(o.pos-a),r),!0}else return!1}function Sbt(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=JQ(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof jr)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=L4(t.state.selection.$anchor))!=null&&((n=mT(t,e))==null?void 0:n.pos)!=i.pos)o(i,e),e.preventDefault();else if(!r)return;function o(l,u){let c=mT(t,u);const f=r0.getState(t.state)==null;if(!c||!P$(l,c))if(f)c=l;else return;const d=new jr(l,c);if(f||!t.state.selection.eq(d)){const h=t.state.tr.setSelection(d);f&&h.setMeta(r0,l.pos),t.dispatch(h)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",s),r0.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(r0,-1))}function s(l){const u=l,c=r0.getState(t.state);let f;if(c!=null)f=t.state.doc.resolve(c);else if(JQ(t,u.target)!=r&&(f=mT(t,e),!f))return a();f&&o(f,u)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",s)}function O3e(t,e,n){if(!(t.state.selection instanceof zt))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const s=r.before(i),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?s:null}}return null}function JQ(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function mT(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?L4(t.state.doc.resolve(n.pos)):null}var _bt=class{constructor(t,e){this.node=t,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),EO(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,EO(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function EO(t,e,n,r,i,o){var a;let s=0,l=!0,u=e.firstChild;const c=t.firstChild;if(c){for(let f=0,d=0;f<c.childCount;f++){const{colspan:h,colwidth:p}=c.child(f).attrs;for(let m=0;m<h;m++,d++){const g=i==d?o:p&&p[m],v=g?g+"px":"";if(s+=g||r,g||(l=!1),u)u.style.width!=v&&(u.style.width=v),u=u.nextSibling;else{const y=document.createElement("col");y.style.width=v,e.appendChild(y)}}}for(;u;){const f=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=f}l?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}var yl=new Ai("tableColumnResizing");function Cbt({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=_bt,lastColumnResizable:i=!0}={}){const o=new yi({key:yl,state:{init(a,s){var l,u;const c=(u=(l=o.spec)==null?void 0:l.props)==null?void 0:u.nodeViews,f=wu(s.schema).table.name;return r&&c&&(c[f]=(d,h)=>new r(d,n,h)),new kbt(-1,!1)},apply(a,s){return s.apply(a)}},props:{attributes:a=>{const s=yl.getState(a);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,s)=>{Ebt(a,s,t,i)},mouseleave:a=>{Abt(a)},mousedown:(a,s)=>{Tbt(a,s,e,n)}},decorations:a=>{const s=yl.getState(a);if(s&&s.activeHandle>-1)return Ibt(a,s.activeHandle)},nodeViews:{}}});return o}var kbt=class US{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(yl);if(r&&r.setHandle!=null)return new US(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new US(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return CO(e.doc.resolve(i))||(i=-1),new US(i,n.dragging)}return n}};function Ebt(t,e,n,r){if(!t.editable)return;const i=yl.getState(t.state);if(i&&!i.dragging){const o=Dbt(e.target);let a=-1;if(o){const{left:s,right:l}=o.getBoundingClientRect();e.clientX-s<=n?a=QQ(t,e,"left",n):l-e.clientX<=n&&(a=QQ(t,e,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const s=t.state.doc.resolve(a),l=s.node(-1),u=Sr.get(l),c=s.start(-1);if(u.colCount(s.pos-c)+s.nodeAfter.attrs.colspan-1==u.width-1)return}I3e(t,a)}}}function Abt(t){if(!t.editable)return;const e=yl.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&I3e(t,-1)}function Tbt(t,e,n,r){var i;if(!t.editable)return!1;const o=(i=t.dom.ownerDocument.defaultView)!=null?i:window,a=yl.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const s=t.state.doc.nodeAt(a.activeHandle),l=Mbt(t,a.activeHandle,s.attrs);t.dispatch(t.state.tr.setMeta(yl,{setDragging:{startX:e.clientX,startWidth:l}}));function u(f){o.removeEventListener("mouseup",u),o.removeEventListener("mousemove",c);const d=yl.getState(t.state);d?.dragging&&(Nbt(t,d.activeHandle,eee(d.dragging,f,n)),t.dispatch(t.state.tr.setMeta(yl,{setDragging:null})))}function c(f){if(!f.which)return u(f);const d=yl.getState(t.state);if(d&&d.dragging){const h=eee(d.dragging,f,n);tee(t,d.activeHandle,h,r)}}return tee(t,a.activeHandle,l,r),o.addEventListener("mouseup",u),o.addEventListener("mousemove",c),e.preventDefault(),!0}function Mbt(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=t.domAtPos(e);let s=o.node.childNodes[o.offset].offsetWidth,l=n;if(r)for(let u=0;u<n;u++)r[u]&&(s-=r[u],l--);return s/l}function Dbt(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function QQ(t,e,n,r){const i=n=="right"?-r:r,o=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!o)return-1;const{pos:a}=o,s=L4(t.state.doc.resolve(a));if(!s)return-1;if(n=="right")return s.pos;const l=Sr.get(s.node(-1)),u=s.start(-1),c=l.map.indexOf(s.pos-u);return c%l.width==0?-1:u+l.map[c-1]}function eee(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function I3e(t,e){t.dispatch(t.state.tr.setMeta(yl,{setHandle:e}))}function Nbt(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),o=Sr.get(i),a=r.start(-1),s=o.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let u=0;u<o.height;u++){const c=u*o.width+s;if(u&&o.map[c]==o.map[c-o.width])continue;const f=o.map[c],d=i.nodeAt(f).attrs,h=d.colspan==1?0:s-o.colCount(f);if(d.colwidth&&d.colwidth[h]==n)continue;const p=d.colwidth?d.colwidth.slice():Obt(d.colspan);p[h]=n,l.setNodeMarkup(a+f,null,{...d,colwidth:p})}l.docChanged&&t.dispatch(l)}function tee(t,e,n,r){const i=t.state.doc.resolve(e),o=i.node(-1),a=i.start(-1),s=Sr.get(o).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let l=t.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&EO(o,l.firstChild,l,r,s,n)}function Obt(t){return Array(t).fill(0)}function Ibt(t,e){var n;const r=[],i=t.doc.resolve(e),o=i.node(-1);if(!o)return Br.empty;const a=Sr.get(o),s=i.start(-1),l=a.colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;for(let u=0;u<a.height;u++){const c=l+u*a.width;if((l==a.width-1||a.map[c]!=a.map[c+1])&&(u==0||a.map[c]!=a.map[c-a.width])){const f=a.map[c],d=s+f+o.nodeAt(f).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",(n=yl.getState(t))!=null&&n.dragging&&r.push(no.node(s+f,s+f+o.nodeAt(f).nodeSize,{class:"column-resize-dragging"})),r.push(no.widget(d,h))}}return Br.create(t.doc,r)}function Pbt({allowTableNodeSelection:t=!1}={}){return new yi({key:r0,state:{init(){return null},apply(e,n){const r=e.getMeta(r0);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:o}=e.mapping.mapResult(n);return i?null:o}},props:{decorations:Jyt,handleDOMEvents:{mousedown:Sbt},createSelectionBetween(e){return r0.getState(e.state)!=null?e.state.selection:null},handleTripleClick:wbt,handleKeyDown:bbt,handlePaste:xbt},appendTransaction(e,n,r){return tbt(r,rbt(r,n),t)}})}var l8=typeof navigator<"u"?navigator:null,F$=l8&&l8.userAgent||"",Rbt=/Edge\/(\d+)/.exec(F$),Fbt=/MSIE \d/.exec(F$),Lbt=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(F$),$bt=!!(Fbt||Lbt||Rbt),Bbt=!$bt&&!!l8&&/Apple Computer/.test(l8.vendor),P3e=new Ai("safari-ime-span"),AO=!1,zbt={key:P3e,props:{decorations:qbt,handleDOMEvents:{compositionstart:()=>{AO=!0},compositionend:()=>{AO=!1}}}};function qbt(t){const{$from:e,$to:n,to:r}=t.selection;if(AO&&e.sameParent(n)){const i=no.widget(r,Vbt,{ignoreSelection:!0,key:"safari-ime-span"});return Br.create(t.doc,[i])}}function Vbt(t){const e=t.dom.ownerDocument.createElement("span");return e.className="ProseMirror-safari-ime-span",e}var Hbt=new yi(Bbt?zbt:{key:P3e});function nee(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function Ubt(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function jbt(t,e,n){const i=A7((n||{}).ignore||[]),o=Wbt(e);let a=-1;for(;++a<o.length;)gL(t,"text",s);function s(u,c){let f=-1,d;for(;++f<c.length;){const h=c[f],p=d?d.children:void 0;if(i(h,p?p.indexOf(h):void 0,d))return;d=h}if(d)return l(u,c)}function l(u,c){const f=c[c.length-1],d=o[a][0],h=o[a][1];let p=0;const g=f.children.indexOf(u);let v=!1,y=[];d.lastIndex=0;let b=d.exec(u.value);for(;b;){const w=b.index,x={index:b.index,input:b.input,stack:[...c,u]};let S=h(...b,x);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?d.lastIndex=w+1:(p!==w&&y.push({type:"text",value:u.value.slice(p,w)}),Array.isArray(S)?y.push(...S):S&&y.push(S),p=w+b[0].length,v=!0),!d.global)break;b=d.exec(u.value)}return v?(p<u.value.length&&y.push({type:"text",value:u.value.slice(p)}),f.children.splice(g,1,...y)):y=[u],g+y.length}}function Wbt(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([Gbt(i[0]),Kbt(i[1])])}return e}function Gbt(t){return typeof t=="string"?new RegExp(Ubt(t),"g"):t}function Kbt(t){return typeof t=="function"?t:function(){return t}}const gT="phrasing",vT=["autolink","link","image","label"];function Xbt(){return{transforms:[n2t],enter:{literalAutolink:Zbt,literalAutolinkEmail:yT,literalAutolinkHttp:yT,literalAutolinkWww:yT},exit:{literalAutolink:t2t,literalAutolinkEmail:e2t,literalAutolinkHttp:Jbt,literalAutolinkWww:Qbt}}}function Ybt(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:gT,notInConstruct:vT},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:gT,notInConstruct:vT},{character:":",before:"[ps]",after:"\\/",inConstruct:gT,notInConstruct:vT}]}}function Zbt(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function yT(t){this.config.enter.autolinkProtocol.call(this,t)}function Jbt(t){this.config.exit.autolinkProtocol.call(this,t)}function Qbt(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function e2t(t){this.config.exit.autolinkEmail.call(this,t)}function t2t(t){this.exit(t)}function n2t(t){jbt(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,r2t],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),i2t]],{ignore:["link","linkReference"]})}function r2t(t,e,n,r,i){let o="";if(!R3e(i)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!o2t(n)))return!1;const a=a2t(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:o+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function i2t(t,e,n,r){return!R3e(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function o2t(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function a2t(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=nee(t,"(");let o=nee(t,")");for(;r!==-1&&i>o;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[t,n]}function R3e(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||a1(n)||k7(n))&&(!e||n!==47)}F3e.peek=m2t;function s2t(){this.buffer()}function l2t(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function u2t(){this.buffer()}function c2t(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function f2t(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Zu(this.sliceSerialize(t)).toLowerCase(),n.label=e}function d2t(t){this.exit(t)}function h2t(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Zu(this.sliceSerialize(t)).toLowerCase(),n.label=e}function p2t(t){this.exit(t)}function m2t(){return"["}function F3e(t,e,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move(n.safe(n.associationId(t),{after:"]",before:o})),s(),a(),o+=i.move("]"),o}function g2t(){return{enter:{gfmFootnoteCallString:s2t,gfmFootnoteCall:l2t,gfmFootnoteDefinitionLabelString:u2t,gfmFootnoteDefinition:c2t},exit:{gfmFootnoteCallString:f2t,gfmFootnoteCall:d2t,gfmFootnoteDefinitionLabelString:h2t,gfmFootnoteDefinition:p2t}}}function v2t(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:F3e},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,a){const s=o.createTracker(a);let l=s.move("[^");const u=o.enter("footnoteDefinition"),c=o.enter("label");return l+=s.move(o.safe(o.associationId(r),{before:l,after:"]"})),c(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((e?`
`:" ")+o.indentLines(o.containerFlow(r,s.current()),e?L3e:y2t))),u(),l}}function y2t(t,e,n){return e===0?t:L3e(t,e,n)}function L3e(t,e,n){return(n?"":"    ")+t}const b2t=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];$3e.peek=C2t;function w2t(){return{canContainEols:["delete"],enter:{strikethrough:S2t},exit:{strikethrough:_2t}}}function x2t(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:b2t}],handlers:{delete:$3e}}}function S2t(t){this.enter({type:"delete",children:[]},t)}function _2t(t){this.exit(t)}function $3e(t,e,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function C2t(){return"~"}function k2t(t){return t.length}function E2t(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||k2t,o=[],a=[],s=[],l=[];let u=0,c=-1;for(;++c<t.length;){const m=[],g=[];let v=-1;for(t[c].length>u&&(u=t[c].length);++v<t[c].length;){const y=A2t(t[c][v]);if(n.alignDelimiters!==!1){const b=i(y);g[v]=b,(l[v]===void 0||b>l[v])&&(l[v]=b)}m.push(y)}a[c]=m,s[c]=g}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)o[f]=ree(r[f]);else{const m=ree(r);for(;++f<u;)o[f]=m}f=-1;const d=[],h=[];for(;++f<u;){const m=o[f];let g="",v="";m===99?(g=":",v=":"):m===108?g=":":m===114&&(v=":");let y=n.alignDelimiters===!1?1:Math.max(1,l[f]-g.length-v.length);const b=g+"-".repeat(y)+v;n.alignDelimiters!==!1&&(y=g.length+y+v.length,y>l[f]&&(l[f]=y),h[f]=y),d[f]=b}a.splice(1,0,d),s.splice(1,0,h),c=-1;const p=[];for(;++c<a.length;){const m=a[c],g=s[c];f=-1;const v=[];for(;++f<u;){const y=m[f]||"";let b="",w="";if(n.alignDelimiters!==!1){const x=l[f]-(g[f]||0),S=o[f];S===114?b=" ".repeat(x):S===99?x%2?(b=" ".repeat(x/2+.5),w=" ".repeat(x/2-.5)):(b=" ".repeat(x/2),w=b):w=" ".repeat(x)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&y==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(b),v.push(y),n.alignDelimiters!==!1&&v.push(w),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&v.push("|")}p.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return p.join(`
`)}function A2t(t){return t==null?"":String(t)}function ree(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function T2t(){return{enter:{table:M2t,tableData:iee,tableHeader:iee,tableRow:N2t},exit:{codeText:O2t,table:D2t,tableData:bT,tableHeader:bT,tableRow:bT}}}function M2t(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function D2t(t){this.exit(t),this.data.inTable=void 0}function N2t(t){this.enter({type:"tableRow",children:[]},t)}function bT(t){this.exit(t)}function iee(t){this.enter({type:"tableCell",children:[]},t)}function O2t(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,I2t));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function I2t(t,e){return e==="|"?e:t}function P2t(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:d,table:a,tableCell:l,tableRow:s}};function a(h,p,m,g){return u(c(h,m,g),h.align)}function s(h,p,m,g){const v=f(h,m,g),y=u([v]);return y.slice(0,y.indexOf(`
`))}function l(h,p,m,g){const v=m.enter("tableCell"),y=m.enter("phrasing"),b=m.containerPhrasing(h,{...g,before:o,after:o});return y(),v(),b}function u(h,p){return E2t(h,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function c(h,p,m){const g=h.children;let v=-1;const y=[],b=p.enter("table");for(;++v<g.length;)y[v]=f(g[v],p,m);return b(),y}function f(h,p,m){const g=h.children;let v=-1;const y=[],b=p.enter("tableRow");for(;++v<g.length;)y[v]=l(g[v],h,p,m);return b(),y}function d(h,p,m){let g=yL.inlineCode(h,p,m);return m.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}function R2t(){return{exit:{taskListCheckValueChecked:oee,taskListCheckValueUnchecked:oee,paragraph:L2t}}}function F2t(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:$2t}}}function oee(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function L2t(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let o=-1,a;for(;++o<i.length;){const s=i[o];if(s.type==="paragraph"){a=s;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function $2t(t,e,n,r){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(a);let l=yL.listItem(t,e,n,{...r,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+a}}function B2t(){return[Xbt(),g2t(),w2t(),T2t(),R2t()]}function z2t(t){return{extensions:[Ybt(),v2t(t),x2t(),P2t(t),F2t()]}}const q2t={tokenize:G2t,partial:!0},B3e={tokenize:K2t,partial:!0},z3e={tokenize:X2t,partial:!0},q3e={tokenize:Y2t,partial:!0},V2t={tokenize:Z2t,partial:!0},V3e={name:"wwwAutolink",tokenize:j2t,previous:U3e},H3e={name:"protocolAutolink",tokenize:W2t,previous:j3e},mh={name:"emailAutolink",tokenize:U2t,previous:W3e},Tf={};function H2t(){return{text:Tf}}let Rp=48;for(;Rp<123;)Tf[Rp]=mh,Rp++,Rp===58?Rp=65:Rp===91&&(Rp=97);Tf[43]=mh;Tf[45]=mh;Tf[46]=mh;Tf[95]=mh;Tf[72]=[mh,H3e];Tf[104]=[mh,H3e];Tf[87]=[mh,V3e];Tf[119]=[mh,V3e];function U2t(t,e,n){const r=this;let i,o;return a;function a(f){return!TO(f)||!W3e.call(r,r.previous)||L$(r.events)?n(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),s(f))}function s(f){return TO(f)?(t.consume(f),s):f===64?(t.consume(f),l):n(f)}function l(f){return f===46?t.check(V2t,c,u)(f):f===45||f===95||Ls(f)?(o=!0,t.consume(f),l):c(f)}function u(f){return t.consume(f),i=!0,l}function c(f){return o&&i&&Ga(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):n(f)}}function j2t(t,e,n){const r=this;return i;function i(a){return a!==87&&a!==119||!U3e.call(r,r.previous)||L$(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(q2t,t.attempt(B3e,t.attempt(z3e,o),n),n)(a))}function o(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function W2t(t,e,n){const r=this;let i="",o=!1;return a;function a(f){return(f===72||f===104)&&j3e.call(r,r.previous)&&!L$(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),t.consume(f),s):n(f)}function s(f){if(Ga(f)&&i.length<5)return i+=String.fromCodePoint(f),t.consume(f),s;if(f===58){const d=i.toLowerCase();if(d==="http"||d==="https")return t.consume(f),l}return n(f)}function l(f){return f===47?(t.consume(f),o?u:(o=!0,l)):n(f)}function u(f){return f===null||KC(f)||Ur(f)||a1(f)||k7(f)?n(f):t.attempt(B3e,t.attempt(z3e,c),n)(f)}function c(f){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(f)}}function G2t(t,e,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),i):a===46&&r===3?(t.consume(a),o):n(a)}function o(a){return a===null?n(a):e(a)}}function K2t(t,e,n){let r,i,o;return a;function a(u){return u===46||u===95?t.check(q3e,l,s)(u):u===null||Ur(u)||a1(u)||u!==45&&k7(u)?l(u):(o=!0,t.consume(u),a)}function s(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),a}function l(u){return i||r||!o?n(u):e(u)}}function X2t(t,e){let n=0,r=0;return i;function i(a){return a===40?(n++,t.consume(a),i):a===41&&r<n?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(q3e,e,o)(a):a===null||Ur(a)||a1(a)?e(a):(t.consume(a),i)}function o(a){return a===41&&r++,t.consume(a),i}}function Y2t(t,e,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(t.consume(s),r):s===38?(t.consume(s),o):s===93?(t.consume(s),i):s===60||s===null||Ur(s)||a1(s)?e(s):n(s)}function i(s){return s===null||s===40||s===91||Ur(s)||a1(s)?e(s):r(s)}function o(s){return Ga(s)?a(s):n(s)}function a(s){return s===59?(t.consume(s),r):Ga(s)?(t.consume(s),a):n(s)}}function Z2t(t,e,n){return r;function r(o){return t.consume(o),i}function i(o){return Ls(o)?n(o):e(o)}}function U3e(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Ur(t)}function j3e(t){return!Ga(t)}function W3e(t){return!(t===47||TO(t))}function TO(t){return t===43||t===45||t===46||t===95||Ls(t)}function L$(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const J2t={tokenize:a3t,partial:!0};function Q2t(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:r3t,continuation:{tokenize:i3t},exit:o3t}},text:{91:{name:"gfmFootnoteCall",tokenize:n3t},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:e3t,resolveTo:t3t}}}}function e3t(t,e,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!a||!a._balanced)return n(l);const u=Zu(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function t3t(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",o,e],["enter",a,e],["exit",a,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...s),t}function n3t(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,a;return s;function s(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(f){if(o>999||f===93&&!a||f===null||f===91||Ur(f))return n(f);if(f===93){t.exit("chunkString");const d=t.exit("gfmFootnoteCallString");return i.includes(Zu(r.sliceSerialize(d)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(f)}return Ur(f)||(a=!0),o++,t.consume(f),f===92?c:u}function c(f){return f===91||f===92||f===93?(t.consume(f),o++,u):u(f)}}function r3t(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0,s;return l;function l(p){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",c):n(p)}function c(p){if(a>999||p===93&&!s||p===null||p===91||Ur(p))return n(p);if(p===93){t.exit("chunkString");const m=t.exit("gfmFootnoteDefinitionLabelString");return o=Zu(r.sliceSerialize(m)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),d}return Ur(p)||(s=!0),a++,t.consume(p),p===92?f:c}function f(p){return p===91||p===92||p===93?(t.consume(p),a++,c):c(p)}function d(p){return p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),i.includes(o)||i.push(o),$n(t,h,"gfmFootnoteDefinitionWhitespace")):n(p)}function h(p){return e(p)}}function i3t(t,e,n){return t.check(A4,e,t.attempt(J2t,e,n))}function o3t(t){t.exit("gfmFootnoteDefinition")}function a3t(t,e,n){const r=this;return $n(t,i,"gfmFootnoteDefinitionIndent",5);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(o):n(o)}}function s3t(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,s){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let u=l;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[l][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[l][1].end)},f={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[l][1].start)},d=[["enter",c,s],["enter",a[u][1],s],["exit",a[u][1],s],["enter",f,s]],h=s.parser.constructs.insideSpan.null;h&&kl(d,d.length,0,E7(h,a.slice(u+1,l),s)),kl(d,d.length,0,[["exit",f,s],["enter",a[l][1],s],["exit",a[l][1],s],["exit",c,s]]),kl(a,u-1,l-u+3,d),l=u+d.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function o(a,s,l){const u=this.previous,c=this.events;let f=0;return d;function d(p){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(p):(a.enter("strikethroughSequenceTemporary"),h(p))}function h(p){const m=jv(u);if(p===126)return f>1?l(p):(a.consume(p),f++,h);if(f<2&&!n)return l(p);const g=a.exit("strikethroughSequenceTemporary"),v=jv(p);return g._open=!v||v===2&&!!m,g._close=!m||m===2&&!!v,s(p)}}}class l3t{constructor(){this.map=[]}add(e,n,r){u3t(this,e,n,r)}consume(e){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const o of i)e.push(o);i=r.pop()}this.map.length=0}}function u3t(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function c3t(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function f3t(){return{flow:{null:{name:"table",tokenize:d3t,resolveAll:h3t}}}}function d3t(t,e,n){const r=this;let i=0,o=0,a;return s;function s(E){let M=r.events.length-1;for(;M>-1;){const T=r.events[M][1].type;if(T==="lineEnding"||T==="linePrefix")M--;else break}const A=M>-1?r.events[M][1].type:null,N=A==="tableHead"||A==="tableRow"?S:l;return N===S&&r.parser.lazy[r.now().line]?n(E):N(E)}function l(E){return t.enter("tableHead"),t.enter("tableRow"),u(E)}function u(E){return E===124||(a=!0,o+=1),c(E)}function c(E){return E===null?n(E):Vt(E)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),h):n(E):Hn(E)?$n(t,c,"whitespace")(E):(o+=1,a&&(a=!1,i+=1),E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),a=!0,c):(t.enter("data"),f(E)))}function f(E){return E===null||E===124||Ur(E)?(t.exit("data"),c(E)):(t.consume(E),E===92?d:f)}function d(E){return E===92||E===124?(t.consume(E),f):f(E)}function h(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(t.enter("tableDelimiterRow"),a=!1,Hn(E)?$n(t,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):p(E))}function p(E){return E===45||E===58?g(E):E===124?(a=!0,t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),m):x(E)}function m(E){return Hn(E)?$n(t,g,"whitespace")(E):g(E)}function g(E){return E===58?(o+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),v):E===45?(o+=1,v(E)):E===null||Vt(E)?w(E):x(E)}function v(E){return E===45?(t.enter("tableDelimiterFiller"),y(E)):x(E)}function y(E){return E===45?(t.consume(E),y):E===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),b):(t.exit("tableDelimiterFiller"),b(E))}function b(E){return Hn(E)?$n(t,w,"whitespace")(E):w(E)}function w(E){return E===124?p(E):E===null||Vt(E)?!a||i!==o?x(E):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(E)):x(E)}function x(E){return n(E)}function S(E){return t.enter("tableRow"),_(E)}function _(E){return E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),_):E===null||Vt(E)?(t.exit("tableRow"),e(E)):Hn(E)?$n(t,_,"whitespace")(E):(t.enter("data"),k(E))}function k(E){return E===null||E===124||Ur(E)?(t.exit("data"),_(E)):(t.consume(E),E===92?C:k)}function C(E){return E===92||E===124?(t.consume(E),k):k(E)}}function h3t(t,e){let n=-1,r=!0,i=0,o=[0,0,0,0],a=[0,0,0,0],s=!1,l=0,u,c,f;const d=new l3t;for(;++n<t.length;){const h=t[n],p=h[1];h[0]==="enter"?p.type==="tableHead"?(s=!1,l!==0&&(aee(d,e,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(n,0,[["enter",u,e]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,o=[0,0,0,0],a=[0,n+1,0,0],s&&(s=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(n,0,[["enter",c,e]])),i=p.type==="tableDelimiterRow"?2:c?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],f=u6(d,e,o,i,void 0,f),o=[0,0,0,0]),a[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(a[0]=a[1],f=u6(d,e,o,i,void 0,f)),o=a,a=[o[1],n,0,0])):p.type==="tableHead"?(s=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,o[1]!==0?(a[0]=a[1],f=u6(d,e,o,i,n,f)):a[1]!==0&&(f=u6(d,e,a,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&aee(d,e,l,u,c),d.consume(e.events),n=-1;++n<e.events.length;){const h=e.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=c3t(e.events,n))}return t}function u6(t,e,n,r,i,o){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(o.end=Object.assign({},xg(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const l=xg(e.events,n[1]);if(o={type:a,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const u=xg(e.events,n[2]),c=xg(e.events,n[3]),f={type:s,start:Object.assign({},u),end:Object.assign({},c)};if(t.add(n[2],0,[["enter",f,e]]),r!==2){const d=e.events[n[2]],h=e.events[n[3]];if(d[1].end=Object.assign({},h[1].end),d[1].type="chunkText",d[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,m=n[3]-n[2]-1;t.add(p,m,[])}}t.add(n[3]+1,0,[["exit",f,e]])}return i!==void 0&&(o.end=Object.assign({},xg(e.events,i)),t.add(i,0,[["exit",o,e]]),o=void 0),o}function aee(t,e,n,r,i){const o=[],a=xg(e.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,e])),r.end=Object.assign({},a),o.push(["exit",r,e]),t.add(n+1,0,o)}function xg(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const p3t={name:"tasklistCheck",tokenize:g3t};function m3t(){return{text:{91:p3t}}}function g3t(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),o)}function o(l){return Ur(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),s):n(l)}function s(l){return Vt(l)?e(l):Hn(l)?t.check({tokenize:v3t},e,n)(l):n(l)}}function v3t(t,e,n){return $n(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function y3t(t){return rbe([H2t(),Q2t(),s3t(t),f3t(),m3t()])}const b3t={};function w3t(t){const e=this,n=t||b3t,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(y3t(n)),o.push(B2t()),a.push(z2t(n))}function dn(t,e){return Object.assign(t,{meta:{package:"@milkdown/preset-gfm",...e}}),t}const $$=I4("strike_through");dn($$,{displayName:"Attr<strikethrough>",group:"Strikethrough"});const $y=M1("strike_through",t=>({parseDOM:[{tag:"del"},{style:"text-decoration",getAttrs:e=>e==="line-through"}],toDOM:e=>["del",t.get($$.key)(e)],parseMarkdown:{match:e=>e.type==="delete",runner:(e,n,r)=>{e.openMark(r),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="strike_through",runner:(e,n)=>{e.withMark(n,"delete")}}}));dn($y.mark,{displayName:"MarkSchema<strikethrough>",group:"Strikethrough"});dn($y.ctx,{displayName:"MarkSchemaCtx<strikethrough>",group:"Strikethrough"});const Z7=fn("ToggleStrikeThrough",t=>()=>M7($y.type(t)));dn(Z7,{displayName:"Command<ToggleStrikethrough>",group:"Strikethrough"});const G3e=Ia(t=>E4(/~([^~]+)~$/,$y.type(t)));dn(G3e,{displayName:"InputRule<strikethrough>",group:"Strikethrough"});const B$=Qs("strikeThroughKeymap",{ToggleStrikethrough:{shortcuts:"Mod-Alt-x",command:t=>{const e=t.get(It);return()=>e.call(Z7.key)}}});dn(B$.ctx,{displayName:"KeymapCtx<strikethrough>",group:"Strikethrough"});dn(B$.shortcuts,{displayName:"Keymap<strikethrough>",group:"Strikethrough"});const $4=Wyt({tableGroup:"block",cellContent:"paragraph",cellAttributes:{alignment:{default:"left",getFromDOM:t=>t.style.textAlign||"left",setDOMAttr:(t,e)=>{e.style=`text-align: ${t||"left"}`}}}}),P1=Wi("table",()=>({...$4.table,content:"table_header_row table_row+",disableDropCursor:!0,parseMarkdown:{match:t=>t.type==="table",runner:(t,e,n)=>{const r=e.align,i=e.children.map((o,a)=>({...o,align:r,isHeader:a===0}));t.openNode(n),t.next(i),t.closeNode()}},toMarkdown:{match:t=>t.type.name==="table",runner:(t,e)=>{const n=e.content.firstChild?.content;if(!n)return;const r=[];n.forEach(i=>{r.push(i.attrs.alignment)}),t.openNode("table",void 0,{align:r}),t.next(e.content),t.closeNode()}}}));dn(P1.node,{displayName:"NodeSchema<table>",group:"Table"});dn(P1.ctx,{displayName:"NodeSchemaCtx<table>",group:"Table"});const J7=Wi("table_header_row",()=>({...$4.table_row,disableDropCursor:!0,content:"(table_header)*",parseDOM:[{tag:"tr[data-is-header]"}],toDOM(){return["tr",{"data-is-header":!0},0]},parseMarkdown:{match:t=>!!(t.type==="tableRow"&&t.isHeader),runner:(t,e,n)=>{const r=e.align,i=e.children.map((o,a)=>({...o,align:r[a],isHeader:e.isHeader}));t.openNode(n),t.next(i),t.closeNode()}},toMarkdown:{match:t=>t.type.name==="table_header_row",runner:(t,e)=>{t.openNode("tableRow",void 0,{isHeader:!0}),t.next(e.content),t.closeNode()}}}));dn(J7.node,{displayName:"NodeSchema<tableHeaderRow>",group:"Table"});dn(J7.ctx,{displayName:"NodeSchemaCtx<tableHeaderRow>",group:"Table"});const B4=Wi("table_row",()=>({...$4.table_row,disableDropCursor:!0,content:"(table_cell)*",parseMarkdown:{match:t=>t.type==="tableRow",runner:(t,e,n)=>{const r=e.align,i=e.children.map((o,a)=>({...o,align:r[a]}));t.openNode(n),t.next(i),t.closeNode()}},toMarkdown:{match:t=>t.type.name==="table_row",runner:(t,e)=>{e.content.size!==0&&(t.openNode("tableRow"),t.next(e.content),t.closeNode())}}}));dn(B4.node,{displayName:"NodeSchema<tableRow>",group:"Table"});dn(B4.ctx,{displayName:"NodeSchemaCtx<tableRow>",group:"Table"});const z4=Wi("table_cell",()=>({...$4.table_cell,disableDropCursor:!0,parseMarkdown:{match:t=>t.type==="tableCell"&&!t.isHeader,runner:(t,e,n)=>{const r=e.align;t.openNode(n,{alignment:r}).openNode(t.schema.nodes.paragraph).next(e.children).closeNode().closeNode()}},toMarkdown:{match:t=>t.type.name==="table_cell",runner:(t,e)=>{t.openNode("tableCell").next(e.content).closeNode()}}}));dn(z4.node,{displayName:"NodeSchema<tableCell>",group:"Table"});dn(z4.ctx,{displayName:"NodeSchemaCtx<tableCell>",group:"Table"});const Q7=Wi("table_header",()=>({...$4.table_header,disableDropCursor:!0,parseMarkdown:{match:t=>t.type==="tableCell"&&!!t.isHeader,runner:(t,e,n)=>{const r=e.align;t.openNode(n,{alignment:r}),t.openNode(t.schema.nodes.paragraph),t.next(e.children),t.closeNode(),t.closeNode()}},toMarkdown:{match:t=>t.type.name==="table_header",runner:(t,e)=>{t.openNode("tableCell"),t.next(e.content),t.closeNode()}}}));dn(Q7.node,{displayName:"NodeSchema<tableHeader>",group:"Table"});dn(Q7.ctx,{displayName:"NodeSchemaCtx<tableHeader>",group:"Table"});function z$(t,e=3,n=3){const r=Array(n).fill(0).map(()=>z4.type(t).createAndFill()),i=Array(n).fill(0).map(()=>Q7.type(t).createAndFill()),o=Array(e).fill(0).map((a,s)=>s===0?J7.type(t).create(null,i):B4.type(t).create(null,r));return P1.type(t).create(null,o)}function By(t){return cL(e=>e.type.spec.tableRole==="table")(t)}function Sg(t,e){const n=By(e.$from);if(!n)return;const r=Sr.get(n.node);if(!(t<0||t>=r.width))return r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height}).map(i=>{const o=n.node.nodeAt(i);if(!o)return;const a=i+n.start;return{pos:a,start:a+1,node:o}}).filter(i=>i!=null)}function _g(t,e){const n=By(e.$from);if(!n)return;const r=Sr.get(n.node);if(!(t<0||t>=r.height))return r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1}).map(i=>{const o=n.node.nodeAt(i);if(!o)return;const a=i+n.start;return{pos:a,start:a+1,node:o}}).filter(i=>i!=null)}function x3t(t){const e=By(t.$from);if(!e)return;const n=Sr.get(e.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map(i=>{const o=e.node.nodeAt(i),a=i+e.start;return{pos:a,start:a+1,node:o}})}function S3t(t){const e=x3t(t.selection);if(e&&e[0]){const n=t.doc.resolve(e[0].pos),r=e[e.length-1];if(r){const i=t.doc.resolve(r.pos);return C7(t.setSelection(new jr(i,n)))}}return t}function K3e(t,e,{map:n,tableStart:r,table:i},o){const a=Array(o).fill(0).reduce((l,u,c)=>l+i.child(c).nodeSize,r),s=Array(n.width).fill(0).map((l,u)=>{const c=i.nodeAt(n.map[u]);return z4.type(t).createAndFill({alignment:c?.attrs.alignment})});return e.insert(a,B4.type(t).create(null,s)),e}function X3e(t){return(e,n)=>r=>{n=n??r.selection.from;const i=r.doc.resolve(n),o=cL(l=>l.type.name==="table")(i),a=o?{node:o.node,from:o.start}:void 0,s=t==="row";if(a){const l=Sr.get(a.node);if(e>=0&&e<(s?l.height:l.width)){const u=l.positionAt(s?e:l.height-1,s?l.width-1:e,a.node),c=r.doc.resolve(a.from+u),f=s?jr.rowSelection:jr.colSelection,d=l.positionAt(s?e:0,s?0:e,a.node),h=r.doc.resolve(a.from+d);return C7(r.setSelection(f(c,h)))}}return r}}const _3t=X3e("row"),C3t=X3e("col");function see(t){return t[0].map((e,n)=>t.map(r=>r[n]))}function Y3e(t,e){const n=[],r=Sr.get(t);for(let o=0;o<r.height;o++){const a=t.child(o),s=[];for(let l=0;l<r.width;l++){if(!e[o][l])continue;const u=r.map[o*r.width+l],c=e[o][l],d=t.nodeAt(u).type.createChecked(Object.assign({},c.attrs),c.content,c.marks);s.push(d)}n.push(a.type.createChecked(a.attrs,s,a.marks))}return t.type.createChecked(t.attrs,n,t.marks)}function Z3e(t){const e=Sr.get(t),n=[];for(let r=0;r<e.height;r++){const i=[],o={};for(let a=0;a<e.width;a++){const s=e.map[r*e.width+a],l=t.nodeAt(s),u=e.findCell(s);if(o[s]||u.top!==r){i.push(null);continue}o[s]=!0,i.push(l)}n.push(i)}return n}function J3e(t,e,n,r){const i=e[0]>n[0]?-1:1,o=t.splice(e[0],e.length),a=o.length%2===0?1:0;let s;return s=i===-1?n[0]:n[n.length-1]-a,t.splice(s,0,...o),t}function k3t(t,e,n,r){let i=see(Z3e(t.node));return i=J3e(i,e,n),i=see(i),Y3e(t.node,i)}function E3t(t,e,n,r){let i=Z3e(t.node);return i=J3e(i,e,n),Y3e(t.node,i)}function lee(t,e){let n=t,r=t;for(let c=t;c>=0;c--){const f=Sg(c,e.selection);f&&f.forEach(d=>{const h=d.node.attrs.colspan+c-1;h>=n&&(n=c),h>r&&(r=h)})}for(let c=t;c<=r;c++){const f=Sg(c,e.selection);f&&f.forEach(d=>{const h=d.node.attrs.colspan+c-1;d.node.attrs.colspan>1&&h>r&&(r=h)})}const i=[];for(let c=n;c<=r;c++){const f=Sg(c,e.selection);f&&f.length&&i.push(c)}n=i[0],r=i[i.length-1];const o=Sg(n,e.selection),a=_g(0,e.selection),s=e.doc.resolve(o[o.length-1].pos);let l;for(let c=r;c>=n;c--){const f=Sg(c,e.selection);if(f&&f.length){for(let d=a.length-1;d>=0;d--)if(a[d].pos===f[0].pos){l=f[0];break}if(l)break}}const u=e.doc.resolve(l.pos);return{$anchor:s,$head:u,indexes:i}}function uee(t,e){let n=t,r=t;for(let c=t;c>=0;c--)_g(c,e.selection).forEach(d=>{const h=d.node.attrs.rowspan+c-1;h>=n&&(n=c),h>r&&(r=h)});for(let c=t;c<=r;c++)_g(c,e.selection).forEach(d=>{const h=d.node.attrs.rowspan+c-1;d.node.attrs.rowspan>1&&h>r&&(r=h)});const i=[];for(let c=n;c<=r;c++){const f=_g(c,e.selection);f&&f.length&&i.push(c)}n=i[0],r=i[i.length-1];const o=_g(n,e.selection),a=Sg(0,e.selection),s=e.doc.resolve(o[o.length-1].pos);let l;for(let c=r;c>=n;c--){const f=_g(c,e.selection);if(f&&f.length){for(let d=a.length-1;d>=0;d--)if(a[d].pos===f[0].pos){l=f[0];break}if(l)break}}const u=e.doc.resolve(l.pos);return{$anchor:s,$head:u,indexes:i}}function A3t(t){const{tr:e,origin:n,target:r,select:i=!0,pos:o}=t,a=o!=null?e.doc.resolve(o):e.selection.$from,s=By(a);if(!s)return e;const{indexes:l}=lee(n,e),{indexes:u}=lee(r,e);if(l.includes(r))return e;const c=k3t(s,l,u),f=C7(e).replaceWith(s.pos,s.pos+s.node.nodeSize,c);if(!i)return f;const d=Sr.get(c),h=s.start,p=r,m=d.positionAt(d.height-1,p,c),g=f.doc.resolve(h+m),v=jr.colSelection,y=d.positionAt(0,p,c),b=f.doc.resolve(h+y);return f.setSelection(v(g,b))}function T3t(t){const{tr:e,origin:n,target:r,select:i=!0,pos:o}=t,a=o!=null?e.doc.resolve(o):e.selection.$from,s=By(a);if(!s)return e;const{indexes:l}=uee(n,e),{indexes:u}=uee(r,e);if(l.includes(r))return e;const c=E3t(s,l,u),f=C7(e).replaceWith(s.pos,s.pos+s.node.nodeSize,c);if(!i)return f;const d=Sr.get(c),h=s.start,p=r,m=d.positionAt(p,d.width-1,c),g=f.doc.resolve(h+m),v=jr.rowSelection,y=d.positionAt(p,0,c),b=f.doc.resolve(h+y);return f.setSelection(v(g,b))}const q$=fn("GoToPrevTableCell",()=>()=>N3e(-1));dn(q$,{displayName:"Command<goToPrevTableCellCommand>",group:"Table"});const V$=fn("GoToNextTableCell",()=>()=>N3e(1));dn(V$,{displayName:"Command<goToNextTableCellCommand>",group:"Table"});const H$=fn("ExitTable",t=>()=>(e,n)=>{if(!Au(e))return!1;const{$head:r}=e.selection,i=Ldt(r,P1.type(t));if(!i)return!1;const{to:o}=i,a=e.tr.replaceWith(o,o,Af.type(t).createAndFill());return a.setSelection(sn.near(a.doc.resolve(o),1)).scrollIntoView(),n?.(a),!0});dn(H$,{displayName:"Command<breakTableCommand>",group:"Table"});const Q3e=fn("InsertTable",t=>({row:e,col:n}={})=>(r,i)=>{const{selection:o,tr:a}=r,{from:s}=o,l=z$(t,e,n),u=a.replaceSelectionWith(l),c=sn.findFrom(u.doc.resolve(s),1,!0);return c&&u.setSelection(c),i?.(u),!0});dn(Q3e,{displayName:"Command<insertTableCommand>",group:"Table"});const U$=fn("MoveRow",()=>({from:t,to:e,pos:n}={})=>(r,i)=>{const{tr:o}=r;return!!i?.(T3t({tr:o,origin:t??0,target:e??0,pos:n,select:!0}))});dn(U$,{displayName:"Command<moveRowCommand>",group:"Table"});const j$=fn("MoveCol",()=>({from:t,to:e,pos:n}={})=>(r,i)=>{const{tr:o}=r;return!!i?.(A3t({tr:o,origin:t??0,target:e??0,pos:n,select:!0}))});dn(j$,{displayName:"Command<moveColCommand>",group:"Table"});const fm=fn("SelectRow",()=>(t={index:0})=>(e,n)=>{const{tr:r}=e;return!!n?.(_3t(t.index,t.pos)(r))});dn(fm,{displayName:"Command<selectRowCommand>",group:"Table"});const dm=fn("SelectCol",()=>(t={index:0})=>(e,n)=>{const{tr:r}=e;return!!n?.(C3t(t.index,t.pos)(r))});dn(dm,{displayName:"Command<selectColCommand>",group:"Table"});const ewe=fn("SelectTable",()=>()=>(t,e)=>{const{tr:n}=t;return!!e?.(S3t(n))});dn(ewe,{displayName:"Command<selectTableCommand>",group:"Table"});const W$=fn("DeleteSelectedCells",()=>()=>(t,e)=>{const{selection:n}=t;if(!(n instanceof jr))return!1;const r=n.isRowSelection(),i=n.isColSelection();return r&&i?pbt(t,e):i?lbt(t,e):cbt(t,e)});dn(W$,{displayName:"Command<deleteSelectedCellsCommand>",group:"Table"});const G$=fn("AddColBefore",()=>()=>obt);dn(G$,{displayName:"Command<addColBeforeCommand>",group:"Table"});const K$=fn("AddColAfter",()=>()=>abt);dn(K$,{displayName:"Command<addColAfterCommand>",group:"Table"});const X$=fn("AddRowBefore",t=>()=>(e,n)=>{if(!Au(e))return!1;if(n){const r=xp(e);n(K3e(t,e.tr,r,r.top))}return!0});dn(X$,{displayName:"Command<addRowBeforeCommand>",group:"Table"});const Y$=fn("AddRowAfter",t=>()=>(e,n)=>{if(!Au(e))return!1;if(n){const r=xp(e);n(K3e(t,e.tr,r,r.bottom))}return!0});dn(Y$,{displayName:"Command<addRowAfterCommand>",group:"Table"});const Z$=fn("SetAlign",()=>(t="left")=>fbt("alignment",t));dn(Z$,{displayName:"Command<setAlignCommand>",group:"Table"});const twe=Ia(t=>new Ys(/^\|(?<col>\d+)[xX](?<row>\d+)\|\s$/,(e,n,r,i)=>{const o=e.doc.resolve(r);if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),P1.type(t)))return null;const a=Math.max(Number(n.groups?.row??0),2),s=z$(t,a,Number(n.groups?.col)),l=e.tr.replaceRangeWith(r,i,s);return l.setSelection(zt.create(l.doc,r+3)).scrollIntoView()}));dn(twe,{displayName:"InputRule<insertTableInputRule>",group:"Table"});const J$=Qs("tableKeymap",{NextCell:{priority:100,shortcuts:["Mod-]","Tab"],command:t=>{const e=t.get(It);return()=>e.call(V$.key)}},PrevCell:{shortcuts:["Mod-[","Shift-Tab"],command:t=>{const e=t.get(It);return()=>e.call(q$.key)}},ExitTable:{shortcuts:["Mod-Enter","Enter"],command:t=>{const e=t.get(It);return()=>e.call(H$.key)}}});dn(J$.ctx,{displayName:"KeymapCtx<table>",group:"Table"});dn(J$.shortcuts,{displayName:"Keymap<table>",group:"Table"});const wT="footnote_definition",cee="footnoteDefinition",Q$=Wi("footnote_definition",()=>({group:"block",content:"block+",defining:!0,attrs:{label:{default:"",validate:"string"}},parseDOM:[{tag:`dl[data-type="${wT}"]`,getAttrs:t=>{if(!(t instanceof HTMLElement))throw mc(t);return{label:t.dataset.label}},contentElement:"dd"}],toDOM:t=>{const e=t.attrs.label;return["dl",{"data-label":e,"data-type":wT},["dt",e],["dd",0]]},parseMarkdown:{match:({type:t})=>t===cee,runner:(t,e,n)=>{t.openNode(n,{label:e.label}).next(e.children).closeNode()}},toMarkdown:{match:t=>t.type.name===wT,runner:(t,e)=>{t.openNode(cee,void 0,{label:e.attrs.label,identifier:e.attrs.label}).next(e.content).closeNode()}}}));dn(Q$.ctx,{displayName:"NodeSchemaCtx<footnodeDef>",group:"footnote"});dn(Q$.node,{displayName:"NodeSchema<footnodeDef>",group:"footnote"});const xT="footnote_reference",eB=Wi("footnote_reference",()=>({group:"inline",inline:!0,atom:!0,attrs:{label:{default:"",validate:"string"}},parseDOM:[{tag:`sup[data-type="${xT}"]`,getAttrs:t=>{if(!(t instanceof HTMLElement))throw mc(t);return{label:t.dataset.label}}}],toDOM:t=>{const e=t.attrs.label;return["sup",{"data-label":e,"data-type":xT},e]},parseMarkdown:{match:({type:t})=>t==="footnoteReference",runner:(t,e,n)=>{t.addNode(n,{label:e.label})}},toMarkdown:{match:t=>t.type.name===xT,runner:(t,e)=>{t.addNode("footnoteReference",void 0,void 0,{label:e.attrs.label,identifier:e.attrs.label})}}}));dn(eB.ctx,{displayName:"NodeSchemaCtx<footnodeRef>",group:"footnote"});dn(eB.node,{displayName:"NodeSchema<footnodeRef>",group:"footnote"});const tB=vc.extendSchema(t=>e=>{const n=t(e);return{...n,attrs:{...n.attrs,checked:{default:null,validate:"boolean|null"}},parseDOM:[{tag:'li[data-item-type="task"]',getAttrs:r=>{if(!(r instanceof HTMLElement))throw mc(r);return{label:r.dataset.label,listType:r.dataset.listType,spread:r.dataset.spread,checked:r.dataset.checked?r.dataset.checked==="true":null}}},...n?.parseDOM||[]],toDOM:r=>n.toDOM&&r.attrs.checked==null?n.toDOM(r):["li",{"data-item-type":"task","data-label":r.attrs.label,"data-list-type":r.attrs.listType,"data-spread":r.attrs.spread,"data-checked":r.attrs.checked},0],parseMarkdown:{match:({type:r})=>r==="listItem",runner:(r,i,o)=>{if(i.checked==null){n.parseMarkdown.runner(r,i,o);return}const a=i.label!=null?`${i.label}.`:"",s=i.checked!=null?!!i.checked:null,l=i.label!=null?"ordered":"bullet",u=i.spread!=null?`${i.spread}`:"true";r.openNode(o,{label:a,listType:l,spread:u,checked:s}),r.next(i.children),r.closeNode()}},toMarkdown:{match:r=>r.type.name==="list_item",runner:(r,i)=>{if(i.attrs.checked==null){n.toMarkdown.runner(r,i);return}const o=i.attrs.label,a=i.attrs.listType,s=i.attrs.spread==="true",l=i.attrs.checked;r.openNode("listItem",void 0,{label:o,listType:a,spread:s,checked:l}),r.next(i.content),r.closeNode()}}}});dn(tB.node,{displayName:"NodeSchema<taskListItem>",group:"ListItem"});dn(tB.ctx,{displayName:"NodeSchemaCtx<taskListItem>",group:"ListItem"});const nwe=Ia(()=>new Ys(/^\[(?<checked>\s|x)\]\s$/,(t,e,n,r)=>{const i=t.doc.resolve(n);let o=0,a=i.node(o);for(;a&&a.type.name!=="list_item";)o--,a=i.node(o);if(!a||a.attrs.checked!=null)return null;const s=e.groups?.checked==="x",l=i.before(o),u=t.tr;return u.deleteRange(n,r).setNodeMarkup(l,void 0,{...a.attrs,checked:s}),u}));dn(nwe,{displayName:"InputRule<wrapInTaskListInputRule>",group:"ListItem"});const M3t=[B$,J$].flat(),D3t=[twe,nwe],N3t=[G3e],rwe=xo(()=>Hbt);dn(rwe,{displayName:"Prose<autoInsertSpanPlugin>",group:"Prose"});const O3t=xo(()=>Cbt({}));dn(O3t,{displayName:"Prose<columnResizingPlugin>",group:"Prose"});const iwe=xo(()=>Pbt({allowTableNodeSelection:!0}));dn(iwe,{displayName:"Prose<tableEditingPlugin>",group:"Prose"});const nB=Ef("remarkGFM",()=>w3t);dn(nB.plugin,{displayName:"Remark<remarkGFMPlugin>",group:"Remark"});dn(nB.options,{displayName:"RemarkConfig<remarkGFMPlugin>",group:"Remark"});const I3t=new Ai("MILKDOWN_KEEP_TABLE_ALIGN_PLUGIN");function P3t(t,e){let n=0;return e.forEach((r,i,o)=>{r===t&&(n=o)}),n}const owe=xo(()=>new yi({key:I3t,appendTransaction:(t,e,n)=>{let r;const i=(o,a)=>{if(r||(r=n.tr),o.type.name!=="table_cell")return;const s=n.doc.resolve(a),l=s.node(s.depth),c=s.node(s.depth-1).firstChild;if(!c)return;const f=P3t(o,l),d=c.maybeChild(f);if(!d)return;const h=d.attrs.alignment,p=o.attrs.alignment;h!==p&&r.setNodeMarkup(a,void 0,{...o.attrs,alignment:h})};return e.doc!==n.doc&&n.doc.descendants(i),r}}));dn(owe,{displayName:"Prose<keepTableAlignPlugin>",group:"Prose"});const R3t=[owe,rwe,nB,iwe].flat(),F3t=[tB,P1,J7,B4,Q7,z4,Q$,eB,$$,$y].flat(),L3t=[V$,q$,H$,Q3e,U$,j$,fm,dm,ewe,W$,X$,Y$,G$,K$,Z$,Z7],$3t=[F3t,D3t,N3t,M3t,L3t,R3t].flat(),B3t=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=iB(t.state,n.from);return r.line?z3t(t):r.block?V3t(t):!1};function rB(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const z3t=rB(j3t,0),q3t=rB(awe,0),V3t=rB((t,e)=>awe(t,e,U3t(e)),0);function iB(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const Eb=50;function H3t(t,{open:e,close:n},r,i){let o=t.sliceDoc(r-Eb,r),a=t.sliceDoc(i,i+Eb),s=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(a)[0].length,u=o.length-s;if(o.slice(u-e.length,u)==e&&a.slice(l,l+n.length)==n)return{open:{pos:r-s,margin:s&&1},close:{pos:i+l,margin:l&&1}};let c,f;i-r<=2*Eb?c=f=t.sliceDoc(r,i):(c=t.sliceDoc(r,r+Eb),f=t.sliceDoc(i-Eb,i));let d=/^\s*/.exec(c)[0].length,h=/\s*$/.exec(f)[0].length,p=f.length-h-n.length;return c.slice(d,d+e.length)==e&&f.slice(p,p+n.length)==n?{open:{pos:r+d+e.length,margin:/\s/.test(c.charAt(d+e.length))?1:0},close:{pos:i-h-n.length,margin:/\s/.test(f.charAt(p-1))?1:0}}:null}function U3t(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function awe(t,e,n=e.selection.ranges){let r=n.map(o=>iB(e,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,a)=>H3t(e,r[a],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(n.map((o,a)=>i[a]?[]:[{from:o.from,insert:r[a].open+" "},{from:o.to,insert:" "+r[a].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let a=0,s;a<i.length;a++)if(s=i[a]){let l=r[a],{open:u,close:c}=s;o.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:o}}return null}function j3t(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:a}of n){let s=r.length,l=1e9,u=iB(e,o).line;if(u){for(let c=o;c<=a;){let f=e.doc.lineAt(c);if(f.from>i&&(o==a||a>f.from)){i=f.from;let d=/^\s*/.exec(f.text)[0].length,h=d==f.length,p=f.text.slice(d,d+u.length)==u?d:-1;d<f.text.length&&d<l&&(l=d),r.push({line:f,comment:p,token:u,indent:d,empty:h,single:!1})}c=f.to+1}if(l<1e9)for(let c=s;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=l);r.length==s+1&&(r[s].single=!0)}}if(t!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:s,token:l,indent:u,empty:c,single:f}of r)(f||!c)&&o.push({from:s.from+u,insert:l+" "});let a=e.changes(o);return{changes:a,selection:e.selection.map(a,1)}}else if(t!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:a,comment:s,token:l}of r)if(s>=0){let u=a.from+s,c=u+l.length;a.text[c-a.from]==" "&&c++,o.push({from:u,to:c})}return{changes:o}}return null}const MO=fh.define(),W3t=fh.define(),G3t=Et.define(),swe=Et.define({combine(t){return kf(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),lwe=Io.define({create(){return a3.empty},update(t,e){let n=e.state.facet(swe),r=e.annotation(MO);if(r){let l=$s.fromTransaction(e,r.selection),u=r.side,c=u==0?t.undone:t.done;return l?c=u8(c,c.length,n.minDepth,l):c=fwe(c,e.startState.selection),new a3(u==0?r.rest:c,u==0?c:r.rest)}let i=e.annotation(W3t);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(ts.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=$s.fromTransaction(e),a=e.annotation(ts.time),s=e.annotation(ts.userEvent);return o?t=t.addChanges(o,a,s,n,e):e.selection&&(t=t.addSelection(e.startState.selection,a,s,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new a3(t.done.map($s.fromJSON),t.undone.map($s.fromJSON))}});function K3t(t={}){return[lwe,swe.of(t),Dt.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?uwe:e.inputType=="historyRedo"?DO:null;return r?(e.preventDefault(),r(n)):!1}})]}function eE(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(lwe,!1);if(!i)return!1;let o=i.pop(t,n,e);return o?(r(o),!0):!1}}const uwe=eE(0,!1),DO=eE(1,!1),X3t=eE(0,!0),Y3t=eE(1,!0);class $s{constructor(e,n,r,i,o){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new $s(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new $s(e.changes&&lo.fromJSON(e.changes),[],e.mapped&&Qc.fromJSON(e.mapped),e.startSelection&&Qe.fromJSON(e.startSelection),e.selectionsAfter.map(Qe.fromJSON))}static fromTransaction(e,n){let r=ru;for(let i of e.startState.facet(G3t)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new $s(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,ru)}static selection(e){return new $s(void 0,ru,void 0,void 0,e)}}function u8(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function Z3t(t,e){let n=[],r=!1;return t.iterChangedRanges((i,o)=>n.push(i,o)),e.iterChangedRanges((i,o,a,s)=>{for(let l=0;l<n.length;){let u=n[l++],c=n[l++];s>=u&&a<=c&&(r=!0)}}),r}function J3t(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function cwe(t,e){return t.length?e.length?t.concat(e):t:e}const ru=[],Q3t=200;function fwe(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-Q3t));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),u8(t,t.length-1,1e9,n.setSelAfter(r)))}else return[$s.selection([e])]}function ewt(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function ST(t,e){if(!t.length)return t;let n=t.length,r=ru;for(;n;){let i=twt(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,n);return o[n-1]=i,o}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[$s.selection(r)]:ru}function twt(t,e,n){let r=cwe(t.selectionsAfter.length?t.selectionsAfter.map(s=>s.map(e)):ru,n);if(!t.changes)return $s.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),a=t.mapped?t.mapped.composeDesc(o):o;return new $s(i,xn.mapEffects(t.effects,e),a,t.startSelection.map(o),r)}const nwt=/^(input\.type|delete)($|\.)/;let a3=class i2{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new i2(this.done,this.undone):this}addChanges(e,n,r,i,o){let a=this.done,s=a[a.length-1];return s&&s.changes&&!s.changes.empty&&e.changes&&(!r||nwt.test(r))&&(!s.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,Z3t(s.changes,e.changes))||r=="input.type.compose")?a=u8(a,a.length-1,i.minDepth,new $s(e.changes.compose(s.changes),cwe(xn.mapEffects(e.effects,s.changes),s.effects),s.mapped,s.startSelection,ru)):a=u8(a,a.length,i.minDepth,e),new i2(a,ru,n,r)}addSelection(e,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:ru;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&J3t(o[o.length-1],e)?this:new i2(fwe(this.done,e),this.undone,n,r)}addMapping(e){return new i2(ST(this.done,e),ST(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],a=o.selectionsAfter[0]||n.selection;if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:MO.of({side:e,rest:ewt(i),selection:a}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let s=i.length==1?ru:i.slice(0,i.length-1);return o.mapped&&(s=ST(s,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:MO.of({side:e,rest:s,selection:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}};a3.empty=new a3(ru,ru);const rwt=[{key:"Mod-z",run:uwe,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:DO,preventDefault:!0},{linux:"Ctrl-Shift-z",run:DO,preventDefault:!0},{key:"Mod-u",run:X3t,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Y3t,preventDefault:!0}];function zy(t,e){return Qe.create(t.ranges.map(e),t.mainIndex)}function Mf(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function bc({state:t,dispatch:e},n){let r=zy(t.selection,n);return r.eq(t.selection,!0)?!1:(e(Mf(t,r)),!0)}function tE(t,e){return Qe.cursor(e?t.to:t.from)}function dwe(t,e){return bc(t,n=>n.empty?t.moveByChar(n,e):tE(n,e))}function Pa(t){return t.textDirectionAt(t.state.selection.main.head)==si.LTR}const hwe=t=>dwe(t,!Pa(t)),pwe=t=>dwe(t,Pa(t));function mwe(t,e){return bc(t,n=>n.empty?t.moveByGroup(n,e):tE(n,e))}const iwt=t=>mwe(t,!Pa(t)),owt=t=>mwe(t,Pa(t));function awt(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function nE(t,e,n){let r=ta(t).resolveInner(e.head),i=n?Bn.closedBy:Bn.openedBy;for(let l=e.head;;){let u=n?r.childAfter(l):r.childBefore(l);if(!u)break;awt(t,u,i)?r=u:l=n?u.to:u.from}let o=r.type.prop(i),a,s;return o&&(a=n?jc(t,r.from,1):jc(t,r.to,-1))&&a.matched?s=n?a.end.to:a.end.from:s=n?r.to:r.from,Qe.cursor(s,n?-1:1)}const swt=t=>bc(t,e=>nE(t.state,e,!Pa(t))),lwt=t=>bc(t,e=>nE(t.state,e,Pa(t)));function gwe(t,e){return bc(t,n=>{if(!n.empty)return tE(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const vwe=t=>gwe(t,!1),ywe=t=>gwe(t,!0);function bwe(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let o of t.state.facet(Dt.scrollMargins)){let a=o(t);a?.top&&(n=Math.max(a?.top,n)),a?.bottom&&(r=Math.max(a?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function wwe(t,e){let n=bwe(t),{state:r}=t,i=zy(r.selection,a=>a.empty?t.moveVertically(a,e,n.height):tE(a,e));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let a=t.coordsAtPos(r.selection.main.head),s=t.scrollDOM.getBoundingClientRect(),l=s.top+n.marginTop,u=s.bottom-n.marginBottom;a&&a.top>l&&a.bottom<u&&(o=Dt.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-l}))}return t.dispatch(Mf(r,i),{effects:o}),!0}const fee=t=>wwe(t,!1),NO=t=>wwe(t,!0);function Sp(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=Qe.cursor(r.from+o))}return i}const uwt=t=>bc(t,e=>Sp(t,e,!0)),cwt=t=>bc(t,e=>Sp(t,e,!1)),fwt=t=>bc(t,e=>Sp(t,e,!Pa(t))),dwt=t=>bc(t,e=>Sp(t,e,Pa(t))),hwt=t=>bc(t,e=>Qe.cursor(t.lineBlockAt(e.head).from,1)),pwt=t=>bc(t,e=>Qe.cursor(t.lineBlockAt(e.head).to,-1));function mwt(t,e,n){let r=!1,i=zy(t.selection,o=>{let a=jc(t,o.head,-1)||jc(t,o.head,1)||o.head>0&&jc(t,o.head-1,1)||o.head<t.doc.length&&jc(t,o.head+1,-1);if(!a||!a.end)return o;r=!0;let s=a.start.from==o.head?a.end.to:a.end.from;return Qe.cursor(s)});return r?(e(Mf(t,i)),!0):!1}const gwt=({state:t,dispatch:e})=>mwt(t,e);function Tu(t,e){let n=zy(t.state.selection,r=>{let i=e(r);return Qe.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Mf(t.state,n)),!0)}function xwe(t,e){return Tu(t,n=>t.moveByChar(n,e))}const Swe=t=>xwe(t,!Pa(t)),_we=t=>xwe(t,Pa(t));function Cwe(t,e){return Tu(t,n=>t.moveByGroup(n,e))}const vwt=t=>Cwe(t,!Pa(t)),ywt=t=>Cwe(t,Pa(t)),bwt=t=>Tu(t,e=>nE(t.state,e,!Pa(t))),wwt=t=>Tu(t,e=>nE(t.state,e,Pa(t)));function kwe(t,e){return Tu(t,n=>t.moveVertically(n,e))}const Ewe=t=>kwe(t,!1),Awe=t=>kwe(t,!0);function Twe(t,e){return Tu(t,n=>t.moveVertically(n,e,bwe(t).height))}const dee=t=>Twe(t,!1),hee=t=>Twe(t,!0),xwt=t=>Tu(t,e=>Sp(t,e,!0)),Swt=t=>Tu(t,e=>Sp(t,e,!1)),_wt=t=>Tu(t,e=>Sp(t,e,!Pa(t))),Cwt=t=>Tu(t,e=>Sp(t,e,Pa(t))),kwt=t=>Tu(t,e=>Qe.cursor(t.lineBlockAt(e.head).from)),Ewt=t=>Tu(t,e=>Qe.cursor(t.lineBlockAt(e.head).to)),pee=({state:t,dispatch:e})=>(e(Mf(t,{anchor:0})),!0),mee=({state:t,dispatch:e})=>(e(Mf(t,{anchor:t.doc.length})),!0),gee=({state:t,dispatch:e})=>(e(Mf(t,{anchor:t.selection.main.anchor,head:0})),!0),vee=({state:t,dispatch:e})=>(e(Mf(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Awt=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),Twt=({state:t,dispatch:e})=>{let n=rE(t).map(({from:r,to:i})=>Qe.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Qe.create(n),userEvent:"select"})),!0},Mwt=({state:t,dispatch:e})=>{let n=zy(t.selection,r=>{let i=ta(t),o=i.resolveStack(r.from,1);if(r.empty){let a=i.resolveStack(r.from,-1);a.node.from>=o.node.from&&a.node.to<=o.node.to&&(o=a)}for(let a=o;a;a=a.next){let{node:s}=a;if((s.from<r.from&&s.to>=r.to||s.to>r.to&&s.from<=r.from)&&a.next)return Qe.range(s.to,s.from)}return r});return n.eq(t.selection)?!1:(e(Mf(t,n)),!0)},Dwt=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Qe.create([n.main]):n.main.empty||(r=Qe.create([Qe.cursor(n.main.head)])),r?(e(Mf(t,r)),!0):!1};function q4(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(o=>{let{from:a,to:s}=o;if(a==s){let l=e(o);l<a?(n="delete.backward",l=c6(t,l,!1)):l>a&&(n="delete.forward",l=c6(t,l,!0)),a=Math.min(a,l),s=Math.max(s,l)}else a=c6(t,a,!1),s=c6(t,s,!0);return a==s?{range:o}:{changes:{from:a,to:s},range:Qe.cursor(a,a<o.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Dt.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function c6(t,e,n){if(t instanceof Dt)for(let r of t.state.facet(Dt.atomicRanges).map(i=>i(t)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=n?o:i)});return e}const Mwe=(t,e,n)=>q4(t,r=>{let i=r.from,{state:o}=t,a=o.doc.lineAt(i),s,l;if(n&&!e&&i>a.from&&i<a.from+200&&!/[^ \t]/.test(s=a.text.slice(0,i-a.from))){if(s[s.length-1]=="	")return i-1;let u=Ny(s,o.tabSize),c=u%t1(o)||t1(o);for(let f=0;f<c&&s[s.length-1-f]==" ";f++)i--;l=i}else l=Zo(a.text,i-a.from,e,e)+a.from,l==i&&a.number!=(e?o.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(l-a.from,i-a.from))&&(l=Zo(a.text,l-a.from,!1,!1)+a.from);return l}),OO=t=>Mwe(t,!1,!0),Dwe=t=>Mwe(t,!0,!1),Nwe=(t,e)=>q4(t,n=>{let r=n.head,{state:i}=t,o=i.doc.lineAt(r),a=i.charCategorizer(r);for(let s=null;;){if(r==(e?o.to:o.from)){r==n.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=Zo(o.text,r-o.from,e)+o.from,u=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),c=a(u);if(s!=null&&c!=s)break;(u!=" "||r!=n.head)&&(s=c),r=l}return r}),Owe=t=>Nwe(t,!1),Nwt=t=>Nwe(t,!0),Owt=t=>q4(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Iwt=t=>q4(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),Pwt=t=>q4(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Rwt=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:tr.of(["",""])},range:Qe.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},Fwt=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,o=t.doc.lineAt(i),a=i==o.from?i-1:Zo(o.text,i-o.from,!1)+o.from,s=i==o.to?i+1:Zo(o.text,i-o.from,!0)+o.from;return{changes:{from:a,to:s,insert:t.doc.slice(i,s).append(t.doc.slice(a,i))},range:Qe.cursor(s)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function rE(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=t.doc.lineAt(r.to-1)),n>=i.number){let a=e[e.length-1];a.to=o.to,a.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function Iwe(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of rE(t)){if(n?o.to==t.doc.length:o.from==0)continue;let a=t.doc.lineAt(n?o.to+1:o.from-1),s=a.length+1;if(n){r.push({from:o.to,to:a.to},{from:o.from,insert:a.text+t.lineBreak});for(let l of o.ranges)i.push(Qe.range(Math.min(t.doc.length,l.anchor+s),Math.min(t.doc.length,l.head+s)))}else{r.push({from:a.from,to:o.from},{from:o.to,insert:t.lineBreak+a.text});for(let l of o.ranges)i.push(Qe.range(l.anchor-s,l.head-s))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Qe.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Lwt=({state:t,dispatch:e})=>Iwe(t,e,!1),$wt=({state:t,dispatch:e})=>Iwe(t,e,!0);function Pwe(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of rE(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Bwt=({state:t,dispatch:e})=>Pwe(t,e,!1),zwt=({state:t,dispatch:e})=>Pwe(t,e,!0),qwt=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(rE(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=zy(e.selection,i=>{let o;if(t.lineWrapping){let a=t.lineBlockAt(i.head),s=t.coordsAtPos(i.head,i.assoc||1);s&&(o=a.bottom+t.documentTop-s.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,o)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Vwt(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=ta(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(Bn.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const yee=Rwe(!1),Hwt=Rwe(!0);function Rwe(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:a}=i,s=e.doc.lineAt(o),l=!t&&o==a&&Vwt(e,o);t&&(o=a=(a<=s.to?s:e.doc.lineAt(a)).to);let u=new h7(e,{simulateBreak:o,simulateDoubleBreak:!!l}),c=QF(u,o);for(c==null&&(c=Ny(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));a<s.to&&/\s/.test(s.text[a-s.from]);)a++;l?{from:o,to:a}=l:o>s.from&&o<s.from+100&&!/\S/.test(s.text.slice(0,o))&&(o=s.from);let f=["",hw(e,c)];return l&&f.push(hw(e,u.lineIndent(s.from,-1))),{changes:{from:o,to:a,insert:tr.of(f)},range:Qe.cursor(o+1+f[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function oB(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let s=t.doc.lineAt(a);s.number>n&&(r.empty||r.to>s.from)&&(e(s,i,r),n=s.number),a=s.to+1}let o=t.changes(i);return{changes:i,range:Qe.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const Uwt=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new h7(t,{overrideIndentation:o=>{let a=n[o];return a??-1}}),i=oB(t,(o,a,s)=>{let l=QF(r,o.from);if(l==null)return;/\S/.test(o.text)||(l=0);let u=/^\s*/.exec(o.text)[0],c=hw(t,l);(u!=c||s.from<o.from+u.length)&&(n[o.from]=l,a.push({from:o.from,to:o.from+u.length,insert:c}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},Fwe=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(oB(t,(n,r)=>{r.push({from:n.from,insert:t.facet(d7)})}),{userEvent:"input.indent"})),!0),Lwe=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(oB(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=Ny(i,t.tabSize),a=0,s=hw(t,Math.max(0,o-t1(t)));for(;a<i.length&&a<s.length&&i.charCodeAt(a)==s.charCodeAt(a);)a++;r.push({from:n.from+a,to:n.from+i.length,insert:s.slice(a)})}),{userEvent:"delete.dedent"})),!0),jwt=t=>(t.setTabFocusMode(),!0),Wwt=[{key:"Ctrl-b",run:hwe,shift:Swe,preventDefault:!0},{key:"Ctrl-f",run:pwe,shift:_we},{key:"Ctrl-p",run:vwe,shift:Ewe},{key:"Ctrl-n",run:ywe,shift:Awe},{key:"Ctrl-a",run:hwt,shift:kwt},{key:"Ctrl-e",run:pwt,shift:Ewt},{key:"Ctrl-d",run:Dwe},{key:"Ctrl-h",run:OO},{key:"Ctrl-k",run:Owt},{key:"Ctrl-Alt-h",run:Owe},{key:"Ctrl-o",run:Rwt},{key:"Ctrl-t",run:Fwt},{key:"Ctrl-v",run:NO}],Gwt=[{key:"ArrowLeft",run:hwe,shift:Swe,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:iwt,shift:vwt,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:fwt,shift:_wt,preventDefault:!0},{key:"ArrowRight",run:pwe,shift:_we,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:owt,shift:ywt,preventDefault:!0},{mac:"Cmd-ArrowRight",run:dwt,shift:Cwt,preventDefault:!0},{key:"ArrowUp",run:vwe,shift:Ewe,preventDefault:!0},{mac:"Cmd-ArrowUp",run:pee,shift:gee},{mac:"Ctrl-ArrowUp",run:fee,shift:dee},{key:"ArrowDown",run:ywe,shift:Awe,preventDefault:!0},{mac:"Cmd-ArrowDown",run:mee,shift:vee},{mac:"Ctrl-ArrowDown",run:NO,shift:hee},{key:"PageUp",run:fee,shift:dee},{key:"PageDown",run:NO,shift:hee},{key:"Home",run:cwt,shift:Swt,preventDefault:!0},{key:"Mod-Home",run:pee,shift:gee},{key:"End",run:uwt,shift:xwt,preventDefault:!0},{key:"Mod-End",run:mee,shift:vee},{key:"Enter",run:yee,shift:yee},{key:"Mod-a",run:Awt},{key:"Backspace",run:OO,shift:OO},{key:"Delete",run:Dwe},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Owe},{key:"Mod-Delete",mac:"Alt-Delete",run:Nwt},{mac:"Mod-Backspace",run:Iwt},{mac:"Mod-Delete",run:Pwt}].concat(Wwt.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),$we=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:swt,shift:bwt},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:lwt,shift:wwt},{key:"Alt-ArrowUp",run:Lwt},{key:"Shift-Alt-ArrowUp",run:Bwt},{key:"Alt-ArrowDown",run:$wt},{key:"Shift-Alt-ArrowDown",run:zwt},{key:"Escape",run:Dwt},{key:"Mod-Enter",run:Hwt},{key:"Alt-l",mac:"Ctrl-l",run:Twt},{key:"Mod-i",run:Mwt,preventDefault:!0},{key:"Mod-[",run:Lwe},{key:"Mod-]",run:Fwe},{key:"Mod-Alt-\\",run:Uwt},{key:"Shift-Mod-k",run:qwt},{key:"Shift-Mod-\\",run:gwt},{key:"Mod-/",run:B3t},{key:"Alt-A",run:q3t},{key:"Ctrl-m",mac:"Shift-Alt-m",run:jwt}].concat(Gwt),Kwt={key:"Tab",run:Fwe,shift:Lwe};var c8=200,Do=function(){};Do.prototype.append=function(e){return e.length?(e=Do.from(e),!this.length&&e||e.length<c8&&this.leafAppend(e)||this.length<c8&&e.leafPrepend(this)||this.appendInner(e)):this};Do.prototype.prepend=function(e){return e.length?Do.from(e).append(this):this};Do.prototype.appendInner=function(e){return new Xwt(this,e)};Do.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Do.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Do.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Do.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Do.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,a){return i.push(e(o,a))},n,r),i};Do.from=function(e){return e instanceof Do?e:e&&e.length?new Bwe(e):Do.empty};var Bwe=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=c8)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=c8)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Do);Do.empty=new Bwe([]);var Xwt=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(r,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(r,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(r,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(r,Math.min(i,s),o,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Do);const Ywt=500;class ju{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let a=e.tr,s,l,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(r,d+1),o=i.maps.length),o--,c.push(f);return}if(i){c.push(new Pc(f.map));let h=f.step.map(i.slice(o)),p;h&&a.maybeStep(h).doc&&(p=a.mapping.maps[a.mapping.maps.length-1],u.push(new Pc(p,void 0,void 0,u.length+c.length))),o--,p&&i.appendMap(p,o)}else a.maybeStep(f.step);if(f.selection)return s=i?f.selection.map(i.slice(o)):f.selection,l=new ju(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(e,n,r,i){let o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new Pc(e.mapping.maps[c],f,n),h;(h=l&&l.merge(d))&&(d=h,c?o.pop():s=s.slice(0,s.length-1)),o.push(d),n&&(a++,n=void 0),i||(l=d)}let u=a-r.depth;return u>Jwt&&(s=Zwt(s,u),a-=u),new ju(s.append(o),a)}remapping(e,n){let r=new vw;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new ju(this.items.append(e.map(n=>new Pc(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,a=e.steps.length,s=this.eventCount;this.items.forEach(d=>{d.selection&&s--},i);let l=n;this.items.forEach(d=>{let h=o.getMirror(--l);if(h==null)return;a=Math.min(a,h);let p=o.maps[h];if(d.step){let m=e.steps[h].invert(e.docs[h]),g=d.selection&&d.selection.map(o.slice(l+1,h));g&&s++,r.push(new Pc(p,m,g))}else r.push(new Pc(p))},i);let u=[];for(let d=n;d<a;d++)u.push(new Pc(o.maps[d]));let c=this.items.slice(0,i).append(u).append(r),f=new ju(c,s);return f.emptyItemCount()>Ywt&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((a,s)=>{if(s>=e)i.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let c=a.selection&&a.selection.map(n.slice(r));c&&o++;let f=new Pc(u.invert(),l,c),d,h=i.length-1;(d=i.length&&i[h].merge(f))?i[h]=d:i.push(f)}}else a.map&&r--},this.items.length,0),new ju(Do.from(i.reverse()),o)}}ju.empty=new ju(Do.empty,0);function Zwt(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Pc{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Pc(n.getMap().invert(),n,this.selection)}}}class Jh{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const Jwt=20;function Qwt(t,e,n,r){let i=n.getMeta(Bm),o;if(i)return i.historyState;n.getMeta(n4t)&&(t=new Jh(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Bm))return a.getMeta(Bm).redo?new Jh(t.done.addTransform(n,void 0,r,jS(e)),t.undone,bee(n.mapping.maps),t.prevTime,t.prevComposition):new Jh(t.done,t.undone.addTransform(n,void 0,r,jS(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=n.getMeta("composition"),l=t.prevTime==0||!a&&t.prevComposition!=s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!e4t(n,t.prevRanges)),u=a?_T(t.prevRanges,n.mapping):bee(n.mapping.maps);return new Jh(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,jS(e)),ju.empty,u,n.time,s??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Jh(t.done.rebased(n,o),t.undone.rebased(n,o),_T(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Jh(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),_T(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function e4t(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function bee(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,a)=>e.push(o,a));return e}function _T(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function t4t(t,e,n){let r=jS(e),i=Bm.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),l=new Jh(n?s:o.remaining,n?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(Bm,{redo:n,historyState:l})}let CT=!1,wee=null;function jS(t){let e=t.plugins;if(wee!=e){CT=!1,wee=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){CT=!0;break}}return CT}const Bm=new Ai("history"),n4t=new Ai("closeHistory");function r4t(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new yi({key:Bm,state:{init(){return new Jh(ju.empty,ju.empty,null,0,-1)},apply(e,n,r){return Qwt(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?iE:r=="historyRedo"?Zv:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function zwe(t,e){return(n,r)=>{let i=Bm.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=t4t(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const iE=zwe(!1,!0),Zv=zwe(!0,!0);var i4t=Object.defineProperty,xee=Object.getOwnPropertySymbols,o4t=Object.prototype.hasOwnProperty,a4t=Object.prototype.propertyIsEnumerable,See=(t,e,n)=>e in t?i4t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,s4t=(t,e)=>{for(var n in e||(e={}))o4t.call(e,n)&&See(t,n,e[n]);if(xee)for(var n of xee(e))a4t.call(e,n)&&See(t,n,e[n]);return t};function qwe(t,e){return Object.assign(t,{meta:s4t({package:"@milkdown/components"},e)}),t}const l4t={extensions:[],languages:[],expandIcon:"",searchIcon:"",clearSearchIcon:"",searchPlaceholder:"Search language",noResultText:"No result",copyText:"Copy",copyIcon:"",onCopy:()=>{},renderLanguage:t=>t,renderPreview:()=>null,previewToggleButton:t=>t?"Edit":"Hide",previewLabel:"Preview"},V4=Fr(l4t,"codeBlockConfigCtx");qwe(V4,{displayName:"Config<code-block>",group:"CodeBlock"});class u4t{constructor(e){this.languages=e,this.map={},e.forEach(n=>{n.alias.forEach(r=>{this.map[r]=n})})}getAll(){return this.languages.map(e=>({name:e.name,alias:e.alias}))}load(e){const r=this.map[e.toLowerCase()];return r?r.support?Promise.resolve(r.support):r.load():Promise.resolve(void 0)}}function ov({icon:t,class:e,onClick:n}){return he("span",{class:na("milkdown-icon",e),onPointerdown:n,ref:r=>{r&&t&&(r.innerHTML=yc.sanitize(t.trim()))}})}ov.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};var c4t=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{s(n.next(l))}catch(u){i(u)}},a=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,a);s((n=n.apply(t,e)).next())});function f4t(t){return c4t(this,null,function*(){try{return navigator.clipboard.writeText(t)}catch{const n=document.createElement("textarea"),r=document.activeElement;n.value=t,n.setAttribute("readonly",""),n.style.contain="strict",n.style.position="absolute",n.style.left="-9999px",n.style.fontSize="12pt";const i=document.getSelection(),o=i?i.rangeCount>0&&i.getRangeAt(0):null;document.body.appendChild(n),n.select(),n.selectionStart=0,n.selectionEnd=t.length,document.execCommand("copy"),document.body.removeChild(n),o&&(i.removeAllRanges(),i.addRange(o)),r&&r.focus()}})}const d4t=nt({props:{copyText:{type:String,required:!0},copyIcon:{type:String,required:!0},onCopy:{type:Function,required:!0},text:{type:String,required:!0}},setup(t){const e=()=>{f4t(t.text).then(()=>t.onCopy(t.text)).catch(console.error)};return()=>he(Tt,null,he("button",{type:"button",class:"copy-button",onClick:e},he(ov,{icon:t.copyIcon}),t.copyText))}}),h4t=nt({props:{language:{type:Object,required:!0},getReadOnly:{type:Function,required:!0},config:{type:Object,required:!0},getAllLanguages:{type:Function,required:!0},setLanguage:{type:Function,required:!0}},setup({language:t,config:e,setLanguage:n,getAllLanguages:r,getReadOnly:i}){const o=we(),a=we(!1),s=we(),l=we(),u=we("");We([a,o,l],()=>{u.value="";const m=o.value,g=l.value;!m||!g||ac(m,g,{placement:"bottom-start"}).then(({x:v,y})=>{Object.assign(g.style,{left:`${v}px`,top:`${y}px`})}).catch(console.error)});const c=m=>{if(m.preventDefault(),m.stopPropagation(),i())return;const g=!a.value;a.value=g,g&&setTimeout(()=>{var v;return(v=s.value)==null?void 0:v.focus()},0)},f=m=>{const g=m.target;u.value=g.value},d=m=>{m.key==="Escape"&&(u.value="")},h=re(()=>{var m;if(!a.value)return[];const g=(m=r())!=null?m:[],v=g.find(b=>b.name.toLowerCase()===t.value.toLowerCase()),y=g.filter(b=>{const w=u.value.toLowerCase();return(b.name.toLowerCase().includes(w)||b.alias.some(x=>x.toLowerCase().includes(w)))&&b!==v});return y.length===0?[]:v?[v,...y]:y}),p=m=>{const g=m.target;if(o.value&&o.value.contains(g))return;const v=l.value,y=o.value;!y||!v||y.dataset.expanded==="true"&&(v.contains(g)||(a.value=!1))};return kt(()=>{window.addEventListener("click",p)}),Oo(()=>{window.removeEventListener("click",p)}),()=>he(Tt,null,he("button",{type:"button",ref:o,class:"language-button",onClick:c,"data-expanded":String(a.value)},t.value||"Text",he("div",{class:"expand-icon"},he(ov,{icon:e.expandIcon}))),he("div",{ref:l,class:"language-picker"},a.value?he("div",{class:"list-wrapper"},he("div",{class:"search-box"},he("div",{class:"search-icon"},he(ov,{icon:e.searchIcon})),he("input",{ref:s,class:"search-input",placeholder:e.searchPlaceholder,value:u.value,onInput:f,onKeydown:d}),he("div",{class:na("clear-icon",u.value.length===0&&"hidden"),onMousedown:m=>{m.preventDefault(),u.value=""}},he(ov,{icon:e.clearSearchIcon}))),he("ul",{class:"language-list",role:"listbox",onKeydown:m=>{if(m.key==="Enter"){const g=document.activeElement;g instanceof HTMLElement&&g.dataset.language&&n(g.dataset.language)}}},h.value.length?h.value.map(m=>he("li",{role:"listitem",tabindex:"0",class:"language-list-item","aria-selected":m.name.toLowerCase()===t.value.toLowerCase(),"data-language":m.name,onClick:()=>{n(m.name),a.value=!1}},e.renderLanguage(m.name,m.name.toLowerCase()===t.value.toLowerCase()))):he("li",{class:"language-list-item no-result"},e.noResultText))):null))}}),p4t=nt({props:{text:{type:Object,required:!0},language:{type:Object,required:!0},config:{type:Object,required:!0},previewOnlyMode:{type:Object,required:!0},preview:{type:Object,required:!0}},setup(t){const{previewOnlyMode:e,config:n,preview:r}=t,i=we();return J0(()=>{const o=i.value;if(!o)return;for(;o.firstChild;)o.removeChild(o.firstChild);const a=r.value;(typeof a=="string"||a instanceof Element)&&(o.innerHTML=yc.sanitize(a))}),()=>r.value?he("div",{class:"preview-panel"},!e.value&&he(Tt,null,he("div",{class:"preview-divider"}),he("div",{class:na("preview-label",e&&"hidden")},n.previewLabel)),he("div",{ref:i,class:"preview"})):null}}),m4t=nt({props:{text:{type:Object,required:!0},selected:{type:Object,required:!0},getReadOnly:{type:Function,required:!0},codemirror:{type:Object,required:!0},language:{type:Object,required:!0},getAllLanguages:{type:Function,required:!0},setLanguage:{type:Function,required:!0},config:{type:Object,required:!0}},setup(t){const e=we(!1),n=we();kt(()=>{for(var o;(o=n.value)!=null&&o.firstChild;)n.value.removeChild(n.value.firstChild);n.value&&n.value.appendChild(t.codemirror.dom)});const r=re(()=>{const o=t.text.value,a=t.language.value;return t.config.renderPreview(a,o)}),i=()=>{};return()=>{var o;return he(Tt,null,he("div",{class:"tools"},he(h4t,{language:t.language,config:t.config,setLanguage:t.setLanguage,getAllLanguages:t.getAllLanguages,getReadOnly:t.getReadOnly}),he("div",{class:"tools-button-group"},he(d4t,{copyIcon:t.config.copyIcon,copyText:t.config.copyText,onCopy:(o=t.config.onCopy)!=null?o:i,text:t.text.value}),r.value?he("button",{class:"preview-toggle-button",onClick:()=>e.value=!e.value},he(ov,{icon:t.config.previewToggleButton(e.value)})):null)),he("div",{ref:n,class:na("codemirror-host",r.value&&e.value&&"hidden")}),he(p4t,{text:t.text,language:t.language,config:t.config,previewOnlyMode:e,preview:r}))}}});class g4t{constructor(e,n,r,i,o){this.node=e,this.view=n,this.getPos=r,this.loader=i,this.config=o,this.selected=we(!1),this.language=we(""),this.text=we(""),this.updating=!1,this.languageName="",this.forwardUpdate=a=>{var s;if(this.updating||!this.cm.hasFocus)return;let l=((s=this.getPos())!=null?s:0)+1;const{main:u}=a.state.selection,c=l+u.from,f=l+u.to,d=this.view.state.selection;if(a.docChanged||d.from!==c||d.to!==f){const h=this.view.state.tr;a.changes.iterChanges((p,m,g,v,y)=>{y.length?h.replaceWith(l+p,l+m,this.view.state.schema.text(y.toString())):h.delete(l+p,l+m),l+=v-g-(m-p)}),h.setSelection(zt.create(h.doc,c,f)),this.view.dispatch(h)}},this.createApp=()=>Aa(m4t,{text:this.text,selected:this.selected,codemirror:this.cm,language:this.language,getAllLanguages:this.getAllLanguages,getReadOnly:()=>!this.view.editable,setLanguage:this.setLanguage,config:this.config}),this.codeMirrorKeymap=()=>{const a=this.view;return[{key:"ArrowUp",run:()=>this.maybeEscape("line",-1)},{key:"ArrowLeft",run:()=>this.maybeEscape("char",-1)},{key:"ArrowDown",run:()=>this.maybeEscape("line",1)},{key:"ArrowRight",run:()=>this.maybeEscape("char",1)},{key:"Mod-Enter",run:()=>zbe(a.state,a.dispatch)?(a.focus(),!0):!1},{key:"Mod-z",run:()=>iE(a.state,a.dispatch)},{key:"Shift-Mod-z",run:()=>Zv(a.state,a.dispatch)},{key:"Mod-y",run:()=>Zv(a.state,a.dispatch)},{key:"Backspace",run:()=>{var s;const l=this.cm.state.selection.ranges;if(l.length>1)return!1;const u=l[0];if(u&&(!u.empty||u.anchor>0)||this.cm.state.doc.lines>=2)return!1;const c=this.view.state,f=(s=this.getPos())!=null?s:0,d=c.tr.replaceWith(f,f+this.node.nodeSize,c.schema.nodes.paragraph.createChecked({},this.node.content));return d.setSelection(zt.near(d.doc.resolve(f))),this.view.dispatch(d),this.view.focus(),!0}}]},this.maybeEscape=(a,s)=>{var l;const{state:u}=this.cm;let c=u.selection.main;if(!c.empty||(a==="line"&&(c=u.doc.lineAt(c.head)),s<0?c.from>0:c.to<u.doc.length))return!1;const f=((l=this.getPos())!=null?l:0)+(s<0?0:this.node.nodeSize),d=zt.near(this.view.state.doc.resolve(f),s),h=this.view.state.tr.setSelection(d).scrollIntoView();return this.view.dispatch(h),this.view.focus(),!0},this.setLanguage=a=>{var s;this.view.dispatch(this.view.state.tr.setNodeAttribute((s=this.getPos())!=null?s:0,"language",a))},this.getAllLanguages=()=>this.loader.getAll(),this.languageConf=new Bv,this.readOnlyConf=new Bv,this.cm=new Dt({doc:this.node.textContent,root:this.view.root,extensions:[this.readOnlyConf.of(gi.readOnly.of(!this.view.editable)),Pve(),Oy.of(this.codeMirrorKeymap()),this.languageConf.of([]),gi.changeFilter.of(()=>this.view.editable),...o.extensions,Dt.updateListener.of(this.forwardUpdate)]}),this.app=this.createApp(),this.dom=this.createDom(this.app),this.disposeSelectedWatcher=J0(()=>{this.selected.value?this.dom.classList.add("selected"):this.dom.classList.remove("selected")}),this.updateLanguage()}createDom(e){const n=document.createElement("div");return n.className="milkdown-code-block",this.text.value=this.node.textContent,e.mount(n),n}updateLanguage(){const e=this.node.attrs.language;if(e===this.languageName)return;this.language.value=e,this.loader.load(e??"").then(r=>{r&&(this.cm.dispatch({effects:this.languageConf.reconfigure(r)}),this.languageName=e)}).catch(console.error)}setSelection(e,n){this.cm.dom.isConnected&&(this.cm.focus(),this.updating=!0,this.cm.dispatch({selection:{anchor:e,head:n}}),this.updating=!1)}update(e){if(e.type!==this.node.type)return!1;if(this.updating)return!0;this.node=e,this.text.value=e.textContent,this.updateLanguage(),this.view.editable===this.cm.state.readOnly&&this.cm.dispatch({effects:this.readOnlyConf.reconfigure(gi.readOnly.of(!this.view.editable))});const n=v4t(this.cm.state.doc.toString(),e.textContent);return n&&(this.updating=!0,this.cm.dispatch({changes:{from:n.from,to:n.to,insert:n.text},scrollIntoView:!0}),this.updating=!1),!0}selectNode(){this.selected.value=!0,this.cm.focus()}deselectNode(){this.selected.value=!1}stopEvent(){return!0}destroy(){this.app.unmount(),this.cm.destroy(),this.disposeSelectedWatcher()}}function v4t(t,e){if(t===e)return null;let n=0,r=t.length,i=e.length;for(;n<r&&t.charCodeAt(n)===e.charCodeAt(n);)++n;for(;r>n&&i>n&&t.charCodeAt(r-1)===e.charCodeAt(i-1);)r--,i--;return{from:n,to:r,text:e.slice(n,i)}}const Vwe=O4(mf.node,t=>{const e=t.get(V4.key),n=new u4t(e.languages);return(r,i,o)=>new g4t(r,i,o,n,e)});qwe(Vwe,{displayName:"NodeView<code-block>",group:"CodeBlock"});const y4t=[Vwe,V4],_ee=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Jv{constructor(e,n,r=0,i=e.length,o,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?s=>o(_ee(s)):_ee,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Ds(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=LF(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Bc(e);let i=this.normalize(n);if(i.length)for(let o=0,a=r;;o++){let s=i.charCodeAt(o),l=this.match(s,a,this.bufferPos+this.bufferStart);if(o==i.length-1){if(l)return this.value=l,this;break}a==r&&o<n.length&&n.charCodeAt(o)==s&&a++}}}match(e,n,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let a=this.matches[o],s=!1;this.query.charCodeAt(a)==e&&(a==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,s=!0)),s||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Jv.prototype[Symbol.iterator]=function(){return this});const Hwe={from:-1,to:-1,match:/.*/.exec("")},aB="gm"+(/x/.unicode==null?"":"u");class Uwe{constructor(e,n,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=Hwe,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new jwe(e,n,r,i,o);this.re=new RegExp(n,aB+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let a=e.lineAt(i);this.curLineStart=a.from,this.matchPos=f8(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=f8(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const kT=new WeakMap;class av{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=kT.get(e);if(!i||i.from>=r||i.to<=n){let s=new av(n,e.sliceString(n,r));return kT.set(e,s),s}if(i.from==n&&i.to==r)return i;let{text:o,from:a}=i;return a>n&&(o=e.sliceString(n,a)+o,a=n),i.to<r&&(o+=e.sliceString(i.to,r)),kT.set(e,new av(a,o)),new av(n,o.slice(n-a,r-a))}}class jwe{constructor(e,n,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=Hwe,this.matchPos=f8(e,i),this.re=new RegExp(n,aB+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=av.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=f8(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=av.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Uwe.prototype[Symbol.iterator]=jwe.prototype[Symbol.iterator]=function(){return this});function b4t(t){try{return new RegExp(t,aB),!0}catch{return!1}}function f8(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function IO(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=Lr("input",{class:"cm-textfield",name:"line",value:e}),r=Lr("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),t.dispatch({effects:s3.of(!1)}),t.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},Lr("label",t.state.phrase("Go to line"),": ",n)," ",Lr("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),Lr("button",{name:"close",onclick:()=>{t.dispatch({effects:s3.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},[""]));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!o)return;let{state:a}=t,s=a.doc.lineAt(a.selection.main.head),[,l,u,c,f]=o,d=c?+c.slice(1):0,h=u?+u:s.number;if(u&&f){let g=h/100;l&&(g=g*(l=="-"?-1:1)+s.number/a.doc.lines),h=Math.round(a.doc.lines*g)}else u&&l&&(h=h*(l=="-"?-1:1)+s.number);let p=a.doc.line(Math.max(1,Math.min(a.doc.lines,h))),m=Qe.cursor(p.from+Math.max(0,Math.min(d,p.length)));t.dispatch({effects:[s3.of(!1),Dt.scrollIntoView(m.from,{y:"center"})],selection:m}),t.focus()}return{dom:r}}const s3=xn.define(),Cee=Io.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(s3)&&(t=n.value);return t},provide:t=>dw.from(t,e=>e?IO:null)}),w4t=t=>{let e=fw(t,IO);if(!e){let n=[s3.of(!0)];t.state.field(Cee,!1)==null&&n.push(xn.appendConfig.of([Cee,x4t])),t.dispatch({effects:n}),e=fw(t,IO)}return e&&e.dom.querySelector("input").select(),!0},x4t=Dt.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),S4t={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},_4t=Et.define({combine(t){return kf(t,S4t,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function C4t(t){return[M4t,T4t]}const k4t=Yt.mark({class:"cm-selectionMatch"}),E4t=Yt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function kee(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=mi.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=mi.Word)}function A4t(t,e,n,r){return t(e.sliceDoc(n,n+1))==mi.Word&&t(e.sliceDoc(r-1,r))==mi.Word}const T4t=io.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(_4t),{state:n}=t,r=n.selection;if(r.ranges.length>1)return Yt.none;let i=r.main,o,a=null;if(i.empty){if(!e.highlightWordAroundCursor)return Yt.none;let l=n.wordAt(i.head);if(!l)return Yt.none;a=n.charCategorizer(i.head),o=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Yt.none;if(e.wholeWords){if(o=n.sliceDoc(i.from,i.to),a=n.charCategorizer(i.head),!(kee(a,n,i.from,i.to)&&A4t(a,n,i.from,i.to)))return Yt.none}else if(o=n.sliceDoc(i.from,i.to),!o)return Yt.none}let s=[];for(let l of t.visibleRanges){let u=new Jv(n.doc,o,l.from,l.to);for(;!u.next().done;){let{from:c,to:f}=u.value;if((!a||kee(a,n,c,f))&&(i.empty&&c<=i.from&&f>=i.to?s.push(E4t.range(c,f)):(c>=i.to||f<=i.from)&&s.push(k4t.range(c,f)),s.length>e.maxMatches))return Yt.none}}return Yt.set(s)}},{decorations:t=>t.decorations}),M4t=Dt.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),D4t=({state:t,dispatch:e})=>{let{selection:n}=t,r=Qe.create(n.ranges.map(i=>t.wordAt(i.head)||Qe.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function N4t(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let a=!1,s=new Jv(t.doc,e,r[r.length-1].to);;)if(s.next(),s.done){if(a)return null;s=new Jv(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),a=!0}else{if(a&&r.some(l=>l.from==s.value.from))continue;if(o){let l=t.wordAt(s.value.from);if(!l||l.from!=s.value.from||l.to!=s.value.to)continue}return s.value}}const O4t=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(o=>o.from===o.to))return D4t({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(o=>t.sliceDoc(o.from,o.to)!=r))return!1;let i=N4t(t,r);return i?(e(t.update({selection:t.selection.addRange(Qe.range(i.from,i.to),!1),effects:Dt.scrollIntoView(i.to)})),!0):!1},qy=Et.define({combine(t){return kf(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new U4t(e),scrollToMatch:e=>Dt.scrollIntoView(e)})}});class Wwe{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||b4t(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new F4t(this):new P4t(this)}getCursor(e,n=0,r){let i=e.doc?e:gi.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?kg(this,i,n,r):Cg(this,i,n,r)}}class Gwe{constructor(e){this.spec=e}}function Cg(t,e,n,r){return new Jv(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?I4t(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function I4t(t,e){return(n,r,i,o)=>((o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=t.sliceString(o,Math.min(t.length,r+2))),(e(d8(i,n-o))!=mi.Word||e(h8(i,n-o))!=mi.Word)&&(e(h8(i,r-o))!=mi.Word||e(d8(i,r-o))!=mi.Word))}class P4t extends Gwe{constructor(e){super(e)}nextMatch(e,n,r){let i=Cg(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let o=Math.min(e.doc.length,n+this.spec.unquoted.length);i=Cg(this.spec,e,0,o).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let o=Math.max(n,i-1e4-this.spec.unquoted.length),a=Cg(this.spec,e,o,i),s=null;for(;!a.nextOverlapping().done;)s=a.value;if(s)return s;if(o==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Cg(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=Cg(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function kg(t,e,n,r){return new Uwe(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?R4t(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function d8(t,e){return t.slice(Zo(t,e,!1),e)}function h8(t,e){return t.slice(e,Zo(t,e))}function R4t(t){return(e,n,r)=>!r[0].length||(t(d8(r.input,r.index))!=mi.Word||t(h8(r.input,r.index))!=mi.Word)&&(t(h8(r.input,r.index+r[0].length))!=mi.Word||t(d8(r.input,r.index+r[0].length))!=mi.Word)}class F4t extends Gwe{nextMatch(e,n,r){let i=kg(this.spec,e,r,e.doc.length).next();return i.done&&(i=kg(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let o=Math.max(n,r-i*1e4),a=kg(this.spec,e,o,r),s=null;for(;!a.next().done;)s=a.value;if(s&&(o==n||s.from>o+10))return s;if(o==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let o=+r.slice(0,i);if(o>0&&o<e.match.length)return e.match[o]+r.slice(i)}return n})}matchAll(e,n){let r=kg(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=kg(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const Tw=xn.define(),sB=xn.define(),E0=Io.define({create(t){return new ET(PO(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Tw)?t=new ET(n.value.create(),t.panel):n.is(sB)&&(t=new ET(t.query,n.value?lB:null));return t},provide:t=>dw.from(t,e=>e.panel)});class ET{constructor(e,n){this.query=e,this.panel=n}}const L4t=Yt.mark({class:"cm-searchMatch"}),$4t=Yt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),B4t=io.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(E0))}update(t){let e=t.state.field(E0);(e!=t.startState.field(E0)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Yt.none;let{view:n}=this,r=new Yd;for(let i=0,o=n.visibleRanges,a=o.length;i<a;i++){let{from:s,to:l}=o[i];for(;i<a-1&&l>o[i+1].from-2*250;)l=o[++i].to;t.highlight(n.state,s,l,(u,c)=>{let f=n.state.selection.ranges.some(d=>d.from==u&&d.to==c);r.add(u,c,f?$4t:L4t)})}return r.finish()}},{decorations:t=>t.decorations});function H4(t){return e=>{let n=e.state.field(E0,!1);return n&&n.query.spec.valid?t(e,n):Ywe(e)}}const p8=H4((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=Qe.single(r.from,r.to),o=t.state.facet(qy);return t.dispatch({selection:i,effects:[uB(t,r),o.scrollToMatch(i.main,t)],userEvent:"select.search"}),Xwe(t),!0}),m8=H4((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let o=Qe.single(i.from,i.to),a=t.state.facet(qy);return t.dispatch({selection:o,effects:[uB(t,i),a.scrollToMatch(o.main,t)],userEvent:"select.search"}),Xwe(t),!0}),z4t=H4((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:Qe.create(n.map(r=>Qe.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),q4t=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],a=0;for(let s=new Jv(t.doc,t.sliceDoc(r,i));!s.next().done;){if(o.length>1e3)return!1;s.value.from==r&&(a=o.length),o.push(Qe.range(s.value.from,s.value.to))}return e(t.update({selection:Qe.create(o,a),userEvent:"select.search.matches"})),!0},Eee=H4((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=e.nextMatch(n,r,r);if(!o)return!1;let a=o,s=[],l,u,c=[];a.from==r&&a.to==i&&(u=n.toText(e.getReplacement(a)),s.push({from:a.from,to:a.to,insert:u}),a=e.nextMatch(n,a.from,a.to),c.push(Dt.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let f=t.state.changes(s);return a&&(l=Qe.single(a.from,a.to).map(f),c.push(uB(t,a)),c.push(n.facet(qy).scrollToMatch(l.main,t))),t.dispatch({changes:f,selection:l,effects:c,userEvent:"input.replace"}),!0}),V4t=H4((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:o,to:a}=i;return{from:o,to:a,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Dt.announce.of(r),userEvent:"input.replace.all"}),!0});function lB(t){return t.state.facet(qy).createPanel(t)}function PO(t,e){var n,r,i,o,a;let s=t.selection.main,l=s.empty||s.to>s.from+100?"":t.sliceDoc(s.from,s.to);if(e&&!l)return e;let u=t.facet(qy);return new Wwe({search:((n=e?.literal)!==null&&n!==void 0?n:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:u.literal,regexp:(o=e?.regexp)!==null&&o!==void 0?o:u.regexp,wholeWord:(a=e?.wholeWord)!==null&&a!==void 0?a:u.wholeWord})}function Kwe(t){let e=fw(t,lB);return e&&e.dom.querySelector("[main-field]")}function Xwe(t){let e=Kwe(t);e&&e==t.root.activeElement&&e.select()}const Ywe=t=>{let e=t.state.field(E0,!1);if(e&&e.panel){let n=Kwe(t);if(n&&n!=t.root.activeElement){let r=PO(t.state,e.query.spec);r.valid&&t.dispatch({effects:Tw.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[sB.of(!0),e?Tw.of(PO(t.state,e.query.spec)):xn.appendConfig.of(W4t)]});return!0},Zwe=t=>{let e=t.state.field(E0,!1);if(!e||!e.panel)return!1;let n=fw(t,lB);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:sB.of(!1)}),!0},H4t=[{key:"Mod-f",run:Ywe,scope:"editor search-panel"},{key:"F3",run:p8,shift:m8,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:p8,shift:m8,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Zwe,scope:"editor search-panel"},{key:"Mod-Shift-l",run:q4t},{key:"Mod-Alt-g",run:w4t},{key:"Mod-d",run:O4t,preventDefault:!0}];class U4t{constructor(e){this.view=e;let n=this.query=e.state.field(E0).query.spec;this.commit=this.commit.bind(this),this.searchField=Lr("input",{value:n.search,placeholder:rl(e,"Find"),"aria-label":rl(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Lr("input",{value:n.replace,placeholder:rl(e,"Replace"),"aria-label":rl(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Lr("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=Lr("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=Lr("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,o,a){return Lr("button",{class:"cm-button",name:i,onclick:o,type:"button"},a)}this.dom=Lr("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>p8(e),[rl(e,"next")]),r("prev",()=>m8(e),[rl(e,"previous")]),r("select",()=>z4t(e),[rl(e,"all")]),Lr("label",null,[this.caseField,rl(e,"match case")]),Lr("label",null,[this.reField,rl(e,"regexp")]),Lr("label",null,[this.wordField,rl(e,"by word")]),...e.state.readOnly?[]:[Lr("br"),this.replaceField,r("replace",()=>Eee(e),[rl(e,"replace")]),r("replaceAll",()=>V4t(e),[rl(e,"replace all")])],Lr("button",{name:"close",onclick:()=>Zwe(e),"aria-label":rl(e,"close"),type:"button"},[""])])}commit(){let e=new Wwe({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Tw.of(e)}))}keydown(e){Xlt(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?m8:p8)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Eee(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(Tw)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(qy).top}}function rl(t,e){return t.state.phrase(e)}const f6=30,d6=/[\s\.,:;?!]/;function uB(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,o=Math.max(r.from,e-f6),a=Math.min(i,n+f6),s=t.state.sliceDoc(o,a);if(o!=r.from){for(let l=0;l<f6;l++)if(!d6.test(s[l+1])&&d6.test(s[l])){s=s.slice(l);break}}if(a!=i){for(let l=s.length-1;l>s.length-f6;l--)if(!d6.test(s[l-1])&&d6.test(s[l])){s=s.slice(0,l);break}}return Dt.announce.of(`${t.state.phrase("current match")}. ${s} ${t.state.phrase("on line")} ${r.number}.`)}const j4t=Dt.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),W4t=[E0,mp.low(B4t),j4t];class Jwe{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=ta(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),o=i.search(Qwe(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function Aee(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function G4t(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let o=1;o<i.length;o++)n[i[o]]=!0}let r=Aee(e)+Aee(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function K4t(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:G4t(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:n}:null}}function rOt(t,e){return n=>{for(let r=ta(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class Tee{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function zm(t){return t.selection.main.from}function Qwe(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?t:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const cB=fh.define();function X4t(t,e,n,r){let{main:i}=t.selection,o=n-i.from,a=r-i.from;return Object.assign(Object.assign({},t.changeByRange(s=>{if(s!=i&&n!=r&&t.sliceDoc(s.from+o,s.from+a)!=t.sliceDoc(n,r))return{range:s};let l=t.toText(e);return{changes:{from:s.from+o,to:r==i.from?s.to:s.from+a,insert:l},range:Qe.cursor(s.from+o+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const Mee=new WeakMap;function Y4t(t){if(!Array.isArray(t))return t;let e=Mee.get(t);return e||Mee.set(t,e=K4t(t)),e}const g8=xn.define(),Mw=xn.define();class Z4t{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Ds(e,n),i=Bc(r);this.chars.push(r);let o=e.slice(n,n+i),a=o.toUpperCase();this.folded.push(Ds(a==o?o.toLowerCase():a,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:o,byWord:a}=this;if(n.length==1){let y=Ds(e,0),b=Bc(y),w=b==e.length?0:-100;if(y!=n[0])if(y==r[0])w+=-200;else return null;return this.ret(w,[0,b])}let s=e.indexOf(this.pattern);if(s==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,u=0;if(s<0){for(let y=0,b=Math.min(e.length,200);y<b&&u<l;){let w=Ds(e,y);(w==n[u]||w==r[u])&&(i[u++]=y),y+=Bc(w)}if(u<l)return null}let c=0,f=0,d=!1,h=0,p=-1,m=-1,g=/[a-z]/.test(e),v=!0;for(let y=0,b=Math.min(e.length,200),w=0;y<b&&f<l;){let x=Ds(e,y);s<0&&(c<l&&x==n[c]&&(o[c++]=y),h<l&&(x==n[h]||x==r[h]?(h==0&&(p=y),m=y+1,h++):h=0));let S,_=x<255?x>=48&&x<=57||x>=97&&x<=122?2:x>=65&&x<=90?1:0:(S=LF(x))!=S.toLowerCase()?1:S!=S.toUpperCase()?2:0;(!y||_==1&&g||w==0&&_!=0)&&(n[f]==x||r[f]==x&&(d=!0)?a[f++]=y:a.length&&(v=!1)),w=_,y+=Bc(x)}return f==l&&a[0]==0&&v?this.result(-100+(d?-200:0),a,e):h==l&&p==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):s>-1?this.ret(-700-e.length,[s,s+this.pattern.length]):h==l?this.ret(-900-e.length,[p,m]):f==l?this.result(-100+(d?-200:0)+-700+(v?0:-1100),a,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],o=0;for(let a of n){let s=a+(this.astral?Bc(Ds(r,a)):1);o&&i[o-1]==a?i[o-1]=s:(i[o++]=a,i[o++]=s)}return this.ret(e-r.length,i)}}class J4t{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const To=Et.define({combine(t){return kf(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Q4t,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>Dee(e(r),n(r)),optionClass:(e,n)=>r=>Dee(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function Dee(t,e){return t?e?t+" "+e:t:e}function Q4t(t,e,n,r,i,o){let a=t.textDirection==si.RTL,s=a,l=!1,u="top",c,f,d=e.left-i.left,h=i.right-e.right,p=r.right-r.left,m=r.bottom-r.top;if(s&&d<Math.min(p,h)?s=!1:!s&&h<Math.min(p,d)&&(s=!0),p<=(s?d:h))c=Math.max(i.top,Math.min(n.top,i.bottom-m))-e.top,f=Math.min(400,s?d:h);else{l=!0,f=Math.min(400,(a?e.right:i.right-e.left)-30);let y=i.bottom-e.bottom;y>=m||y>e.top?c=n.bottom-e.top:(u="bottom",c=e.bottom-n.top)}let g=(e.bottom-e.top)/o.offsetHeight,v=(e.right-e.left)/o.offsetWidth;return{style:`${u}: ${c/g}px; max-width: ${f/v}px`,class:"cm-completionInfo-"+(l?a?"left-narrow":"right-narrow":s?"left":"right")}}function ext(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,o){let a=document.createElement("span");a.className="cm-completionLabel";let s=n.displayLabel||n.label,l=0;for(let u=0;u<o.length;){let c=o[u++],f=o[u++];c>l&&a.appendChild(document.createTextNode(s.slice(l,c)));let d=a.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(s.slice(c,f))),d.className="cm-completionMatchedText",l=f}return l<s.length&&a.appendChild(document.createTextNode(s.slice(l))),a},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function AT(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class txt{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:o,selected:a}=i.open,s=e.state.facet(To);this.optionContent=ext(s),this.optionClass=s.optionClass,this.tooltipClass=s.tooltipClass,this.range=AT(o.length,a,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(n).open;for(let c=l.target,f;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(f=/-(\d+)$/.exec(c.id))&&+f[1]<u.length){this.applyCompletion(e,u[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(To).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Mw.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:a,disabled:s}=r.open;(!i.open||i.open.options!=o)&&(this.range=AT(o.length,a,e.state.facet(To).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),s!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!s)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=AT(n.options.length,n.selected,this.view.state.facet(To).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,r)}).catch(a=>Fs(this.view.state,a,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&rxt(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let a=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return i.top>Math.min(o.bottom,n.bottom)-10||i.bottom<Math.max(o.top,n.top)+10?null:this.view.state.facet(To).positionInfo(this.view,n,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",a=>{a.target==i&&a.preventDefault()});let o=null;for(let a=r.from;a<r.to;a++){let{completion:s,match:l}=e[a],{section:u}=s;if(u){let d=typeof u=="string"?u:u.name;if(d!=o&&(a>r.from||r.from==0))if(o=d,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let h=i.appendChild(document.createElement("completion-section"));h.textContent=d}}const c=i.appendChild(document.createElement("li"));c.id=n+"-"+a,c.setAttribute("role","option");let f=this.optionClass(s);f&&(c.className=f);for(let d of this.optionContent){let h=d(s,this.view.state,this.view,l);h&&c.appendChild(h)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function nxt(t,e){return n=>new txt(n,t,e)}function rxt(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function Nee(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function ixt(t,e){let n=[],r=null,i=u=>{n.push(u);let{section:c}=u.completion;if(c){r||(r=[]);let f=typeof c=="string"?c:c.name;r.some(d=>d.name==f)||r.push(typeof c=="string"?{name:f}:c)}},o=e.facet(To);for(let u of t)if(u.hasResult()){let c=u.result.getMatch;if(u.result.filter===!1)for(let f of u.result.options)i(new Tee(f,u.source,c?c(f):[],1e9-n.length));else{let f=e.sliceDoc(u.from,u.to),d,h=o.filterStrict?new J4t(f):new Z4t(f);for(let p of u.result.options)if(d=h.match(p.label)){let m=p.displayLabel?c?c(p,d.matched):[]:d.matched;i(new Tee(p,u.source,m,d.score+(p.boost||0)))}}}if(r){let u=Object.create(null),c=0,f=(d,h)=>{var p,m;return((p=d.rank)!==null&&p!==void 0?p:1e9)-((m=h.rank)!==null&&m!==void 0?m:1e9)||(d.name<h.name?-1:1)};for(let d of r.sort(f))c-=1e5,u[d.name]=c;for(let d of n){let{section:h}=d.completion;h&&(d.score+=u[typeof h=="string"?h:h.name])}}let a=[],s=null,l=o.compareCompletions;for(let u of n.sort((c,f)=>f.score-c.score||l(c.completion,f.completion))){let c=u.completion;!s||s.label!=c.label||s.detail!=c.detail||s.type!=null&&c.type!=null&&s.type!=c.type||s.apply!=c.apply||s.boost!=c.boost?a.push(u):Nee(u.completion)>Nee(s)&&(a[a.length-1]=u),s=u.completion}return a}class Fg{constructor(e,n,r,i,o,a){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=a}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Fg(this.options,Oee(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,o,a){if(i&&!a&&e.some(u=>u.isPending))return i.setDisabled();let s=ixt(e,n);if(!s.length)return i&&e.some(u=>u.isPending)?i.setDisabled():null;let l=n.facet(To).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let u=i.options[i.selected].completion;for(let c=0;c<s.length;c++)if(s[c].completion==u){l=c;break}}return new Fg(s,Oee(r,l),{pos:e.reduce((u,c)=>c.hasResult()?Math.min(u,c.from):u,1e8),create:cxt,above:o.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Fg(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Fg(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class v8{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new v8(lxt,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(To),o=(r.override||n.languageDataAt("autocomplete",zm(n)).map(Y4t)).map(l=>(this.active.find(c=>c.source==l)||new iu(l,this.active.some(c=>c.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((l,u)=>l==this.active[u])&&(o=this.active);let a=this.open,s=e.effects.some(l=>l.is(fB));a&&e.docChanged&&(a=a.map(e.changes)),e.selection||o.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!oxt(o,this.active)||s?a=Fg.build(o,n,this.id,a,r,s):a&&a.disabled&&!o.some(l=>l.isPending)&&(a=null),!a&&o.every(l=>!l.isPending)&&o.some(l=>l.hasResult())&&(o=o.map(l=>l.hasResult()?new iu(l.source,0):l));for(let l of e.effects)l.is(t4e)&&(a=a&&a.setSelected(l.value,this.id));return o==this.active&&a==this.open?this:new v8(o,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?axt:sxt}}function oxt(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,o=r==e.length;if(i||o)return i==o;if(t[n++].result!=e[r++].result)return!1}}const axt={"aria-autocomplete":"list"},sxt={};function Oee(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const lxt=[];function e4e(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(cB);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class iu{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=e4e(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new iu(i.source,0)),r&4&&i.state==0&&(i=new iu(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(g8))i=new iu(i.source,1,o.value);else if(o.is(Mw))i=new iu(i.source,0);else if(o.is(fB))for(let a of o.value)a.source==i.source&&(i=a);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(zm(e.state))}}class sv extends iu{constructor(e,n,r,i,o,a){super(e,3,n),this.limit=r,this.result=i,this.from=o,this.to=a}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),s=zm(e.state);if(s>a||!i||n&2&&(zm(e.startState)==this.from||s<this.limit))return new iu(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return uxt(i.validFor,e.state,o,a)?new sv(this.source,this.explicit,l,i,o,a):i.update&&(i=i.update(i,o,a,new Jwe(e.state,s,!1)))?new sv(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:zm(e.state)):new iu(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new sv(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new iu(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function uxt(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):Qwe(t,!0).test(i)}const fB=xn.define({map(t,e){return t.map(n=>n.map(e))}}),t4e=xn.define(),Os=Io.define({create(){return v8.start()},update(t,e){return t.update(e)},provide:t=>[JF.from(t,e=>e.tooltip),Dt.contentAttributes.from(t,e=>e.attrs)]});function dB(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Os).active.find(i=>i.source==e.source);return r instanceof sv?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},X4t(t.state,n,r.from,r.to)),{annotations:cB.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}const cxt=nxt(Os,dB);function h6(t,e="option"){return n=>{let r=n.state.field(Os,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(To).interactionDelay)return!1;let i=1,o;e=="page"&&(o=$ve(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,s=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:a-1;return s<0?s=e=="page"?0:a-1:s>=a&&(s=e=="page"?a-1:0),n.dispatch({effects:t4e.of(s)}),!0}}const fxt=t=>{let e=t.state.field(Os,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(To).interactionDelay?!1:dB(t,e.open.options[e.open.selected])},Iee=t=>t.state.field(Os,!1)?(t.dispatch({effects:g8.of(!0)}),!0):!1,dxt=t=>{let e=t.state.field(Os,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Mw.of(null)}),!0)};class hxt{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const pxt=50,mxt=1e3,gxt=io.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Os).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Os),n=t.state.facet(To);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Os)==e)return;let r=t.transactions.some(o=>{let a=e4e(o,n);return a&8||(o.selection||o.docChanged)&&!(a&3)});for(let o=0;o<this.running.length;o++){let a=this.running[o];if(r||a.context.abortOnDocChange&&t.docChanged||a.updates.length+t.transactions.length>pxt&&Date.now()-a.time>mxt){for(let s of a.context.abortListeners)try{s()}catch(l){Fs(this.view.state,l)}a.context.abortListeners=null,this.running.splice(o--,1)}else a.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(o=>o.effects.some(a=>a.is(g8)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(a=>a.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of t.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Os);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(To).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=zm(e),r=new Jwe(e,n,t.explicit,this.view),i=new hxt(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Mw.of(null)}),Fs(this.view.state,o)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(To).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(To),r=this.view.state.field(Os);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let s=zm(o.updates.length?o.updates[0].startState:this.view.state),l=Math.min(s,o.done.from+(o.active.explicit?0:1)),u=new sv(o.active.source,o.active.explicit,l,o.done,o.done.from,(t=o.done.to)!==null&&t!==void 0?t:s);for(let c of o.updates)u=u.update(c,n);if(u.hasResult()){e.push(u);continue}}let a=r.active.find(s=>s.source==o.active.source);if(a&&a.isPending)if(o.done==null){let s=new iu(o.active.source,0);for(let l of o.updates)s=s.update(l,n);s.isPending||e.push(s)}else this.startQuery(a)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:fB.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Os,!1);if(e&&e.tooltip&&this.view.state.facet(To).closeOnBlur){let n=e.open&&$ve(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Mw.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:g8.of(!1)}),20),this.composing=0}}}),vxt=typeof navigator=="object"&&/Win/.test(navigator.platform),yxt=mp.highest(Dt.domEventHandlers({keydown(t,e){let n=e.state.field(Os,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(vxt&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(a=>a.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(t.key)>-1&&dB(e,r),!1}})),n4e=Dt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class bxt{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class hB{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,Ko.TrackDel),r=e.mapPos(this.to,1,Ko.TrackDel);return n==null||r==null?null:new hB(this.field,n,r)}}class pB{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],o=e.doc.lineAt(n),a=/^\s*/.exec(o.text)[0];for(let l of this.lines){if(r.length){let u=a,c=/^\t*/.exec(l)[0].length;for(let f=0;f<c;f++)u+=e.facet(d7);i.push(n+u.length-c),l=u+l.slice(c)}r.push(l),n+=l.length+1}let s=this.fieldPositions.map(l=>new hB(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:s}}static parse(e){let n=[],r=[],i=[],o;for(let a of e.split(/\r\n?|\n/)){for(;o=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(a);){let s=o[1]?+o[1]:null,l=o[2]||o[3]||"",u=-1,c=l.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<n.length;f++)(s!=null?n[f].seq==s:c&&n[f].name==c)&&(u=f);if(u<0){let f=0;for(;f<n.length&&(s==null||n[f].seq!=null&&n[f].seq<s);)f++;n.splice(f,0,{seq:s,name:c}),u=f;for(let d of i)d.field>=u&&d.field++}i.push(new bxt(u,r.length,o.index,o.index+c.length)),a=a.slice(0,o.index)+l+a.slice(o.index+o[0].length)}a=a.replace(/\\([{}])/g,(s,l,u)=>{for(let c of i)c.line==r.length&&c.from>u&&(c.from--,c.to--);return l}),r.push(a)}return new pB(r,i)}}let wxt=Yt.widget({widget:new class extends dh{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),xxt=Yt.mark({class:"cm-snippetField"});class Vy{constructor(e,n){this.ranges=e,this.active=n,this.deco=Yt.set(e.map(r=>(r.from==r.to?wxt:xxt).range(r.from,r.to)))}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new Vy(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const U4=xn.define({map(t,e){return t&&t.map(e)}}),Sxt=xn.define(),Dw=Io.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(U4))return n.value;if(n.is(Sxt)&&t)return new Vy(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>Dt.decorations.from(t,e=>e?e.deco:Yt.none)});function mB(t,e){return Qe.create(t.filter(n=>n.field==e).map(n=>Qe.range(n.from,n.to)))}function _xt(t){let e=pB.parse(t);return(n,r,i,o)=>{let{text:a,ranges:s}=e.instantiate(n.state,i),{main:l}=n.state.selection,u={changes:{from:i,to:o==l.from?l.to:o,insert:tr.of(a)},scrollIntoView:!0,annotations:r?[cB.of(r),ts.userEvent.of("input.complete")]:void 0};if(s.length&&(u.selection=mB(s,0)),s.some(c=>c.field>0)){let c=new Vy(s,0),f=u.effects=[U4.of(c)];n.state.field(Dw,!1)===void 0&&f.push(xn.appendConfig.of([Dw,Txt,Mxt,n4e]))}n.dispatch(n.state.update(u))}}function r4e(t){return({state:e,dispatch:n})=>{let r=e.field(Dw,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,o=t>0&&!r.ranges.some(a=>a.field==i+t);return n(e.update({selection:mB(r.ranges,i),effects:U4.of(o?null:new Vy(r.ranges,i)),scrollIntoView:!0})),!0}}const Cxt=({state:t,dispatch:e})=>t.field(Dw,!1)?(e(t.update({effects:U4.of(null)})),!0):!1,kxt=r4e(1),Ext=r4e(-1),Axt=[{key:"Tab",run:kxt,shift:Ext},{key:"Escape",run:Cxt}],Pee=Et.define({combine(t){return t.length?t[0]:Axt}}),Txt=mp.highest(Oy.compute([Pee],t=>t.facet(Pee)));function iOt(t,e){return Object.assign(Object.assign({},e),{apply:_xt(t)})}const Mxt=Dt.domEventHandlers({mousedown(t,e){let n=e.state.field(Dw,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(o=>o.from<=r&&o.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:mB(n.ranges,i.field),effects:U4.of(n.ranges.some(o=>o.field>i.field)?new Vy(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),Nw={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},hm=xn.define({map(t,e){let n=e.mapPos(t,-1,Ko.TrackAfter);return n??void 0}}),gB=new class extends Zm{};gB.startSide=1;gB.endSide=-1;const i4e=Io.define({create(){return nr.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(hm)&&(t=t.update({add:[gB.range(n.value,n.value+1)]}));return t}});function Dxt(){return[Oxt,i4e]}const TT="()[]{}<>";function o4e(t){for(let e=0;e<TT.length;e+=2)if(TT.charCodeAt(e)==t)return TT.charAt(e+1);return LF(t<128?t:t+1)}function a4e(t,e){return t.languageDataAt("closeBrackets",e)[0]||Nw}const Nxt=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Oxt=Dt.inputHandler.of((t,e,n,r)=>{if((Nxt?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Bc(Ds(r,0))==1||e!=i.from||n!=i.to)return!1;let o=Rxt(t.state,r);return o?(t.dispatch(o),!0):!1}),Ixt=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=a4e(t,t.selection.main.head).brackets||Nw.brackets,i=null,o=t.changeByRange(a=>{if(a.empty){let s=Fxt(t.doc,a.head);for(let l of r)if(l==s&&oE(t.doc,a.head)==o4e(Ds(l,0)))return{changes:{from:a.head-l.length,to:a.head+l.length},range:Qe.cursor(a.head-l.length)}}return{range:i=a}});return i||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},Pxt=[{key:"Backspace",run:Ixt}];function Rxt(t,e){let n=a4e(t,t.selection.main.head),r=n.brackets||Nw.brackets;for(let i of r){let o=o4e(Ds(i,0));if(e==i)return o==i?Bxt(t,i,r.indexOf(i+i+i)>-1,n):Lxt(t,i,o,n.before||Nw.before);if(e==o&&s4e(t,t.selection.main.from))return $xt(t,i,o)}return null}function s4e(t,e){let n=!1;return t.field(i4e).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function oE(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Bc(Ds(n,0)))}function Fxt(t,e){let n=t.sliceString(e-2,e);return Bc(Ds(n,0))==n.length?n:n.slice(1)}function Lxt(t,e,n,r){let i=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:n,from:a.to}],effects:hm.of(a.to+e.length),range:Qe.range(a.anchor+e.length,a.head+e.length)};let s=oE(t.doc,a.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:e+n,from:a.head},effects:hm.of(a.head+e.length),range:Qe.cursor(a.head+e.length)}:{range:i=a}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function $xt(t,e,n){let r=null,i=t.changeByRange(o=>o.empty&&oE(t.doc,o.head)==n?{changes:{from:o.head,to:o.head+n.length,insert:n},range:Qe.cursor(o.head+n.length)}:r={range:o});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Bxt(t,e,n,r){let i=r.stringPrefixes||Nw.stringPrefixes,o=null,a=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:e,from:s.to}],effects:hm.of(s.to+e.length),range:Qe.range(s.anchor+e.length,s.head+e.length)};let l=s.head,u=oE(t.doc,l),c;if(u==e){if(Ree(t,l))return{changes:{insert:e+e,from:l},effects:hm.of(l+e.length),range:Qe.cursor(l+e.length)};if(s4e(t,l)){let d=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+d.length,insert:d},range:Qe.cursor(l+d.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(c=Fee(t,l-2*e.length,i))>-1&&Ree(t,c))return{changes:{insert:e+e+e+e,from:l},effects:hm.of(l+e.length),range:Qe.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=mi.Word&&Fee(t,l,i)>-1&&!zxt(t,l,e,i))return{changes:{insert:e+e,from:l},effects:hm.of(l+e.length),range:Qe.cursor(l+e.length)}}return{range:o=s}});return o?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function Ree(t,e){let n=ta(t).resolveInner(e+1);return n.parent&&n.from==e}function zxt(t,e,n,r){let i=ta(t).resolveInner(e,-1),o=r.reduce((a,s)=>Math.max(a,s.length),0);for(let a=0;a<5;a++){let s=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),l=s.indexOf(n);if(!l||l>-1&&r.indexOf(s.slice(0,l))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>n.length+l;){if(t.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function Fee(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=mi.Word)return e;for(let i of n){let o=e-i.length;if(t.sliceDoc(o,e)==i&&r(t.sliceDoc(o-1,o))!=mi.Word)return o}return-1}function qxt(t={}){return[yxt,Os,To.of(t),gxt,Vxt,n4e]}const l4e=[{key:"Ctrl-Space",run:Iee},{mac:"Alt-`",run:Iee},{key:"Escape",run:dxt},{key:"ArrowDown",run:h6(!0)},{key:"ArrowUp",run:h6(!1)},{key:"PageDown",run:h6(!0,"page")},{key:"PageUp",run:h6(!1,"page")},{key:"Enter",run:fxt}],Vxt=mp.highest(Oy.computeN([To],t=>t.facet(To).defaultKeymap?[l4e]:[]));class Lee{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class tm{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(Ow).markerFilter;i&&(e=i(e,r));let o=e.slice().sort((c,f)=>c.from-f.from||c.to-f.to),a=new Yd,s=[],l=0;for(let c=0;;){let f=c==o.length?null:o[c];if(!f&&!s.length)break;let d,h;for(s.length?(d=l,h=s.reduce((m,g)=>Math.min(m,g.to),f&&f.from>d?f.from:1e8)):(d=f.from,h=f.to,s.push(f),c++);c<o.length;){let m=o[c];if(m.from==d&&(m.to>m.from||m.to==d))s.push(m),c++,h=Math.min(m.to,h);else{h=Math.min(m.from,h);break}}let p=t5t(s);if(s.some(m=>m.from==m.to||m.from==m.to-1&&r.doc.lineAt(m.from).to==m.from))a.add(d,d,Yt.widget({widget:new Zxt(p),diagnostics:s.slice()}));else{let m=s.reduce((g,v)=>v.markClass?g+" "+v.markClass:g,"");a.add(d,h,Yt.mark({class:"cm-lintRange cm-lintRange-"+p+m,diagnostics:s.slice(),inclusiveEnd:s.some(g=>g.to>h)}))}l=h;for(let m=0;m<s.length;m++)s[m].to<=l&&s.splice(m--,1)}let u=a.finish();return new tm(u,n,Qv(u))}}function Qv(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,o,{spec:a})=>{if(!(e&&a.diagnostics.indexOf(e)<0))if(!r)r=new Lee(i,o,e||a.diagnostics[0]);else{if(a.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new Lee(r.from,o,r.diagnostic)}}),r}function Hxt(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(Ow).hideOn(t,n,r);if(i!=null)return i;let o=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(a=>a.is(u4e))||t.changes.touchesRange(o.from,Math.max(o.to,r)))}function Uxt(t,e){return t.field(Sl,!1)?e:e.concat(xn.appendConfig.of(n5t))}const u4e=xn.define(),vB=xn.define(),c4e=xn.define(),Sl=Io.define({create(){return new tm(Yt.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let o=e.changes.mapPos(t.selected.from,1);r=Qv(n,t.selected.diagnostic,o)||Qv(n,null,o)}!n.size&&i&&e.state.facet(Ow).autoPanel&&(i=null),t=new tm(n,i,r)}for(let n of e.effects)if(n.is(u4e)){let r=e.state.facet(Ow).autoPanel?n.value.length?Iw.open:null:t.panel;t=tm.init(n.value,r,e.state)}else n.is(vB)?t=new tm(t.diagnostics,n.value?Iw.open:null,t.selected):n.is(c4e)&&(t=new tm(t.diagnostics,t.panel,n.value));return t},provide:t=>[dw.from(t,e=>e.panel),Dt.decorations.from(t,e=>e.diagnostics)]}),jxt=Yt.mark({class:"cm-lintRange cm-lintRange-active"});function Wxt(t,e,n){let{diagnostics:r}=t.state.field(Sl),i,o=-1,a=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,u,{spec:c})=>{if(e>=l&&e<=u&&(l==u||(e>l||n>0)&&(e<u||n<0)))return i=c.diagnostics,o=l,a=u,!1});let s=t.state.facet(Ow).tooltipFilter;return i&&s&&(i=s(i,t.state)),i?{pos:o,end:a,above:t.state.doc.lineAt(o).to<a,create(){return{dom:Gxt(t,i)}}}:null}function Gxt(t,e){return Lr("ul",{class:"cm-tooltip-lint"},e.map(n=>d4e(t,n,!1)))}const Kxt=t=>{let e=t.state.field(Sl,!1);(!e||!e.panel)&&t.dispatch({effects:Uxt(t.state,[vB.of(!0)])});let n=fw(t,Iw.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},$ee=t=>{let e=t.state.field(Sl,!1);return!e||!e.panel?!1:(t.dispatch({effects:vB.of(!1)}),!0)},Xxt=t=>{let e=t.state.field(Sl,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},Yxt=[{key:"Mod-Shift-m",run:Kxt,preventDefault:!0},{key:"F8",run:Xxt}],Ow=Et.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},kf(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function f4e(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function d4e(t,e,n){var r;let i=n?f4e(e.actions):[];return Lr("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Lr("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,a)=>{let s=!1,l=d=>{if(d.preventDefault(),s)return;s=!0;let h=Qv(t.state.field(Sl).diagnostics,e);h&&o.apply(t,h.from,h.to)},{name:u}=o,c=i[a]?u.indexOf(i[a]):-1,f=c<0?u:[u.slice(0,c),Lr("u",u.slice(c,c+1)),u.slice(c+1)];return Lr("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${u}${c<0?"":` (access key "${i[a]})"`}.`},f)}),e.source&&Lr("div",{class:"cm-diagnosticSource"},e.source))}class Zxt extends dh{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Lr("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class Bee{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=d4e(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Iw{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)$ee(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],a=f4e(o.actions);for(let s=0;s<a.length;s++)if(a[s].toUpperCase().charCodeAt(0)==i.keyCode){let l=Qv(this.view.state.field(Sl).diagnostics,o);l&&o.actions[s].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=Lr("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=Lr("div",{class:"cm-panel-lint"},this.list,Lr("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>$ee(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Sl).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Sl),r=0,i=!1,o=null,a=new Set;for(e.between(0,this.view.state.doc.length,(s,l,{spec:u})=>{for(let c of u.diagnostics){if(a.has(c))continue;a.add(c);let f=-1,d;for(let h=r;h<this.items.length;h++)if(this.items[h].diagnostic==c){f=h;break}f<0?(d=new Bee(this.view,c),this.items.splice(r,0,d),i=!0):(d=this.items[f],f>r&&(this.items.splice(r,f-r),i=!0)),n&&d.diagnostic==n.diagnostic?d.dom.hasAttribute("aria-selected")||(d.dom.setAttribute("aria-selected","true"),o=d):d.dom.hasAttribute("aria-selected")&&d.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new Bee(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:l})=>{let u=l.height/this.list.offsetHeight;s.top<l.top?this.list.scrollTop-=(l.top-s.top)/u:s.bottom>l.bottom&&(this.list.scrollTop+=(s.bottom-l.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Sl),r=Qv(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:c4e.of(r)})}static open(e){return new Iw(e)}}function Jxt(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function p6(t){return Jxt(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Qxt=Dt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:p6("#d11")},".cm-lintRange-warning":{backgroundImage:p6("orange")},".cm-lintRange-info":{backgroundImage:p6("#999")},".cm-lintRange-hint":{backgroundImage:p6("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function e5t(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function t5t(t){let e="hint",n=1;for(let r of t){let i=e5t(r.severity);i>n&&(n=i,e=r.severity)}return e}const n5t=[Sl,Dt.decorations.compute([Sl],t=>{let{selected:e,panel:n}=t.field(Sl);return!e||!n||e.from==e.to?Yt.none:Yt.set([jxt.range(e.from,e.to)])}),Put(Wxt,{hideOn:Hxt}),Qxt],r5t=[jut(),Kut(),fut(),K3t(),Dct(),Pve(),out(),gi.allowMultipleSelections.of(!0),gct(),rye(Pct,{fallback:!0}),qct(),Dxt(),qxt(),_ut(),Eut(),vut(),C4t(),Oy.of([...Pxt,...$we,...H4t,...rwt,...Ect,...l4e,...Yxt])];function i5t(t={}){return new yi({view(e){return new o5t(e,t)}})}class o5t{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=a=>{this[i](a)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),a=o.width/i.offsetWidth,s=o.height/i.offsetHeight;if(n){let f=e.nodeBefore,d=e.nodeAfter;if(f||d){let h=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(h){let p=h.getBoundingClientRect(),m=f?p.bottom:p.top;f&&d&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let g=this.width/2*s;r={left:p.left,right:p.right,top:m-g,bottom:m+g}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),d=this.width/2*a;r={left:f.left-d,right:f.left+d,top:f.top,bottom:f.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,c;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,c=-pageYOffset;else{let f=l.getBoundingClientRect(),d=f.width/l.offsetWidth,h=f.height/l.offsetHeight;u=f.left-l.scrollLeft*d,c=f.top-l.scrollTop*h}this.element.style.left=(r.left-u)/a+"px",this.element.style.top=(r.top-c)/s+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/s+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let s=Bye(this.editorView.state.doc,a,this.editorView.dragging.slice);s!=null&&(a=s)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Ii extends sn{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Ii.valid(r)?new Ii(r):sn.near(r)}content(){return _t.empty}eq(e){return e instanceof Ii&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ii(e.resolve(n.pos))}getBookmark(){return new yB(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!a5t(e)||!s5t(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Ii.valid(e))return e;let i=e.pos,o=null;for(let a=e.depth;;a--){let s=e.node(a);if(n>0?e.indexAfter(a)<s.childCount:e.index(a)>0){o=s.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let l=e.doc.resolve(i);if(Ii.valid(l))return l}for(;;){let a=n>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!Zt.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=a,i+=n;let s=e.doc.resolve(i);if(Ii.valid(s))return s}return null}}}Ii.prototype.visible=!1;Ii.findFrom=Ii.findGapCursorFrom;sn.jsonID("gapcursor",Ii);class yB{constructor(e){this.pos=e}map(e){return new yB(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Ii.valid(n)?new Ii(n):sn.near(n)}}function a5t(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function s5t(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function l5t(){return new yi({props:{decorations:d5t,createSelectionBetween(t,e,n){return e.pos==n.pos&&Ii.valid(n)?new Ii(n):null},handleClick:c5t,handleKeyDown:u5t,handleDOMEvents:{beforeinput:f5t}}})}const u5t=kL({ArrowLeft:m6("horiz",-1),ArrowRight:m6("horiz",1),ArrowUp:m6("vert",-1),ArrowDown:m6("vert",1)});function m6(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let a=r.selection,s=e>0?a.$to:a.$from,l=a.empty;if(a instanceof zt){if(!o.endOfTextblock(n)||s.depth==0)return!1;l=!1,s=r.doc.resolve(e>0?s.after():s.before())}let u=Ii.findGapCursorFrom(s,e,l);return u?(i&&i(r.tr.setSelection(new Ii(u))),!0):!1}}function c5t(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Ii.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Zt.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Ii(r))),!0)}function f5t(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Ii))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=rt.empty;for(let a=r.length-1;a>=0;a--)i=rt.from(r[a].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new _t(i,0,0));return o.setSelection(zt.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function d5t(t){if(!(t.selection instanceof Ii))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Br.create(t.doc,[no.widget(t.selection.head,e,{key:"gapcursor"})])}function bB(t,e){return Object.assign(t,{meta:{package:"@milkdown/plugin-cursor",...e}}),t}const aE=Fr({},"dropCursorConfig");bB(aE,{displayName:"Ctx<dropCursor>"});const h4e=xo(t=>i5t(t.get(aE.key)));bB(h4e,{displayName:"Prose<dropCursor>"});const p4e=xo(()=>l5t());bB(p4e,{displayName:"Prose<gapCursor>"});const h5t=[aE,h4e,p4e];function p5t(t){var e;const n=(e=void 0)!=null?e:!1;let r=typeof document>"u"?null:document.createElement("div");return new yi({key:m5t,view:i=>{n!==!0&&b5t(i.state.schema,n||[]);const o=i.dom.ownerDocument;r=r||document.createElement("div");const a=r,s=()=>{v5t(i,a)};let l;return window.ResizeObserver&&(l=new window.ResizeObserver(()=>s()),l.observe(i.dom)),o.addEventListener("selectionchange",s),{update:()=>{s()},destroy:()=>{o.removeEventListener("selectionchange",s),l&&l.unobserve(i.dom)}}},props:{handleKeyDown:(i,o)=>{var a;const{selection:s}=i.state;if(o.altKey||o.ctrlKey||o.metaKey||o.shiftKey||o.isComposing||!["ArrowLeft","ArrowRight"].includes(o.key)||!RO(s)||!s.empty)return!1;const l=s.$head,[u,c]=m4e(l),f=i.state.storedMarks||l.marks();if(u&&c&&!Nn.sameSet(u,c)){if(o.key==="ArrowLeft"&&!Nn.sameSet(u,f))return i.dispatch(i.state.tr.setStoredMarks(u)),!0;if(o.key==="ArrowRight"&&!Nn.sameSet(c,f))return i.dispatch(i.state.tr.setStoredMarks(c)),!0}return o.key==="ArrowLeft"&&l.textOffset===1?(i.dispatch(i.state.tr.setSelection(zt.create(i.state.doc,l.pos-1)).setStoredMarks(l.marks())),!0):o.key==="ArrowRight"&&l.textOffset+1===((a=l.parent.maybeChild(l.index()))==null?void 0:a.nodeSize)?(i.dispatch(i.state.tr.setSelection(zt.create(i.state.doc,l.pos+1)).setStoredMarks(l.marks())),!0):!1},decorations:i=>{if(!(!r||!RO(i.selection)||!i.selection.empty))return Br.create(i.doc,[no.widget(0,r,{key:"prosemirror-virtual-cursor"})])},attributes:{class:"virtual-cursor-enabled"}}})}var m5t=new Ai("prosemirror-virtual-cursor");function g5t(t,e){var n;const r=window.getSelection();if(!r||!r.rangeCount)return null;const i=(n=r?.getRangeAt(0))==null?void 0:n.cloneRange();if(!i)return null;i.collapse(e);const o=i.getClientRects(),a=o?.length?o[o.length-1]:null;return a?.height?a:t.coordsAtPos(t.state.selection.head)}function m4e(t){const e=t.index(),n=t.parent.maybeChild(e);let r=t.textOffset?n:null;return!r&&e>0&&(r=t.parent.maybeChild(e-1)),[r?.marks,n?.marks]}function RO(t){return t&&typeof t=="object"&&"$cursor"in t}function v5t(t,e){if(!t||!t.dom||t.isDestroyed||!e)return;const{state:n,dom:r}=t,{selection:i}=n;if(!RO(i))return;const o=g5t(t,i.$head===i.$from);if(!o)return e;const a=r.getBoundingClientRect();let s="prosemirror-virtual-cursor";const l=n.selection.$head,[u,c]=m4e(l),f=n.storedMarks||l.marks();i.$cursor&&u&&c&&f&&!Nn.sameSet(u,c)&&(Nn.sameSet(u,f)?s+=" prosemirror-virtual-cursor-left":Nn.sameSet(c,f)&&(s+=" prosemirror-virtual-cursor-right")),e.className=s,y5t(e,"prosemirror-virtual-cursor-animation"),e.style.height=`${o.bottom-o.top}px`,e.style.left=`${o.left-a.left}px`,e.style.top=`${o.top-a.top}px`}function y5t(t,e){t.classList.remove(e),t.offsetWidth,t.classList.add(e)}function b5t(t,e){for(const[n,r]of Object.entries(t.marks))r.spec.inclusive===!1&&!e.includes(n)&&console.warn(`[prosemirror-virtual-cursor] Virtual cursor does not work well with marks that have inclusive set to false. Please consider removing the inclusive option from the "${n}" mark or adding it to the "skipWarning" option.`)}var w5t=Object.defineProperty,zee=Object.getOwnPropertySymbols,x5t=Object.prototype.hasOwnProperty,S5t=Object.prototype.propertyIsEnumerable,qee=(t,e,n)=>e in t?w5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_5t=(t,e)=>{for(var n in e||(e={}))x5t.call(e,n)&&qee(t,n,e[n]);if(zee)for(var n of zee(e))S5t.call(e,n)&&qee(t,n,e[n]);return t};function g4e(t,e){return Object.assign(t,{meta:_5t({package:"@milkdown/components"},e)}),t}const C5t={imageIcon:"",uploadButton:"Upload",confirmButton:"",uploadPlaceholderText:"/Paste",onUpload:t=>Promise.resolve(URL.createObjectURL(t))},sE=Fr(C5t,"inlineImageConfigCtx");g4e(sE,{displayName:"Config<image-inline>",group:"ImageInline"});function WS({icon:t,class:e,onClick:n}){return he("span",{class:na("milkdown-icon",e),onPointerdown:n,ref:r=>{r&&t&&(r.innerHTML=yc.sanitize(t.trim()))}})}WS.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const k5t=LR("abcdefg",8),E5t=nt({props:{src:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setLink:{type:Function,required:!0},imageIcon:{type:String,required:!1},uploadButton:{type:String,required:!1},confirmButton:{type:String,required:!1},uploadPlaceholderText:{type:String,required:!1},onUpload:{type:Function,required:!0}},setup({readonly:t,src:e,setLink:n,onUpload:r,imageIcon:i,uploadButton:o,confirmButton:a,uploadPlaceholderText:s,className:l}){var u,c;const f=we(!1),d=we(),h=we((u=e.value)!=null?u:""),p=we(k5t()),m=we(((c=e.value)==null?void 0:c.length)!==0),g=w=>{const S=w.target.value;m.value=S.length!==0,h.value=S},v=w=>{var x,S;w.key==="Enter"&&n((S=(x=d.value)==null?void 0:x.value)!=null?S:"")},y=()=>{var w,x;n((x=(w=d.value)==null?void 0:w.value)!=null?x:"")},b=w=>{var x;const S=(x=w.target.files)==null?void 0:x[0];S&&r(S).then(_=>{_&&(n(_),m.value=!0)}).catch(_=>{console.error("An error occurred while uploading image"),console.error(_)})};return()=>he("div",{class:na("image-edit",l)},he(WS,{icon:i,class:"image-icon"}),he("div",{class:na("link-importer",f.value&&"focus")},he("input",{ref:d,draggable:"true",onDragstart:w=>{w.preventDefault(),w.stopPropagation()},disabled:t.value,class:"link-input-area",value:h.value,onInput:g,onKeydown:v,onFocus:()=>f.value=!0,onBlur:()=>f.value=!1}),!m.value&&he("div",{class:"placeholder"},he("input",{disabled:t.value,class:"hidden",id:p.value,type:"file",accept:"image/*",onChange:b}),he("label",{class:"uploader",for:p.value},he(WS,{icon:o})),he("span",{class:"text",onClick:()=>{var w;return(w=d.value)==null?void 0:w.focus()}},s))),h.value&&he("div",{class:"confirm",onClick:()=>y()},he(WS,{icon:a})))}}),A5t=nt({props:{src:{type:Object,required:!0},alt:{type:Object,required:!0},title:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setAttr:{type:Function,required:!0},config:{type:Object,required:!0}},setup(t){const{src:e,alt:n,title:r}=t;return()=>{var i;return(i=e.value)!=null&&i.length?he("img",{class:"image-inline",src:e.value,alt:n.value,title:r.value}):he(E5t,{src:t.src,selected:t.selected,readonly:t.readonly,setLink:o=>t.setAttr("src",o),imageIcon:t.config.imageIcon,uploadButton:t.config.uploadButton,confirmButton:t.config.confirmButton,uploadPlaceholderText:t.config.uploadPlaceholderText,onUpload:t.config.onUpload,className:"empty-image-inline"})}}}),v4e=O4(N1.node,t=>(e,n,r)=>{const i=we(e.attrs.src),o=we(e.attrs.alt),a=we(e.attrs.title),s=we(!1),l=we(!n.editable),u=(g,v)=>{if(!n.editable)return;const y=r();y!=null&&n.dispatch(n.state.tr.setNodeAttribute(y,g,g==="src"?yc.sanitize(v):v))},c=t.get(sE.key),f=Aa(A5t,{src:i,alt:o,title:a,selected:s,readonly:l,setAttr:u,config:c}),d=document.createElement("span");d.className="milkdown-image-inline",f.mount(d);const h=J0(()=>{s.value?d.classList.add("selected"):d.classList.remove("selected")}),p=c.proxyDomURL,m=g=>{if(!p)i.value=g.attrs.src;else{const v=p(g.attrs.src);typeof v=="string"?i.value=v:v.then(y=>{i.value=y}).catch(console.error)}o.value=g.attrs.alt,a.value=g.attrs.title};return m(e),{dom:d,update:g=>g.type!==e.type?!1:(m(g),!0),stopEvent:g=>g.target instanceof HTMLInputElement,selectNode:()=>{s.value=!0},deselectNode:()=>{s.value=!1},destroy:()=>{h(),f.unmount(),d.remove()}}});g4e(v4e,{displayName:"NodeView<image-inline>",group:"ImageInline"});const T5t=[sE,v4e];class pl{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new pl(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class du{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new du(n,pl.range(this,e))}}class ht{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,o,a=n&&n.loc;if(a&&a.start<=a.end){var s=a.lexer.input;i=a.start,o=a.end,i===s.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=s.slice(i,o).replace(/[^]/g,"$&"),u;i>15?u=""+s.slice(i-15,i):u=s.slice(0,i);var c;o+15<s.length?c=s.slice(o,o+15)+"":c=s.slice(o),r+=u+l+c}var f=new Error(r);return f.name="ParseError",f.__proto__=ht.prototype,f.position=i,i!=null&&o!=null&&(f.length=o-i),f.rawMessage=e,f}}ht.prototype.__proto__=Error.prototype;var M5t=function(e,n){return e.indexOf(n)!==-1},D5t=function(e,n){return e===void 0?n:e},N5t=/([A-Z])/g,O5t=function(e){return e.replace(N5t,"-$1").toLowerCase()},I5t={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},P5t=/[&><"']/g;function R5t(t){return String(t).replace(P5t,e=>I5t[e])}var y4e=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},F5t=function(e){var n=y4e(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},L5t=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},$5t=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Kt={contains:M5t,deflt:D5t,escape:R5t,hyphenate:O5t,getBaseElem:y4e,isCharacterBox:F5t,protocolFromUrl:$5t},GS={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function B5t(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class wB{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in GS)if(GS.hasOwnProperty(n)){var r=GS[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:B5t(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new ht("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=Kt.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class Ah{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return $c[z5t[this.id]]}sub(){return $c[q5t[this.id]]}fracNum(){return $c[V5t[this.id]]}fracDen(){return $c[H5t[this.id]]}cramp(){return $c[U5t[this.id]]}text(){return $c[j5t[this.id]]}isTight(){return this.size>=2}}var xB=0,y8=1,lv=2,Rd=3,Pw=4,ou=5,ey=6,Za=7,$c=[new Ah(xB,0,!1),new Ah(y8,0,!0),new Ah(lv,1,!1),new Ah(Rd,1,!0),new Ah(Pw,2,!1),new Ah(ou,2,!0),new Ah(ey,3,!1),new Ah(Za,3,!0)],z5t=[Pw,ou,Pw,ou,ey,Za,ey,Za],q5t=[ou,ou,ou,ou,Za,Za,Za,Za],V5t=[lv,Rd,Pw,ou,ey,Za,ey,Za],H5t=[Rd,Rd,ou,ou,Za,Za,Za,Za],U5t=[y8,y8,Rd,Rd,ou,ou,Za,Za],j5t=[xB,y8,lv,Rd,lv,Rd,lv,Rd],en={DISPLAY:$c[xB],TEXT:$c[lv],SCRIPT:$c[Pw],SCRIPTSCRIPT:$c[ey]},FO=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function W5t(t){for(var e=0;e<FO.length;e++)for(var n=FO[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var KS=[];FO.forEach(t=>t.blocks.forEach(e=>KS.push(...e)));function b4e(t){for(var e=0;e<KS.length;e+=2)if(t>=KS[e]&&t<=KS[e+1])return!0;return!1}var ag=80,G5t=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},K5t=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},X5t=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Y5t=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},Z5t=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},J5t=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},Q5t=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},e6t=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=G5t(n,ag);break;case"sqrtSize1":i=K5t(n,ag);break;case"sqrtSize2":i=X5t(n,ag);break;case"sqrtSize3":i=Y5t(n,ag);break;case"sqrtSize4":i=Z5t(n,ag);break;case"sqrtTall":i=Q5t(n,ag,r)}return i},t6t=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},Vee={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},n6t=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class j4{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Kt.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Gc={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},g6={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Hee={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function r6t(t,e){Gc[t]=e}function SB(t,e,n){if(!Gc[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=Gc[e][r];if(!i&&t[0]in Hee&&(r=Hee[t[0]].charCodeAt(0),i=Gc[e][r]),!i&&n==="text"&&b4e(r)&&(i=Gc[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var MT={};function i6t(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!MT[e]){var n=MT[e]={cssEmPerMu:g6.quad[e]/18};for(var r in g6)g6.hasOwnProperty(r)&&(n[r]=g6[r][e])}return MT[e]}var o6t=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Uee=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],jee=function(e,n){return n.size<2?e:o6t[e-1][n.size-1]};class cd{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||cd.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Uee[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new cd(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:jee(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Uee[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=jee(cd.BASESIZE,e);return this.size===n&&this.textSize===cd.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==cd.BASESIZE?["sizing","reset-size"+this.size,"size"+cd.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=i6t(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}cd.BASESIZE=6;var LO={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},a6t={ex:!0,em:!0,mu:!0},w4e=function(e){return typeof e!="string"&&(e=e.unit),e in LO||e in a6t||e==="ex"},ki=function(e,n){var r;if(e.unit in LO)r=LO[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new ht("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},mt=function(e){return+e.toFixed(4)+"em"},U0=function(e){return e.filter(n=>n).join(" ")},x4e=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},S4e=function(e){var n=document.createElement(e);n.className=U0(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n},s6t=/[\s"'>/=\x00-\x1f]/,_4e=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Kt.escape(U0(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Kt.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Kt.escape(r)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(s6t.test(o))throw new ht("Invalid attribute name '"+o+"'");n+=" "+o+'="'+Kt.escape(this.attributes[o])+'"'}n+=">";for(var a=0;a<this.children.length;a++)n+=this.children[a].toMarkup();return n+="</"+e+">",n};class W4{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,x4e.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Kt.contains(this.classes,e)}toNode(){return S4e.call(this,"span")}toMarkup(){return _4e.call(this,"span")}}class _B{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,x4e.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Kt.contains(this.classes,e)}toNode(){return S4e.call(this,"a")}toMarkup(){return _4e.call(this,"a")}}class l6t{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return Kt.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+Kt.escape(this.src)+'"'+(' alt="'+Kt.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Kt.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Kt.escape(n)+'"'),e+="'/>",e}}var u6t={:"",:"",:"",:""};class xu{constructor(e,n,r,i,o,a,s,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=o||0,this.width=a||0,this.classes=s||[],this.style=l||{},this.maxFontSize=0;var u=W5t(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=u6t[this.text])}hasClass(e){return Kt.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=mt(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=U0(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Kt.escape(U0(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Kt.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+Kt.escape(r)+'"');var o=Kt.escape(this.text);return e?(n+=">",n+=o,n+="</span>",n):o}}class eh{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Kt.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class j0{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",Vee[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Kt.escape(this.alternate)+'"/>':'<path d="'+Kt.escape(Vee[this.pathName])+'"/>'}}class $O{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Kt.escape(this.attributes[n])+'"');return e+="/>",e}}function Wee(t){if(t instanceof xu)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function c6t(t){if(t instanceof W4)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var f6t={bin:1,close:1,inner:1,open:1,punct:1,rel:1},d6t={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ei={math:{},text:{}};function U(t,e,n,r,i,o){ei[t][i]={font:e,group:n,replace:r},o&&r&&(ei[t][r]=ei[t][i])}var ne="math",it="text",me="main",Pe="ams",bi="accent-token",Mt="bin",ms="close",Hy="inner",Jt="mathord",oo="op-token",Ll="open",lE="punct",Re="rel",gh="spacing",ze="textord";U(ne,me,Re,"","\\equiv",!0);U(ne,me,Re,"","\\prec",!0);U(ne,me,Re,"","\\succ",!0);U(ne,me,Re,"","\\sim",!0);U(ne,me,Re,"","\\perp");U(ne,me,Re,"","\\preceq",!0);U(ne,me,Re,"","\\succeq",!0);U(ne,me,Re,"","\\simeq",!0);U(ne,me,Re,"","\\mid",!0);U(ne,me,Re,"","\\ll",!0);U(ne,me,Re,"","\\gg",!0);U(ne,me,Re,"","\\asymp",!0);U(ne,me,Re,"","\\parallel");U(ne,me,Re,"","\\bowtie",!0);U(ne,me,Re,"","\\smile",!0);U(ne,me,Re,"","\\sqsubseteq",!0);U(ne,me,Re,"","\\sqsupseteq",!0);U(ne,me,Re,"","\\doteq",!0);U(ne,me,Re,"","\\frown",!0);U(ne,me,Re,"","\\ni",!0);U(ne,me,Re,"","\\propto",!0);U(ne,me,Re,"","\\vdash",!0);U(ne,me,Re,"","\\dashv",!0);U(ne,me,Re,"","\\owns");U(ne,me,lE,".","\\ldotp");U(ne,me,lE,"","\\cdotp");U(ne,me,ze,"#","\\#");U(it,me,ze,"#","\\#");U(ne,me,ze,"&","\\&");U(it,me,ze,"&","\\&");U(ne,me,ze,"","\\aleph",!0);U(ne,me,ze,"","\\forall",!0);U(ne,me,ze,"","\\hbar",!0);U(ne,me,ze,"","\\exists",!0);U(ne,me,ze,"","\\nabla",!0);U(ne,me,ze,"","\\flat",!0);U(ne,me,ze,"","\\ell",!0);U(ne,me,ze,"","\\natural",!0);U(ne,me,ze,"","\\clubsuit",!0);U(ne,me,ze,"","\\wp",!0);U(ne,me,ze,"","\\sharp",!0);U(ne,me,ze,"","\\diamondsuit",!0);U(ne,me,ze,"","\\Re",!0);U(ne,me,ze,"","\\heartsuit",!0);U(ne,me,ze,"","\\Im",!0);U(ne,me,ze,"","\\spadesuit",!0);U(ne,me,ze,"","\\S",!0);U(it,me,ze,"","\\S");U(ne,me,ze,"","\\P",!0);U(it,me,ze,"","\\P");U(ne,me,ze,"","\\dag");U(it,me,ze,"","\\dag");U(it,me,ze,"","\\textdagger");U(ne,me,ze,"","\\ddag");U(it,me,ze,"","\\ddag");U(it,me,ze,"","\\textdaggerdbl");U(ne,me,ms,"","\\rmoustache",!0);U(ne,me,Ll,"","\\lmoustache",!0);U(ne,me,ms,"","\\rgroup",!0);U(ne,me,Ll,"","\\lgroup",!0);U(ne,me,Mt,"","\\mp",!0);U(ne,me,Mt,"","\\ominus",!0);U(ne,me,Mt,"","\\uplus",!0);U(ne,me,Mt,"","\\sqcap",!0);U(ne,me,Mt,"","\\ast");U(ne,me,Mt,"","\\sqcup",!0);U(ne,me,Mt,"","\\bigcirc",!0);U(ne,me,Mt,"","\\bullet",!0);U(ne,me,Mt,"","\\ddagger");U(ne,me,Mt,"","\\wr",!0);U(ne,me,Mt,"","\\amalg");U(ne,me,Mt,"&","\\And");U(ne,me,Re,"","\\longleftarrow",!0);U(ne,me,Re,"","\\Leftarrow",!0);U(ne,me,Re,"","\\Longleftarrow",!0);U(ne,me,Re,"","\\longrightarrow",!0);U(ne,me,Re,"","\\Rightarrow",!0);U(ne,me,Re,"","\\Longrightarrow",!0);U(ne,me,Re,"","\\leftrightarrow",!0);U(ne,me,Re,"","\\longleftrightarrow",!0);U(ne,me,Re,"","\\Leftrightarrow",!0);U(ne,me,Re,"","\\Longleftrightarrow",!0);U(ne,me,Re,"","\\mapsto",!0);U(ne,me,Re,"","\\longmapsto",!0);U(ne,me,Re,"","\\nearrow",!0);U(ne,me,Re,"","\\hookleftarrow",!0);U(ne,me,Re,"","\\hookrightarrow",!0);U(ne,me,Re,"","\\searrow",!0);U(ne,me,Re,"","\\leftharpoonup",!0);U(ne,me,Re,"","\\rightharpoonup",!0);U(ne,me,Re,"","\\swarrow",!0);U(ne,me,Re,"","\\leftharpoondown",!0);U(ne,me,Re,"","\\rightharpoondown",!0);U(ne,me,Re,"","\\nwarrow",!0);U(ne,me,Re,"","\\rightleftharpoons",!0);U(ne,Pe,Re,"","\\nless",!0);U(ne,Pe,Re,"","\\@nleqslant");U(ne,Pe,Re,"","\\@nleqq");U(ne,Pe,Re,"","\\lneq",!0);U(ne,Pe,Re,"","\\lneqq",!0);U(ne,Pe,Re,"","\\@lvertneqq");U(ne,Pe,Re,"","\\lnsim",!0);U(ne,Pe,Re,"","\\lnapprox",!0);U(ne,Pe,Re,"","\\nprec",!0);U(ne,Pe,Re,"","\\npreceq",!0);U(ne,Pe,Re,"","\\precnsim",!0);U(ne,Pe,Re,"","\\precnapprox",!0);U(ne,Pe,Re,"","\\nsim",!0);U(ne,Pe,Re,"","\\@nshortmid");U(ne,Pe,Re,"","\\nmid",!0);U(ne,Pe,Re,"","\\nvdash",!0);U(ne,Pe,Re,"","\\nvDash",!0);U(ne,Pe,Re,"","\\ntriangleleft");U(ne,Pe,Re,"","\\ntrianglelefteq",!0);U(ne,Pe,Re,"","\\subsetneq",!0);U(ne,Pe,Re,"","\\@varsubsetneq");U(ne,Pe,Re,"","\\subsetneqq",!0);U(ne,Pe,Re,"","\\@varsubsetneqq");U(ne,Pe,Re,"","\\ngtr",!0);U(ne,Pe,Re,"","\\@ngeqslant");U(ne,Pe,Re,"","\\@ngeqq");U(ne,Pe,Re,"","\\gneq",!0);U(ne,Pe,Re,"","\\gneqq",!0);U(ne,Pe,Re,"","\\@gvertneqq");U(ne,Pe,Re,"","\\gnsim",!0);U(ne,Pe,Re,"","\\gnapprox",!0);U(ne,Pe,Re,"","\\nsucc",!0);U(ne,Pe,Re,"","\\nsucceq",!0);U(ne,Pe,Re,"","\\succnsim",!0);U(ne,Pe,Re,"","\\succnapprox",!0);U(ne,Pe,Re,"","\\ncong",!0);U(ne,Pe,Re,"","\\@nshortparallel");U(ne,Pe,Re,"","\\nparallel",!0);U(ne,Pe,Re,"","\\nVDash",!0);U(ne,Pe,Re,"","\\ntriangleright");U(ne,Pe,Re,"","\\ntrianglerighteq",!0);U(ne,Pe,Re,"","\\@nsupseteqq");U(ne,Pe,Re,"","\\supsetneq",!0);U(ne,Pe,Re,"","\\@varsupsetneq");U(ne,Pe,Re,"","\\supsetneqq",!0);U(ne,Pe,Re,"","\\@varsupsetneqq");U(ne,Pe,Re,"","\\nVdash",!0);U(ne,Pe,Re,"","\\precneqq",!0);U(ne,Pe,Re,"","\\succneqq",!0);U(ne,Pe,Re,"","\\@nsubseteqq");U(ne,Pe,Mt,"","\\unlhd");U(ne,Pe,Mt,"","\\unrhd");U(ne,Pe,Re,"","\\nleftarrow",!0);U(ne,Pe,Re,"","\\nrightarrow",!0);U(ne,Pe,Re,"","\\nLeftarrow",!0);U(ne,Pe,Re,"","\\nRightarrow",!0);U(ne,Pe,Re,"","\\nleftrightarrow",!0);U(ne,Pe,Re,"","\\nLeftrightarrow",!0);U(ne,Pe,Re,"","\\vartriangle");U(ne,Pe,ze,"","\\hslash");U(ne,Pe,ze,"","\\triangledown");U(ne,Pe,ze,"","\\lozenge");U(ne,Pe,ze,"","\\circledS");U(ne,Pe,ze,"","\\circledR");U(it,Pe,ze,"","\\circledR");U(ne,Pe,ze,"","\\measuredangle",!0);U(ne,Pe,ze,"","\\nexists");U(ne,Pe,ze,"","\\mho");U(ne,Pe,ze,"","\\Finv",!0);U(ne,Pe,ze,"","\\Game",!0);U(ne,Pe,ze,"","\\backprime");U(ne,Pe,ze,"","\\blacktriangle");U(ne,Pe,ze,"","\\blacktriangledown");U(ne,Pe,ze,"","\\blacksquare");U(ne,Pe,ze,"","\\blacklozenge");U(ne,Pe,ze,"","\\bigstar");U(ne,Pe,ze,"","\\sphericalangle",!0);U(ne,Pe,ze,"","\\complement",!0);U(ne,Pe,ze,"","\\eth",!0);U(it,me,ze,"","");U(ne,Pe,ze,"","\\diagup");U(ne,Pe,ze,"","\\diagdown");U(ne,Pe,ze,"","\\square");U(ne,Pe,ze,"","\\Box");U(ne,Pe,ze,"","\\Diamond");U(ne,Pe,ze,"","\\yen",!0);U(it,Pe,ze,"","\\yen",!0);U(ne,Pe,ze,"","\\checkmark",!0);U(it,Pe,ze,"","\\checkmark");U(ne,Pe,ze,"","\\beth",!0);U(ne,Pe,ze,"","\\daleth",!0);U(ne,Pe,ze,"","\\gimel",!0);U(ne,Pe,ze,"","\\digamma",!0);U(ne,Pe,ze,"","\\varkappa");U(ne,Pe,Ll,"","\\@ulcorner",!0);U(ne,Pe,ms,"","\\@urcorner",!0);U(ne,Pe,Ll,"","\\@llcorner",!0);U(ne,Pe,ms,"","\\@lrcorner",!0);U(ne,Pe,Re,"","\\leqq",!0);U(ne,Pe,Re,"","\\leqslant",!0);U(ne,Pe,Re,"","\\eqslantless",!0);U(ne,Pe,Re,"","\\lesssim",!0);U(ne,Pe,Re,"","\\lessapprox",!0);U(ne,Pe,Re,"","\\approxeq",!0);U(ne,Pe,Mt,"","\\lessdot");U(ne,Pe,Re,"","\\lll",!0);U(ne,Pe,Re,"","\\lessgtr",!0);U(ne,Pe,Re,"","\\lesseqgtr",!0);U(ne,Pe,Re,"","\\lesseqqgtr",!0);U(ne,Pe,Re,"","\\doteqdot");U(ne,Pe,Re,"","\\risingdotseq",!0);U(ne,Pe,Re,"","\\fallingdotseq",!0);U(ne,Pe,Re,"","\\backsim",!0);U(ne,Pe,Re,"","\\backsimeq",!0);U(ne,Pe,Re,"","\\subseteqq",!0);U(ne,Pe,Re,"","\\Subset",!0);U(ne,Pe,Re,"","\\sqsubset",!0);U(ne,Pe,Re,"","\\preccurlyeq",!0);U(ne,Pe,Re,"","\\curlyeqprec",!0);U(ne,Pe,Re,"","\\precsim",!0);U(ne,Pe,Re,"","\\precapprox",!0);U(ne,Pe,Re,"","\\vartriangleleft");U(ne,Pe,Re,"","\\trianglelefteq");U(ne,Pe,Re,"","\\vDash",!0);U(ne,Pe,Re,"","\\Vvdash",!0);U(ne,Pe,Re,"","\\smallsmile");U(ne,Pe,Re,"","\\smallfrown");U(ne,Pe,Re,"","\\bumpeq",!0);U(ne,Pe,Re,"","\\Bumpeq",!0);U(ne,Pe,Re,"","\\geqq",!0);U(ne,Pe,Re,"","\\geqslant",!0);U(ne,Pe,Re,"","\\eqslantgtr",!0);U(ne,Pe,Re,"","\\gtrsim",!0);U(ne,Pe,Re,"","\\gtrapprox",!0);U(ne,Pe,Mt,"","\\gtrdot");U(ne,Pe,Re,"","\\ggg",!0);U(ne,Pe,Re,"","\\gtrless",!0);U(ne,Pe,Re,"","\\gtreqless",!0);U(ne,Pe,Re,"","\\gtreqqless",!0);U(ne,Pe,Re,"","\\eqcirc",!0);U(ne,Pe,Re,"","\\circeq",!0);U(ne,Pe,Re,"","\\triangleq",!0);U(ne,Pe,Re,"","\\thicksim");U(ne,Pe,Re,"","\\thickapprox");U(ne,Pe,Re,"","\\supseteqq",!0);U(ne,Pe,Re,"","\\Supset",!0);U(ne,Pe,Re,"","\\sqsupset",!0);U(ne,Pe,Re,"","\\succcurlyeq",!0);U(ne,Pe,Re,"","\\curlyeqsucc",!0);U(ne,Pe,Re,"","\\succsim",!0);U(ne,Pe,Re,"","\\succapprox",!0);U(ne,Pe,Re,"","\\vartriangleright");U(ne,Pe,Re,"","\\trianglerighteq");U(ne,Pe,Re,"","\\Vdash",!0);U(ne,Pe,Re,"","\\shortmid");U(ne,Pe,Re,"","\\shortparallel");U(ne,Pe,Re,"","\\between",!0);U(ne,Pe,Re,"","\\pitchfork",!0);U(ne,Pe,Re,"","\\varpropto");U(ne,Pe,Re,"","\\blacktriangleleft");U(ne,Pe,Re,"","\\therefore",!0);U(ne,Pe,Re,"","\\backepsilon");U(ne,Pe,Re,"","\\blacktriangleright");U(ne,Pe,Re,"","\\because",!0);U(ne,Pe,Re,"","\\llless");U(ne,Pe,Re,"","\\gggtr");U(ne,Pe,Mt,"","\\lhd");U(ne,Pe,Mt,"","\\rhd");U(ne,Pe,Re,"","\\eqsim",!0);U(ne,me,Re,"","\\Join");U(ne,Pe,Re,"","\\Doteq",!0);U(ne,Pe,Mt,"","\\dotplus",!0);U(ne,Pe,Mt,"","\\smallsetminus");U(ne,Pe,Mt,"","\\Cap",!0);U(ne,Pe,Mt,"","\\Cup",!0);U(ne,Pe,Mt,"","\\doublebarwedge",!0);U(ne,Pe,Mt,"","\\boxminus",!0);U(ne,Pe,Mt,"","\\boxplus",!0);U(ne,Pe,Mt,"","\\divideontimes",!0);U(ne,Pe,Mt,"","\\ltimes",!0);U(ne,Pe,Mt,"","\\rtimes",!0);U(ne,Pe,Mt,"","\\leftthreetimes",!0);U(ne,Pe,Mt,"","\\rightthreetimes",!0);U(ne,Pe,Mt,"","\\curlywedge",!0);U(ne,Pe,Mt,"","\\curlyvee",!0);U(ne,Pe,Mt,"","\\circleddash",!0);U(ne,Pe,Mt,"","\\circledast",!0);U(ne,Pe,Mt,"","\\centerdot");U(ne,Pe,Mt,"","\\intercal",!0);U(ne,Pe,Mt,"","\\doublecap");U(ne,Pe,Mt,"","\\doublecup");U(ne,Pe,Mt,"","\\boxtimes",!0);U(ne,Pe,Re,"","\\dashrightarrow",!0);U(ne,Pe,Re,"","\\dashleftarrow",!0);U(ne,Pe,Re,"","\\leftleftarrows",!0);U(ne,Pe,Re,"","\\leftrightarrows",!0);U(ne,Pe,Re,"","\\Lleftarrow",!0);U(ne,Pe,Re,"","\\twoheadleftarrow",!0);U(ne,Pe,Re,"","\\leftarrowtail",!0);U(ne,Pe,Re,"","\\looparrowleft",!0);U(ne,Pe,Re,"","\\leftrightharpoons",!0);U(ne,Pe,Re,"","\\curvearrowleft",!0);U(ne,Pe,Re,"","\\circlearrowleft",!0);U(ne,Pe,Re,"","\\Lsh",!0);U(ne,Pe,Re,"","\\upuparrows",!0);U(ne,Pe,Re,"","\\upharpoonleft",!0);U(ne,Pe,Re,"","\\downharpoonleft",!0);U(ne,me,Re,"","\\origof",!0);U(ne,me,Re,"","\\imageof",!0);U(ne,Pe,Re,"","\\multimap",!0);U(ne,Pe,Re,"","\\leftrightsquigarrow",!0);U(ne,Pe,Re,"","\\rightrightarrows",!0);U(ne,Pe,Re,"","\\rightleftarrows",!0);U(ne,Pe,Re,"","\\twoheadrightarrow",!0);U(ne,Pe,Re,"","\\rightarrowtail",!0);U(ne,Pe,Re,"","\\looparrowright",!0);U(ne,Pe,Re,"","\\curvearrowright",!0);U(ne,Pe,Re,"","\\circlearrowright",!0);U(ne,Pe,Re,"","\\Rsh",!0);U(ne,Pe,Re,"","\\downdownarrows",!0);U(ne,Pe,Re,"","\\upharpoonright",!0);U(ne,Pe,Re,"","\\downharpoonright",!0);U(ne,Pe,Re,"","\\rightsquigarrow",!0);U(ne,Pe,Re,"","\\leadsto");U(ne,Pe,Re,"","\\Rrightarrow",!0);U(ne,Pe,Re,"","\\restriction");U(ne,me,ze,"","`");U(ne,me,ze,"$","\\$");U(it,me,ze,"$","\\$");U(it,me,ze,"$","\\textdollar");U(ne,me,ze,"%","\\%");U(it,me,ze,"%","\\%");U(ne,me,ze,"_","\\_");U(it,me,ze,"_","\\_");U(it,me,ze,"_","\\textunderscore");U(ne,me,ze,"","\\angle",!0);U(ne,me,ze,"","\\infty",!0);U(ne,me,ze,"","\\prime");U(ne,me,ze,"","\\triangle");U(ne,me,ze,"","\\Gamma",!0);U(ne,me,ze,"","\\Delta",!0);U(ne,me,ze,"","\\Theta",!0);U(ne,me,ze,"","\\Lambda",!0);U(ne,me,ze,"","\\Xi",!0);U(ne,me,ze,"","\\Pi",!0);U(ne,me,ze,"","\\Sigma",!0);U(ne,me,ze,"","\\Upsilon",!0);U(ne,me,ze,"","\\Phi",!0);U(ne,me,ze,"","\\Psi",!0);U(ne,me,ze,"","\\Omega",!0);U(ne,me,ze,"A","");U(ne,me,ze,"B","");U(ne,me,ze,"E","");U(ne,me,ze,"Z","");U(ne,me,ze,"H","");U(ne,me,ze,"I","");U(ne,me,ze,"K","");U(ne,me,ze,"M","");U(ne,me,ze,"N","");U(ne,me,ze,"O","");U(ne,me,ze,"P","");U(ne,me,ze,"T","");U(ne,me,ze,"X","");U(ne,me,ze,"","\\neg",!0);U(ne,me,ze,"","\\lnot");U(ne,me,ze,"","\\top");U(ne,me,ze,"","\\bot");U(ne,me,ze,"","\\emptyset");U(ne,Pe,ze,"","\\varnothing");U(ne,me,Jt,"","\\alpha",!0);U(ne,me,Jt,"","\\beta",!0);U(ne,me,Jt,"","\\gamma",!0);U(ne,me,Jt,"","\\delta",!0);U(ne,me,Jt,"","\\epsilon",!0);U(ne,me,Jt,"","\\zeta",!0);U(ne,me,Jt,"","\\eta",!0);U(ne,me,Jt,"","\\theta",!0);U(ne,me,Jt,"","\\iota",!0);U(ne,me,Jt,"","\\kappa",!0);U(ne,me,Jt,"","\\lambda",!0);U(ne,me,Jt,"","\\mu",!0);U(ne,me,Jt,"","\\nu",!0);U(ne,me,Jt,"","\\xi",!0);U(ne,me,Jt,"","\\omicron",!0);U(ne,me,Jt,"","\\pi",!0);U(ne,me,Jt,"","\\rho",!0);U(ne,me,Jt,"","\\sigma",!0);U(ne,me,Jt,"","\\tau",!0);U(ne,me,Jt,"","\\upsilon",!0);U(ne,me,Jt,"","\\phi",!0);U(ne,me,Jt,"","\\chi",!0);U(ne,me,Jt,"","\\psi",!0);U(ne,me,Jt,"","\\omega",!0);U(ne,me,Jt,"","\\varepsilon",!0);U(ne,me,Jt,"","\\vartheta",!0);U(ne,me,Jt,"","\\varpi",!0);U(ne,me,Jt,"","\\varrho",!0);U(ne,me,Jt,"","\\varsigma",!0);U(ne,me,Jt,"","\\varphi",!0);U(ne,me,Mt,"","*",!0);U(ne,me,Mt,"+","+");U(ne,me,Mt,"","-",!0);U(ne,me,Mt,"","\\cdot",!0);U(ne,me,Mt,"","\\circ",!0);U(ne,me,Mt,"","\\div",!0);U(ne,me,Mt,"","\\pm",!0);U(ne,me,Mt,"","\\times",!0);U(ne,me,Mt,"","\\cap",!0);U(ne,me,Mt,"","\\cup",!0);U(ne,me,Mt,"","\\setminus",!0);U(ne,me,Mt,"","\\land");U(ne,me,Mt,"","\\lor");U(ne,me,Mt,"","\\wedge",!0);U(ne,me,Mt,"","\\vee",!0);U(ne,me,ze,"","\\surd");U(ne,me,Ll,"","\\langle",!0);U(ne,me,Ll,"","\\lvert");U(ne,me,Ll,"","\\lVert");U(ne,me,ms,"?","?");U(ne,me,ms,"!","!");U(ne,me,ms,"","\\rangle",!0);U(ne,me,ms,"","\\rvert");U(ne,me,ms,"","\\rVert");U(ne,me,Re,"=","=");U(ne,me,Re,":",":");U(ne,me,Re,"","\\approx",!0);U(ne,me,Re,"","\\cong",!0);U(ne,me,Re,"","\\ge");U(ne,me,Re,"","\\geq",!0);U(ne,me,Re,"","\\gets");U(ne,me,Re,">","\\gt",!0);U(ne,me,Re,"","\\in",!0);U(ne,me,Re,"","\\@not");U(ne,me,Re,"","\\subset",!0);U(ne,me,Re,"","\\supset",!0);U(ne,me,Re,"","\\subseteq",!0);U(ne,me,Re,"","\\supseteq",!0);U(ne,Pe,Re,"","\\nsubseteq",!0);U(ne,Pe,Re,"","\\nsupseteq",!0);U(ne,me,Re,"","\\models");U(ne,me,Re,"","\\leftarrow",!0);U(ne,me,Re,"","\\le");U(ne,me,Re,"","\\leq",!0);U(ne,me,Re,"<","\\lt",!0);U(ne,me,Re,"","\\rightarrow",!0);U(ne,me,Re,"","\\to");U(ne,Pe,Re,"","\\ngeq",!0);U(ne,Pe,Re,"","\\nleq",!0);U(ne,me,gh,"","\\ ");U(ne,me,gh,"","\\space");U(ne,me,gh,"","\\nobreakspace");U(it,me,gh,"","\\ ");U(it,me,gh,""," ");U(it,me,gh,"","\\space");U(it,me,gh,"","\\nobreakspace");U(ne,me,gh,null,"\\nobreak");U(ne,me,gh,null,"\\allowbreak");U(ne,me,lE,",",",");U(ne,me,lE,";",";");U(ne,Pe,Mt,"","\\barwedge",!0);U(ne,Pe,Mt,"","\\veebar",!0);U(ne,me,Mt,"","\\odot",!0);U(ne,me,Mt,"","\\oplus",!0);U(ne,me,Mt,"","\\otimes",!0);U(ne,me,ze,"","\\partial",!0);U(ne,me,Mt,"","\\oslash",!0);U(ne,Pe,Mt,"","\\circledcirc",!0);U(ne,Pe,Mt,"","\\boxdot",!0);U(ne,me,Mt,"","\\bigtriangleup");U(ne,me,Mt,"","\\bigtriangledown");U(ne,me,Mt,"","\\dagger");U(ne,me,Mt,"","\\diamond");U(ne,me,Mt,"","\\star");U(ne,me,Mt,"","\\triangleleft");U(ne,me,Mt,"","\\triangleright");U(ne,me,Ll,"{","\\{");U(it,me,ze,"{","\\{");U(it,me,ze,"{","\\textbraceleft");U(ne,me,ms,"}","\\}");U(it,me,ze,"}","\\}");U(it,me,ze,"}","\\textbraceright");U(ne,me,Ll,"{","\\lbrace");U(ne,me,ms,"}","\\rbrace");U(ne,me,Ll,"[","\\lbrack",!0);U(it,me,ze,"[","\\lbrack",!0);U(ne,me,ms,"]","\\rbrack",!0);U(it,me,ze,"]","\\rbrack",!0);U(ne,me,Ll,"(","\\lparen",!0);U(ne,me,ms,")","\\rparen",!0);U(it,me,ze,"<","\\textless",!0);U(it,me,ze,">","\\textgreater",!0);U(ne,me,Ll,"","\\lfloor",!0);U(ne,me,ms,"","\\rfloor",!0);U(ne,me,Ll,"","\\lceil",!0);U(ne,me,ms,"","\\rceil",!0);U(ne,me,ze,"\\","\\backslash");U(ne,me,ze,"","|");U(ne,me,ze,"","\\vert");U(it,me,ze,"|","\\textbar",!0);U(ne,me,ze,"","\\|");U(ne,me,ze,"","\\Vert");U(it,me,ze,"","\\textbardbl");U(it,me,ze,"~","\\textasciitilde");U(it,me,ze,"\\","\\textbackslash");U(it,me,ze,"^","\\textasciicircum");U(ne,me,Re,"","\\uparrow",!0);U(ne,me,Re,"","\\Uparrow",!0);U(ne,me,Re,"","\\downarrow",!0);U(ne,me,Re,"","\\Downarrow",!0);U(ne,me,Re,"","\\updownarrow",!0);U(ne,me,Re,"","\\Updownarrow",!0);U(ne,me,oo,"","\\coprod");U(ne,me,oo,"","\\bigvee");U(ne,me,oo,"","\\bigwedge");U(ne,me,oo,"","\\biguplus");U(ne,me,oo,"","\\bigcap");U(ne,me,oo,"","\\bigcup");U(ne,me,oo,"","\\int");U(ne,me,oo,"","\\intop");U(ne,me,oo,"","\\iint");U(ne,me,oo,"","\\iiint");U(ne,me,oo,"","\\prod");U(ne,me,oo,"","\\sum");U(ne,me,oo,"","\\bigotimes");U(ne,me,oo,"","\\bigoplus");U(ne,me,oo,"","\\bigodot");U(ne,me,oo,"","\\oint");U(ne,me,oo,"","\\oiint");U(ne,me,oo,"","\\oiiint");U(ne,me,oo,"","\\bigsqcup");U(ne,me,oo,"","\\smallint");U(it,me,Hy,"","\\textellipsis");U(ne,me,Hy,"","\\mathellipsis");U(it,me,Hy,"","\\ldots",!0);U(ne,me,Hy,"","\\ldots",!0);U(ne,me,Hy,"","\\@cdots",!0);U(ne,me,Hy,"","\\ddots",!0);U(ne,me,ze,"","\\varvdots");U(it,me,ze,"","\\varvdots");U(ne,me,bi,"","\\acute");U(ne,me,bi,"","\\grave");U(ne,me,bi,"","\\ddot");U(ne,me,bi,"~","\\tilde");U(ne,me,bi,"","\\bar");U(ne,me,bi,"","\\breve");U(ne,me,bi,"","\\check");U(ne,me,bi,"^","\\hat");U(ne,me,bi,"","\\vec");U(ne,me,bi,"","\\dot");U(ne,me,bi,"","\\mathring");U(ne,me,Jt,"","\\@imath");U(ne,me,Jt,"","\\@jmath");U(ne,me,ze,"","");U(ne,me,ze,"","");U(it,me,ze,"","\\i",!0);U(it,me,ze,"","\\j",!0);U(it,me,ze,"","\\ss",!0);U(it,me,ze,"","\\ae",!0);U(it,me,ze,"","\\oe",!0);U(it,me,ze,"","\\o",!0);U(it,me,ze,"","\\AE",!0);U(it,me,ze,"","\\OE",!0);U(it,me,ze,"","\\O",!0);U(it,me,bi,"","\\'");U(it,me,bi,"","\\`");U(it,me,bi,"","\\^");U(it,me,bi,"","\\~");U(it,me,bi,"","\\=");U(it,me,bi,"","\\u");U(it,me,bi,"","\\.");U(it,me,bi,"","\\c");U(it,me,bi,"","\\r");U(it,me,bi,"","\\v");U(it,me,bi,"",'\\"');U(it,me,bi,"","\\H");U(it,me,bi,"","\\textcircled");var C4e={"--":!0,"---":!0,"``":!0,"''":!0};U(it,me,ze,"","--",!0);U(it,me,ze,"","\\textendash");U(it,me,ze,"","---",!0);U(it,me,ze,"","\\textemdash");U(it,me,ze,"","`",!0);U(it,me,ze,"","\\textquoteleft");U(it,me,ze,"","'",!0);U(it,me,ze,"","\\textquoteright");U(it,me,ze,"","``",!0);U(it,me,ze,"","\\textquotedblleft");U(it,me,ze,"","''",!0);U(it,me,ze,"","\\textquotedblright");U(ne,me,ze,"","\\degree",!0);U(it,me,ze,"","\\degree");U(it,me,ze,"","\\textdegree",!0);U(ne,me,ze,"","\\pounds");U(ne,me,ze,"","\\mathsterling",!0);U(it,me,ze,"","\\pounds");U(it,me,ze,"","\\textsterling",!0);U(ne,Pe,ze,"","\\maltese");U(it,Pe,ze,"","\\maltese");var Gee='0123456789/@."';for(var DT=0;DT<Gee.length;DT++){var Kee=Gee.charAt(DT);U(ne,me,ze,Kee,Kee)}var Xee='0123456789!@*()-=+";:?/.,';for(var NT=0;NT<Xee.length;NT++){var Yee=Xee.charAt(NT);U(it,me,ze,Yee,Yee)}var b8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var OT=0;OT<b8.length;OT++){var v6=b8.charAt(OT);U(ne,me,Jt,v6,v6),U(it,me,ze,v6,v6)}U(ne,Pe,ze,"C","");U(it,Pe,ze,"C","");U(ne,Pe,ze,"H","");U(it,Pe,ze,"H","");U(ne,Pe,ze,"N","");U(it,Pe,ze,"N","");U(ne,Pe,ze,"P","");U(it,Pe,ze,"P","");U(ne,Pe,ze,"Q","");U(it,Pe,ze,"Q","");U(ne,Pe,ze,"R","");U(it,Pe,ze,"R","");U(ne,Pe,ze,"Z","");U(it,Pe,ze,"Z","");U(ne,me,Jt,"h","");U(it,me,Jt,"h","");var an="";for(var $a=0;$a<b8.length;$a++){var Ti=b8.charAt($a);an=String.fromCharCode(55349,56320+$a),U(ne,me,Jt,Ti,an),U(it,me,ze,Ti,an),an=String.fromCharCode(55349,56372+$a),U(ne,me,Jt,Ti,an),U(it,me,ze,Ti,an),an=String.fromCharCode(55349,56424+$a),U(ne,me,Jt,Ti,an),U(it,me,ze,Ti,an),an=String.fromCharCode(55349,56580+$a),U(ne,me,Jt,Ti,an),U(it,me,ze,Ti,an),an=String.fromCharCode(55349,56684+$a),U(ne,me,Jt,Ti,an),U(it,me,ze,Ti,an),an=String.fromCharCode(55349,56736+$a),U(ne,me,Jt,Ti,an),U(it,me,ze,Ti,an),an=String.fromCharCode(55349,56788+$a),U(ne,me,Jt,Ti,an),U(it,me,ze,Ti,an),an=String.fromCharCode(55349,56840+$a),U(ne,me,Jt,Ti,an),U(it,me,ze,Ti,an),an=String.fromCharCode(55349,56944+$a),U(ne,me,Jt,Ti,an),U(it,me,ze,Ti,an),$a<26&&(an=String.fromCharCode(55349,56632+$a),U(ne,me,Jt,Ti,an),U(it,me,ze,Ti,an),an=String.fromCharCode(55349,56476+$a),U(ne,me,Jt,Ti,an),U(it,me,ze,Ti,an))}an="";U(ne,me,Jt,"k",an);U(it,me,ze,"k",an);for(var Fp=0;Fp<10;Fp++){var Th=Fp.toString();an=String.fromCharCode(55349,57294+Fp),U(ne,me,Jt,Th,an),U(it,me,ze,Th,an),an=String.fromCharCode(55349,57314+Fp),U(ne,me,Jt,Th,an),U(it,me,ze,Th,an),an=String.fromCharCode(55349,57324+Fp),U(ne,me,Jt,Th,an),U(it,me,ze,Th,an),an=String.fromCharCode(55349,57334+Fp),U(ne,me,Jt,Th,an),U(it,me,ze,Th,an)}var BO="";for(var IT=0;IT<BO.length;IT++){var y6=BO.charAt(IT);U(ne,me,Jt,y6,y6),U(it,me,ze,y6,y6)}var b6=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Zee=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],h6t=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),o=(r-55296)*1024+(i-56320)+65536,a=n==="math"?0:1;if(119808<=o&&o<120484){var s=Math.floor((o-119808)/26);return[b6[s][2],b6[s][a]]}else if(120782<=o&&o<=120831){var l=Math.floor((o-120782)/10);return[Zee[l][2],Zee[l][a]]}else{if(o===120485||o===120486)return[b6[0][2],b6[0][a]];if(120486<o&&o<120782)return["",""];throw new ht("Unsupported character: "+e)}},uE=function(e,n,r){return ei[r][e]&&ei[r][e].replace&&(e=ei[r][e].replace),{value:e,metrics:SB(e,n,r)}},qu=function(e,n,r,i,o){var a=uE(e,n,r),s=a.metrics;e=a.value;var l;if(s){var u=s.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),l=new xu(e,s.height,s.depth,u,s.skew,s.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),l=new xu(e,0,0,0,0,0,o);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var c=i.getColor();c&&(l.style.color=c)}return l},p6t=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&uE(e,"Main-Bold",n).metrics?qu(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||ei[n][e].font==="main"?qu(e,"Main-Regular",n,r,i):qu(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},m6t=function(e,n,r,i,o){return o!=="textord"&&uE(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},g6t=function(e,n,r){var i=e.mode,o=e.text,a=["mord"],s=i==="math"||i==="text"&&n.font,l=s?n.font:n.fontFamily,u="",c="";if(o.charCodeAt(0)===55349&&([u,c]=h6t(o,i)),u.length>0)return qu(o,u,i,n,a.concat(c));if(l){var f,d;if(l==="boldsymbol"){var h=m6t(o,i,n,a,r);f=h.fontName,d=[h.fontClass]}else s?(f=A4e[l].fontName,d=[l]):(f=w6(l,n.fontWeight,n.fontShape),d=[l,n.fontWeight,n.fontShape]);if(uE(o,f,i).metrics)return qu(o,f,i,n,a.concat(d));if(C4e.hasOwnProperty(o)&&f.slice(0,10)==="Typewriter"){for(var p=[],m=0;m<o.length;m++)p.push(qu(o[m],f,i,n,a.concat(d)));return E4e(p)}}if(r==="mathord")return qu(o,"Math-Italic",i,n,a.concat(["mathnormal"]));if(r==="textord"){var g=ei[i][o]&&ei[i][o].font;if(g==="ams"){var v=w6("amsrm",n.fontWeight,n.fontShape);return qu(o,v,i,n,a.concat("amsrm",n.fontWeight,n.fontShape))}else if(g==="main"||!g){var y=w6("textrm",n.fontWeight,n.fontShape);return qu(o,y,i,n,a.concat(n.fontWeight,n.fontShape))}else{var b=w6(g,n.fontWeight,n.fontShape);return qu(o,b,i,n,a.concat(b,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},v6t=(t,e)=>{if(U0(t.classes)!==U0(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},y6t=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof xu&&r instanceof xu&&v6t(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},CB=function(e){for(var n=0,r=0,i=0,o=0;o<e.children.length;o++){var a=e.children[o];a.height>n&&(n=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},ks=function(e,n,r,i){var o=new W4(e,n,r,i);return CB(o),o},k4e=(t,e,n,r)=>new W4(t,e,n,r),b6t=function(e,n,r){var i=ks([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=mt(i.height),i.maxFontSize=1,i},w6t=function(e,n,r,i){var o=new _B(e,n,r,i);return CB(o),o},E4e=function(e){var n=new j4(e);return CB(n),n},x6t=function(e,n){return e instanceof j4?ks([],[e],n):e},S6t=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,o=i,a=1;a<n.length;a++){var s=-n[a].shift-o-n[a].elem.depth,l=s-(n[a-1].elem.height+n[a-1].elem.depth);o=o+s,r.push({type:"kern",size:l}),r.push(n[a])}return{children:r,depth:i}}var u;if(e.positionType==="top"){for(var c=e.positionData,f=0;f<e.children.length;f++){var d=e.children[f];c-=d.type==="kern"?d.size:d.elem.height+d.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var h=e.children[0];if(h.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-h.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-h.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},_6t=function(e,n){for(var{children:r,depth:i}=S6t(e),o=0,a=0;a<r.length;a++){var s=r[a];if(s.type==="elem"){var l=s.elem;o=Math.max(o,l.maxFontSize,l.height)}}o+=2;var u=ks(["pstrut"],[]);u.style.height=mt(o);for(var c=[],f=i,d=i,h=i,p=0;p<r.length;p++){var m=r[p];if(m.type==="kern")h+=m.size;else{var g=m.elem,v=m.wrapperClasses||[],y=m.wrapperStyle||{},b=ks(v,[u,g],void 0,y);b.style.top=mt(-o-h-g.depth),m.marginLeft&&(b.style.marginLeft=m.marginLeft),m.marginRight&&(b.style.marginRight=m.marginRight),c.push(b),h+=g.height+g.depth}f=Math.min(f,h),d=Math.max(d,h)}var w=ks(["vlist"],c);w.style.height=mt(d);var x;if(f<0){var S=ks([],[]),_=ks(["vlist"],[S]);_.style.height=mt(-f);var k=ks(["vlist-s"],[new xu("")]);x=[ks(["vlist-r"],[w,k]),ks(["vlist-r"],[_])]}else x=[ks(["vlist-r"],[w])];var C=ks(["vlist-t"],x);return x.length===2&&C.classes.push("vlist-t2"),C.height=d,C.depth=-f,C},C6t=(t,e)=>{var n=ks(["mspace"],[],e),r=ki(t,e);return n.style.marginRight=mt(r),n},w6=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var o;return n==="textbf"&&r==="textit"?o="BoldItalic":n==="textbf"?o="Bold":n==="textit"?o="Italic":o="Regular",i+"-"+o},A4e={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},T4e={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},k6t=function(e,n){var[r,i,o]=T4e[e],a=new j0(r),s=new eh([a],{width:mt(i),height:mt(o),style:"width:"+mt(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),l=k4e(["overlay"],[s],n);return l.height=o,l.style.height=mt(o),l.style.width=mt(i),l},Ve={fontMap:A4e,makeSymbol:qu,mathsym:p6t,makeSpan:ks,makeSvgSpan:k4e,makeLineSpan:b6t,makeAnchor:w6t,makeFragment:E4e,wrapFragment:x6t,makeVList:_6t,makeOrd:g6t,makeGlue:C6t,staticSvg:k6t,svgData:T4e,tryCombineChars:y6t},Si={number:3,unit:"mu"},Lp={number:4,unit:"mu"},Zf={number:5,unit:"mu"},E6t={mord:{mop:Si,mbin:Lp,mrel:Zf,minner:Si},mop:{mord:Si,mop:Si,mrel:Zf,minner:Si},mbin:{mord:Lp,mop:Lp,mopen:Lp,minner:Lp},mrel:{mord:Zf,mop:Zf,mopen:Zf,minner:Zf},mopen:{},mclose:{mop:Si,mbin:Lp,mrel:Zf,minner:Si},mpunct:{mord:Si,mop:Si,mrel:Zf,mopen:Si,mclose:Si,mpunct:Si,minner:Si},minner:{mord:Si,mop:Si,mbin:Lp,mrel:Zf,mopen:Si,mpunct:Si,minner:Si}},A6t={mord:{mop:Si},mop:{mord:Si,mop:Si},mbin:{},mrel:{},mopen:{},mclose:{mop:Si},mpunct:{},minner:{mop:Si}},M4e={},w8={},x8={};function St(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:a}=t,s={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)M4e[n[l]]=s;e&&(o&&(w8[e]=o),a&&(x8[e]=a))}function R1(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;St({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var S8=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Ui=function(e){return e.type==="ordgroup"?e.body:[e]},th=Ve.makeSpan,T6t=["leftmost","mbin","mopen","mrel","mop","mpunct"],M6t=["rightmost","mrel","mclose","mpunct"],D6t={display:en.DISPLAY,text:en.TEXT,script:en.SCRIPT,scriptscript:en.SCRIPTSCRIPT},N6t={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},mo=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var o=[],a=0;a<e.length;a++){var s=ir(e[a],n);if(s instanceof j4){var l=s.children;o.push(...l)}else o.push(s)}if(Ve.tryCombineChars(o),!r)return o;var u=n;if(e.length===1){var c=e[0];c.type==="sizing"?u=n.havingSize(c.size):c.type==="styling"&&(u=n.havingStyle(D6t[c.style]))}var f=th([i[0]||"leftmost"],[],n),d=th([i[1]||"rightmost"],[],n),h=r==="root";return Jee(o,(p,m)=>{var g=m.classes[0],v=p.classes[0];g==="mbin"&&Kt.contains(M6t,v)?m.classes[0]="mord":v==="mbin"&&Kt.contains(T6t,g)&&(p.classes[0]="mord")},{node:f},d,h),Jee(o,(p,m)=>{var g=zO(m),v=zO(p),y=g&&v?p.hasClass("mtight")?A6t[g][v]:E6t[g][v]:null;if(y)return Ve.makeGlue(y,u)},{node:f},d,h),o},Jee=function t(e,n,r,i,o){i&&e.push(i);for(var a=0;a<e.length;a++){var s=e[a],l=D4e(s);if(l){t(l.children,n,r,null,o);continue}var u=!s.hasClass("mspace");if(u){var c=n(s,r.node);c&&(r.insertAfter?r.insertAfter(c):(e.unshift(c),a++))}u?r.node=s:o&&s.hasClass("newline")&&(r.node=th(["leftmost"])),r.insertAfter=(f=>d=>{e.splice(f+1,0,d),a++})(a)}i&&e.pop()},D4e=function(e){return e instanceof j4||e instanceof _B||e instanceof W4&&e.hasClass("enclosing")?e:null},O6t=function t(e,n){var r=D4e(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},zO=function(e,n){return e?(n&&(e=O6t(e,n)),N6t[e.classes[0]]||null):null},Rw=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return th(n.concat(r))},ir=function(e,n,r){if(!e)return th();if(w8[e.type]){var i=w8[e.type](e,n);if(r&&n.size!==r.size){i=th(n.sizingClasses(r),[i],n);var o=n.sizeMultiplier/r.sizeMultiplier;i.height*=o,i.depth*=o}return i}else throw new ht("Got group of unknown type: '"+e.type+"'")};function x6(t,e){var n=th(["base"],t,e),r=th(["strut"]);return r.style.height=mt(n.height+n.depth),n.depth&&(r.style.verticalAlign=mt(-n.depth)),n.children.unshift(r),n}function qO(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=mo(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var o=[],a=[],s=0;s<r.length;s++)if(a.push(r[s]),r[s].hasClass("mbin")||r[s].hasClass("mrel")||r[s].hasClass("allowbreak")){for(var l=!1;s<r.length-1&&r[s+1].hasClass("mspace")&&!r[s+1].hasClass("newline");)s++,a.push(r[s]),r[s].hasClass("nobreak")&&(l=!0);l||(o.push(x6(a,e)),a=[])}else r[s].hasClass("newline")&&(a.pop(),a.length>0&&(o.push(x6(a,e)),a=[]),o.push(r[s]));a.length>0&&o.push(x6(a,e));var u;n?(u=x6(mo(n,e,!0)),u.classes=["tag"],o.push(u)):i&&o.push(i);var c=th(["katex-html"],o);if(c.setAttribute("aria-hidden","true"),u){var f=u.children[0];f.style.height=mt(c.height+c.depth),c.depth&&(f.style.verticalAlign=mt(-c.depth))}return c}function N4e(t){return new j4(t)}class bl{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=U0(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Kc&&this.children[r+1]instanceof Kc){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Kc;)i+=this.children[++r].toText();e.appendChild(new Kc(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Kt.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Kt.escape(U0(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Kc{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Kt.escape(this.toText())}toText(){return this.text}}class I6t{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",mt(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+mt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var lt={MathNode:bl,TextNode:Kc,SpaceNode:I6t,newDocumentFragment:N4e},Su=function(e,n,r){return ei[n][e]&&ei[n][e].replace&&e.charCodeAt(0)!==55349&&!(C4e.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=ei[n][e].replace),new lt.TextNode(e)},kB=function(e){return e.length===1?e[0]:new lt.MathNode("mrow",e)},EB=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var o=e.text;if(Kt.contains(["\\imath","\\jmath"],o))return null;ei[i][o]&&ei[i][o].replace&&(o=ei[i][o].replace);var a=Ve.fontMap[r].fontName;return SB(o,a,i)?Ve.fontMap[r].variant:null};function PT(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Kc&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof Kc&&n.text===","}else return!1}var el=function(e,n,r){if(e.length===1){var i=Wr(e[0],n);return r&&i instanceof bl&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o=[],a,s=0;s<e.length;s++){var l=Wr(e[s],n);if(l instanceof bl&&a instanceof bl){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(PT(l)&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mn"&&PT(a))l.children=[...a.children,...l.children],o.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(a.type==="mn"||PT(a))){var u=l.children[0];u instanceof bl&&u.type==="mn"&&(u.children=[...a.children,...u.children],o.pop())}else if(a.type==="mi"&&a.children.length===1){var c=a.children[0];if(c instanceof Kc&&c.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var f=l.children[0];f instanceof Kc&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),o.pop())}}}o.push(l),a=l}return o},W0=function(e,n,r){return kB(el(e,n,r))},Wr=function(e,n){if(!e)return new lt.MathNode("mrow");if(x8[e.type]){var r=x8[e.type](e,n);return r}else throw new ht("Got group of unknown type: '"+e.type+"'")};function Qee(t,e,n,r,i){var o=el(t,n),a;o.length===1&&o[0]instanceof bl&&Kt.contains(["mrow","mtable"],o[0].type)?a=o[0]:a=new lt.MathNode("mrow",o);var s=new lt.MathNode("annotation",[new lt.TextNode(e)]);s.setAttribute("encoding","application/x-tex");var l=new lt.MathNode("semantics",[a,s]),u=new lt.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var c=i?"katex":"katex-mathml";return Ve.makeSpan([c],[u])}var O4e=function(e){return new cd({style:e.displayMode?en.DISPLAY:en.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},I4e=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=Ve.makeSpan(r,[e])}return e},P6t=function(e,n,r){var i=O4e(r),o;if(r.output==="mathml")return Qee(e,n,i,r.displayMode,!0);if(r.output==="html"){var a=qO(e,i);o=Ve.makeSpan(["katex"],[a])}else{var s=Qee(e,n,i,r.displayMode,!1),l=qO(e,i);o=Ve.makeSpan(["katex"],[s,l])}return I4e(o,r)},R6t=function(e,n,r){var i=O4e(r),o=qO(e,i),a=Ve.makeSpan(["katex"],[o]);return I4e(a,r)},F6t={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},L6t=function(e){var n=new lt.MathNode("mo",[new lt.TextNode(F6t[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},$6t={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},B6t=function(e){return e.type==="ordgroup"?e.body.length:1},z6t=function(e,n){function r(){var s=4e5,l=e.label.slice(1);if(Kt.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,c=B6t(u.base),f,d,h;if(c>5)l==="widehat"||l==="widecheck"?(f=420,s=2364,h=.42,d=l+"4"):(f=312,s=2340,h=.34,d="tilde4");else{var p=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(s=[0,1062,2364,2364,2364][p],f=[0,239,300,360,420][p],h=[0,.24,.3,.3,.36,.42][p],d=l+p):(s=[0,600,1033,2339,2340][p],f=[0,260,286,306,312][p],h=[0,.26,.286,.3,.306,.34][p],d="tilde"+p)}var m=new j0(d),g=new eh([m],{width:"100%",height:mt(h),viewBox:"0 0 "+s+" "+f,preserveAspectRatio:"none"});return{span:Ve.makeSvgSpan([],[g],n),minWidth:0,height:h}}else{var v=[],y=$6t[l],[b,w,x]=y,S=x/1e3,_=b.length,k,C;if(_===1){var E=y[3];k=["hide-tail"],C=[E]}else if(_===2)k=["halfarrow-left","halfarrow-right"],C=["xMinYMin","xMaxYMin"];else if(_===3)k=["brace-left","brace-center","brace-right"],C=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+_+" children.");for(var M=0;M<_;M++){var A=new j0(b[M]),N=new eh([A],{width:"400em",height:mt(S),viewBox:"0 0 "+s+" "+x,preserveAspectRatio:C[M]+" slice"}),T=Ve.makeSvgSpan([k[M]],[N],n);if(_===1)return{span:T,minWidth:w,height:S};T.style.height=mt(S),v.push(T)}return{span:Ve.makeSpan(["stretchy"],v,n),minWidth:w,height:S}}}var{span:i,minWidth:o,height:a}=r();return i.height=a,i.style.height=mt(a),o>0&&(i.style.minWidth=mt(o)),i},q6t=function(e,n,r,i,o){var a,s=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(a=Ve.makeSpan(["stretchy",n],[],o),n==="fbox"){var l=o.color&&o.getColor();l&&(a.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new $O({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new $O({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new eh(u,{width:"100%",height:mt(s)});a=Ve.makeSvgSpan([],[c],o)}return a.height=s,a.style.height=mt(s),a},nh={encloseSpan:q6t,mathMLnode:L6t,svgSpan:z6t};function Dn(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function AB(t){var e=cE(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function cE(t){return t&&(t.type==="atom"||d6t.hasOwnProperty(t.type))?t:null}var TB=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=Dn(t.base,"accent"),n=r.base,t.base=n,i=c6t(ir(t,e)),t.base=r):(r=Dn(t,"accent"),n=r.base);var o=ir(n,e.havingCrampedStyle()),a=r.isShifty&&Kt.isCharacterBox(n),s=0;if(a){var l=Kt.getBaseElem(n),u=ir(l,e.havingCrampedStyle());s=Wee(u).skew}var c=r.label==="\\c",f=c?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),d;if(r.isStretchy)d=nh.svgSpan(r,e),d=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:d,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+mt(2*s)+")",marginLeft:mt(2*s)}:void 0}]},e);else{var h,p;r.label==="\\vec"?(h=Ve.staticSvg("vec",e),p=Ve.svgData.vec[1]):(h=Ve.makeOrd({mode:r.mode,text:r.label},e,"textord"),h=Wee(h),h.italic=0,p=h.width,c&&(f+=h.depth)),d=Ve.makeSpan(["accent-body"],[h]);var m=r.label==="\\textcircled";m&&(d.classes.push("accent-full"),f=o.height);var g=s;m||(g-=p/2),d.style.left=mt(g),r.label==="\\textcircled"&&(d.style.top=".2em"),d=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-f},{type:"elem",elem:d}]},e)}var v=Ve.makeSpan(["mord","accent"],[d],e);return i?(i.children[0]=v,i.height=Math.max(v.height,i.height),i.classes[0]="mord",i):v},P4e=(t,e)=>{var n=t.isStretchy?nh.mathMLnode(t.label):new lt.MathNode("mo",[Su(t.label,t.mode)]),r=new lt.MathNode("mover",[Wr(t.base,e),n]);return r.setAttribute("accent","true"),r},V6t=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));St({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=S8(e[0]),r=!V6t.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:TB,mathmlBuilder:P4e});St({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:TB,mathmlBuilder:P4e});St({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=ir(t.base,e),r=nh.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,o=Ve.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return Ve.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var n=nh.mathMLnode(t.label),r=new lt.MathNode("munder",[Wr(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var S6=t=>{var e=new lt.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};St({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=Ve.wrapFragment(ir(t.body,r,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(o+"-arrow-pad");var a;t.below&&(r=e.havingStyle(n.sub()),a=Ve.wrapFragment(ir(t.below,r,e),e),a.classes.push(o+"-arrow-pad"));var s=nh.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*s.height,u=-e.fontMetrics().axisHeight-.5*s.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var c;if(a){var f=-e.fontMetrics().axisHeight+a.height+.5*s.height+.111;c=Ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:s,shift:l},{type:"elem",elem:a,shift:f}]},e)}else c=Ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:s,shift:l}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),Ve.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(t,e){var n=nh.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=S6(Wr(t.body,e));if(t.below){var o=S6(Wr(t.below,e));r=new lt.MathNode("munderover",[n,o,i])}else r=new lt.MathNode("mover",[n,i])}else if(t.below){var a=S6(Wr(t.below,e));r=new lt.MathNode("munder",[n,a])}else r=S6(),r=new lt.MathNode("mover",[n,r]);return r}});var H6t=Ve.makeSpan;function R4e(t,e){var n=mo(t.body,e,!0);return H6t([t.mclass],n,e)}function F4e(t,e){var n,r=el(t.body,e);return t.mclass==="minner"?n=new lt.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new lt.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new lt.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}St({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Ui(i),isCharacterBox:Kt.isCharacterBox(i)}},htmlBuilder:R4e,mathmlBuilder:F4e});var fE=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};St({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:fE(e[0]),body:Ui(e[1]),isCharacterBox:Kt.isCharacterBox(e[1])}}});St({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],o=e[0],a;r!=="\\stackrel"?a=fE(i):a="mrel";var s={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Ui(i)},l={type:"supsub",mode:o.mode,base:s,sup:r==="\\underset"?null:o,sub:r==="\\underset"?o:null};return{type:"mclass",mode:n.mode,mclass:a,body:[l],isCharacterBox:Kt.isCharacterBox(l)}},htmlBuilder:R4e,mathmlBuilder:F4e});St({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:fE(e[0]),body:Ui(e[0])}},htmlBuilder(t,e){var n=mo(t.body,e,!0),r=Ve.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=el(t.body,e),r=new lt.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var U6t={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},ete=()=>({type:"styling",body:[],mode:"math",style:"display"}),tte=t=>t.type==="textord"&&t.text==="@",j6t=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function W6t(t,e,n){var r=U6t[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:r,mode:"math",family:"rel"},a=n.callFunction("\\Big",[o],[]),s=n.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,a,s]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function G6t(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new ht("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],o=0;o<e.length;o++){for(var a=e[o],s=ete(),l=0;l<a.length;l++)if(!tte(a[l]))s.body.push(a[l]);else{r.push(s),l+=1;var u=AB(a[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var f=0;f<2;f++){for(var d=!0,h=l+1;h<a.length;h++){if(j6t(a[h],u)){d=!1,l=h;break}if(tte(a[h]))throw new ht("Missing a "+u+" character to complete a CD arrow.",a[h]);c[f].body.push(a[h])}if(d)throw new ht("Missing a "+u+" character to complete a CD arrow.",a[l])}else throw new ht('Expected one of "<>AV=|." after @',a[l]);var p=W6t(u,c,t),m={type:"styling",body:[p],mode:"math",style:"display"};r.push(m),s=ete()}o%2===0?r.push(s):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var g=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:g,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}St({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=Ve.wrapFragment(ir(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=mt(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new lt.MathNode("mrow",[Wr(t.label,e)]);return n=new lt.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new lt.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});St({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=Ve.wrapFragment(ir(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new lt.MathNode("mrow",[Wr(t.fragment,e)])}});St({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Dn(e[0],"ordgroup"),i=r.body,o="",a=0;a<i.length;a++){var s=Dn(i[a],"textord");o+=s.text}var l=parseInt(o),u;if(isNaN(l))throw new ht("\\@char has non-numeric argument "+o);if(l<0||l>=1114111)throw new ht("\\@char with invalid code point "+o);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var L4e=(t,e)=>{var n=mo(t.body,e.withColor(t.color),!1);return Ve.makeFragment(n)},$4e=(t,e)=>{var n=el(t.body,e.withColor(t.color)),r=new lt.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};St({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Dn(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:Ui(i)}},htmlBuilder:L4e,mathmlBuilder:$4e});St({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=Dn(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:L4e,mathmlBuilder:$4e});St({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&Dn(i,"size").value}},htmlBuilder(t,e){var n=Ve.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=mt(ki(t.size,e)))),n},mathmlBuilder(t,e){var n=new lt.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",mt(ki(t.size,e)))),n}});var VO={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},B4e=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new ht("Expected a control sequence",t);return e},K6t=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},z4e=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};St({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(VO[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=VO[r.text]),Dn(e.parseFunction(),"internal");throw new ht("Invalid token after macro prefix",r)}});St({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new ht("Expected a control sequence",r);for(var o=0,a,s=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),s[o].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new ht('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==o+1)throw new ht('Argument number "'+r.text+'" out of order');o++,s.push([])}else{if(r.text==="EOF")throw new ht("Expected a macro definition");s[o].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(n==="\\edef"||n==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:o,delimiters:s},n===VO[n]),{type:"internal",mode:e.mode}}});St({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=B4e(e.gullet.popToken());e.gullet.consumeSpaces();var i=K6t(e);return z4e(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});St({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=B4e(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return z4e(e,r,o,n==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var o2=function(e,n,r){var i=ei.math[e]&&ei.math[e].replace,o=SB(i||e,n,r);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return o},MB=function(e,n,r,i){var o=r.havingBaseStyle(n),a=Ve.makeSpan(i.concat(o.sizingClasses(r)),[e],r),s=o.sizeMultiplier/r.sizeMultiplier;return a.height*=s,a.depth*=s,a.maxFontSize=o.sizeMultiplier,a},q4e=function(e,n,r){var i=n.havingBaseStyle(r),o=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=mt(o),e.height-=o,e.depth+=o},X6t=function(e,n,r,i,o,a){var s=Ve.makeSymbol(e,"Main-Regular",o,i),l=MB(s,n,i,a);return r&&q4e(l,i,n),l},Y6t=function(e,n,r,i){return Ve.makeSymbol(e,"Size"+n+"-Regular",r,i)},V4e=function(e,n,r,i,o,a){var s=Y6t(e,n,o,i),l=MB(Ve.makeSpan(["delimsizing","size"+n],[s],i),en.TEXT,i,a);return r&&q4e(l,i,en.TEXT),l},RT=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var o=Ve.makeSpan(["delimsizinginner",i],[Ve.makeSpan([],[Ve.makeSymbol(e,n,r)])]);return{type:"elem",elem:o}},FT=function(e,n,r){var i=Gc["Size4-Regular"][e.charCodeAt(0)]?Gc["Size4-Regular"][e.charCodeAt(0)][4]:Gc["Size1-Regular"][e.charCodeAt(0)][4],o=new j0("inner",t6t(e,Math.round(1e3*n))),a=new eh([o],{width:mt(i),height:mt(n),style:"width:"+mt(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),s=Ve.makeSvgSpan([],[a],r);return s.height=n,s.style.height=mt(n),s.style.width=mt(i),{type:"elem",elem:s}},HO=.008,_6={type:"kern",size:-1*HO},Z6t=["|","\\lvert","\\rvert","\\vert"],J6t=["\\|","\\lVert","\\rVert","\\Vert"],H4e=function(e,n,r,i,o,a){var s,l,u,c,f="",d=0;s=u=c=e,l=null;var h="Size1-Regular";e==="\\uparrow"?u=c="":e==="\\Uparrow"?u=c="":e==="\\downarrow"?s=u="":e==="\\Downarrow"?s=u="":e==="\\updownarrow"?(s="\\uparrow",u="",c="\\downarrow"):e==="\\Updownarrow"?(s="\\Uparrow",u="",c="\\Downarrow"):Kt.contains(Z6t,e)?(u="",f="vert",d=333):Kt.contains(J6t,e)?(u="",f="doublevert",d=556):e==="["||e==="\\lbrack"?(s="",u="",c="",h="Size4-Regular",f="lbrack",d=667):e==="]"||e==="\\rbrack"?(s="",u="",c="",h="Size4-Regular",f="rbrack",d=667):e==="\\lfloor"||e===""?(u=s="",c="",h="Size4-Regular",f="lfloor",d=667):e==="\\lceil"||e===""?(s="",u=c="",h="Size4-Regular",f="lceil",d=667):e==="\\rfloor"||e===""?(u=s="",c="",h="Size4-Regular",f="rfloor",d=667):e==="\\rceil"||e===""?(s="",u=c="",h="Size4-Regular",f="rceil",d=667):e==="("||e==="\\lparen"?(s="",u="",c="",h="Size4-Regular",f="lparen",d=875):e===")"||e==="\\rparen"?(s="",u="",c="",h="Size4-Regular",f="rparen",d=875):e==="\\{"||e==="\\lbrace"?(s="",l="",c="",u="",h="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(s="",l="",c="",u="",h="Size4-Regular"):e==="\\lgroup"||e===""?(s="",c="",u="",h="Size4-Regular"):e==="\\rgroup"||e===""?(s="",c="",u="",h="Size4-Regular"):e==="\\lmoustache"||e===""?(s="",c="",u="",h="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(s="",c="",u="",h="Size4-Regular");var p=o2(s,h,o),m=p.height+p.depth,g=o2(u,h,o),v=g.height+g.depth,y=o2(c,h,o),b=y.height+y.depth,w=0,x=1;if(l!==null){var S=o2(l,h,o);w=S.height+S.depth,x=2}var _=m+b+w,k=Math.max(0,Math.ceil((n-_)/(x*v))),C=_+k*x*v,E=i.fontMetrics().axisHeight;r&&(E*=i.sizeMultiplier);var M=C/2-E,A=[];if(f.length>0){var N=C-m-b,T=Math.round(C*1e3),I=n6t(f,Math.round(N*1e3)),O=new j0(f,I),q=(d/1e3).toFixed(3)+"em",L=(T/1e3).toFixed(3)+"em",Y=new eh([O],{width:q,height:L,viewBox:"0 0 "+d+" "+T}),R=Ve.makeSvgSpan([],[Y],i);R.height=T/1e3,R.style.width=q,R.style.height=L,A.push({type:"elem",elem:R})}else{if(A.push(RT(c,h,o)),A.push(_6),l===null){var B=C-m-b+2*HO;A.push(FT(u,B,i))}else{var z=(C-m-b-w)/2+2*HO;A.push(FT(u,z,i)),A.push(_6),A.push(RT(l,h,o)),A.push(_6),A.push(FT(u,z,i))}A.push(_6),A.push(RT(s,h,o))}var P=i.havingBaseStyle(en.TEXT),$=Ve.makeVList({positionType:"bottom",positionData:M,children:A},P);return MB(Ve.makeSpan(["delimsizing","mult"],[$],P),en.TEXT,i,a)},LT=80,$T=.08,BT=function(e,n,r,i,o){var a=e6t(e,i,r),s=new j0(e,a),l=new eh([s],{width:"400em",height:mt(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return Ve.makeSvgSpan(["hide-tail"],[l],o)},Q6t=function(e,n){var r=n.havingBaseSizing(),i=G4e("\\surd",e*r.sizeMultiplier,W4e,r),o=r.sizeMultiplier,a=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),s,l=0,u=0,c=0,f;return i.type==="small"?(c=1e3+1e3*a+LT,e<1?o=1:e<1.4&&(o=.7),l=(1+a+$T)/o,u=(1+a)/o,s=BT("sqrtMain",l,c,a,n),s.style.minWidth="0.853em",f=.833/o):i.type==="large"?(c=(1e3+LT)*l3[i.size],u=(l3[i.size]+a)/o,l=(l3[i.size]+a+$T)/o,s=BT("sqrtSize"+i.size,l,c,a,n),s.style.minWidth="1.02em",f=1/o):(l=e+a+$T,u=e+a,c=Math.floor(1e3*e+a)+LT,s=BT("sqrtTall",l,c,a,n),s.style.minWidth="0.742em",f=1.056),s.height=u,s.style.height=mt(l),{span:s,advanceWidth:f,ruleWidth:(n.fontMetrics().sqrtRuleThickness+a)*o}},U4e=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],eSt=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],j4e=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],l3=[0,1.2,1.8,2.4,3],tSt=function(e,n,r,i,o){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),Kt.contains(U4e,e)||Kt.contains(j4e,e))return V4e(e,n,!1,r,i,o);if(Kt.contains(eSt,e))return H4e(e,l3[n],!1,r,i,o);throw new ht("Illegal delimiter: '"+e+"'")},nSt=[{type:"small",style:en.SCRIPTSCRIPT},{type:"small",style:en.SCRIPT},{type:"small",style:en.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],rSt=[{type:"small",style:en.SCRIPTSCRIPT},{type:"small",style:en.SCRIPT},{type:"small",style:en.TEXT},{type:"stack"}],W4e=[{type:"small",style:en.SCRIPTSCRIPT},{type:"small",style:en.SCRIPT},{type:"small",style:en.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],iSt=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},G4e=function(e,n,r,i){for(var o=Math.min(2,3-i.style.size),a=o;a<r.length&&r[a].type!=="stack";a++){var s=o2(e,iSt(r[a]),"math"),l=s.height+s.depth;if(r[a].type==="small"){var u=i.havingBaseStyle(r[a].style);l*=u.sizeMultiplier}if(l>n)return r[a]}return r[r.length-1]},K4e=function(e,n,r,i,o,a){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var s;Kt.contains(j4e,e)?s=nSt:Kt.contains(U4e,e)?s=W4e:s=rSt;var l=G4e(e,n,s,i);return l.type==="small"?X6t(e,l.style,r,i,o,a):l.type==="large"?V4e(e,l.size,r,i,o,a):H4e(e,n,r,i,o,a)},oSt=function(e,n,r,i,o,a){var s=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,c=Math.max(n-s,r+s),f=Math.max(c/500*l,2*c-u);return K4e(e,f,!0,i,o,a)},Fd={sqrtImage:Q6t,sizedDelim:tSt,sizeToMaxHeight:l3,customSizedDelim:K4e,leftRightDelim:oSt},nte={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},aSt=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function dE(t,e){var n=cE(t);if(n&&Kt.contains(aSt,n.text))return n;throw n?new ht("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new ht("Invalid delimiter type '"+t.type+"'",t)}St({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=dE(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:nte[t.funcName].size,mclass:nte[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?Ve.makeSpan([t.mclass]):Fd.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Su(t.delim,t.mode));var n=new lt.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=mt(Fd.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function rte(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}St({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ht("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:dE(e[0],t).text,color:n}}});St({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=dE(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=Dn(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{rte(t);for(var n=mo(t.body,e,!0,["mopen","mclose"]),r=0,i=0,o=!1,a=0;a<n.length;a++)n[a].isMiddle?o=!0:(r=Math.max(n[a].height,r),i=Math.max(n[a].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var s;if(t.left==="."?s=Rw(e,["mopen"]):s=Fd.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(s),o)for(var l=1;l<n.length;l++){var u=n[l],c=u.isMiddle;c&&(n[l]=Fd.leftRightDelim(c.delim,r,i,c.options,t.mode,[]))}var f;if(t.right===".")f=Rw(e,["mclose"]);else{var d=t.rightColor?e.withColor(t.rightColor):e;f=Fd.leftRightDelim(t.right,r,i,d,t.mode,["mclose"])}return n.push(f),Ve.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{rte(t);var n=el(t.body,e);if(t.left!=="."){var r=new lt.MathNode("mo",[Su(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new lt.MathNode("mo",[Su(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return kB(n)}});St({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=dE(e[0],t);if(!t.parser.leftrightDepth)throw new ht("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=Rw(e,[]);else{n=Fd.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?Su("|","text"):Su(t.delim,t.mode),r=new lt.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var DB=(t,e)=>{var n=Ve.wrapFragment(ir(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,o,a=0,s=Kt.isCharacterBox(t.body);if(r==="sout")o=Ve.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=ki({number:.6,unit:"pt"},e),u=ki({number:.35,unit:"ex"},e),c=e.havingBaseSizing();i=i/c.sizeMultiplier;var f=n.height+n.depth+l+u;n.style.paddingLeft=mt(f/2+l);var d=Math.floor(1e3*f*i),h=J5t(d),p=new eh([new j0("phase",h)],{width:"400em",height:mt(d/1e3),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});o=Ve.makeSvgSpan(["hide-tail"],[p],e),o.style.height=mt(f),a=n.depth+l+u}else{/cancel/.test(r)?s||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var m=0,g=0,v=0;/box/.test(r)?(v=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),m=e.fontMetrics().fboxsep+(r==="colorbox"?0:v),g=m):r==="angl"?(v=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),m=4*v,g=Math.max(0,.25-n.depth)):(m=s?.2:0,g=m),o=nh.encloseSpan(n,r,m,g,e),/fbox|boxed|fcolorbox/.test(r)?(o.style.borderStyle="solid",o.style.borderWidth=mt(v)):r==="angl"&&v!==.049&&(o.style.borderTopWidth=mt(v),o.style.borderRightWidth=mt(v)),a=n.depth+g,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var y;if(t.backgroundColor)y=Ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:a},{type:"elem",elem:n,shift:0}]},e);else{var b=/cancel|phase/.test(r)?["svg-align"]:[];y=Ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:o,shift:a,wrapperClasses:b}]},e)}return/cancel/.test(r)&&(y.height=n.height,y.depth=n.depth),/cancel/.test(r)&&!s?Ve.makeSpan(["mord","cancel-lap"],[y],e):Ve.makeSpan(["mord"],[y],e)},NB=(t,e)=>{var n=0,r=new lt.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Wr(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};St({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=Dn(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:a}},htmlBuilder:DB,mathmlBuilder:NB});St({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=Dn(e[0],"color-token").color,a=Dn(e[1],"color-token").color,s=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:o,body:s}},htmlBuilder:DB,mathmlBuilder:NB});St({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});St({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:DB,mathmlBuilder:NB});St({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var X4e={};function Df(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:a}=t,s={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)X4e[n[l]]=s;o&&(w8[e]=o),a&&(x8[e]=a)}var Y4e={};function ke(t,e){Y4e[t]=e}function ite(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var hE=t=>{var e=t.parser.settings;if(!e.displayMode)throw new ht("{"+t.envName+"} can be used only in display mode.")};function OB(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function _p(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:o,arraystretch:a,colSeparationType:s,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:f,leqno:d}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var h=t.gullet.expandMacroAsText("\\arraystretch");if(h==null)a=1;else if(a=parseFloat(h),!a||a<0)throw new ht("Invalid \\arraystretch: "+h)}t.gullet.beginGroup();var p=[],m=[p],g=[],v=[],y=l!=null?[]:void 0;function b(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function w(){y&&(t.gullet.macros.get("\\df@tag")?(y.push(t.subparse([new du("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):y.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(b(),v.push(ite(t));;){var x=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),x={type:"ordgroup",mode:t.mode,body:x},n&&(x={type:"styling",mode:t.mode,style:n,body:[x]}),p.push(x);var S=t.fetch().text;if(S==="&"){if(f&&p.length===f){if(u||s)throw new ht("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(S==="\\end"){w(),p.length===1&&x.type==="styling"&&x.body[0].body.length===0&&(m.length>1||!c)&&m.pop(),v.length<m.length+1&&v.push([]);break}else if(S==="\\\\"){t.consume();var _=void 0;t.gullet.future().text!==" "&&(_=t.parseSizeGroup(!0)),g.push(_?_.value:null),w(),v.push(ite(t)),p=[],m.push(p),b()}else throw new ht("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:m,cols:o,rowGaps:g,hskipBeforeAndAfter:r,hLinesBeforeRow:v,colSeparationType:s,tags:y,leqno:d}}function IB(t){return t.slice(0,1)==="d"?"display":"text"}var Nf=function(e,n){var r,i,o=e.body.length,a=e.hLinesBeforeRow,s=0,l=new Array(o),u=[],c=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),f=1/n.fontMetrics().ptPerEm,d=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var h=n.havingStyle(en.SCRIPT).sizeMultiplier;d=.2778*(h/n.sizeMultiplier)}var p=e.colSeparationType==="CD"?ki({number:3,unit:"ex"},n):12*f,m=3*f,g=e.arraystretch*p,v=.7*g,y=.3*g,b=0;function w(F){for(var j=0;j<F.length;++j)j>0&&(b+=.25),u.push({pos:b,isDashed:F[j]})}for(w(a[0]),r=0;r<e.body.length;++r){var x=e.body[r],S=v,_=y;s<x.length&&(s=x.length);var k=new Array(x.length);for(i=0;i<x.length;++i){var C=ir(x[i],n);_<C.depth&&(_=C.depth),S<C.height&&(S=C.height),k[i]=C}var E=e.rowGaps[r],M=0;E&&(M=ki(E,n),M>0&&(M+=y,_<M&&(_=M),M=0)),e.addJot&&(_+=m),k.height=S,k.depth=_,b+=S,k.pos=b,b+=_+M,l[r]=k,w(a[r+1])}var A=b/2+n.fontMetrics().axisHeight,N=e.cols||[],T=[],I,O,q=[];if(e.tags&&e.tags.some(F=>F))for(r=0;r<o;++r){var L=l[r],Y=L.pos-A,R=e.tags[r],B=void 0;R===!0?B=Ve.makeSpan(["eqn-num"],[],n):R===!1?B=Ve.makeSpan([],[],n):B=Ve.makeSpan([],mo(R,n,!0),n),B.depth=L.depth,B.height=L.height,q.push({type:"elem",elem:B,shift:Y})}for(i=0,O=0;i<s||O<N.length;++i,++O){for(var z=N[O]||{},P=!0;z.type==="separator";){if(P||(I=Ve.makeSpan(["arraycolsep"],[]),I.style.width=mt(n.fontMetrics().doubleRuleSep),T.push(I)),z.separator==="|"||z.separator===":"){var $=z.separator==="|"?"solid":"dashed",X=Ve.makeSpan(["vertical-separator"],[],n);X.style.height=mt(b),X.style.borderRightWidth=mt(c),X.style.borderRightStyle=$,X.style.margin="0 "+mt(-c/2);var K=b-A;K&&(X.style.verticalAlign=mt(-K)),T.push(X)}else throw new ht("Invalid separator type: "+z.separator);O++,z=N[O]||{},P=!1}if(!(i>=s)){var Z=void 0;(i>0||e.hskipBeforeAndAfter)&&(Z=Kt.deflt(z.pregap,d),Z!==0&&(I=Ve.makeSpan(["arraycolsep"],[]),I.style.width=mt(Z),T.push(I)));var te=[];for(r=0;r<o;++r){var J=l[r],fe=J[i];if(fe){var ue=J.pos-A;fe.depth=J.depth,fe.height=J.height,te.push({type:"elem",elem:fe,shift:ue})}}te=Ve.makeVList({positionType:"individualShift",children:te},n),te=Ve.makeSpan(["col-align-"+(z.align||"c")],[te]),T.push(te),(i<s-1||e.hskipBeforeAndAfter)&&(Z=Kt.deflt(z.postgap,d),Z!==0&&(I=Ve.makeSpan(["arraycolsep"],[]),I.style.width=mt(Z),T.push(I)))}}if(l=Ve.makeSpan(["mtable"],T),u.length>0){for(var de=Ve.makeLineSpan("hline",n,c),ee=Ve.makeLineSpan("hdashline",n,c),D=[{type:"elem",elem:l,shift:0}];u.length>0;){var oe=u.pop(),W=oe.pos-A;oe.isDashed?D.push({type:"elem",elem:ee,shift:W}):D.push({type:"elem",elem:de,shift:W})}l=Ve.makeVList({positionType:"individualShift",children:D},n)}if(q.length===0)return Ve.makeSpan(["mord"],[l],n);var V=Ve.makeVList({positionType:"individualShift",children:q},n);return V=Ve.makeSpan(["tag"],[V],n),Ve.makeFragment([l,V])},sSt={c:"center ",l:"left ",r:"right "},Of=function(e,n){for(var r=[],i=new lt.MathNode("mtd",[],["mtr-glue"]),o=new lt.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var s=e.body[a],l=[],u=0;u<s.length;u++)l.push(new lt.MathNode("mtd",[Wr(s[u],n)]));e.tags&&e.tags[a]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(o):l.push(o)),r.push(new lt.MathNode("mtr",l))}var c=new lt.MathNode("mtable",r),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",mt(f));var d="",h="";if(e.cols&&e.cols.length>0){var p=e.cols,m="",g=!1,v=0,y=p.length;p[0].type==="separator"&&(d+="top ",v=1),p[p.length-1].type==="separator"&&(d+="bottom ",y-=1);for(var b=v;b<y;b++)p[b].type==="align"?(h+=sSt[p[b].align],g&&(m+="none "),g=!0):p[b].type==="separator"&&g&&(m+=p[b].separator==="|"?"solid ":"dashed ",g=!1);c.setAttribute("columnalign",h.trim()),/[sd]/.test(m)&&c.setAttribute("columnlines",m.trim())}if(e.colSeparationType==="align"){for(var w=e.cols||[],x="",S=1;S<w.length;S++)x+=S%2?"0em ":"1em ";c.setAttribute("columnspacing",x.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var _="",k=e.hLinesBeforeRow;d+=k[0].length>0?"left ":"",d+=k[k.length-1].length>0?"right ":"";for(var C=1;C<k.length-1;C++)_+=k[C].length===0?"none ":k[C][0]?"dashed ":"solid ";return/[sd]/.test(_)&&c.setAttribute("rowlines",_.trim()),d!==""&&(c=new lt.MathNode("menclose",[c]),c.setAttribute("notation",d.trim())),e.arraystretch&&e.arraystretch<1&&(c=new lt.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},Z4e=function(e,n){e.envName.indexOf("ed")===-1&&hE(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",a=_p(e.parser,{cols:r,addJot:!0,autoTag:o?void 0:OB(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),s,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var c="",f=0;f<n[0].body.length;f++){var d=Dn(n[0].body[f],"textord");c+=d.text}s=Number(c),l=s*2}var h=!l;a.body.forEach(function(v){for(var y=1;y<v.length;y+=2){var b=Dn(v[y],"styling"),w=Dn(b.body[0],"ordgroup");w.body.unshift(u)}if(h)l<v.length&&(l=v.length);else{var x=v.length/2;if(s<x)throw new ht("Too many math in a row: "+("expected "+s+", but got "+x),v[0])}});for(var p=0;p<l;++p){var m="r",g=0;p%2===1?m="l":p>0&&h&&(g=1),r[p]={type:"align",align:m,pregap:g,postgap:0}}return a.colSeparationType=h?"align":"alignat",a};Df({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=cE(e[0]),r=n?[e[0]]:Dn(e[0],"ordgroup").body,i=r.map(function(a){var s=AB(a),l=s.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new ht("Unknown column alignment: "+l,a)}),o={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return _p(t.parser,o,IB(t.envName))},htmlBuilder:Nf,mathmlBuilder:Of});Df({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new ht("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var o=_p(t.parser,r,IB(t.envName)),a=Math.max(0,...o.body.map(s=>s.length));return o.cols=new Array(a).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:Nf,mathmlBuilder:Of});Df({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=_p(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:Nf,mathmlBuilder:Of});Df({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=cE(e[0]),r=n?[e[0]]:Dn(e[0],"ordgroup").body,i=r.map(function(a){var s=AB(a),l=s.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new ht("Unknown column alignment: "+l,a)});if(i.length>1)throw new ht("{subarray} can contain only one column");var o={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=_p(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new ht("{subarray} can contain only one column");return o},htmlBuilder:Nf,mathmlBuilder:Of});Df({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=_p(t.parser,e,IB(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Nf,mathmlBuilder:Of});Df({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Z4e,htmlBuilder:Nf,mathmlBuilder:Of});Df({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){Kt.contains(["gather","gather*"],t.envName)&&hE(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:OB(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return _p(t.parser,e,"display")},htmlBuilder:Nf,mathmlBuilder:Of});Df({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Z4e,htmlBuilder:Nf,mathmlBuilder:Of});Df({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){hE(t);var e={autoTag:OB(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return _p(t.parser,e,"display")},htmlBuilder:Nf,mathmlBuilder:Of});Df({type:"array",names:["CD"],props:{numArgs:0},handler(t){return hE(t),G6t(t.parser)},htmlBuilder:Nf,mathmlBuilder:Of});ke("\\nonumber","\\gdef\\@eqnsw{0}");ke("\\notag","\\nonumber");St({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new ht(t.funcName+" valid only within array environment")}});var ote=X4e;St({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new ht("Invalid environment name",i);for(var o="",a=0;a<i.body.length;++a)o+=Dn(i.body[a],"textord").text;if(r==="\\begin"){if(!ote.hasOwnProperty(o))throw new ht("No such environment: "+o,i);var s=ote[o],{args:l,optArgs:u}=n.parseArguments("\\begin{"+o+"}",s),c={mode:n.mode,envName:o,parser:n},f=s.handler(c,l,u);n.expect("\\end",!1);var d=n.nextToken,h=Dn(n.parseFunction(),"environment");if(h.name!==o)throw new ht("Mismatch: \\begin{"+o+"} matched by \\end{"+h.name+"}",d);return f}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var J4e=(t,e)=>{var n=t.font,r=e.withFont(n);return ir(t.body,r)},Q4e=(t,e)=>{var n=t.font,r=e.withFont(n);return Wr(t.body,r)},ate={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};St({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=S8(e[0]),o=r;return o in ate&&(o=ate[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:J4e,mathmlBuilder:Q4e});St({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=Kt.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:fE(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});St({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:o}=n,a=n.parseExpression(!0,i),s="math"+r.slice(1);return{type:"font",mode:o,font:s,body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:J4e,mathmlBuilder:Q4e});var exe=(t,e)=>{var n=e;return t==="display"?n=n.id>=en.SCRIPT.id?n.text():en.DISPLAY:t==="text"&&n.size===en.DISPLAY.size?n=en.TEXT:t==="script"?n=en.SCRIPT:t==="scriptscript"&&(n=en.SCRIPTSCRIPT),n},PB=(t,e)=>{var n=exe(t.size,e.style),r=n.fracNum(),i=n.fracDen(),o;o=e.havingStyle(r);var a=ir(t.numer,o,e);if(t.continued){var s=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<s?s:a.height,a.depth=a.depth<l?l:a.depth}o=e.havingStyle(i);var u=ir(t.denom,o,e),c,f,d;t.hasBarLine?(t.barSize?(f=ki(t.barSize,e),c=Ve.makeLineSpan("frac-line",e,f)):c=Ve.makeLineSpan("frac-line",e),f=c.height,d=c.height):(c=null,f=0,d=e.fontMetrics().defaultRuleThickness);var h,p,m;n.size===en.DISPLAY.size||t.size==="display"?(h=e.fontMetrics().num1,f>0?p=3*d:p=7*d,m=e.fontMetrics().denom1):(f>0?(h=e.fontMetrics().num2,p=d):(h=e.fontMetrics().num3,p=3*d),m=e.fontMetrics().denom2);var g;if(c){var y=e.fontMetrics().axisHeight;h-a.depth-(y+.5*f)<p&&(h+=p-(h-a.depth-(y+.5*f))),y-.5*f-(u.height-m)<p&&(m+=p-(y-.5*f-(u.height-m)));var b=-(y-.5*f);g=Ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:m},{type:"elem",elem:c,shift:b},{type:"elem",elem:a,shift:-h}]},e)}else{var v=h-a.depth-(u.height-m);v<p&&(h+=.5*(p-v),m+=.5*(p-v)),g=Ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:m},{type:"elem",elem:a,shift:-h}]},e)}o=e.havingStyle(n),g.height*=o.sizeMultiplier/e.sizeMultiplier,g.depth*=o.sizeMultiplier/e.sizeMultiplier;var w;n.size===en.DISPLAY.size?w=e.fontMetrics().delim1:n.size===en.SCRIPTSCRIPT.size?w=e.havingStyle(en.SCRIPT).fontMetrics().delim2:w=e.fontMetrics().delim2;var x,S;return t.leftDelim==null?x=Rw(e,["mopen"]):x=Fd.customSizedDelim(t.leftDelim,w,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?S=Ve.makeSpan([]):t.rightDelim==null?S=Rw(e,["mclose"]):S=Fd.customSizedDelim(t.rightDelim,w,!0,e.havingStyle(n),t.mode,["mclose"]),Ve.makeSpan(["mord"].concat(o.sizingClasses(e)),[x,Ve.makeSpan(["mfrac"],[g]),S],e)},RB=(t,e)=>{var n=new lt.MathNode("mfrac",[Wr(t.numer,e),Wr(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=ki(t.barSize,e);n.setAttribute("linethickness",mt(r))}var i=exe(t.size,e.style);if(i.size!==e.style.size){n=new lt.MathNode("mstyle",[n]);var o=i.size===en.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var s=new lt.MathNode("mo",[new lt.TextNode(t.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),a.push(s)}if(a.push(n),t.rightDelim!=null){var l=new lt.MathNode("mo",[new lt.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return kB(a)}return n};St({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1],a,s=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,s="(",l=")";break;case"\\\\bracefrac":a=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:o,hasBarLine:a,leftDelim:s,rightDelim:l,size:u,barSize:null}},htmlBuilder:PB,mathmlBuilder:RB});St({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});St({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var ste=["display","text","script","scriptscript"],lte=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};St({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],o=S8(e[0]),a=o.type==="atom"&&o.family==="open"?lte(o.text):null,s=S8(e[1]),l=s.type==="atom"&&s.family==="close"?lte(s.text):null,u=Dn(e[2],"size"),c,f=null;u.isBlank?c=!0:(f=u.value,c=f.number>0);var d="auto",h=e[3];if(h.type==="ordgroup"){if(h.body.length>0){var p=Dn(h.body[0],"textord");d=ste[Number(p.text)]}}else h=Dn(h,"textord"),d=ste[Number(h.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:c,barSize:f,leftDelim:a,rightDelim:l,size:d}},htmlBuilder:PB,mathmlBuilder:RB});St({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Dn(e[0],"size").value,token:i}}});St({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=L5t(Dn(e[1],"infix").size),a=e[2],s=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:s,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:PB,mathmlBuilder:RB});var txe=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?ir(t.sup,e.havingStyle(n.sup()),e):ir(t.sub,e.havingStyle(n.sub()),e),i=Dn(t.base,"horizBrace")):i=Dn(t,"horizBrace");var o=ir(i.base,e.havingBaseStyle(en.DISPLAY)),a=nh.svgSpan(i,e),s;if(i.isOver?(s=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:a}]},e),s.children[0].children[0].children[1].classes.push("svg-align")):(s=Ve.makeVList({positionType:"bottom",positionData:o.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:o}]},e),s.children[0].children[0].children[0].classes.push("svg-align")),r){var l=Ve.makeSpan(["mord",i.isOver?"mover":"munder"],[s],e);i.isOver?s=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):s=Ve.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return Ve.makeSpan(["mord",i.isOver?"mover":"munder"],[s],e)},lSt=(t,e)=>{var n=nh.mathMLnode(t.label);return new lt.MathNode(t.isOver?"mover":"munder",[Wr(t.base,e),n])};St({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:txe,mathmlBuilder:lSt});St({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=Dn(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Ui(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=mo(t.body,e,!1);return Ve.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=W0(t.body,e);return n instanceof bl||(n=new bl("mrow",[n])),n.setAttribute("href",t.href),n}});St({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Dn(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var a=r[o];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var s={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Ui(s)}}});St({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Ui(e[0])}},htmlBuilder(t,e){var n=mo(t.body,e,!1);return Ve.makeFragment(n)},mathmlBuilder(t,e){return new lt.MathNode("mrow",el(t.body,e))}});St({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,o=Dn(e[0],"raw").string,a=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var s,l={};switch(r){case"\\htmlClass":l.class=o,s={command:"\\htmlClass",class:o};break;case"\\htmlId":l.id=o,s={command:"\\htmlId",id:o};break;case"\\htmlStyle":l.style=o,s={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var u=o.split(","),c=0;c<u.length;c++){var f=u[c].split("=");if(f.length!==2)throw new ht("Error parsing key-value for \\htmlData");l["data-"+f[0].trim()]=f[1].trim()}s={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(s)?{type:"html",mode:n.mode,attributes:l,body:Ui(a)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=mo(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=Ve.makeSpan(r,n,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>W0(t.body,e)});St({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Ui(e[0]),mathml:Ui(e[1])}},htmlBuilder:(t,e)=>{var n=mo(t.html,e,!1);return Ve.makeFragment(n)},mathmlBuilder:(t,e)=>W0(t.mathml,e)});var zT=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new ht("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!w4e(r))throw new ht("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};St({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},a={number:0,unit:"em"},s="";if(n[0])for(var l=Dn(n[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var f=u[c].split("=");if(f.length===2){var d=f[1].trim();switch(f[0].trim()){case"alt":s=d;break;case"width":i=zT(d);break;case"height":o=zT(d);break;case"totalheight":a=zT(d);break;default:throw new ht("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var h=Dn(e[0],"url").url;return s===""&&(s=h,s=s.replace(/^.*[\\/]/,""),s=s.substring(0,s.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:h})?{type:"includegraphics",mode:r.mode,alt:s,width:i,height:o,totalheight:a,src:h}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=ki(t.height,e),r=0;t.totalheight.number>0&&(r=ki(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=ki(t.width,e));var o={height:mt(n+r)};i>0&&(o.width=mt(i)),r>0&&(o.verticalAlign=mt(-r));var a=new l6t(t.src,t.alt,o);return a.height=n,a.depth=r,a},mathmlBuilder:(t,e)=>{var n=new lt.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=ki(t.height,e),i=0;if(t.totalheight.number>0&&(i=ki(t.totalheight,e)-r,n.setAttribute("valign",mt(-i))),n.setAttribute("height",mt(r+i)),t.width.number>0){var o=ki(t.width,e);n.setAttribute("width",mt(o))}return n.setAttribute("src",t.src),n}});St({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=Dn(e[0],"size");if(n.settings.strict){var o=r[1]==="m",a=i.value.unit==="mu";o?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return Ve.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=ki(t.dimension,e);return new lt.SpaceNode(n)}});St({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=Ve.makeSpan([],[ir(t.body,e)]),n=Ve.makeSpan(["inner"],[n],e)):n=Ve.makeSpan(["inner"],[ir(t.body,e)]);var r=Ve.makeSpan(["fix"],[]),i=Ve.makeSpan([t.alignment],[n,r],e),o=Ve.makeSpan(["strut"]);return o.style.height=mt(i.height+i.depth),i.depth&&(o.style.verticalAlign=mt(-i.depth)),i.children.unshift(o),i=Ve.makeSpan(["thinbox"],[i],e),Ve.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new lt.MathNode("mpadded",[Wr(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});St({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var o=n==="\\("?"\\)":"$",a=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}});St({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new ht("Mismatched "+t.funcName)}});var ute=(t,e)=>{switch(e.style.size){case en.DISPLAY.size:return t.display;case en.TEXT.size:return t.text;case en.SCRIPT.size:return t.script;case en.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};St({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Ui(e[0]),text:Ui(e[1]),script:Ui(e[2]),scriptscript:Ui(e[3])}},htmlBuilder:(t,e)=>{var n=ute(t,e),r=mo(n,e,!1);return Ve.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=ute(t,e);return W0(n,e)}});var nxe=(t,e,n,r,i,o,a)=>{t=Ve.makeSpan([],[t]);var s=n&&Kt.isCharacterBox(n),l,u;if(e){var c=ir(e,r.havingStyle(i.sup()),r);u={elem:c,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-c.depth)}}if(n){var f=ir(n,r.havingStyle(i.sub()),r);l={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}var d;if(u&&l){var h=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+a;d=Ve.makeVList({positionType:"bottom",positionData:h,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:mt(-o)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:mt(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var p=t.height-a;d=Ve.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:mt(-o)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},r)}else if(u){var m=t.depth+a;d=Ve.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:mt(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var g=[d];if(l&&o!==0&&!s){var v=Ve.makeSpan(["mspace"],[],r);v.style.marginRight=mt(o),g.unshift(v)}return Ve.makeSpan(["mop","op-limits"],g,r)},rxe=["\\smallint"],Uy=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=Dn(t.base,"op"),i=!0):o=Dn(t,"op");var a=e.style,s=!1;a.size===en.DISPLAY.size&&o.symbol&&!Kt.contains(rxe,o.name)&&(s=!0);var l;if(o.symbol){var u=s?"Size2-Regular":"Size1-Regular",c="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(c=o.name.slice(1),o.name=c==="oiint"?"\\iint":"\\iiint"),l=Ve.makeSymbol(o.name,u,"math",e,["mop","op-symbol",s?"large-op":"small-op"]),c.length>0){var f=l.italic,d=Ve.staticSvg(c+"Size"+(s?"2":"1"),e);l=Ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:d,shift:s?.08:0}]},e),o.name="\\"+c,l.classes.unshift("mop"),l.italic=f}}else if(o.body){var h=mo(o.body,e,!0);h.length===1&&h[0]instanceof xu?(l=h[0],l.classes[0]="mop"):l=Ve.makeSpan(["mop"],h,e)}else{for(var p=[],m=1;m<o.name.length;m++)p.push(Ve.mathsym(o.name[m],o.mode,e));l=Ve.makeSpan(["mop"],p,e)}var g=0,v=0;return(l instanceof xu||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(g=(l.height-l.depth)/2-e.fontMetrics().axisHeight,v=l.italic),i?nxe(l,n,r,e,a,v,g):(g&&(l.style.position="relative",l.style.top=mt(g)),l)},G4=(t,e)=>{var n;if(t.symbol)n=new bl("mo",[Su(t.name,t.mode)]),Kt.contains(rxe,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new bl("mo",el(t.body,e));else{n=new bl("mi",[new Kc(t.name.slice(1))]);var r=new bl("mo",[Su("","text")]);t.parentIsSupSub?n=new bl("mrow",[n,r]):n=N4e([n,r])}return n},uSt={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};St({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=uSt[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Uy,mathmlBuilder:G4});St({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ui(r)}},htmlBuilder:Uy,mathmlBuilder:G4});var cSt={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};St({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Uy,mathmlBuilder:G4});St({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Uy,mathmlBuilder:G4});St({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=cSt[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Uy,mathmlBuilder:G4});var ixe=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=Dn(t.base,"operatorname"),i=!0):o=Dn(t,"operatorname");var a;if(o.body.length>0){for(var s=o.body.map(f=>{var d=f.text;return typeof d=="string"?{type:"textord",mode:f.mode,text:d}:f}),l=mo(s,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof xu&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=Ve.makeSpan(["mop"],l,e)}else a=Ve.makeSpan(["mop"],[],e);return i?nxe(a,n,r,e,e.style,0,0):a},fSt=(t,e)=>{for(var n=el(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(!(o instanceof lt.SpaceNode))if(o instanceof lt.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=o.children[0];o.children.length===1&&a instanceof lt.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var s=n.map(c=>c.toText()).join("");n=[new lt.TextNode(s)]}var l=new lt.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new lt.MathNode("mo",[Su("","text")]);return t.parentIsSupSub?new lt.MathNode("mrow",[l,u]):lt.newDocumentFragment([l,u])};St({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:Ui(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:ixe,mathmlBuilder:fSt});ke("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");R1({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?Ve.makeFragment(mo(t.body,e,!1)):Ve.makeSpan(["mord"],mo(t.body,e,!0),e)},mathmlBuilder(t,e){return W0(t.body,e,!0)}});St({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=ir(t.body,e.havingCrampedStyle()),r=Ve.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return Ve.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var n=new lt.MathNode("mo",[new lt.TextNode("")]);n.setAttribute("stretchy","true");var r=new lt.MathNode("mover",[Wr(t.body,e),n]);return r.setAttribute("accent","true"),r}});St({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Ui(r)}},htmlBuilder:(t,e)=>{var n=mo(t.body,e.withPhantom(),!1);return Ve.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=el(t.body,e);return new lt.MathNode("mphantom",n)}});St({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=Ve.makeSpan([],[ir(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),Ve.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=el(Ui(t.body),e),r=new lt.MathNode("mphantom",n),i=new lt.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});St({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=Ve.makeSpan(["inner"],[ir(t.body,e.withPhantom())]),r=Ve.makeSpan(["fix"],[]);return Ve.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=el(Ui(t.body),e),r=new lt.MathNode("mphantom",n),i=new lt.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});St({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Dn(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=ir(t.body,e),r=ki(t.dy,e);return Ve.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new lt.MathNode("mpadded",[Wr(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});St({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});St({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],o=Dn(e[0],"size"),a=Dn(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Dn(i,"size").value,width:o.value,height:a.value}},htmlBuilder(t,e){var n=Ve.makeSpan(["mord","rule"],[],e),r=ki(t.width,e),i=ki(t.height,e),o=t.shift?ki(t.shift,e):0;return n.style.borderRightWidth=mt(r),n.style.borderTopWidth=mt(i),n.style.bottom=mt(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=ki(t.width,e),r=ki(t.height,e),i=t.shift?ki(t.shift,e):0,o=e.color&&e.getColor()||"black",a=new lt.MathNode("mspace");a.setAttribute("mathbackground",o),a.setAttribute("width",mt(n)),a.setAttribute("height",mt(r));var s=new lt.MathNode("mpadded",[a]);return i>=0?s.setAttribute("height",mt(i)):(s.setAttribute("height",mt(i)),s.setAttribute("depth",mt(-i))),s.setAttribute("voffset",mt(i)),s}});function oxe(t,e,n){for(var r=mo(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var a=r[o].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[o].classes,e.sizingClasses(n)):r[o].classes[a+1]==="reset-size"+e.size&&(r[o].classes[a+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return Ve.makeFragment(r)}var cte=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],dSt=(t,e)=>{var n=e.havingSize(t.size);return oxe(t.body,n,e)};St({type:"sizing",names:cte,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:cte.indexOf(r)+1,body:o}},htmlBuilder:dSt,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=el(t.body,n),i=new lt.MathNode("mstyle",r);return i.setAttribute("mathsize",mt(n.sizeMultiplier)),i}});St({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,o=!1,a=n[0]&&Dn(n[0],"ordgroup");if(a)for(var s="",l=0;l<a.body.length;++l){var u=a.body[l];if(s=u.text,s==="t")i=!0;else if(s==="b")o=!0;else{i=!1,o=!1;break}}else i=!0,o=!0;var c=e[0];return{type:"smash",mode:r.mode,body:c,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var n=Ve.makeSpan([],[ir(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return Ve.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var n=new lt.MathNode("mpadded",[Wr(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});St({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],o=e[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder(t,e){var n=ir(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=Ve.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,o=i;e.style.id<en.TEXT.id&&(o=e.fontMetrics().xHeight);var a=i+o/4,s=n.height+n.depth+a+i,{span:l,ruleWidth:u,advanceWidth:c}=Fd.sqrtImage(s,e),f=l.height-u;f>n.height+n.depth+a&&(a=(a+f-n.height-n.depth)/2);var d=l.height-n.height-a-u;n.style.paddingLeft=mt(c);var h=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+d)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var p=e.havingStyle(en.SCRIPTSCRIPT),m=ir(t.index,p,e),g=.6*(h.height-h.depth),v=Ve.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:m}]},e),y=Ve.makeSpan(["root"],[v]);return Ve.makeSpan(["mord","sqrt"],[y,h],e)}else return Ve.makeSpan(["mord","sqrt"],[h],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new lt.MathNode("mroot",[Wr(n,e),Wr(r,e)]):new lt.MathNode("msqrt",[Wr(n,e)])}});var fte={display:en.DISPLAY,text:en.TEXT,script:en.SCRIPT,scriptscript:en.SCRIPTSCRIPT};St({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:o}},htmlBuilder(t,e){var n=fte[t.style],r=e.havingStyle(n).withFont("");return oxe(t.body,r,e)},mathmlBuilder(t,e){var n=fte[t.style],r=e.havingStyle(n),i=el(t.body,r),o=new lt.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},s=a[t.style];return o.setAttribute("scriptlevel",s[0]),o.setAttribute("displaystyle",s[1]),o}});var hSt=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===en.DISPLAY.size||r.alwaysHandleSupSub);return i?Uy:null}else if(r.type==="operatorname"){var o=r.alwaysHandleSupSub&&(n.style.size===en.DISPLAY.size||r.limits);return o?ixe:null}else{if(r.type==="accent")return Kt.isCharacterBox(r.base)?TB:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?txe:null}else return null}else return null};R1({type:"supsub",htmlBuilder(t,e){var n=hSt(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:o}=t,a=ir(r,e),s,l,u=e.fontMetrics(),c=0,f=0,d=r&&Kt.isCharacterBox(r);if(i){var h=e.havingStyle(e.style.sup());s=ir(i,h,e),d||(c=a.height-h.fontMetrics().supDrop*h.sizeMultiplier/e.sizeMultiplier)}if(o){var p=e.havingStyle(e.style.sub());l=ir(o,p,e),d||(f=a.depth+p.fontMetrics().subDrop*p.sizeMultiplier/e.sizeMultiplier)}var m;e.style===en.DISPLAY?m=u.sup1:e.style.cramped?m=u.sup3:m=u.sup2;var g=e.sizeMultiplier,v=mt(.5/u.ptPerEm/g),y=null;if(l){var b=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof xu||b)&&(y=mt(-a.italic))}var w;if(s&&l){c=Math.max(c,m,s.depth+.25*u.xHeight),f=Math.max(f,u.sub2);var x=u.defaultRuleThickness,S=4*x;if(c-s.depth-(l.height-f)<S){f=S-(c-s.depth)+l.height;var _=.8*u.xHeight-(c-s.depth);_>0&&(c+=_,f-=_)}var k=[{type:"elem",elem:l,shift:f,marginRight:v,marginLeft:y},{type:"elem",elem:s,shift:-c,marginRight:v}];w=Ve.makeVList({positionType:"individualShift",children:k},e)}else if(l){f=Math.max(f,u.sub1,l.height-.8*u.xHeight);var C=[{type:"elem",elem:l,marginLeft:y,marginRight:v}];w=Ve.makeVList({positionType:"shift",positionData:f,children:C},e)}else if(s)c=Math.max(c,m,s.depth+.25*u.xHeight),w=Ve.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:s,marginRight:v}]},e);else throw new Error("supsub must have either sup or sub.");var E=zO(a,"right")||"mord";return Ve.makeSpan([E],[a,Ve.makeSpan(["msupsub"],[w])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[Wr(t.base,e)];t.sub&&o.push(Wr(t.sub,e)),t.sup&&o.push(Wr(t.sup,e));var a;if(n)a=r?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===en.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===en.DISPLAY||u.limits)?a="munderover":a="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===en.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===en.DISPLAY)?a="munder":a="msub"}else{var s=t.base;s&&s.type==="op"&&s.limits&&(e.style===en.DISPLAY||s.alwaysHandleSupSub)||s&&s.type==="operatorname"&&s.alwaysHandleSupSub&&(s.limits||e.style===en.DISPLAY)?a="mover":a="msup"}return new lt.MathNode(a,o)}});R1({type:"atom",htmlBuilder(t,e){return Ve.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new lt.MathNode("mo",[Su(t.text,t.mode)]);if(t.family==="bin"){var r=EB(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var axe={mi:"italic",mn:"normal",mtext:"normal"};R1({type:"mathord",htmlBuilder(t,e){return Ve.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new lt.MathNode("mi",[Su(t.text,t.mode,e)]),r=EB(t,e)||"italic";return r!==axe[n.type]&&n.setAttribute("mathvariant",r),n}});R1({type:"textord",htmlBuilder(t,e){return Ve.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=Su(t.text,t.mode,e),r=EB(t,e)||"normal",i;return t.mode==="text"?i=new lt.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new lt.MathNode("mn",[n]):t.text==="\\prime"?i=new lt.MathNode("mo",[n]):i=new lt.MathNode("mi",[n]),r!==axe[i.type]&&i.setAttribute("mathvariant",r),i}});var qT={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},VT={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};R1({type:"spacing",htmlBuilder(t,e){if(VT.hasOwnProperty(t.text)){var n=VT[t.text].className||"";if(t.mode==="text"){var r=Ve.makeOrd(t,e,"textord");return r.classes.push(n),r}else return Ve.makeSpan(["mspace",n],[Ve.mathsym(t.text,t.mode,e)],e)}else{if(qT.hasOwnProperty(t.text))return Ve.makeSpan(["mspace",qT[t.text]],[],e);throw new ht('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(VT.hasOwnProperty(t.text))n=new lt.MathNode("mtext",[new lt.TextNode("")]);else{if(qT.hasOwnProperty(t.text))return new lt.MathNode("mspace");throw new ht('Unknown type of space "'+t.text+'"')}return n}});var dte=()=>{var t=new lt.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};R1({type:"tag",mathmlBuilder(t,e){var n=new lt.MathNode("mtable",[new lt.MathNode("mtr",[dte(),new lt.MathNode("mtd",[W0(t.body,e)]),dte(),new lt.MathNode("mtd",[W0(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var hte={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},pte={"\\textbf":"textbf","\\textmd":"textmd"},pSt={"\\textit":"textit","\\textup":"textup"},mte=(t,e)=>{var n=t.font;if(n){if(hte[n])return e.withTextFontFamily(hte[n]);if(pte[n])return e.withTextFontWeight(pte[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(pSt[n])};St({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:Ui(i),font:r}},htmlBuilder(t,e){var n=mte(t,e),r=mo(t.body,n,!0);return Ve.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=mte(t,e);return W0(t.body,n)}});St({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=ir(t.body,e),r=Ve.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=Ve.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return Ve.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var n=new lt.MathNode("mo",[new lt.TextNode("")]);n.setAttribute("stretchy","true");var r=new lt.MathNode("munder",[Wr(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});St({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=ir(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return Ve.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new lt.MathNode("mpadded",[Wr(t.body,e)],["vcenter"])}});St({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new ht("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=gte(t),r=[],i=e.havingStyle(e.style.text()),o=0;o<n.length;o++){var a=n[o];a==="~"&&(a="\\textasciitilde"),r.push(Ve.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return Ve.makeSpan(["mord","text"].concat(i.sizingClasses(e)),Ve.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new lt.TextNode(gte(t)),r=new lt.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var gte=t=>t.body.replace(/ /g,t.star?"":""),g0=M4e,sxe=`[ \r
	]`,mSt="\\\\[a-zA-Z@]+",gSt="\\\\[^\uD800-\uDFFF]",vSt="("+mSt+")"+sxe+"*",ySt=`\\\\(
|[ \r	]+
?)[ \r	]*`,UO="[-]",bSt=new RegExp(UO+"+$"),wSt="("+sxe+"+)|"+(ySt+"|")+"([!-\\[\\]---]"+(UO+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(UO+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+vSt)+("|"+gSt+")");class vte{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(wSt,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new du("EOF",new pl(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new ht("Unexpected character: '"+e[n]+"'",new du(e[n],new pl(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new du(i,new pl(this,n,this.tokenRegex.lastIndex))}}class xSt{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ht("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var SSt=Y4e;ke("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});ke("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});ke("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});ke("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});ke("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});ke("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");ke("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var yte={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ke("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new ht("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=yte[e.text],r==null||r>=n)throw new ht("Invalid base-"+n+" digit "+e.text);for(var i;(i=yte[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var FB=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new ht("\\newcommand's first argument must be a macro name");var o=i[0].text,a=t.isDefined(o);if(a&&!e)throw new ht("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!a&&!n)throw new ht("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var s=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new ht("Invalid number of arguments: "+l);s=parseInt(l),i=t.consumeArg().tokens}return a&&r||t.macros.set(o,{tokens:i,numArgs:s}),""};ke("\\newcommand",t=>FB(t,!1,!0,!1));ke("\\renewcommand",t=>FB(t,!0,!1,!1));ke("\\providecommand",t=>FB(t,!0,!0,!0));ke("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});ke("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});ke("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),g0[n],ei.math[n],ei.text[n]),""});ke("\\bgroup","{");ke("\\egroup","}");ke("~","\\nobreakspace");ke("\\lq","`");ke("\\rq","'");ke("\\aa","\\r a");ke("\\AA","\\r A");ke("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");ke("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");ke("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");ke("","\\mathscr{B}");ke("","\\mathscr{E}");ke("","\\mathscr{F}");ke("","\\mathscr{H}");ke("","\\mathscr{I}");ke("","\\mathscr{L}");ke("","\\mathscr{M}");ke("","\\mathscr{R}");ke("","\\mathfrak{C}");ke("","\\mathfrak{H}");ke("","\\mathfrak{Z}");ke("\\Bbbk","\\Bbb{k}");ke("","\\cdotp");ke("\\llap","\\mathllap{\\textrm{#1}}");ke("\\rlap","\\mathrlap{\\textrm{#1}}");ke("\\clap","\\mathclap{\\textrm{#1}}");ke("\\mathstrut","\\vphantom{(}");ke("\\underbar","\\underline{\\text{#1}}");ke("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');ke("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");ke("\\ne","\\neq");ke("","\\neq");ke("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");ke("","\\notin");ke("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");ke("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");ke("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");ke("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");ke("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");ke("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");ke("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");ke("","\\perp");ke("","\\mathclose{!\\mkern-0.8mu!}");ke("","\\notni");ke("","\\ulcorner");ke("","\\urcorner");ke("","\\llcorner");ke("","\\lrcorner");ke("","\\copyright");ke("","\\textregistered");ke("","\\textregistered");ke("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');ke("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');ke("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');ke("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');ke("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");ke("","\\vdots");ke("\\varGamma","\\mathit{\\Gamma}");ke("\\varDelta","\\mathit{\\Delta}");ke("\\varTheta","\\mathit{\\Theta}");ke("\\varLambda","\\mathit{\\Lambda}");ke("\\varXi","\\mathit{\\Xi}");ke("\\varPi","\\mathit{\\Pi}");ke("\\varSigma","\\mathit{\\Sigma}");ke("\\varUpsilon","\\mathit{\\Upsilon}");ke("\\varPhi","\\mathit{\\Phi}");ke("\\varPsi","\\mathit{\\Psi}");ke("\\varOmega","\\mathit{\\Omega}");ke("\\substack","\\begin{subarray}{c}#1\\end{subarray}");ke("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");ke("\\boxed","\\fbox{$\\displaystyle{#1}$}");ke("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");ke("\\implies","\\DOTSB\\;\\Longrightarrow\\;");ke("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");ke("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");ke("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var bte={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ke("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in bte?e=bte[n]:(n.slice(0,4)==="\\not"||n in ei.math&&Kt.contains(["bin","rel"],ei.math[n].group))&&(e="\\dotsb"),e});var LB={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ke("\\dotso",function(t){var e=t.future().text;return e in LB?"\\ldots\\,":"\\ldots"});ke("\\dotsc",function(t){var e=t.future().text;return e in LB&&e!==","?"\\ldots\\,":"\\ldots"});ke("\\cdots",function(t){var e=t.future().text;return e in LB?"\\@cdots\\,":"\\@cdots"});ke("\\dotsb","\\cdots");ke("\\dotsm","\\cdots");ke("\\dotsi","\\!\\cdots");ke("\\dotsx","\\ldots\\,");ke("\\DOTSI","\\relax");ke("\\DOTSB","\\relax");ke("\\DOTSX","\\relax");ke("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");ke("\\,","\\tmspace+{3mu}{.1667em}");ke("\\thinspace","\\,");ke("\\>","\\mskip{4mu}");ke("\\:","\\tmspace+{4mu}{.2222em}");ke("\\medspace","\\:");ke("\\;","\\tmspace+{5mu}{.2777em}");ke("\\thickspace","\\;");ke("\\!","\\tmspace-{3mu}{.1667em}");ke("\\negthinspace","\\!");ke("\\negmedspace","\\tmspace-{4mu}{.2222em}");ke("\\negthickspace","\\tmspace-{5mu}{.277em}");ke("\\enspace","\\kern.5em ");ke("\\enskip","\\hskip.5em\\relax");ke("\\quad","\\hskip1em\\relax");ke("\\qquad","\\hskip2em\\relax");ke("\\tag","\\@ifstar\\tag@literal\\tag@paren");ke("\\tag@paren","\\tag@literal{({#1})}");ke("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new ht("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});ke("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");ke("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");ke("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");ke("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");ke("\\newline","\\\\\\relax");ke("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var lxe=mt(Gc["Main-Regular"][84][1]-.7*Gc["Main-Regular"][65][1]);ke("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+lxe+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");ke("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+lxe+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");ke("\\hspace","\\@ifstar\\@hspacer\\@hspace");ke("\\@hspace","\\hskip #1\\relax");ke("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");ke("\\ordinarycolon",":");ke("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");ke("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');ke("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');ke("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');ke("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');ke("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');ke("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');ke("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');ke("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');ke("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');ke("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');ke("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');ke("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');ke("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');ke("","\\dblcolon");ke("","\\eqcolon");ke("","\\coloneqq");ke("","\\eqqcolon");ke("","\\Coloneqq");ke("\\ratio","\\vcentcolon");ke("\\coloncolon","\\dblcolon");ke("\\colonequals","\\coloneqq");ke("\\coloncolonequals","\\Coloneqq");ke("\\equalscolon","\\eqqcolon");ke("\\equalscoloncolon","\\Eqqcolon");ke("\\colonminus","\\coloneq");ke("\\coloncolonminus","\\Coloneq");ke("\\minuscolon","\\eqcolon");ke("\\minuscoloncolon","\\Eqcolon");ke("\\coloncolonapprox","\\Colonapprox");ke("\\coloncolonsim","\\Colonsim");ke("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ke("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");ke("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ke("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");ke("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");ke("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");ke("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");ke("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");ke("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");ke("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");ke("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");ke("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");ke("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");ke("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");ke("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");ke("\\ngeqq","\\html@mathml{\\@ngeqq}{}");ke("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");ke("\\nleqq","\\html@mathml{\\@nleqq}{}");ke("\\nleqslant","\\html@mathml{\\@nleqslant}{}");ke("\\nshortmid","\\html@mathml{\\@nshortmid}{}");ke("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");ke("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");ke("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");ke("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");ke("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");ke("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");ke("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");ke("\\imath","\\html@mathml{\\@imath}{}");ke("\\jmath","\\html@mathml{\\@jmath}{}");ke("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");ke("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");ke("","\\llbracket");ke("","\\rrbracket");ke("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");ke("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");ke("","\\lBrace");ke("","\\rBrace");ke("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");ke("","\\minuso");ke("\\darr","\\downarrow");ke("\\dArr","\\Downarrow");ke("\\Darr","\\Downarrow");ke("\\lang","\\langle");ke("\\rang","\\rangle");ke("\\uarr","\\uparrow");ke("\\uArr","\\Uparrow");ke("\\Uarr","\\Uparrow");ke("\\N","\\mathbb{N}");ke("\\R","\\mathbb{R}");ke("\\Z","\\mathbb{Z}");ke("\\alef","\\aleph");ke("\\alefsym","\\aleph");ke("\\Alpha","\\mathrm{A}");ke("\\Beta","\\mathrm{B}");ke("\\bull","\\bullet");ke("\\Chi","\\mathrm{X}");ke("\\clubs","\\clubsuit");ke("\\cnums","\\mathbb{C}");ke("\\Complex","\\mathbb{C}");ke("\\Dagger","\\ddagger");ke("\\diamonds","\\diamondsuit");ke("\\empty","\\emptyset");ke("\\Epsilon","\\mathrm{E}");ke("\\Eta","\\mathrm{H}");ke("\\exist","\\exists");ke("\\harr","\\leftrightarrow");ke("\\hArr","\\Leftrightarrow");ke("\\Harr","\\Leftrightarrow");ke("\\hearts","\\heartsuit");ke("\\image","\\Im");ke("\\infin","\\infty");ke("\\Iota","\\mathrm{I}");ke("\\isin","\\in");ke("\\Kappa","\\mathrm{K}");ke("\\larr","\\leftarrow");ke("\\lArr","\\Leftarrow");ke("\\Larr","\\Leftarrow");ke("\\lrarr","\\leftrightarrow");ke("\\lrArr","\\Leftrightarrow");ke("\\Lrarr","\\Leftrightarrow");ke("\\Mu","\\mathrm{M}");ke("\\natnums","\\mathbb{N}");ke("\\Nu","\\mathrm{N}");ke("\\Omicron","\\mathrm{O}");ke("\\plusmn","\\pm");ke("\\rarr","\\rightarrow");ke("\\rArr","\\Rightarrow");ke("\\Rarr","\\Rightarrow");ke("\\real","\\Re");ke("\\reals","\\mathbb{R}");ke("\\Reals","\\mathbb{R}");ke("\\Rho","\\mathrm{P}");ke("\\sdot","\\cdot");ke("\\sect","\\S");ke("\\spades","\\spadesuit");ke("\\sub","\\subset");ke("\\sube","\\subseteq");ke("\\supe","\\supseteq");ke("\\Tau","\\mathrm{T}");ke("\\thetasym","\\vartheta");ke("\\weierp","\\wp");ke("\\Zeta","\\mathrm{Z}");ke("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");ke("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");ke("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");ke("\\bra","\\mathinner{\\langle{#1}|}");ke("\\ket","\\mathinner{|{#1}\\rangle}");ke("\\braket","\\mathinner{\\langle{#1}\\rangle}");ke("\\Bra","\\left\\langle#1\\right|");ke("\\Ket","\\left|#1\\right\\rangle");var uxe=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.consumeArg().tokens,a=e.macros.get("|"),s=e.macros.get("\\|");e.macros.beginGroup();var l=f=>d=>{t&&(d.macros.set("|",a),i.length&&d.macros.set("\\|",s));var h=f;if(!f&&i.length){var p=d.future();p.text==="|"&&(d.popToken(),h=!0)}return{tokens:h?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...o,...u,...n]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};ke("\\bra@ket",uxe(!1));ke("\\bra@set",uxe(!0));ke("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");ke("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");ke("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");ke("\\angln","{\\angl n}");ke("\\blue","\\textcolor{##6495ed}{#1}");ke("\\orange","\\textcolor{##ffa500}{#1}");ke("\\pink","\\textcolor{##ff00af}{#1}");ke("\\red","\\textcolor{##df0030}{#1}");ke("\\green","\\textcolor{##28ae7b}{#1}");ke("\\gray","\\textcolor{gray}{#1}");ke("\\purple","\\textcolor{##9d38bd}{#1}");ke("\\blueA","\\textcolor{##ccfaff}{#1}");ke("\\blueB","\\textcolor{##80f6ff}{#1}");ke("\\blueC","\\textcolor{##63d9ea}{#1}");ke("\\blueD","\\textcolor{##11accd}{#1}");ke("\\blueE","\\textcolor{##0c7f99}{#1}");ke("\\tealA","\\textcolor{##94fff5}{#1}");ke("\\tealB","\\textcolor{##26edd5}{#1}");ke("\\tealC","\\textcolor{##01d1c1}{#1}");ke("\\tealD","\\textcolor{##01a995}{#1}");ke("\\tealE","\\textcolor{##208170}{#1}");ke("\\greenA","\\textcolor{##b6ffb0}{#1}");ke("\\greenB","\\textcolor{##8af281}{#1}");ke("\\greenC","\\textcolor{##74cf70}{#1}");ke("\\greenD","\\textcolor{##1fab54}{#1}");ke("\\greenE","\\textcolor{##0d923f}{#1}");ke("\\goldA","\\textcolor{##ffd0a9}{#1}");ke("\\goldB","\\textcolor{##ffbb71}{#1}");ke("\\goldC","\\textcolor{##ff9c39}{#1}");ke("\\goldD","\\textcolor{##e07d10}{#1}");ke("\\goldE","\\textcolor{##a75a05}{#1}");ke("\\redA","\\textcolor{##fca9a9}{#1}");ke("\\redB","\\textcolor{##ff8482}{#1}");ke("\\redC","\\textcolor{##f9685d}{#1}");ke("\\redD","\\textcolor{##e84d39}{#1}");ke("\\redE","\\textcolor{##bc2612}{#1}");ke("\\maroonA","\\textcolor{##ffbde0}{#1}");ke("\\maroonB","\\textcolor{##ff92c6}{#1}");ke("\\maroonC","\\textcolor{##ed5fa6}{#1}");ke("\\maroonD","\\textcolor{##ca337c}{#1}");ke("\\maroonE","\\textcolor{##9e034e}{#1}");ke("\\purpleA","\\textcolor{##ddd7ff}{#1}");ke("\\purpleB","\\textcolor{##c6b9fc}{#1}");ke("\\purpleC","\\textcolor{##aa87ff}{#1}");ke("\\purpleD","\\textcolor{##7854ab}{#1}");ke("\\purpleE","\\textcolor{##543b78}{#1}");ke("\\mintA","\\textcolor{##f5f9e8}{#1}");ke("\\mintB","\\textcolor{##edf2df}{#1}");ke("\\mintC","\\textcolor{##e0e5cc}{#1}");ke("\\grayA","\\textcolor{##f6f7f7}{#1}");ke("\\grayB","\\textcolor{##f0f1f2}{#1}");ke("\\grayC","\\textcolor{##e3e5e6}{#1}");ke("\\grayD","\\textcolor{##d6d8da}{#1}");ke("\\grayE","\\textcolor{##babec2}{#1}");ke("\\grayF","\\textcolor{##888d93}{#1}");ke("\\grayG","\\textcolor{##626569}{#1}");ke("\\grayH","\\textcolor{##3b3e40}{#1}");ke("\\grayI","\\textcolor{##21242c}{#1}");ke("\\kaBlue","\\textcolor{##314453}{#1}");ke("\\kaGreen","\\textcolor{##71B307}{#1}");var cxe={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class _St{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new xSt(SSt,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new vte(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new du("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),o,a=0,s=0;do{if(o=this.popToken(),n.push(o),o.text==="{")++a;else if(o.text==="}"){if(--a,a===-1)throw new ht("Extra }",o)}else if(o.text==="EOF")throw new ht("Unexpected end of input in a macro argument, expected '"+(e&&r?e[s]:"}")+"'",o);if(e&&r)if((a===0||a===1&&e[s]==="{")&&o.text===e[s]){if(++s,s===e.length){n.splice(-s,s);break}}else s=0}while(a!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:o}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new ht("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var o=this.popToken();if(r[i]!==o.text)throw new ht("Use of the macro doesn't match its definition",o)}}for(var a=[],s=0;s<e;s++)a.push(this.consumeArg(n&&n[s+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new ht("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new ht("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var o=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var s=o.length-1;s>=0;--s){var l=o[s];if(l.text==="#"){if(s===0)throw new ht("Incomplete placeholder at end of macro body",l);if(l=o[--s],l.text==="#")o.splice(s+1,1);else if(/^[1-9]$/.test(l.text))o.splice(s,2,...a[+l.text-1]);else throw new ht("Not a valid argument number",l)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new du(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(o+1))!==-1;)++o;for(var s=new vte(i,this.settings),l=[],u=s.lex();u.text!=="EOF";)l.push(u),u=s.lex();l.reverse();var c={tokens:l,numArgs:o};return c}return i}isDefined(e){return this.macros.has(e)||g0.hasOwnProperty(e)||ei.math.hasOwnProperty(e)||ei.text.hasOwnProperty(e)||cxe.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:g0.hasOwnProperty(e)&&!g0[e].primitive}}var wte=/^[]/,C6=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),HT={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},xte={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class pE{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new _St(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new ht("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new du("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(pE.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&g0[i.text]&&g0[i.text].infix)break;var o=this.parseAtom(n);if(o){if(o.type==="internal")continue}else break;r.push(o)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new ht("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var o,a,s=e.slice(0,n),l=e.slice(n+1);s.length===1&&s[0].type==="ordgroup"?o=s[0]:o={type:"ordgroup",mode:this.mode,body:s},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[o,e[n],a],[]):u=this.callFunction(r,[o,a],[]),[u]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var o;i=this.parseGroup(e)}while(((o=i)==null?void 0:o.type)==="internal");if(!i)throw new ht("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(e){var n=this.parseGroup("atom",e);if(n?.type==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(n&&n.type==="op"){var a=o.text==="\\limits";n.limits=a,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=o.text==="\\limits");else throw new ht("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(r)throw new ht("Double superscript",o);r=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(i)throw new ht("Double subscript",o);i=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(r)throw new ht("Double superscript",o);var s={type:"textord",mode:this.mode,text:"\\prime"},l=[s];for(this.consume();this.fetch().text==="'";)l.push(s),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(C6[o.text]){var u=wte.test(o.text),c=[];for(c.push(new du(C6[o.text])),this.consume();;){var f=this.fetch().text;if(!C6[f]||wte.test(f)!==u)break;c.unshift(new du(C6[f])),this.consume()}var d=this.subparse(c);u?i={type:"ordgroup",mode:"math",body:d}:r={type:"ordgroup",mode:"math",body:d}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,o=g0[i];if(!o)return null;if(this.consume(),n&&n!=="atom"&&!o.allowedInArgument)throw new ht("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!o.allowedInText)throw new ht("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&o.allowedInMath===!1)throw new ht("Can't use function '"+i+"' in math mode",r);var{args:a,optArgs:s}=this.parseArguments(i,o);return this.callFunction(i,a,s,r,e)}callFunction(e,n,r,i,o){var a={funcName:e,parser:this,token:i,breakOnTokenText:o},s=g0[e];if(s&&s.handler)return s.handler(a,n,r);throw new ht("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],o=[],a=0;a<r;a++){var s=n.argTypes&&n.argTypes[a],l=a<n.numOptionalArgs;(n.primitive&&s==null||n.type==="sqrt"&&a===1&&o[0]==null)&&(s="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",s,l);if(l)o.push(u);else if(u!=null)i.push(u);else throw new ht("Null argument, please report this as a bug")}return{args:i,optArgs:o}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",r);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(r)throw new ht("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new ht("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new ht("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",o;(o=this.fetch()).text!=="EOF";)i+=o.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,o="",a;(a=this.fetch()).text!=="EOF"&&e.test(o+a.text);)i=a,o+=i.text,this.consume();if(o==="")throw new ht("Invalid "+n+": '"+r.text+"'",r);return r.range(i,o)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new ht("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new ht("Invalid size: '"+n.text+"'",n);var o={number:+(i[1]+i[2]),unit:i[3]};if(!w4e(o))throw new ht("Invalid unit: '"+o.unit+"'",n);return{type:"size",mode:this.mode,value:o,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:o};return n&&this.switchMode(i),a}parseGroup(e,n){var r=this.fetch(),i=r.text,o;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var s=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:pl.range(r,l),body:s,semisimple:i==="\\begingroup"||void 0}}else if(o=this.parseFunction(n,e)||this.parseSymbol(),o==null&&i[0]==="\\"&&!cxe.hasOwnProperty(i)){if(this.settings.throwOnError)throw new ht("Undefined control sequence: "+i,r);o=this.formatUnsupportedCmd(i),this.consume()}return o}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],o=i.text;o==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:pl.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:pl.range(i,e[r+1]),text:"--"}),n-=1)),(o==="'"||o==="`")&&e[r+1].text===o&&(e.splice(r,2,{type:"textord",mode:"text",loc:pl.range(i,e[r+1]),text:o+o}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new ht(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}xte.hasOwnProperty(n[0])&&!ei[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=xte[n[0]]+n.slice(1));var o=bSt.exec(n);o&&(n=n.substring(0,o.index),n==="i"?n="":n==="j"&&(n=""));var a;if(ei[this.mode][n]){this.settings.strict&&this.mode==="math"&&BO.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var s=ei[this.mode][n].group,l=pl.range(e),u;if(f6t.hasOwnProperty(s)){var c=s;u={type:"atom",mode:this.mode,family:c,loc:l,text:n}}else u={type:s,mode:this.mode,loc:l,text:n};a=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(b4e(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:pl.range(e),text:n};else return null;if(this.consume(),o)for(var f=0;f<o[0].length;f++){var d=o[0][f];if(!HT[d])throw new ht("Unknown accent ' "+d+"'",e);var h=HT[d][this.mode]||HT[d].text;if(!h)throw new ht("Accent "+d+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:pl.range(e),label:h,isStretchy:!1,isShifty:!0,base:a}}return a}}pE.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var $B=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new pE(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ht("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new du("\\df@tag")])}]}return i},fxe=function(e,n,r){n.textContent="";var i=BB(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),fxe=function(){throw new ht("KaTeX doesn't work in quirks mode.")});var CSt=function(e,n){var r=BB(e,n).toMarkup();return r},kSt=function(e,n){var r=new wB(n);return $B(e,r)},dxe=function(e,n,r){if(r.throwOnError||!(e instanceof ht))throw e;var i=Ve.makeSpan(["katex-error"],[new xu(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},BB=function(e,n){var r=new wB(n);try{var i=$B(e,r);return P6t(i,e,r)}catch(o){return dxe(o,e,r)}},ESt=function(e,n){var r=new wB(n);try{var i=$B(e,r);return R6t(i,e,r)}catch(o){return dxe(o,e,r)}},ASt="0.16.22",TSt={Span:W4,Anchor:_B,SymbolNode:xu,SvgNode:eh,PathNode:j0,LineNode:$O},hxe={version:ASt,render:fxe,renderToString:CSt,ParseError:ht,SETTINGS_SCHEMA:GS,__parse:kSt,__renderToDomTree:BB,__renderToHTMLTree:ESt,__setFontMetrics:r6t,__defineSymbol:U,__defineFunction:St,__defineMacro:ke,__domTree:TSt};class mE{constructor(e){this.#i=!1,this.onShow=()=>{},this.onHide=()=>{},this.#u=(n,r)=>{const{state:i,composing:o}=n,{selection:a,doc:s}=i,{ranges:l}=a,u=Math.min(...l.map(h=>h.$from.pos)),c=Math.max(...l.map(h=>h.$to.pos)),f=r&&r.doc.eq(s)&&r.selection.eq(a);if(this.#i||((this.#l??n.dom.parentElement??document.body).appendChild(this.element),this.#i=!0),o||f)return;if(!this.#e(n,r)){this.hide();return}ac({getBoundingClientRect:()=>_7(n,u,c)},this.element,{placement:this.#n.placement??"top",middleware:[a8(),H0(this.#o),EQ(this.#a),...this.#r]}).then(({x:h,y:p})=>{Object.assign(this.element.style,{left:`${h}px`,top:`${p}px`})}).catch(console.error),this.show()},this.update=(n,r)=>{this.#s(n,r)},this.destroy=()=>{this.#s.cancel()},this.show=n=>{this.element.dataset.show="true",n&&ac(n,this.element,{placement:"top",middleware:[a8(),H0(this.#o),EQ(this.#a),...this.#r],...this.#n}).then(({x:r,y:i})=>{Object.assign(this.element.style,{left:`${r}px`,top:`${i}px`})}).catch(console.error),this.onShow()},this.hide=()=>{this.element.dataset.show!=="false"&&(this.element.dataset.show="false",this.onHide())},this.element=e.content,this.#t=e.debounce??200,this.#e=e.shouldShow??this.#c,this.#o=e.offset,this.#a=e.shift,this.#r=e.middleware??[],this.#n=e.floatingUIOptions??{},this.#l=e.root,this.element.dataset.show="false",this.#s=I7(this.#u,this.#t)}#t;#e;#r;#n;#l;#i;#o;#a;#s;#u;#c(e){const{doc:n,selection:r}=e.state,{empty:i,from:o,to:a}=r,s=!n.textBetween(o,a).length&&e.state.selection instanceof zt,l=this.element.contains(document.activeElement),u=!e.hasFocus()&&!l,c=!e.editable;return!(u||i||s||c)}}function gE(t){const e=Fr({},`${t}_TOOLTIP_SPEC`),n=xo(i=>{const o=i.get(e.key);return new yi({key:new Ai(`${t}_TOOLTIP`),...o})}),r=[e,n];return r.key=e.key,r.pluginKey=n.key,e.meta={package:"@milkdown/plugin-tooltip",displayName:`Ctx<tooltipSpec>|${t}`},n.meta={package:"@milkdown/plugin-tooltip",displayName:`Prose<tooltip>|${t}`},r}function MSt(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:o},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:s,mathText:a,mathTextData:s}};function t(l){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},l)}function e(){this.buffer()}function n(){const l=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=l}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(l){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),c=this.stack[this.stack.length-1];c.type,this.exit(l),c.value=u;const f=c.data.hChildren[0];f.type,f.tagName,f.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function o(l){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},l),this.buffer()}function a(l){const u=this.resume(),c=this.stack[this.stack.length-1];c.type,this.exit(l),c.value=u,c.data.hChildren.push({type:"text",value:u})}function s(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function DSt(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(o,a,s,l){const u=o.value||"",c=s.createTracker(l),f="$".repeat(Math.max(bbe(u,"$")+1,2)),d=s.enter("mathFlow");let h=c.move(f);if(o.meta){const p=s.enter("mathFlowMeta");h+=c.move(s.safe(o.meta,{after:`
`,before:h,encode:["$"],...c.current()})),p()}return h+=c.move(`
`),u&&(h+=c.move(u+`
`)),h+=c.move(f),d(),h}function r(o,a,s){let l=o.value||"",u=1;for(e||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(l);)u++;const c="$".repeat(u);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let f=-1;for(;++f<s.unsafe.length;){const d=s.unsafe[f];if(!d.atBreak)continue;const h=s.compilePattern(d);let p;for(;p=h.exec(l);){let m=p.index;l.codePointAt(m)===10&&l.codePointAt(m-1)===13&&m--,l=l.slice(0,m)+" "+l.slice(p.index+1)}}return c+l+c}function i(){return"$"}}const NSt={tokenize:OSt,concrete:!0,name:"mathFlow"},Ste={tokenize:ISt,partial:!0};function OSt(t,e,n){const r=this,i=r.events[r.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let a=0;return s;function s(y){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),l(y)}function l(y){return y===36?(t.consume(y),a++,l):a<2?n(y):(t.exit("mathFlowFenceSequence"),$n(t,u,"whitespace")(y))}function u(y){return y===null||Vt(y)?f(y):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),c(y))}function c(y){return y===null||Vt(y)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),f(y)):y===36?n(y):(t.consume(y),c)}function f(y){return t.exit("mathFlowFence"),r.interrupt?e(y):t.attempt(Ste,d,g)(y)}function d(y){return t.attempt({tokenize:v,partial:!0},g,h)(y)}function h(y){return(o?$n(t,p,"linePrefix",o+1):p)(y)}function p(y){return y===null?g(y):Vt(y)?t.attempt(Ste,d,g)(y):(t.enter("mathFlowValue"),m(y))}function m(y){return y===null||Vt(y)?(t.exit("mathFlowValue"),p(y)):(t.consume(y),m)}function g(y){return t.exit("mathFlow"),e(y)}function v(y,b,w){let x=0;return $n(y,S,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function S(C){return y.enter("mathFlowFence"),y.enter("mathFlowFenceSequence"),_(C)}function _(C){return C===36?(x++,y.consume(C),_):x<a?w(C):(y.exit("mathFlowFenceSequence"),$n(y,k,"whitespace")(C))}function k(C){return C===null||Vt(C)?(y.exit("mathFlowFence"),b(C)):w(C)}}}function ISt(t,e,n){const r=this;return i;function i(a){return a===null?e(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function PSt(t){let n=(t||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:RSt,previous:FSt,name:"mathText"};function r(i,o,a){let s=0,l,u;return c;function c(m){return i.enter("mathText"),i.enter("mathTextSequence"),f(m)}function f(m){return m===36?(i.consume(m),s++,f):s<2&&!n?a(m):(i.exit("mathTextSequence"),d(m))}function d(m){return m===null?a(m):m===36?(u=i.enter("mathTextSequence"),l=0,p(m)):m===32?(i.enter("space"),i.consume(m),i.exit("space"),d):Vt(m)?(i.enter("lineEnding"),i.consume(m),i.exit("lineEnding"),d):(i.enter("mathTextData"),h(m))}function h(m){return m===null||m===32||m===36||Vt(m)?(i.exit("mathTextData"),d(m)):(i.consume(m),h)}function p(m){return m===36?(i.consume(m),l++,p):l===s?(i.exit("mathTextSequence"),i.exit("mathText"),o(m)):(u.type="mathTextData",h(m))}}}function RSt(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="mathTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function FSt(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function LSt(t){return{flow:{36:NSt},text:{36:PSt(t)}}}const $St={};function BSt(t){const e=this,n=t||$St,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(LSt(n)),o.push(MSt()),a.push(DSt(n))}var zSt=Object.defineProperty,_te=Object.getOwnPropertySymbols,qSt=Object.prototype.hasOwnProperty,VSt=Object.prototype.propertyIsEnumerable,Cte=(t,e,n)=>e in t?zSt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HSt=(t,e)=>{for(var n in e||(e={}))qSt.call(e,n)&&Cte(t,n,e[n]);if(_te)for(var n of _te(e))VSt.call(e,n)&&Cte(t,n,e[n]);return t};function F1(t,e){return Object.assign(t,{meta:HSt({package:"@milkdown/components"},e)}),t}var USt=Object.defineProperty,kte=Object.getOwnPropertySymbols,jSt=Object.prototype.hasOwnProperty,WSt=Object.prototype.propertyIsEnumerable,Ete=(t,e,n)=>e in t?USt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zB=(t,e)=>{for(var n in e||(e={}))jSt.call(e,n)&&Ete(t,n,e[n]);if(kte)for(var n of kte(e))WSt.call(e,n)&&Ete(t,n,e[n]);return t};const GSt={mode:"preview"},rh=Fr(zB({},GSt),"linkTooltipStateCtx");F1(rh,{displayName:"State<link-tooltip>",group:"LinkTooltip"});const KSt={addLink:()=>{},editLink:()=>{},removeLink:()=>{}},ty=Fr(zB({},KSt),"linkTooltipAPICtx");F1(rh,{displayName:"API<link-tooltip>",group:"LinkTooltip"});const XSt={linkIcon:"",editButton:"",removeButton:"",confirmButton:"Confirm ",onCopyLink:()=>{},inputPlaceholder:"Paste link..."},ny=Fr(zB({},XSt),"linkTooltipConfigCtx");F1(rh,{displayName:"Config<link-tooltip>",group:"LinkTooltip"});const pxe=fn("ToggleLink",t=>()=>e=>{const{doc:n,selection:r}=e,i=Ju.type(t);return n.rangeHasMark(r.from,r.to,i)?(t.get(ty.key).removeLink(r.from,r.to),!0):(t.get(ty.key).addLink(r.from,r.to),!0)}),K4=gE("LINK_PREVIEW");F1(K4[0],{displayName:"PreviewTooltipSpec<link-tooltip>",group:"LinkTooltip"});F1(K4[1],{displayName:"PreviewTooltipPlugin<link-tooltip>",group:"LinkTooltip"});const vE=gE("LINK_EDIT");F1(vE[0],{displayName:"EditTooltipSpec<link-tooltip>",group:"LinkTooltip"});F1(vE[1],{displayName:"EditTooltipPlugin<link-tooltip>",group:"LinkTooltip"});function u3({icon:t,class:e,onClick:n}){return he("span",{class:na("milkdown-icon",e),onPointerdown:n,ref:r=>{r&&t&&(r.innerHTML=yc.sanitize(t.trim()))}})}u3.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const YSt=nt({props:{config:{type:Object,required:!0},src:{type:Object,required:!0},onConfirm:{type:Function,required:!0},onCancel:{type:Function,required:!0}},setup({config:t,src:e,onConfirm:n,onCancel:r}){const i=we(e);We(e,s=>{i.value=s});const o=()=>{n(i.value)},a=s=>{s.stopPropagation(),s.key==="Enter"&&(s.preventDefault(),o()),s.key==="Escape"&&(s.preventDefault(),r())};return()=>he("div",{class:"link-edit"},he("input",{class:"input-area",placeholder:t.value.inputPlaceholder,onKeydown:a,onInput:s=>{i.value=s.target.value},value:i.value}),i.value?he(u3,{class:"button confirm",icon:t.value.confirmButton,onClick:o}):null)}});var ZSt=Object.defineProperty,JSt=Object.defineProperties,QSt=Object.getOwnPropertyDescriptors,Ate=Object.getOwnPropertySymbols,e_t=Object.prototype.hasOwnProperty,t_t=Object.prototype.propertyIsEnumerable,mxe=t=>{throw TypeError(t)},Tte=(t,e,n)=>e in t?ZSt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k6=(t,e)=>{for(var n in e||(e={}))e_t.call(e,n)&&Tte(t,n,e[n]);if(Ate)for(var n of Ate(e))t_t.call(e,n)&&Tte(t,n,e[n]);return t},Mte=(t,e)=>JSt(t,QSt(e)),gxe=(t,e,n)=>e.has(t)||mxe("Cannot "+n),wi=(t,e,n)=>(gxe(t,e,"read from private field"),n?n.call(t):e.get(t)),Jf=(t,e,n)=>e.has(t)?mxe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),$p=(t,e,n,r)=>(gxe(t,e,"write to private field"),e.set(t,n),n),a2,Rh,Fh,XS,s2,YS,Gp,jO,ZS;const Dte={from:-1,to:-1,mark:null};class n_t{constructor(e,n){this.ctx=e,Jf(this,a2),Jf(this,Rh),Jf(this,Fh,k6({},Dte)),Jf(this,XS),Jf(this,s2),Jf(this,YS,we("")),Jf(this,Gp,()=>{wi(this,Rh).hide(),this.ctx.update(rh.key,o=>Mte(k6({},o),{mode:"preview"})),$p(this,Fh,k6({},Dte))}),Jf(this,jO,o=>{const a=this.ctx.get(Xr),{from:s,to:l,mark:u}=wi(this,Fh),c=Ju.type(this.ctx),f=yc.sanitize(o);if(u&&u.attrs.href===f){wi(this,Gp).call(this);return}const d=a.state.tr;u&&d.removeMark(s,l,u),d.addMark(s,l,c.create({href:f})),a.dispatch(d),wi(this,Gp).call(this)}),Jf(this,ZS,(o,a,s)=>{const l=this.ctx.get(ny.key);wi(this,s2).value=l,wi(this,YS).value=o,this.ctx.update(rh.key,c=>Mte(k6({},c),{mode:"edit"}));const u=this.ctx.get(Xr);u.dispatch(u.state.tr.setSelection(zt.create(u.state.doc,a,s))),wi(this,Rh).show({getBoundingClientRect:()=>_7(u,a,s)}),requestAnimationFrame(()=>{var c;(c=wi(this,a2).querySelector("input"))==null||c.focus()})}),this.update=o=>{const{state:a}=o,{selection:s}=a;if(!(s instanceof zt))return;const{from:l,to:u}=s;l===wi(this,Fh).from&&u===wi(this,Fh).to||wi(this,Gp).call(this)},this.destroy=()=>{wi(this,XS).unmount(),wi(this,Rh).destroy(),wi(this,a2).remove()},this.addLink=(o,a)=>{$p(this,Fh,{from:o,to:a,mark:null}),wi(this,ZS).call(this,"",o,a)},this.editLink=(o,a,s)=>{$p(this,Fh,{from:a,to:s,mark:o}),wi(this,ZS).call(this,o.attrs.href,a,s)},this.removeLink=(o,a)=>{const s=this.ctx.get(Xr),l=s.state.tr;l.removeMark(o,a,Ju.type(this.ctx)),s.dispatch(l),wi(this,Gp).call(this)},$p(this,s2,we(this.ctx.get(ny.key)));const r=document.createElement("div");r.className="milkdown-link-edit";const i=Aa(YSt,{config:wi(this,s2),src:wi(this,YS),onConfirm:wi(this,jO),onCancel:wi(this,Gp)});i.mount(r),$p(this,XS,i),$p(this,a2,r),$p(this,Rh,new mE({content:r,debounce:0,shouldShow:()=>!1})),wi(this,Rh).onHide=()=>{requestAnimationFrame(()=>{n.dom.focus({preventScroll:!0})})},wi(this,Rh).update(n)}}a2=new WeakMap;Rh=new WeakMap;Fh=new WeakMap;XS=new WeakMap;s2=new WeakMap;YS=new WeakMap;Gp=new WeakMap;jO=new WeakMap;ZS=new WeakMap;var r_t=Object.defineProperty,i_t=Object.defineProperties,o_t=Object.getOwnPropertyDescriptors,Nte=Object.getOwnPropertySymbols,a_t=Object.prototype.hasOwnProperty,s_t=Object.prototype.propertyIsEnumerable,Ote=(t,e,n)=>e in t?r_t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l_t=(t,e)=>{for(var n in e||(e={}))a_t.call(e,n)&&Ote(t,n,e[n]);if(Nte)for(var n of Nte(e))s_t.call(e,n)&&Ote(t,n,e[n]);return t},u_t=(t,e)=>i_t(t,o_t(e));function c_t(t){let e;t.update(ty.key,n=>u_t(l_t({},n),{addLink:(r,i)=>{e?.addLink(r,i)},editLink:(r,i,o)=>{e?.editLink(r,i,o)},removeLink:(r,i)=>{e?.removeLink(r,i)}})),t.set(vE.key,{view:n=>(e=new n_t(t,n),e)})}function f_t(t,e,n,r,i){let o={start:-1,end:-1};return n.nodesBetween(r,i,(a,s)=>{if(o.start>-1)return!1;o.start===-1&&t.isInSet(a.marks)&&e===a&&(o={start:s,end:s+Math.max(a.textContent.length,1)})}),o}function d_t(t,e,n){const r=e.posAtCoords({left:n.clientX,top:n.clientY});if(!r)return;const{pos:i}=r,o=e.state.doc.nodeAt(i);if(!o)return;const a=o.marks.find(l=>l.type===Ju.mark.type(t));if(!(!a||!K4.pluginKey()))return{show:!0,pos:i,node:o,mark:a}}const h_t=nt({props:{config:{type:Object,required:!0},src:{type:Object,required:!0},onEdit:{type:Object,required:!0},onRemove:{type:Object,required:!0}},setup({config:t,src:e,onEdit:n,onRemove:r}){const i=s=>{s.preventDefault(),s.stopPropagation(),n.value()},o=s=>{s.preventDefault(),s.stopPropagation(),r.value()},a=s=>{s.preventDefault();const l=e.value;navigator.clipboard&&l&&navigator.clipboard.writeText(l).then(()=>{t.value.onCopyLink(l)}).catch(u=>console.error(u))};return()=>he("div",{class:"link-preview",onPointerdown:a},he(u3,{class:"link-icon",icon:t.value.linkIcon}),he("a",{href:e.value,target:"_blank",class:"link-display"},e.value),he(u3,{class:"button link-edit-button",icon:t.value.editButton,onClick:i}),he(u3,{class:"button link-remove-button",icon:t.value.removeButton,onClick:o}))}});var vxe=t=>{throw TypeError(t)},yxe=(t,e,n)=>e.has(t)||vxe("Cannot "+n),Qn=(t,e,n)=>(yxe(t,e,"read from private field"),n?n.call(t):e.get(t)),il=(t,e,n)=>e.has(t)?vxe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Bp=(t,e,n,r)=>(yxe(t,e,"write to private field"),e.set(t,n),n),Kp,Lu,l2,u2,JS,QS,e_,c2,f2,t_,n_,r_,d2;class p_t{constructor(e,n){this.ctx=e,il(this,Kp),il(this,Lu),il(this,l2,this.ctx.use(rh.key)),il(this,u2),il(this,JS,we("")),il(this,QS,we(()=>{})),il(this,e_,we(()=>{})),il(this,c2),il(this,f2,!1),il(this,t_,({mode:r})=>{r==="edit"&&Qn(this,d2).call(this)}),il(this,n_,()=>{Bp(this,f2,!0)}),il(this,r_,()=>{Bp(this,f2,!1)}),il(this,d2,()=>{Qn(this,Lu).hide(),Qn(this,Lu).element.removeEventListener("mouseenter",Qn(this,n_)),Qn(this,Lu).element.removeEventListener("mouseleave",Qn(this,r_))}),this.show=(r,i,o,a)=>{Qn(this,u2).value=this.ctx.get(ny.key),Qn(this,JS).value=r.attrs.href,Qn(this,QS).value=()=>{this.ctx.get(ty.key).editLink(r,i,o)},Qn(this,e_).value=()=>{this.ctx.get(ty.key).removeLink(i,o),Qn(this,d2).call(this)},Qn(this,Lu).show({getBoundingClientRect:()=>a}),Qn(this,Lu).element.addEventListener("mouseenter",Qn(this,n_)),Qn(this,Lu).element.addEventListener("mouseleave",Qn(this,r_))},this.hide=()=>{Qn(this,f2)||Qn(this,d2).call(this)},this.update=()=>{},this.destroy=()=>{Qn(this,c2).unmount(),Qn(this,l2).off(Qn(this,t_)),Qn(this,Lu).destroy(),Qn(this,Kp).remove()},Bp(this,u2,we(this.ctx.get(ny.key))),Bp(this,c2,Aa(h_t,{config:Qn(this,u2),src:Qn(this,JS),onEdit:Qn(this,QS),onRemove:Qn(this,e_)})),Bp(this,Kp,document.createElement("div")),Qn(this,Kp).className="milkdown-link-preview",Qn(this,c2).mount(Qn(this,Kp)),Bp(this,Lu,new mE({debounce:0,content:Qn(this,Kp),shouldShow:()=>!1})),Qn(this,Lu).update(n),Bp(this,l2,e.use(rh.key)),Qn(this,l2).on(Qn(this,t_))}}Kp=new WeakMap;Lu=new WeakMap;l2=new WeakMap;u2=new WeakMap;JS=new WeakMap;QS=new WeakMap;e_=new WeakMap;c2=new WeakMap;f2=new WeakMap;t_=new WeakMap;n_=new WeakMap;r_=new WeakMap;d2=new WeakMap;function m_t(t){let e;const r=O$((o,a)=>{if(!e||!o.hasFocus()||t.get(rh.key).mode==="edit")return;const l=d_t(t,o,a);if(l){const u=o.state.doc.resolve(l.pos),c=f_t(l.mark,l.node,o.state.doc,u.before(),u.after()),f=c.start,d=c.end;e.show(l.mark,f,d,_7(o,f,d));return}e.hide()},50),i=()=>{setTimeout(()=>{e?.hide()},50)};t.set(K4.key,{props:{handleDOMEvents:{mousemove:r,mouseleave:i}},view:o=>(e=new p_t(t,o),e)})}function g_t(t){m_t(t),c_t(t)}const v_t=[rh,ty,ny,K4,vE,pxe].flat();var y_t=Object.defineProperty,Ite=Object.getOwnPropertySymbols,b_t=Object.prototype.hasOwnProperty,w_t=Object.prototype.propertyIsEnumerable,Pte=(t,e,n)=>e in t?y_t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x_t=(t,e)=>{for(var n in e||(e={}))b_t.call(e,n)&&Pte(t,n,e[n]);if(Ite)for(var n of Ite(e))w_t.call(e,n)&&Pte(t,n,e[n]);return t};function bxe(t,e){return Object.assign(t,{meta:x_t({package:"@milkdown/components"},e)}),t}const S_t={renderLabel:({label:t,listType:e,checked:n})=>n==null?e==="bullet"?"":t:n?"":""},yE=Fr(S_t,"listItemBlockConfigCtx");bxe(yE,{displayName:"Config<list-item-block>",group:"ListItemBlock"});function wxe({icon:t,class:e,onClick:n}){return he("span",{class:na("milkdown-icon",e),onPointerdown:n,ref:r=>{r&&t&&(r.innerHTML=yc.sanitize(t.trim()))}})}wxe.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const __t=nt({props:{label:{type:Object,required:!0},checked:{type:Object,required:!0},listType:{type:Object,required:!0},config:{type:Object,required:!0},readonly:{type:Object,required:!0},selected:{type:Object,required:!0},setAttr:{type:Function,required:!0},onMount:{type:Function,required:!0}},setup({label:t,checked:e,listType:n,config:r,readonly:i,setAttr:o,onMount:a,selected:s}){const l=d=>{d!=null&&d instanceof Element&&a(d)},u=d=>{d.stopPropagation(),d.preventDefault(),e.value!=null&&o("checked",!e.value)},c=re(()=>r.renderLabel({label:t.value,listType:n.value,checked:e.value,readonly:i.value})),f=re(()=>e.value==null?n.value==="bullet"?"bullet":"ordered":e.value?"checked":"unchecked");return()=>he("li",{class:na("list-item",s.value&&"ProseMirror-selectednode")},he("div",{class:"label-wrapper",onPointerdown:u,contenteditable:!1},he(wxe,{class:na("label",i.value&&"readonly",f.value),icon:c.value})),he("div",{class:"children",ref:l}))}}),xxe=O4(vc.node,t=>(e,n,r)=>{const i=document.createElement("div");i.className="milkdown-list-item-block";const o=document.createElement("div");o.setAttribute("data-content-dom","true"),o.classList.add("content-dom");const a=we(e.attrs.label),s=we(e.attrs.checked),l=we(e.attrs.listType),u=we(!n.editable),c=t.get(yE.key),f=we(!1),d=(y,b)=>{if(!n.editable)return;const w=r();w!=null&&(n.hasFocus()||n.focus(),n.dispatch(n.state.tr.setNodeAttribute(w,y,b)))},h=J0(()=>{f.value?i.classList.add("selected"):i.classList.remove("selected")}),m=Aa(__t,{label:a,checked:s,listType:l,readonly:u,config:c,selected:f,setAttr:d,onMount:y=>{const{anchor:b,head:w}=n.state.selection;y.appendChild(o),requestAnimationFrame(()=>{const x=n.state.doc.resolve(b),S=n.state.doc.resolve(w);n.dispatch(n.state.tr.setSelection(new zt(x,S)))})}});m.mount(i);const g=y=>{l.value=y.attrs.listType,a.value=y.attrs.label,s.value=y.attrs.checked,u.value=!n.editable};g(e);let v=e;return{dom:i,contentDOM:o,update:y=>y.type!==e.type?!1:(y.sameMarkup(v)&&y.content.eq(v.content)||(v=y,g(y)),!0),ignoreMutation:y=>!i||!o?!0:y.type==="selection"?!1:o===y.target&&y.type==="attributes"?!0:!o.contains(y.target),selectNode:()=>{f.value=!0},deselectNode:()=>{f.value=!1},destroy:()=>{h(),m.unmount(),i.remove(),o.remove()}}});bxe(xxe,{displayName:"NodeView<list-item-block>",group:"ListItemBlock"});const C_t=[yE,xxe];var k_t=Object.defineProperty,Rte=Object.getOwnPropertySymbols,E_t=Object.prototype.hasOwnProperty,A_t=Object.prototype.propertyIsEnumerable,Fte=(t,e,n)=>e in t?k_t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T_t=(t,e)=>{for(var n in e||(e={}))E_t.call(e,n)&&Fte(t,n,e[n]);if(Rte)for(var n of Rte(e))A_t.call(e,n)&&Fte(t,n,e[n]);return t};function Sxe(t,e){return Object.assign(t,{meta:T_t({package:"@milkdown/components"},e)}),t}var M_t=Object.defineProperty,Lte=Object.getOwnPropertySymbols,D_t=Object.prototype.hasOwnProperty,N_t=Object.prototype.propertyIsEnumerable,$te=(t,e,n)=>e in t?M_t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O_t=(t,e)=>{for(var n in e||(e={}))D_t.call(e,n)&&$te(t,n,e[n]);if(Lte)for(var n of Lte(e))N_t.call(e,n)&&$te(t,n,e[n]);return t};const I_t={renderButton:t=>{switch(t){case"add_row":return"+";case"add_col":return"+";case"delete_row":return"-";case"delete_col":return"-";case"align_col_left":return"left";case"align_col_center":return"center";case"align_col_right":return"right";case"col_drag_handle":return"=";case"row_drag_handle":return"="}}},bE=Fr(O_t({},I_t),"tableBlockConfigCtx");Sxe(bE,{displayName:"Config<table-block>",group:"TableBlock"});function Nc({icon:t,class:e,onClick:n}){return he("span",{class:na("milkdown-icon",e),onPointerdown:n,ref:r=>{r&&t&&(r.innerHTML=yc.sanitize(t.trim()))}})}Nc.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};function WO(t,e){for(let n=0;n<t.childCount;n++)if(t.child(n)===e)return n;return-1}function P_t(t,e){var n,r,i;if(e)try{const o=e.posAtCoords({left:t.clientX,top:t.clientY});if(!o)return;const a=o?.inside;if(a==null||a<0)return;const s=e.state.doc.resolve(a),l=e.state.doc.nodeAt(a);if(!l)return;const u=["table_cell","table_header"],c=["table_row","table_header_row"],f=u.includes(l.type.name)?l:(n=ef(g=>u.includes(g.type.name))(s))==null?void 0:n.node,d=(r=ef(g=>c.includes(g.type.name))(s))==null?void 0:r.node,h=(i=ef(g=>g.type.name==="table")(s))==null?void 0:i.node;if(!f||!d||!h)return;const p=WO(d,f);return[WO(h,d),p]}catch{return}}function wE(t,[e,n]){const r=t.value;if(!r)return;const i=r.querySelectorAll("tr"),o=i[e];if(!o)return;const a=i[0];if(!a)return;const s=a.children[n];if(!s)return;const l=o.children[n];if(l)return{row:o,col:l,headerCol:s}}function R_t(t,e,n){if(!n||!e)return;const{selection:r}=e.state;if(!(r instanceof jr))return;const{$from:i}=r,o=By(i);if(!(!o||o.node!==n)){if(r.isColSelection()){const{$head:a}=r,s=a.index(a.depth-1);qB({refs:t,index:[0,s],before:l=>{var u;(u=l.querySelector(".button-group"))==null||u.setAttribute("data-show","true")}});return}if(r.isRowSelection()){const{$head:a}=r,s=ef(u=>u.type.name==="table_row"||u.type.name==="table_header_row")(a);if(!s)return;const l=WO(o.node,s.node);VB({refs:t,index:[l,0],before:u=>{var c;l>0&&((c=u.querySelector(".button-group"))==null||c.setAttribute("data-show","true"))}})}}}function qB({refs:t,index:e,before:n,after:r}){const{contentWrapperRef:i,colHandleRef:o,hoverIndex:a}=t,s=o.value;if(!s)return;a.value=e;const l=wE(i,e);if(!l)return;const{headerCol:u}=l;s.dataset.show="true",n&&n(s),ac(u,s,{placement:"top"}).then(({x:c,y:f})=>{Object.assign(s.style,{left:`${c}px`,top:`${f}px`}),r&&r(s)}).catch(console.error)}function VB({refs:t,index:e,before:n,after:r}){const{contentWrapperRef:i,rowHandleRef:o,hoverIndex:a}=t,s=o.value;if(!s)return;a.value=e;const l=wE(i,e);if(!l)return;const{row:u}=l;s.dataset.show="true",n&&n(s),ac(u,s,{placement:"left"}).then(({x:c,y:f})=>{Object.assign(s.style,{left:`${c}px`,top:`${f}px`}),r&&r(s)}).catch(console.error)}function _xe(t){const{dragPreviewRef:e,tableWrapperRef:n,contentWrapperRef:r,yLineHandleRef:i,xLineHandleRef:o,colHandleRef:a,rowHandleRef:s}=t,l=e.value;if(!l)return;const u=n.value;if(!u)return;const c=r.value;if(!c)return;const f=c.querySelector("tbody");if(!f)return;const d=l.querySelector("tbody");if(!d)return;const h=i.value;if(!h)return;const p=o.value;if(!p)return;const m=a.value;if(!m)return;const g=s.value;return g?{preview:l,wrapper:u,content:c,contentRoot:f,previewRoot:d,yHandle:h,xHandle:p,colHandle:m,rowHandle:g}:void 0}function Cxe(t,e,n,r){const i=n?.get(Xr);if(!i?.editable)return;e.stopPropagation(),e.dataTransfer&&(e.dataTransfer.effectAllowed="move");const o=_xe(t);o&&requestAnimationFrame(()=>{r(o)})}function F_t(t,e){return n=>{Cxe(t,n,e,({preview:r,content:i,previewRoot:o,yHandle:a,xHandle:s,colHandle:l,rowHandle:u})=>{var c;const{hoverIndex:f,dragInfo:d}=t;s.dataset.displayType="indicator",a.dataset.show="false",l.dataset.show="false",(c=u.querySelector(".button-group"))==null||c.setAttribute("data-show","false");const[h]=f.value;d.value={startCoords:[n.clientX,n.clientY],startIndex:h,endIndex:h,type:"row"},r.dataset.direction="vertical";const p=i.querySelectorAll("tr");for(;o.firstChild;)o.removeChild(o.firstChild);const m=p[h];if(!m)return;o.appendChild(m.cloneNode(!0));const g=m.getBoundingClientRect().height,{width:v}=i.querySelector("tbody").getBoundingClientRect();Object.assign(r.style,{width:`${v}px`,height:`${g}px`}),r.dataset.show="true"})}}function L_t(t,e){return n=>{Cxe(t,n,e,({preview:r,content:i,previewRoot:o,yHandle:a,xHandle:s,colHandle:l,rowHandle:u})=>{var c;const{hoverIndex:f,dragInfo:d}=t;s.dataset.show="false",a.dataset.displayType="indicator",u.dataset.show="false",(c=l.querySelector(".button-group"))==null||c.setAttribute("data-show","false");const[h,p]=f.value;d.value={startCoords:[n.clientX,n.clientY],startIndex:p,endIndex:p,type:"col"},r.dataset.direction="horizontal";const m=i.querySelectorAll("tr");for(;o.firstChild;)o.removeChild(o.firstChild);let g;Array.from(m).forEach(y=>{const b=y.children[p];if(!b)return;g===void 0&&(g=b.getBoundingClientRect().width);const w=b.parentElement.cloneNode(!1),x=b.cloneNode(!0);w.appendChild(x),o.appendChild(w)});const{height:v}=i.querySelector("tbody").getBoundingClientRect();Object.assign(r.style,{width:`${g}px`,height:`${v}px`}),r.dataset.show="true"})}}function $_t(t){return I7(e=>{const n=_xe(t);if(!n)return;const{preview:r,content:i,contentRoot:o,xHandle:a,yHandle:s}=n,{dragInfo:l,hoverIndex:u}=t;if(r.dataset.show==="false")return;const c=wE(t.contentWrapperRef,u.value);if(!c)return;const f=o.querySelector("tr");if(!f)return;const d=l.value;if(!d||!o.offsetParent)return;const h=o.offsetParent.offsetTop,p=o.offsetParent.offsetLeft;if(d.type==="col"){const m=c.col.getBoundingClientRect().width,{left:g,width:v}=o.getBoundingClientRect(),y=p-g,b=e.clientX+y-m/2,w=e.clientX+y+m/2,[x]=d.startCoords,S=x<e.clientX?"right":"left";r.style.top=`${h}px`;const _=b<g+y-20?g+y-20:b>g+v+y-m+20?g+v+y-m+20:b;r.style.left=`${_}px`;const k=Array.from(f.children),C=k.find((E,M)=>{const A=E.getBoundingClientRect();let N=A.left+p-g,T=A.right+p-g;if(S==="right"){if(N=N+A.width/2,T=T+A.width/2,N<=w&&T>=w||M===f.children.length-1&&w>T)return!0}else if(N=N-A.width/2,T=T-A.width/2,N<=b&&T>=b||M===0&&b<N)return!0;return!1});if(C){const E=s.getBoundingClientRect().width,M=i.getBoundingClientRect(),A=k.indexOf(C);d.endIndex=A,ac(C,s,{placement:S==="left"?"left":"right",middleware:[H0(S==="left"?-1*E:0)]}).then(({x:N})=>{s.dataset.show="true",Object.assign(s.style,{height:`${M.height}px`,left:`${N}px`,top:`${h}px`})}).catch(console.error)}}else if(d.type==="row"){const m=c.row.getBoundingClientRect().height,{top:g,height:v}=o.getBoundingClientRect(),y=h-g,b=e.clientY+y-m/2,w=e.clientY+y+m/2,[x,S]=d.startCoords,_=S<e.clientY?"down":"up",k=b<g+y-20?g+y-20:b>g+v+y-m+20?g+v+y-m+20:b;r.style.top=`${k}px`,r.style.left=`${p}px`;const C=Array.from(o.querySelectorAll("tr")),E=C.find((M,A)=>{const N=M.getBoundingClientRect();let T=N.top+h-g,I=N.bottom+h-g;if(_==="down"){if(T=T+N.height/2,I=I+N.height/2,T<=w&&I>=w||A===C.length-1&&w>I)return!0}else if(T=T-N.height/2,I=I-N.height/2,T<=b&&I>=b||A===0&&b<T)return!0;return!1});if(E){const M=a.getBoundingClientRect().height,A=i.getBoundingClientRect(),N=C.indexOf(E);d.endIndex=N,ac(E,a,{placement:_==="up"?"top":"bottom",middleware:[H0(_==="up"?-1*M:0)]}).then(({y:T})=>{a.dataset.show="true",Object.assign(a.style,{width:`${A.width}px`,top:`${T}px`})}).catch(console.error)}}},20)}function B_t(t,e,n){const{dragPreviewRef:r,yLineHandleRef:i,xLineHandleRef:o,dragInfo:a}=t,s=F_t(t,e),l=L_t(t,e),u=()=>{const d=r.value;if(!d||d.dataset.show==="false")return;const h=d?.querySelector("tbody");for(;h?.firstChild;)h?.removeChild(h.firstChild);d&&(d.dataset.show="false")},c=()=>{var d;const h=r.value;if(!h)return;const p=i.value;if(!p)return;const m=o.value;if(!m)return;const g=a.value;if(!g||!e||h.dataset.show==="false"||!t.colHandleRef.value||!t.rowHandleRef.value||(p.dataset.show="false",m.dataset.show="false",g.startIndex===g.endIndex))return;const b=e.get(It),w={from:g.startIndex,to:g.endIndex,pos:((d=n?.())!=null?d:0)+1};if(g.type==="col"){b.call(dm.key,{pos:w.pos,index:g.startIndex}),b.call(j$.key,w);const x=[0,g.endIndex];qB({refs:t,index:x})}else{b.call(fm.key,{pos:w.pos,index:g.startIndex}),b.call(U$.key,w);const x=[g.endIndex,0];VB({refs:t,index:x})}requestAnimationFrame(()=>{e.get(Xr).focus()})},f=$_t(t);return kt(()=>{window.addEventListener("dragover",f),window.addEventListener("dragend",u),window.addEventListener("drop",c)}),Oo(()=>{window.removeEventListener("dragover",f),window.removeEventListener("dragend",u),window.removeEventListener("drop",c)}),{dragRow:s,dragCol:l}}function z_t(t,e,n){const{xLineHandleRef:r,contentWrapperRef:i,colHandleRef:o,rowHandleRef:a,hoverIndex:s,lineHoverIndex:l}=t;return{onAddRow:()=>{var m,g,v;if(!e)return;const y=r.value;if(!y)return;const[b]=l.value;if(b<0||!e.get(Xr).editable)return;const w=Array.from((g=(m=i.value)==null?void 0:m.querySelectorAll("tr"))!=null?g:[]),x=e.get(It),S=((v=n?.())!=null?v:0)+1;w.length===b?(x.call(fm.key,{pos:S,index:b-1}),x.call(Y$.key)):(x.call(fm.key,{pos:S,index:b}),x.call(X$.key)),x.call(fm.key,{pos:S,index:b}),y.dataset.show="false"},onAddCol:()=>{var m,g,v,y;if(!e||!r.value)return;const[w,x]=l.value;if(x<0||!e.get(Xr).editable)return;const S=Array.from((v=(g=(m=i.value)==null?void 0:m.querySelector("tr"))==null?void 0:g.children)!=null?v:[]),_=e.get(It),k=((y=n?.())!=null?y:0)+1;S.length===x?(_.call(dm.key,{pos:k,index:x-1}),_.call(K$.key)):(_.call(dm.key,{pos:k,index:x}),_.call(G$.key)),_.call(dm.key,{pos:k,index:x})},selectCol:()=>{var m,g;if(!e)return;const[v,y]=s.value,b=e.get(It),w=((m=n?.())!=null?m:0)+1;b.call(dm.key,{pos:w,index:y});const x=(g=o.value)==null?void 0:g.querySelector(".button-group");x&&(x.dataset.show=x.dataset.show==="true"?"false":"true")},selectRow:()=>{var m,g;if(!e)return;const[v,y]=s.value,b=e.get(It),w=((m=n?.())!=null?m:0)+1;b.call(fm.key,{pos:w,index:v});const x=(g=a.value)==null?void 0:g.querySelector(".button-group");x&&v>0&&(x.dataset.show=x.dataset.show==="true"?"false":"true")},deleteSelected:m=>{if(!e||!e.get(Xr).editable)return;m.preventDefault(),m.stopPropagation(),e.get(It).call(W$.key),requestAnimationFrame(()=>{e.get(Xr).focus()})},onAlign:m=>g=>{if(!e||!e.get(Xr).editable)return;g.preventDefault(),g.stopPropagation(),e.get(It).call(Z$.key,m),requestAnimationFrame(()=>{e.get(Xr).focus()})}}}function q_t(t,e){return I7(n=>{if(!e?.editable)return;const{contentWrapperRef:r,yLineHandleRef:i,xLineHandleRef:o,colHandleRef:a,rowHandleRef:s,hoverIndex:l,lineHoverIndex:u}=t,c=i.value;if(!c)return;const f=o.value;if(!f)return;const d=r.value;if(!d)return;const h=s.value;if(!h)return;const p=a.value;if(!p)return;const m=P_t(n,e);if(!m)return;const g=wE(r,m);if(!g)return;const[v,y]=m,b=g.col.getBoundingClientRect(),w=Math.abs(n.clientX-b.left)<8,x=Math.abs(b.right-n.clientX)<8,S=Math.abs(n.clientY-b.top)<8,_=Math.abs(b.bottom-n.clientY)<8,k=w||x||S||_,C=h.querySelector(".button-group"),E=p.querySelector(".button-group");if(C&&(C.dataset.show="false"),E&&(E.dataset.show="false"),k){const M=d.getBoundingClientRect();h.dataset.show="false",p.dataset.show="false",f.dataset.displayType="tool",c.dataset.displayType="tool";const A=c.getBoundingClientRect().width,N=f.getBoundingClientRect().height;w||x?(u.value[1]=w?y:y+1,ac(g.col,c,{placement:w?"left":"right",middleware:[H0(w?-1*A:0)]}).then(({x:T})=>{c.dataset.show="true",Object.assign(c.style,{height:`${M.height}px`,left:`${T}px`})}).catch(console.error)):c.dataset.show="false",m[0]!==0&&(S||_)?(u.value[0]=S?v:v+1,ac(g.row,f,{placement:S?"top":"bottom",middleware:[H0(S?-1*N:0)]}).then(({y:T})=>{f.dataset.show="true",Object.assign(f.style,{width:`${M.width}px`,top:`${T}px`})}).catch(console.error)):f.dataset.show="false";return}u.value=[-1,-1],c.dataset.show="false",f.dataset.show="false",h.dataset.show="true",p.dataset.show="true",VB({refs:t,index:m}),qB({refs:t,index:m}),l.value=m},20)}function V_t(t){return()=>{const{rowHandleRef:e,colHandleRef:n,yLineHandleRef:r,xLineHandleRef:i}=t;setTimeout(()=>{const o=e.value;if(!o)return;const a=n.value;if(!a)return;const s=r.value;if(!s)return;const l=i.value;l&&(o.dataset.show="false",a.dataset.show="false",s.dataset.show="false",l.dataset.show="false")},200)}}function H_t(t,e){const n=q_t(t,e),r=V_t(t);return{pointerMove:n,pointerLeave:r}}const U_t=nt({props:{view:{type:Object,required:!0},ctx:{type:Object,required:!0},getPos:{type:Function,required:!0},config:{type:Object,required:!0},onMount:{type:Function,required:!0},node:{type:Object,required:!0}},setup({view:t,node:e,ctx:n,getPos:r,config:i,onMount:o}){const a=we(),s=A=>{A!=null&&(A instanceof HTMLElement?(a.value=A,o(A)):a.value=void 0)},l=we(),u=we(),c=we(),f=we(),d=we(),h=we(),p=we([0,0]),m=we([-1,-1]),g=we(),v={dragPreviewRef:h,tableWrapperRef:d,contentWrapperRef:a,yLineHandleRef:f,xLineHandleRef:c,colHandleRef:l,rowHandleRef:u,hoverIndex:p,lineHoverIndex:m,dragInfo:g},{pointerLeave:y,pointerMove:b}=H_t(v,t),{dragRow:w,dragCol:x}=B_t(v,n,r),{onAddRow:S,onAddCol:_,selectCol:k,selectRow:C,deleteSelected:E,onAlign:M}=z_t(v,n,r);return kt(()=>{requestAnimationFrame(()=>{t.editable&&R_t(v,t,e.value)})}),()=>he("div",{onDragstart:A=>A.preventDefault(),onDragover:A=>A.preventDefault(),onDragleave:A=>A.preventDefault(),onPointermove:b,onPointerleave:y},he("button",{type:"button","data-show":"false",contenteditable:"false",draggable:"true","data-role":"col-drag-handle",class:"handle cell-handle",onDragstart:x,onClick:k,onPointerdown:A=>A.stopPropagation(),onPointermove:A=>A.stopPropagation(),ref:l},he(Nc,{icon:i.renderButton("col_drag_handle")}),he("div",{"data-show":"false",class:"button-group",onPointermove:A=>A.stopPropagation()},he("button",{type:"button",onPointerdown:M("left")},he(Nc,{icon:i.renderButton("align_col_left")})),he("button",{type:"button",onPointerdown:M("center")},he(Nc,{icon:i.renderButton("align_col_center")})),he("button",{type:"button",onPointerdown:M("right")},he(Nc,{icon:i.renderButton("align_col_right")})),he("button",{type:"button",onPointerdown:E},he(Nc,{icon:i.renderButton("delete_col")})))),he("button",{type:"button","data-show":"false",contenteditable:"false",draggable:"true","data-role":"row-drag-handle",class:"handle cell-handle",onDragstart:w,onClick:C,onPointerdown:A=>A.stopPropagation(),onPointermove:A=>A.stopPropagation(),ref:u},he(Nc,{icon:i.renderButton("row_drag_handle")}),he("div",{"data-show":"false",class:"button-group",onPointermove:A=>A.stopPropagation()},he("button",{type:"button",onPointerdown:E},he(Nc,{icon:i.renderButton("delete_row")})))),he("div",{class:"table-wrapper",ref:d},he("div",{"data-show":"false",class:"drag-preview","data-direction":"vertical",ref:h},he("table",null,he("tbody",null))),he("div",{"data-show":"false",contenteditable:"false","data-display-type":"tool","data-role":"x-line-drag-handle",class:"handle line-handle",onPointermove:A=>A.stopPropagation(),ref:c},he("button",{type:"button",onClick:S,class:"add-button"},he(Nc,{icon:i.renderButton("add_row")}))),he("div",{"data-show":"false",contenteditable:"false","data-display-type":"tool","data-role":"y-line-drag-handle",class:"handle line-handle",onPointermove:A=>A.stopPropagation(),ref:f},he("button",{type:"button",onClick:_,class:"add-button"},he(Nc,{icon:i.renderButton("add_col")}))),he("table",{ref:s,class:"children"})))}});var kxe=t=>{throw TypeError(t)},j_t=(t,e,n)=>e.has(t)||kxe("Cannot "+n),W_t=(t,e,n)=>e.has(t)?kxe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),G_t=(t,e,n)=>(j_t(t,e,"access private method"),n),GO,Exe;class K_t{constructor(e,n,r,i){this.ctx=e,this.node=n,this.view=r,this.getPos=i,W_t(this,GO);const o=document.createElement("div");o.className="milkdown-table-block";const a=document.createElement("tbody");this.contentDOM=a,a.setAttribute("data-content-dom","true"),a.classList.add("content-dom"),this.nodeRef=fr(n);const s=Aa(U_t,{view:r,ctx:e,getPos:i,config:e.get(bE.key),onMount:l=>{l.appendChild(a)},node:this.nodeRef});s.mount(o),this.app=s,this.dom=o}update(e){return e.type!==this.node.type||e.sameMarkup(this.node)&&e.content.eq(this.node.content)?!1:(this.node=e,this.nodeRef.value=e,!0)}stopEvent(e){if(e.type==="drop"||e.type.startsWith("drag"))return!0;if(e.type==="mousedown"||e.type==="pointerdown"){if(e.target instanceof Element&&e.target.closest("button"))return!0;const n=e.target;if(n instanceof HTMLElement&&(n.closest("th")||n.closest("td"))){const r=e;return G_t(this,GO,Exe).call(this,r)}}return!1}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:e.type==="selection"?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}destroy(){this.app.unmount(),this.dom.remove(),this.contentDOM.remove()}}GO=new WeakSet;Exe=function(t){const e=this.view;if(!e.editable)return!1;const{state:n,dispatch:r}=e,i=e.posAtCoords({left:t.clientX,top:t.clientY});if(!i)return!1;const o=n.doc.resolve(i.inside),a=ef(u=>u.type.name==="table_cell"||u.type.name==="table_header")(o);if(!a)return!1;if(n.selection instanceof zt){const u=ef(c=>c.type.name==="table_cell"||c.type.name==="table_header")(n.selection.$from);if(u?.node===a.node)return!1}const{from:s}=a,l=Zt.create(n.doc,s+1);return n.selection.eq(l)?!1:(n.selection instanceof jr?setTimeout(()=>{r(n.tr.setSelection(l).scrollIntoView())},20):requestAnimationFrame(()=>{r(n.tr.setSelection(l).scrollIntoView())}),!0)};const Axe=O4(P1.node,t=>(e,n,r)=>new K_t(t,e,n,r));Sxe(Axe,{displayName:"NodeView<table-block>",group:"TableBlock"});const X_t=[bE,Axe];function KO(t){if(!t)return!1;if(Array.isArray(t))return t.length>1?!1:KO(t[0]);const e=t.content;return e?KO(e):t.type==="text"}const Txe=xo(t=>{const e=t.get(tf);t.update(i3,i=>({...i,editable:i.editable??(()=>!0)}));const n=new Ai("MILKDOWN_CLIPBOARD");return new yi({key:n,props:{handlePaste:(i,o)=>{const a=t.get(n3),s=i.props.editable?.(i.state),{clipboardData:l}=o;if(!s||!l||i.state.selection.$from.node().type.spec.code)return!1;const c=l.getData("text/plain"),f=l.getData("vscode-editor-data");if(f){const y=JSON.parse(f)?.mode;if(c&&y){const{tr:b}=i.state,w=$dt("code_block",e);return b.replaceSelectionWith(w.create({language:y})).setSelection(zt.near(b.doc.resolve(Math.max(0,b.selection.from-2)))).insertText(c.replace(/\r\n?/g,`
`)),i.dispatch(b),!0}}const d=l.getData("text/html");if(d.length===0&&c.length===0)return!1;const h=i1.fromSchema(e);let p;if(d.length===0){const v=a(c);if(!v||typeof v=="string")return!1;p=T1.fromSchema(e).serializeFragment(v.content)}else{const v=document.createElement("template");v.innerHTML=d,p=v.content.cloneNode(!0),v.remove()}const m=h.parseSlice(p),g=Fdt(m);return g?(i.dispatch(i.state.tr.replaceSelectionWith(g,!0)),!0):(i.dispatch(i.state.tr.replaceSelection(m)),!0)},clipboardTextSerializer:i=>{const o=t.get(nv);if(KO(i.content.toJSON()))return i.content.textBetween(0,i.content.size,`

`);const s=e.topNodeType.createAndFill(void 0,i.content);return s?o(s):""}}})});Txe.meta={displayName:"Prose<clipboard>",package:"@milkdown/plugin-clipboard"};function jy(t,e){return Object.assign(t,{meta:{package:"@milkdown/plugin-history",...e}}),t}const HB=fn("Undo",()=>()=>iE);jy(HB,{displayName:"Command<undo>"});const UB=fn("Redo",()=>()=>Zv);jy(UB,{displayName:"Command<redo>"});const jB=Fr({},"historyProviderConfig");jy(jB,{displayName:"Ctx<historyProviderConfig>"});const Mxe=xo(t=>r4t(t.get(jB.key)));jy(Mxe,{displayName:"Ctx<historyProviderPlugin>"});const WB=Qs("historyKeymap",{Undo:{shortcuts:"Mod-z",command:t=>{const e=t.get(It);return()=>e.call(HB.key)}},Redo:{shortcuts:["Mod-y","Shift-Mod-z"],command:t=>{const e=t.get(It);return()=>e.call(UB.key)}}});jy(WB.ctx,{displayName:"KeymapCtx<history>"});jy(WB.shortcuts,{displayName:"Keymap<history>"});const Y_t=[jB,Mxe,WB,HB,UB].flat();function Z_t(t,e){const{doc:n,selection:r}=t;if(!n||!r||!(r instanceof zt||r instanceof Hs))return t;const{to:i}=r,o=e.type==="space"?Array(e.size).fill(" ").join(""):"	";return t.insertText(o,i)}const xE=Fr({type:"space",size:2},"indentConfig");xE.meta={package:"@milkdown/plugin-indent",displayName:"Ctx<indentConfig>"};const Dxe=R2e(t=>({Tab:(e,n)=>{const r=t.get(xE.key),{tr:i}=e,o=Z_t(i,r);return o.docChanged?(n?.(o),!0):!1}}));Dxe.meta={package:"@milkdown/plugin-indent",displayName:"Shortcut<indent>"};const J_t=[xE,Dxe];class Nxe{constructor(){this.beforeMountedListeners=[],this.mountedListeners=[],this.updatedListeners=[],this.selectionUpdatedListeners=[],this.markdownUpdatedListeners=[],this.blurListeners=[],this.focusListeners=[],this.destroyListeners=[],this.beforeMount=e=>(this.beforeMountedListeners.push(e),this),this.mounted=e=>(this.mountedListeners.push(e),this),this.updated=e=>(this.updatedListeners.push(e),this)}get listeners(){return{beforeMount:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners,selectionUpdated:this.selectionUpdatedListeners}}markdownUpdated(e){return this.markdownUpdatedListeners.push(e),this}blur(e){return this.blurListeners.push(e),this}focus(e){return this.focusListeners.push(e),this}destroy(e){return this.destroyListeners.push(e),this}selectionUpdated(e){return this.selectionUpdatedListeners.push(e),this}}const _8=Xn(new Nxe,"listener"),Q_t=new Ai("MILKDOWN_LISTENER"),Oxe=t=>(t.inject(_8,new Nxe),async()=>{await t.wait(Lm);const e=t.get(_8),{listeners:n}=e;n.beforeMount.forEach(l=>l(t)),await t.wait(r3);const r=t.get(nv);let i=null,o=null,a=null;const s=new yi({key:Q_t,view:()=>({destroy:()=>{n.destroy.forEach(l=>l(t))}}),props:{handleDOMEvents:{focus:()=>(n.focus.forEach(l=>l(t)),!1),blur:()=>(n.blur.forEach(l=>l(t)),!1)}},state:{init:(l,u)=>{i=u.doc,o=r(u.doc)},apply:l=>{const u=l.selection;return(!a&&u||a&&!u.eq(a))&&(n.selectionUpdated.forEach(f=>{f(t,u,a)}),a=u),!l.docChanged||l.getMeta("addToHistory")===!1?void 0:O$(()=>{const{doc:f}=l;if(n.updated.length>0&&i&&!i.eq(f)&&n.updated.forEach(d=>{d(t,f,i)}),n.markdownUpdated.length>0&&i&&!i.eq(f)){const d=r(f);n.markdownUpdated.forEach(h=>{h(t,d,o)}),o=d}i=f},200)()}}});t.update(q0,l=>l.concat(s)),await t.wait(zS),n.mounted.forEach(l=>l(t))});Oxe.meta={package:"@milkdown/plugin-listener",displayName:"Listener"};const GB=Fr({shouldAppend:t=>!(!t||["heading","paragraph"].includes(t.type.name)),getNode:t=>t.schema.nodes.paragraph.create()},"trailingConfig");GB.meta={package:"@milkdown/plugin-trailing",displayName:"Ctx<trailingConfig>"};const Ixe=xo(t=>{const e=new Ai("MILKDOWN_TRAILING"),{shouldAppend:n,getNode:r}=t.get(GB.key),i=new yi({key:e,state:{init:(o,a)=>{const s=a.tr.doc.lastChild;return n(s,a)},apply:(o,a,s,l)=>{if(!o.docChanged)return a;const u=o.doc.lastChild;return n(u,l)}},appendTransaction:(o,a,s)=>{const{doc:l,tr:u}=s,c=r?.(s),f=i.getState(s),d=l.content.size;if(!(!f||!c))return u.insert(d,c)}});return i});Ixe.meta={package:"@milkdown/plugin-trailing",displayName:"Prose<trailing>"};const eCt=[GB,Ixe];var xr=(t=>(t.CodeMirror="code-mirror",t.ListItem="list-item",t.LinkTooltip="link-tooltip",t.Cursor="cursor",t.ImageBlock="image-block",t.BlockEdit="block-edit",t.Toolbar="toolbar",t.Placeholder="placeholder",t.Table="table",t.Latex="latex",t))(xr||{});const tCt={cursor:!0,"list-item":!0,"link-tooltip":!0,"image-block":!0,"block-edit":!0,placeholder:!0,toolbar:!0,"code-mirror":!0,table:!0,latex:!0},nCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M4.25 20.5C4.0375 20.5 3.85942 20.4281 3.71575 20.2843C3.57192 20.1404 3.5 19.9622 3.5 19.7498C3.5 19.5371 3.57192 19.359 3.71575 19.2155C3.85942 19.0718 4.0375 19 4.25 19H19.75C19.9625 19 20.1406 19.0719 20.2843 19.2158C20.4281 19.3596 20.5 19.5378 20.5 19.7502C20.5 19.9629 20.4281 20.141 20.2843 20.2845C20.1406 20.4282 19.9625 20.5 19.75 20.5H4.25ZM8.25 16.625C8.0375 16.625 7.85942 16.5531 7.71575 16.4093C7.57192 16.2654 7.5 16.0872 7.5 15.8748C7.5 15.6621 7.57192 15.484 7.71575 15.3405C7.85942 15.1968 8.0375 15.125 8.25 15.125H15.75C15.9625 15.125 16.1406 15.1969 16.2843 15.3408C16.4281 15.4846 16.5 15.6628 16.5 15.8753C16.5 16.0879 16.4281 16.266 16.2843 16.4095C16.1406 16.5532 15.9625 16.625 15.75 16.625H8.25ZM4.25 12.75C4.0375 12.75 3.85942 12.6781 3.71575 12.5343C3.57192 12.3904 3.5 12.2122 3.5 11.9998C3.5 11.7871 3.57192 11.609 3.71575 11.4655C3.85942 11.3218 4.0375 11.25 4.25 11.25H19.75C19.9625 11.25 20.1406 11.3219 20.2843 11.4658C20.4281 11.6096 20.5 11.7878 20.5 12.0003C20.5 12.2129 20.4281 12.391 20.2843 12.5345C20.1406 12.6782 19.9625 12.75 19.75 12.75H4.25ZM8.25 8.875C8.0375 8.875 7.85942 8.80308 7.71575 8.65925C7.57192 8.51542 7.5 8.33725 7.5 8.12475C7.5 7.91208 7.57192 7.734 7.71575 7.5905C7.85942 7.44683 8.0375 7.375 8.25 7.375H15.75C15.9625 7.375 16.1406 7.44692 16.2843 7.59075C16.4281 7.73458 16.5 7.91275 16.5 8.12525C16.5 8.33792 16.4281 8.516 16.2843 8.6595C16.1406 8.80317 15.9625 8.875 15.75 8.875H8.25ZM4.25 5C4.0375 5 3.85942 4.92808 3.71575 4.78425C3.57192 4.64042 3.5 4.46225 3.5 4.24975C3.5 4.03708 3.57192 3.859 3.71575 3.7155C3.85942 3.57183 4.0375 3.5 4.25 3.5H19.75C19.9625 3.5 20.1406 3.57192 20.2843 3.71575C20.4281 3.85958 20.5 4.03775 20.5 4.25025C20.5 4.46292 20.4281 4.641 20.2843 4.7845C20.1406 4.92817 19.9625 5 19.75 5H4.25Z"
    />
  </svg>
`,rCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M4.25 20.5C4.0375 20.5 3.85942 20.4281 3.71575 20.2843C3.57192 20.1404 3.5 19.9622 3.5 19.7498C3.5 19.5371 3.57192 19.359 3.71575 19.2155C3.85942 19.0718 4.0375 19 4.25 19H19.75C19.9625 19 20.1406 19.0719 20.2843 19.2158C20.4281 19.3596 20.5 19.5378 20.5 19.7502C20.5 19.9629 20.4281 20.141 20.2843 20.2845C20.1406 20.4282 19.9625 20.5 19.75 20.5H4.25ZM4.25 16.625C4.0375 16.625 3.85942 16.5531 3.71575 16.4093C3.57192 16.2654 3.5 16.0872 3.5 15.8748C3.5 15.6621 3.57192 15.484 3.71575 15.3405C3.85942 15.1968 4.0375 15.125 4.25 15.125H13.75C13.9625 15.125 14.1406 15.1969 14.2843 15.3408C14.4281 15.4846 14.5 15.6628 14.5 15.8753C14.5 16.0879 14.4281 16.266 14.2843 16.4095C14.1406 16.5532 13.9625 16.625 13.75 16.625H4.25ZM4.25 12.75C4.0375 12.75 3.85942 12.6781 3.71575 12.5343C3.57192 12.3904 3.5 12.2122 3.5 11.9998C3.5 11.7871 3.57192 11.609 3.71575 11.4655C3.85942 11.3218 4.0375 11.25 4.25 11.25H19.75C19.9625 11.25 20.1406 11.3219 20.2843 11.4658C20.4281 11.6096 20.5 11.7878 20.5 12.0003C20.5 12.2129 20.4281 12.391 20.2843 12.5345C20.1406 12.6782 19.9625 12.75 19.75 12.75H4.25ZM4.25 8.875C4.0375 8.875 3.85942 8.80308 3.71575 8.65925C3.57192 8.51542 3.5 8.33725 3.5 8.12475C3.5 7.91208 3.57192 7.734 3.71575 7.5905C3.85942 7.44683 4.0375 7.375 4.25 7.375H13.75C13.9625 7.375 14.1406 7.44692 14.2843 7.59075C14.4281 7.73458 14.5 7.91275 14.5 8.12525C14.5 8.33792 14.4281 8.516 14.2843 8.6595C14.1406 8.80317 13.9625 8.875 13.75 8.875H4.25ZM4.25 5C4.0375 5 3.85942 4.92808 3.71575 4.78425C3.57192 4.64042 3.5 4.46225 3.5 4.24975C3.5 4.03708 3.57192 3.859 3.71575 3.7155C3.85942 3.57183 4.0375 3.5 4.25 3.5H19.75C19.9625 3.5 20.1406 3.57192 20.2843 3.71575C20.4281 3.85958 20.5 4.03775 20.5 4.25025C20.5 4.46292 20.4281 4.641 20.2843 4.7845C20.1406 4.92817 19.9625 5 19.75 5H4.25Z"
    />
  </svg>
`,iCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M4.25 5C4.0375 5 3.85942 4.92808 3.71575 4.78425C3.57192 4.64042 3.5 4.46225 3.5 4.24975C3.5 4.03708 3.57192 3.859 3.71575 3.7155C3.85942 3.57183 4.0375 3.5 4.25 3.5H19.75C19.9625 3.5 20.1406 3.57192 20.2843 3.71575C20.4281 3.85958 20.5 4.03775 20.5 4.25025C20.5 4.46292 20.4281 4.641 20.2843 4.7845C20.1406 4.92817 19.9625 5 19.75 5H4.25ZM10.25 8.875C10.0375 8.875 9.85942 8.80308 9.71575 8.65925C9.57192 8.51542 9.5 8.33725 9.5 8.12475C9.5 7.91208 9.57192 7.734 9.71575 7.5905C9.85942 7.44683 10.0375 7.375 10.25 7.375H19.75C19.9625 7.375 20.1406 7.44692 20.2843 7.59075C20.4281 7.73458 20.5 7.91275 20.5 8.12525C20.5 8.33792 20.4281 8.516 20.2843 8.6595C20.1406 8.80317 19.9625 8.875 19.75 8.875H10.25ZM4.25 12.75C4.0375 12.75 3.85942 12.6781 3.71575 12.5343C3.57192 12.3904 3.5 12.2122 3.5 11.9998C3.5 11.7871 3.57192 11.609 3.71575 11.4655C3.85942 11.3218 4.0375 11.25 4.25 11.25H19.75C19.9625 11.25 20.1406 11.3219 20.2843 11.4658C20.4281 11.6096 20.5 11.7878 20.5 12.0003C20.5 12.2129 20.4281 12.391 20.2843 12.5345C20.1406 12.6782 19.9625 12.75 19.75 12.75H4.25ZM10.25 16.625C10.0375 16.625 9.85942 16.5531 9.71575 16.4093C9.57192 16.2654 9.5 16.0872 9.5 15.8748C9.5 15.6621 9.57192 15.484 9.71575 15.3405C9.85942 15.1968 10.0375 15.125 10.25 15.125H19.75C19.9625 15.125 20.1406 15.1969 20.2843 15.3408C20.4281 15.4846 20.5 15.6628 20.5 15.8753C20.5 16.0879 20.4281 16.266 20.2843 16.4095C20.1406 16.5532 19.9625 16.625 19.75 16.625H10.25ZM4.25 20.5C4.0375 20.5 3.85942 20.4281 3.71575 20.2843C3.57192 20.1404 3.5 19.9622 3.5 19.7498C3.5 19.5371 3.57192 19.359 3.71575 19.2155C3.85942 19.0718 4.0375 19 4.25 19H19.75C19.9625 19 20.1406 19.0719 20.2843 19.2158C20.4281 19.3596 20.5 19.5378 20.5 19.7502C20.5 19.9629 20.4281 20.141 20.2843 20.2845C20.1406 20.4282 19.9625 20.5 19.75 20.5H4.25Z"
    />
  </svg>
`,oCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M8.85758 18.625C8.4358 18.625 8.07715 18.4772 7.78163 18.1817C7.48613 17.8862 7.33838 17.5275 7.33838 17.1058V6.8942C7.33838 6.47242 7.48613 6.11377 7.78163 5.81825C8.07715 5.52275 8.4358 5.375 8.85758 5.375H12.1999C13.2191 5.375 14.1406 5.69231 14.9643 6.32693C15.788 6.96154 16.1999 7.81603 16.1999 8.89038C16.1999 9.63779 16.0194 10.2471 15.6585 10.7183C15.2976 11.1894 14.9088 11.5314 14.4922 11.7442C15.005 11.9211 15.4947 12.2708 15.9614 12.7933C16.428 13.3157 16.6614 14.0192 16.6614 14.9038C16.6614 16.182 16.1902 17.1217 15.2479 17.723C14.3056 18.3243 13.3563 18.625 12.3999 18.625H8.85758ZM9.4883 16.6327H12.3191C13.1063 16.6327 13.6627 16.4141 13.9884 15.9769C14.314 15.5397 14.4768 15.1205 14.4768 14.7192C14.4768 14.3179 14.314 13.8987 13.9884 13.4615C13.6627 13.0243 13.0909 12.8057 12.273 12.8057H9.4883V16.6327ZM9.4883 10.875H12.0826C12.6903 10.875 13.172 10.7013 13.5278 10.3539C13.8836 10.0064 14.0615 9.59037 14.0615 9.10575C14.0615 8.59035 13.8733 8.16918 13.497 7.84225C13.1207 7.51533 12.6595 7.35188 12.1133 7.35188H9.4883V10.875Z"
    />
  </svg>
`,aCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_952_6527)">
      <circle cx="12" cy="12" r="3" />
    </g>
    <defs>
      <clipPath id="clip0_952_6527">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,sCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8070)">
      <path
        d="M4 10.5C3.17 10.5 2.5 11.17 2.5 12C2.5 12.83 3.17 13.5 4 13.5C4.83 13.5 5.5 12.83 5.5 12C5.5 11.17 4.83 10.5 4 10.5ZM4 4.5C3.17 4.5 2.5 5.17 2.5 6C2.5 6.83 3.17 7.5 4 7.5C4.83 7.5 5.5 6.83 5.5 6C5.5 5.17 4.83 4.5 4 4.5ZM4 16.5C3.17 16.5 2.5 17.18 2.5 18C2.5 18.82 3.18 19.5 4 19.5C4.82 19.5 5.5 18.82 5.5 18C5.5 17.18 4.83 16.5 4 16.5ZM8 19H20C20.55 19 21 18.55 21 18C21 17.45 20.55 17 20 17H8C7.45 17 7 17.45 7 18C7 18.55 7.45 19 8 19ZM8 13H20C20.55 13 21 12.55 21 12C21 11.45 20.55 11 20 11H8C7.45 11 7 11.45 7 12C7 12.55 7.45 13 8 13ZM7 6C7 6.55 7.45 7 8 7H20C20.55 7 21 6.55 21 6C21 5.45 20.55 5 20 5H8C7.45 5 7 5.45 7 6Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8070">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,lCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="32"
    height="32"
    viewBox="0 0 24 24"
  >
    <path
      fill="currentColor"
      d="M9 22a1 1 0 0 1-1-1v-3H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6.1l-3.7 3.71c-.2.19-.45.29-.7.29zm1-6v3.08L13.08 16H20V4H4v12z"
    />
  </svg>
`,uCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1803_1151)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM10.71 16.29C10.32 16.68 9.69 16.68 9.3 16.29L5.71 12.7C5.32 12.31 5.32 11.68 5.71 11.29C6.1 10.9 6.73 10.9 7.12 11.29L10 14.17L16.88 7.29C17.27 6.9 17.9 6.9 18.29 7.29C18.68 7.68 18.68 8.31 18.29 8.7L10.71 16.29Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1803_1151">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,cCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1803_535)">
      <path
        d="M18 19H6C5.45 19 5 18.55 5 18V6C5 5.45 5.45 5 6 5H18C18.55 5 19 5.45 19 6V18C19 18.55 18.55 19 18 19ZM19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1803_535">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Pxe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    class="w-6 h-6"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M19.5 8.25l-7.5 7.5-7.5-7.5"
    />
  </svg>
`,Rxe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1098_15553)">
      <path
        d="M18.3007 5.70973C17.9107 5.31973 17.2807 5.31973 16.8907 5.70973L12.0007 10.5897L7.1107 5.69973C6.7207 5.30973 6.0907 5.30973 5.7007 5.69973C5.3107 6.08973 5.3107 6.71973 5.7007 7.10973L10.5907 11.9997L5.7007 16.8897C5.3107 17.2797 5.3107 17.9097 5.7007 18.2997C6.0907 18.6897 6.7207 18.6897 7.1107 18.2997L12.0007 13.4097L16.8907 18.2997C17.2807 18.6897 17.9107 18.6897 18.3007 18.2997C18.6907 17.9097 18.6907 17.2797 18.3007 16.8897L13.4107 11.9997L18.3007 7.10973C18.6807 6.72973 18.6807 6.08973 18.3007 5.70973Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1098_15553">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Fxe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8081)">
      <path
        d="M9.4 16.6L4.8 12L9.4 7.4L8 6L2 12L8 18L9.4 16.6ZM14.6 16.6L19.2 12L14.6 7.4L16 6L22 12L16 18L14.6 16.6Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8081">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,KB=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
  >
    <g clip-path="url(#clip0_1013_1606)">
      <path
        d="M9.00012 16.1998L5.50012 12.6998C5.11012 12.3098 4.49012 12.3098 4.10012 12.6998C3.71012 13.0898 3.71012 13.7098 4.10012 14.0998L8.29012 18.2898C8.68012 18.6798 9.31012 18.6798 9.70012 18.2898L20.3001 7.69982C20.6901 7.30982 20.6901 6.68982 20.3001 6.29982C19.9101 5.90982 19.2901 5.90982 18.9001 6.29982L9.00012 16.1998Z"
        fill="#817567"
      />
    </g>
    <defs>
      <clipPath id="clip0_1013_1606">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Lxe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    height="24px"
    viewBox="0 -960 960 960"
    width="24px"
    fill="none"
  >
    <path
      d="M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z"
    />
  </svg>
`,fCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7900)">
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M19 13H5C4.45 13 4 12.55 4 12C4 11.45 4.45 11 5 11H19C19.55 11 20 11.45 20 12C20 12.55 19.55 13 19 13Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7900">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Bte=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="16"
    height="16"
    viewBox="0 0 16 16"
  >
    <path
      d="M3.5 9.83366C3.35833 9.83366 3.23961 9.78571 3.14383 9.68983C3.04794 9.59394 3 9.47516 3 9.33349C3 9.19171 3.04794 9.07299 3.14383 8.97733C3.23961 8.88155 3.35833 8.83366 3.5 8.83366H12.5C12.6417 8.83366 12.7604 8.8816 12.8562 8.97749C12.9521 9.07338 13 9.19216 13 9.33383C13 9.4756 12.9521 9.59433 12.8562 9.68999C12.7604 9.78577 12.6417 9.83366 12.5 9.83366H3.5ZM3.5 7.16699C3.35833 7.16699 3.23961 7.11905 3.14383 7.02316C3.04794 6.92727 3 6.80849 3 6.66683C3 6.52505 3.04794 6.40633 3.14383 6.31066C3.23961 6.21488 3.35833 6.16699 3.5 6.16699H12.5C12.6417 6.16699 12.7604 6.21494 12.8562 6.31083C12.9521 6.40671 13 6.52549 13 6.66716C13 6.80894 12.9521 6.92766 12.8562 7.02333C12.7604 7.1191 12.6417 7.16699 12.5 7.16699H3.5Z"
    />
  </svg>
`,XB=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1013_1585)">
      <path
        d="M14.06 9.02L14.98 9.94L5.92 19H5V18.08L14.06 9.02ZM17.66 3C17.41 3 17.15 3.1 16.96 3.29L15.13 5.12L18.88 8.87L20.71 7.04C21.1 6.65 21.1 6.02 20.71 5.63L18.37 3.29C18.17 3.09 17.92 3 17.66 3ZM14.06 6.19L3 17.25V21H6.75L17.81 9.94L14.06 6.19Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1013_1585">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,dCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5553)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM12 17H14V7H10V9H12V17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5553">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,hCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5559)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM15 15H11V13H13C14.1 13 15 12.11 15 11V9C15 7.89 14.1 7 13 7H9V9H13V11H11C9.9 11 9 11.89 9 13V17H15V15Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5559">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,pCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5565)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM15 15V13.5C15 12.67 14.33 12 13.5 12C14.33 12 15 11.33 15 10.5V9C15 7.89 14.1 7 13 7H9V9H13V11H11V13H13V15H9V17H13C14.1 17 15 16.11 15 15Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5565">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,mCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7757)">
      <path
        d="M19.04 3H5.04004C3.94004 3 3.04004 3.9 3.04004 5V19C3.04004 20.1 3.94004 21 5.04004 21H19.04C20.14 21 21.04 20.1 21.04 19V5C21.04 3.9 20.14 3 19.04 3ZM19.04 19H5.04004V5H19.04V19ZM13.04 17H15.04V7H13.04V11H11.04V7H9.04004V13H13.04V17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7757">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,gCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7760)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM15 15V13C15 11.89 14.1 11 13 11H11V9H15V7H9V13H13V15H9V17H13C14.1 17 15 16.11 15 15Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7760">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,vCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7763)">
      <path
        d="M11 17H13C14.1 17 15 16.11 15 15V13C15 11.89 14.1 11 13 11H11V9H15V7H11C9.9 7 9 7.89 9 9V15C9 16.11 9.9 17 11 17ZM11 13H13V15H11V13ZM19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7763">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,XO=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8075)">
      <path
        d="M19 5V19H5V5H19ZM19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM14.14 11.86L11.14 15.73L9 13.14L6 17H18L14.14 11.86Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8075">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,yCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M6.29811 18.625C6.04505 18.625 5.83115 18.5375 5.65641 18.3626C5.48166 18.1877 5.39429 17.9736 5.39429 17.7203C5.39429 17.467 5.48166 17.2532 5.65641 17.0788C5.83115 16.9045 6.04505 16.8173 6.29811 16.8173H9.21159L12.452 7.18265H9.53851C9.28545 7.18265 9.07155 7.0952 8.89681 6.9203C8.72206 6.7454 8.63469 6.5313 8.63469 6.278C8.63469 6.02472 8.72206 5.81089 8.89681 5.63652C9.07155 5.46217 9.28545 5.375 9.53851 5.375H16.8847C17.1377 5.375 17.3516 5.46245 17.5264 5.63735C17.7011 5.81225 17.7885 6.02634 17.7885 6.27962C17.7885 6.53293 17.7011 6.74676 17.5264 6.92113C17.3516 7.09548 17.1377 7.18265 16.8847 7.18265H14.2789L11.0385 16.8173H13.6443C13.8973 16.8173 14.1112 16.9048 14.286 17.0797C14.4607 17.2546 14.5481 17.4687 14.5481 17.722C14.5481 17.9752 14.4607 18.1891 14.286 18.3634C14.1112 18.5378 13.8973 18.625 13.6443 18.625H6.29811Z"
    />
  </svg>
`,bCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M17.0385 19.5003V16.5388H14.0769V15.0388H17.0385V12.0773H18.5384V15.0388H21.5V16.5388H18.5384V19.5003H17.0385ZM10.8077 16.5388H7.03845C5.78282 16.5388 4.7125 16.0963 3.8275 15.2114C2.9425 14.3266 2.5 13.2564 2.5 12.0009C2.5 10.7454 2.9425 9.67504 3.8275 8.78979C4.7125 7.90454 5.78282 7.46191 7.03845 7.46191H10.8077V8.96186H7.03845C6.1987 8.96186 5.48235 9.25834 4.8894 9.85129C4.29645 10.4442 3.99998 11.1606 3.99998 12.0003C3.99998 12.8401 4.29645 13.5564 4.8894 14.1494C5.48235 14.7423 6.1987 15.0388 7.03845 15.0388H10.8077V16.5388ZM8.25 12.7503V11.2504H15.75V12.7503H8.25ZM21.5 12.0003H20C20 11.1606 19.7035 10.4442 19.1106 9.85129C18.5176 9.25834 17.8013 8.96186 16.9615 8.96186H13.1923V7.46191H16.9615C18.2171 7.46191 19.2875 7.90441 20.1725 8.78939C21.0575 9.67439 21.5 10.7447 21.5 12.0003Z"
    />
  </svg>
`,wCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_971_7680)">
      <path
        d="M11 18C11 19.1 10.1 20 9 20C7.9 20 7 19.1 7 18C7 16.9 7.9 16 9 16C10.1 16 11 16.9 11 18ZM9 10C7.9 10 7 10.9 7 12C7 13.1 7.9 14 9 14C10.1 14 11 13.1 11 12C11 10.9 10.1 10 9 10ZM9 4C7.9 4 7 4.9 7 6C7 7.1 7.9 8 9 8C10.1 8 11 7.1 11 6C11 4.9 10.1 4 9 4ZM15 8C16.1 8 17 7.1 17 6C17 4.9 16.1 4 15 4C13.9 4 13 4.9 13 6C13 7.1 13.9 8 15 8ZM15 10C13.9 10 13 10.9 13 12C13 13.1 13.9 14 15 14C16.1 14 17 13.1 17 12C17 10.9 16.1 10 15 10ZM15 16C13.9 16 13 16.9 13 18C13 19.1 13.9 20 15 20C16.1 20 17 19.1 17 18C17 16.9 16.1 16 15 16Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_971_7680">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,xCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8067)">
      <path
        d="M8 7H20C20.55 7 21 6.55 21 6C21 5.45 20.55 5 20 5H8C7.45 5 7 5.45 7 6C7 6.55 7.45 7 8 7ZM20 17H8C7.45 17 7 17.45 7 18C7 18.55 7.45 19 8 19H20C20.55 19 21 18.55 21 18C21 17.45 20.55 17 20 17ZM20 11H8C7.45 11 7 11.45 7 12C7 12.55 7.45 13 8 13H20C20.55 13 21 12.55 21 12C21 11.45 20.55 11 20 11ZM4.5 16H2.5C2.22 16 2 16.22 2 16.5C2 16.78 2.22 17 2.5 17H4V17.5H3.5C3.22 17.5 3 17.72 3 18C3 18.28 3.22 18.5 3.5 18.5H4V19H2.5C2.22 19 2 19.22 2 19.5C2 19.78 2.22 20 2.5 20H4.5C4.78 20 5 19.78 5 19.5V16.5C5 16.22 4.78 16 4.5 16ZM2.5 5H3V7.5C3 7.78 3.22 8 3.5 8C3.78 8 4 7.78 4 7.5V4.5C4 4.22 3.78 4 3.5 4H2.5C2.22 4 2 4.22 2 4.5C2 4.78 2.22 5 2.5 5ZM4.5 10H2.5C2.22 10 2 10.22 2 10.5C2 10.78 2.22 11 2.5 11H3.8L2.12 12.96C2.04 13.05 2 13.17 2 13.28V13.5C2 13.78 2.22 14 2.5 14H4.5C4.78 14 5 13.78 5 13.5C5 13.22 4.78 13 4.5 13H3.2L4.88 11.04C4.96 10.95 5 10.83 5 10.72V10.5C5 10.22 4.78 10 4.5 10Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8067">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,YO=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_971_7676)">
      <path
        d="M18 13H13V18C13 18.55 12.55 19 12 19C11.45 19 11 18.55 11 18V13H6C5.45 13 5 12.55 5 12C5 11.45 5.45 11 6 11H11V6C11 5.45 11.45 5 12 5C12.55 5 13 5.45 13 6V11H18C18.55 11 19 11.45 19 12C19 12.55 18.55 13 18 13Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_971_7676">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,SCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7897)">
      <path
        d="M7.17 17C7.68 17 8.15 16.71 8.37 16.26L9.79 13.42C9.93 13.14 10 12.84 10 12.53V8C10 7.45 9.55 7 9 7H5C4.45 7 4 7.45 4 8V12C4 12.55 4.45 13 5 13H7L5.97 15.06C5.52 15.95 6.17 17 7.17 17ZM17.17 17C17.68 17 18.15 16.71 18.37 16.26L19.79 13.42C19.93 13.14 20 12.84 20 12.53V8C20 7.45 19.55 7 19 7H15C14.45 7 14 7.45 14 8V12C14 12.55 14.45 13 15 13H17L15.97 15.06C15.52 15.95 16.17 17 17.17 17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7897">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,ZO=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M7.30775 20.4997C6.81058 20.4997 6.385 20.3227 6.031 19.9687C5.677 19.6147 5.5 19.1892 5.5 18.692V5.99973H5.25C5.0375 5.99973 4.85942 5.92782 4.71575 5.78398C4.57192 5.64015 4.5 5.46198 4.5 5.24948C4.5 5.03682 4.57192 4.85873 4.71575 4.71523C4.85942 4.57157 5.0375 4.49973 5.25 4.49973H9C9 4.2549 9.08625 4.04624 9.25875 3.87374C9.43108 3.7014 9.63967 3.61523 9.8845 3.61523H14.1155C14.3603 3.61523 14.5689 3.7014 14.7413 3.87374C14.9138 4.04624 15 4.2549 15 4.49973H18.75C18.9625 4.49973 19.1406 4.57165 19.2843 4.71548C19.4281 4.85932 19.5 5.03748 19.5 5.24998C19.5 5.46265 19.4281 5.64073 19.2843 5.78423C19.1406 5.9279 18.9625 5.99973 18.75 5.99973H18.5V18.692C18.5 19.1892 18.323 19.6147 17.969 19.9687C17.615 20.3227 17.1894 20.4997 16.6923 20.4997H7.30775ZM17 5.99973H7V18.692C7 18.7818 7.02883 18.8556 7.0865 18.9132C7.14417 18.9709 7.21792 18.9997 7.30775 18.9997H16.6923C16.7821 18.9997 16.8558 18.9709 16.9135 18.9132C16.9712 18.8556 17 18.7818 17 18.692V5.99973ZM10.1543 16.9997C10.3668 16.9997 10.5448 16.9279 10.6885 16.7842C10.832 16.6404 10.9037 16.4622 10.9037 16.2497V8.74973C10.9037 8.53723 10.8318 8.35907 10.688 8.21523C10.5443 8.07157 10.3662 7.99973 10.1535 7.99973C9.941 7.99973 9.76292 8.07157 9.61925 8.21523C9.47575 8.35907 9.404 8.53723 9.404 8.74973V16.2497C9.404 16.4622 9.47583 16.6404 9.6195 16.7842C9.76333 16.9279 9.94158 16.9997 10.1543 16.9997ZM13.8465 16.9997C14.059 16.9997 14.2371 16.9279 14.3807 16.7842C14.5243 16.6404 14.596 16.4622 14.596 16.2497V8.74973C14.596 8.53723 14.5242 8.35907 14.3805 8.21523C14.2367 8.07157 14.0584 7.99973 13.8458 7.99973C13.6333 7.99973 13.4552 8.07157 13.3115 8.21523C13.168 8.35907 13.0962 8.53723 13.0962 8.74973V16.2497C13.0962 16.4622 13.1682 16.6404 13.312 16.7842C13.4557 16.9279 13.6338 16.9997 13.8465 16.9997Z"
    />
  </svg>
`,$xe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    class="w-6 h-6"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
    />
  </svg>
`,_Ct=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M3.25 13.7404C3.0375 13.7404 2.85938 13.6684 2.71563 13.5246C2.57188 13.3808 2.5 13.2026 2.5 12.99C2.5 12.7774 2.57188 12.5993 2.71563 12.4558C2.85938 12.3122 3.0375 12.2404 3.25 12.2404H20.75C20.9625 12.2404 21.1406 12.3123 21.2843 12.4561C21.4281 12.5999 21.5 12.7781 21.5 12.9907C21.5 13.2033 21.4281 13.3814 21.2843 13.525C21.1406 13.6686 20.9625 13.7404 20.75 13.7404H3.25ZM10.9423 10.2596V6.62495H6.5673C6.2735 6.62495 6.02377 6.52201 5.8181 6.31613C5.61245 6.11026 5.50963 5.86027 5.50963 5.56615C5.50963 5.27205 5.61245 5.02083 5.8181 4.8125C6.02377 4.60417 6.2735 4.5 6.5673 4.5H17.4423C17.7361 4.5 17.9858 4.60294 18.1915 4.80883C18.3971 5.01471 18.5 5.2647 18.5 5.5588C18.5 5.85292 18.3971 6.10413 18.1915 6.31245C17.9858 6.52078 17.7361 6.62495 17.4423 6.62495H13.0673V10.2596H10.9423ZM10.9423 15.7211H13.0673V18.4423C13.0673 18.7361 12.9643 18.9858 12.7584 19.1915C12.5526 19.3971 12.3026 19.5 12.0085 19.5C11.7144 19.5 11.4631 19.3962 11.2548 19.1887C11.0465 18.9811 10.9423 18.7291 10.9423 18.4327V15.7211Z"
    />
  </svg>
`,CCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8078)">
      <path
        d="M20 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H20C21.1 21 22 20.1 22 19V5C22 3.9 21.1 3 20 3ZM20 5V8H5V5H20ZM15 19H10V10H15V19ZM5 10H8V19H5V10ZM17 19V10H20V19H17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8078">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,kCt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5547)">
      <path
        d="M5 5.5C5 6.33 5.67 7 6.5 7H10.5V17.5C10.5 18.33 11.17 19 12 19C12.83 19 13.5 18.33 13.5 17.5V7H17.5C18.33 7 19 6.33 19 5.5C19 4.67 18.33 4 17.5 4H6.5C5.67 4 5 4.67 5 5.5Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5547">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,ECt=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M5.66936 16.3389L9.39244 12.6158C9.54115 12.4671 9.71679 12.3937 9.91936 12.3957C10.1219 12.3976 10.2975 12.4761 10.4463 12.6312C10.5847 12.7823 10.654 12.9585 10.654 13.1599C10.654 13.3613 10.5847 13.5363 10.4463 13.6851L6.32704 17.8197C6.14627 18.0004 5.93538 18.0908 5.69436 18.0908C5.45333 18.0908 5.24243 18.0004 5.06166 17.8197L3.01744 15.7754C2.87899 15.637 2.81136 15.4629 2.81456 15.2533C2.81776 15.0437 2.88859 14.8697 3.02706 14.7312C3.16551 14.5928 3.34008 14.5235 3.55076 14.5235C3.76144 14.5235 3.93494 14.5928 4.07126 14.7312L5.66936 16.3389ZM5.66936 8.72359L9.39244 5.00049C9.54115 4.85177 9.71679 4.77838 9.91936 4.78031C10.1219 4.78223 10.2975 4.86075 10.4463 5.01586C10.5847 5.16691 10.654 5.34314 10.654 5.54454C10.654 5.74592 10.5847 5.92097 10.4463 6.06969L6.32704 10.2043C6.14627 10.3851 5.93538 10.4755 5.69436 10.4755C5.45333 10.4755 5.24243 10.3851 5.06166 10.2043L3.01744 8.16009C2.87899 8.02162 2.81136 7.84759 2.81456 7.63799C2.81776 7.42837 2.88859 7.25433 3.02706 7.11586C3.16551 6.97741 3.34008 6.90819 3.55076 6.90819C3.76144 6.90819 3.93494 6.97741 4.07126 7.11586L5.66936 8.72359ZM13.7597 16.5581C13.5472 16.5581 13.3691 16.4862 13.2253 16.3424C13.0816 16.1986 13.0097 16.0204 13.0097 15.8078C13.0097 15.5952 13.0816 15.4171 13.2253 15.2735C13.3691 15.13 13.5472 15.0582 13.7597 15.0582H20.7597C20.9722 15.0582 21.1503 15.1301 21.2941 15.2739C21.4378 15.4177 21.5097 15.5959 21.5097 15.8085C21.5097 16.0211 21.4378 16.1992 21.2941 16.3427C21.1503 16.4863 20.9722 16.5581 20.7597 16.5581H13.7597ZM13.7597 8.94276C13.5472 8.94276 13.3691 8.87085 13.2253 8.72704C13.0816 8.58324 13.0097 8.40504 13.0097 8.19244C13.0097 7.97985 13.0816 7.80177 13.2253 7.65819C13.3691 7.5146 13.5472 7.44281 13.7597 7.44281H20.7597C20.9722 7.44281 21.1503 7.51471 21.2941 7.65851C21.4378 7.80233 21.5097 7.98053 21.5097 8.19311C21.5097 8.40571 21.4378 8.5838 21.2941 8.72739C21.1503 8.87097 20.9722 8.94276 20.7597 8.94276H13.7597Z"
    />
  </svg>
`,Bxe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="32"
    height="32"
    viewBox="0 0 24 24"
  >
    <path
      fill="currentColor"
      d="M7 19v-.808L13.096 12L7 5.808V5h10v1.25H9.102L14.727 12l-5.625 5.77H17V19z"
    />
  </svg>
`,zxe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    height="24px"
    viewBox="0 -960 960 960"
    width="24px"
  >
    <path
      d="m644-428-58-58q9-47-27-88t-93-32l-58-58q17-8 34.5-12t37.5-4q75 0 127.5 52.5T660-500q0 20-4 37.5T644-428Zm128 126-58-56q38-29 67.5-63.5T832-500q-50-101-143.5-160.5T480-720q-29 0-57 4t-55 12l-62-62q41-17 84-25.5t90-8.5q151 0 269 83.5T920-500q-23 59-60.5 109.5T772-302Zm20 246L624-222q-35 11-70.5 16.5T480-200q-151 0-269-83.5T40-500q21-53 53-98.5t73-81.5L56-792l56-56 736 736-56 56ZM222-624q-29 26-53 57t-41 67q50 101 143.5 160.5T480-280q20 0 39-2.5t39-5.5l-36-38q-11 3-21 4.5t-21 1.5q-75 0-127.5-52.5T300-500q0-11 1.5-21t4.5-21l-84-82Zm319 93Zm-151 75Z"
    />
  </svg>
`,ACt={[xr.CodeMirror]:{theme:uft,languages:Jct,expandIcon:Pxe,searchIcon:$xe,clearSearchIcon:Rxe,searchPlaceholder:"Search language",noResultText:"No result",previewToggleIcon:t=>t?XB:zxe}},TCt=Xn([],"FeaturesCtx"),MCt=Xn({},"CrepeCtx");function DCt(t){return t.get("CrepeCtx")}function SE(t){return t.use("FeaturesCtx")}function If(t){return e=>{SE(e).update(n=>n.includes(t)?n:[...n,t])}}function qxe(t){return t.$from.parent.type.name==="code_block"}function Vxe(t){var e;const n=(e=t.$from.node(t.$from.depth-1))==null?void 0:e.type;return n?.name==="list_item"}var Hxe=t=>{throw TypeError(t)},Uxe=(t,e,n)=>e.has(t)||Hxe("Cannot "+n),Ab=(t,e,n)=>(Uxe(t,e,"read from private field"),n?n.call(t):e.get(t)),zte=(t,e,n)=>e.has(t)?Hxe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),NCt=(t,e,n,r)=>(Uxe(t,e,"write to private field"),e.set(t,n),n),Eg,i_;class jxe{constructor(){zte(this,Eg,[]),this.clear=()=>(NCt(this,Eg,[]),this),zte(this,i_,e=>{const n={group:e,addItem:(r,i)=>{const o={...i,key:r};return e.items.push(o),n},clear:()=>(e.items=[],n)};return n}),this.addGroup=(e,n)=>{const i={key:e,label:n,items:[]};return Ab(this,Eg).push(i),Ab(this,i_).call(this,i)},this.getGroup=e=>{const n=Ab(this,Eg).find(r=>r.key===e);if(!n)throw new Error(`Group with key ${e} not found`);return Ab(this,i_).call(this,n)},this.build=()=>Ab(this,Eg)}}Eg=new WeakMap;i_=new WeakMap;function OCt(t,e,n){var r,i,o,a,s,l,u,c,f,d,h,p,m,g,v,y,b,w,x,S,_,k,C,E,M,A,N,T,I,O,q,L,Y,R,B,z,P,$,X,K,Z,te,J,fe,ue,de,ee,D,oe,W,V,F,j,se,pe,ae,H,Q,ie,ce,ve,Te,be,_e,ge,Ae,Me,Fe,Ue,G,Se,Ie,qe,Ze,ft,Ot,lr,$l,Nr,Bi,Bl,gs,wc,Rf,Ff,yh,Po,tl,Lf,$f,xc,vs,zi,Ra,ys,Mu,Bf,zf,Rt,Be,at,Ne,st,dt,pt,qt,Cn,ur,Jn,ti,Gy,Ky,tz,nz,rz,iz,oz,az,sz;const L1=n&&SE(n).get(),L5e=L1?.includes(xr.Latex),$5e=L1?.includes(xr.ImageBlock),B5e=L1?.includes(xr.Table),Xy=new jxe;if(e?.textGroup!==null){const yr=Xy.addGroup("text",(i=(r=e?.textGroup)==null?void 0:r.label)!=null?i:"Text");((o=e?.textGroup)==null?void 0:o.text)!==null&&yr.addItem("text",{label:(l=(s=(a=e?.textGroup)==null?void 0:a.text)==null?void 0:s.label)!=null?l:"Text",icon:(f=(c=(u=e?.textGroup)==null?void 0:u.text)==null?void 0:c.icon)!=null?f:kCt,onRun:Gt=>{const Xt=Gt.get(It),cr=Af.type(Gt);Xt.call(Lo.key),Xt.call(nd.key,{nodeType:cr})}}),((d=e?.textGroup)==null?void 0:d.h1)!==null&&yr.addItem("h1",{label:(m=(p=(h=e?.textGroup)==null?void 0:h.h1)==null?void 0:p.label)!=null?m:"Heading 1",icon:(y=(v=(g=e?.textGroup)==null?void 0:g.h1)==null?void 0:v.icon)!=null?y:dCt,onRun:Gt=>{const Xt=Gt.get(It),cr=gl.type(Gt);Xt.call(Lo.key),Xt.call(nd.key,{nodeType:cr,attrs:{level:1}})}}),((b=e?.textGroup)==null?void 0:b.h2)!==null&&yr.addItem("h2",{label:(S=(x=(w=e?.textGroup)==null?void 0:w.h2)==null?void 0:x.label)!=null?S:"Heading 2",icon:(C=(k=(_=e?.textGroup)==null?void 0:_.h2)==null?void 0:k.icon)!=null?C:hCt,onRun:Gt=>{const Xt=Gt.get(It),cr=gl.type(Gt);Xt.call(Lo.key),Xt.call(nd.key,{nodeType:cr,attrs:{level:2}})}}),((E=e?.textGroup)==null?void 0:E.h3)!==null&&yr.addItem("h3",{label:(N=(A=(M=e?.textGroup)==null?void 0:M.h3)==null?void 0:A.label)!=null?N:"Heading 3",icon:(O=(I=(T=e?.textGroup)==null?void 0:T.h3)==null?void 0:I.icon)!=null?O:pCt,onRun:Gt=>{const Xt=Gt.get(It),cr=gl.type(Gt);Xt.call(Lo.key),Xt.call(nd.key,{nodeType:cr,attrs:{level:3}})}}),((q=e?.textGroup)==null?void 0:q.h4)!==null&&yr.addItem("h4",{label:(R=(Y=(L=e?.textGroup)==null?void 0:L.h4)==null?void 0:Y.label)!=null?R:"Heading 4",icon:(P=(z=(B=e?.textGroup)==null?void 0:B.h4)==null?void 0:z.icon)!=null?P:mCt,onRun:Gt=>{const Xt=Gt.get(It),cr=gl.type(Gt);Xt.call(Lo.key),Xt.call(nd.key,{nodeType:cr,attrs:{level:4}})}}),(($=e?.textGroup)==null?void 0:$.h5)!==null&&yr.addItem("h5",{label:(Z=(K=(X=e?.textGroup)==null?void 0:X.h5)==null?void 0:K.label)!=null?Z:"Heading 5",icon:(fe=(J=(te=e?.textGroup)==null?void 0:te.h5)==null?void 0:J.icon)!=null?fe:gCt,onRun:Gt=>{const Xt=Gt.get(It),cr=gl.type(Gt);Xt.call(Lo.key),Xt.call(nd.key,{nodeType:cr,attrs:{level:5}})}}),((ue=e?.textGroup)==null?void 0:ue.h6)!==null&&yr.addItem("h6",{label:(D=(ee=(de=e?.textGroup)==null?void 0:de.h6)==null?void 0:ee.label)!=null?D:"Heading 6",icon:(V=(W=(oe=e?.textGroup)==null?void 0:oe.h6)==null?void 0:W.icon)!=null?V:vCt,onRun:Gt=>{const Xt=Gt.get(It),cr=gl.type(Gt);Xt.call(Lo.key),Xt.call(nd.key,{nodeType:cr,attrs:{level:6}})}}),((F=e?.textGroup)==null?void 0:F.quote)!==null&&yr.addItem("quote",{label:(pe=(se=(j=e?.textGroup)==null?void 0:j.quote)==null?void 0:se.label)!=null?pe:"Quote",icon:(Q=(H=(ae=e?.textGroup)==null?void 0:ae.quote)==null?void 0:H.icon)!=null?Q:SCt,onRun:Gt=>{const Xt=Gt.get(It),cr=Fy.type(Gt);Xt.call(Lo.key),Xt.call(n2.key,{nodeType:cr})}}),((ie=e?.textGroup)==null?void 0:ie.divider)!==null&&yr.addItem("divider",{label:(Te=(ve=(ce=e?.textGroup)==null?void 0:ce.divider)==null?void 0:ve.label)!=null?Te:"Divider",icon:(ge=(_e=(be=e?.textGroup)==null?void 0:be.divider)==null?void 0:_e.icon)!=null?ge:fCt,onRun:Gt=>{const Xt=Gt.get(It),cr=Ly.type(Gt);Xt.call(Lo.key),Xt.call(r2.key,{nodeType:cr})}})}if(e?.listGroup!==null){const yr=Xy.addGroup("list",(Me=(Ae=e?.listGroup)==null?void 0:Ae.label)!=null?Me:"List");((Fe=e?.listGroup)==null?void 0:Fe.bulletList)!==null&&yr.addItem("bullet-list",{label:(Se=(G=(Ue=e?.listGroup)==null?void 0:Ue.bulletList)==null?void 0:G.label)!=null?Se:"Bullet List",icon:(Ze=(qe=(Ie=e?.listGroup)==null?void 0:Ie.bulletList)==null?void 0:qe.icon)!=null?Ze:sCt,onRun:Gt=>{const Xt=Gt.get(It),cr=O1.type(Gt);Xt.call(Lo.key),Xt.call(n2.key,{nodeType:cr})}}),((ft=e?.listGroup)==null?void 0:ft.orderedList)!==null&&yr.addItem("ordered-list",{label:($l=(lr=(Ot=e?.listGroup)==null?void 0:Ot.orderedList)==null?void 0:lr.label)!=null?$l:"Ordered List",icon:(Bl=(Bi=(Nr=e?.listGroup)==null?void 0:Nr.orderedList)==null?void 0:Bi.icon)!=null?Bl:xCt,onRun:Gt=>{const Xt=Gt.get(It),cr=I1.type(Gt);Xt.call(Lo.key),Xt.call(n2.key,{nodeType:cr})}}),((gs=e?.listGroup)==null?void 0:gs.taskList)!==null&&yr.addItem("task-list",{label:(Ff=(Rf=(wc=e?.listGroup)==null?void 0:wc.taskList)==null?void 0:Rf.label)!=null?Ff:"Task List",icon:(tl=(Po=(yh=e?.listGroup)==null?void 0:yh.taskList)==null?void 0:Po.icon)!=null?tl:ECt,onRun:Gt=>{const Xt=Gt.get(It),cr=vc.type(Gt);Xt.call(Lo.key),Xt.call(n2.key,{nodeType:cr,attrs:{checked:!1}})}})}if(e?.advancedGroup!==null){const yr=Xy.addGroup("advanced",($f=(Lf=e?.advancedGroup)==null?void 0:Lf.label)!=null?$f:"Advanced");((xc=e?.advancedGroup)==null?void 0:xc.image)!==null&&$5e&&yr.addItem("image",{label:(Ra=(zi=(vs=e?.advancedGroup)==null?void 0:vs.image)==null?void 0:zi.label)!=null?Ra:"Image",icon:(Bf=(Mu=(ys=e?.advancedGroup)==null?void 0:ys.image)==null?void 0:Mu.icon)!=null?Bf:XO,onRun:Gt=>{const Xt=Gt.get(It),cr=X7.type(Gt);Xt.call(Lo.key),Xt.call(r2.key,{nodeType:cr})}}),((zf=e?.advancedGroup)==null?void 0:zf.codeBlock)!==null&&yr.addItem("code",{label:(at=(Be=(Rt=e?.advancedGroup)==null?void 0:Rt.codeBlock)==null?void 0:Be.label)!=null?at:"Code",icon:(dt=(st=(Ne=e?.advancedGroup)==null?void 0:Ne.codeBlock)==null?void 0:st.icon)!=null?dt:Fxe,onRun:Gt=>{const Xt=Gt.get(It),cr=mf.type(Gt);Xt.call(Lo.key),Xt.call(nd.key,{nodeType:cr})}}),((pt=e?.advancedGroup)==null?void 0:pt.table)!==null&&B5e&&yr.addItem("table",{label:(ur=(Cn=(qt=e?.advancedGroup)==null?void 0:qt.table)==null?void 0:Cn.label)!=null?ur:"Table",icon:(Gy=(ti=(Jn=e?.advancedGroup)==null?void 0:Jn.table)==null?void 0:ti.icon)!=null?Gy:CCt,onRun:Gt=>{const Xt=Gt.get(It),cr=Gt.get(Xr);Xt.call(Lo.key);const{from:z5e}=cr.state.selection;Xt.call(r2.key,{nodeType:z$(Gt,3,3)}),Xt.call(p3e.key,{pos:z5e})}}),((Ky=e?.advancedGroup)==null?void 0:Ky.math)!==null&&L5e&&yr.addItem("math",{label:(rz=(nz=(tz=e?.advancedGroup)==null?void 0:tz.math)==null?void 0:nz.label)!=null?rz:"Math",icon:(az=(oz=(iz=e?.advancedGroup)==null?void 0:iz.math)==null?void 0:oz.icon)!=null?az:Bxe,onRun:Gt=>{const Xt=Gt.get(It),cr=mf.type(Gt);Xt.call(Lo.key),Xt.call(r2.key,{nodeType:cr,attrs:{language:"LaTex"}})}})}(sz=e?.buildMenu)==null||sz.call(e,Xy);let Yy=Xy.build();t&&(Yy=Yy.map(yr=>{const Gt=yr.items.filter(Xt=>Xt.label.toLowerCase().includes(t.toLowerCase()));return{...yr,items:Gt}}).filter(yr=>yr.items.length>0));const lz=Yy.flatMap(yr=>yr.items);return lz.forEach((yr,Gt)=>{Object.assign(yr,{index:Gt})}),Yy.reduce((yr,Gt)=>{const Xt=yr+Gt.items.length;return Object.assign(Gt,{range:[yr,Xt]}),Xt},0),{groups:Yy,size:lz.length}}const ICt=nt({props:{ctx:{type:Object,required:!0},show:{type:Object,required:!0},filter:{type:Object,required:!0},hide:{type:Function,required:!0},config:{type:Object,required:!1}},setup({ctx:t,show:e,filter:n,hide:r,config:i}){const o=we(),a=re(()=>OCt(n.value,i,t)),s=we(0),l=we({x:-999,y:-999}),u=m=>{const{x:g,y:v}=m;l.value={x:g,y:v}};We([a,e],()=>{const{size:m}=a.value;m===0&&e.value?r():s.value>=m&&(s.value=0)});const c=(m,g)=>{const v=s.value,y=typeof m=="function"?m(v):m;g?.(y),s.value=y},f=m=>{var g,v;const y=(g=o.value)==null?void 0:g.querySelector(`[data-index="${m}"]`),b=(v=o.value)==null?void 0:v.querySelector(".menu-groups");!y||!b||(b.scrollTop=y.offsetTop-b.offsetTop)},d=m=>{const g=a.value.groups.flatMap(v=>v.items).at(m);g&&t&&g.onRun(t),r()},h=m=>{const{size:g,groups:v}=a.value;if(m.key==="Escape"){m.preventDefault(),r?.();return}if(m.key==="ArrowDown")return m.preventDefault(),c(y=>y<g-1?y+1:y,f);if(m.key==="ArrowUp")return m.preventDefault(),c(y=>y<=0?y:y-1,f);if(m.key==="ArrowLeft")return m.preventDefault(),c(y=>{const b=v.find(x=>x.range[0]<=y&&x.range[1]>y);if(!b)return y;const w=v[v.indexOf(b)-1];return w?w.range[1]-1:y},f);if(m.key==="ArrowRight")return m.preventDefault(),c(y=>{const b=v.find(x=>x.range[0]<=y&&x.range[1]>y);if(!b)return y;const w=v[v.indexOf(b)+1];return w?w.range[0]:y},f);m.key==="Enter"&&(m.preventDefault(),d(s.value))},p=m=>g=>{const v=l.value;if(!v)return;const{x:y,y:b}=g;y===v.x&&b===v.y||c(m)};return J0(()=>{e.value?window.addEventListener("keydown",h,{capture:!0}):window.removeEventListener("keydown",h,{capture:!0})}),Oo(()=>{window.removeEventListener("keydown",h,{capture:!0})}),()=>he("div",{ref:o,onPointerdown:m=>m.preventDefault()},he("nav",{class:"tab-group"},he("ul",null,a.value.groups.map(m=>he("li",{key:m.key,onPointerdown:()=>c(m.range[0],f),class:s.value>=m.range[0]&&s.value<m.range[1]?"selected":""},m.label)))),he("div",{class:"menu-groups",onPointermove:u},a.value.groups.map(m=>he("div",{key:m.key,class:"menu-group"},he("h6",null,m.label),he("ul",null,m.items.map(g=>he("li",{key:g.key,"data-index":g.index,class:s.value===g.index?"hover":"",onPointerenter:p(g.index),onPointerdown:()=>{var v,y;(y=(v=o.value)==null?void 0:v.querySelector(`[data-index="${g.index}"]`))==null||y.classList.add("active")},onPointerup:()=>{var v,y;(y=(v=o.value)==null?void 0:v.querySelector(`[data-index="${g.index}"]`))==null||y.classList.remove("active"),d(g.index)}},he(Yv,{icon:g.icon}),he("span",null,g.label))))))))}});var Wxe=t=>{throw TypeError(t)},Gxe=(t,e,n)=>e.has(t)||Wxe("Cannot "+n),Pu=(t,e,n)=>(Gxe(t,e,"read from private field"),n?n.call(t):e.get(t)),Tb=(t,e,n)=>e.has(t)?Wxe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),zp=(t,e,n,r)=>(Gxe(t,e,"write to private field"),e.set(t,n),n),h2,o_,a_,od,Ag;const Kxe=Qvt("CREPE_MENU"),YB=Fr({show:()=>{},hide:()=>{}},"menuAPICtx");function PCt(t,e){t.set(Kxe.key,{view:n=>new RCt(t,n,e)})}class RCt{constructor(e,n,r){Tb(this,h2),Tb(this,o_),Tb(this,a_),Tb(this,od),Tb(this,Ag,null),this.update=c=>{Pu(this,od).update(c)},this.show=c=>{zp(this,Ag,c),Pu(this,a_).value="",Pu(this,od).show()},this.hide=()=>{zp(this,Ag,null),Pu(this,od).hide()},this.destroy=()=>{Pu(this,od).destroy(),Pu(this,o_).unmount(),Pu(this,h2).remove()};const i=document.createElement("div");i.classList.add("milkdown-slash-menu");const o=we(!1),a=we("");zp(this,a_,a);const s=this.hide,l=Aa(ICt,{ctx:e,config:r,show:o,filter:a,hide:s});zp(this,o_,l),l.mount(i),zp(this,h2,i);const u=this;zp(this,od,new eyt({content:Pu(this,h2),debounce:20,shouldShow(c){if(qxe(c.state.selection)||Vxe(c.state.selection))return!1;const f=this.getContent(c,h=>["paragraph","heading"].includes(h.type.name));if(f==null||!FCt(c.state.selection))return!1;const d=Pu(u,Ag);if(a.value=f.startsWith("/")?f.slice(1):f,typeof d=="number"){const h=c.state.doc.nodeSize-2,p=Math.min(d,h);return c.state.doc.resolve(p).node()!==c.state.doc.resolve(c.state.selection.from).node()?(zp(u,Ag,null),!1):!0}return!!f.startsWith("/")},offset:10})),Pu(this,od).onShow=()=>{o.value=!0},Pu(this,od).onHide=()=>{o.value=!1},this.update(n),e.set(YB.key,{show:c=>this.show(c),hide:()=>this.hide()})}}h2=new WeakMap;o_=new WeakMap;a_=new WeakMap;od=new WeakMap;Ag=new WeakMap;function FCt(t){if(!(t instanceof zt))return!1;const{$head:e}=t,n=e.parent;return e.parentOffset===n.content.size}const LCt=nt({props:{onAdd:{type:Function,required:!0},addIcon:{type:String,required:!0},handleIcon:{type:String,required:!0}},setup(t){const e=we();return()=>he(Tt,null,he("div",{ref:e,class:"operation-item",onPointerdown:n=>{var r;n.preventDefault(),n.stopPropagation(),(r=e.value)==null||r.classList.add("active")},onPointerup:n=>{var r;n.preventDefault(),n.stopPropagation(),(r=e.value)==null||r.classList.remove("active"),t.onAdd()}},he(Yv,{icon:t.addIcon})),he("div",{class:"operation-item"},he(Yv,{icon:t.handleIcon})))}});var Xxe=t=>{throw TypeError(t)},Yxe=(t,e,n)=>e.has(t)||Xxe("Cannot "+n),qp=(t,e,n)=>(Yxe(t,e,"read from private field"),n?n.call(t):e.get(t)),E6=(t,e,n)=>e.has(t)?Xxe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),A6=(t,e,n,r)=>(Yxe(t,e,"write to private field"),e.set(t,n),n),s_,Xp,l_,u_;class $Ct{constructor(e,n){E6(this,s_),E6(this,Xp),E6(this,l_),E6(this,u_),this.update=()=>{qp(this,Xp).update()},this.destroy=()=>{qp(this,Xp).destroy(),qp(this,s_).remove(),qp(this,l_).unmount()},this.onAdd=()=>{const u=qp(this,u_),c=u.get(Xr);c.hasFocus()||c.focus();const{state:f,dispatch:d}=c,h=qp(this,Xp).active;if(!h)return;const m=h.$pos.pos+h.node.nodeSize;let g=f.tr.insert(m,Af.type(u).create());g=g.setSelection(zt.near(g.doc.resolve(m))),d(g.scrollIntoView()),qp(this,Xp).hide(),u.get(YB.key).show(g.selection.from)};var r,i,o;A6(this,u_,e);const a=document.createElement("div");a.classList.add("milkdown-block-handle");const s=Aa(LCt,{onAdd:this.onAdd,addIcon:(r=n?.handleAddIcon)!=null?r:YO,handleIcon:(i=n?.handleDragIcon)!=null?i:wCt});s.mount(a),A6(this,l_,s),A6(this,s_,a);const l=(o=n?.blockHandle)!=null?o:{};A6(this,Xp,new Evt({ctx:e,content:a,getOffset:()=>16,getPlacement:({active:u,blockDom:c})=>{if(u.node.type.name==="heading")return"left";let f=0;u.node.descendants(w=>{f+=w.childCount});const d=u.el,h=d.getBoundingClientRect(),p=c.getBoundingClientRect(),m=window.getComputedStyle(d),g=Number.parseInt(m.paddingTop,10)||0,v=Number.parseInt(m.paddingBottom,10)||0,y=h.height-g-v,b=p.height;return f>2||b<y?"left-start":"left"},...l})),this.update()}}s_=new WeakMap;Xp=new WeakMap;l_=new WeakMap;u_=new WeakMap;function BCt(t,e){t.set(B7.key,{filterNodes:n=>!ef(i=>["table","blockquote","math_inline"].includes(i.type.name))(n)}),t.set(V7.key,{view:()=>new $Ct(t,e)})}const zCt=(t,e)=>{t.config(If(xr.BlockEdit)).config(n=>BCt(n,e)).config(n=>PCt(n,e)).use(YB).use(V7).use(Kxe)},qCt=(t,e={})=>{t.config(If(xr.CodeMirror)).config(n=>{const{languages:r=[],theme:i}=e,o=[Oy.of($we.concat(Kwt)),r5t];i&&o.push(i),e.extensions&&o.push(...e.extensions),n.update(V4.key,a=>({extensions:o,languages:r,expandIcon:e.expandIcon||Pxe,searchIcon:e.searchIcon||$xe,clearSearchIcon:e.clearSearchIcon||Rxe,searchPlaceholder:e.searchPlaceholder||"Search language",copyText:e.copyText||"Copy",copyIcon:e.copyIcon||Lxe,onCopy:e.onCopy||(()=>{}),noResultText:e.noResultText||"No result",renderLanguage:e.renderLanguage||a.renderLanguage,renderPreview:e.renderPreview||a.renderPreview,previewToggleButton:s=>{var l,u;const c=((l=e.previewToggleIcon)==null?void 0:l.call(e,s))||(s?XB:zxe),f=((u=e.previewToggleText)==null?void 0:u.call(e,s))||(s?"Edit":"Hide");return[c,f].map(d=>d.trim()).join(" ")},previewLabel:e.previewLabel||a.previewLabel}))}).use(y4t)},VCt=(t,e)=>{if(t.config(If(xr.Cursor)).config(r=>{r.update(aE.key,()=>{var i,o;return{class:"crepe-drop-cursor",width:(i=e?.width)!=null?i:4,color:(o=e?.color)!=null?o:!1}})}).use(h5t),e?.virtual===!1)return;const n=p5t();t.use(xo(()=>n))},HCt=(t,e)=>{t.config(If(xr.ImageBlock)).config(n=>{n.update(sE.key,r=>{var i,o,a,s,l,u;return{uploadButton:(i=e?.inlineUploadButton)!=null?i:"Upload",imageIcon:(o=e?.inlineImageIcon)!=null?o:XO,confirmButton:(a=e?.inlineConfirmButton)!=null?a:KB,uploadPlaceholderText:(s=e?.inlineUploadPlaceholderText)!=null?s:"or paste link",onUpload:(u=(l=e?.inlineOnUpload)!=null?l:e?.onUpload)!=null?u:r.onUpload,proxyDomURL:e?.proxyDomURL}}),n.update(K7.key,r=>{var i,o,a,s,l,u,c,f;return{uploadButton:(i=e?.blockUploadButton)!=null?i:"Upload file",imageIcon:(o=e?.blockImageIcon)!=null?o:XO,captionIcon:(a=e?.blockCaptionIcon)!=null?a:lCt,confirmButton:(s=e?.blockConfirmButton)!=null?s:"Confirm",captionPlaceholderText:(l=e?.blockCaptionPlaceholderText)!=null?l:"Write Image Caption",uploadPlaceholderText:(u=e?.blockUploadPlaceholderText)!=null?u:"or paste link",onUpload:(f=(c=e?.blockOnUpload)!=null?c:e?.onUpload)!=null?f:r.onUpload,proxyDomURL:e?.proxyDomURL}})}).use(zyt).use(T5t)},UCt=mf.extendSchema(t=>e=>{const n=t(e);return{...n,toMarkdown:{match:n.toMarkdown.match,runner:(r,i)=>{var o,a;if(((o=i.attrs.language)!=null?o:"").toLowerCase()==="latex")r.addNode("math",void 0,((a=i.content.firstChild)==null?void 0:a.text)||"");else return n.toMarkdown.runner(r,i)}}}}),p2="math_inline",Fw=Wi(p2,()=>({group:"inline",inline:!0,draggable:!0,atom:!0,attrs:{value:{default:""}},parseDOM:[{tag:`span[data-type="${p2}"]`,getAttrs:t=>{var e;return{value:(e=t.dataset.value)!=null?e:""}}}],toDOM:t=>{const e=t.attrs.value,n=document.createElement("span");return n.dataset.type=p2,n.dataset.value=e,hxe.render(e,n,{throwOnError:!1}),n},parseMarkdown:{match:t=>t.type==="inlineMath",runner:(t,e,n)=>{t.addNode(n,{value:e.value})}},toMarkdown:{match:t=>t.type.name===p2,runner:(t,e)=>{t.addNode("inlineMath",void 0,e.attrs.value)}}})),Zxe=fn("ToggleLatex",t=>()=>(e,n)=>{const{hasNode:r,pos:i,target:o}=ebe(e,Fw.type(t)),{selection:a,doc:s,tr:l}=e;if(!r){const h=s.textBetween(a.from,a.to);let p=l.replaceSelectionWith(Fw.type(t).create({value:h}));return n&&n(p.setSelection(Zt.create(p.doc,a.from))),!0}const{from:u,to:c}=a;if(!o||i<0)return!1;let f=l.delete(i,i+1);const d=o.attrs.value;return f=f.insertText(d,i),n&&n(f.setSelection(zt.create(f.doc,u,c+d.length-1))),!0}),qte=gE("INLINE_LATEX"),jCt=nt({props:{config:{type:Object,required:!0},innerView:{type:Object,required:!0},updateValue:{type:Object,required:!0}},setup(t){const e=r=>{if(!(!r||!(r instanceof HTMLElement))){for(;r.firstChild;)r.removeChild(r.firstChild);t.innerView.value&&r.appendChild(t.innerView.value.dom)}},n=r=>{r.preventDefault(),t.updateValue.value()};return()=>he("div",{class:"container"},t.innerView&&he("div",{ref:e}),he("button",{onPointerdown:n},he(Yv,{icon:t.config.inlineEditConfirm})))}});var Jxe=t=>{throw TypeError(t)},Qxe=(t,e,n)=>e.has(t)||Jxe("Cannot "+n),_o=(t,e,n)=>(Qxe(t,e,"read from private field"),n?n.call(t):e.get(t)),Mh=(t,e,n)=>e.has(t)?Jxe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),T6=(t,e,n,r)=>(Qxe(t,e,"write to private field"),e.set(t,n),n),m2,Tg,c_,Yp,g2,v2,JO,QO;class WCt{constructor(e,n,r){this.ctx=e,Mh(this,m2),Mh(this,Tg),Mh(this,c_),Mh(this,Yp,fr(null)),Mh(this,g2,fr(()=>{})),Mh(this,v2),Mh(this,JO,()=>{_o(this,Yp).value&&(_o(this,Yp).value.destroy(),_o(this,Yp).value=null)}),Mh(this,QO,o=>{const s=(()=>{const{selection:l,schema:u}=o.state;if(l.empty||!(l instanceof Zt))return!1;const c=l.node;if(c.type.name!==p2)return!1;const f=l.from,d=u.nodes.paragraph.create(null,u.text(c.attrs.value)),h=new RL(_o(this,c_),{state:lm.create({doc:d,schema:new Mye({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},text:{group:"inline"}}}),plugins:[Ube({"Mod-z":iE,"Mod-Z":Zv,"Mod-y":Zv,Enter:()=>(_o(this,g2).value(),!0)})]})});return _o(this,Yp).value=h,_o(this,g2).value=()=>{const{tr:p}=o.state;p.setNodeAttribute(f,"value",h.state.doc.textContent),o.dispatch(p),requestAnimationFrame(()=>{o.focus()})},!0})();return s||_o(this,JO).call(this),s}),this.update=(o,a)=>{_o(this,Tg).update(o,a)},this.destroy=()=>{_o(this,v2).unmount(),_o(this,Tg).destroy(),_o(this,m2).remove()};const i=document.createElement("div");i.className="milkdown-latex-inline-edit",T6(this,m2,i),T6(this,v2,Aa(jCt,{config:r,innerView:_o(this,Yp),updateValue:_o(this,g2)})),_o(this,v2).mount(i),T6(this,Tg,new mE({debounce:0,content:_o(this,m2),shouldShow:_o(this,QO),offset:10,floatingUIOptions:{placement:"bottom"}})),_o(this,Tg).update(n),T6(this,c_,document.createElement("div"))}}m2=new WeakMap;Tg=new WeakMap;c_=new WeakMap;Yp=new WeakMap;g2=new WeakMap;v2=new WeakMap;JO=new WeakMap;QO=new WeakMap;const GCt=Ia(t=>Adt(/(?:\$)([^$]+)(?:\$)$/,Fw.type(t),{getAttr:e=>{var n;return{value:(n=e[1])!=null?n:""}}})),KCt=Ia(t=>uL(/^\$\$[\s\n]$/,mf.type(t),()=>({language:"LaTeX"}))),XCt=Ef("remarkMath",()=>BSt);function YCt(t){return yp(t,"math",(e,n,r)=>{const{value:i}=e,o={type:"code",lang:"LaTeX",value:i};r.children.splice(n,1,o)})}const ZCt=Ef("remarkMathBlock",()=>()=>YCt),JCt=(t,e)=>{t.config(If(xr.Latex)).config(n=>{if(!SE(n).get().includes(xr.CodeMirror))throw new Error("You need to enable CodeMirror to use LaTeX feature");n.update(V4.key,o=>({...o,renderPreview:(a,s)=>{if(a.toLowerCase()==="latex"&&s.length>0)return QCt(s,e?.katexOptions);const l=o.renderPreview;return l(a,s)}})),n.set(qte.key,{view:o=>{var a;return new WCt(n,o,{inlineEditConfirm:(a=e?.inlineEditConfirm)!=null?a:KB,...e})}})}).use(XCt).use(ZCt).use(Fw).use(qte).use(GCt).use(KCt).use(UCt).use(Zxe)};function QCt(t,e){return hxe.renderToString(t,{...e,throwOnError:!1,displayMode:!0})}const e8t=(t,e)=>{t.config(If(xr.LinkTooltip)).config(g_t).config(n=>{n.update(ny.key,r=>{var i,o,a,s,l,u;return{...r,linkIcon:(i=e?.linkIcon)!=null?i:Lxe,editButton:(o=e?.editButton)!=null?o:XB,removeButton:(a=e?.removeButton)!=null?a:ZO,confirmButton:(s=e?.confirmButton)!=null?s:KB,inputPlaceholder:(l=e?.inputPlaceholder)!=null?l:"Paste link...",onCopyLink:(u=e?.onCopyLink)!=null?u:()=>{}}})}).use(v_t)};function t8t(t,e){t.set(yE.key,{renderLabel:({label:n,listType:r,checked:i})=>{var o,a,s;return i==null?r==="bullet"?(o=e?.bulletIcon)!=null?o:aCt:n:i?(a=e?.checkBoxCheckedIcon)!=null?a:uCt:(s=e?.checkBoxUncheckedIcon)!=null?s:cCt}})}const n8t=(t,e)=>{t.config(If(xr.ListItem)).config(n=>t8t(n,e)).use(C_t)};function r8t(t){var e;return t.childCount<=1&&!((e=t.firstChild)!=null&&e.content.size)}function i8t(t,e){const{selection:n}=t;if(!n.empty)return null;const r=n.$anchor,i=r.parent;if(i.content.size>0||ef(s=>s.type.name==="table")(r))return null;const a=r.before();return no.node(a,a+i.nodeSize,{class:"crepe-placeholder","data-placeholder":e})}const eI=Fr({text:"Please enter...",mode:"block"},"placeholderConfigCtx"),o8t=xo(t=>new yi({key:new Ai("CREPE_PLACEHOLDER"),props:{decorations:e=>{var n;if(DCt(t).readonly)return null;const i=t.get(eI.key);if(i.mode==="doc"&&!r8t(e.doc)||qxe(e.selection)||Vxe(e.selection))return null;const o=(n=i.text)!=null?n:"Please enter...",a=i8t(e,o);return a?Br.create(e.doc,[a]):null}}})),a8t=(t,e)=>{t.config(If(xr.Placeholder)).config(n=>{e&&n.update(eI.key,r=>({...r,...e}))}).use(o8t).use(eI)},s8t=(t,e)=>{t.config(If(xr.Table)).config(n=>{n.update(bE.key,r=>({...r,renderButton:i=>{var o,a,s,l,u,c,f,d,h;switch(i){case"add_row":return(o=e?.addRowIcon)!=null?o:YO;case"add_col":return(a=e?.addColIcon)!=null?a:YO;case"delete_row":return(s=e?.deleteRowIcon)!=null?s:ZO;case"delete_col":return(l=e?.deleteColIcon)!=null?l:ZO;case"align_col_left":return(u=e?.alignLeftIcon)!=null?u:rCt;case"align_col_center":return(c=e?.alignCenterIcon)!=null?c:nCt;case"align_col_right":return(f=e?.alignRightIcon)!=null?f:iCt;case"col_drag_handle":return(d=e?.colDragHandleIcon)!=null?d:Bte;case"row_drag_handle":return(h=e?.rowDragHandleIcon)!=null?h:Bte}}}))}).use(X_t)};function l8t(t,e){var n,r,i,o,a,s,l;const u=new jxe;u.addGroup("formatting","Formatting").addItem("bold",{icon:(n=t?.boldIcon)!=null?n:oCt,active:h=>h.get(It).call(wg.key,Ry.type(h)),onRun:h=>{h.get(It).call(U7.key)}}).addItem("italic",{icon:(r=t?.italicIcon)!=null?r:yCt,active:h=>h.get(It).call(wg.key,D1.type(h)),onRun:h=>{h.get(It).call(H7.key)}}).addItem("strikethrough",{icon:(i=t?.strikethroughIcon)!=null?i:_Ct,active:h=>h.get(It).call(wg.key,$y.type(h)),onRun:h=>{h.get(It).call(Z7.key)}});const c=u.addGroup("function","Function");c.addItem("code",{icon:(o=t?.codeIcon)!=null?o:Fxe,active:h=>h.get(It).call(wg.key,Cd.type(h)),onRun:h=>{h.get(It).call(j7.key)}});const f=e&&SE(e).get();return f?.includes(xr.Latex)&&c.addItem("latex",{icon:(a=t?.latexIcon)!=null?a:Bxe,active:h=>h.get(It).call(h3e.key,Fw.type(h)),onRun:h=>{h.get(It).call(Zxe.key)}}),c.addItem("link",{icon:(s=t?.linkIcon)!=null?s:bCt,active:h=>h.get(It).call(wg.key,Ju.type(h)),onRun:h=>{h.get(It).call(pxe.key)}}),(l=t?.buildToolbar)==null||l.call(t,u),u.build()}const u8t=nt({props:{ctx:{type:Object,required:!0},hide:{type:Function,required:!0},show:{type:Object,required:!0},selection:{type:Object,required:!0},config:{type:Object,required:!1}},setup(t){const{ctx:e,config:n}=t,r=a=>s=>{s.preventDefault(),e&&a(e)};function i(a){return t.selection.value,e.get(hO).status!==n8.Created?!1:a(e)}const o=re(()=>l8t(n,e));return()=>he(Tt,null,o.value.map(a=>a.items.map(s=>he("button",{type:"button",class:na("toolbar-item",e&&i(s.active)&&"active"),onPointerdown:r(s.onRun)},he(Yv,{icon:s.icon})))).reduce((a,s,l)=>(l===0?a.push(...s):a.push(he("div",{class:"divider"}),...s),a),[]))}});var e5e=t=>{throw TypeError(t)},t5e=(t,e,n)=>e.has(t)||e5e("Cannot "+n),ol=(t,e,n)=>(t5e(t,e,"read from private field"),n?n.call(t):e.get(t)),Mb=(t,e,n)=>e.has(t)?e5e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),M6=(t,e,n,r)=>(t5e(t,e,"write to private field"),e.set(t,n),n),Lh,y2,f_,b2,w2;const Vte=gE("CREPE_TOOLBAR");class c8t{constructor(e,n,r){Mb(this,Lh),Mb(this,y2),Mb(this,f_),Mb(this,b2),Mb(this,w2,we(!1)),this.update=(a,s)=>{ol(this,Lh).update(a,s),ol(this,b2).value=a.state.selection},this.destroy=()=>{ol(this,Lh).destroy(),ol(this,f_).unmount(),ol(this,y2).remove()},this.hide=()=>{ol(this,Lh).hide()};const i=document.createElement("div");i.className="milkdown-toolbar",M6(this,b2,fr(n.state.selection));const o=Aa(u8t,{ctx:e,hide:this.hide,config:r,selection:ol(this,b2),show:ol(this,w2)});o.mount(i),M6(this,y2,i),M6(this,f_,o),M6(this,Lh,new mE({content:ol(this,y2),debounce:20,offset:10,shouldShow(a){const{doc:s,selection:l}=a.state,{empty:u,from:c,to:f}=l,d=!s.textBetween(c,f).length&&l instanceof zt,h=!(l instanceof zt),p=a.dom.getRootNode().activeElement,m=i.contains(p),g=!a.hasFocus()&&!m,v=!a.editable;return!(g||h||u||d||v)}})),ol(this,Lh).onShow=()=>{ol(this,w2).value=!0},ol(this,Lh).onHide=()=>{ol(this,w2).value=!1},this.update(n)}}Lh=new WeakMap;y2=new WeakMap;f_=new WeakMap;b2=new WeakMap;w2=new WeakMap;const f8t=(t,e)=>{t.config(If(xr.Toolbar)).config(n=>{n.set(Vte.key,{view:r=>new c8t(n,r,e)})}).use(Vte)};function d8t(t,e,n){switch(t){case xr.CodeMirror:return qCt(e,n);case xr.ListItem:return n8t(e,n);case xr.LinkTooltip:return e8t(e,n);case xr.ImageBlock:return HCt(e,n);case xr.Cursor:return VCt(e,n);case xr.BlockEdit:return zCt(e,n);case xr.Placeholder:return a8t(e,n);case xr.Toolbar:return f8t(e,n);case xr.Table:return s8t(e,n);case xr.Latex:return JCt(e,n)}}var n5e=t=>{throw TypeError(t)},r5e=(t,e,n)=>e.has(t)||n5e("Cannot "+n),al=(t,e,n)=>(r5e(t,e,"read from private field"),n?n.call(t):e.get(t)),UT=(t,e,n)=>e.has(t)?n5e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),jT=(t,e,n,r)=>(r5e(t,e,"write to private field"),e.set(t,n),n),ll,d_,x2;class h8t{constructor({root:e,defaultValue:n=""}={}){UT(this,ll),UT(this,d_),UT(this,x2,!0),this.addFeature=(i,o)=>(i(al(this,ll),o),this),this.create=()=>al(this,ll).create(),this.destroy=()=>al(this,ll).destroy(),this.setReadonly=i=>(jT(this,x2,!i),al(this,ll).action(o=>{al(this,ll).status===n8.Created&&o.get(Xr).setProps({editable:()=>!i})}),this),this.getMarkdown=()=>al(this,ll).action(Igt()),this.on=i=>al(this,ll).status!==n8.Created?(al(this,ll).config(o=>{const a=o.get(_8);i(a)}),this):(al(this,ll).action(o=>{const a=o.get(_8);i(a)}),this);var r;jT(this,d_,(r=typeof e=="string"?document.querySelector(e):e)!=null?r:document.body),jT(this,ll,FL.make().config(i=>{i.inject(MCt,this),i.inject(TCt,[])}).config(i=>{i.set(qS,al(this,d_)),i.set($S,n),i.set(i3,{editable:()=>al(this,x2)}),i.update(xE.key,o=>({...o,size:4}))}).use(Yvt).use(Oxe).use(Y_t).use(J_t).use(eCt).use(Txe).use($3t))}get editor(){return al(this,ll)}get readonly(){return!al(this,x2)}}ll=new WeakMap;d_=new WeakMap;x2=new WeakMap;class i5e extends h8t{constructor({features:e={},featureConfigs:n={},...r}={}){super(r);const i=Lat(n,ACt);Object.entries({...tCt,...e}).filter(([,a])=>a).map(([a])=>a).forEach(a=>{const s=i[a];d8t(a,this.editor,s)})}}i5e.Feature=xr;const Hte=/^(note|module|party|monster|encounter):\/\/([a-zA-Z0-9_-]+)$/,p8t=M1("mention",()=>({attrs:{kind:{default:null},id:{default:null},href:{default:null},title:{default:null}},parseDOM:[{tag:"a[data-kind][data-id]",getAttrs:t=>({kind:t.getAttribute("data-kind"),id:t.getAttribute("data-id"),href:t.getAttribute("href"),title:t.getAttribute("title")})}],toDOM:t=>{const{kind:e,id:n,href:r,title:i}=t.attrs;return["a",{href:r||`/${e}s/${n}`,"data-kind":e,"data-id":n,class:`internal-link ${e}-link`,title:i},0]},parseMarkdown:{match:t=>t.type==="link"&&Hte.test(t.url),runner:(t,e,n)=>{const r=Hte.exec(e.url);if(!r)return;const i=r[1],o=r[2];t.openMark(n,{kind:i,id:o,href:e.url,title:e.title}),t.next(e.children),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name==="mention",runner:(t,e)=>{const n=e,r=n.attrs,i=String(r.kind??""),o=String(r.id??"");t.withMark(n,"link",void 0,{url:`${i}://${o}`})}}}));$t("insertMentionCommand factory evaluated");let tI=null;function m8t(t){tI=t}function g8t(t){let e={top:100,left:100};if(!t||!t.state||!t.dom)return e;const{selection:n}=t.state;try{e=t.coordsAtPos(n.to),e={top:(e.bottom??e.top)+4,left:e.left}}catch{}return e}function o5e(t,e,n,r){if(tI){const i=t.get("editorView")||t.get("view"),o=g8t(i);return tI({kind:e,mentions:[],position:o,onSelect:a=>{try{if(i&&i.state){const{state:s,dispatch:l}=i,{selection:u,schema:c}=s;if(u){const f=s.doc.textBetween(u.from,u.to,"","")||a.title||a.name,d=c.marks.mention;if(!d)return!1;let h=s.tr.delete(u.from,u.to);return h=h.insertText(f,u.from),h=h.addMark(u.from,u.from+f.length,d.create({kind:e,id:a.id,href:`${e}://`,title:f})),l(h),!0}}}catch(s){$t(`[${r}] Error inserting mention mark:`,s)}return!1}}),!0}$t(`[${r}] mention menu item clicked`,{ctx:t,kind:e,label:n});try{const i=t.get("editorView")||t.get("view");if(i&&i.state){const{state:o,dispatch:a}=i,{selection:s,schema:l}=o;if(s){const u=o.doc.textBetween(s.from,s.to,"","")||n,c=l.marks.mention;if(!c)return!1;let f=o.tr.delete(s.from,s.to);return f=f.insertText(u,s.from),f=f.addMark(s.from,s.from+u.length,c.create({kind:e,id:"",href:`${e}://`,title:u})),a(f),!0}}}catch(i){$t(`[${r}] Error inserting mention mark:`,i)}return!1}const v8t=t=>{t.use(p8t),console.log(t)},y8t=`
<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-note"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 20l7 -7" /><path d="M13 20v-6a1 1 0 0 1 1 -1h6v-7a2 2 0 0 0 -2 -2h-12a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7" /></svg>`,b8t=`
<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-book"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" /><path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" /><path d="M3 6l0 13" /><path d="M12 6l0 13" /><path d="M21 6l0 13" /></svg>`,w8t=`
<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-users"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>`,x8t=`
<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-ghost-3"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 11a7 7 0 0 1 14 0v7a1.78 1.78 0 0 1 -3.1 1.4a1.65 1.65 0 0 0 -2.6 0a1.65 1.65 0 0 1 -2.6 0a1.65 1.65 0 0 0 -2.6 0a1.78 1.78 0 0 1 -3.1 -1.4v-7" /><path d="M10 10h.01" /><path d="M14 10h.01" /></svg>`,S8t=`
<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-swords"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M21 3v5l-11 9l-4 4l-3 -3l4 -4l9 -11z" /><path d="M5 13l6 6" /><path d="M14.32 17.32l3.68 3.68l3 -3l-3.365 -3.365" /><path d="M10 5.5l-2 -2.5h-5v5l3 2.5" /></svg>`,a5e=[{kind:"note",label:"notes.title",icon:y8t},{kind:"module",label:"modules.title",icon:b8t},{kind:"party",label:"parties.title",icon:w8t},{kind:"monster",label:"monsters.title",icon:x8t},{kind:"encounter",label:"encounters.title",icon:S8t}],_8t=t=>{const e=t.addGroup("mentions","common.mentions");a5e.forEach(({kind:n,label:r,icon:i})=>{e.addItem(n,{icon:i,active:()=>!1,onRun:o=>o5e(o,n,r,"Toolbar")})})},C8t=t=>{const e=t.addGroup("mentions","common.mentions");a5e.forEach(({kind:n,label:r,icon:i})=>{e.addItem(n,{label:r,icon:i,onRun:o=>o5e(o,n,r,"BlockEdit")})})},k8t=["placeholder","onKeydown"],E8t={class:"mention-insert-header"},A8t={class:"mention-insert-list"},T8t=["onClick","onMouseenter"],M8t={class:"mention-insert-title"},D8t={key:0,class:"mention-insert-id"},N8t={key:0,class:"mention-insert-empty"},O8t=nt({__name:"MentionInsertPopup",props:{kind:{},mentions:{},position:{},onSelect:{type:Function},onClose:{type:Function}},setup(t){const e=t,{t:n}=Ut(),r=we(0),i=we(""),o=we(null),a=re(()=>{switch(e.kind){case"note":return n("notes.title");case"module":return n("modules.title");case"party":return n("parties.title");case"monster":return n("monsters.title");case"encounter":return n("encounters.title");default:return e.kind}}),s=re(()=>({position:"absolute",top:`${e.position.top}px`,left:`${e.position.left}px`,zIndex:1e3,minWidth:"220px"})),l=re(()=>{const p=i.value.trim().toLowerCase();return p?e.mentions.filter(m=>{const g=(m.title||m.name||"").toLowerCase(),v=(m.id||"").toLowerCase();return g.includes(p)||v.includes(p)}):e.mentions});function u(p){e.onSelect(p),e.onClose()}function c(){l.value.length>0&&u(l.value[r.value])}function f(p){const m=l.value.length;m!==0&&(r.value=(r.value+p+m)%m)}function d(p){p.key==="ArrowDown"?(f(1),p.preventDefault()):p.key==="ArrowUp"?(f(-1),p.preventDefault()):p.key==="Enter"?(c(),p.preventDefault()):p.key==="Escape"&&(e.onClose(),p.preventDefault())}function h(p){p.target.closest(".mention-insert-popup")||e.onClose()}return kt(()=>{window.addEventListener("keydown",d),window.addEventListener("mousedown",h),Tn(()=>{o.value&&o.value.focus()})}),On(()=>{window.removeEventListener("keydown",d),window.removeEventListener("mousedown",h)}),We(l,p=>{r.value>=p.length&&(r.value=0)}),We(i,()=>{r.value=0}),(p,m)=>(ye(),Le("div",{class:"mention-insert-popup crepe-popup",style:Al(s.value),tabindex:"0",onKeydown:m[4]||(m[4]=Zp((...g)=>p.onClose&&p.onClose(...g),["esc"])),onMousedown:m[5]||(m[5]=Wo(()=>{},["stop"]))},[fo(Ee("input",{ref_key:"searchInput",ref:o,"onUpdate:modelValue":m[0]||(m[0]=g=>i.value=g),class:"mention-insert-search",type:"text",placeholder:le(n)("mentions.searchPlaceholder",{kind:a.value}),onKeydown:[m[1]||(m[1]=Zp(Wo(g=>f(1),["prevent"]),["down"])),m[2]||(m[2]=Zp(Wo(g=>f(-1),["prevent"]),["up"])),Zp(Wo(c,["prevent"]),["enter"]),m[3]||(m[3]=Zp(Wo((...g)=>p.onClose&&p.onClose(...g),["prevent"]),["esc"]))],autofocus:""},null,40,k8t),[[S3,i.value]]),Ee("div",E8t,$e(le(n)("mentions.selectToMention",{kind:a.value})),1),Ee("ul",A8t,[(ye(!0),Le(Tt,null,Gn(l.value,(g,v)=>(ye(),Le("li",{key:g.id,class:Qr(["mention-insert-item",{selected:v===r.value}]),onClick:y=>u(g),onMouseenter:y=>r.value=v},[Ee("span",M8t,$e(g.title||g.name),1),g.id?(ye(),Le("span",D8t,"("+$e(g.id)+")",1)):ot("",!0)],42,T8t))),128)),l.value.length===0?(ye(),Le("li",N8t,$e(le(n)("mentions.noResults")),1)):ot("",!0)])],36))}}),I8t=vr(O8t,[["__scopeId","data-v-230e7348"]]),P8t=nt({__name:"MilkdownEditor",props:{modelValue:{},currentEntityType:{},currentEntityId:{}},emits:["update:modelValue"],setup(t,{expose:e,emit:n}){const r=t,i=n,o=we(null),a=we({show:!1,kind:"",mentions:[],position:{top:0,left:0},onSelect:()=>{}});function s({kind:c,mentions:f,position:d,onSelect:h}){a.value={show:!0,kind:c,mentions:f,position:d,onSelect:h}}function l(){a.value.show=!1}function u(c){const f=pQe(c);if(!f)return[];const d=f.useStore();let h=[];return Array.isArray(d.items)?h=d.items:d.items&&typeof d.items=="object"&&"value"in d.items&&Array.isArray(d.items.value)&&(h=d.items.value),h.filter(p=>!(r.currentEntityType===c&&p[f.idKey]===r.currentEntityId))}return m8t(c=>{const f=u(c.kind);s({...c,mentions:f,onSelect:d=>{c.onSelect(d),l()}})}),fit(c=>(o.value=new i5e({root:c,defaultValue:r.modelValue,featureConfigs:{[xr.Toolbar]:{buildToolbar:_8t},[xr.BlockEdit]:{buildMenu:C8t}}}).addFeature(v8t),o.value.on(f=>{f.markdownUpdated((d,h)=>{i("update:modelValue",h)})}),o.value)),e({getMarkdown:()=>o.value?.getMarkdown()??""}),(c,f)=>(ye(),Le("div",null,[xe(le(uit)),a.value.show?(ye(),He(I8t,{key:0,kind:a.value.kind,mentions:a.value.mentions,position:a.value.position,onSelect:a.value.onSelect,onClose:l},null,8,["kind","mentions","position","onSelect"])):ot("",!0)]))}}),Ute=nt({__name:"MilkdownEditorWrapper",props:{modelValue:{},currentEntityType:{},currentEntityId:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e;return(i,o)=>(ye(),He(le(cit),null,{default:De(()=>[xe(P8t,{"model-value":i.modelValue,"current-entity-type":n.currentEntityType||"","current-entity-id":n.currentEntityId||"","onUpdate:modelValue":o[0]||(o[0]=a=>r("update:modelValue",a))},null,8,["model-value","current-entity-type","current-entity-id"])]),_:1}))}}),R8t={class:"markdown-editor-wrapper"},F8t={key:0,class:"markdown-label"},L8t={key:2,class:"raw-editor"},$8t={class:"col"},B8t={class:"help-title"},z8t={class:"col"},q8t={class:"help-title"},V8t=nt({__name:"MarkdownEditor",props:{isWYSIWYGMode:{type:Boolean},modelValue:{},placeholder:{},rows:{},className:{},label:{},hideFormattingHelp:{type:Boolean},enableMentions:{type:Boolean},currentEntityType:{},currentEntityId:{}},emits:["update:modelValue"],setup(t,{expose:e,emit:n}){const r=we(null),{t:i}=Ut();_f(),$i(),Xs(),Rl(),Cf();const o=t,a=n,s=wre(),l=re({get:()=>o.modelValue,set:f=>a("update:modelValue",f)});function u(){return!o.isWYSIWYGMode.value&&r.value&&r.value.getMarkdown?r.value.getMarkdown():o.modelValue}function c(){return u()}return e({getMarkdown:c}),(f,d)=>(ye(),Le("div",R8t,[o.label?(ye(),Le("label",F8t,$e(le(i)(o.label)),1)):ot("",!0),o.isWYSIWYGMode?(ye(),He(T0,{key:1,flat:"",bordered:""},{default:De(()=>[xe(Wa,null,{default:De(()=>[o.enableMentions?(ye(),He(Ute,{key:0,ref_key:"milkdownWrapperRef",ref:r,modelValue:l.value,"onUpdate:modelValue":d[0]||(d[0]=h=>l.value=h),"current-entity-type":o.currentEntityType||"","current-entity-id":o.currentEntityId||""},null,8,["modelValue","current-entity-type","current-entity-id"])):(ye(),He(Ute,{key:1,ref_key:"milkdownWrapperRef",ref:r,modelValue:l.value,"onUpdate:modelValue":d[1]||(d[1]=h=>l.value=h)},null,8,["modelValue"]))]),_:1})]),_:1})):(ye(),Le("div",L8t,[xe(ui,Ka({type:"textarea",value:l.value,onInput:d[2]||(d[2]=h=>l.value=h.target.value),placeholder:o.placeholder,rows:o.rows||10,class:"raw-textarea"},le(s),{dense:"",outlined:""}),null,16,["value","placeholder","rows"]),o.hideFormattingHelp?ot("",!0):(ye(),He(T0,{key:0,flat:"",bordered:"",class:"q-mt-md"},{default:De(()=>[xe(Wa,null,{default:De(()=>[Ee("h4",null,$e(le(i)("markdownEditor.formattingHelp")),1)]),_:1}),xe(Wa,{class:"row"},{default:De(()=>[Ee("div",$8t,[Ee("span",B8t,$e(le(i)("markdownEditor.help.internalLinks")),1),d[8]||(d[8]=Ee("code",null,"[title](type://id)",-1)),Ee("p",null,$e(le(i)("markdownEditor.help.linkToOtherEntities")),1),Ee("ul",null,[Ee("li",null,[d[3]||(d[3]=Ee("code",null,"[Note Title](note://123)",-1)),vt(" - "+$e(le(i)("markdownEditor.help.linkToNote")),1)]),Ee("li",null,[d[4]||(d[4]=Ee("code",null,"[Module Name](module://123)",-1)),vt(" - "+$e(le(i)("markdownEditor.help.linkToModule")),1)]),Ee("li",null,[d[5]||(d[5]=Ee("code",null,"[Party Name](party://123)",-1)),vt(" - "+$e(le(i)("markdownEditor.help.linkToParty")),1)]),Ee("li",null,[d[6]||(d[6]=Ee("code",null,"[Monster Name](monster://123)",-1)),vt(" - "+$e(le(i)("markdownEditor.help.linkToMonster")),1)]),Ee("li",null,[d[7]||(d[7]=Ee("code",null,"[Encounter Name](encounter://123)",-1)),vt(" - "+$e(le(i)("markdownEditor.help.linkToEncounter")),1)])])]),Ee("div",z8t,[Ee("span",q8t,$e(le(i)("markdownEditor.help.markdown")),1),Ee("p",null,$e(le(i)("markdownEditor.help.basicFormatting")),1),Ee("ul",null,[Ee("li",null,[d[9]||(d[9]=Ee("code",null,"**bold**",-1)),d[10]||(d[10]=vt(" - ")),Ee("strong",null,$e(le(i)("markdownEditor.help.boldText")),1)]),Ee("li",null,[d[11]||(d[11]=Ee("code",null,"*italic*",-1)),d[12]||(d[12]=vt(" - ")),Ee("em",null,$e(le(i)("markdownEditor.help.italicText")),1)]),Ee("li",null,[d[13]||(d[13]=Ee("code",null,"# Heading",-1)),vt(" - "+$e(le(i)("markdownEditor.help.sectionHeading")),1)]),Ee("li",null,[d[14]||(d[14]=Ee("code",null,"- item",-1)),vt(" - "+$e(le(i)("markdownEditor.help.bulletList")),1)]),Ee("li",null,[d[15]||(d[15]=Ee("code",null,"1. item",-1)),vt(" - "+$e(le(i)("markdownEditor.help.numberedList")),1)]),Ee("li",null,[d[16]||(d[16]=Ee("code",null,"- [ ] Task item",-1)),vt(" "+$e(le(i)("markdownEditor.help.or"))+" ",1),Ee("code",null,"- [x] "+$e(le(i)("markdownEditor.help.completedTask")),1),vt(" - "+$e(le(i)("markdownEditor.help.taskList")),1)])]),Ee("p",null,[Ee("em",null,$e(le(i)("markdownEditor.help.taskLists")),1),vt(" "+$e(le(i)("markdownEditor.help.taskListsWillRender")),1)])])]),_:1})]),_:1}))]))]))}}),H8t=vr(V8t,[["__scopeId","data-v-2d07ba35"]]),U8t={class:"q-pa-md q-gutter-md"},j8t={class:"q-mb-md"},W8t={class:"q-mb-md"},G8t={class:"row justify-between"},K8t={class:"col"},X8t={class:"editor-toggle text-right col"},Y8t={class:"row q-col-gutter-md"},Z8t={class:"col-12"},J8t={key:0,class:"q-mt-md q-mb-md text-negative bg-grey-1 q-pa-sm rounded-borders"},ZB=nt({__name:"NoteEditor",props:{note:{},isOpen:{type:Boolean},isEditing:{type:Boolean},validationError:{},hideModuleSelector:{type:Boolean}},emits:["submit","cancel"],setup(t,{emit:e}){$i();const{t:n}=Ut(),r=t,i=e,o=we({createdAt:0,updatedAt:0,id:"",title:"",content:"",tags:[],moduleId:null,typeId:null,hidden:!1}),a=we(null),s=we(!0),l=re({get:()=>o.value.content,set:d=>{o.value.content=d}});We(()=>r.note,d=>{d&&d.id!==a.value?(o.value={...d,moduleId:d.moduleId??null,typeId:d.typeId??null},a.value=d.id):!d&&a.value!==null&&(o.value={createdAt:0,updatedAt:0,id:"",title:"",content:"",tags:[],moduleId:null,typeId:null,hidden:!1},a.value=null)},{immediate:!0});const u=we(null),c=async()=>{if(!o.value.title){await Kd(n("editor.titleRequired"));return}u.value&&u.value.getMarkdown&&(o.value.content=u.value.getMarkdown()),i("submit",o.value)},f=()=>{i("cancel")};return(d,h)=>(ye(),He(Na,{isOpen:d.isOpen,title:d.isEditing?le(n)("common.editNote"):le(n)("common.createNote"),showSubmit:!0,showCancel:!0,showExpand:!0,submitLabel:le(n)("common.save"),cancelLabel:le(n)("common.cancel"),modalId:"note-editor",onSubmit:c,onCancel:f},{default:De(()=>[Ee("div",U8t,[Ee("div",j8t,[xe(ui,{modelValue:o.value.title,"onUpdate:modelValue":h[0]||(h[0]=p=>o.value.title=p),label:le(n)("editor.title"),required:"",outlined:"",type:"text"},null,8,["modelValue","label"])]),Ee("div",W8t,[Ee("div",G8t,[Ee("div",K8t,[Ee("h5",null,$e(le(n)("editor.content")),1)]),Ee("div",X8t,[xe(EF,{"left-label":"",modelValue:s.value,"onUpdate:modelValue":h[1]||(h[1]=p=>s.value=p)},{default:De(()=>[vt($e(le(n)("markdownEditor.visualMode")),1)]),_:1},8,["modelValue"])])]),Ee("div",Y8t,[Ee("div",Z8t,[xe(H8t,{ref_key:"markdownEditorRef",ref:u,modelValue:l.value,"onUpdate:modelValue":h[2]||(h[2]=p=>l.value=p),enableMentions:"",isWYSIWYGMode:s.value,placeholder:le(n)("editor.contentPlaceholder"),"current-entity-id":o.value.id,"current-entity-type":"note"},null,8,["modelValue","isWYSIWYGMode","placeholder","current-entity-id"])])])])]),d.validationError?(ye(),Le("div",J8t,$e(d.validationError),1)):ot("",!0)]),_:1},8,["isOpen","title","submitLabel","cancelLabel"]))}}),Q8t=nt({__name:"NotesView",setup(t){const e=_f(),n=Xs(),r=Rl();$i(),eit();const i=go(),o=ep(),{t:a}=Ut();We(()=>o.query.tag,m=>{e.setTagFilter(typeof m=="string"?m:null)},{immediate:!0}),kt(async()=>{await Promise.all([e.load(),r.load(),n.load()])});function s(m){return{note:m,onView:()=>i.push(`/notes/${m.id}`),onEdit:()=>void 0,onDelete:()=>c(m),moduleName:void 0}}function l(m){return{note:m,isOpen:!0}}function u(m){}async function c(m){return m.id&&await E1(a("common.confirmDelete",{title:m.title}))?(await e.remove(m.id),!0):!1}function f(m){m.id?e.update(m.id,m):e.create({...m,hidden:!1})}function d(m){i.push({path:"/notes",query:{tag:encodeURIComponent(m)}})}async function h(m){$t("NotesView handleCopy",m);const{id:g,createdAt:v,updatedAt:y,...b}=m;await e.create({...b,hidden:!1})}const p=rr("setRightDrawerContent");return kt(async()=>{p(null)}),On(()=>{p(null)}),(m,g)=>(ye(),He(uh,{items:le(e).filtered.filter(v=>!v.hidden),"card-component":H1e,"editor-component":ZB,"empty-message":le(a)("common.empty"),"create-title":le(a)("notes.create"),"card-props":s,"editor-props":l,onSubmit:f,onTagClick:d,onCopy:h},null,8,["items","empty-message","create-title"]))}}),ekt=cn({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:e}){const{proxy:{$q:n}}=Lt(),r=rr(sy,Hi);if(r===Hi)return console.error("QPage needs to be a deep child of QLayout"),Hi;if(rr(ooe,Hi)===Hi)return console.error("QPage needs to be child of QPageContainer"),Hi;const o=re(()=>{const s=(r.header.space===!0?r.header.size:0)+(r.footer.space===!0?r.footer.size:0);if(typeof t.styleFn=="function"){const l=r.isContainer.value===!0?r.containerHeight.value:n.screen.height;return t.styleFn(s,l)}return{minHeight:r.isContainer.value===!0?r.containerHeight.value-s+"px":n.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":n.screen.height-s+"px"}}),a=re(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>he("main",{class:a.value,style:o.value},Mr(e.default))}}),tkt={class:"q-pa-xl flex flex-center column items-center text-center",style:{"min-height":"60vh"}},nkt={style:{"max-width":"500px",width:"100%"}},rkt={class:"text-h1 text-primary text-bold q-mb-md"},ikt={class:"text-h4 q-mb-md"},okt={class:"text-subtitle1 text-grey-7 q-mb-xl"},akt={class:"row q-gutter-md q-mb-xl flex-center"},skt={class:"col-auto"},lkt={class:"col-auto"},ukt={class:"q-pa-md bg-grey-1 rounded-borders q-mt-md text-left"},ckt={class:"text-bold text-body1 q-mb-xs"},fkt={class:"q-pl-md text-grey-7"},dkt=nt({__name:"NotFoundView",setup(t){const e=go(),{t:n,tm:r}=Ut(),i=()=>{e.push("/")},o=()=>{e.back()},a=r("notFound.helpItems");return(s,l)=>(ye(),Le("div",tkt,[Ee("div",nkt,[Ee("div",rkt,$e(le(n)("notFound.errorCode")),1),Ee("h1",ikt,$e(le(n)("notFound.title")),1),Ee("p",okt,$e(le(n)("notFound.message")),1),Ee("div",akt,[Ee("div",skt,[xe(Ya,{onClick:i,variant:"primary"},{default:De(()=>[vt($e(le(n)("notFound.goHome")),1)]),_:1})]),Ee("div",lkt,[xe(Ya,{onClick:o,variant:"secondary"},{default:De(()=>[vt($e(le(n)("notFound.goBack")),1)]),_:1})])]),Ee("div",ukt,[Ee("p",ckt,$e(le(n)("notFound.helpTitle")),1),Ee("ul",fkt,[(ye(!0),Le(Tt,null,Gn(le(a),u=>(ye(),Le("li",{key:u},$e(u),1))),128))])])])]))}}),s5e=vr(dkt,[["__scopeId","data-v-d37e998d"]]),hkt={key:0,class:"loading-state"},pkt={class:"base-entity-view q-px-lg"},mkt={key:1,class:"entity-content"},Wy=nt({__name:"BaseEntityView",props:{entity:{},entityName:{},listRoute:{},onDelete:{},onEdit:{},isEditing:{type:Boolean,default:!1},title:{},subtitle:{default:""},loading:{type:Boolean,default:!1},notFound:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},unwrapContent:{type:Boolean,default:!1},headerShowEdit:{type:Boolean,default:!0},headerShowDelete:{type:Boolean,default:!0},headerButtons:{default:[]},sidePanelVisible:{type:Boolean}},setup(t){const e=t,n=go(),{t:r}=Ut(),i=()=>{e.onEdit&&e.onEdit()},o=async()=>{e.onDelete&&await e.onDelete()&&await n.push(e.listRoute)},a=rr("setTopMenuContent"),s=()=>a(e.hideHeader?null:{component:Sme,props:{buttons:e.headerButtons,showEdit:e.headerShowEdit,onEdit:i,showDelete:e.headerShowDelete,onDelete:o,title:e.title||"",subtitle:e.subtitle||""}});return kt(()=>s()),We(()=>[e.title,e.subtitle,e.hideHeader],()=>s()),On(()=>{a(null)}),(l,u)=>(ye(),He(goe,{view:"lHh Lpr lFf",class:"base-entity-container"},{default:De(()=>[l.loading?(ye(),Le("div",hkt,$e(le(r)("common.loading")),1)):l.notFound?(ye(),He(s5e,{key:1})):l.entity?(ye(),He(poe,{key:2,class:"base-entity-layout"},{default:De(()=>[xe(ekt,{class:"entity-main-column"},{default:De(()=>[Ee("div",pkt,[e.unwrapContent?Vr(l.$slots,"default",{key:0}):(ye(),Le("div",mkt,[Vr(l.$slots,"default")])),Vr(l.$slots,"editor")])]),_:3})]),_:3})):ot("",!0)]),_:3}))}});function l5e(t,e=25){return t.length>e?t.slice(0,e)+"":t}const gkt={class:"mentions-aside"},vkt={class:"mentions-title"},ykt={class:"mentions-group-title"},bkt={key:0},wkt={class:"mentions-list"},xkt={key:1,class:"mentions-empty"},_u=nt({__name:"Mentions",props:{title:{},entities:{}},setup(t){const e=t,n=_f(),r=$i(),i=Xs(),o=Rl(),a=Cf(),{t:s}=Ut();kt(async()=>{await n.load(),await r.load(),await i.load(),await o.load(),await a.load()});function l(d){switch(d.kind){case"monster":return`/monsters/${d.id}`;case"party":return`/parties/${d.id}`;case"encounter":return`/encounters/${d.id}`;case"module":return`/modules/${d.id}`;case"note":return`/notes/${d.id}`;default:return"#"}}function u(d){return d.kind.charAt(0).toUpperCase()+d.kind.slice(1)}function c(d){let h="";switch(d.kind){case"note":{const p=n.getById(d.id);h=p&&p.title||d.id;break}case"module":{const p=r.items.find(m=>m.id===d.id);h=p?p.name||p.id:d.id;break}case"party":{const p=i.items.find(m=>m.id===d.id);h=p?p.name||p.id:d.id;break}case"monster":{const p=o.items.find(m=>m.id===d.id);h=p?p.name||p.id:d.id;break}case"encounter":{const p=a.items.find(m=>m.id===d.id);h=p?p.name||p.id:d.id;break}default:h=d.id}return l5e(h)}const f=re(()=>{const d={};for(const h of e.entities)d[h.kind]||(d[h.kind]=[]),d[h.kind].push(h);return d});return(d,h)=>{const p=h1("router-link");return ye(),Le("div",gkt,[Ee("h5",vkt,$e(le(s)(d.title)),1),d.entities.length?(ye(!0),Le(Tt,{key:0},Gn(f.value,(m,g)=>(ye(),Le("div",{key:g,class:"mentions-group"},[Ee("h6",ykt,[vt($e(u({kind:g})),1),m.length>1?(ye(),Le("span",bkt,"s")):ot("",!0)]),Ee("ul",wkt,[(ye(!0),Le(Tt,null,Gn(m,v=>(ye(),Le("li",{key:v.kind+":"+v.id},[xe(p,{to:l(v)},{default:De(()=>[vt($e(c(v)),1)]),_:2},1032,["to"])]))),128))])]))),128)):(ye(),Le("div",xkt,$e(le(s)("mentions.empty")),1))])}}}),Skt={class:"side-panel-content q-pa-md"},_kt={key:0,class:"tags-section"},Ckt={class:"tags"},kkt=nt({__name:"NoteViewSidebar",props:{note:{}},setup(t){const{t:e}=Ut(),n=pp(),r=t,i=re(()=>r.note.value?n.getLinks({kind:"note",id:r.note.value.id}):[]),o=re(()=>r.note.value?n.getBacklinks({kind:"note",id:r.note.value.id}):[]);return kt(()=>n.load()),(a,s)=>{const l=h1("router-link");return ye(),Le("div",Skt,[r.note.tags?.length?(ye(),Le("div",_kt,[Ee("h5",null,$e(le(e)("tags.title")),1),Ee("div",Ckt,[(ye(!0),Le(Tt,null,Gn(r.note.tags,u=>(ye(),He(l,{key:u,class:"tag",to:{path:"/notes",query:{tag:encodeURIComponent(u)}}},{default:De(()=>[vt("#"+$e(u),1)]),_:2},1032,["to"]))),128))]),xe(sf)])):ot("",!0),xe(_u,{title:le(e)("common.mentions"),entities:i.value},null,8,["title","entities"]),xe(sf),xe(_u,{title:le(e)("common.mentionedIn"),entities:o.value},null,8,["title","entities"])])}}}),Ekt=nt({__name:"NoteView",setup(t){const e=ep(),n=go(),r=_f(),i=$i(),o=pp(),a=Xs(),s=Rl(),l=Cf(),u=we(!1),c=re(()=>r.isLoaded),f=we(null),d=re(()=>c.value&&!f.value),h=we(null),p=we("");function m(){if(!r.isLoaded)return;const _=r.getById(e.params.id);_?f.value=_:n.push("/notes")}We([()=>r.items,()=>r.isLoaded],m,{immediate:!0}),We(f,_=>{_&&(p.value=_.content)},{immediate:!0});function g(_){p.value=_,f.value&&r.update(f.value.id,{content:_})}const v=()=>{u.value=!0},y=async()=>{f.value&&(await r.remove(f.value.id),await n.push("/notes"))},b=()=>{u.value=!1},w=async _=>{const k=CD(_.content),C=[];for(const E of k){let M=!1;switch(E.kind){case"note":M=!!r.getById(E.id);break;case"module":M=!!i.getById(E.id);break;case"party":M=!!a.getById(E.id);break;case"monster":M=!!s.getById(E.id);break;case"encounter":M=!!l.getById(E.id);break;default:M=!0}M||C.push(`${E.kind}:${E.id}`)}if(C.length>0){h.value=`Cannot save: the following mentioned entities do not exist: ${C.join(", ")}`;return}h.value=null,f.value&&(await r.update(f.value.id,_),u.value=!1,m())},x=re(()=>f.value?.title||""),S=rr("setRightDrawerContent");return kt(async()=>{await r.load(),await i.load(),await o.load(),await a.load(),await s.load(),await l.load(),S({component:kkt,props:{note:f}})}),On(()=>{S(null)}),(_,k)=>(ye(),He(Wy,{entity:f.value,"entity-name":"notes.title","list-route":"/notes","on-delete":y,"on-edit":v,"is-editing":u.value,title:x.value,"not-found":d.value},{editor:De(()=>[u.value?(ye(),He(ZB,{key:0,note:f.value,"is-open":u.value,"validation-error":h.value,onSubmit:w,onCancel:b},null,8,["note","is-open","validation-error"])):ot("",!0)]),default:De(()=>[xe(Lk,{taskCheckboxEnabled:!0,content:p.value,"onUpdate:content":g},null,8,["content"])]),_:1},8,["entity","is-editing","title","not-found"]))}}),Akt=vr(Ekt,[["__scopeId","data-v-acaeb7d7"]]),Tkt={key:0,class:"description"},Mkt={class:"party-meta"},Dkt={class:"character-count"},Nkt={key:0,class:"modules"},Okt=nt({__name:"PartyCard",props:{party:{}},emits:["edit","delete","view","copy"],setup(t,{emit:e}){const n=t,r=e,i=$i();kt(async()=>{await i.load()});function o(){r("view",n.party)}function a(){r("edit",n.party)}function s(){r("delete",n.party)}function l(){r("copy",n.party)}const u=re(()=>n.party.moduleIds.map(c=>i.items.find(f=>f.id===c)).filter(Boolean));return(c,f)=>(ye(),He(A1,{showView:"",showEdit:"",showDelete:"",onView:o,onEdit:a,onDelete:s,onCopy:l,title:c.party.name},{default:De(()=>[c.party.description?(ye(),Le("p",Tkt,$e(c.party.description),1)):ot("",!0),Ee("div",Mkt,[Ee("span",Dkt,$e((c.party.characters||[]).length)+" characters",1),u.value.length>0?(ye(),Le("span",Nkt,$e(u.value.map(d=>d.name).join(", ")),1)):ot("",!0)])]),_:1},8,["title"]))}}),u5e=vr(Okt,[["__scopeId","data-v-d0f9a225"]]),JB=nt({__name:"ModuleMultipleSelector",props:{modelValue:{default:()=>[]},placeholder:{default:"common.noModules"}},emits:["update:modelValue"],setup(t,{emit:e}){const{t:n}=Ut(),r=$i();kt(async()=>{await r.load()});const i=t,o=e,a=re(()=>[...r.items.map(s=>({id:s.id,name:s.name,value:s.id}))]);return(s,l)=>(ye(),He(R3,{"model-value":i.modelValue,"onUpdate:modelValue":l[0]||(l[0]=u=>o("update:modelValue",u)),options:a.value.map(u=>({label:u.name,value:u.value})),"emit-value":"","map-options":"",dense:"",outlined:"",label:le(n)(i.placeholder),multiple:"","use-chips":""},null,8,["model-value","options","label"]))}}),Ikt={class:"form-section"},Pkt={class:"form-grid"},Rkt={class:"form-group"},Fkt={class:"form-group"},Lkt={class:"form-group"},$kt={class:"form-section"},Bkt={class:"form-group"},c5e=nt({__name:"PartyEditor",props:{party:{},isOpen:{type:Boolean}},emits:["submit","cancel"],setup(t,{emit:e}){const{t:n}=Ut();$i();const r=t,i=e,o=we({name:"",description:"",notes:"",characters:[],moduleIds:[]}),a=re({get(){return o.value.moduleIds??[]},set(u){o.value.moduleIds=u}});We(()=>r.party,u=>{if(u){const{id:c,createdAt:f,updatedAt:d,...h}=u;o.value={...h}}else o.value={name:"",description:"",notes:"",characters:[],moduleIds:[]}},{immediate:!0});const s=async()=>{if(!o.value.name){await Kd(n("common.nameRequired"));return}o.value.moduleIds=(o.value.moduleIds||[]).map(u=>typeof u=="string"?u:u?.id||"").filter(Boolean),i("submit",o.value)},l=()=>{i("cancel")};return(u,c)=>(ye(),He(Na,{isOpen:u.isOpen,title:u.party?le(n)("parties.edit"):le(n)("parties.create"),showSubmit:!0,showCancel:!0,submitLabel:le(n)("common.save"),cancelLabel:le(n)("common.cancel"),modalId:"party-editor-modal",onSubmit:s,onCancel:l},{default:De(()=>[Ee("div",Ikt,[Ee("div",Pkt,[Ee("div",Rkt,[xe(ui,{label:le(n)("parties.fields.name"),id:"party-name",modelValue:o.value.name,"onUpdate:modelValue":c[0]||(c[0]=f=>o.value.name=f),type:"text",required:"",outlined:""},null,8,["label","modelValue"])]),Ee("div",Fkt,[xe(JB,{id:"party-modules",modelValue:a.value,"onUpdate:modelValue":c[1]||(c[1]=f=>a.value=f),placeholder:"parties.fields.modules"},null,8,["modelValue"])]),Ee("div",Lkt,[xe(ui,{label:le(n)("parties.fields.description"),id:"party-description",modelValue:o.value.description,"onUpdate:modelValue":c[2]||(c[2]=f=>o.value.description=f),type:"textarea",rows:5,autogrow:"",outlined:""},null,8,["label","modelValue"])])])]),Ee("div",$kt,[Ee("div",Bkt,[xe(ui,{label:le(n)("parties.fields.notes"),id:"party-description",modelValue:o.value.notes,"onUpdate:modelValue":c[3]||(c[3]=f=>o.value.notes=f),type:"textarea",rows:5,autogrow:"",outlined:""},null,8,["label","modelValue"])])])]),_:1},8,["isOpen","title","submitLabel","cancelLabel"]))}}),zkt=nt({__name:"PartiesView",setup(t){const e=go(),n=Xs(),{t:r}=Ut();kt(async()=>{await n.load()});function i(c){return{party:c,onView:()=>e.push(`/parties/${c.id}`),onEdit:()=>void 0,onDelete:()=>s(c)}}function o(c){return{party:c,isOpen:!0}}function a(c){}async function s(c){return c.id&&await E1(r("common.confirmDelete",{title:c.name}))?(await n.remove(c.id),!0):!1}function l(c){c.id?n.update(c.id,c):n.create(c)}async function u(c){const{id:f,createdAt:d,updatedAt:h,...p}=c;await n.create(p)}return(c,f)=>(ye(),He(uh,{items:le(n).filtered,"card-component":u5e,"editor-component":c5e,"empty-message":le(r)("common.emptyParties"),"create-title":le(r)("parties.create"),"card-props":i,"editor-props":o,onSubmit:l,onCopy:u},null,8,["items","empty-message","create-title"]))}}),X4=nt({__name:"ToggleSwitch",props:{modelValue:{type:Boolean},disabled:{type:Boolean,default:!1},label:{default:""}},emits:["update:modelValue"],setup(t,{emit:e}){const{t:n}=Ut(),r=t,i=e;return(o,a)=>(ye(),He(EF,{modelValue:r.modelValue,"onUpdate:modelValue":[a[0]||(a[0]=s=>r.modelValue=s),a[1]||(a[1]=s=>i("update:modelValue",s))],disable:r.disabled,label:le(n)(r.label)},null,8,["modelValue","disable","label"]))}}),qkt={class:"side-panel-content q-pa-md"},Vkt=nt({__name:"PartyViewSidebar",props:{party:{}},setup(t){const e=pp(),{t:n}=Ut(),r=t,i=re(()=>r.party.value?e.getLinks({kind:"party",id:r.party.value.id}):[]),o=re(()=>r.party.value?e.getBacklinks({kind:"party",id:r.party.value.id}):[]);return kt(()=>e.load()),(a,s)=>(ye(),Le("div",qkt,[xe(_u,{title:le(n)("common.mentions"),entities:i.value},null,8,["title","entities"]),xe(sf),xe(_u,{title:le(n)("common.mentionedIn"),entities:o.value},null,8,["title","entities"])]))}}),Hkt={key:0},Ukt={class:"q-pa-md q-gutter-md"},jkt={class:"row items-center q-mb-md"},Wkt={class:"col"},Gkt={class:"col-auto"},Kkt={key:0,class:"q-pa-md text-grey text-center q-mt-xl"},Xkt={key:1,class:"row q-gutter-md"},Ykt={class:"col-12"},Zkt={class:"q-table"},Jkt=["onClick"],Qkt={key:0,class:"q-pa-md text-grey text-center q-mt-xl"},e7t={key:1,class:"row q-gutter-md"},t7t={class:"col-12"},n7t={class:"q-table"},r7t=nt({__name:"PartyView",setup(t){const e=ep();go();const n=Xs(),r=$i(),i=ky(),{t:o}=Ut(),a=we(!1),s=we(!1),l=re(()=>n.isLoaded),u=re(()=>n.getById(e.params.id)),c=re(()=>!l.value),f=re(()=>l.value&&!u.value),d=re(()=>u.value?.moduleIds?.map(_=>r.getById(_)).filter(Boolean)||[]),h=re(()=>i.items),p=re(()=>{const _=u.value;return _?h.value.filter(k=>_.characters.includes(k.id)):[]}),m=re(()=>{const _=u.value;return _?h.value.reduce((k,C)=>(k[C.id]=_.characters.includes(C.id),k),{}):{}});async function g(){u.value&&await confirm(o("common.confirmDelete",{title:u.value.name}))&&await n.remove(u.value.id)}const v=async _=>{u.value&&(await n.update(u.value.id,_),a.value=!1)},y=()=>{a.value=!1},b=(_,k)=>{if(!u.value)return;let C=[...u.value.characters];k?C.includes(_.id)||C.push(_.id):C=C.filter(E=>E!==_.id),n.update(u.value.id,{characters:C})},w=re(()=>u.value?.name||""),x=re(()=>{if(!u.value)return"";const _=[];return d.value.length>0&&_.push(`Modules: ${d.value.map(k=>k?.name).filter(Boolean).join(", ")}`),_.push(`${p.value.length} characters`),_.join("  ")}),S=rr("setRightDrawerContent");return kt(async()=>{await Promise.all([n.load(),i.load(),r.load()]),S({component:Vkt,props:{party:u}})}),On(()=>{S(null)}),(_,k)=>(ye(),Le("div",null,[xe(Wy,{entity:u.value,"entity-name":"parties.title","list-route":"/parties","on-delete":g,"on-edit":()=>a.value=!0,"is-editing":a.value,title:w.value,subtitle:x.value,"not-found":f.value,loading:c.value},{editor:De(()=>[xe(c5e,{party:u.value,isOpen:a.value,onSubmit:v,onCancel:y},null,8,["party","isOpen"])]),default:De(()=>[u.value?(ye(),Le("div",Hkt,[Ee("div",Ukt,[Ee("div",jkt,[Ee("div",Wkt,[Ee("h2",null,$e(le(o)("partyView.title")),1)]),Ee("div",Gkt,[xe(Ct,{flat:"",onClick:k[0]||(k[0]=C=>s.value=!0),class:"q-ml-md"},{default:De(()=>[vt($e(le(o)("parties.linkCharacters")),1)]),_:1})])]),p.value.length===0?(ye(),Le("div",Kkt,[Ee("p",null,$e(le(o)("partyView.noCharacters")),1)])):(ye(),Le("div",Xkt,[Ee("div",Ykt,[Ee("table",Zkt,[Ee("thead",null,[Ee("tr",null,[Ee("th",null,$e(le(o)("partyView.name")),1),Ee("th",null,$e(le(o)("partyView.actions")),1)])]),Ee("tbody",null,[(ye(!0),Le(Tt,null,Gn(p.value,C=>(ye(),Le("tr",{key:C.id},[Ee("td",null,$e(C.name),1),Ee("td",null,[Ee("button",{class:"q-btn q-btn--flat text-negative",onClick:E=>b(C,!1)},$e(le(o)("partyView.unlink")),9,Jkt)])]))),128))])])])]))])])):ot("",!0)]),_:1},8,["entity","on-edit","is-editing","title","subtitle","not-found","loading"]),xe(Na,{"is-open":s.value,title:le(o)("parties.linkCharacters"),"show-cancel":!0,"show-submit":!1,"cancel-label":le(o)("common.close"),"modal-id":"link-characters-modal",onCancel:k[1]||(k[1]=C=>s.value=!1)},{default:De(()=>[h.value.length===0?(ye(),Le("div",Qkt,[Ee("p",null,$e(le(o)("partyView.noAvailable")),1)])):(ye(),Le("div",e7t,[Ee("div",t7t,[Ee("table",n7t,[Ee("thead",null,[Ee("tr",null,[Ee("th",null,$e(le(o)("partyView.name")),1),Ee("th",null,$e(le(o)("partyView.linked")),1)])]),Ee("tbody",null,[(ye(!0),Le(Tt,null,Gn(h.value,C=>(ye(),Le("tr",{key:C.id},[Ee("td",null,$e(C.name),1),Ee("td",null,[xe(X4,{"model-value":m.value[C.id],"onUpdate:modelValue":E=>b(C,E)},null,8,["model-value","onUpdate:modelValue"])])]))),128))])])])]))]),_:1},8,["is-open","title","cancel-label"])]))}}),i7t=vr(r7t,[["__scopeId","data-v-dd46fd71"]]),f5e=nt({__name:"MonsterCard",props:{monster:{},showActions:{type:Boolean}},emits:["view","edit","delete","add-to-encounter","copy"],setup(t,{emit:e}){const n=t,r=e,i=()=>r("view",n.monster),o=()=>r("edit",n.monster),a=()=>r("delete",n.monster.id),s=()=>r("copy",n.monster);return(l,u)=>(ye(),He(A1,{"show-view":l.showActions,"show-edit":l.showActions,"show-delete":l.showActions,onView:i,onEdit:o,onDelete:a,onCopy:s,title:l.monster.name},null,8,["show-view","show-edit","show-delete","title"]))}}),o7t={class:"form-section"},a7t={class:"form-grid"},s7t={class:"form-group"},l7t={class:"form-group"},u7t={class:"form-section"},c7t={class:"form-grid"},f7t={class:"form-group"},d5e=nt({__name:"MonsterEditor",props:{monster:{},isOpen:{type:Boolean}},emits:["submit","cancel"],setup(t,{emit:e}){const{t:n}=Ut();$i();const r=t,i=e,o=()=>({id:"",name:"",notes:"",moduleIds:[],createdAt:Date.now(),updatedAt:Date.now()}),a=we(o()),s=re(()=>!!r.monster?.id);We(()=>r.monster,d=>{d?a.value={...d}:a.value=o()},{immediate:!0,deep:!0}),We(()=>r.isOpen,d=>{d&&!r.monster&&(a.value=o())});const l=()=>{a.value=o()},u=async()=>{if(!a.value.name){await Kd(n("common.nameRequired"));return}i("submit",{...a.value}),c()},c=()=>{l(),i("cancel")},f=re({get(){return a.value.moduleIds??[]},set(d){a.value.moduleIds=d}});return(d,h)=>(ye(),He(Na,{isOpen:d.isOpen,title:s.value?le(n)("monsters.edit"):le(n)("monsters.create"),showSubmit:!0,showCancel:!0,submitLabel:le(n)("common.save"),cancelLabel:le(n)("common.cancel"),modalId:"monster-editor-modal",onSubmit:u,onCancel:c},{default:De(()=>[Ee("div",o7t,[Ee("div",a7t,[Ee("div",s7t,[xe(ui,{label:le(n)("monsters.fields.name"),id:"monster-name",modelValue:a.value.name,"onUpdate:modelValue":h[0]||(h[0]=p=>a.value.name=p),type:"text",required:"",outlined:""},null,8,["label","modelValue"])]),Ee("div",l7t,[xe(JB,{id:"monster-modules",modelValue:f.value,"onUpdate:modelValue":h[1]||(h[1]=p=>f.value=p),placeholder:le(n)("common.noModules")},null,8,["modelValue","placeholder"])])])]),Ee("div",u7t,[Ee("div",c7t,[Ee("div",f7t,[xe(ui,{label:le(n)("common.notes"),id:"monster-notes",modelValue:a.value.notes,"onUpdate:modelValue":h[2]||(h[2]=p=>a.value.notes=p),type:"textarea",rows:5,autogrow:"",outlined:""},null,8,["label","modelValue"])])])])]),_:1},8,["isOpen","title","submitLabel","cancelLabel"]))}}),d7t=nt({__name:"MonstersView",setup(t){go();const e=Rl(),{t:n}=Ut();kt(async()=>{await e.load()});const r=s=>({monster:s,showView:!0,showEdit:!0,showDelete:!0}),i=s=>({monster:s,isEditing:!!s});async function o(s){s.id?await e.update(s.id,s):await e.create(s)}function a(s){}return(s,l)=>(ye(),He(uh,{items:le(e).filtered,"card-component":f5e,"editor-component":d5e,"empty-message":le(n)("common.empty"),"create-title":le(n)("monsters.create"),"card-props":r,"editor-props":i,onSubmit:o,onCopy:a},null,8,["items","empty-message","create-title"]))}}),h7t={class:"side-panel-content q-pa-md"},p7t=nt({__name:"MonsterViewSidebar",props:{monster:{}},setup(t){const e=pp(),{t:n}=Ut(),r=t,i=re(()=>r.monster.value?e.getLinks({kind:"monster",id:r.monster.value.id}):[]),o=re(()=>r.monster.value?e.getBacklinks({kind:"monster",id:r.monster.value.id}):[]);return kt(()=>e.load()),(a,s)=>(ye(),Le("div",h7t,[xe(_u,{title:le(n)("common.mentions"),entities:i.value},null,8,["title","entities"]),xe(sf),xe(_u,{title:le(n)("common.mentionedIn"),entities:o.value},null,8,["title","entities"])]))}}),m7t={key:0,class:"q-pa-md q-gutter-md"},g7t={key:0,class:"q-mb-md"},v7t={class:"q-pa-sm bg-grey-1 rounded-borders"},y7t=nt({__name:"MonsterView",setup(t){const e=ep(),n=go(),r=Rl(),i=we(!1),{t:o}=Ut(),a=we(null),s=re(()=>!r.isLoaded),l=re(()=>r.isLoaded&&!a.value);function u(){if(!r.isLoaded)return;const g=r.getById(e.params.id);g?a.value=g:n.push("/monsters")}We([()=>r.items,()=>r.isLoaded],u,{immediate:!0});const c=()=>{i.value=!0},f=async g=>{a.value&&(await r.update(a.value.id,g),i.value=!1,u())},d=()=>{i.value=!1},h=async()=>{a.value&&(await r.remove(a.value.id),await n.push("/monsters"))},p=re(()=>a.value?.name||""),m=rr("setRightDrawerContent");return kt(async()=>{await r.load(),m({component:p7t,props:{monster:a}})}),On(()=>{m(null)}),(g,v)=>(ye(),He(Wy,{entity:a.value,"entity-name":"t('monsters.title')","list-route":"/monsters","on-delete":h,"on-edit":c,"is-editing":i.value,title:p.value,"not-found":l.value,loading:s.value},{editor:De(()=>[xe(d5e,{isOpen:i.value,monster:a.value,onSubmit:f,onCancel:d},null,8,["isOpen","monster"])]),default:De(()=>[a.value?(ye(),Le("div",m7t,[a.value.notes?(ye(),Le("div",g7t,[Ee("h2",null,$e(le(o)("notes.title")),1),Ee("div",v7t,[Ee("p",null,$e(a.value.notes),1)])])):ot("",!0)])):ot("",!0)]),_:1},8,["entity","is-editing","title","not-found","loading"]))}}),b7t=nt({__name:"CharacterCard",props:{character:{}},emits:["view","edit","delete","copy"],setup(t,{emit:e}){const n=t,r=e;function i(){r("view",n.character)}function o(){r("edit",n.character)}function a(){r("delete",n.character)}function s(){r("copy",n.character)}return(l,u)=>(ye(),He(A1,{showView:"",showEdit:"",showDelete:"",onView:i,onEdit:o,onDelete:a,onCopy:s,title:l.character.name},null,8,["title"]))}}),w7t={class:"form-section"},x7t={class:"form-grid"},S7t={class:"form-group"},_7t={class:"form-section"},C7t={class:"form-grid"},k7t={class:"form-group"},h5e=nt({__name:"CharacterEditor",props:{character:{default:null},isOpen:{type:Boolean},partyId:{}},emits:["submit","cancel"],setup(t,{emit:e}){const n=t,r=e,{t:i}=Ut(),o=()=>({id:"",name:"",notes:"",createdAt:Date.now(),updatedAt:Date.now()}),a=we(n.character?{...n.character}:o()),s=re(()=>!!(n.character&&n.character.id));We(()=>n.character,f=>{a.value=f?{...f}:o()}),We(()=>n.isOpen,f=>{f||l()});function l(){a.value=o()}async function u(){if(!a.value.name){await Kd(i("characterEditor.nameRequired"));return}r("submit",{...a.value}),l()}function c(){l(),r("cancel")}return(f,d)=>(ye(),He(Na,{isOpen:f.isOpen,title:s.value?le(i)("characters.edit"):le(i)("characters.create"),showSubmit:!0,showCancel:!0,submitLabel:le(i)("common.save"),cancelLabel:le(i)("common.cancel"),modalId:"character-editor",onSubmit:u,onCancel:c},{default:De(()=>[Ee("div",w7t,[Ee("div",x7t,[Ee("div",S7t,[xe(ui,{label:le(i)("characters.fields.name"),id:"encounter-name",modelValue:a.value.name,"onUpdate:modelValue":d[0]||(d[0]=h=>a.value.name=h),type:"text",required:"",outlined:""},null,8,["label","modelValue"])])])]),Ee("div",_7t,[Ee("div",C7t,[Ee("div",k7t,[xe(ui,{label:le(i)("common.notes"),id:"character-description",modelValue:a.value.notes,"onUpdate:modelValue":d[1]||(d[1]=h=>a.value.notes=h),type:"textarea",rows:5,autogrow:"",outlined:""},null,8,["label","modelValue"])])])])]),_:1},8,["isOpen","title","submitLabel","cancelLabel"]))}}),E7t=nt({__name:"CharactersView",setup(t){const e=ky(),n=Xs(),r=$i(),i=go(),{t:o}=Ut();kt(async()=>{await Promise.all([e.load(),n.load(),r.load()])});function a(d){return{character:d,onView:()=>i.push(`/characters/${d.id}`),onEdit:()=>void 0,onDelete:()=>u(d)}}function s(d){return{character:d,isOpen:!0}}function l(d){}async function u(d){return d.id&&await E1(o("common.",{title:d.name}))?(await e.remove(d.id),!0):!1}function c(d){d.id?e.update(d.id,d):e.create(d)}async function f(d){const{id:h,createdAt:p,updatedAt:m,...g}=d;await e.create(g)}return(d,h)=>(ye(),He(uh,{items:le(e).filtered,"card-component":b7t,"editor-component":h5e,"empty-message":le(o)("common.emptyCharacters"),"create-title":le(o)("characters.create"),"card-props":a,"editor-props":s,onSubmit:c,onCopy:f},null,8,["items","empty-message","create-title"]))}}),A7t={key:0,class:"q-pa-md q-gutter-md"},T7t={key:0,class:"q-mb-md"},M7t={class:"q-pa-sm bg-grey-1 rounded-borders"},D7t=nt({__name:"CharacterView",setup(t){const e=go(),n=ep(),r=ky(),i=pp(),{t:o}=Ut(),a=we(!1),s=re(()=>r.isLoaded),l=re(()=>r.getById(n.params.id)),u=re(()=>!s.value),c=re(()=>s.value&&!l.value);function f(){a.value=!0}async function d(){l.value&&(await r.remove(l.value.id),await e.push("/characters"))}function h(y){l.value&&(r.update(l.value.id,y),r.getById(l.value.id)),a.value=!1}function p(){a.value=!1}const m=re(()=>l.value?.name||""),g=re(()=>l.value?i.getLinks({kind:"character",id:l.value.id}):[]),v=re(()=>l.value?i.getBacklinks({kind:"character",id:l.value.id}):[]);return kt(async()=>{await r.load(),await i.load()}),(y,b)=>(ye(),He(Wy,{entity:l.value,"entity-name":"t('characters.title')","list-route":"/characters","on-delete":d,"on-edit":f,"is-editing":a.value,title:m.value,"not-found":c.value,loading:u.value},{editor:De(()=>[xe(h5e,{isOpen:a.value,character:l.value,onSubmit:h,onCancel:p},null,8,["isOpen","character"])]),sidepanel:De(()=>[xe(_u,{title:le(o)("common.mentions"),entities:g.value},null,8,["title","entities"]),xe(_u,{title:le(o)("common.mentionedIn"),entities:v.value},null,8,["title","entities"])]),default:De(()=>[l.value?(ye(),Le("div",A7t,[l.value.notes?(ye(),Le("div",T7t,[Ee("h2",null,$e(le(o)("notes.title")),1),Ee("div",M7t,[Ee("p",null,$e(l.value.notes),1)])])):ot("",!0)])):ot("",!0)]),_:1},8,["entity","is-editing","title","not-found","loading"]))}}),N7t=vr(D7t,[["__scopeId","data-v-80e0e187"]]),O7t={class:"encounter-meta"},I7t={class:"meta-item"},P7t={class:"label"},R7t={class:"value"},F7t={key:0,class:"description"},L7t={class:"monsters-summary"},$7t={class:"label"},B7t={class:"value"},p5e=nt({__name:"EncounterCard",props:{encounter:{}},emits:["view","edit","delete","run-combat","copy"],setup(t,{emit:e}){const n=t,r=e,i=$i(),{t:o}=Ut(),a=re(()=>{if(!n.encounter.moduleId)return"No Module";const h=i.items.find(p=>p.id===n.encounter.moduleId);return h?h.name:"Unknown Module"}),s=re(()=>{const h=n.encounter.monsters||{};let p=0,m=0;return typeof h=="object"&&h!==null&&(p=Object.keys(h).length,m=Object.values(h).reduce((v,y)=>v+(typeof y=="number"?y:0),0)),`${p} (${m})`});kt(async()=>{await i.load()});function l(){r("view",n.encounter)}function u(){r("edit",n.encounter)}function c(){r("delete",n.encounter)}function f(){r("run-combat",n.encounter)}function d(){r("copy",n.encounter)}return(h,p)=>(ye(),He(A1,{showEdit:"",showDelete:"",showView:"",onView:l,onEdit:u,onDelete:c,onCopy:d,title:h.encounter.name},{actions:De(()=>[xe(Ct,{flat:"",color:"warning",onClick:f,title:le(o)("common.runCombat")},{default:De(()=>[xe(le(O3))]),_:1},8,["title"])]),default:De(()=>[Ee("div",O7t,[Ee("span",I7t,[Ee("span",P7t,$e(le(o)("encounterCard.module")),1),Ee("span",R7t,$e(a.value),1)])]),h.encounter.description?(ye(),Le("p",F7t,$e(h.encounter.description),1)):ot("",!0),Ee("div",L7t,[Ee("span",$7t,$e(le(o)("encounterCard.monsters")),1),Ee("span",B7t,$e(s.value),1)])]),_:1},8,["title"]))}}),z7t=nt({__name:"ModuleSelector",props:{modelValue:{default:null},placeholder:{default:"common.noModule"},allowAnyModule:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const{t:n}=Ut(),r=$i();kt(async()=>{await r.load()});const i=t,o=e,a=re(()=>{const s=[];return i.allowAnyModule&&s.push({id:"any",name:n("common.anyModule"),value:"any"}),s.push({id:"none",name:n("common.noModule"),value:"none"}),s.push(...r.items.map(l=>({id:l.id,name:l.name,value:l.id}))),s});return(s,l)=>(ye(),He(R3,{"model-value":i.modelValue,"onUpdate:modelValue":l[0]||(l[0]=u=>o("update:modelValue",u)),options:a.value.map(u=>({label:u.name,value:u.value})),"emit-value":"","map-options":"",outlined:"",label:le(n)(i.placeholder)},null,8,["model-value","options","label"]))}}),q7t={class:"form-section"},V7t={class:"form-grid"},H7t={class:"form-group"},U7t={class:"form-group"},j7t={class:"form-group"},W7t={class:"form-section"},G7t={class:"form-group"},m5e=nt({__name:"EncounterEditor",props:{encounter:{},isOpen:{type:Boolean}},emits:["submit","cancel"],setup(t,{expose:e,emit:n}){const r=t,i=n,o=we({name:"",description:"",monsters:{},moduleId:"",notes:""}),a=re(()=>!!r.encounter?.id),{t:s}=Ut();We(()=>r.encounter,f=>{if(f){const{id:d,createdAt:h,updatedAt:p,...m}=f;o.value=m}else o.value={name:"",description:"",monsters:{},moduleId:"",notes:""}},{immediate:!0});const l=()=>{o.value={name:"",description:"",monsters:{},moduleId:"",notes:""}},u=async()=>{if(!o.value.name){await Kd(s("common.nameRequired"));return}if(!o.value.moduleId){await Kd(s("common.moduleRequired"));return}i("submit",o.value),c()},c=()=>{l(),i("cancel")};return e({openEditor:f=>{if(f){const{id:d,createdAt:h,updatedAt:p,...m}=f;o.value=m}else l()}}),(f,d)=>(ye(),He(Na,{isOpen:f.isOpen,title:a.value?le(s)("encounters.edit"):le(s)("encounters.create"),showSubmit:!0,showCancel:!0,submitLabel:le(s)("common.save"),cancelLabel:le(s)("common.cancel"),modalId:"encounter-editor-modal",onSubmit:u,onCancel:c},{default:De(()=>[Ee("div",q7t,[Ee("div",V7t,[Ee("div",H7t,[xe(ui,{id:"encounter-name",label:le(s)("encounters.fields.name"),modelValue:o.value.name,"onUpdate:modelValue":d[0]||(d[0]=h=>o.value.name=h),type:"text",required:"",outlined:""},null,8,["label","modelValue"])]),Ee("div",U7t,[xe(z7t,{id:"encounter-module",modelValue:o.value.moduleId,"onUpdate:modelValue":d[1]||(d[1]=h=>o.value.moduleId=h),placeholder:"encounters.fields.module",allowAnyModule:!1,required:""},null,8,["modelValue"])]),Ee("div",j7t,[xe(ui,{label:le(s)("encounters.fields.description"),id:"encounter-description",modelValue:o.value.description,"onUpdate:modelValue":d[2]||(d[2]=h=>o.value.description=h),type:"textarea",rows:5,autogrow:"",outlined:""},null,8,["label","modelValue"])])])]),Ee("div",W7t,[Ee("div",G7t,[xe(ui,{label:le(s)("editor.notes"),id:"encounter-description",modelValue:o.value.notes,"onUpdate:modelValue":d[3]||(d[3]=h=>o.value.notes=h),type:"textarea",rows:5,autogrow:"",outlined:""},null,8,["label","modelValue"])])])]),_:1},8,["isOpen","title","submitLabel","cancelLabel"]))}}),K7t="http://json-schema.org/draft-07/schema#",X7t="Combat",Y7t="object",Z7t=["id","encounterId","partyId","status","currentRound","currentTurn","combatants","createdAt","updatedAt"],J7t={id:{type:"string",description:"Unique identifier for the combat"},encounterId:{type:"string",description:"ID of the encounter this combat is based on"},partyId:{type:"string",description:"ID of the party involved in this combat"},status:{type:"string",enum:["preparing","active","completed"],description:"Current status of the combat"},currentRound:{type:"number",minimum:0,description:"Current round number"},currentTurn:{type:"number",minimum:0,description:"Current turn number"},combatants:{type:"array",items:{type:"object",required:["id","type","initiative"],properties:{id:{type:"string"},type:{type:"string"},referenceId:{type:"string"},notes:{type:"string"},initiative:{type:"number"}}},description:"Array of combatants in this combat"},notes:{type:"string",description:"Additional notes about the combat"},createdAt:{type:"number",description:"Timestamp when the combat was created"},updatedAt:{type:"number",description:"Timestamp when the combat was last updated"}},Q7t={$schema:K7t,title:X7t,type:Y7t,required:Z7t,properties:J7t},QB=Ks("combats",()=>{const t=Pl({storeName:"combats",validationSchema:Q7t}),e=we(""),n=re(()=>{let p=t.items.value;if(e.value){const m=e.value.toLowerCase();p=p.filter(g=>g.notes&&g.notes.toLowerCase().includes(m)||g.combatants.some(v=>v.name.toLowerCase().includes(m)))}return p}),r=re(()=>[...t.items.value].sort((p,m)=>m.updatedAt-p.updatedAt)),i=p=>t.items.value.find(m=>m.encounterId===p)||null,o=p=>t.items.value.filter(m=>m.partyId===p),a=(p,m,g)=>{const v=t.getById(p);if(!v)return;const y=v.combatants.findIndex(b=>b.id===m);if(y!==-1)return Object.assign(v.combatants[y],g),t.update(p,{combatants:v.combatants})},s=(p,m)=>{const g=t.getById(p);if(g)return g.combatants=g.combatants.filter(v=>v.id!==m),t.update(p,{combatants:g.combatants})},l=(p,m)=>t.update(p,{status:m});function u(p){const m=t.getById(p);if(m&&m.status==="preparing")return t.update(p,{status:"active",currentRound:1,currentTurn:0})}function c(p){const m=t.getById(p);if(m&&m.status==="active")return t.update(p,{status:"completed"})}function f(p){const m=t.getById(p);if(m&&m.status==="active")return t.update(p,{currentRound:1,currentTurn:0})}function d(p){const m=t.getById(p);if(!m||m.status!=="active")return;let g=m.currentTurn+1,v=m.currentRound;return g>=m.combatants.length&&(g=0,v+=1),t.update(p,{currentTurn:g,currentRound:v})}function h(p){const m=t.getById(p);if(!m||m.status!=="active")return;let g=m.currentTurn-1,v=m.currentRound;return g<0&&(g=m.combatants.length-1,v=Math.max(1,v-1)),t.update(p,{currentTurn:g,currentRound:v})}return{...t,filtered:n,sortedItems:r,getCombatByEncounter:i,getCombatByParty:o,updateCombatant:a,removeCombatant:s,updateCombatStatus:l,setFilter:p=>{e.value=p},clearFilter:()=>{e.value=""},setSearchQuery:p=>{e.value=p},searchQuery:e,startCombat:u,endCombat:c,resetCombat:f,nextTurn:d,previousTurn:h}}),eEt={class:"party-selector"},tEt={class:"info-row"},nEt={class:"encounter-info"},rEt={class:"encounter-details"},iEt={key:0,class:"party-info"},oEt={class:"party-details"},aEt={class:"form-section"},sEt={key:0},lEt={key:0,class:"info-text"},uEt={class:"character-list"},cEt=nt({__name:"PartySelector",props:{isOpen:{type:Boolean},encounter:{}},emits:["cancel","combat-created"],setup(t,{emit:e}){const n=Xs(),r=QB(),i=Rl(),o=ky(),a=go(),{t:s}=Ut(),l=t,u=e,c=we(""),f=we({});kt(async()=>{await Promise.all([n.load(),i.load(),o.load(),r.load()])}),We(c,m=>{if(!m){f.value={};return}const g=n.getById(m);if(g){const v={};g.characters.forEach(y=>{v[y]=!0}),f.value=v}});const d=async()=>{if(!l.encounter||!c.value||!n.getById(c.value))return;const g=o.items.filter(_=>f.value[_.id]);if(g.length===0)return;const v=i.items.filter(_=>Object.keys(l.encounter.monsters||{}).includes(_.id)),y=g.map(_=>({id:p(),type:"player",referenceId:_.id,notes:"",initiative:0,hasActed:!1,isPostponed:!1,createdAt:Date.now(),updatedAt:Date.now()})),b=[];v.forEach(_=>{const k=l.encounter.monsters[_.id]||1;for(let C=0;C<k;C++)b.push({id:p(),type:"monster",referenceId:_.id,notes:"",initiative:0,hasActed:!1,isPostponed:!1,createdAt:Date.now(),updatedAt:Date.now()})});const w=[...y,...b],x={encounterId:l.encounter.id,partyId:c.value,status:"preparing",currentRound:0,currentTurn:0,combatants:w},S=await r.create(x);a.push(`/combats/${S.id}`)},h=()=>{c.value="",u("cancel")},p=()=>Math.random().toString(36).substr(2,9);return(m,g)=>(ye(),He(Na,{isOpen:m.isOpen,title:le(s)("partySelector.startCombat"),showSubmit:!0,showCancel:!0,submitLabel:le(s)("partySelector.startCombat"),cancelLabel:le(s)("common.cancel"),modalId:"party-selector-modal",onSubmit:d,onCancel:h},{footer:De(()=>[xe(Ya,{submitLabel:le(s)("common.startCombat"),disabled:!c.value||Object.values(f.value).filter(Boolean).length===0},null,8,["submitLabel","disabled"])]),default:De(()=>[Ee("div",eEt,[Ee("div",tEt,[Ee("div",nEt,[Ee("h4",null,$e(le(s)("partySelector.encounterInformation")),1),Ee("div",rEt,[Ee("p",null,[Ee("strong",null,$e(le(s)("partySelector.encounter")),1),vt(" "+$e(m.encounter?.name),1)]),Ee("p",null,[Ee("strong",null,$e(le(s)("partySelector.monsters")),1),vt(" "+$e(Object.values(m.encounter?.monsters||{}).reduce((v,y)=>v+y,0)),1)])])]),c.value?(ye(),Le("div",iEt,[Ee("h4",null,$e(le(s)("partySelector.partyInformation")),1),Ee("div",oEt,[Ee("p",null,[Ee("strong",null,$e(le(s)("partySelector.party")),1),vt(" "+$e(le(n).getById(c.value)?.name),1)]),Ee("p",null,[Ee("strong",null,$e(le(s)("partySelector.characters")),1),vt(" "+$e(le(o).items.length),1)])])])):ot("",!0)]),Ee("div",aEt,[xe(R3,{modelValue:c.value,"onUpdate:modelValue":g[0]||(g[0]=v=>c.value=v),options:le(n).filtered.map(v=>({label:v.name,value:v.id})),label:le(s)("partySelector.chooseParty"),"emit-value":"","map-options":"",dense:"",outlined:"",required:""},null,8,["modelValue","options","label"])]),c.value?(ye(),Le("div",sEt,[le(n).getById(c.value)?(ye(),Le(Tt,{key:0},[Ee("h4",null,$e(le(s)("partySelector.selectCharacters")),1),Object.values(f.value).filter(Boolean).length===0?(ye(),Le("div",lEt,$e(le(s)("partySelector.selectAtLeastOneCharacter")),1)):ot("",!0),Ee("div",uEt,[(ye(!0),Le(Tt,null,Gn(le(n).getById(c.value)?.characters||[],v=>(ye(),Le("div",{key:v,class:"character-toggle-row"},[xe(X4,{"model-value":f.value[v],"onUpdate:modelValue":y=>f.value[v]=y,label:le(o).getById(v)?.name||v},null,8,["model-value","onUpdate:modelValue","label"])]))),128))])],64)):ot("",!0)])):ot("",!0)])]),_:1},8,["isOpen","title","submitLabel","cancelLabel"]))}}),g5e=vr(cEt,[["__scopeId","data-v-682fa081"]]),fEt=nt({__name:"EncountersView",setup(t){const e=go(),n=Cf(),r=$i(),{t:i}=Ut(),o=we(!1),a=we(null);kt(async()=>{await Promise.all([n.load(),r.load()])});function s(g){return{encounter:g,onView:()=>e.push(`/encounters/${g.id}`),onEdit:()=>void 0,onDelete:()=>c(g),onRunCombat:()=>d(g)}}function l(g){return{encounter:g,isOpen:!0}}function u(g){}async function c(g){return g.id&&await E1(i("common.",{title:g.name}))?(await n.remove(g.id),!0):!1}function f(g){g.id?n.update(g.id,g):n.create(g)}function d(g){a.value=g,o.value=!0}function h(g){o.value=!1,a.value=null,e.push(`/combats/${g.id}`)}function p(){o.value=!1,a.value=null}async function m(g){const{id:v,createdAt:y,updatedAt:b,...w}=g;await n.create(w)}return(g,v)=>(ye(),Le("div",null,[xe(uh,{items:le(n).filtered,"card-component":p5e,"editor-component":m5e,"empty-message":le(i)("common.emptyEncounters"),"create-title":le(i)("encounters.create"),"card-props":s,"editor-props":l,onSubmit:f,onRunCombat:d,onCopy:m},null,8,["items","empty-message","create-title"]),xe(g5e,{"is-open":o.value,encounter:a.value,onCancel:p,onCombatCreated:h},null,8,["is-open","encounter"])]))}}),v5e=nt({__name:"BaseEntityTabView",props:{entity:{},entityName:{},listRoute:{},onDelete:{},onEdit:{},isEditing:{type:Boolean,default:!1},title:{},subtitle:{default:""},loading:{type:Boolean,default:!1},notFound:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},sidePanelVisible:{type:Boolean,default:!0},tabs:{default:()=>[]},modelValue:{},headerButtons:{default:[]}},emits:["update:sidePanelVisible","update:modelValue","tab-click","tab-close","tab-add"],setup(t,{emit:e}){const n=t,r=e,i=we(n.modelValue||n.tabs[0]?.id||"");We(()=>n.modelValue,a=>{a!==void 0&&a!==i.value&&(i.value=a)}),We(()=>n.tabs,a=>{if(!a.find(s=>s.id===i.value)){const s=a.find(l=>!l.disabled);s&&(i.value=s.id)}},{immediate:!0});function o(a){r("tab-click",a)}return(a,s)=>(ye(),He(Wy,Ka(n,{"unwrap-content":!0,"onUpdate:sidePanelVisible":s[2]||(s[2]=l=>a.$emit("update:sidePanelVisible",l))}),yre({default:De(()=>[Ee("div",null,[a.tabs.length>0?(ye(),He(sP,{key:0,modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=l=>i.value=l),dense:"",class:"q-mb-md"},{default:De(()=>[(ye(!0),Le(Tt,null,Gn(a.tabs,l=>(ye(),He(Vg,{key:l.id,name:l.id,label:l.label,disable:l.disabled,onClick:()=>o(l)},null,8,["name","label","disable","onClick"]))),128))]),_:1},8,["modelValue"])):ot("",!0),xe(Aae,{modelValue:i.value,"onUpdate:modelValue":s[1]||(s[1]=l=>i.value=l),animated:""},{default:De(()=>[(ye(!0),Le(Tt,null,Gn(a.tabs,l=>(ye(),He(HM,{key:l.id,name:l.id},{default:De(()=>[Vr(a.$slots,l.id)]),_:2},1032,["name"]))),128))]),_:3},8,["modelValue"])])]),_:2},[a.$slots.editor?{name:"editor",fn:De(()=>[Vr(a.$slots,"editor")]),key:"0"}:void 0]),1040))}}),dEt={class:"side-panel-content q-pa-md"},hEt=nt({__name:"EncounterViewSidebar",props:{encounter:{}},setup(t){const e=pp(),{t:n}=Ut(),r=t,i=re(()=>r.encounter.value?e.getLinks({kind:"encounter",id:r.encounter.value.id}):[]),o=re(()=>r.encounter.value?e.getBacklinks({kind:"encounter",id:r.encounter.value.id}):[]);return kt(async()=>e.load()),(a,s)=>(ye(),Le("div",dEt,[xe(_u,{title:le(n)("common.mentions"),entities:i.value},null,8,["title","entities"]),xe(sf),xe(_u,{title:le(n)("common.mentionedIn"),entities:o.value},null,8,["title","entities"])]))}}),pEt={key:0,class:"module-link"},mEt={class:"details-section"},gEt=["innerHTML"],vEt={class:"row items-center q-mb-md"},yEt={key:0,class:"q-pa-md text-grey text-center q-mt-xl"},bEt={key:1,class:"row q-gutter-md"},wEt={class:"col-12"},xEt={class:"q-table"},SEt=["onClick"],_Et={key:0,class:"combats-grid"},CEt={key:1},kEt={key:0,class:"empty-state"},EEt={key:1,class:"monsters-grid"},AEt=nt({__name:"EncounterView",setup(t){const e=ep(),n=go(),{t:r}=Ut(),i=Cf(),o=Rl(),a=$i(),s=QB(),l=Xs(),u=we(!1),c=we(!1),f=we(!1),d=we("information"),h=we({}),p=we(null),m=re(()=>!i.isLoaded),g=re(()=>i.isLoaded&&!p.value);function v(){if(!i.isLoaded)return;const K=i.getById(e.params.id);K?p.value=K:n.push("/encounters")}We([()=>i.items,()=>i.isLoaded],v,{immediate:!0,deep:!0}),We(c,K=>{K&&p.value&&(h.value=JSON.parse(JSON.stringify(p.value.monsters||{})))});const y=()=>{u.value=!0},b=async()=>{p.value&&(await i.remove(p.value.id),await n.push("/encounters"))},w=async K=>{p.value&&(await i.update(p.value.id,K),u.value=!1)},x=()=>{u.value=!1},S=K=>{if(!K)return"No Module";const Z=a.items.find(te=>te.id===K);return Z?Z.name:"Unknown Module"},_=re(()=>o.filtered),k=re(()=>!p.value||!p.value.monsters?[]:_.value.filter(K=>Object.keys(p.value.monsters).includes(K.id))),C=we({});We(()=>p.value?.monsters,K=>{if(!K){C.value={};return}const Z=Object.keys(K);C.value=_.value.reduce((te,J)=>(te[J.id]=Z.includes(J.id),te),{})},{immediate:!0}),We(_,K=>{if(!p.value?.monsters){C.value={};return}const Z=Object.keys(p.value.monsters);C.value=K.reduce((te,J)=>(te[J.id]=Z.includes(J.id),te),{})},{immediate:!0});const E=(K,Z)=>{if(!p.value)return;const te=p.value.monsters||{};delete te[K.id],i.update(p.value.id,{monsters:te}),p.value=i.getById(p.value.id)},M=()=>{f.value=!0},A=K=>{f.value=!1,n.push(`/combats/${K.id}`)},N=()=>{f.value=!1},T=re(()=>p.value?.name||""),I=re(()=>p.value?s.items.filter(K=>K.encounterId===p.value.id):[]),O=K=>{const Z=l.getById(K);return Z?Z.name:r("common.unknownParty")},q=K=>new Date(K).toLocaleDateString(),L=K=>{switch(K){case"preparing":return"status-preparing";case"active":return"status-active";case"completed":return"status-completed";default:return"status-unknown"}},Y=K=>{n.push(`/combats/${K.id}`)},R=re(()=>[{id:"information",label:r("encounters.tabs.information"),badge:void 0},{id:"monsters",label:r("encounters.tabs.monsters"),badge:k.value.length},{id:"combats",label:r("encounters.tabs.combats"),badge:I.value.length}]),B=(K,Z)=>{const te={...h.value};Z?te[K]===void 0&&(te[K]=1):delete te[K],h.value=te},z=(K,Z)=>{if(h.value[K]===void 0)return;const te=Math.max(1,Z||1);h.value[K]=te},P=async()=>{p.value&&(await i.update(p.value.id,{monsters:h.value}),c.value=!1)},$=async K=>{if(!p.value)return;const Z=await Brt(r("encounters.monsters.setQuantityFor",{monsterName:K.name}),{inputType:"number",modelValue:String(p.value.monsters?.[K.id]||1)});if(Z===null)return;const te=Number(Z);if(isNaN(te)||te<1)return;const J={...p.value.monsters};J[K.id]=te,await i.update(p.value.id,{monsters:J})},X=rr("setRightDrawerContent");return kt(async()=>{await Promise.all([i.load(),o.load(),a.load(),s.load(),l.load()]),X({component:hEt,props:{encounter:p}})}),On(()=>{X(null)}),(K,Z)=>{const te=h1("router-link");return ye(),Le("div",null,[xe(v5e,{entity:p.value,"entity-name":"encounters.title","list-route":"/encounters","on-delete":b,"on-edit":y,"is-editing":u.value,title:T.value,"not-found":g.value,loading:m.value,tabs:R.value,modelValue:d.value,"onUpdate:modelValue":Z[1]||(Z[1]=J=>d.value=J),headerButtons:[{color:"warning",title:"common.runCombat",event:M,icon:le(O3)}]},{sub:De(()=>[p.value?.moduleId?(ye(),Le("div",pEt,[xe(te,{to:`/modules/${p.value.moduleId}`},{default:De(()=>[vt($e(S(p.value.moduleId)),1)]),_:1},8,["to"])])):ot("",!0)]),information:De(()=>[Ee("section",mEt,[Ee("div",{innerHTML:p.value?.description},null,8,gEt)])]),monsters:De(()=>[Ee("div",vEt,[xe(Ct,{flat:"",onClick:Z[0]||(Z[0]=J=>c.value=!0),class:"q-ml-md"},{default:De(()=>[vt($e(le(r)("encounters.monsters.linkAction")),1)]),_:1})]),k.value.length===0?(ye(),Le("div",yEt,[Ee("p",null,$e(le(r)("encounters.monsters.none")),1)])):(ye(),Le("div",bEt,[Ee("div",wEt,[Ee("table",xEt,[Ee("thead",null,[Ee("tr",null,[Ee("th",null,$e(le(r)("monsters.name")),1),Ee("th",null,$e(le(r)("common.quantity")),1),Ee("th",null,$e(le(r)("common.actions")),1)])]),Ee("tbody",null,[(ye(!0),Le(Tt,null,Gn(k.value,J=>(ye(),Le("tr",{key:J.id},[Ee("td",null,[xe(te,{to:`/monsters/${J.id}`},{default:De(()=>[vt($e(J.name),1)]),_:2},1032,["to"])]),Ee("td",null,[xe(Ct,{flat:"",onClick:fe=>$(J)},{default:De(()=>[vt($e(p.value?.monsters[J.id]),1)]),_:2},1032,["onClick"])]),Ee("td",null,[Ee("button",{class:"unlink-btn",onClick:fe=>E(J,!1)},$e(le(r)("common.unlink")),9,SEt)])]))),128))])])])]))]),combats:De(()=>[Ee("h2",null,$e(le(r)("encounters.combats.title")),1),I.value.length>0?(ye(),Le("div",_Et,[Ee("table",null,[Ee("thead",null,[Ee("tr",null,[Ee("th",null,$e(le(r)("encounters.combats.party")),1),Ee("th",null,$e(le(r)("encounters.combats.created")),1),Ee("th",null,$e(le(r)("encounters.combats.statusTitle")),1),Ee("th",null,$e(le(r)("encounters.combats.actions")),1)])]),Ee("tbody",null,[(ye(!0),Le(Tt,null,Gn(I.value,J=>(ye(),Le("tr",{key:J.id},[Ee("td",null,$e(O(J.partyId)),1),Ee("td",null,$e(q(J.createdAt)),1),Ee("td",null,[Ee("span",{class:Qr(["status-badge",L(J.status)])},$e(le(r)(`encounters.combats.status.${J.status}`)),3)]),Ee("td",null,[xe(Ya,{size:"small",variant:"primary",onClick:fe=>Y(J)},{default:De(()=>[vt($e(le(r)("encounters.combats.view")),1)]),_:2},1032,["onClick"])])]))),128))])])])):(ye(),Le("p",CEt,$e(le(r)("encounters.combats.none")),1))]),editor:De(()=>[xe(m5e,{isOpen:u.value,encounter:p.value,onSubmit:w,onCancel:x},null,8,["isOpen","encounter"])]),_:1},8,["entity","is-editing","title","not-found","loading","tabs","modelValue","headerButtons"]),xe(Na,{"is-open":c.value,onCancel:Z[2]||(Z[2]=J=>c.value=!1),onSubmit:P,title:le(r)("encounters.monsters.linkModalTitle"),"modal-id":"monster-linking-modal","show-cancel":!0,"show-submit":!0,"cancel-label":le(r)("common.cancel"),"submit-label":le(r)("common.save")},{default:De(()=>[_.value.length===0?(ye(),Le("div",kEt,[Ee("p",null,$e(le(r)("encounters.monsters.noneAvailable")),1)])):(ye(),Le("div",EEt,[Ee("table",null,[Ee("thead",null,[Ee("tr",null,[Ee("th",null,$e(le(r)("monsters.name")),1),Ee("th",null,$e(le(r)("common.quantity")),1),Ee("th",null,$e(le(r)("common.linked")),1)])]),Ee("tbody",null,[(ye(!0),Le(Tt,null,Gn(_.value,J=>(ye(),Le("tr",{key:J.id},[Ee("td",null,$e(J.name),1),Ee("td",null,[h.value[J.id]!==void 0?(ye(),He(ui,{key:0,type:"number",class:"count-input","model-value":h.value[J.id]||1,"onUpdate:modelValue":fe=>z(J.id,parseInt(String(fe??""))),min:"1",dense:"",outlined:""},null,8,["model-value","onUpdate:modelValue"])):ot("",!0)]),Ee("td",null,[xe(X4,{"model-value":h.value[J.id]!==void 0,"onUpdate:modelValue":fe=>B(J.id,fe)},null,8,["model-value","onUpdate:modelValue"])])]))),128))])])]))]),_:1},8,["is-open","title","cancel-label","submit-label"]),xe(g5e,{"is-open":f.value,encounter:p.value,onCombatCreated:A,onCancel:N},null,8,["is-open","encounter"])])}}}),TEt=vr(AEt,[["__scopeId","data-v-b75f747e"]]);function c3(t,e=new WeakMap){if(Object(t)!==t)return t;if(e.has(t))return e.get(t);const n=t instanceof Date?new Date(t):t instanceof RegExp?new RegExp(t.source,t.flags):t instanceof Set?new Set:t instanceof Map?new Map:typeof t.constructor!="function"?Object.create(null):t.prototype!==void 0&&typeof t.prototype.constructor=="function"?t:new t.constructor;if(typeof t.constructor=="function"&&typeof t.valueOf=="function"){const r=t.valueOf();if(Object(r)!==r){const i=new t.constructor(r);return e.set(t,i),i}}return e.set(t,n),t instanceof Set?t.forEach(r=>{n.add(c3(r,e))}):t instanceof Map&&t.forEach((r,i)=>{n.set(i,c3(r,e))}),Object.assign(n,...Object.keys(t).map(r=>({[r]:c3(t[r],e)})))}const MEt=cn({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(t,{slots:e,emit:n}){const{proxy:r}=Lt(),{$q:i}=r,o=we(null),a=we(""),s=we("");let l=!1;const u=re(()=>Q0({initialValue:a.value,validate:t.validate,set:c,cancel:f,updatePosition:d},"value",()=>s.value,w=>{s.value=w}));function c(){t.validate(s.value)!==!1&&(h()===!0&&(n("save",s.value,a.value),n("update:modelValue",s.value)),p())}function f(){h()===!0&&n("cancel",s.value,a.value),p()}function d(){Tn(()=>{o.value.updatePosition()})}function h(){return pd(s.value,a.value)===!1}function p(){l=!0,o.value.hide()}function m(){l=!1,a.value=c3(t.modelValue),s.value=c3(t.modelValue),n("beforeShow")}function g(){n("show")}function v(){l===!1&&h()===!0&&(t.autoSave===!0&&t.validate(s.value)===!0?(n("save",s.value,a.value),n("update:modelValue",s.value)):n("cancel",s.value,a.value)),n("beforeHide")}function y(){n("hide")}function b(){const w=e.default!==void 0?[].concat(e.default(u.value)):[];return t.title&&w.unshift(he("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},t.title)),t.buttons===!0&&w.push(he("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[he(Ct,{flat:!0,color:t.color,label:t.labelCancel||i.lang.label.cancel,onClick:f}),he(Ct,{flat:!0,color:t.color,label:t.labelSet||i.lang.label.set,onClick:c})])),w}return Object.assign(r,{set:c,cancel:f,show(w){o.value?.show(w)},hide(w){o.value?.hide(w)},updatePosition:d}),()=>{if(t.disable!==!0)return he(fP,{ref:o,class:"q-popup-edit",cover:t.cover,onBeforeShow:m,onShow:g,onBeforeHide:v,onHide:y,onEscapeKey:f},b)}}}),DEt={key:0,class:"q-pa-md q-gutter-md"},NEt={key:0,class:"q-mb-md"},OEt={class:"row q-gutter-md"},IEt={class:"col-12 col-md-6"},PEt={class:"col-12 col-md-6"},REt={key:1,class:"q-pa-md text-grey text-center q-mt-xl"},FEt={class:"participants-section"},LEt={class:"combat-title row justify-between q-pa-md"},$Et={key:0,class:"participant-list"},BEt=["aria-label","title"],zEt={key:1},qEt={key:2,class:"content-section"},VEt={class:"notes"},HEt={key:1},UEt={key:0,class:"empty-state"},jEt={key:1},WEt=nt({__name:"CombatView",setup(t){const e=ep(),n=go(),r=QB(),i=ky(),o=Rl(),a=Cf(),s=Xs(),l=$i(),{t:u}=Ut();kt(async()=>{await i.load(),await o.load(),await r.load(),await a.load(),await s.load(),await l.load()});const c=we(null),f=re(()=>!r.isLoaded),d=re(()=>r.isLoaded&&!c.value),h=re(()=>c.value?.status??null),p=we(0);we(null),we(0);const m=we(!1),g=we({}),v=re(()=>!c.value||c.value.status!=="active"||!c.value.combatants.length?null:c.value.combatants[p.value]),y=re(()=>c.value?a.getById(c.value.encounterId):null),b=re(()=>c.value?s.getById(c.value.partyId):null),w=re(()=>b.value?b.value.characters.map(P=>i.getById(P)).filter(P=>!!P):[]),x=re(()=>{if(!y.value)return[];const P=[];return Object.entries(y.value.monsters).forEach(([$,X])=>{const K=o.getById($);if(K)for(let Z=0;Z<X;Z++)P.push({...K,instance:Z+1})}),P}),S=re(()=>{const P=w.value.map(X=>({id:X.id,type:"player",referenceId:X.id})),$=x.value.map(X=>({id:X.id+(X.instance?`-${X.instance}`:""),type:"monster",referenceId:X.id}));return[...P,...$]}),_=re(()=>{if(!c.value)return[];const P=new Set(c.value.combatants.filter($=>$.type==="player").map($=>$.referenceId));return w.value.filter($=>!P.has($.id))});function k(P){if(P.type==="player"&&P.referenceId){const $=i.getById(P.referenceId);return $?$.name:"Unknown Player"}else if(P.type==="monster"&&P.referenceId){const $=o.getById(P.referenceId);if($){const X=c.value?.combatants.filter(K=>K.referenceId===P.referenceId&&K.type==="monster")||[];if(X.length>1){const K=X.findIndex(Z=>Z.id===P.id);return`${$.name} #${K+1}`}return $.name}return"Unknown Monster"}return"Unknown"}function C(){if(!r.isLoaded)return;const P=e.params.id,$=r.getById(P);$?c.value=$:n.push("/combats")}We(c,P=>{if(P&&P.status==="preparing"&&P.combatants.length===0&&S.value.length>0){const $=Date.now();P.combatants=S.value.map(X=>({id:X.id,type:X.type,referenceId:X.referenceId,initiative:0,hasActed:!1,isPostponed:!1,createdAt:$,updatedAt:$}))}},{immediate:!0}),We(()=>r.items,C,{deep:!0,immediate:!0}),We(m,P=>{P&&(g.value=_.value.reduce(($,X)=>($[X.id]={selected:!1,initiative:0},$),{}))});const E=P=>{const $=a.getById(P);return $?$.name:"Unknown Encounter"},M=P=>{const $=s.getById(P);return $?$.name:"Unknown Party"},A=re(()=>c.value?`${E(c.value.encounterId)} vs ${M(c.value.partyId)}`:"");function N(){if(!c.value||c.value.combatants.length<1)return;const P=c.value.combatants.map($=>({...$,initiative:Number($.initiative),hasActed:!1,isPostponed:!1})).sort(($,X)=>X.initiative-$.initiative);r.update(c.value.id,{status:"active",currentRound:1,currentTurn:0,combatants:P}),p.value=0}function T(){if(!c.value||c.value.status!=="active")return;v.value&&(v.value.hasActed=!0);let P=-1;for(let $=p.value+1;$<c.value.combatants.length;$++)if(!c.value.combatants[$].hasActed&&!c.value.combatants[$].isPostponed){P=$;break}P!==-1?p.value=P:I()}function I(){c.value&&(c.value.combatants.sort((P,$)=>$.initiative-P.initiative),c.value.currentRound++,c.value.combatants.forEach(P=>{P.hasActed=!1,P.isPostponed=!1}),p.value=0)}function O(){!c.value||c.value.status!=="active"||!v.value||(v.value.isPostponed=!0,T())}function q(P){if(!c.value)return;const $=c.value.combatants.find(X=>X.id===P);if($&&($.isPostponed=!1,$.hasActed=!1,c.value.status==="active")){const X=c.value.combatants.findIndex(K=>K.id===P);X!==-1&&(p.value=X)}}function L(){c.value&&r.endCombat(c.value.id)}function Y(P,$){g.value[P]&&(g.value[P].selected=$)}function R(P,$){g.value[P]&&(console.log(g.value[P]),g.value[P].initiative=Number($))}function B(){if(!c.value)return;const P=Date.now(),$=Object.entries(g.value).filter(([,X])=>X.selected).map(([X,K])=>({id:X,type:"player",referenceId:X,initiative:Number(K.initiative),hasActed:!1,isPostponed:!1,createdAt:P,updatedAt:P}));if($.length>0){const X=[...c.value.combatants,...$];r.update(c.value.id,{combatants:X})}m.value=!1}const z=P=>Number.isInteger(Number(P));return(P,$)=>(ye(),He(Wy,{entity:c.value,"entity-name":"Combat","list-route":"/combats",title:A.value,"not-found":d.value,loading:f.value,headerShowEdit:!1,headerShowDelete:!1,headerButtons:c.value&&c.value.status==="preparing"?[{event:N,color:"warning",disabled:c.value.combatants.length<1,icon:le(O3),title:"Start"}]:c.value&&c.value.status==="active"?[{event:L,color:"negative",icon:le(xV),title:"End"}]:[]},{default:De(()=>[c.value?(ye(),Le("div",DEt,[xe(sP,{modelValue:h.value,"onUpdate:modelValue":$[0]||($[0]=X=>h.value=X),class:"phase-indicator"},{default:De(()=>[xe(Vg,{class:"phase-tab",name:"preparing"},{default:De(()=>[xe(le(m9e)),$[3]||($[3]=vt(" Preparation "))]),_:1,__:[3]}),xe(Vg,{class:"phase-tab",name:"active"},{default:De(()=>[xe(le(O3)),$[4]||($[4]=vt(" Active "))]),_:1,__:[4]}),xe(Vg,{class:"phase-tab",name:"completed"},{default:De(()=>[xe(le(A9e)),$[5]||($[5]=vt(" Ended "))]),_:1,__:[5]})]),_:1},8,["modelValue"]),c.value?.status==="active"?(ye(),Le("div",NEt,[Ee("h3",null,$e(le(u)("combat.summary")),1),Ee("div",OEt,[Ee("div",IEt,[Ee("label",null,$e(le(u)("combat.round")),1),Ee("span",null,$e(c.value?.currentRound),1)]),Ee("div",PEt,[Ee("label",null,$e(le(u)("combat.turn")),1),Ee("span",null,$e((c.value?.currentTurn??0)+1)+" of "+$e(c.value?.combatants?.length??0),1)])])])):ot("",!0),c.value&&c.value.status==="completed"?(ye(),Le("div",REt,[xe(le(xV)),vt(" The encounter has concluded after "+$e(c.value.currentRound)+" rounds. ",1)])):ot("",!0),Ee("div",FEt,[Ee("div",LEt,[Ee("h2",null,"Participants: "+$e(c.value.combatants.length),1),c.value&&(c.value.status==="preparing"||c.value.status==="active")?(ye(),He(Ya,{key:0,onClick:$[1]||($[1]=X=>m.value=!0),disabled:_.value.length===0,size:"large",title:le(u)("combat.addParticipant")},{default:De(()=>[xe(le(T9e))]),_:1},8,["disabled","title"])):ot("",!0)]),c.value.combatants.length?(ye(),Le("div",$Et,[xe(hv,{bordered:"",separator:"",class:"rounded-borders"},{default:De(()=>[(ye(!0),Le(Tt,null,Gn(c.value.combatants,(X,K)=>(ye(),He(eu,{clickable:c.value.status==="preparing",key:X.id,active:c.value&&c.value.status==="active"&&p.value===K,"active-class":"bg-secondary",class:Qr({"participant-row":!0,preparing:c.value&&c.value.status==="preparing",postponed:X.isPostponed,acted:c.value&&c.value.status==="active"&&X.hasActed&&!X.isPostponed})},{default:De(()=>[c.value.status==="preparing"?(ye(),He(MEt,{key:0,modelValue:X.initiative,"onUpdate:modelValue":Z=>X.initiative=Z,"auto-save":"",buttons:"",validate:z,onHide:z},{default:De(Z=>[xe(ui,{modelValue:Z.value,"onUpdate:modelValue":te=>Z.value=te,dense:"",autofocus:"",counter:"",onKeyup:Zp(Z.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])):ot("",!0),xe(Er,{avatar:"",class:"participant-artwork"},{default:De(()=>[X.type==="player"?(ye(),He(le(bae),{key:0})):(ye(),He(le(gae),{key:1}))]),_:2},1024),xe(Er,{class:"participant-name"},{default:De(()=>[vt($e(k(X)),1)]),_:2},1024),xe(Er,{side:"",class:"participant-initiative"},{default:De(()=>[vt($e(X.initiative),1)]),_:2},1024),c.value&&c.value.status==="active"?(ye(),He(Er,{key:1,side:"",class:"participant-status"},{default:De(()=>[!X.isPostponed&&X.hasActed?(ye(),Le("span",{key:0,class:"participant-badge badge-acted","aria-label":le(u)("combat.participantStatus.actedThisRound"),title:le(u)("combat.participantStatus.actedThisRound")},[xe(le(q6))],8,BEt)):!X.isPostponed&&p.value!==K?(ye(),Le("span",zEt,[xe(le(mae),{"aria-label":le(u)("combat.participantStatus.wait"),title:le(u)("combat.participantStatus.wait")},null,8,["aria-label","title"])])):ot("",!0)]),_:2},1024)):ot("",!0),c.value&&c.value.status==="active"?(ye(),He(Er,{key:2,side:"",class:"participant-actions"},{default:De(()=>[X.isPostponed?(ye(),He(Vs,{key:0,flat:"",class:"controls"},{default:De(()=>[xe(Ct,{color:"info",size:"lg",onClick:Z=>q(X.id)},{default:De(()=>[xe(le(jAe))]),_:2},1032,["onClick"])]),_:2},1024)):ot("",!0),p.value===K?(ye(),He(Vs,{key:1,flat:"",class:"controls"},{default:De(()=>[K!==c.value.combatants.length-1?(ye(),He(Ct,{key:0,size:"lg",color:"warning",onClick:O},{default:De(()=>[xe(le(vae))]),_:1})):ot("",!0),xe(Ct,{size:"lg",color:"positive",onClick:T,disabled:!v.value},{default:De(()=>[xe(le(GAe))]),_:1},8,["disabled"])]),_:2},1024)):ot("",!0)]),_:2},1024)):ot("",!0)]),_:2},1032,["clickable","active","class"]))),128))]),_:1})])):ot("",!0)]),c.value?.notes?(ye(),Le("div",qEt,[Ee("h3",null,$e(le(u)("combat.notes")),1),Ee("p",VEt,$e(c.value?.notes),1)])):ot("",!0)])):(ye(),Le("div",HEt,[Ee("p",null,$e(le(u)("combat.noActive")),1)])),xe(Na,{"is-open":m.value,onCancel:$[2]||($[2]=X=>m.value=!1),onSubmit:B,title:le(u)("combat.addParticipantTitle"),"modal-id":"add-participant-modal","show-submit":!0,"show-cancel":!0,"submit-label":le(u)("common.add"),"cancel-label":le(u)("common.cancel")},{default:De(()=>[_.value.length===0?(ye(),Le("div",UEt,[Ee("p",null,$e(le(u)("combat.allPartyCharactersAdded")),1)])):(ye(),Le("table",jEt,[Ee("thead",null,[Ee("tr",null,[Ee("th",null,$e(le(u)("common.name")),1),Ee("th",null,$e(le(u)("common.add")),1),Ee("th",null,$e(le(u)("common.initiative")),1)])]),Ee("tbody",null,[(ye(!0),Le(Tt,null,Gn(_.value,X=>(ye(),Le("tr",{key:X.id},[Ee("td",null,$e(X.name),1),Ee("td",null,[xe(X4,{"model-value":g.value[X.id]?.selected,"onUpdate:modelValue":K=>Y(X.id,K)},null,8,["model-value","onUpdate:modelValue"])]),Ee("td",null,[g.value[X.id]?.selected?(ye(),He(ui,{key:0,type:"number",class:"initiative-input",modelValue:g.value[X.id].initiative,"onUpdate:modelValue":[K=>g.value[X.id].initiative=K,K=>R(X.id,K)],modelModifiers:{number:!0},dense:"",outlined:""},null,8,["modelValue","onUpdate:modelValue"])):ot("",!0)])]))),128))])]))]),_:1},8,["is-open","title","submit-label","cancel-label"])]),_:1},8,["entity","title","not-found","loading","headerButtons"]))}}),GEt={key:0,class:"description"},KEt=nt({__name:"ModuleCard",props:{module:{}},emits:["edit","delete","view","copy"],setup(t,{emit:e}){const n=t,r=e,i=()=>r("view",n.module),o=()=>r("edit",n.module),a=()=>r("delete",n.module),s=()=>r("copy",n.module);return(l,u)=>(ye(),He(A1,{showView:"",showEdit:"",showDelete:"",onView:i,onEdit:o,onDelete:a,onCopy:s,title:l.module.name},{default:De(()=>[l.module.description?(ye(),Le("div",GEt,[Ee("p",null,$e(l.module.description),1)])):ot("",!0)]),_:1},8,["title"]))}}),XEt=vr(KEt,[["__scopeId","data-v-f5119c14"]]),YEt={class:"form-section"},ZEt={class:"form-grid"},JEt={class:"form-group"},QEt={class:"form-group"},y5e=nt({__name:"ModuleEditor",props:{module:{},isOpen:{type:Boolean}},emits:["submit","cancel"],setup(t,{emit:e}){const n=t,r=e,i=we({name:"",description:""}),{t:o}=Ut();We(()=>n.module,l=>{if(l){const{id:u,createdAt:c,updatedAt:f,...d}=l;i.value=d}else i.value={name:"",description:""}},{immediate:!0});const a=async()=>{if(!i.value.name){await Kd(o("common.nameRequired"));return}r("submit",{...i.value,createdAt:Date.now(),updatedAt:Date.now()})},s=()=>{r("cancel")};return(l,u)=>(ye(),He(Na,{isOpen:l.isOpen,title:l.module?le(o)("modules.edit"):le(o)("modules.create"),showSubmit:!0,showCancel:!0,submitLabel:le(o)("common.save"),cancelLabel:le(o)("common.cancel"),modalId:"module-editor-modal",onSubmit:a,onCancel:s},{default:De(()=>[Ee("div",YEt,[Ee("div",ZEt,[Ee("div",JEt,[xe(ui,{id:"module-name",label:le(o)("modules.fields.name"),modelValue:i.value.name,"onUpdate:modelValue":u[0]||(u[0]=c=>i.value.name=c),type:"text",required:"",outlined:""},null,8,["label","modelValue"])]),Ee("div",QEt,[xe(ui,{label:le(o)("modules.fields.description"),id:"module-description",modelValue:i.value.description,"onUpdate:modelValue":u[1]||(u[1]=c=>i.value.description=c),type:"textarea",rows:5,autogrow:"",outlined:""},null,8,["label","modelValue"])])])])]),_:1},8,["isOpen","title","submitLabel","cancelLabel"]))}}),eAt={key:0,class:"text-success mb-3"},tAt={key:1,class:"text-danger mb-3"},nAt={class:"mb-3"},rAt={key:0},iAt={key:0},oAt={key:1,class:"text-success"},aAt={key:0},sAt={key:0},lAt={key:1,class:"text-success"},uAt=nt({__name:"ImportValidationModal",props:{result:{},isOpen:{type:Boolean}},emits:["cancel","import"],setup(t){const{t:e}=Ut();return(n,r)=>(ye(),He(Na,{isOpen:n.isOpen,modalId:"import-validation-modal",title:le(e)("importValidation.title"),showClose:"",submitLabel:le(e)("common.import"),cancelLabel:le(e)("common.cancel"),showSubmit:!0,showCancel:!0,disableSubmit:!n.result.treeMatchesModule||n.result.missingNoteIds.length>0,onCancel:r[0]||(r[0]=i=>n.$emit("cancel")),onSubmit:r[1]||(r[1]=i=>n.$emit("import"))},{default:De(()=>[n.result.treeMatchesModule?(ye(),Le("div",eAt,[xe(le(q6),{class:"icon align-middle me-1"}),vt(" "+$e(le(e)("importValidation.treeMatches")),1)])):(ye(),Le("div",tAt,[xe(le(pu),{class:"icon align-middle me-1"}),vt(" "+$e(le(e)("importValidation.treeMismatch")),1)])),Ee("div",nAt,[Ee("strong",null,$e(le(e)("importValidation.missingNoteIds")),1),n.result.missingNoteIds.length>0?(ye(),Le("ul",rAt,[(ye(!0),Le(Tt,null,Gn(n.result.missingNoteIds.slice(0,10),i=>(ye(),Le("li",{key:i,class:"text-danger"},[xe(le(pu),{class:"icon align-middle me-1"}),vt(" "+$e(i),1)]))),128)),n.result.missingNoteIds.length>10?(ye(),Le("li",iAt,$e(le(e)("importValidation.andMore",{count:n.result.missingNoteIds.length-10})),1)):ot("",!0)])):(ye(),Le("div",oAt,[xe(le(q6),{class:"icon align-middle me-1"}),vt(" "+$e(le(e)("importValidation.allNoteIdsPresent")),1)]))]),Ee("div",null,[Ee("strong",null,$e(le(e)("importValidation.orphanedNoteFiles")),1),n.result.orphanedNoteFiles.length>0?(ye(),Le("ul",aAt,[(ye(!0),Le(Tt,null,Gn(n.result.orphanedNoteFiles.slice(0,10),i=>(ye(),Le("li",{key:i,class:"text-warning"},[xe(le(zAe),{class:"icon align-middle me-1"}),vt(" "+$e(i),1)]))),128)),n.result.orphanedNoteFiles.length>10?(ye(),Le("li",sAt,$e(le(e)("importValidation.andMore",{count:n.result.orphanedNoteFiles.length-10})),1)):ot("",!0)])):(ye(),Le("div",lAt,[xe(le(q6),{class:"icon align-middle me-1"}),vt(" "+$e(le(e)("importValidation.allNoteFilesReferenced")),1)]))])]),_:1},8,["isOpen","title","submitLabel","cancelLabel","disableSubmit"]))}});async function cAt({module:t,tree:e,notes:n}){const r={...t,createdAt:Date.now(),updatedAt:Date.now(),noteTree:e},i=[];for(const s of n){const l={...s,moduleId:r.id,createdAt:Date.now(),updatedAt:Date.now()};i.push(l)}const a=(await _y()).transaction(["modules","notes"],"readwrite");try{await a.objectStore("modules").put(r);for(const s of i)await a.objectStore("notes").put(s);return await a.done,{moduleId:r.id,noteCount:i.length}}catch(s){throw new ame(`Import failed: ${s instanceof Error?s.message:String(s)}`)}}const fAt=nt({__name:"ModulesView",setup(t){const e=go(),n=$i(),{t:r}=Ut(),i=we(!1),o=we(null),a=we(null);kt(async()=>{await n.load()});function s(m){return{module:m,onView:()=>e.push(`/modules/${m.id}`),onEdit:()=>void 0,onDelete:()=>c(m)}}function l(m){return{module:m,isOpen:!0}}function u(m){}async function c(m){return m.id&&await E1(r("common.confirmDelete",{title:m.name}))?(await n.remove(m.id),!0):!1}async function f(m){const{id:g,createdAt:v,updatedAt:y,...b}=m;await n.create(b)}function d(m){m.id?n.update(m.id,m):n.create(m)}async function h(){if(a.value){try{const m=await cAt(Ms(a));await Kd(r("backup.moduleImported")+` ${m.noteCount} notes imported.`),await n.load()}catch(m){await Kd(r("backup.moduleImportFailed")+(m instanceof Error?m.message:m))}i.value=!1,o.value=null,a.value=null}}function p(){i.value=!1,o.value=null,a.value=null}return(m,g)=>(ye(),Le("div",null,[xe(uh,{items:le(n).items,"card-component":XEt,"editor-component":y5e,"empty-message":le(r)("common.emptyModules"),"create-title":le(r)("modules.create"),"card-props":s,"editor-props":l,onSubmit:d,onCopy:f},null,8,["items","empty-message","create-title"]),i.value&&o.value?(ye(),He(uAt,{key:0,result:o.value,isOpen:i.value,onImport:h,onCancel:p},null,8,["result","isOpen"])):ot("",!0)]))}}),dAt=vr(fAt,[["__scopeId","data-v-dba26fc6"]]),hAt="http://json-schema.org/draft-07/schema#",pAt="Bookmark",mAt="object",gAt=["id","moduleId","noteId","title","createdAt","updatedAt"],vAt={id:{type:"string",description:"Unique identifier for the bookmark"},moduleId:{type:"string",description:"ID of the module this bookmark belongs to"},noteId:{type:"string",description:"Anchor ID of the heading/bookmark"},title:{type:"string",description:"Title of the heading/bookmark"},createdAt:{type:"number",description:"Timestamp when the bookmark was created"},updatedAt:{type:"number",description:"Timestamp when the bookmark was last updated"}},yAt={$schema:hAt,title:pAt,type:mAt,required:gAt,properties:vAt},ez=Ks("bookmarks",()=>{const t=Pl({storeName:"bookmarks",validationSchema:yAt});function e(o,a){return t.items.value.find(s=>s.moduleId===o&&s.noteId===a)}function n(o,a){return!!e(o,a)}async function r(o,a,s){n(o,a)||await t.create({moduleId:o,noteId:a,title:s})}async function i(o,a){const s=e(o,a);s&&await t.remove(s.id)}return{...t,findByModuleAndAnchor:e,isBookmarked:n,addBookmark:r,removeBookmark:i}}),bAt={class:"table-of-contents"},wAt={class:"toc-list"},xAt=["onClick","title"],SAt=nt({__name:"TableOfContents",props:{items:{},activeAnchorId:{}},emits:["item-click"],setup(t,{emit:e}){const n=t,r=we(null),i=we(null),o=we({}),a=e;function s(p){return`toc-level-${p}`}function l(p){return(n.activeAnchorId?n.activeAnchorId===p:r.value===p)?"active":""}function u(){const p=[document.querySelector(".entity-main-column"),document.querySelector(".base-entity-view"),document.querySelector(".document-markdown"),document.querySelector(".entity-content")];for(const m of p)if(m&&m.scrollHeight>m.clientHeight)return m;return null}function c(){const p=n.items.map(x=>({id:x.anchorId,element:document.getElementById(x.anchorId)})).filter(x=>x.element);if(p.length===0)return;const m=u(),g=!m,v=g?window.scrollY:m.scrollTop,b=(g?window.innerHeight:m.clientHeight)*.2;let w=p[0];for(const x of p){if(!x.element)continue;const S=x.element.getBoundingClientRect();if((g?S.top+v:S.top)<=b)w=x;else break}r.value!==w.id&&(r.value=w.id)}let f=null;function d(){f||(f=window.setTimeout(()=>{c(),f=null},50))}We(()=>n.items,()=>{o.value={}}),We(()=>n.activeAnchorId,p=>{p&&(r.value=p),Tn(()=>{const m=o.value&&o.value[p||""];m&&i.value&&m.scrollIntoView({block:"nearest",behavior:"smooth"})})}),kt(async()=>{if(await Tn(),n.activeAnchorId||c(),!n.activeAnchorId){const p=u();p?p.addEventListener("scroll",d,{passive:!0}):window.addEventListener("scroll",d,{passive:!0})}}),Oo(()=>{if(!n.activeAnchorId){const p=u();p?p.removeEventListener("scroll",d):window.removeEventListener("scroll",d)}f&&clearTimeout(f)}),We(()=>n.items,async()=>{await Tn(),setTimeout(c,100)},{deep:!0}),We(()=>n.items.length,async()=>{await Tn(),setTimeout(c,100)});function h(p,m){p&&p instanceof HTMLElement&&(o.value[m.anchorId]=p)}return(p,m)=>(ye(),Le("div",bAt,[Ee("nav",{class:"toc-nav",ref_key:"tocNavRef",ref:i},[Ee("ul",wAt,[(ye(!0),Le(Tt,null,Gn(p.items,g=>(ye(),Le("li",{key:g.id,class:Qr(["toc-item",s(g.level),l(g.anchorId)]),ref_for:!0,ref:v=>h(v,g)},[Ee("button",{class:"toc-link",onClick:v=>a("item-click",g.anchorId),title:g.title},$e(g.title),9,xAt)],2))),128))])],512)]))}}),_At=vr(SAt,[["__scopeId","data-v-7b223efd"]]),CAt={class:"tab-list"},kAt=["onClick","disabled"],EAt={key:0,class:"tab-icon"},AAt={class:"tab-label"},TAt={key:1,class:"tab-badge"},MAt=["onClick","title"],DAt=["title"],NAt={class:"tab-content"},OAt=nt({__name:"TabGroup",props:{tabs:{},modelValue:{},variant:{},size:{},fullWidth:{type:Boolean},vertical:{type:Boolean},closable:{type:Boolean},addable:{type:Boolean},disableTransition:{type:Boolean},align:{},titleAlign:{}},emits:["update:modelValue","tab-click","tab-close","tab-add"],setup(t,{emit:e}){const n=t,r=e,{t:i}=Ut(),o=re({get:()=>n.modelValue||n.tabs[0]?.id||"",set:u=>{u!==n.modelValue&&r("update:modelValue",u)}});Cl("activeTab",o),re(()=>n.tabs.find(u=>u.id===o.value));const a=u=>{u.disabled||u.id!==o.value&&(o.value=u.id,r("tab-click",u))},s=(u,c)=>{c.stopPropagation(),r("tab-close",u)},l=()=>{r("tab-add")};return We(()=>n.tabs,u=>{if(u.length>0&&!u.find(c=>c.id===o.value)){const c=u.find(f=>!f.disabled);c&&(o.value=c.id)}},{immediate:!0}),(u,c)=>(ye(),Le("div",{class:Qr(["tab-group",[`tab-group--${u.variant||"default"}`,`tab-group--${u.size||"md"}`,{"tab-group--full-width":u.fullWidth},{"tab-group--vertical":u.vertical}]])},[Ee("div",{class:Qr(["tab-nav",[`tab-nav--${u.variant||"default"}`,`tab-nav-align--${n.align||"left"}`]])},[Ee("div",CAt,[(ye(!0),Le(Tt,null,Gn(u.tabs,f=>(ye(),Le("button",{key:f.id,class:Qr(["tab-item",[`tab-item--${u.variant||"default"}`,{"tab-item--active":f.id===o.value},{"tab-item--disabled":f.disabled},`tab-title-align--${n.titleAlign||"left"}`]]),onClick:d=>a(f),disabled:f.disabled},[f.icon?(ye(),Le("span",EAt,$e(f.icon),1)):ot("",!0),Ee("span",AAt,$e(le(i)(f.label)),1),f.badge?(ye(),Le("span",TAt,$e(f.badge),1)):ot("",!0),u.closable&&!f.disabled?(ye(),Le("button",{key:2,class:"tab-close",onClick:d=>s(f.id,d),title:le(i)("common.closeTab")},"  ",8,MAt)):ot("",!0)],10,kAt))),128))]),u.addable?(ye(),Le("button",{key:0,class:"tab-add",onClick:l,title:le(i)("common.addNewTab")}," + ",8,DAt)):ot("",!0)],2),Ee("div",NAt,[Vr(u.$slots,"default",{},void 0,!0)])],2))}}),IAt=vr(OAt,[["__scopeId","data-v-998e28ff"]]),PAt={key:0,class:"description"},RAt=nt({__name:"JukeboxPlaylistCard",props:{playlist:{}},emits:["edit","delete","view","play"],setup(t,{emit:e}){const n=t,r=e,{t:i}=Ut(),o=()=>r("view",n.playlist),a=()=>r("edit",n.playlist),s=()=>r("delete",n.playlist.id),l=()=>r("play",n.playlist),u=re(()=>{const c=n.playlist.trackIds?.length||0;return`${c} track${c===1?"":"s"}`});return(c,f)=>(ye(),He(A1,{showView:"",showEdit:"",showDelete:"",onView:o,onEdit:a,onDelete:s},{header:De(()=>[Ee("h3",null,$e(c.playlist.name),1),Ee("h4",null,$e(u.value),1)]),actions:De(()=>[xe(Ya,{onClick:l,variant:"success",size:"small",title:le(i)("common.play")},{default:De(()=>[xe(le(L_))]),_:1},8,["title"])]),default:De(()=>[c.playlist.description?(ye(),Le("div",PAt,[Ee("p",null,$e(c.playlist.description),1)])):ot("",!0)]),_:1}))}}),FAt=vr(RAt,[["__scopeId","data-v-3313d26c"]]);function LAt(t){return N8()?(hI(t),!0):!1}function b5e(t){let e=!1,n;const r=Vw(!0);return(...i)=>(e||(n=r.run(()=>t(...i)),e=!0),n)}const $At=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const BAt=Object.prototype.toString,zAt=t=>BAt.call(t)==="[object Object]",nI=()=>{};function qAt(t,e){function n(...r){return new Promise((i,o)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(o)})}return n}function VAt(...t){let e=0,n,r=!0,i=nI,o,a,s,l,u;!li(t[0])&&typeof t[0]=="object"?{delay:a,trailing:s=!0,leading:l=!0,rejectOnCancel:u=!1}=t[0]:[a,s=!0,l=!0,u=!1]=t;const c=()=>{n&&(clearTimeout(n),n=void 0,i(),i=nI)};return d=>{const h=y0(a),p=Date.now()-e,m=()=>o=d();return c(),h<=0?(e=Date.now(),m()):(p>h&&(l||!r)?(e=Date.now(),m()):s&&(o=new Promise((g,v)=>{i=u?v:g,n=setTimeout(()=>{e=Date.now(),r=!0,g(m()),c()},Math.max(0,h-p))})),!l&&!n&&(n=setTimeout(()=>r=!0,h)),r=!1,o)}}function WT(t){return Array.isArray(t)?t:[t]}function HAt(t,e=200,n=!1,r=!0,i=!1){return qAt(VAt(e,n,r,i),t)}function UAt(t,e,n){return We(t,e,{...n,immediate:!0})}const w5e=$At?window:void 0;function jAt(t){var e;const n=y0(t);return(e=n?.$el)!=null?e:n}function D6(...t){const e=[],n=()=>{e.forEach(s=>s()),e.length=0},r=(s,l,u,c)=>(s.addEventListener(l,u,c),()=>s.removeEventListener(l,u,c)),i=re(()=>{const s=WT(y0(t[0])).filter(l=>l!=null);return s.every(l=>typeof l!="string")?s:void 0}),o=UAt(()=>{var s,l;return[(l=(s=i.value)==null?void 0:s.map(u=>jAt(u)))!=null?l:[w5e].filter(u=>u!=null),WT(y0(i.value?t[1]:t[0])),WT(le(i.value?t[2]:t[1])),y0(i.value?t[3]:t[2])]},([s,l,u,c])=>{if(n(),!s?.length||!l?.length||!u?.length)return;const f=zAt(c)?{...c}:c;e.push(...s.flatMap(d=>l.flatMap(h=>u.map(p=>r(d,h,p,f)))))},{flush:"post"}),a=()=>{o(),n()};return LAt(n),a}const WAt={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function GAt(t={}){const{reactive:e=!1,target:n=w5e,aliasMap:r=WAt,passive:i=!0,onEventFired:o=nI}=t,a=Ps(new Set),s={toJSON(){return{}},current:a},l=e?Ps(s):s,u=new Set,c=new Set,f=new Set;function d(g,v){g in l&&(e?l[g]=v:l[g].value=v)}function h(){a.clear();for(const g of f)d(g,!1)}function p(g,v){var y,b;const w=(y=g.key)==null?void 0:y.toLowerCase(),S=[(b=g.code)==null?void 0:b.toLowerCase(),w].filter(Boolean);w&&(v?a.add(w):a.delete(w));for(const _ of S)f.add(_),d(_,v);w==="shift"&&!v?(c.forEach(_=>{a.delete(_),d(_,!1)}),c.clear()):typeof g.getModifierState=="function"&&g.getModifierState("Shift")&&v&&[...a,...S].forEach(_=>c.add(_)),w==="meta"&&!v?(u.forEach(_=>{a.delete(_),d(_,!1)}),u.clear()):typeof g.getModifierState=="function"&&g.getModifierState("Meta")&&v&&[...a,...S].forEach(_=>u.add(_))}D6(n,"keydown",g=>(p(g,!0),o(g)),{passive:i}),D6(n,"keyup",g=>(p(g,!1),o(g)),{passive:i}),D6("blur",h,{passive:i}),D6("focus",h,{passive:i});const m=new Proxy(l,{get(g,v,y){if(typeof v!="string")return Reflect.get(g,v,y);if(v=v.toLowerCase(),v in r&&(v=r[v]),!(v in l))if(/[+_-]/.test(v)){const w=v.split(/[+_-]/g).map(x=>x.trim());l[v]=re(()=>w.map(x=>y0(m[x])).every(Boolean))}else l[v]=fr(!1);const b=Reflect.get(g,v,y);return e?y0(b):b}});return m}var KAt=Object.defineProperty,XAt=(t,e,n)=>e in t?KAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ec=(t,e,n)=>XAt(t,typeof e!="symbol"?e+"":e,n);const xi=class{};Ec(xi,"remove",(t,e)=>{if(!t||e===void 0)return;const[n]=t.splice(e,1);return n}),Ec(xi,"insert",(t,e,n)=>{!t||e===void 0||t.splice(e,0,n)}),Ec(xi,"move",(t,e,n,r)=>{if(!t||!n||e===void 0||r===void 0)return;const i=xi.remove(t,e);xi.insert(n,r,i)}),Ec(xi,"swap",(t,e,n,r)=>{if(!t||!n||e===void 0||r===void 0)return;const i=t[e],o=n[r];t[e]=o,n[r]=i}),Ec(xi,"copy",(t,e,n,r)=>{if(!t||e===void 0||!n||r===void 0)return;const i=t[e];xi.insert(n,r,i)}),Ec(xi,"applyTransfer",t=>{var e,n,r,i,o,a,s;const l=t.hovered.element.value,u=t.hovered.zone.value;if(l){const c=(n=(e=t.elementsMap.value.get(l))==null?void 0:e.data)==null?void 0:n.source,f=(i=(r=t.elementsMap.value.get(l))==null?void 0:r.data)==null?void 0:i.index,d=t.draggingElements.value.values().next().value,h=(o=d?.data)==null?void 0:o.index,p=h!==void 0&&f!==void 0&&h>f?1:-1;Array.from(t.draggingElements.value.values()).sort((m,g)=>{var v,y;return p*((((v=m.data)==null?void 0:v.index)||0)-(((y=g.data)==null?void 0:y.index)||0))}).forEach(m=>{var g,v;return xi.move((g=m.data)==null?void 0:g.source,(v=m.data)==null?void 0:v.index,c,f)})}else if(u){const c=(s=(a=t.zonesMap.value.get(u))==null?void 0:a.data)==null?void 0:s.source,f=c?.length;Array.from(t.draggingElements.value.values()).sort((d,h)=>{var p,m;return(((p=h.data)==null?void 0:p.index)||0)-(((m=d.data)==null?void 0:m.index)||0)}).forEach(d=>{var h,p;return xi.move((h=d.data)==null?void 0:h.source,(p=d.data)==null?void 0:p.index,c,f)})}}),Ec(xi,"applyCopy",t=>{var e,n,r,i,o,a;const s=t.hovered.element.value,l=t.hovered.zone.value;if(s){const u=(n=(e=t.elementsMap.value.get(s))==null?void 0:e.data)==null?void 0:n.source,c=(i=(r=t.elementsMap.value.get(s))==null?void 0:r.data)==null?void 0:i.index;Array.from(t.draggingElements.value.values()).sort((f,d)=>{var h,p;return(((h=d.data)==null?void 0:h.index)||0)-(((p=f.data)==null?void 0:p.index)||0)}).forEach(f=>{var d,h;return xi.copy((d=f.data)==null?void 0:d.source,(h=f.data)==null?void 0:h.index,u,c)})}else if(l){const u=(a=(o=t.zonesMap.value.get(l))==null?void 0:o.data)==null?void 0:a.source,c=u?.length;Array.from(t.draggingElements.value.values()).sort((f,d)=>{var h,p;return(((h=d.data)==null?void 0:h.index)||0)-(((p=f.data)==null?void 0:p.index)||0)}).forEach(f=>{var d,h;return xi.copy((d=f.data)==null?void 0:d.source,(h=f.data)==null?void 0:h.index,u,c)})}}),Ec(xi,"applySwap",t=>{var e,n,r,i,o,a,s,l;const u=t.hovered.element.value,c=t.hovered.zone.value;if(u&&t.draggingElements.value.size===1){const f=t.draggingElements.value.values().next().value;xi.swap((e=f?.data)==null?void 0:e.source,(n=f?.data)==null?void 0:n.index,(i=(r=t.elementsMap.value.get(u))==null?void 0:r.data)==null?void 0:i.source,(a=(o=t.elementsMap.value.get(u))==null?void 0:o.data)==null?void 0:a.index)}else if(c){const f=(l=(s=t.zonesMap.value.get(c))==null?void 0:s.data)==null?void 0:l.source,d=f?.length;Array.from(t.draggingElements.value.values()).sort((h,p)=>{var m,g;return(((m=p.data)==null?void 0:m.index)||0)-(((g=h.data)==null?void 0:g.index)||0)}).forEach(h=>{var p,m;return xi.move((p=h.data)==null?void 0:p.source,(m=h.data)==null?void 0:m.index,f,d)})}}),Ec(xi,"applyRemove",t=>{Array.from(t.draggingElements.value.values()).sort((e,n)=>{var r,i;return(((r=n.data)==null?void 0:r.index)||0)-(((i=e.data)==null?void 0:i.index)||0)}).forEach(e=>{var n,r;(n=e.data)!=null&&n.source&&((r=e.data)==null?void 0:r.index)!==void 0&&xi.remove(e.data.source,e.data.index)})}),Ec(xi,"applyInsert",(t,e)=>{var n,r,i,o,a,s;const l=t.hovered.element.value,u=t.hovered.zone.value;if(l&&e.length>0){const c=(r=(n=t.elementsMap.value.get(l))==null?void 0:n.data)==null?void 0:r.source,f=(o=(i=t.elementsMap.value.get(l))==null?void 0:i.data)==null?void 0:o.index;e.forEach(d=>{xi.insert(c,f,d)})}else if(u){const c=(s=(a=t.zonesMap.value.get(u))==null?void 0:a.data)==null?void 0:s.source,f=c?.length;e.forEach(d=>{xi.insert(c,f,d)})}});let YAt=xi;const Pf=b5e(()=>{const t=fr(!1),e=we(new Map),n=re(()=>e.value.size>0),r={component:we(null),ref:fr(null),options:fr(null),animating:{enter:fr(!1),leave:fr(!1),appear:fr(!1)}},i=we(new Map),o=we(new Set),a=we(new Map),s=fr(new Set),l=fr(new Set),u=typeof window<"u"&&"IntersectionObserver"in window,c=u?new IntersectionObserver(k=>{k.forEach(C=>l.value[C.isIntersecting?"add":"delete"](C.target))}):null,f=u?new IntersectionObserver(k=>{k.forEach(C=>s.value[C.isIntersecting?"add":"delete"](C.target))}):null,d=(k,C)=>{c&&(k==="add"?c.observe(C):(c.unobserve(C),l.value.delete(C)))},h=(k,C)=>{f&&(k==="add"?f.observe(C):(f.unobserve(C),s.value.delete(C)))},p={start:fr(null),current:fr(null),offset:{percent:fr(null),pixel:fr(null)}},{KeyW:m,KeyS:g,KeyA:v,KeyD:y,ctrl:b,shift:w,alt:x,meta:S}=GAt(),_={zone:fr(null),element:fr(null)};return{draggingElements:e,isDragging:n,activeContainer:r,elementsMap:i,selectedElements:o,zonesMap:a,visibleZones:s,visibleElements:l,pointerPosition:p,keyboard:{w:m,s:g,a:v,d:y,ctrl:b,shift:w,alt:x,meta:S},hovered:_,isPending:t,handleDragElementIntersection:d,handleDropZoneIntersection:h}}),ZAt=t=>{const e=we(null),{draggingElements:n,pointerPosition:r,isDragging:i,activeContainer:o}=Pf();return kt(()=>{o.ref=e,o.options.value=null}),Oo(()=>{o.ref.value=null,o.options.value=null}),{elementRef:e,draggingElements:n,pointerPosition:r,isDragging:i,animating:o.animating}},JAt=["innerHTML"],QAt=nt({__name:"DefaultOverlay",props:{styles:{}},setup(t){const{elementRef:e,pointerPosition:n,isDragging:r,draggingElements:i}=ZAt(),o=re(()=>{var a,s,l,u;return{transform:`translate3d(${(((a=n.current.value)==null?void 0:a.x)??0)-(((s=n.offset.pixel.value)==null?void 0:s.x)??0)}px, ${(((l=n.current.value)==null?void 0:l.y)??0)-(((u=n.offset.pixel.value)==null?void 0:u.y)??0)}px, 0)`,zIndex:1e3,position:"fixed",top:0,left:0,transition:"0.3s cubic-bezier(0.165, 0.84, 0.44, 1)",...t.styles}});return(a,s)=>le(r)?(ye(),Le("div",{key:0,ref_key:"elementRef",ref:e,style:Al(o.value)},[(ye(!0),Le(Tt,null,Gn(le(i),([l,u])=>{var c,f;return ye(),Le(Tt,{key:u.id},[u.layer?(ye(),He(ya(u.layer),{key:0,node:l,data:u.data,id:u.id,groups:u.groups},null,8,["node","data","id","groups"])):(ye(),Le("div",{key:1,innerHTML:u.initialHTML,style:Al({width:`${(c=u.initialRect)==null?void 0:c.width}px`,height:`${(f=u.initialRect)==null?void 0:f.height}px`})},null,12,JAt))],64)}),128))],4)):ot("",!0)}}),jte=nt({__name:"DragOverlay",props:{styles:{}},setup(t){const e=t,{activeContainer:n}=Pf(),r=re(()=>({component:n.component.value??QAt,props:e}));return(i,o)=>le(n).options.value?(ye(),He(Hd,{key:0,name:le(n).options.value.name,duration:le(n).options.value.duration,"enter-from-class":le(n).options.value.enterFromClass,"enter-to-class":le(n).options.value.enterToClass,"enter-active-class":le(n).options.value.enterActiveClass,"leave-from-class":le(n).options.value.leaveFromClass,"leave-to-class":le(n).options.value.leaveToClass,"leave-active-class":le(n).options.value.leaveActiveClass,"appear-active-class":le(n).options.value.appearActiveClass,"appear-from-class":le(n).options.value.appearFromClass,"appear-to-class":le(n).options.value.appearToClass,mode:le(n).options.value.mode,type:le(n).options.value.type,css:le(n).options.value.css,appear:!0,persisted:le(n).options.value.persisted,onEnter:le(n).options.value.onEnter,onLeave:le(n).options.value.onLeave,onBeforeEnter:le(n).options.value.onBeforeEnter,onBeforeLeave:le(n).options.value.onBeforeLeave,onBeforeAppear:le(n).options.value.onBeforeAppear,onAfterEnter:le(n).options.value.onAfterEnter,onAfterLeave:le(n).options.value.onAfterLeave,onAfterAppear:le(n).options.value.onAfterAppear},{default:De(()=>[(ye(),He(ya(r.value.component||r.value),Xc(Vm(r.value.props||{})),null,16))]),_:1},8,["name","duration","enter-from-class","enter-to-class","enter-active-class","leave-from-class","leave-to-class","leave-active-class","appear-active-class","appear-from-class","appear-to-class","mode","type","css","persisted","onEnter","onLeave","onBeforeEnter","onBeforeLeave","onBeforeAppear","onAfterEnter","onAfterLeave","onAfterAppear"])):(ye(),He(ya(r.value.component||r.value),Xc(Ka({key:1},r.value.props||{})),null,16))}}),e9t={install(t,e){t.component("DragOverlay",jte);const n=t.mount;t.mount=function(i){var o;const a=n.call(this,i),s=typeof i=="string"?document.querySelector(i):i;if(s&&s instanceof Element&&!s.querySelector("#vue-dnd-kit-overlay")){const l=document.createElement("div");l.id="vue-dnd-kit-overlay",l.style.pointerEvents="none",s.appendChild(l);const u=xe(jte,{styles:(o=e?.defaultOverlay)==null?void 0:o.styles});D_(u,l),t.__VUE_DND_KIT_OVERLAY__={container:l,vnode:u,options:e?.defaultOverlay||{}};const c=Pf();t.__VUE_DND_KIT_STORE__=c}return a};const r=t.unmount;t.unmount=function(){return t.__VUE_DND_KIT_OVERLAY__&&(D_(null,t.__VUE_DND_KIT_OVERLAY__.container),delete t.__VUE_DND_KIT_OVERLAY__),r.call(this)}}},Wte=(t,e)=>t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y,nm=t=>{if(!t)return{x:0,y:0,width:0,height:0,bottom:0,left:0,right:0,top:0};const e=t.getBoundingClientRect();return{bottom:e.bottom,left:e.left,right:e.right,top:e.top,x:e.x,y:e.y,width:e.width,height:e.height}},GT=t=>({x:t.x+t.width/2,y:t.y+t.height/2}),t9t=(t,e)=>{const n=nm(t);return{pixel:{x:e.x-n.x,y:e.y-n.y},percent:{x:(e.x-n.x)/n.width*100,y:(e.y-n.y)/n.height*100}}},Gte=(t,e)=>{const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},Kte=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y)),i=n*r,o=t.width*t.height,a=e.width*e.height;return(i/o*100+i/a*100)/2},Xte="data-vue-dnd-kit-draggable",dl=t=>{t.preventDefault()},Dh=t=>({items:Array.from(t.draggingElements.value.values())}),n9t=t=>{const{elementsMap:e,draggingElements:n,hovered:r,selectedElements:i,isDragging:o,visibleElements:a,handleDragElementIntersection:s}=Pf(),l=we(null),u=re(()=>r.element.value===l.value),c=fr(t?.id||ure()),f=fr(t?.disabled??!1),d=re(()=>f.value||!l.value||!e.value.has(l.value)?!1:n.value.has(l.value)),h=re(()=>{if(f.value||!l.value||!o.value||!a.value.has(l.value))return!1;const m=e.value.get(l.value);return m!=null&&m.groups.length?!Array.from(n.value.entries()).some(([g,v])=>v.groups.length?!v.groups.some(y=>m.groups.includes(y)):!1):!0}),p=re(()=>{if(f.value||!l.value||!o.value||!a.value.has(l.value)||r.element.value!==l.value)return!1;const m=e.value.get(l.value);return m!=null&&m.groups.length?!Array.from(n.value.entries()).some(([g,v])=>v.groups.length?!v.groups.some(y=>m.groups.includes(y)):!1):!0});return{elementRef:l,registerElement:()=>{if(!l.value)throw new Error("ElementRef is not set");e.value.set(l.value,{node:l.value,groups:t?.groups??[],layer:t?.layer??null,defaultLayer:t?.layer??null,events:t?.events??{},data:t?.data??null,id:c.value,disabled:f??!1}),s("add",l.value),l.value.addEventListener("dragstart",dl),l.value.addEventListener("drag",dl),l.value.setAttribute(Xte,"true"),l.value.setAttribute("draggable","false")},unregisterElement:()=>{l.value&&(e.value.delete(l.value),i.value.delete(l.value),l.value.removeEventListener("dragstart",dl),l.value.removeEventListener("drag",dl),l.value.removeAttribute(Xte),l.value.removeAttribute("draggable"))},isDragging:d,isOvered:u,isAllowed:h,isLazyAllowed:p,id:c}},Fc=(t,e)=>t?e.contains(t):!1,r9t=t=>{var e,n;const r=nm(t.activeContainer.ref.value),i=GT(r),o=((e=t.pointerPosition.current.value)==null?void 0:e.x)??0,a=((n=t.pointerPosition.current.value)==null?void 0:n.y)??0,s=!(r&&o>=r.x&&o<=r.x+r.width&&a>=r.y&&a<=r.y+r.height),l=Array.from(t.draggingElements.value.keys()),u=Array.from(t.visibleElements.value.entries()).filter(([f,d])=>{if(!f)return!1;const h=nm(f);return h&&r&&Wte(h,r)}).map(([f,d])=>{const h=nm(f),p=GT(h),m=o>=h.x&&o<=h.x+h.width&&a>=h.y&&a<=h.y+h.height,g=Kte(h,r),v=Gte(i,p);let y=0;for(const[b,w]of t.visibleElements.value.entries())b!==f&&b&&f&&Fc(f,b)&&y++;return{element:d,node:f,isPointerInElement:m,overlapPercent:g,depth:y,centerDistance:v}}).sort((f,d)=>{if(!s){if(f.isPointerInElement&&d.isPointerInElement)return d.depth-f.depth;if(f.isPointerInElement!==d.isPointerInElement)return f.isPointerInElement?-1:1}return Math.abs(f.overlapPercent-d.overlapPercent)<=1?f.centerDistance-d.centerDistance:d.overlapPercent-f.overlapPercent}),c=Array.from(t.visibleZones.value.entries()).filter(([f,d])=>{if(!f||l.some(p=>p&&Fc(f,p)))return!1;const h=nm(f);return h&&r&&Wte(h,r)}).map(([f,d])=>{const h=nm(f),p=GT(h),m=o>=h.x&&o<=h.x+h.width&&a>=h.y&&a<=h.y+h.height,g=Kte(h,r),v=Gte(i,p);let y=0;for(const[b,w]of t.visibleZones.value.entries())b!==f&&b&&f&&Fc(f,b)&&y++;return{zone:d,node:f,isPointerInElement:m,overlapPercent:g,depth:y,centerDistance:v}}).sort((f,d)=>{if(!s){if(f.isPointerInElement&&d.isPointerInElement)return d.depth-f.depth;if(f.isPointerInElement!==d.isPointerInElement)return f.isPointerInElement?-1:1}return Math.abs(f.overlapPercent-d.overlapPercent)<=1?f.centerDistance-d.centerDistance:d.overlapPercent-f.overlapPercent});return[...u.map(f=>f.node),...c.map(f=>f.node)]},i9t=(t,e)=>{const{pointerPosition:n,keyboard:r}=Pf(),i=e?.moveStep||10;return{onKeyboardStart:o=>{var a;dl(o);const s=nm(t.value);(a=t.value)==null||a.blur();const l=s.x+s.width/2,u=s.y+s.height/2;n.start.value={x:l,y:u},n.current.value={x:l,y:u},n.offset.pixel.value={x:s.width/2,y:s.height/2},n.offset.percent.value={x:50,y:50}},onKeyboardMove:()=>{if(!n.current.value)return;const o=n.current.value.x,a=n.current.value.y;let s=o,l=a;r.w.value&&(l-=i),r.s.value&&(l+=i),r.a.value&&(s-=i),r.d.value&&(s+=i),n.current.value={x:s,y:l}},onKeyboardEnd:()=>{n.current.value=null,n.start.value=null,n.offset.pixel.value=null,n.offset.percent.value=null}}},o9t=t=>{const e=Pf();return{onPointerStart:n=>{e.pointerPosition.start.value={x:n.clientX,y:n.clientY},e.pointerPosition.current.value={x:n.clientX,y:n.clientY};const{pixel:r,percent:i}=t9t(t.value,{x:n.clientX,y:n.clientY});e.pointerPosition.offset.pixel.value=r,e.pointerPosition.offset.percent.value=i},onPointerMove:n=>{e.isPending.value||(e.pointerPosition.current.value={x:n.clientX,y:n.clientY})},onPointerEnd:()=>{e.pointerPosition.current.value=null,e.pointerPosition.start.value=null,e.pointerPosition.offset.pixel.value=null,e.pointerPosition.offset.percent.value=null}}},a9t=(t,e)=>{var n,r;const i=Pf(),{onPointerStart:o,onPointerMove:a,onPointerEnd:s}=o9t(t),{onKeyboardStart:l,onKeyboardMove:u,onKeyboardEnd:c}=i9t(t,e?.keyboard);let f=null;const d=w=>{var x,S;if(!w)return new Map;const _=i.selectedElements.value.has(w);if(i.selectedElements.value.size>0&&_){const E=new Map;return i.selectedElements.value.forEach(M=>{var A,N;const T=i.elementsMap.value.get(M);T&&E.set(M,{...T,initialHTML:((A=T.node)==null?void 0:A.outerHTML)??"",initialRect:(N=T.node)==null?void 0:N.getBoundingClientRect()})}),E}i.selectedElements.value.clear();const k=i.elementsMap.value.get(w);if(!k)return new Map;const C=new Map;return C.set(w,{...k,initialHTML:((x=k.node)==null?void 0:x.outerHTML)??"",initialRect:(S=k.node)==null?void 0:S.getBoundingClientRect()}),C},h=w=>{if(!w)return{element:null,zone:null};const x=Array.isArray(w)?w:[w],S=Array.from(i.draggingElements.value.keys()),_=Array.from(i.zonesMap.value.entries()).flatMap(([E,M])=>M.disabled?[E]:[]),k=Array.from(i.elementsMap.value.entries()).flatMap(([E,M])=>M.disabled?[E]:[]),C=x.find(E=>{if(!i.visibleZones.value.has(E))return!1;const M=i.zonesMap.value.get(E);return!(!M||M.disabled||_.some(A=>E===A||Fc(E,A))||S.some(A=>A&&(A===M.node||Fc(M.node,A)))||M.groups.length&&Array.from(i.draggingElements.value.values()).some(A=>A.groups.length?!A.groups.some(N=>M.groups.includes(N)):!1))});return C?{element:x.filter(E=>{if(!i.visibleElements.value.has(E)||!i.elementsMap.value.has(E))return!1;const M=i.elementsMap.value.get(E);if(M!=null&&M.disabled)return!1;const A=_.some(T=>E===T||Fc(E,T)),N=k.some(T=>E===T||Fc(E,T));return A||N?!1:!Array.from(i.draggingElements.value.values()).some(T=>T.groups.length?!T.groups.some(I=>{var O;return(O=i.elementsMap.value.get(E))==null?void 0:O.groups.includes(I)}):!1)}).find(E=>S.some(M=>M&&(M===E||Fc(E,M)||Fc(M,E)))?!1:E===C||Fc(E,C))||null,zone:C}:{element:null,zone:null}},p=((n=e?.sensor)==null?void 0:n.setup)||r9t,m=w=>{var x,S,_,k,C,E,M,A,N,T,I,O;const q=i.hovered.element.value,L=i.hovered.zone.value,Y=w.element,R=w.zone;i.hovered.element.value=Y,i.hovered.zone.value=R,q!==Y&&(q&&((_=(S=(x=i.elementsMap.value.get(q))==null?void 0:x.events)==null?void 0:S.onLeave)==null||_.call(S,i,Dh(i))),Y&&((E=(C=(k=i.elementsMap.value.get(Y))==null?void 0:k.events)==null?void 0:C.onHover)==null||E.call(C,i,Dh(i)))),L!==R&&(L&&((N=(A=(M=i.zonesMap.value.get(L))==null?void 0:M.events)==null?void 0:A.onLeave)==null||N.call(A,i,Dh(i))),R&&((O=(I=(T=i.zonesMap.value.get(R))==null?void 0:T.events)==null?void 0:I.onHover)==null||O.call(I,i,Dh(i))))},g=HAt(()=>{const w=p(i),x=h(w);m(x)},((r=e?.sensor)==null?void 0:r.throttle)??0),v=()=>{g(),f=requestAnimationFrame(v)},y=()=>v(),b=()=>{f!==null&&(s(),c(),cancelAnimationFrame(f),f=null)};return{activate:w=>{i.draggingElements.value=d(t.value),i.draggingElements.value.forEach(x=>{var S,_;return(_=(S=x.events).onStart)==null?void 0:_.call(S,i,Dh(i))}),w instanceof PointerEvent?o(w):l(w),y()},track:w=>{i.draggingElements.value.forEach(x=>{var S,_;return(_=(S=x.events).onMove)==null?void 0:_.call(S,i,Dh(i))}),w instanceof KeyboardEvent?u():a(w)},deactivate:async(w=!0)=>{var x,S;if(i.hovered.zone.value){const _=i.zonesMap.value.get(i.hovered.zone.value),k=(S=_==null?void 0:(x=_.events).onDrop)==null?void 0:S.call(x,i,Dh(i));if(k instanceof Promise)try{i.isPending.value=!0;const C=await k;return C&&(w&&i.selectedElements.value.clear(),i.draggingElements.value.clear(),i.hovered.zone.value=null,i.hovered.element.value=null,b()),C}catch{return!1}finally{i.isPending.value=!1}else w&&i.selectedElements.value.clear(),i.draggingElements.value.clear(),i.hovered.zone.value=null,i.hovered.element.value=null,b()}else i.draggingElements.value.forEach(_=>{var k,C;return(C=(k=_.events).onEnd)==null?void 0:C.call(k,i,Dh(i))}),w&&i.selectedElements.value.clear(),i.draggingElements.value.clear(),i.hovered.zone.value=null,i.hovered.element.value=null,b()}}},s9t=b5e(()=>{let t="",e="",n="",r=null,i=null,o=null,a=null,s=null;const{activeContainer:l,isPending:u,elementsMap:c}=Pf(),f=()=>{const p=document.body;t=p.style.userSelect,p.style.userSelect="none",window.addEventListener("contextmenu",dl),window.addEventListener("selectstart",dl),window.addEventListener("touchstart",dl),window.addEventListener("touchmove",dl)},d=()=>{const p=document.body;p.style.userSelect=t,p.style.touchAction=e,p.style.overscrollBehavior=n,window.removeEventListener("contextmenu",dl),window.removeEventListener("selectstart",dl),window.removeEventListener("touchstart",dl),window.removeEventListener("touchmove",dl)},h=()=>{r&&(document.removeEventListener("pointermove",r),r=null),i&&(document.removeEventListener("pointerup",i),i=null),o&&(o=null),a&&(document.removeEventListener("wheel",a),a=null),s&&(document.removeEventListener("keydown",s),document.removeEventListener("keypress",s),document.removeEventListener("keyup",s),s=null)};return{handleDragStart:(p,m,g)=>{if(!m.value||u.value)return;const v=c.value.get(m.value);if(v!=null&&v.disabled)return;h(),p.target.blur(),g!=null&&g.container&&(l.component.value=g.container);const{activate:y,track:b,deactivate:w}=a9t(m,g);i=()=>{w(!0).then(x=>{x!==!1&&(l.component.value=null,d(),w(!0),h())})},o=()=>{l.component.value=null,d(),w(!1),h()},r=x=>b(x),a=x=>b(x),s=x=>{x.type==="keyup"&&(x.code==="Escape"&&o?.(),x.code==="Enter"&&i?.()),b(x)},f(),y(p),document.addEventListener("pointermove",r),document.addEventListener("pointerup",i),document.addEventListener("wheel",a),document.addEventListener("keydown",s),document.addEventListener("keypress",s),document.addEventListener("keyup",s)}}}),l9t=t=>{const{id:e,elementRef:n,isDragging:r,isOvered:i,isAllowed:o,isLazyAllowed:a,registerElement:s,unregisterElement:l}=n9t(t),{pointerPosition:u}=Pf(),{handleDragStart:c}=s9t(),f=d=>c(d,n,t);return kt(s),On(l),{pointerPosition:u,elementRef:n,isDragging:r,isOvered:i,isAllowed:o,isLazyAllowed:a,handleDragStart:f,id:e}},u9t=t=>{const{zonesMap:e,hovered:n,draggingElements:r,isDragging:i,handleDropZoneIntersection:o}=Pf(),a=we(null),s=re(()=>n.zone.value===a.value),l=re(()=>{if(!a.value||!i.value)return!1;const c=e.value.get(a.value);return c!=null&&c.groups.length?!Array.from(r.value.values()).some(f=>f.groups.length?!f.groups.some(d=>c.groups.includes(d)):!1):!0}),u=re(()=>{if(!a.value||!i.value||n.zone.value!==a.value)return!1;const c=e.value.get(a.value);return c!=null&&c.groups.length?!Array.from(r.value.values()).some(f=>!f.groups.some(d=>c.groups.includes(d))):!0});return{elementRef:a,registerZone:()=>{if(!a.value)throw new Error("elementRef is not set");o("add",a.value),e.value.set(a.value,{node:a.value,groups:t?.groups??[],events:t?.events??{},data:t?.data??void 0,disabled:t?.disabled??!1}),a.value.setAttribute("data-dnd-droppable","true")},unregisterZone:()=>{a.value&&(o("remove",a.value),e.value.delete(a.value))},isOvered:s,isAllowed:l,isLazyAllowed:u}},c9t=t=>{const{elementRef:e,registerZone:n,unregisterZone:r,isOvered:i,isAllowed:o,isLazyAllowed:a}=u9t(t);return kt(n),On(r),{elementRef:e,isOvered:i,isAllowed:o,isLazyAllowed:a}},f9t={class:"tree-controls"},d9t={key:1,class:"tree-item-dot"},h9t=nt({__name:"TreeControls",props:{expanded:{type:Boolean,default:!1},hasChildren:{type:Boolean,default:!1},onArrowClick:{type:Function},onDragStart:{type:Function}},setup(t){return(e,n)=>(ye(),Le("div",f9t,[Ee("div",{class:"tree-arrow",onClick:n[0]||(n[0]=(...r)=>e.onArrowClick&&e.onArrowClick(...r))},[e.hasChildren?(ye(),Le("svg",{key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:Qr({expanded:e.expanded})},n[2]||(n[2]=[Ee("path",{d:"M9 18l6-6-6-6"},null,-1)]),2)):(ye(),Le("div",d9t))]),Ee("div",{class:"tree-drag-handle",onPointerdown:n[1]||(n[1]=(...r)=>e.onDragStart&&e.onDragStart(...r))},n[3]||(n[3]=[Xre('<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-20922014><circle cx="9" cy="5" r="1" data-v-20922014></circle><circle cx="9" cy="12" r="1" data-v-20922014></circle><circle cx="9" cy="19" r="1" data-v-20922014></circle><circle cx="15" cy="5" r="1" data-v-20922014></circle><circle cx="15" cy="12" r="1" data-v-20922014></circle><circle cx="15" cy="19" r="1" data-v-20922014></circle></svg>',1)]),32)]))}}),p9t=vr(h9t,[["__scopeId","data-v-20922014"]]),m9t={class:"tree-item-content"},g9t={class:"tree-item-text"},v9t=nt({__name:"TreeItem",props:{data:{},itemKey:{},nestingKey:{},source:{},index:{},groups:{}},setup(t){const e=re(()=>t.data[t.nestingKey]),n=we(!0),{handleDragStart:r,elementRef:i}=l9t({data:re(()=>({source:t.source,index:t.index}))}),o=()=>{n.value=!n.value};return(a,s)=>(ye(),Le("div",{class:"tree-item",ref_key:"elementRef",ref:i},[Ee("div",m9t,[xe(p9t,{expanded:n.value,"has-children":!!e.value,"on-arrow-click":o,"on-drag-start":le(r)},null,8,["expanded","has-children","on-drag-start"]),Ee("div",g9t,[Vr(a.$slots,"default",{item:a.data})])]),e.value&&n.value?(ye(),He(x5e,{key:0,data:e.value,"item-key":a.itemKey,"nesting-key":a.nestingKey,class:"tree-children"},{default:De(({item:l})=>[Vr(a.$slots,"default",{item:l})]),_:3},8,["data","item-key","nesting-key"])):ot("",!0)],512))}}),x5e=nt({__name:"Tree",props:{data:{},itemKey:{},nestingKey:{},groups:{default:()=>["tree"]}},setup(t){const{elementRef:e,isOvered:n}=c9t({groups:t.groups,data:re(()=>({source:t.data})),events:{onDrop:YAt.applyTransfer}});return(r,i)=>(ye(),Le("div",{ref_key:"elementRef",ref:e,class:Qr(["tree-container",{"tree-container-overed":le(n)}])},[(ye(!0),Le(Tt,null,Gn(r.data,(o,a)=>(ye(),He(v9t,{key:String(o[r.itemKey]),data:o,source:r.data,index:a,groups:r.groups,"item-key":r.itemKey,"nesting-key":r.nestingKey},{default:De(({item:s})=>[Vr(r.$slots,"default",{item:s})]),_:2},1032,["data","source","index","groups","item-key","nesting-key"]))),128))],2))}}),y9t={class:"module-document-tree"},b9t={class:"tree-controls"},w9t={class:"tree-container"},x9t={class:"module-tree-item-content"},S9t={class:"module-tree-item-title"},_9t=nt({__name:"ModuleDocumentTree",props:{moduleId:{},noteTree:{}},emits:["update:noteTree"],setup(t,{emit:e}){const n=t,r=e,i=_f(),o=re(()=>i.items.filter(x=>x.moduleId===n.moduleId&&x.hidden===!0));function a(x,S){return x.map(_=>{const k=S.find(C=>C.id===_.noteId);return{id:_.noteId,noteId:_.noteId,title:k?.title||"Untitled",children:_.children?a(_.children,S):void 0}})}function s(x){return x.map(S=>({noteId:S.noteId,children:S.children?s(S.children):void 0}))}const l=we(a(Ms(n.noteTree),Ms(o.value))),u=we(Ms(o.value));We(()=>[n.noteTree,o.value],()=>{l.value=a(Ms(n.noteTree),Ms(o.value)),u.value=Ms(o.value)},{deep:!0});const c=we(!1),f=we(null),d=we(null),h=we(!1),p=we(null);We(l,x=>{const S=JSON.stringify(s(x)),_=JSON.stringify(n.noteTree);S!==_&&r("update:noteTree",s(x))},{deep:!0});async function m(x){f.value={id:"",title:"",content:"",tags:[],moduleId:n.moduleId,typeId:null,hidden:!0,createdAt:Date.now(),updatedAt:Date.now()},h.value=!0,p.value=x,c.value=!0}async function g(){await m(null)}async function v(x){const S=u.value.find(_=>_.id===x.noteId);S&&(f.value={...S},d.value=x,h.value=!1,c.value=!0)}async function y(x){if(h.value){const{id:S,createdAt:_,updatedAt:k,...C}=x,E=await i.create(C);u.value.push({...E});const M={id:E.id,noteId:E.id,title:E.title||"Untitled",children:[]};if(p.value){const A=N=>{for(const T of N){if(T.id===p.value.id)return T.children=T.children||[],T.children.push(M),!0;if(T.children&&A(T.children))return!0}return!1};A(l.value)}else l.value.push(M)}else if(d.value){const S=u.value.findIndex(_=>_.id===x.id);if(S!==-1){u.value[S]={...x};const _=k=>{for(const C of k){if(C.noteId===x.id)return C.title=x.title||"Untitled",!0;if(C.children&&_(C.children))return!0}return!1};_(l.value)}await i.update(x.id,x)}c.value=!1,f.value=null,d.value=null,h.value=!1,p.value=null}function b(){c.value=!1,f.value=null,d.value=null,h.value=!1,p.value=null}async function w(x){async function S(k){const C=[];for(const E of k){if(E.id===x.id){await _(E);continue}E.children&&(E.children=await S(E.children)),C.push(E)}return C}async function _(k){const C=u.value.findIndex(E=>E.id===k.noteId);if(C!==-1&&(await i.remove(k.noteId),u.value.splice(C,1)),k.children)for(const E of k.children)await _(E)}l.value=await S(l.value)}return kt(async()=>{await i.load()}),(x,S)=>(ye(),Le("div",y9t,[Ee("div",b9t,[Vr(x.$slots,"add-root",{},()=>[xe(Vs,{flat:""},{default:De(()=>[xe(Ya,{size:"small",variant:"primary",onClick:g},{default:De(()=>[xe(le(wv))]),_:1})]),_:1})],!0)]),Ee("div",w9t,[xe(le(x5e),{data:l.value,"item-key":"id","nesting-key":"children"},{default:De(({item:_})=>[Ee("div",x9t,[Ee("span",S9t,$e(_.title),1),xe(Vs,{flat:"",class:"module-tree-item-controls"},{default:De(()=>[xe(Ya,{size:"small",variant:"primary",onClick:k=>m(_)},{default:De(()=>[xe(le(wv))]),_:2},1032,["onClick"]),xe(Ya,{size:"small",variant:"success",onClick:k=>v(_)},{default:De(()=>[xe(le(Xw))]),_:2},1032,["onClick"]),xe(Ya,{size:"small",variant:"danger",onClick:k=>w(_)},{default:De(()=>[xe(le(pu))]),_:2},1032,["onClick"])]),_:2},1024)])]),_:1},8,["data"])]),c.value?(ye(),He(ZB,{key:0,note:f.value,"is-open":c.value,"hide-module-selector":!0,onSubmit:y,onCancel:b},null,8,["note","is-open"])):ot("",!0)]))}}),C9t=vr(_9t,[["__scopeId","data-v-d59f236c"]]);function k9t(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("Trident/");if(n>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var i=t.indexOf("Edge/");return i>0?parseInt(t.substring(i+5,t.indexOf(".",i)),10):-1}let h_;function rI(){rI.init||(rI.init=!0,h_=k9t()!==-1)}var _E={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){rI(),Tn(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",h_&&this.$el.appendChild(t),t.data="about:blank",h_||this.$el.appendChild(t)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!h_&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const E9t=Qne();Zne("data-v-b329ee4c");const A9t={class:"resize-observer",tabindex:"-1"};Jne();const T9t=E9t((t,e,n,r,i,o)=>(ye(),He("div",A9t)));_E.render=T9t;_E.__scopeId="data-v-b329ee4c";_E.__file="src/components/ResizeObserver.vue";function p_(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p_=function(e){return typeof e}:p_=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p_(t)}function M9t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D9t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N9t(t,e,n){return e&&D9t(t.prototype,e),t}function Yte(t){return O9t(t)||I9t(t)||P9t(t)||R9t()}function O9t(t){if(Array.isArray(t))return iI(t)}function I9t(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function P9t(t,e){if(t){if(typeof t=="string")return iI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iI(t,e)}}function iI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R9t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9t(t){var e;return typeof t=="function"?e={callback:t}:e=t,e}function L9t(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,i,o,a=function(l){for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];if(o=c,!(r&&l===i)){var d=n.leading;typeof d=="function"&&(d=d(l,i)),(!r||l!==i)&&d&&t.apply(void 0,[l].concat(Yte(o))),i=l,clearTimeout(r),r=setTimeout(function(){t.apply(void 0,[l].concat(Yte(o))),r=0},e)}};return a._clear=function(){clearTimeout(r),r=null},a}function S5e(t,e){if(t===e)return!0;if(p_(t)==="object"){for(var n in t)if(!S5e(t[n],e[n]))return!1;return!0}return!1}var $9t=function(){function t(e,n,r){M9t(this,t),this.el=e,this.observer=null,this.frozen=!1,this.createObserver(n,r)}return N9t(t,[{key:"createObserver",value:function(n,r){var i=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=F9t(n),this.callback=function(s,l){i.options.callback(s,l),s&&i.options.once&&(i.frozen=!0,i.destroyObserver())},this.callback&&this.options.throttle){var o=this.options.throttleOptions||{},a=o.leading;this.callback=L9t(this.callback,this.options.throttle,{leading:function(l){return a==="both"||a==="visible"&&l||a==="hidden"&&!l}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(s){var l=s[0];if(s.length>1){var u=s.find(function(f){return f.isIntersecting});u&&(l=u)}if(i.callback){var c=l.isIntersecting&&l.intersectionRatio>=i.threshold;if(c===i.oldResult)return;i.oldResult=c,i.callback(c,l)}},this.options.intersection),Tn(function(){i.observer&&i.observer.observe(i.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),t}();function _5e(t,e,n){var r=e.value;if(r)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var i=new $9t(t,r,n);t._vue_visibilityState=i}}function B9t(t,e,n){var r=e.value,i=e.oldValue;if(!S5e(r,i)){var o=t._vue_visibilityState;if(!r){C5e(t);return}o?o.createObserver(r,n):_5e(t,{value:r},n)}}function C5e(t){var e=t._vue_visibilityState;e&&(e.destroyObserver(),delete t._vue_visibilityState)}var z9t={beforeMount:_5e,updated:B9t,unmounted:C5e};function q9t(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r&&r.push(n)||t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(e,n){(t.get(e)||[]).slice().map(function(r){r(n)}),(t.get("*")||[]).slice().map(function(r){r(e,n)})}}}var k5e={itemsLimit:1e3},V9t=/(auto|scroll)/;function E5e(t,e){return t.parentNode===null?e:E5e(t.parentNode,e.concat([t]))}var KT=function(e,n){return getComputedStyle(e,null).getPropertyValue(n)},H9t=function(e){return KT(e,"overflow")+KT(e,"overflow-y")+KT(e,"overflow-x")},U9t=function(e){return V9t.test(H9t(e))};function Zte(t){if(t instanceof HTMLElement||t instanceof SVGElement){for(var e=E5e(t.parentNode,[]),n=0;n<e.length;n+=1)if(U9t(e[n]))return e[n];return document.scrollingElement||document.documentElement}}function oI(t){"@babel/helpers - typeof";return oI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oI(t)}var A5e={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(e){return["vertical","horizontal"].includes(e)}},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function T5e(){return this.items.length&&oI(this.items[0])!=="object"}var aI=!1;if(typeof window<"u"){aI=!1;try{var j9t=Object.defineProperty({},"passive",{get:function(){aI=!0}});window.addEventListener("test",null,j9t)}catch{}}let W9t=0;var Lw={name:"RecycleScroller",components:{ResizeObserver:_E},directives:{ObserveVisibility:z9t},props:{...A5e,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},emits:["resize","visible","hidden","update","scroll-start","scroll-end"],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){const t={"-1":{accumulator:0}},e=this.items,n=this.sizeField,r=this.minItemSize;let i=1e4,o=0,a;for(let s=0,l=e.length;s<l;s++)a=e[s][n]||r,a<i&&(i=a),o+=a,t[s]={accumulator:o,size:a};return this.$_computedMinItemSize=i,t}return[]},simpleArray:T5e,itemIndexByKey(){const{keyField:t,items:e}=this,n={};for(let r=0,i=e.length;r<i;r++)n[e[r][t]]=r;return n}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&console.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){const t=this.$_lastUpdateScrollPosition;typeof t=="number"&&this.$nextTick(()=>{this.scrollToPosition(t)})},beforeUnmount(){this.removeListeners()},methods:{addView(t,e,n,r,i){const o=Y0({id:W9t++,index:e,used:!0,key:r,type:i}),a=R8({item:n,position:0,nr:o});return t.push(a),a},unuseView(t,e=!1){const n=this.$_unusedViews,r=t.nr.type;let i=n.get(r);i||(i=[],n.set(r,i)),i.push(t),e||(t.nr.used=!1,t.position=-9999)},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(t){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;const e=()=>requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:n}=this.updateVisibleItems(!1,!0);n||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))});e(),this.updateInterval&&(this.$_updateTimeout=setTimeout(()=>{this.$_updateTimeout=0,this.$_scrollDirty&&e()},this.updateInterval))}},handleVisibilityChange(t,e){this.ready&&(t||e.boundingClientRect.width!==0||e.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(t,e=!1){const n=this.itemSize,r=this.gridItems||1,i=this.itemSecondarySize||n,o=this.$_computedMinItemSize,a=this.typeField,s=this.simpleArray?null:this.keyField,l=this.items,u=l.length,c=this.sizes,f=this.$_views,d=this.$_unusedViews,h=this.pool,p=this.itemIndexByKey;let m,g,v,y,b;if(!u)m=g=y=b=v=0;else if(this.$_prerender)m=y=0,g=b=Math.min(this.prerender,l.length),v=null;else{const E=this.getScroll();if(e){let N=E.start-this.$_lastUpdateScrollPosition;if(N<0&&(N=-N),n===null&&N<o||N<n)return{continuous:!0}}this.$_lastUpdateScrollPosition=E.start;const M=this.buffer;E.start-=M,E.end+=M;let A=0;if(this.$refs.before&&(A=this.$refs.before.scrollHeight,E.start-=A),this.$refs.after){const N=this.$refs.after.scrollHeight;E.end+=N}if(n===null){let N,T=0,I=u-1,O=~~(u/2),q;do q=O,N=c[O].accumulator,N<E.start?T=O:O<u-1&&c[O+1].accumulator>E.start&&(I=O),O=~~((T+I)/2);while(O!==q);for(O<0&&(O=0),m=O,v=c[u-1].accumulator,g=O;g<u&&c[g].accumulator<E.end;g++);for(g===-1?g=l.length-1:(g++,g>u&&(g=u)),y=m;y<u&&A+c[y].accumulator<E.start;y++);for(b=y;b<u&&A+c[b].accumulator<E.end;b++);}else{m=~~(E.start/n*r);const N=m%r;m-=N,g=Math.ceil(E.end/n*r),y=Math.max(0,Math.floor((E.start-A)/n*r)),b=Math.floor((E.end-A)/n*r),m<0&&(m=0),g>u&&(g=u),y<0&&(y=0),b>u&&(b=u),v=Math.ceil(u/r)*n}}g-m>k5e.itemsLimit&&this.itemsLimitError(),this.totalSize=v;let w;const x=m<=this.$_endIndex&&g>=this.$_startIndex;if(x)for(let E=0,M=h.length;E<M;E++)w=h[E],w.nr.used&&(t&&(w.nr.index=p[w.item[s]]),(w.nr.index==null||w.nr.index<m||w.nr.index>=g)&&this.unuseView(w));const S=x?null:new Map;let _,k,C;for(let E=m;E<g;E++){_=l[E];const M=s?_[s]:_;if(M==null)throw new Error(`Key is ${M} on item (keyField is '${s}')`);if(w=f.get(M),!n&&!c[E].size){w&&this.unuseView(w);continue}k=_[a];let A=d.get(k),N=!1;if(!w)x?A&&A.length?w=A.pop():w=this.addView(h,E,_,M,k):(C=S.get(k)||0,(!A||C>=A.length)&&(w=this.addView(h,E,_,M,k),this.unuseView(w,!0),A=d.get(k)),w=A[C],S.set(k,C+1)),f.delete(w.nr.key),w.nr.used=!0,w.nr.index=E,w.nr.key=M,w.nr.type=k,f.set(M,w),N=!0;else if(!w.nr.used&&(w.nr.used=!0,N=!0,A)){const T=A.indexOf(w);T!==-1&&A.splice(T,1)}w.item=_,N&&(E===l.length-1&&this.$emit("scroll-end"),E===0&&this.$emit("scroll-start")),n===null?(w.position=c[E-1].accumulator,w.offset=0):(w.position=Math.floor(E/r)*n,w.offset=E%r*i)}return this.$_startIndex=m,this.$_endIndex=g,this.emitUpdate&&this.$emit("update",m,g,y,b),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:x}},getListenerTarget(){let t=Zte(this.$el);return window.document&&(t===window.document.documentElement||t===window.document.body)&&(t=window),t},getScroll(){const{$el:t,direction:e}=this,n=e==="vertical";let r;if(this.pageMode){const i=t.getBoundingClientRect(),o=n?i.height:i.width;let a=-(n?i.top:i.left),s=n?window.innerHeight:window.innerWidth;a<0&&(s+=a,a=0),a+s>o&&(s=o-a),r={start:a,end:a+s}}else n?r={start:t.scrollTop,end:t.scrollTop+t.clientHeight}:r={start:t.scrollLeft,end:t.scrollLeft+t.clientWidth};return r},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,aI?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(t){let e;const n=this.gridItems||1;this.itemSize===null?e=t>0?this.sizes[t-1].accumulator:0:e=Math.floor(t/n)*this.itemSize,this.scrollToPosition(e)},scrollToPosition(t){const e=this.direction==="vertical"?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let n,r,i;if(this.pageMode){const o=Zte(this.$el),a=o.tagName==="HTML"?0:o[e.scroll],s=o.getBoundingClientRect(),u=this.$el.getBoundingClientRect()[e.start]-s[e.start];n=o,r=e.scroll,i=t+a+u}else n=this.$el,r=e.scroll,i=t;n[r]=i},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((t,e)=>t.nr.index-e.nr.index)}}};const G9t={key:0,ref:"before",class:"vue-recycle-scroller__slot"},K9t={key:1,ref:"after",class:"vue-recycle-scroller__slot"};function X9t(t,e,n,r,i,o){const a=h1("ResizeObserver"),s=vre("observe-visibility");return fo((ye(),Le("div",{class:Qr(["vue-recycle-scroller",{ready:i.ready,"page-mode":n.pageMode,[`direction-${t.direction}`]:!0}]),onScrollPassive:e[0]||(e[0]=(...l)=>o.handleScroll&&o.handleScroll(...l))},[t.$slots.before?(ye(),Le("div",G9t,[Vr(t.$slots,"before")],512)):ot("v-if",!0),(ye(),He(ya(n.listTag),{ref:"wrapper",style:Al({[t.direction==="vertical"?"minHeight":"minWidth"]:i.totalSize+"px"}),class:Qr(["vue-recycle-scroller__item-wrapper",n.listClass])},{default:De(()=>[(ye(!0),Le(Tt,null,Gn(i.pool,l=>(ye(),He(ya(n.itemTag),Ka({key:l.nr.id,style:i.ready?{transform:`translate${t.direction==="vertical"?"Y":"X"}(${l.position}px) translate${t.direction==="vertical"?"X":"Y"}(${l.offset}px)`,width:n.gridItems?`${t.direction==="vertical"&&n.itemSecondarySize||n.itemSize}px`:void 0,height:n.gridItems?`${t.direction==="horizontal"&&n.itemSecondarySize||n.itemSize}px`:void 0}:null,class:["vue-recycle-scroller__item-view",[n.itemClass,{hover:!n.skipHover&&i.hoverKey===l.nr.key}]]},bre(n.skipHover?{}:{mouseenter:()=>{i.hoverKey=l.nr.key},mouseleave:()=>{i.hoverKey=null}})),{default:De(()=>[Vr(t.$slots,"default",{item:l.item,index:l.nr.index,active:l.nr.used})]),_:2},1040,["style","class"]))),128)),Vr(t.$slots,"empty")]),_:3},8,["style","class"])),t.$slots.after?(ye(),Le("div",K9t,[Vr(t.$slots,"after")],512)):ot("v-if",!0),xe(a,{onNotify:o.handleResize},null,8,["onNotify"])],34)),[[s,o.handleVisibilityChange]])}Lw.render=X9t;Lw.__file="src/components/RecycleScroller.vue";var $w={name:"DynamicScroller",components:{RecycleScroller:Lw},provide(){return typeof ResizeObserver<"u"&&(this.$_resizeObserver=new ResizeObserver(t=>{requestAnimationFrame(()=>{if(Array.isArray(t)){for(const e of t)if(e.target&&e.target.$_vs_onResize){let n,r;if(e.borderBoxSize){const i=e.borderBoxSize[0];n=i.inlineSize,r=i.blockSize}else n=e.contentRect.width,r=e.contentRect.height;e.target.$_vs_onResize(e.target.$_vs_id,n,r)}}})})),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:{...A5e,minItemSize:{type:[Number,String],required:!0}},emits:["resize","visible"],data(){return{vscrollData:{active:!0,sizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:T5e,itemsWithSize(){const t=[],{items:e,keyField:n,simpleArray:r}=this,i=this.vscrollData.sizes,o=e.length;for(let a=0;a<o;a++){const s=e[a],l=r?a:s[n];let u=i[l];typeof u>"u"&&!this.$_undefinedMap[l]&&(u=0),t.push({item:s,id:l,size:u})}return t}},watch:{items(){this.forceUpdate()},simpleArray:{handler(t){this.vscrollData.simpleArray=t},immediate:!0},direction(t){this.forceUpdate(!0)},itemsWithSize(t,e){const n=this.$el.scrollTop;let r=0,i=0;const o=Math.min(t.length,e.length);for(let s=0;s<o&&!(r>=n);s++)r+=e[s].size||this.minItemSize,i+=t[s].size||this.minItemSize;const a=i-r;a!==0&&(this.$el.scrollTop+=a)}},beforeCreate(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={},this.$_events=q9t()},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},unmounted(){this.$_events.all.clear()},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$_events.emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(t=!1){(t||this.simpleArray)&&(this.vscrollData.sizes={}),this.$_events.emit("vscroll:update",{force:!0})},scrollToItem(t){const e=this.$refs.scroller;e&&e.scrollToItem(t)},getItemSize(t,e=void 0){const n=this.simpleArray?e??this.items.indexOf(t):t[this.keyField];return this.vscrollData.sizes[n]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const t=this.$el;this.$nextTick(()=>{t.scrollTop=t.scrollHeight+5e3;const e=()=>{t.scrollTop=t.scrollHeight+5e3,requestAnimationFrame(()=>{t.scrollTop=t.scrollHeight+5e3,this.$_undefinedSizes===0?this.$_scrollingToBottom=!1:requestAnimationFrame(e)})};requestAnimationFrame(e)})}}};function Y9t(t,e,n,r,i,o){const a=h1("RecycleScroller");return ye(),He(a,Ka({ref:"scroller",items:o.itemsWithSize,"min-item-size":n.minItemSize,direction:t.direction,"key-field":"id","list-tag":t.listTag,"item-tag":t.itemTag},t.$attrs,{onResize:o.onScrollerResize,onVisible:o.onScrollerVisible}),{default:De(({item:s,index:l,active:u})=>[Vr(t.$slots,"default",Xc(Vm({item:s.item,index:l,active:u,itemWithSize:s})))]),before:De(()=>[Vr(t.$slots,"before")]),after:De(()=>[Vr(t.$slots,"after")]),empty:De(()=>[Vr(t.$slots,"empty")]),_:3},16,["items","min-item-size","direction","list-tag","item-tag","onResize","onVisible"])}$w.render=Y9t;$w.__file="src/components/DynamicScroller.vue";var C8={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},emits:["resize"],computed:{id(){if(this.vscrollData.simpleArray)return this.index;if(this.vscrollData.keyField in this.item)return this.item[this.vscrollData.keyField];throw new Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)},size(){return this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(t,e){if(this.$el.$_vs_id=this.id,this.size||this.onDataUpdate(),this.$_sizeObserved){const n=this.vscrollData.sizes[e],r=this.vscrollData.sizes[t];n!=null&&n!==r&&this.applySize(n)}},finalActive(t){this.size||(t?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?t?this.observeSize():this.unobserveSize():t&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const t in this.sizeDependencies)this.$watch(()=>this.sizeDependencies[t],this.onDataUpdate);this.vscrollParent.$_events.on("vscroll:update",this.onVscrollUpdate)}},mounted(){this.finalActive&&(this.updateSize(),this.observeSize())},beforeUnmount(){this.vscrollParent.$_events.off("vscroll:update",this.onVscrollUpdate),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch("item",()=>{this.onDataUpdate()},{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:t}){!this.finalActive&&t&&(this.$_pendingVScrollUpdate=this.id),(this.$_forceNextVScrollUpdate===this.id||t||!this.size)&&this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(t){this.$nextTick(()=>{if(this.id===t){const e=this.$el.offsetWidth,n=this.$el.offsetHeight;this.applyWidthHeight(e,n)}this.$_pendingSizeUpdate=null})},applyWidthHeight(t,e){const n=~~(this.vscrollParent.direction==="vertical"?e:t);n&&this.size!==n&&this.applySize(n)},applySize(t){this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.vscrollData.sizes[this.id]=t,this.emitResize&&this.$emit("resize",this.id)},observeSize(){this.vscrollResizeObserver&&(this.$_sizeObserved||(this.vscrollResizeObserver.observe(this.$el),this.$el.$_vs_id=this.id,this.$el.$_vs_onResize=this.onResize,this.$_sizeObserved=!0))},unobserveSize(){this.vscrollResizeObserver&&this.$_sizeObserved&&(this.vscrollResizeObserver.unobserve(this.$el),this.$el.$_vs_onResize=void 0,this.$_sizeObserved=!1)},onResize(t,e,n){this.id===t&&this.applyWidthHeight(e,n)}},render(){return he(this.tag,this.$slots.default())}};C8.__file="src/components/DynamicScrollerItem.vue";function Z9t(t,e){t.component("".concat(e,"recycle-scroller"),Lw),t.component("".concat(e,"RecycleScroller"),Lw),t.component("".concat(e,"dynamic-scroller"),$w),t.component("".concat(e,"DynamicScroller"),$w),t.component("".concat(e,"dynamic-scroller-item"),C8),t.component("".concat(e,"DynamicScrollerItem"),C8)}var J9t={version:"2.0.0-beta.8",install:function(e,n){var r=Object.assign({},{installComponents:!0,componentsPrefix:""},n);for(var i in r)typeof r[i]<"u"&&(k5e[i]=r[i]);r.installComponents&&Z9t(e,r.componentsPrefix)}};const Q9t=nt({__name:"Bookmark",props:{noteId:{},moduleId:{}},setup(t){const e=t,n=ez(),r=re(()=>n.isBookmarked(e.moduleId,e.noteId));function i(){r.value?n.removeBookmark(e.moduleId,e.noteId):n.addBookmark(e.moduleId,e.noteId,"")}return kt(()=>n.load()),(o,a)=>(ye(),He(Ya,{variant:"none",class:Qr({marked:r.value}),onClick:i,title:o.t("common.bookmark")},{default:De(()=>[xe(le(hae))]),_:1},8,["class","title"]))}}),eTt=vr(Q9t,[["__scopeId","data-v-85a5f0ae"]]),tTt={key:0,class:"loading-indicator"},nTt={key:1,class:"document-container"},rTt=["data-chunk-id"],iTt={key:0,class:"empty-state"},oTt=nt({__name:"ModuleDocumentView",props:{moduleId:{},noteTree:{}},emits:["toc-update","active-anchor-id"],setup(t,{expose:e,emit:n}){const r=t,i=n,o=ez(),a=_f(),s=go(),l=fr([]),u=fr([]),c=we(!1),f=we(null),d=we(null),h=re(()=>a.items.filter(k=>k.moduleId===r.moduleId&&k.hidden===!0));function p(k,C=1){const E=[];for(const M of k){const A=h.value.find(N=>N.id===M.noteId);if(A&&E.push({id:`note-${A.id}`,title:A.title,content:`${"#".repeat(C+1)} ${A.title} {#note-${A.id}}

${A.content||""}

`,level:C+1,noteId:A.id}),M.children&&M.children.length>0){const N=p(M.children,C+1);E.push(...N)}}return E}function m(k){return k.map(C=>({id:C.id,title:C.title,level:C.level,anchorId:C.id}))}function g(){c.value=!0,setTimeout(()=>{l.value=p(r.noteTree),u.value=m(l.value),i("toc-update",u.value),c.value=!1},0)}function v(k){const C=new Set,E=M=>{for(const A of M)C.add(A.noteId),A.children&&E(A.children)};return E(k),C}const y=re(()=>v(r.noteTree)),b=we(null),w=r.moduleId;kt(async()=>{await a.load(),await o.load(),b.value&&(b.value.noteAnchorMap=y.value),g()});function x(k){const C=k.target;if(C&&C.tagName&&/^H[1-6]$/.test(C.tagName)){const E=C.id;if(E){const M=`${window.location.origin}${window.location.pathname}#${E}`;Promise.all([navigator.clipboard.writeText(M),kD(E,s,C)]).catch(A=>Bs(A))}}}async function S(k){$t("scrollToAnchor",{anchorId:k});const C=l.value.findIndex(M=>M.noteId===k||M.id===k);if(C===-1)return;f.value&&typeof f.value.scrollToItem=="function"&&f.value.scrollToItem(C),await Tn();const E=b.value?.querySelector(`[id='${k}']`);await kD(k,s,E)}function _(k,C,E,M){if(typeof E=="number"&&l.value[E]){const A=l.value[E];d.value=A.id,i("active-anchor-id",A.id)}}return e({scrollToAnchor:S}),(k,C)=>(ye(),Le("div",{class:"module-document-view",ref_key:"rootEl",ref:b},[c.value?(ye(),Le("div",tTt,C[0]||(C[0]=[Ee("div",{class:"loading-spinner"},null,-1),Ee("p",null,"Loading document...",-1)]))):(ye(),Le("div",nTt,[xe(le($w),{ref_key:"scrollerRef",ref:f,items:l.value,minItemSize:500,"key-field":"id",class:"document-scroller",emitUpdate:!0,onUpdate:_},{default:De(({item:E,index:M,active:A})=>[(ye(),He(le(C8),{item:E,active:A,index:M,"size-dependencies":[E.content],key:E.id},{default:De(()=>[Ee("div",{class:"document-chunk with-hover-bookmark","data-chunk-id":E.id,onClick:x},[xe(eTt,{"note-id":E.noteId,"module-id":le(w),class:"bookmark-float"},null,8,["note-id","module-id"]),xe(Lk,{content:E.content,anchorMap:y.value,scrollToAnchor:S,enableMentionModal:!0},null,8,["content","anchorMap"])],8,rTt)]),_:2},1032,["item","active","index","size-dependencies"]))]),_:1},8,["items"]),l.value.length===0?(ye(),Le("div",iTt,C[1]||(C[1]=[Ee("p",null,"No content to display",-1)]))):ot("",!0)]))],512))}}),aTt=vr(oTt,[["__scopeId","data-v-11723629"]]),sTt={key:1,class:"empty-state"},lTt={key:0,class:"empty-state q-pa-md text-grey text-center q-mt-xl"},uTt={key:1,class:"content-grid"},cTt={key:0,class:"q-pa-md text-grey text-center q-mt-xl"},fTt={key:1,class:"row q-gutter-md"},dTt={key:0,class:"q-pa-md text-grey text-center q-mt-xl"},hTt={key:1,class:"row q-gutter-md"},pTt={key:0,class:"q-pa-md text-grey text-center q-mt-xl"},mTt={key:1,class:"row q-gutter-md"},gTt={key:0,class:"q-pa-md text-grey text-center q-mt-xl"},vTt={key:1,class:"row q-gutter-md"},yTt={key:0},bTt={key:0,class:"q-pa-md text-grey text-center q-mt-xl"},wTt={key:1,class:"bookmark-list"},xTt={class:"bookmark-list-row"},STt={key:1},_Tt=nt({__name:"ModuleView",setup(t){const e=ep(),n=go(),r=$i(),i=Xs(),o=Rl(),a=Cf(),s=_f(),l=Cy(),u=VR();d4();const c=pp(),f=ez(),{t:d}=Ut(),h=we(!1),p=we([]),m=re(()=>r.isLoaded),g=re(()=>r.getById(e.params.id)),v=re(()=>!m.value),y=re(()=>m.value&&!g.value),b=re(()=>i.items.filter(D=>D.moduleIds?.includes(e.params.id))),w=re(()=>o.items.filter(D=>D.moduleIds?.includes(e.params.id))),x=re(()=>a.items.filter(D=>D.moduleId===e.params.id)),S=re(()=>s.items.filter(D=>D.moduleId===e.params.id&&D.hidden===!1)),_=re(()=>l.items.value.filter(D=>D.moduleIds?.includes(e.params.id))),k=re(()=>g.value?c.getLinks({kind:"module",id:g.value.id}):[]),C=re(()=>g.value?c.getBacklinks({kind:"module",id:g.value.id}):[]),E=re(()=>!g.value||!g.value.id?[]:f.items.filter(D=>D.moduleId===g.value.id)),M=[{id:"document",label:"Book"},{id:"parties",label:"Parties"},{id:"monsters",label:"Monsters"},{id:"encounters",label:"Encounters"},{id:"notes",label:"Notes"},{id:"playlists",label:"Playlists"},{id:"noteTree",label:"Book Tree"}],A=we("document"),N=we("toc"),T=we(null),I=we(null),O=we(null),q=we("");$k(),kt(async()=>{await Promise.all([r.load(),i.load(),o.load(),a.load(),s.load(),l.load(),u.load(),c.load(),f.load()]),window.addEventListener("hashchange",L),L()});function L(){if(A.value!=="document")return;const D=window.location.hash.replace(/^#/,"");D&&($t({handleHashChange:D}),te(D))}Oo(()=>{window.removeEventListener("hashchange",L)});function Y(){}We([()=>e.params.id,()=>r.items,()=>r.isLoaded],Y,{immediate:!0});const R=async D=>{g.value&&(await r.update(g.value.id,D),h.value=!1)},B=()=>{h.value=!1},z=async()=>{g.value&&await r.remove(g.value.id)},P=re(()=>g.value?.name||""),$=re(()=>g.value?.description||"");function X(D){$t("[ModuleView] Saving tree",D),g.value&&r.update(g.value.id,{...g.value,noteTree:D})}function K(D){}function Z(D){p.value=D}function te(D){T.value&&typeof T.value.scrollToAnchor=="function"&&T.value.scrollToAnchor(D)}function J(D){I.value=D}async function fe(){if(!g.value)return;const D=g.value.id,oe=s.items.filter(ve=>ve.moduleId===D),W=g.value.noteTree||[],V={id:g.value.id,name:g.value.name,createdAt:g.value.createdAt,updatedAt:g.value.updatedAt,noteTree:W},F=W,j=oe.map(ve=>({id:ve.id,title:ve.title,content:ve.content,typeId:ve.typeId||null,tags:ve.tags||[],moduleId:ve.moduleId,createdAt:ve.createdAt,updatedAt:ve.updatedAt,hidden:ve.hidden})),se={moduleName:g.value.name,moduleId:g.value.id,totalSections:j.length,totalNotes:j.length,generatedAt:new Date().toISOString()},pe=new cZe;pe.file("module.json",JSON.stringify(V,null,2)),pe.file("tree.json",JSON.stringify(F,null,2));const ae=pe.folder("notes");if(ae)for(const ve of j)ae.file(`${ve.id}.json`,JSON.stringify(ve,null,2));pe.file("summary.json",JSON.stringify(se,null,2));const H=await pe.generateAsync({type:"blob"}),Q=`${g.value.name.replace(/[^a-zA-Z0-9]/g,"_")}_module.zip`,ie=URL.createObjectURL(H),ce=document.createElement("a");ce.href=ie,ce.download=Q,document.body.appendChild(ce),ce.click(),setTimeout(()=>{document.body.removeChild(ce),URL.revokeObjectURL(ie)},100)}function ue(D){O.value=D,q.value=D.title}function de(){O.value=null,q.value=""}async function ee(){O.value&&(await f.update(O.value.id,{title:q.value}),de())}return(D,oe)=>(ye(),Le("div",null,[xe(v5e,{entity:g.value,"entity-name":"modules.title","list-route":"/modules","on-delete":z,"on-edit":()=>h.value=!0,"is-editing":h.value,title:P.value,subtitle:$.value,"not-found":y.value,loading:v.value,tabs:M,modelValue:A.value,"onUpdate:modelValue":oe[5]||(oe[5]=W=>A.value=W)},{actions:De(()=>[xe(Ya,{onClick:fe,variant:"success",title:le(d)("common.export")},{default:De(()=>[xe(le(aP))]),_:1},8,["title"])]),document:De(()=>[g.value&&g.value.noteTree&&g.value.noteTree.length>0?(ye(),He(aTt,{key:0,ref_key:"moduleDocumentViewRef",ref:T,"module-id":g.value?.id||"","note-tree":g.value.noteTree,onTocUpdate:Z,onActiveAnchorId:J},null,8,["module-id","note-tree"])):(ye(),Le("div",sTt,[Ee("p",null,$e(le(d)("moduleView.noDocument")),1)]))]),parties:De(()=>[b.value.length===0?(ye(),Le("div",lTt,$e(le(d)("moduleView.noParties")),1)):(ye(),Le("div",uTt,[(ye(!0),Le(Tt,null,Gn(b.value,W=>(ye(),He(u5e,{key:W.id,party:W},null,8,["party"]))),128))]))]),monsters:De(()=>[w.value.length===0?(ye(),Le("div",cTt,$e(le(d)("moduleView.noMonsters")),1)):(ye(),Le("div",fTt,[(ye(!0),Le(Tt,null,Gn(w.value,W=>(ye(),Le("div",{key:W.id,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[xe(f5e,{monster:W},null,8,["monster"])]))),128))]))]),encounters:De(()=>[x.value.length===0?(ye(),Le("div",dTt,$e(le(d)("moduleView.noEncounters")),1)):(ye(),Le("div",hTt,[(ye(!0),Le(Tt,null,Gn(x.value,W=>(ye(),Le("div",{key:W.id,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[xe(p5e,{encounter:W},null,8,["encounter"])]))),128))]))]),notes:De(()=>[S.value.length===0?(ye(),Le("div",pTt,$e(le(d)("moduleView.noNotes")),1)):(ye(),Le("div",mTt,[(ye(!0),Le(Tt,null,Gn(S.value,W=>(ye(),Le("div",{key:W.id,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[xe(H1e,{note:W},null,8,["note"])]))),128))]))]),playlists:De(()=>[_.value.length===0?(ye(),Le("div",gTt,$e(le(d)("moduleView.noPlaylists")),1)):(ye(),Le("div",vTt,[(ye(!0),Le(Tt,null,Gn(_.value,W=>(ye(),Le("div",{key:W.id,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[xe(FAt,{playlist:W,onView:oe[0]||(oe[0]=()=>le(n).push("/jukebox")),onPlay:K},null,8,["playlist"])]))),128))]))]),noteTree:De(()=>[xe(C9t,{"module-id":g.value?.id||"","note-tree":g.value?.noteTree||[],"onUpdate:noteTree":X},null,8,["module-id","note-tree"])]),editor:De(()=>[h.value?(ye(),He(y5e,{key:0,module:g.value,"is-open":h.value,onSubmit:R,onCancel:B},null,8,["module","is-open"])):ot("",!0)]),sidepanel:De(()=>[A.value==="document"?(ye(),Le("div",yTt,[xe(IAt,{align:"justify","title-align":"center",tabs:[{id:"toc",label:le(d)("common.tableOfContents")},{id:"bookmarks",label:le(d)("common.bookmarks")}],modelValue:N.value,"onUpdate:modelValue":oe[4]||(oe[4]=W=>N.value=W),size:"sm"},{default:De(()=>[fo(Ee("div",null,[xe(_At,{items:p.value,"active-anchor-id":I.value,onItemClick:te},null,8,["items","active-anchor-id"])],512),[[A_,N.value==="toc"]]),fo(Ee("div",null,[E.value.length===0?(ye(),Le("div",bTt,$e(le(d)("common.noBookmarks")),1)):(ye(),Le("ul",wTt,[Ee("div",xTt,[Ee("span",{class:"bookmark-link",onClick:oe[1]||(oe[1]=W=>te(D.bookmark.noteId))},[xe(le(hae)),vt(" "+$e(le(l5e)(D.bookmark.title||le(s).getById(D.bookmark.noteId)?.title||le(d)("common.untitled"))),1)]),xe(Ya,{variant:"light",size:"small",class:"bookmark-edit-btn",title:le(d)("common.editBookmark"),onClick:oe[2]||(oe[2]=Wo(W=>ue(D.bookmark),["stop","prevent"]))},{default:De(()=>[xe(le(Xw))]),_:1},8,["title"]),xe(Ya,{variant:"light",size:"small",class:"bookmark-delete-btn",title:le(d)("common.deleteBookmark"),onClick:oe[3]||(oe[3]=Wo(W=>le(f).removeBookmark(D.bookmark.moduleId,D.bookmark.noteId),["stop","prevent"]))},{default:De(()=>[xe(le(tk))]),_:1},8,["title"])])]))],512),[[A_,N.value==="bookmarks"]])]),_:1},8,["tabs","modelValue"])])):A.value!=="document"?(ye(),Le("div",STt,[xe(_u,{title:le(d)("common.mentions"),entities:k.value},null,8,["title","entities"]),xe(_u,{title:le(d)("common.mentionedIn"),entities:C.value},null,8,["title","entities"])])):ot("",!0)]),_:1},8,["entity","on-edit","is-editing","title","subtitle","not-found","loading","modelValue"]),O.value?(ye(),He(Na,{key:0,isOpen:!!O.value,modalId:"edit-bookmark-modal",title:le(d)("common.editBookmark"),showSubmit:!0,showCancel:!0,"onUpdate:isOpen":oe[7]||(oe[7]=W=>{W||de()}),onSubmit:ee,onCancel:de},{default:De(()=>[Ee("label",null,[vt($e(le(d)("common.title"))+": ",1),xe(ui,{dense:"",outlined:"",modelValue:q.value,"onUpdate:modelValue":oe[6]||(oe[6]=W=>q.value=W),type:"text",class:"modal-input"},null,8,["modelValue"])])]),_:1},8,["isOpen","title"])):ot("",!0)]))}}),CTt=vr(_Tt,[["__scopeId","data-v-16798c48"]]),kTt={key:0},ETt={key:1},ATt={class:"playlist-list"},TTt=nt({__name:"AddToPlaylistModal",props:{modelValue:{type:Boolean},track:{}},emits:["update:modelValue"],setup(t){const e=t,n=Cy(),r=n.items,{t:i}=Ut();function o(s){return e.track?s.trackIds.includes(e.track.id):!1}async function a(s,l){if(!e.track)return;const u=e.track.id,c=new Set(s.trackIds);l?c.add(u):c.delete(u),await n.update(s.id,{trackIds:Array.from(c)})}return(s,l)=>(ye(),He(Na,{isOpen:s.modelValue,modalId:"add-to-playlist","onUpdate:isOpen":l[0]||(l[0]=u=>s.$emit("update:modelValue",u)),title:le(i)("common.addToPlaylist"),showSubmit:!1,showCancel:!0,cancelLabel:le(i)("common.done"),onCancel:l[1]||(l[1]=u=>s.$emit("update:modelValue",!1))},{default:De(()=>[le(r).length===0?(ye(),Le("div",kTt,[Ee("p",null,$e(le(i)("playlist.none")),1)])):(ye(),Le("div",ETt,[Ee("div",ATt,[(ye(!0),Le(Tt,null,Gn(le(r),u=>(ye(),Le("div",{key:u.id,class:"playlist-item"},[xe(X4,{"model-value":o(u),label:u.name,"onUpdate:modelValue":c=>a(u,c)},null,8,["model-value","label","onUpdate:modelValue"])]))),128))])]))]),_:1},8,["isOpen","title","cancelLabel"]))}}),MTt=vr(TTt,[["__scopeId","data-v-883683f6"]]),DTt=nt({__name:"TrackCard",props:{track:{},isSelected:{type:Boolean},isPlaying:{type:Boolean},draggable:{type:Boolean}},emits:["add-to-playlist","remove","play"],setup(t,{emit:e}){const n=t,r=e,i=()=>r("add-to-playlist",n.track),o=()=>r("remove",n.track),a=()=>r("play",n.track),s=re(()=>n.track.color||"transparent");return(l,u)=>(ye(),He(eu,Ka({class:["track-item",{"is-selected":l.isSelected,"is-playing":l.isPlaying}],style:{"--track-item-color":s.value},clickable:"",onClick:a},l.draggable?{"data-draggable":!0}:{}),{default:De(()=>[xe(Er,null,{default:De(()=>[xe(bme,{"artwork-size":"60px",track:l.track,"show-artwork":!0,horizontal:""},null,8,["track"])]),_:1}),xe(Er,{side:""},{default:De(()=>[vt($e(l.track.duration?le(Xg)(l.track.duration):""),1)]),_:1}),xe(Er,{side:"",class:"track-actions"},{default:De(()=>[xe(Vs,{flat:""},{default:De(()=>[xe(Ct,{flat:"",onClick:Wo(i,["stop"])},{default:De(()=>[xe(le(wv))]),_:1}),xe(Ct,{flat:"",onClick:Wo(o,["stop"])},{default:De(()=>[xe(le(pu))]),_:1})]),_:1})]),_:1})]),_:1},16,["class","style"]))}}),NTt=vr(DTt,[["__scopeId","data-v-c27fd661"]]),OTt={class:"form-section"},ITt={class:"form-grid"},PTt={class:"form-group"},RTt={class:"form-group"},FTt={class:"form-section"},LTt={class:"form-grid"},$Tt={class:"form-group"},BTt=nt({__name:"PlaylistEditor",props:{modelValue:{type:Boolean},playlist:{}},emits:["update:modelValue","saved"],setup(t,{emit:e}){const n=t,r=e,i=Cy(),o=$i(),{t:a}=Ut(),s=we({name:"",description:"",trackIds:[],moduleIds:[]});We(()=>n.playlist,c=>{c?s.value={...c}:s.value={name:"",description:"",trackIds:[],moduleIds:[]}},{immediate:!0}),We(()=>n.modelValue,c=>{c&&!n.playlist&&(s.value={name:"",description:"",trackIds:[],moduleIds:[]})});const l=re({get(){return s.value.moduleIds??[]},set(c){s.value.moduleIds=c}});kt(()=>o.load());async function u(){if(n.playlist&&n.playlist.id){const c=await i.update(n.playlist.id,{name:s.value.name,description:s.value.description,trackIds:s.value.trackIds,moduleIds:s.value.moduleIds});r("saved",c)}else{const c=await i.create(s.value);r("saved",c)}r("update:modelValue",!1)}return(c,f)=>(ye(),He(Na,{isOpen:c.modelValue,modalId:"playlist-editor","onUpdate:isOpen":f[3]||(f[3]=d=>c.$emit("update:modelValue",d)),title:le(a)("playlist.title"),showSubmit:!0,showCancel:!0,submitLabel:le(a)("common.save"),cancelLabel:le(a)("common.cancel"),onSubmit:u,onCancel:f[4]||(f[4]=d=>c.$emit("update:modelValue",!1))},{default:De(()=>[Ee("div",OTt,[Ee("div",ITt,[Ee("div",PTt,[xe(ui,{id:"playlist-name",modelValue:s.value.name,"onUpdate:modelValue":f[0]||(f[0]=d=>s.value.name=d),label:le(a)("playlist.fields.name"),type:"text",required:"",outlined:""},null,8,["modelValue","label"])]),Ee("div",RTt,[xe(JB,{id:"playlist-modules",modelValue:l.value,"onUpdate:modelValue":f[1]||(f[1]=d=>l.value=d),placeholder:le(a)("playlist.fields.modules")},null,8,["modelValue","placeholder"])])])]),Ee("div",FTt,[Ee("div",LTt,[Ee("div",$Tt,[xe(ui,{id:"playlist-description",label:le(a)("playlist.fields.description"),modelValue:s.value.description,"onUpdate:modelValue":f[2]||(f[2]=d=>s.value.description=d),type:"textarea",rows:5,autogrow:"",outlined:""},null,8,["label","modelValue"])])])])]),_:1},8,["isOpen","title","submitLabel","cancelLabel"]))}}),zTt={class:"q-pa-none q-gutter-none q-mb-none playlist-list-container column full-height"},qTt=nt({__name:"PlaylistList",setup(t){const{t:e}=Ut(),n=Cy(),r=d4(),i=n.items,o=re(()=>i.value||[]),a=we(r.jukeboxActivePlaylistId),s=we([]),l=we(!1),u=we(null);We(o,m=>c(m,a.value),{immediate:!0,deep:!0}),We(()=>r.jukeboxActivePlaylistId,m=>{a.value=m},{immediate:!0});const c=(m,g)=>{if(!m||!Array.isArray(m)){s.value=[];return}let v=[...m].sort((y,b)=>(y.sortOrder??0)-(b.sortOrder??0));if(g){const y=i.value.find(b=>b.id===g);y&&!v.find(b=>b.id===g)&&(v.push(y),v.sort((b,w)=>(b.sortOrder??0)-(w.sortOrder??0)))}s.value=v},f=m=>{u.value=m,l.value=!0},d=m=>{$t(m),a.value=m??null,r.jukeboxActivePlaylistId=m},h=async m=>{a.value===m&&d(null),r.jukeboxActivePlaylistId===m&&(r.jukeboxActivePlaylistId=null),await n.remove(m)},p=async m=>{const{newIndex:g,oldIndex:v}=m;if(g===v)return;const y=Array.from(s.value);await Promise.all(y.map((b,w)=>{n.update(b.id,{...b,sortOrder:w})}))};return kt(async()=>{await n.load(),d(r.jukeboxActivePlaylistId)}),(m,g)=>(ye(),Le("div",zTt,[Ee("div",null,[xe(hv,{class:"q-pa-none q-mb-none"},{default:De(()=>[xe(eu,null,{default:De(()=>[xe(Er,null,{default:De(()=>g[4]||(g[4]=[vt(" Playlists ")])),_:1,__:[4]}),xe(Er,{side:""},{default:De(()=>[xe(Ct,{flat:"",onClick:g[0]||(g[0]=v=>f(null)),variant:"light"},{default:De(()=>[xe(le(wv))]),_:1})]),_:1})]),_:1}),xe(sf),fo((ye(),He(eu,{clickable:"",active:a.value===null,"active-class":"bg-secondary",onClick:g[1]||(g[1]=v=>d(null))},{default:De(()=>[xe(Er,null,{default:De(()=>[vt($e(le(e)("jukebox.allTracks")),1)]),_:1})]),_:1},8,["active"])),[[vd]])]),_:1})]),xe(dP,{class:"q-pa-none q-mb-none col-grow",style:{"min-height":"0"}},{default:De(()=>[xe(le(R1e),{modelValue:s.value,"onUpdate:modelValue":g[2]||(g[2]=v=>s.value=v),tag:"div",class:"playlist-list",handle:".playlist-item","item-key":"id",onEnd:p},{item:De(({element:v})=>[fo((ye(),He(eu,{clickable:"",active:a.value===v.id,"active-class":"bg-secondary",onClick:y=>d(v.id),class:"playlist-item"},{default:De(()=>[xe(Er,null,{default:De(()=>[vt($e(v.name),1)]),_:2},1024),xe(Er,{class:"playlist-actions",side:""},{default:De(()=>[xe(Vs,{flat:""},{default:De(()=>[xe(Ct,{flat:"",onClick:Wo(y=>f(v),["stop"])},{default:De(()=>[xe(le(Xw))]),_:2},1032,["onClick"]),xe(Ct,{flat:"",onClick:Wo(y=>h(v.id),["stop"])},{default:De(()=>[xe(le(pu))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["active","onClick"])),[[vd]])]),_:1},8,["modelValue"])]),_:1}),xe(BTt,{modelValue:l.value,"onUpdate:modelValue":g[3]||(g[3]=v=>l.value=v),playlist:u.value},null,8,["modelValue","playlist"])]))}}),VTt=vr(qTt,[["__scopeId","data-v-20e09c52"]]),HTt=nt({__name:"JukeboxView",setup(t){const e=VR(),n=Cy(),r=TQe(),i=d4(),o=ume(),{t:a}=Ut();if(!i)throw new Error("configStore is not defined. Make sure useConfigStore() is called correctly.");const s=e.items,l=we(null);We(()=>i.jukeboxActivePlaylistId,k=>{l.value=k},{immediate:!0});const u=we(!1),c=we(!1),f=we(null);function d(k){f.value=k,c.value=!0}const h=$k();function p(k){h.playTrackFromPlaylist(k)}async function m(k){if(await E1(a("common.confirmDelete",{title:k.title||k.fileId}))){await h.removeTrackFromQueue(k);const C=n.items.value.filter(M=>M.trackIds.includes(k.id));if(await Promise.all(C.map(M=>n.update(M.id,{trackIds:M.trackIds.filter(A=>A!==k.id)}))),await e.remove(k.id),k.fileId)try{await DQe(k.fileId)}catch(M){Bs(`Failed to delete file handle for track ${k.id}:`,M)}const E=v.value.findIndex(M=>M.id===k.id);E>-1&&v.value.splice(E,1)}}const g=re(()=>l.value?n.getById(l.value)?.trackIds.map(k=>s.value.find(C=>C.id===k)).filter(Boolean)??[]:s.value),v=we([]);We(g,k=>{v.value=[...k]},{immediate:!0,deep:!0});async function y(){if(!u.value){u.value=!0;try{const k=await IQe(),C=[];for(const E of k){const M=await cme(E),A=`${M.name}-${M.lastModified}-${M.size}`,N=await lme(A);await MQe({id:A,handle:E,name:M.name,type:M.type,size:M.size,lastModified:M.lastModified,createdAt:N?.createdAt||Date.now(),updatedAt:Date.now()});const T=await RQe(M),I={fileId:A,title:T.title||M.name.replace(/\.[^/.]+$/,""),artist:T.artist,album:T.album,duration:T.duration,picture:T.picture,color:T.color,palette:T.palette,playlistIds:[],genre:T.genre,year:T.year,trackNumber:T.trackNumber,discNumber:T.discNumber,composer:T.composer,comment:T.comment,lyrics:T.lyrics},O=await e.create(I);C.push(O.id)}if(l.value){const E=n.items.value.find(M=>M.id===l.value);if(E){const M=[...E.trackIds,...C];await n.update(E.id,{trackIds:M})}}}catch(k){k instanceof DOMException&&k.name==="AbortError"||Bs("Error picking or processing files:",k)}finally{u.value=!1}}}const b=k=>h.trackIsActive(k,l.value)?h.togglePlay():p(k);function w(k){const C=h.trackIsActive(k,l.value);return{track:k,isSelected:C,isPlaying:h.isPlaying&&C,onAddToPlaylist:()=>d(k),onRemove:()=>m(k),onPlay:()=>b(k)}}async function x(k){if(!l.value)return;const C=n.getById(l.value);if(!C)return;const E=k.map(M=>M.id);await n.update(C.id,{...C,trackIds:E}),h.resortQueue(l.value)}const S=rr("setRightDrawerContent"),_=rr("setBottomDrawerContent");return kt(async()=>{await Promise.all([e.load(),n.load(),r.load()]),S({component:VTt}),_({component:wme,props:{animatedBackground:!0,showArtwork:!1}})}),On(()=>{o.clearCache(),S(null),_(null)}),(k,C)=>(ye(),He(uh,{items:g.value,"card-component":NTt,"empty-message":le(a)("common.emptyTracks"),"create-title":le(a)("common.addTracks"),"card-props":w,"show-search":!1,"view-style":"list",onCreate:y,draggable:l.value!==null,onSort:x},{default:De(()=>[xe(MTt,{modelValue:c.value,"onUpdate:modelValue":C[0]||(C[0]=E=>c.value=E),track:f.value},null,8,["modelValue","track"])]),_:1},8,["items","empty-message","create-title","draggable"]))}}),v0=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function UTt(t,e,n){return Object.prototype.toString.call(t)==="[object Date]"&&(n=t.getDate(),e=t.getMonth()+1,t=t.getFullYear()),XTt(M5e(t,e,n))}function jTt(t){return GTt(t)===0}function WTt(t,e){return e<=6?31:e<=11||jTt(t)?30:29}function GTt(t){const e=v0.length;let n=v0[0],r,i,o,a,s;if(t<n||t>=v0[e-1])throw new Error("Invalid Jalaali year "+t);for(s=1;s<e&&(r=v0[s],i=r-n,!(t<r));s+=1)n=r;return a=t-n,i-a<6&&(a=a-i+pi(i+4,33)*33),o=wl(wl(a+1,33)-1,4),o===-1&&(o=4),o}function KTt(t,e){const n=v0.length,r=t+621;let i=-14,o=v0[0],a,s,l,u,c;if(t<o||t>=v0[n-1])throw new Error("Invalid Jalaali year "+t);for(c=1;c<n&&(a=v0[c],s=a-o,!(t<a));c+=1)i=i+pi(s,33)*8+pi(wl(s,33),4),o=a;u=t-o,i=i+pi(u,33)*8+pi(wl(u,33)+3,4),wl(s,33)===4&&s-u===4&&(i+=1);const f=pi(r,4)-pi((pi(r,100)+1)*3,4)-150,d=20+i-f;return s-u<6&&(u=u-s+pi(s+4,33)*33),l=wl(wl(u+1,33)-1,4),l===-1&&(l=4),{leap:l,gy:r,march:d}}function XTt(t){const e=YTt(t).gy;let n=e-621,r,i,o;const a=KTt(n),s=M5e(e,3,a.march);if(o=t-s,o>=0){if(o<=185)return i=1+pi(o,31),r=wl(o,31)+1,{jy:n,jm:i,jd:r};o-=186}else n-=1,o+=179,a.leap===1&&(o+=1);return i=7+pi(o,30),r=wl(o,30)+1,{jy:n,jm:i,jd:r}}function M5e(t,e,n){let r=pi((t+pi(e-8,6)+100100)*1461,4)+pi(153*wl(e+9,12)+2,5)+n-34840408;return r=r-pi(pi(t+100100+pi(e-8,6),100)*3,4)+752,r}function YTt(t){let e=4*t+139361631;e=e+pi(pi(4*t+183187720,146097)*3,4)*4-3908;const n=pi(wl(e,1461),4)*5+308,r=pi(wl(n,153),5)+1,i=wl(pi(n,153),12)+1;return{gy:pi(e,1461)-100100+pi(8-i,6),gm:i,gd:r}}function pi(t,e){return~~(t/e)}function wl(t,e){return t-~~(t/e)*e}const ZTt=["gregorian","persian"],Jte={mask:{type:String},locale:Object,calendar:{type:String,validator:t=>ZTt.includes(t),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},JTt=["update:modelValue"];function QTt(t){return t.year+"/"+Or(t.month)+"/"+Or(t.day)}function eMt(t,e){const n=re(()=>t.disable!==!0&&t.readonly!==!0),r=re(()=>n.value===!0?0:-1),i=re(()=>{const s=[];return t.color!==void 0&&s.push(`bg-${t.color}`),t.textColor!==void 0&&s.push(`text-${t.textColor}`),s.join(" ")});function o(){return t.locale!==void 0?{...e.lang.date,...t.locale}:e.lang.date}function a(s){const l=new Date,u=s===!0?null:0;if(t.calendar==="persian"){const c=UTt(l);return{year:c.jy,month:c.jm,day:c.jd}}return{year:l.getFullYear(),month:l.getMonth()+1,day:l.getDate(),hour:u,minute:u,second:u,millisecond:u}}return{editable:n,tabindex:r,headerClass:i,getLocale:o,getCurrentDate:a}}const D5e=864e5,tMt=36e5,sI=6e4,N5e="YYYY-MM-DDTHH:mm:ss.SSSZ",nMt=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,rMt=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,XT={};function iMt(t,e){const n="("+e.days.join("|")+")",r=t+n;if(XT[r]!==void 0)return XT[r];const i="("+e.daysShort.join("|")+")",o="("+e.months.join("|")+")",a="("+e.monthsShort.join("|")+")",s={};let l=0;const u=t.replace(rMt,f=>{switch(l++,f){case"YY":return s.YY=l,"(-?\\d{1,2})";case"YYYY":return s.YYYY=l,"(-?\\d{1,4})";case"M":return s.M=l,"(\\d{1,2})";case"Mo":return s.M=l++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return s.M=l,"(\\d{2})";case"MMM":return s.MMM=l,a;case"MMMM":return s.MMMM=l,o;case"D":return s.D=l,"(\\d{1,2})";case"Do":return s.D=l++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return s.D=l,"(\\d{2})";case"H":return s.H=l,"(\\d{1,2})";case"HH":return s.H=l,"(\\d{2})";case"h":return s.h=l,"(\\d{1,2})";case"hh":return s.h=l,"(\\d{2})";case"m":return s.m=l,"(\\d{1,2})";case"mm":return s.m=l,"(\\d{2})";case"s":return s.s=l,"(\\d{1,2})";case"ss":return s.s=l,"(\\d{2})";case"S":return s.S=l,"(\\d{1})";case"SS":return s.S=l,"(\\d{2})";case"SSS":return s.S=l,"(\\d{3})";case"A":return s.A=l,"(AM|PM)";case"a":return s.a=l,"(am|pm)";case"aa":return s.aa=l,"(a\\.m\\.|p\\.m\\.)";case"ddd":return i;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"do":return l++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return l++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return l++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return s.Z=l,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return s.ZZ=l,"(Z|[+-]\\d{2}\\d{2})";case"X":return s.X=l,"(-?\\d+)";case"x":return s.x=l,"(-?\\d{4,})";default:return l--,f[0]==="["&&(f=f.substring(1,f.length-1)),f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),c={map:s,regex:new RegExp("^"+u)};return XT[r]=c,c}function O5e(t,e){return t!==void 0?t:e!==void 0?e.date:ED.date}function Qte(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;return n+Or(i)+e+Or(o)}function N6(t,e,n,r,i){const o={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(i!==void 0&&Object.assign(o,i),t==null||t===""||typeof t!="string")return o;e===void 0&&(e=N5e);const a=O5e(n,Lc.props),s=a.months,l=a.monthsShort,{regex:u,map:c}=iMt(e,a),f=t.match(u);if(f===null)return o;let d="";if(c.X!==void 0||c.x!==void 0){const h=parseInt(f[c.X!==void 0?c.X:c.x],10);if(isNaN(h)===!0||h<0)return o;const p=new Date(h*(c.X!==void 0?1e3:1));o.year=p.getFullYear(),o.month=p.getMonth()+1,o.day=p.getDate(),o.hour=p.getHours(),o.minute=p.getMinutes(),o.second=p.getSeconds(),o.millisecond=p.getMilliseconds()}else{if(c.YYYY!==void 0)o.year=parseInt(f[c.YYYY],10);else if(c.YY!==void 0){const h=parseInt(f[c.YY],10);o.year=h<0?h:2e3+h}if(c.M!==void 0){if(o.month=parseInt(f[c.M],10),o.month<1||o.month>12)return o}else c.MMM!==void 0?o.month=l.indexOf(f[c.MMM])+1:c.MMMM!==void 0&&(o.month=s.indexOf(f[c.MMMM])+1);if(c.D!==void 0){if(o.day=parseInt(f[c.D],10),o.year===null||o.month===null||o.day<1)return o;const h=r!=="persian"?new Date(o.year,o.month,0).getDate():WTt(o.year,o.month);if(o.day>h)return o}c.H!==void 0?o.hour=parseInt(f[c.H],10)%24:c.h!==void 0&&(o.hour=parseInt(f[c.h],10)%12,(c.A&&f[c.A]==="PM"||c.a&&f[c.a]==="pm"||c.aa&&f[c.aa]==="p.m.")&&(o.hour+=12),o.hour=o.hour%24),c.m!==void 0&&(o.minute=parseInt(f[c.m],10)%60),c.s!==void 0&&(o.second=parseInt(f[c.s],10)%60),c.S!==void 0&&(o.millisecond=parseInt(f[c.S],10)*10**(3-f[c.S].length)),(c.Z!==void 0||c.ZZ!==void 0)&&(d=c.Z!==void 0?f[c.Z].replace(":",""):f[c.ZZ],o.timezoneOffset=(d[0]==="+"?-1:1)*(60*d.slice(1,3)+1*d.slice(3,5)))}return o.dateHash=Or(o.year,6)+"/"+Or(o.month)+"/"+Or(o.day),o.timeHash=Or(o.hour)+":"+Or(o.minute)+":"+Or(o.second)+d,o}function YT(t){const e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);const n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const r=e.getTimezoneOffset()-n.getTimezoneOffset();e.setHours(e.getHours()-r);const i=(e-n)/(D5e*7);return 1+Math.floor(i)}function ad(t,e,n){const r=new Date(t),i=`set${n===!0?"UTC":""}`;switch(e){case"year":case"years":r[`${i}Month`](0);case"month":case"months":r[`${i}Date`](1);case"day":case"days":case"date":r[`${i}Hours`](0);case"hour":case"hours":r[`${i}Minutes`](0);case"minute":case"minutes":r[`${i}Seconds`](0);case"second":case"seconds":r[`${i}Milliseconds`](0)}return r}function O6(t,e,n){return(t.getTime()-t.getTimezoneOffset()*sI-(e.getTime()-e.getTimezoneOffset()*sI))/n}function oMt(t,e,n="days"){const r=new Date(t),i=new Date(e);switch(n){case"years":case"year":return r.getFullYear()-i.getFullYear();case"months":case"month":return(r.getFullYear()-i.getFullYear())*12+r.getMonth()-i.getMonth();case"days":case"day":case"date":return O6(ad(r,"day"),ad(i,"day"),D5e);case"hours":case"hour":return O6(ad(r,"hour"),ad(i,"hour"),tMt);case"minutes":case"minute":return O6(ad(r,"minute"),ad(i,"minute"),sI);case"seconds":case"second":return O6(ad(r,"second"),ad(i,"second"),1e3)}}function ZT(t){return oMt(t,ad(t,"year"),"days")+1}function sg(t){if(t>=11&&t<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`}return`${t}th`}const ene={YY(t,e,n){const r=this.YYYY(t,e,n)%100;return r>=0?Or(r):"-"+Or(Math.abs(r))},YYYY(t,e,n){return n??t.getFullYear()},M(t){return t.getMonth()+1},Mo(t){return sg(t.getMonth()+1)},MM(t){return Or(t.getMonth()+1)},MMM(t,e){return e.monthsShort[t.getMonth()]},MMMM(t,e){return e.months[t.getMonth()]},Q(t){return Math.ceil((t.getMonth()+1)/3)},Qo(t){return sg(this.Q(t))},D(t){return t.getDate()},Do(t){return sg(t.getDate())},DD(t){return Or(t.getDate())},DDD(t){return ZT(t)},DDDo(t){return sg(ZT(t))},DDDD(t){return Or(ZT(t),3)},d(t){return t.getDay()},do(t){return sg(t.getDay())},dd(t,e){return e.days[t.getDay()].slice(0,2)},ddd(t,e){return e.daysShort[t.getDay()]},dddd(t,e){return e.days[t.getDay()]},E(t){return t.getDay()||7},w(t){return YT(t)},wo(t){return sg(YT(t))},ww(t){return Or(YT(t))},H(t){return t.getHours()},HH(t){return Or(t.getHours())},h(t){const e=t.getHours();return e===0?12:e>12?e%12:e},hh(t){return Or(this.h(t))},m(t){return t.getMinutes()},mm(t){return Or(t.getMinutes())},s(t){return t.getSeconds()},ss(t){return Or(t.getSeconds())},S(t){return Math.floor(t.getMilliseconds()/100)},SS(t){return Or(Math.floor(t.getMilliseconds()/10))},SSS(t){return Or(t.getMilliseconds(),3)},A(t){return t.getHours()<12?"AM":"PM"},a(t){return t.getHours()<12?"am":"pm"},aa(t){return t.getHours()<12?"a.m.":"p.m."},Z(t,e,n,r){const i=r??t.getTimezoneOffset();return Qte(i,":")},ZZ(t,e,n,r){const i=r??t.getTimezoneOffset();return Qte(i)},X(t){return Math.floor(t.getTime()/1e3)},x(t){return t.getTime()}};function aMt(t,e,n,r,i){if(t!==0&&!t||t===1/0||t===-1/0)return;const o=new Date(t);if(isNaN(o))return;e===void 0&&(e=N5e);const a=O5e(n,Lc.props);return e.replace(nMt,(s,l)=>s in ene?ene[s](o,a,r,i):l===void 0?s:l.split("\\]").join("]"))}function sMt(t,e){return t.hour!==null&&t.minute===null?"minute":"hour"}function lMt(){const t=new Date;return{hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()}}const uMt=cn({name:"QTime",props:{...ra,...uy,...Jte,modelValue:{required:!0,validator:t=>typeof t=="string"||t===null},mask:{...Jte.mask,default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:t=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(t)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:JTt,setup(t,{slots:e,emit:n}){const r=Lt(),{$q:i}=r.proxy,o=ia(t,i),{tabindex:a,headerClass:s,getLocale:l,getCurrentDate:u}=eMt(t,i),c=Cae(t),f=ik(c);let d,h;const p=we(null),m=re(()=>X()),g=re(()=>l()),v=re(()=>K()),y=N6(t.modelValue,m.value,g.value,t.calendar,v.value),b=we(sMt(y)),w=we(y),x=we(y.hour===null||y.hour<12),S=re(()=>`q-time q-time--${t.landscape===!0?"landscape":"portrait"}`+(o.value===!0?" q-time--dark q-dark":"")+(t.disable===!0?" disabled":t.readonly===!0?" q-time--readonly":"")+(t.bordered===!0?" q-time--bordered":"")+(t.square===!0?" q-time--square no-border-radius":"")+(t.flat===!0?" q-time--flat no-shadow":"")),_=re(()=>{const ge=w.value;return{hour:ge.hour===null?"--":k.value===!0?Or(ge.hour):String(x.value===!0?ge.hour===0?12:ge.hour:ge.hour>12?ge.hour-12:ge.hour),minute:ge.minute===null?"--":Or(ge.minute),second:ge.second===null?"--":Or(ge.second)}}),k=re(()=>t.format24h!==null?t.format24h:i.lang.date.format24h),C=re(()=>{const ge=b.value==="hour",Ae=ge===!0?12:60,Me=w.value[b.value];let Ue=`rotate(${Math.round(Me*(360/Ae))-180}deg) translateX(-50%)`;return ge===!0&&k.value===!0&&w.value.hour>=12&&(Ue+=" scale(.7)"),{transform:Ue}}),E=re(()=>w.value.hour!==null),M=re(()=>E.value===!0&&w.value.minute!==null),A=re(()=>t.hourOptions!==void 0?ge=>t.hourOptions.includes(ge):t.options!==void 0?ge=>t.options(ge,null,null):null),N=re(()=>t.minuteOptions!==void 0?ge=>t.minuteOptions.includes(ge):t.options!==void 0?ge=>t.options(w.value.hour,ge,null):null),T=re(()=>t.secondOptions!==void 0?ge=>t.secondOptions.includes(ge):t.options!==void 0?ge=>t.options(w.value.hour,w.value.minute,ge):null),I=re(()=>{if(A.value===null)return null;const ge=z(0,11,A.value),Ae=z(12,11,A.value);return{am:ge,pm:Ae,values:ge.values.concat(Ae.values)}}),O=re(()=>N.value!==null?z(0,59,N.value):null),q=re(()=>T.value!==null?z(0,59,T.value):null),L=re(()=>{switch(b.value){case"hour":return I.value;case"minute":return O.value;case"second":return q.value}}),Y=re(()=>{let ge,Ae,Me=0,Fe=1;const Ue=L.value!==null?L.value.values:void 0;b.value==="hour"?k.value===!0?(ge=0,Ae=23):(ge=0,Ae=11,x.value===!1&&(Me=12)):(ge=0,Ae=55,Fe=5);const G=[];for(let Se=ge,Ie=ge;Se<=Ae;Se+=Fe,Ie++){const qe=Se+Me,Ze=Ue?.includes(qe)===!1,ft=b.value==="hour"&&Se===0?k.value===!0?"00":"12":Se;G.push({val:qe,index:Ie,disable:Ze,label:ft})}return G}),R=re(()=>[[_m,J,void 0,{stop:!0,prevent:!0,mouse:!0}]]);We(()=>t.modelValue,ge=>{const Ae=N6(ge,m.value,g.value,t.calendar,v.value);(Ae.dateHash!==w.value.dateHash||Ae.timeHash!==w.value.timeHash)&&(w.value=Ae,Ae.hour===null?b.value="hour":x.value=Ae.hour<12)}),We([m,g],()=>{Tn(()=>{Te()})});function B(){const ge={...u(),...lMt()};Te(ge),Object.assign(w.value,ge),b.value="hour"}function z(ge,Ae,Me){const Fe=Array.apply(null,{length:Ae+1}).map((Ue,G)=>{const Se=G+ge;return{index:Se,val:Me(Se)===!0}}).filter(Ue=>Ue.val===!0).map(Ue=>Ue.index);return{min:Fe[0],max:Fe[Fe.length-1],values:Fe,threshold:Ae+1}}function P(ge,Ae,Me){const Fe=Math.abs(ge-Ae);return Math.min(Fe,Me-Fe)}function $(ge,{min:Ae,max:Me,values:Fe,threshold:Ue}){if(ge===Ae)return Ae;if(ge<Ae||ge>Me)return P(ge,Ae,Ue)<=P(ge,Me,Ue)?Ae:Me;const G=Fe.findIndex(qe=>ge<=qe),Se=Fe[G-1],Ie=Fe[G];return ge-Se<=Ie-ge?Se:Ie}function X(){return t.calendar!=="persian"&&t.mask!==null?t.mask:`HH:mm${t.withSeconds===!0?":ss":""}`}function K(){if(typeof t.defaultDate!="string"){const ge=u(!0);return ge.dateHash=QTt(ge),ge}return N6(t.defaultDate,"YYYY/MM/DD",void 0,t.calendar)}function Z(){return BI(r)===!0||L.value!==null&&(L.value.values.length===0||b.value==="hour"&&k.value!==!0&&I.value[x.value===!0?"am":"pm"].values.length===0)}function te(){const ge=p.value,{top:Ae,left:Me,width:Fe}=ge.getBoundingClientRect(),Ue=Fe/2;return{top:Ae+Ue,left:Me+Ue,dist:Ue*.7}}function J(ge){if(Z()!==!0){if(ge.isFirst===!0){d=te(),h=ue(ge.evt,d);return}h=ue(ge.evt,d,h),ge.isFinal===!0&&(d=!1,h=null,fe())}}function fe(){b.value==="hour"?b.value="minute":t.withSeconds&&b.value==="minute"&&(b.value="second")}function ue(ge,Ae,Me){const Fe=jd(ge),Ue=Math.abs(Fe.top-Ae.top),G=Math.sqrt(Math.pow(Math.abs(Fe.top-Ae.top),2)+Math.pow(Math.abs(Fe.left-Ae.left),2));let Se,Ie=Math.asin(Ue/G)*(180/Math.PI);if(Fe.top<Ae.top?Ie=Ae.left<Fe.left?90-Ie:270+Ie:Ie=Ae.left<Fe.left?Ie+90:270-Ie,b.value==="hour"){if(Se=Ie/30,I.value!==null){const qe=k.value!==!0?x.value===!0:I.value.am.values.length!==0&&I.value.pm.values.length!==0?G>=Ae.dist:I.value.am.values.length!==0;Se=$(Se+(qe===!0?0:12),I.value[qe===!0?"am":"pm"])}else Se=Math.round(Se),k.value===!0?G<Ae.dist?Se<12&&(Se+=12):Se===12&&(Se=0):x.value===!0&&Se===12?Se=0:x.value===!1&&Se!==12&&(Se+=12);k.value===!0&&(x.value=Se<12)}else Se=Math.round(Ie/6)%60,b.value==="minute"&&O.value!==null?Se=$(Se,O.value):b.value==="second"&&q.value!==null&&(Se=$(Se,q.value));return Me!==Se&&H[b.value](Se),Se}const de={hour(){b.value="hour"},minute(){b.value="minute"},second(){b.value="second"}};function ee(ge){ge.keyCode===13&&Q()}function D(ge){ge.keyCode===13&&ie()}function oe(ge){Z()!==!0&&(i.platform.is.desktop!==!0&&ue(ge,te()),fe())}function W(ge){Z()!==!0&&ue(ge,te())}function V(ge){if(ge.keyCode===13)b.value="hour";else if([37,39].includes(ge.keyCode)){const Ae=ge.keyCode===37?-1:1;if(I.value!==null){const Me=k.value===!0?I.value.values:I.value[x.value===!0?"am":"pm"].values;if(Me.length===0)return;if(w.value.hour===null)se(Me[0]);else{const Fe=(Me.length+Me.indexOf(w.value.hour)+Ae)%Me.length;se(Me[Fe])}}else{const Me=k.value===!0?24:12,Fe=k.value!==!0&&x.value===!1?12:0,Ue=w.value.hour===null?-Ae:w.value.hour;se(Fe+(24+Ue+Ae)%Me)}}}function F(ge){if(ge.keyCode===13)b.value="minute";else if([37,39].includes(ge.keyCode)){const Ae=ge.keyCode===37?-1:1;if(O.value!==null){const Me=O.value.values;if(Me.length===0)return;if(w.value.minute===null)pe(Me[0]);else{const Fe=(Me.length+Me.indexOf(w.value.minute)+Ae)%Me.length;pe(Me[Fe])}}else{const Me=w.value.minute===null?-Ae:w.value.minute;pe((60+Me+Ae)%60)}}}function j(ge){if(ge.keyCode===13)b.value="second";else if([37,39].includes(ge.keyCode)){const Ae=ge.keyCode===37?-1:1;if(q.value!==null){const Me=q.value.values;if(Me.length===0)return;if(w.value.seconds===null)ae(Me[0]);else{const Fe=(Me.length+Me.indexOf(w.value.second)+Ae)%Me.length;ae(Me[Fe])}}else{const Me=w.value.second===null?-Ae:w.value.second;ae((60+Me+Ae)%60)}}}function se(ge){w.value.hour!==ge&&(w.value.hour=ge,ve())}function pe(ge){w.value.minute!==ge&&(w.value.minute=ge,ve())}function ae(ge){w.value.second!==ge&&(w.value.second=ge,ve())}const H={hour:se,minute:pe,second:ae};function Q(){x.value===!1&&(x.value=!0,w.value.hour!==null&&(w.value.hour-=12,ve()))}function ie(){x.value===!0&&(x.value=!1,w.value.hour!==null&&(w.value.hour+=12,ve()))}function ce(ge){const Ae=t.modelValue;b.value!==ge&&Ae!==void 0&&Ae!==null&&Ae!==""&&typeof Ae!="string"&&(b.value=ge)}function ve(){if(A.value!==null&&A.value(w.value.hour)!==!0){w.value=N6(),ce("hour");return}if(N.value!==null&&N.value(w.value.minute)!==!0){w.value.minute=null,w.value.second=null,ce("minute");return}if(t.withSeconds===!0&&T.value!==null&&T.value(w.value.second)!==!0){w.value.second=null,ce("second");return}w.value.hour===null||w.value.minute===null||t.withSeconds===!0&&w.value.second===null||Te()}function Te(ge){const Ae=Object.assign({...w.value},ge),Me=t.calendar==="persian"?Or(Ae.hour)+":"+Or(Ae.minute)+(t.withSeconds===!0?":"+Or(Ae.second):""):aMt(new Date(Ae.year,Ae.month===null?null:Ae.month-1,Ae.day,Ae.hour,Ae.minute,Ae.second,Ae.millisecond),m.value,g.value,Ae.year,Ae.timezoneOffset);Ae.changed=Me!==t.modelValue,n("update:modelValue",Me,Ae)}function be(){const ge=[he("div",{class:"q-time__link "+(b.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onClick:de.hour,onKeyup:V},_.value.hour),he("div",":"),he("div",E.value===!0?{class:"q-time__link "+(b.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onKeyup:F,onClick:de.minute}:{class:"q-time__link"},_.value.minute)];t.withSeconds===!0&&ge.push(he("div",":"),he("div",M.value===!0?{class:"q-time__link "+(b.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onKeyup:j,onClick:de.second}:{class:"q-time__link"},_.value.second));const Ae=[he("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},ge)];return k.value===!1&&Ae.push(he("div",{class:"q-time__header-ampm column items-between no-wrap"},[he("div",{class:"q-time__link "+(x.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onClick:Q,onKeyup:ee},"AM"),he("div",{class:"q-time__link "+(x.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onClick:ie,onKeyup:D},"PM")])),he("div",{class:"q-time__header flex flex-center no-wrap "+s.value},Ae)}function _e(){const ge=w.value[b.value];return he("div",{class:"q-time__content col relative-position"},[he(Hd,{name:"q-transition--scale"},()=>he("div",{key:"clock"+b.value,class:"q-time__container-parent absolute-full"},[he("div",{ref:p,class:"q-time__container-child fit overflow-hidden"},[fo(he("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:oe,onMousedown:W},[he("div",{class:"q-time__clock-circle fit"},[he("div",{class:"q-time__clock-pointer"+(w.value[b.value]===null?" hidden":t.color!==void 0?` text-${t.color}`:""),style:C.value}),Y.value.map(Ae=>he("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${Ae.index}`+(Ae.val===ge?" q-time__clock-position--active "+s.value:Ae.disable===!0?" q-time__clock-position--disable":"")},[he("span",Ae.label)]))])]),R.value)])])),t.nowBtn===!0?he(Ct,{class:"q-time__now-button absolute",icon:i.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:t.color,textColor:t.textColor,tabindex:a.value,onClick:B}):null])}return r.proxy.setNow=B,()=>{const ge=[_e()],Ae=Mr(e.default);return Ae!==void 0&&ge.push(he("div",{class:"q-time__actions"},Ae)),t.name!==void 0&&t.disable!==!0&&f(ge,"push"),he("div",{class:S.value,tabindex:-1},[be(),he("div",{class:"q-time__main col overflow-auto"},ge)])}}});function tne(t){if(t===!1)return 0;if(t===!0||t===void 0)return 1;const e=parseInt(t,10);return isNaN(e)?0:e}const cMt=W8({name:"close-popup",beforeMount(t,{value:e}){const n={depth:tne(e),handler(r){n.depth!==0&&setTimeout(()=>{const i=Dke(t);i!==void 0&&Nke(i,r,n.depth)})},handlerKey(r){af(r,13)===!0&&n.handler(r)}};t.__qclosepopup=n,t.addEventListener("click",n.handler),t.addEventListener("keyup",n.handlerKey)},updated(t,{value:e,oldValue:n}){e!==n&&(t.__qclosepopup.depth=tne(e))},beforeUnmount(t){const e=t.__qclosepopup;t.removeEventListener("click",e.handler),t.removeEventListener("keyup",e.handlerKey),delete t.__qclosepopup}}),fMt={class:"form-section"},dMt={class:"form-grid"},hMt={class:"form-group"},pMt={class:"form-group"},mMt={class:"form-section"},gMt={class:"form-grid"},vMt={class:"form-group"},yMt={class:"row items-center justify-end"},bMt=nt({__name:"TimerEditor",props:{timer:{},isOpen:{type:Boolean}},emits:["submit","cancel"],setup(t,{emit:e}){const n=t,r=e,{t:i}=Ut(),o=we({title:"",description:"",duration:6e4}),a=re(()=>Xg(o.duration/1e3),()=>{});We(()=>n.timer,u=>{u?o.value={title:u.title||"",description:u.description||"",duration:u.duration}:o.value={title:"",description:"",duration:6e4}},{immediate:!0});function s(){r("submit",{...o.value})}function l(){r("cancel")}return(u,c)=>(ye(),He(Na,{isOpen:u.isOpen,title:n.timer?le(i)("timers.edit"):le(i)("timers.create"),showSubmit:!0,showCancel:!0,onSubmit:s,onCancel:l,modalId:"timer-editor-modal"},{default:De(()=>[Ee("div",fMt,[Ee("div",dMt,[Ee("div",hMt,[xe(ui,{modelValue:o.value.title,"onUpdate:modelValue":c[0]||(c[0]=f=>o.value.title=f),label:le(i)("timers.fields.title"),placeholder:le(i)("timers.fields.titlePlaceholder"),type:"text",outlined:""},null,8,["modelValue","label","placeholder"])]),Ee("div",pMt,[xe(ui,{modelValue:o.value.description,"onUpdate:modelValue":c[1]||(c[1]=f=>o.value.description=f),label:le(i)("timers.fields.description"),placeholder:le(i)("timers.fields.descriptionPlaceholder"),type:"textarea",autogrow:"",outlined:""},null,8,["modelValue","label","placeholder"])])])]),Ee("div",mMt,[Ee("div",gMt,[Ee("div",vMt,[xe(ui,{modelValue:a.value,"onUpdate:modelValue":c[3]||(c[3]=f=>a.value=f),mask:"fulltime",rules:["fulltime"],label:le(i)("timers.fields.duration"),outlined:""},{append:De(()=>[xe(le(mae),null,{default:De(()=>[xe(yme,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:De(()=>[xe(uMt,{modelValue:a.value,"onUpdate:modelValue":c[2]||(c[2]=f=>a.value=f)},{default:De(()=>[Ee("div",yMt,[fo(xe(Ct,{label:"Close",color:"primary",flat:""},null,512),[[cMt]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label"])])])])]),_:1},8,["isOpen","title"]))}}),wMt={class:"participant-name"},xMt={class:"participant-initiative"},SMt={key:0},_Mt={key:1},CMt={key:2},kMt=nt({__name:"TimerListItem",props:{timer:{}},emits:["edit","delete","start","stop","reset"],setup(t,{emit:e}){const n=WR(),r=t,{t:i}=Ut(),o=re(()=>{switch(r.timer.status){case"running":return i("timers.status.running");case"finished":return i("timers.status.finished");default:return i("timers.status.inactive")}}),a=(l=0)=>Xg(Math.max(r.timer.duration-l,0)/1e3),s=we(a());return We(()=>n.now,l=>{r.timer.status==="running"&&(s.value=a(l-r.timer.startedAt))},{immediate:!0}),We(()=>r.timer.status,l=>{["inactive","finished"].includes(l)&&(s.value=a())},{immediate:!0}),(l,u)=>(ye(),He(eu,null,{default:De(()=>[xe(Er,{avatar:""},{default:De(()=>[r.timer.status==="inactive"?(ye(),He(Ct,{key:0,flat:"",onClick:u[0]||(u[0]=c=>l.$emit("start")),title:le(i)("timers.start")},{default:De(()=>[xe(le(yae))]),_:1},8,["title"])):ot("",!0),r.timer.status==="running"?(ye(),He(Ct,{key:1,flat:"",onClick:u[1]||(u[1]=c=>l.$emit("stop")),title:le(i)("timers.stop")},{default:De(()=>[xe(le(pu))]),_:1},8,["title"])):ot("",!0),r.timer.status==="finished"?(ye(),He(Ct,{key:2,flat:"",onClick:u[2]||(u[2]=c=>l.$emit("reset")),title:le(i)("timers.reset")},{default:De(()=>[xe(le(_9e))]),_:1},8,["title"])):ot("",!0)]),_:1}),xe(Er,null,{default:De(()=>[Ee("div",wMt,$e(r.timer.title||le(i)("timers.noTitle")),1),Ee("div",xMt,[r.timer.status==="running"?(ye(),Le("span",SMt,[vt($e(le(i)("timers.remaining"))+": ",1),Ee("b",null,$e(s.value),1)])):r.timer.status==="finished"?(ye(),Le("span",_Mt,$e(le(i)("timers.finished")),1)):(ye(),Le("span",CMt,[vt($e(le(i)("timers.duration"))+": ",1),Ee("b",null,$e(s.value),1)]))])]),_:1}),xe(Er,null,{default:De(()=>[Ee("span",{class:Qr("timer-status "+r.timer.status)},$e(o.value),3)]),_:1}),xe(Er,{side:""},{default:De(()=>[xe(Vs,{flat:""},{default:De(()=>[xe(Ct,{flat:"",color:"positive",title:le(i)("timers.edit"),onClick:u[3]||(u[3]=c=>l.$emit("edit"))},{default:De(()=>[xe(le(c9e))]),_:1},8,["title"]),xe(Ct,{flat:"",color:"negative",title:le(i)("timers.delete"),onClick:u[4]||(u[4]=c=>l.$emit("delete"))},{default:De(()=>[xe(le(tk))]),_:1},8,["title"])]),_:1})]),_:1})]),_:1}))}}),EMt=nt({__name:"TimersView",setup(t){const{t:e}=Ut(),n=WR();kt(async()=>{await n.load()});function r(f){return{timer:f,onEdit:()=>void 0,onDelete:()=>a(f),onStart:()=>l(f),onStop:()=>u(f),onReset:()=>c(f)}}function i(f){return{timer:f,isOpen:!0}}function o(f){}async function a(f){return f.id&&await E1(e("common.confirmDelete",{title:"timer"}))?(await n.remove(f.id),!0):!1}function s(f){f.id?n.update(f.id,f):n.create({...f,status:"inactive",startedAt:null})}function l(f){n.start(f.id)}function u(f){n.stop(f.id)}function c(f){n.reset(f.id)}return(f,d)=>(ye(),He(uh,{items:le(n).timers,"card-component":kMt,"editor-component":bMt,"empty-message":le(e)("timers.empty"),"create-title":le(e)("timers.create"),"card-props":r,"editor-props":i,"show-search":!1,"view-style":"simple-list",onSubmit:s,onStart:l,onStop:u,onReset:c},null,8,["items","empty-message","create-title"]))}}),AMt=$7e({history:p7e("/dmh-pwa/"),routes:[{path:"/",name:"home",component:Grt,meta:{exact:!0}},{path:"/notes",name:"notes",component:Q8t,meta:{exact:!0}},{path:"/notes/:id",name:"note-detail",component:Akt},{path:"/parties",name:"parties",component:zkt,meta:{exact:!0}},{path:"/parties/:id",name:"party-detail",component:i7t},{path:"/monsters",name:"monsters",component:d7t,meta:{exact:!0}},{path:"/monsters/:id",name:"monster-detail",component:y7t},{path:"/characters",name:"characters",component:E7t,meta:{exact:!0}},{path:"/characters/:id",name:"character-detail",component:N7t},{path:"/encounters",name:"encounters",component:fEt,meta:{exact:!0}},{path:"/encounters/:id",name:"encounter-detail",component:TEt},{path:"/combats/:id",name:"combat-detail",component:WEt},{path:"/modules",name:"modules",component:dAt,meta:{exact:!0}},{path:"/modules/:id",name:"module-detail",component:CTt},{path:"/jukebox",name:"jukebox",component:HTt,meta:{exact:!0}},{path:"/timers",name:"timers",component:EMt,meta:{exact:!0}},{path:"/:catchAll(.*)",component:s5e}],scrollBehavior(t,e,n){return t.hash||n?!1:{left:0,top:0}}}),TMt={title:"Owlbear's Dungeon Master Helper",loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",view:"View",close:"Close",confirm:"Confirm",back:"Back",next:"Next",previous:"Previous",search:"Search",filter:"Filter",clear:"Clear",add:"Add",remove:"Remove",update:"Update",create:"Create",submit:"Submit",reset:"Reset",refresh:"Refresh",download:"Download",upload:"Upload",export:"Export",import:"Import",jukebox:"Jukebox",roll:"Dice Roller",calculator:"Calculator"},MMt={home:"Home",notes:"Notes",parties:"Parties",monsters:"Monsters",characters:"Characters",encounters:"Encounters",combats:"Combats",modules:"Modules",configuration:"Configuration",timers:"Timers"},DMt={title:"Welcome to Owlbear's Dungeon Master Helper",subtitle:"Your comprehensive tool for managing D&D campaigns",stats:{notes:"Notes",parties:"Parties",monsters:"Monsters",characters:"Characters",encounters:"Encounters",modules:"Modules"}},NMt={title:"Notes",create:"Create Note",edit:"Edit Note",delete:"Delete Note",fields:{title:"Title",content:"Content",type:"Type",tags:"Tags",module:"Module"},types:{general:"General",quest:"Quest",npc:"NPC",location:"Location",item:"Item"}},OMt={title:"Parties",create:"Create Party",edit:"Edit Party",delete:"Delete Party",namePlaceholder:"Party name",fields:{name:"Name",description:"Description",characters:"Characters",modules:"Modules",notes:"Notes"},linkCharacters:"Link Characters"},IMt={title:"Monsters",create:"Create Monster",edit:"Edit Monster",delete:"Delete Monster",fields:{name:"Name",type:"Type",description:"Description",size:"Size",alignment:"Alignment",armorClass:"Armor Class",hitPoints:"Hit Points",speed:"Speed",challengeRating:"Challenge Rating",xp:"XP",module:"Module"},sizes:{tiny:"Tiny",small:"Small",medium:"Medium",large:"Large",huge:"Huge",gargantuan:"Gargantuan"},alignments:{lawful_good:"Lawful Good",neutral_good:"Neutral Good",chaotic_good:"Chaotic Good",lawful_neutral:"Lawful Neutral",neutral:"Neutral",chaotic_neutral:"Chaotic Neutral",lawful_evil:"Lawful Evil",neutral_evil:"Neutral Evil",chaotic_evil:"Chaotic Evil"}},PMt={title:"Characters",create:"Create Character",edit:"Edit Character",delete:"Delete Character",fields:{name:"Name",level:"Level",class:"Class",race:"Race",playerName:"Player Name",alignment:"Alignment",background:"Background",hitPoints:"Hit Points",armorClass:"Armor Class",speed:"Speed",module:"Module",party:"Party"},stats:{strength:"Strength",dexterity:"Dexterity",constitution:"Constitution",intelligence:"Intelligence",wisdom:"Wisdom",charisma:"Charisma"}},RMt={title:"Encounters",create:"Create Encounter",edit:"Edit Encounter",delete:"Delete Encounter",namePlaceholder:"Enter encounter name",descriptionPlaceholder:"Enter encounter description",notesPlaceholder:"Enter encounter notes",runCombat:"Run Combat",linkMonsters:"Link Monsters",unlink:"Unlink",count:"Count",noMonstersYet:"No monsters in this encounter yet",noCombatsYet:"No combats for this encounter yet",fields:{name:"Name",description:"Description",difficulty:"Difficulty",level:"Level",monsters:"Monsters",xp:"XP",module:"Module"},difficulties:{easy:"Easy",medium:"Medium",hard:"Hard",deadly:"Deadly"},tabs:{information:"Information",monsters:"Monsters",combats:"Combats"},monsters:{title:"Monsters",linkAction:"Link Monsters",linkModalTitle:"Link Monsters to Encounter",none:"No monsters in this encounter",noneAvailable:"No monsters available to link.",setQuantity:"Set Monster Quantity",setQuantityFor:"Set quantity for {monsterName}"},combats:{title:"Combats",addParticipant:"Add Participant",addParticipantTitle:"Add Participants to Combat",allParticipantsAdded:"All available participants are already in the combat.",allPartyCharactersAdded:"All party characters are already in the combat.",party:"Party",created:"Created",statusTitle:"Status",status:{preparing:"Preparing",active:"Active",completed:"Completed"},actions:"Actions",view:"View"}},FMt={title:"Modules",create:"Create Module",edit:"Edit Module",delete:"Delete Module",namePlaceholder:"Enter module name",descriptionPlaceholder:"Enter module description",fields:{name:"Name",description:"Description"}},LMt={confirmDelete:"Are you sure you want to delete {title}?",empty:"No items found",emptyModules:"No modules yet. Create your first module to get started!",noModules:"No Modules",emptyParties:"No parties yet. Create your first party to get started!",emptyEncounters:"No encounters yet. Create your first encounter to get started!",emptyCharacters:"No characters yet. Create your first character to get started!",emptyTracks:"No tracks to display. Add some tracks to get started!",loading:"Loading...",error:"An error occurred",success:"Operation completed successfully",noModule:"Without Module",unknownModule:"Unknown Module",anyModule:"Any Module",currentModule:"Current Module",unknownParty:"Unknown Party",noDescription:"No description provided",created:"Created",actions:"Actions",details:"Details",information:"Information",statistics:"Statistics",description:"Description",notes:"Notes",create:"Create",edit:"Edit",delete:"Delete",add:"Add",remove:"Remove",save:"Save",cancel:"Cancel",view:"View",copy:"Copy",expand:"Expand",collapse:"Collapse",close:"Close",back:"Back",next:"Next",previous:"Previous",search:"Search",filter:"Filter",clear:"Clear",update:"Update",submit:"Submit",reset:"Reset",refresh:"Refresh",download:"Download",upload:"Upload",export:"Export",import:"Import",confirm:"Confirm",start:"Start",stop:"Stop",pause:"Pause",play:"Play",run:"Run",link:"Link",unlink:"Unlink",rename:"Rename",entityDetails:"Entity Details",fullscreen:"Full Page",exitFullscreen:"Exit Full Page",openFullscreen:"Open App in Full Page",mentions:"Mentions",mentionedIn:"Mentioned In",runCombat:"Run Combat",startCombat:"Start Combat",clearLog:"Clear Log",addToPlaylist:"Add to Playlist",playlist:"Playlist",addTracks:"Add Tracks",removeTagFilter:"Remove tag filter",addRootNode:"Add Root Node",saveTree:"Save Tree",addChild:"Add child",createNoteInNode:"Create note in this node",editNote:"Edit note",createNote:"Create Note",closeTab:"Close tab",addNewTab:"Add new tab",userMenu:"User Menu",tableOfContents:"Table of Contents",bookmarks:"Bookmarks",bookmark:"Bookmark",editBookmark:"Edit bookmark",deleteBookmark:"Delete bookmark",noBookmarks:"No bookmarks yet.",untitled:"Untitled",title:"Title",name:"Name",nameRequired:"Name is required",initiative:"Initiative",quantity:"Quantity",done:"Done",module:"Module",moduleRequired:"Module is required"},$Mt={required:"This field is required",minLength:"Minimum length is {min} characters",maxLength:"Maximum length is {max} characters",email:"Please enter a valid email address",number:"Please enter a valid number",positive:"Please enter a positive number"},BMt={errorCode:"404",title:"Page Not Found",message:"The page you are looking for does not exist or has been moved.",goHome:"Go Home",goBack:" Back",helpTitle:"You may also try:",helpItems:["Checking the URL for typos","Using the navigation menu above","Going back to the previous page"]},zMt={name:"Owlbear's DMH",subtitle:"Dungeon Master Helper"},qMt={notes:"Notes",parties:"Parties",monsters:"Monsters",characters:"Characters",encounters:"Encounters",modules:"Modules"},VMt={encounter:"Encounter",party:"Party",status:"Status",tracker:"Combat Tracker",summary:"Combat Summary",round:"Round:",turn:"Turn:",notes:"Notes",noActive:"No active combat found for this encounter.",currentTurn:"Current Turn: {name}",type:"Type: {type}",log:"Combat Log",clearLog:"Clear Log",addParticipant:"Add Participant",addParticipantTitle:"Add Participants to Combat",allPartyCharactersAdded:"All party characters are already in the combat.",setInitiative:"Set Initiative",setInitiativeFor:"Set initiative for {name}",initiativePlaceholder:"Enter initiative value",participants:"Participants",participantStatus:{postponed:"Postponed",wait:"Waiting for turn",actedThisRound:"Acted this round"}},HMt={module:"Module:",monsters:"Monsters:"},UMt={noCharacters:"No characters in this party yet",noAvailable:"No characters available",name:"Name",actions:"Actions",linked:"Linked",unlink:"Unlink"},jMt={noDocument:"No document structure defined for this module.",noParties:"No parties in this module",noMonsters:"No monsters in this module",noEncounters:"No encounters in this module",noNotes:"No notes in this module",noPlaylists:"No playlists in this module"},WMt={title:"Playlist",none:"No playlists found. Please create one first.",fields:{name:"Name",description:"Description",modules:"Modules"}},GMt={selectType:"Select note type",createNew:"Create New Type",name:"Name",description:"Description",color:"Color",icon:"Icon (optional)",add:"Add",cancel:"Cancel"},KMt={untitled:"(untitled)",addNote:"Add note..."},XMt={basicInformation:"Basic Information",content:"Content",description:"Description",notes:"Notes",title:"Title",titleRequired:"Title is required",contentPlaceholder:"Enter content here...",module:"Module",type:"Type",tags:"Tags"},YMt={chooseParty:"Choose a party...",partyInformation:"Party Information",encounterInformation:"Encounter Information",party:"Party:",characters:"Characters:",encounter:"Encounter:",monsters:"Monsters:",selectCharacters:"Select Characters",selectAtLeastOneCharacter:"Select at least one character to start combat.",startCombat:"Start Combat"},ZMt={english:"English",russian:"Russian"},JMt={title:"Tags"},QMt={backup:"Backup",restore:"Restore",importModule:"Import Module",backupCompleted:"Backup completed successfully.",backupFailed:"Backup failed: ",restoreCompleted:"Restore completed successfully.",restoreFailed:"Restore failed: ",moduleImported:"Module imported successfully.",moduleImportFailed:"Module import failed: "},eDt={rawMode:"Raw Markdown",visualMode:"Visual Editor",formattingHelp:"Formatting Help",help:{internalLinks:"Internal Links",linkToOtherEntities:"Link to other entities in your campaign:",linkToNote:"Link to a note",linkToModule:"Link to a module",linkToParty:"Link to a party",linkToMonster:"Link to a monster",linkToEncounter:"Link to an encounter",markdown:"Markdown",basicFormatting:"Basic markdown formatting:",boldText:"Bold text",italicText:"Italic text",sectionHeading:"Section heading",bulletList:"Bullet list",numberedList:"Numbered list",or:"or",completedTask:"Completed task",taskList:"Task list with checkboxes",taskLists:"Task lists",taskListsWillRender:"written as - [ ] or - [x] will render as disabled checkboxes."},placeholder:"Write here... Markdown supported"},tDt={empty:"No mentions exist.",searchPlaceholder:"Search {kind}s...",selectToMention:"Select {kind} to mention",noResults:"No results"},nDt={entityDetails:"Entity Details",entityNotFound:"Entity not found."},rDt={nameRequired:"Name is required"},iDt={addTag:"Add tag",add:"+",remove:"",hash:"#"},oDt={empty:"No timers yet. Create your first timer!",create:"Create Timer",edit:"Edit Timer",delete:"Delete Timer",noTitle:"(no title)",fields:{title:"Title",titlePlaceholder:"Enter timer title",description:"Description",descriptionPlaceholder:"Enter timer description",duration:"Duration"},remaining:"Remaining",finished:"Finished!",start:"Start",stop:"Stop",reset:"Reset",status:{inactive:"Inactive",running:"Running",finished:"Finished"}},aDt={updateAvailable:"Update Available",updateMessage:"A new version of Owlbear's DMH is available.",updateNow:"Update Now",later:"Later",offlineMode:"Offline Mode",appMode:"App Mode"},sDt={title:"Import Validation Results",treeMatches:"Tree structure in module.json matches tree.json",treeMismatch:"Tree structure in module.json does not match tree.json",missingNoteIds:"Missing noteIds in notes folder:",andMore:"...and {count} more",allNoteIdsPresent:"All noteIds in tree have corresponding note files",orphanedNoteFiles:"Orphaned note files (not referenced in tree):",allNoteFilesReferenced:"All note files are referenced in the tree"},lDt={calculator:"Calculator",converter:"Converter",physicalBase:"Physical base",unit:"Unit"},uDt={shuffle:"Shuffle",repeat:"Repeat",allTracks:"All Tracks"},I5e={app:TMt,navigation:MMt,home:DMt,notes:NMt,parties:OMt,monsters:IMt,characters:PMt,encounters:RMt,modules:FMt,common:LMt,validation:$Mt,notFound:BMt,project:zMt,statCard:qMt,combat:VMt,encounterCard:HMt,partyView:UMt,moduleView:jMt,playlist:WMt,noteTypeSelector:GMt,moduleTreeNode:KMt,editor:XMt,partySelector:YMt,language:ZMt,tags:JMt,backup:QMt,markdownEditor:eDt,mentions:tDt,modal:nDt,characterEditor:rDt,tagSelector:iDt,timers:oDt,pwa:aDt,importValidation:sDt,calculator:lDt,jukebox:uDt},cDt={title:"Owlbear's Dungeon Master Helper",loading:"...",error:"",success:"",cancel:"",save:"",delete:"",edit:"",view:"",close:"",confirm:"",back:"",next:"",previous:"",search:"",filter:"",clear:"",add:"",remove:"",update:"",create:"",submit:"",reset:"",refresh:"",download:"",upload:"",export:"",import:"",jukebox:"",roll:"",calculator:""},fDt={home:"",notes:"",parties:"",monsters:"",characters:"",encounters:"",combats:"",modules:"",configuration:"",timers:""},dDt={title:"   Dungeon Master Helper",subtitle:"      ",stats:{notes:"",parties:"",monsters:"",characters:"",encounters:"",modules:""}},hDt={title:"",create:" ",edit:" ",delete:" ",fields:{title:"",content:"",type:"",tags:"",module:""},types:{general:"",quest:"",npc:"NPC",location:"",item:""}},pDt={title:"",create:" ",edit:" ",delete:" ",namePlaceholder:" ",fields:{name:"",description:"",characters:"",modules:"",notes:""},linkCharacters:" "},mDt={title:"",create:" ",edit:" ",delete:" ",fields:{name:"",type:"",description:"",size:"",alignment:"",armorClass:" ",hitPoints:"",speed:"",challengeRating:"",xp:"",module:""},sizes:{tiny:"",small:"",medium:"",large:"",huge:"",gargantuan:""},alignments:{lawful_good:" ",neutral_good:" ",chaotic_good:" ",lawful_neutral:" ",neutral:"",chaotic_neutral:" ",lawful_evil:" ",neutral_evil:" ",chaotic_evil:" "}},gDt={title:"",create:" ",edit:" ",delete:" ",fields:{name:"",level:"",class:"",race:"",playerName:" ",alignment:"",background:"",hitPoints:"",armorClass:" ",speed:"",module:"",party:""},stats:{strength:"",dexterity:"",constitution:"",intelligence:"",wisdom:"",charisma:""}},vDt={title:"",create:" ",edit:" ",delete:" ",namePlaceholder:"  ",descriptionPlaceholder:"  ",notesPlaceholder:"   ",runCombat:" ",linkMonsters:" ",unlink:"",count:"",noMonstersYet:"     ",noCombatsYet:"     ",fields:{name:"",description:"",difficulty:"",level:"",monsters:"",xp:"",module:""},difficulties:{easy:"",medium:"",hard:"",deadly:""},tabs:{information:"",monsters:"",combats:""},monsters:{title:"",linkAction:" ",linkModalTitle:"   ",none:"    ",noneAvailable:"    .",setQuantity:"  ",setQuantityFor:"   {monsterName}"},combats:{title:"",addParticipant:" ",addParticipantTitle:"   ",allParticipantsAdded:"     .",party:"",created:"",statusTitle:"",status:{preparing:"",active:"",completed:""},actions:"",view:""}},yDt={title:"",create:" ",edit:" ",delete:" ",namePlaceholder:"  ",descriptionPlaceholder:"  ",fields:{name:"",description:""}},bDt={empty:"  ",emptyModules:"  .    ,  !",noModules:" ",emptyParties:"  .    ,  !",emptyEncounters:"  .    ,  !",emptyCharacters:"  .    ,  !",emptyTracks:"   .   ,  !",loading:"...",error:" ",success:"  ",confirmDelete:" ,    {title}?",noModule:" ",unknownModule:" ",anyModule:" ",currentModule:" ",unknownParty:" ",noDescription:"  ",created:"",actions:"",information:"",statistics:"",description:"",notes:"",create:"",edit:"",delete:"",add:"",remove:"",save:"",cancel:"",view:"",copy:"",expand:"",collapse:"",close:"",back:"",next:"",previous:"",search:"",filter:"",clear:"",update:"",submit:"",reset:"",refresh:"",download:"",upload:"",export:"",import:"",confirm:"",start:"",stop:"",pause:"",play:"",run:"",link:"",unlink:"",rename:"",details:"",entityDetails:" ",fullscreen:" ",exitFullscreen:"   ",openFullscreen:"    ",mentions:"",mentionedIn:" ",runCombat:" ",startCombat:" ",clearLog:" ",addToPlaylist:"  ",playlist:"",addTracks:" ",removeTagFilter:"   ",addRootNode:"  ",saveTree:" ",addChild:"  ",createNoteInNode:"    ",createNote:" ",editNote:" ",closeTab:" ",addNewTab:"  ",userMenu:" ",tableOfContents:"",bookmarks:"",bookmark:"",editBookmark:" ",deleteBookmark:" ",noBookmarks:"  .",untitled:" ",title:"",name:"",nameRequired:" ",initiative:"",quantity:"",done:"",module:"",moduleRequired:" "},wDt={required:"    ",minLength:"  {min} ",maxLength:"  {max} ",email:",   email ",number:",   ",positive:",   "},xDt={errorCode:"404",title:"  ",message:",   ,     .",goHome:" ",goBack:" ",helpTitle:"   :",helpItems:[" URL  ","   ","   "]},SDt={name:"Owlbear's DMH",subtitle:"  "},_Dt={notes:"",parties:"",monsters:"",characters:"",encounters:"",modules:""},CDt={encounter:"",party:"",status:"",tracker:" ",summary:" ",round:":",turn:":",notes:"",noActive:"      .",currentTurn:" : {name}",type:": {type}",log:" ",clearLog:" ",addParticipant:" ",addParticipantTitle:"   ",allPartyCharactersAdded:"      .",setInitiative:" ",setInitiativeFor:"   {name}",initiativePlaceholder:"  ",participants:"",participantStatus:{postponed:"",wait:" ",actedThisRound:"   "}},kDt={module:":",monsters:":"},EDt={noCharacters:"     ",noAvailable:"  ",name:"",actions:"",linked:"",unlink:""},ADt={noDocument:"      .",noParties:"    ",noMonsters:"    ",noEncounters:"    ",noNotes:"    ",noPlaylists:"    "},TDt={title:"",none:"  . ,  .",fields:{name:"",description:"",modules:""}},MDt={selectType:"  ",createNew:"  ",name:"",description:"",color:"",icon:" ()",add:"",cancel:"",confirmDelete:" ,      ?"},DDt={untitled:"( )",addNote:" ..."},NDt={basicInformation:" ",content:"",description:"",notes:"",title:"",titleRequired:" ",contentPlaceholder:"  ...",module:"",type:"",tags:""},ODt={chooseParty:" ...",partyInformation:"  ",encounterInformation:"  ",party:":",characters:":",encounter:":",monsters:":",selectCharacters:" ",selectAtLeastOneCharacter:"       .",startCombat:" "},IDt={english:"",russian:""},PDt={title:""},RDt={backup:" ",restore:"",importModule:" ",backupCompleted:"   .",backupFailed:"   : ",restoreCompleted:"  .",restoreFailed:" : ",moduleImported:"  .",moduleImportFailed:"  : "},FDt={rawMode:" Markdown",visualMode:" ",formattingHelp:"  ",help:{internalLinks:" ",linkToOtherEntities:"     :",linkToNote:"  ",linkToModule:"  ",linkToParty:"  ",linkToMonster:"  ",linkToEncounter:"  ",markdown:"Markdown",basicFormatting:"  markdown:",boldText:" ",italicText:"",sectionHeading:" ",bulletList:" ",numberedList:" ",or:"",completedTask:" ",taskList:"   ",taskLists:" ",taskListsWillRender:"  - [ ]  - [x]     ."},placeholder:" ...  Markdown"},LDt={empty:" .",searchPlaceholder:" {kind}...",selectToMention:" {kind}  ",noResults:" "},$Dt={entityDetails:" ",entityNotFound:"  ."},BDt={nameRequired:" "},zDt={addTag:" ",add:"+",remove:"",hash:"#"},qDt={empty:"  .    !",create:" ",edit:" ",delete:" ",noTitle:"( )",fields:{title:"",titlePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",duration:""},remaining:"",finished:"!",start:"",stop:"",reset:"",status:{inactive:"",running:"",finished:""}},VDt={updateAvailable:" ",updateMessage:"   Owlbear's DMH.",updateNow:" ",later:"",offlineMode:" ",appMode:" "},HDt={title:"  ",treeMatches:"   module.json  tree.json",treeMismatch:"   module.json   tree.json",missingNoteIds:" noteIds   :",andMore:"...  {count}",allNoteIdsPresent:" noteIds      ",orphanedNoteFiles:"   (   ):",allNoteFilesReferenced:"     "},UDt={calculator:"",converter:"",physicalBase:" ",unit:""},jDt={shuffle:"",repeat:"",allTracks:" "},P5e={app:cDt,navigation:fDt,home:dDt,notes:hDt,parties:pDt,monsters:mDt,characters:gDt,encounters:vDt,modules:yDt,common:bDt,validation:wDt,notFound:xDt,project:SDt,statCard:_Dt,combat:CDt,encounterCard:kDt,partyView:EDt,moduleView:ADt,playlist:TDt,noteTypeSelector:MDt,moduleTreeNode:DDt,editor:NDt,partySelector:ODt,language:IDt,tags:PDt,backup:RDt,markdownEditor:FDt,mentions:LDt,modal:$Dt,characterEditor:BDt,tagSelector:zDt,timers:qDt,pwa:VDt,importValidation:HDt,calculator:UDt,jukebox:jDt};$t("Loaded en locale:",I5e);$t("Loaded ru locale:",P5e);const k8=TAe({legacy:!1,locale:"ru",fallbackLocale:"en",messages:{en:I5e,ru:P5e}});function WDt(){function t(){const{pathname:e,hash:n}=window.location;if(e===window.location.pathname&&n){const r=n.slice(1),i=document.getElementById(r);i&&i.scrollIntoView({behavior:"auto",block:"center"})}}if(window.addEventListener("popstate",t),window.location.hash){const e=window.location.hash.slice(1);let n=0;const r=20,i=setInterval(()=>{const o=document.getElementById(e);o?(o.scrollIntoView({behavior:"smooth",block:"center"}),clearInterval(i)):++n>=r&&clearInterval(i)},100)}}const GDt={name:"Quasar",version:"2.18.1",install:tet,lang:Lc,iconSet:gC};function KDt(t,e){return e[t%10===1&&t%100!==11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2]}const XDt={isoName:"ru",nativeName:"",label:{clear:"",ok:"OK",cancel:"",close:"",set:"",select:"",reset:"",remove:"",update:"",create:"",search:"",filter:"",refresh:"",expand:t=>t?` "${t}"`:"",collapse:t=>t?` "${t}"`:""},date:{days:"______".split("_"),daysShort:"______".split("_"),months:"___________".split("_"),monthsShort:"___________".split("_"),firstDayOfWeek:1,format24h:!0,pluralDay:"",prevMonth:" ",nextMonth:" ",prevYear:" ",nextYear:" ",today:"",prevRangeYears:t=>` ${t} `,nextRangeYears:t=>` ${t} `},table:{noData:" ",noResults:"  ",loading:"...",selectedRecords:t=>t>0?t+" "+KDt(t,[" "," "," "])+".":"    .",recordsPerPage:"  :",allRows:"",pagination:(t,e,n)=>t+"-"+e+"  "+n,columns:""},pagination:{first:" ",prev:" ",next:" ",last:" "},editor:{url:"URL",bold:"",italic:"",strikethrough:"",underline:"",unorderedList:" ",orderedList:" ",subscript:"",superscript:"",hyperlink:"",toggleFullscreen:" ",quote:"",left:"   ",center:"  ",right:"   ",justify:"  ",print:"",outdent:" ",indent:" ",removeFormat:" ",formatting:"",fontSize:" ",align:"",hr:"  ",undo:"",redo:"",heading1:" 1",heading2:" 2",heading3:" 3",heading4:" 4",heading5:" 5",heading6:" 6",paragraph:"",code:"",size1:" ",size2:"",size3:"",size4:"",size5:"",size6:" ",size7:"",defaultFont:"  ",viewSource:"  "},tree:{noNodes:"  ",noResults:"  "}},YDt="M128 0c13.3 0 24 10.7 24 24l0 40 144 0 0-40c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 40 0c35.3 0 64 28.7 64 64l0 16 0 48 0 256c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 192l0-48 0-16C0 92.7 28.7 64 64 64l40 0 0-40c0-13.3 10.7-24 24-24zM400 192L48 192l0 256c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-256zM329 297L217 409c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z|0 0 448 512",ZDt="M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z|0 0 512 512",JDt="M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM152 232l144 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-144 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z|0 0 448 512",QDt="M352 64c0-17.7-14.3-32-32-32L128 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32l-192 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32z|0 0 448 512",eNt="M448 64c0-17.7-14.3-32-32-32L32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32zm0 256c0-17.7-14.3-32-32-32L32 288c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 192c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32zM448 448c0-17.7-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32z|0 0 448 512",nne="M288 64c0 17.7-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32L32 352c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z|0 0 448 512",tNt="M448 64c0 17.7-14.3 32-32 32L192 96c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z|0 0 448 512",nNt="M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z|0 0 384 512",rNt="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z|0 0 448 512",iNt="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z|0 0 448 512",rne="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z|0 0 384 512",ine="M267.5 440.6c9.5 7.9 22.8 9.7 34.1 4.4s18.4-16.6 18.4-29l0-320c0-12.4-7.2-23.7-18.4-29s-24.5-3.6-34.1 4.4l-192 160L64 241 64 96c0-17.7-14.3-32-32-32S0 78.3 0 96L0 416c0 17.7 14.3 32 32 32s32-14.3 32-32l0-145 11.5 9.6 192 160z|0 0 320 512",oNt="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM64 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L96 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z|0 0 512 512",aNt="M0 64C0 46.3 14.3 32 32 32l48 0 16 0 128 0c70.7 0 128 57.3 128 128c0 31.3-11.3 60.1-30 82.3c37.1 22.4 62 63.1 62 109.7c0 70.7-57.3 128-128 128L96 480l-16 0-48 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l16 0 0-160L48 96 32 96C14.3 96 0 81.7 0 64zM224 224c35.3 0 64-28.7 64-64s-28.7-64-64-64L112 96l0 128 112 0zM112 288l0 128 144 0c35.3 0 64-28.7 64-64s-28.7-64-64-64l-32 0-112 0z|0 0 384 512",one="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z|0 0 320 512",I6="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z|0 0 448 512",JT="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z|0 0 512 512",lg="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z|0 0 320 512",ug="M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z|0 0 320 512",ane="M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z|0 0 512 512",sNt="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z|0 0 512 512",lNt="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24l0 112c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-112c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z|0 0 512 512",uNt="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z|0 0 512 512",sne="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z|0 0 512 512",cNt="M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM305 273L177 401c-9.4 9.4-24.6 9.4-33.9 0L79 337c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L271 239c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z|0 0 384 512",lne="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z|0 0 640 512",fNt="M290.7 57.4L57.4 290.7c-25 25-25 65.5 0 90.5l80 80c12 12 28.3 18.7 45.3 18.7L288 480l9.4 0L512 480c17.7 0 32-14.3 32-32s-14.3-32-32-32l-124.1 0L518.6 285.3c25-25 25-65.5 0-90.5L381.3 57.4c-25-25-65.5-25-90.5 0zM297.4 416l-9.4 0-105.4 0-80-80L227.3 211.3 364.7 348.7 297.4 416z|0 0 576 512",dNt="M96 64c0-17.7-14.3-32-32-32S32 46.3 32 64l0 256c0 17.7 14.3 32 32 32s32-14.3 32-32L96 64zM64 480a40 40 0 1 0 0-80 40 40 0 1 0 0 80z|0 0 128 512",hNt="M341.6 29.2L240.1 130.8l-9.4-9.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-9.4-9.4L482.8 170.4c39-39 39-102.2 0-141.1s-102.2-39-141.1 0zM55.4 323.3c-15 15-23.4 35.4-23.4 56.6l0 42.4L5.4 462.2c-8.5 12.7-6.8 29.6 4 40.4s27.7 12.5 40.4 4L89.7 480l42.4 0c21.2 0 41.6-8.4 56.6-23.4L309.4 335.9l-45.3-45.3L143.4 411.3c-3 3-7.1 4.7-11.3 4.7L96 416l0-36.1c0-4.2 1.7-8.3 4.7-11.3L221.4 247.9l-45.3-45.3L55.4 323.3z|0 0 512 512",pNt="M254 52.8C249.3 40.3 237.3 32 224 32s-25.3 8.3-30 20.8L57.8 416 32 416c-17.7 0-32 14.3-32 32s14.3 32 32 32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-1.8 0 18-48 159.6 0 18 48-1.8 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-25.8 0L254 52.8zM279.8 304l-111.6 0L224 155.1 279.8 304z|0 0 448 512",une="M52.5 440.6c-9.5 7.9-22.8 9.7-34.1 4.4S0 428.4 0 416L0 96C0 83.6 7.2 72.3 18.4 67s24.5-3.6 34.1 4.4l192 160L256 241l0-145c0-17.7 14.3-32 32-32s32 14.3 32 32l0 320c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-145-11.5 9.6-192 160z|0 0 320 512",cne="M0 64C0 46.3 14.3 32 32 32l48 0 48 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-16 0 0 112 224 0 0-112-16 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l48 0 48 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-16 0 0 144 0 176 16 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-48 0-48 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l16 0 0-144-224 0 0 144 16 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-48 0-48 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l16 0 0-176L48 96 32 96C14.3 96 0 81.7 0 64z|0 0 448 512",mNt="M0 64C0 46.3 14.3 32 32 32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64zM192 192c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 96l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zM0 448c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32zM127.8 268.6L25.8 347.9C15.3 356.1 0 348.6 0 335.3L0 176.7c0-13.3 15.3-20.8 25.8-12.6l101.9 79.3c8.2 6.4 8.2 18.9 0 25.3z|0 0 448 512",gNt="M128 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-58.7 0L160 416l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l58.7 0L224 96l-64 0c-17.7 0-32-14.3-32-32z|0 0 384 512",vNt="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z|0 0 640 512",yNt="M24 56c0-13.3 10.7-24 24-24l32 0c13.3 0 24 10.7 24 24l0 120 16 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l16 0 0-96-8 0C34.7 80 24 69.3 24 56zM86.7 341.2c-6.5-7.4-18.3-6.9-24 1.2L51.5 357.9c-7.7 10.8-22.7 13.3-33.5 5.6s-13.3-22.7-5.6-33.5l11.1-15.6c23.7-33.2 72.3-35.6 99.2-4.9c21.3 24.4 20.8 60.9-1.1 84.7L86.8 432l33.2 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-88 0c-9.5 0-18.2-5.6-22-14.4s-2.1-18.9 4.3-25.9l72-78c5.3-5.8 5.4-14.6 .3-20.5zM224 64l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z|0 0 512 512",bNt="M64 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM64 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm48-208a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z|0 0 512 512",wNt="M200 32L56 32C42.7 32 32 42.7 32 56l0 144c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l40-40 79 79-79 79L73 295c-6.9-6.9-17.2-8.9-26.2-5.2S32 302.3 32 312l0 144c0 13.3 10.7 24 24 24l144 0c9.7 0 18.5-5.8 22.2-14.8s1.7-19.3-5.2-26.2l-40-40 79-79 79 79-40 40c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8l144 0c13.3 0 24-10.7 24-24l0-144c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2l-40 40-79-79 79-79 40 40c6.9 6.9 17.2 8.9 26.2 5.2s14.8-12.5 14.8-22.2l0-144c0-13.3-10.7-24-24-24L312 32c-9.7 0-18.5 5.8-22.2 14.8s-1.7 19.3 5.2 26.2l40 40-79 79-79-79 40-40c6.9-6.9 8.9-17.2 5.2-26.2S209.7 32 200 32z|0 0 512 512",xNt="M0 64C0 46.3 14.3 32 32 32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64zM192 192c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 96l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zM0 448c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32zM.2 268.6c-8.2-6.4-8.2-18.9 0-25.3l101.9-79.3c10.5-8.2 25.8-.7 25.8 12.6l0 158.6c0 13.3-15.3 20.8-25.8 12.6L.2 268.6z|0 0 448 512",SNt="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z|0 0 512 512",_Nt="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z|0 0 384 512",CNt="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z|0 0 448 512",kNt="M128 0C92.7 0 64 28.7 64 64l0 96 64 0 0-96 226.7 0L384 93.3l0 66.7 64 0 0-66.7c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0L128 0zM384 352l0 32 0 64-256 0 0-64 0-16 0-16 256 0zm64 32l32 0c17.7 0 32-14.3 32-32l0-96c0-35.3-28.7-64-64-64L64 192c-35.3 0-64 28.7-64 64l0 96c0 17.7 14.3 32 32 32l32 0 0 64c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-64zM432 248a24 24 0 1 1 0 48 24 24 0 1 1 0-48z|0 0 512 512",ENt="M448 296c0 66.3-53.7 120-120 120l-8 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l8 0c30.9 0 56-25.1 56-56l0-8-64 0c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l64 0c35.3 0 64 28.7 64 64l0 32 0 32 0 72zm-256 0c0 66.3-53.7 120-120 120l-8 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l8 0c30.9 0 56-25.1 56-56l0-8-64 0c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l64 0c35.3 0 64 28.7 64 64l0 32 0 32 0 72z|0 0 448 512",ANt="M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z|0 0 512 512",TNt="M48.5 224L40 224c-13.3 0-24-10.7-24-24L16 72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2L98.6 96.6c87.6-86.5 228.7-86.2 315.8 1c87.5 87.5 87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3c-62.2-62.2-162.7-62.5-225.3-1L185 183c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8L48.5 224z|0 0 512 512",MNt="M463.5 224l8.5 0c13.3 0 24-10.7 24-24l0-128c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8l119.5 0z|0 0 512 512",DNt="M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z|0 0 512 512",NNt="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM200 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z|0 0 448 512",ONt="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z|0 0 576 512",INt="M161.3 144c3.2-17.2 14-30.1 33.7-38.6c21.1-9 51.8-12.3 88.6-6.5c11.9 1.9 48.8 9.1 60.1 12c17.1 4.5 34.6-5.6 39.2-22.7s-5.6-34.6-22.7-39.2c-14.3-3.8-53.6-11.4-66.6-13.4c-44.7-7-88.3-4.2-123.7 10.9c-36.5 15.6-64.4 44.8-71.8 87.3c-.1 .6-.2 1.1-.2 1.7c-2.8 23.9 .5 45.6 10.1 64.6c4.5 9 10.2 16.9 16.7 23.9L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l448 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-209.9 0-.4-.1-1.1-.3c-36-10.8-65.2-19.6-85.2-33.1c-9.3-6.3-15-12.6-18.2-19.1c-3.1-6.1-5.2-14.6-3.8-27.4zM348.9 337.2c2.7 6.5 4.4 15.8 1.9 30.1c-3 17.6-13.8 30.8-33.9 39.4c-21.1 9-51.7 12.3-88.5 6.5c-18-2.9-49.1-13.5-74.4-22.1c-5.6-1.9-11-3.7-15.9-5.4c-16.8-5.6-34.9 3.5-40.5 20.3s3.5 34.9 20.3 40.5c3.6 1.2 7.9 2.7 12.7 4.3c0 0 0 0 0 0s0 0 0 0c24.9 8.5 63.6 21.7 87.6 25.6c0 0 0 0 0 0l.2 0c44.7 7 88.3 4.2 123.7-10.9c36.5-15.6 64.4-44.8 71.8-87.3c3.6-21 2.7-40.4-3.1-58.1l-75.7 0c7 5.6 11.4 11.2 13.9 17.2z|0 0 512 512",PNt="M32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l15.3 0 89.6 128L47.3 384 32 384c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0c10.4 0 20.2-5.1 26.2-13.6L176 311.8l85.8 122.6c6 8.6 15.8 13.6 26.2 13.6l32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-15.3 0L215.1 256l89.6-128 15.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0c-10.4 0-20.2 5.1-26.2 13.6L176 200.2 90.2 77.6C84.2 69.1 74.4 64 64 64L32 64zM480 320c0-11.1-5.7-21.4-15.2-27.2s-21.2-6.4-31.1-1.4l-32 16c-15.8 7.9-22.2 27.1-14.3 42.9C393 361.5 404.3 368 416 368l0 80c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-128z|0 0 512 512",RNt="M480 32c0-11.1-5.7-21.4-15.2-27.2s-21.2-6.4-31.1-1.4l-32 16c-15.8 7.9-22.2 27.1-14.3 42.9C393 73.5 404.3 80 416 80l0 80c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-128zM32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l15.3 0 89.6 128L47.3 384 32 384c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0c10.4 0 20.2-5.1 26.2-13.6L176 311.8l85.8 122.6c6 8.6 15.8 13.6 26.2 13.6l32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-15.3 0L215.1 256l89.6-128 15.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0c-10.4 0-20.2 5.1-26.2 13.6L176 200.2 90.2 77.6C84.2 69.1 74.4 64 64 64L32 64z|0 0 512 512",FNt="M0 32C0 14.3 14.3 0 32 0L160 0c17.7 0 32 14.3 32 32l0 384c0 53-43 96-96 96s-96-43-96-96L0 32zM223.6 425.9c.3-3.3 .4-6.6 .4-9.9l0-262 75.4-75.4c12.5-12.5 32.8-12.5 45.3 0l90.5 90.5c12.5 12.5 12.5 32.8 0 45.3L223.6 425.9zM182.8 512l192-192L480 320c17.7 0 32 14.3 32 32l0 128c0 17.7-14.3 32-32 32l-297.2 0zM128 64L64 64l0 64 64 0 0-64zM64 192l0 64 64 0 0-64-64 0zM96 440a24 24 0 1 0 0-48 24 24 0 1 0 0 48z|0 0 512 512",fne="M64 128l0-32 64 0 0 320-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-320 64 0 0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-48c0-26.5-21.5-48-48-48L160 32 48 32C21.5 32 0 53.5 0 80l0 48c0 17.7 14.3 32 32 32s32-14.3 32-32zM502.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-64 64c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l32 0 0 192-32 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8l-32 0 0-192 32 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-64-64z|0 0 576 512",QT="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z|0 0 512 512",LNt="M16 64c0-17.7 14.3-32 32-32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-16 0 0 128c0 53 43 96 96 96s96-43 96-96l0-128-16 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-16 0 0 128c0 88.4-71.6 160-160 160s-160-71.6-160-160L64 96 48 96C30.3 96 16 81.7 16 64zM0 448c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32z|0 0 448 512",$Nt="M288 109.3L288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-242.7-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352l128 0c0 35.3 28.7 64 64 64s64-28.7 64-64l128 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z|0 0 512 512",dne="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z|0 0 384 512",BNt={name:"svg-fontawesome-v6",type:{positive:I6,negative:QT,info:uNt,warning:dNt},arrow:{up:rne,right:iNt,down:nNt,left:rNt,dropdown:one},chevron:{left:lg,right:ug},colorPicker:{spectrum:hNt,tune:DNt,palette:FNt},pullToRefresh:{icon:ANt},carousel:{left:lg,right:ug,up:ane,down:JT,navigationIcon:sNt},chip:{remove:sne,selected:I6},datetime:{arrowLeft:lg,arrowRight:ug,now:ZDt,today:YDt},editor:{bold:aNt,italic:gNt,strikethrough:INt,underline:LNt,unorderedList:bNt,orderedList:yNt,subscript:PNt,superscript:RNt,hyperlink:vNt,toggleFullscreen:wNt,quote:ENt,left:nne,center:QDt,right:tNt,justify:eNt,print:kNt,outdent:xNt,indent:mNt,removeFormat:fNt,formatting:cne,fontSize:fne,align:nne,hr:JDt,undo:TNt,redo:MNt,heading:cne,code:lne,size:fne,font:pNt,viewSource:lne},expansionItem:{icon:JT,denseIcon:one},fab:{icon:CNt,activeIcon:dne},field:{clear:sne,error:lNt},pagination:{first:ine,prev:lg,next:ug,last:une},rating:{icon:ONt},stepper:{done:I6,active:SNt,error:QT},tabs:{left:lg,right:ug,up:ane,down:JT},table:{arrowUp:rne,warning:QT,firstPage:ine,prevPage:lg,nextPage:ug,lastPage:une},tree:{icon:_Nt},uploader:{done:I6,clear:dne,add:NNt,upload:$Nt,removeQueue:oNt,removeUploaded:cNt}};DJe().catch(t=>{Bs("Failed to initialize database:",t)});const vh=Aa(ket),R5e=SCe();R5e.use(T8e({enable:!0,initialize:!0}));vh.use(R5e);vh.use(AMt);const F5e=d4();$t("Loaded configStore.savedLanguage:",F5e.savedLanguage);$t("Initial i18n.global.locale.value:",k8.global.locale.value);vh.use(k8);We(()=>F5e.savedLanguage,t=>{$t("Language changed:",t),k8.global.locale.value=t,$t("i18n.global.locale.value after change:",k8.global.locale.value)},{immediate:!0});vh.use(J9t);WDt();vh.use(e9t,{defaultOverlay:{styles:{transition:"none"}}});vh.use(GDt,{plugins:{Notify:gme,Dialog:r7},lang:XDt,iconSet:BNt});vh.config.errorHandler=(t,e,n)=>{Bs("Global error:",t),Bs("Component:",e),Bs("Info:",n)};vh.config.warnHandler=(t,e,n)=>{V6("Global warning:",t),V6("Component:",e),V6("Trace:",n)};vh.mount("#q-app");export{sm as A,gi as B,Jwe as C,je as D,Dt as E,TN as F,Vct as G,$at as H,Ci as I,ict as J,AN as L,qNt as N,hge as P,Xl as T,sct as a,rOt as b,JNt as c,K4t as d,ta as e,yct as f,YNt as g,ZNt as h,Wve as i,QNt as j,iOt as k,Qe as l,Nl as m,Bn as n,IF as o,HNt as p,Zr as q,nu as r,Qut as s,Ye as t,Uve as u,vct as v,Ny as w,mp as x,Oy as y,d7 as z};
